webpackJsonp([0],[,,,,,,function(t,e){"use strict";e.__esModule=!0,e.default=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}},,,,function(t,e){t.exports=function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}},function(t,e,r){var n,o;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var o=typeof n;if("string"===o||"number"===o)t.push(n);else if(Array.isArray(n))t.push(r.apply(null,n));else if("object"===o)for(var a in n)i.call(n,a)&&n[a]&&t.push(a)}}return t.join(" ")}var i={}.hasOwnProperty;"undefined"!=typeof t&&t.exports?t.exports=r:(n=[],o=function(){return r}.apply(e,n),!(void 0!==o&&(t.exports=o)))}()},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];var o=r[r.length-1];return"function"==typeof o?t.apply(void 0,r):function(e){return t.apply(void 0,r.concat([e]))}}}function i(t,e){return null==t.bsClass?(0,v.default)(!1):void 0,t.bsClass+(e?"-"+e:"")}function a(t){var e,r=(e={},e[i(t)]=!0,e);if(t.bsSize){var n=b.SIZE_MAP[t.bsSize]||t.bsSize;r[i(t,n)]=!0}return t.bsStyle&&(r[i(t,t.bsStyle)]=!0),r}function s(t){return{bsClass:t.bsClass,bsSize:t.bsSize,bsStyle:t.bsStyle,bsRole:t.bsRole}}function l(t){return"bsClass"===t||"bsSize"===t||"bsStyle"===t||"bsRole"===t}function u(t){var e={};return(0,h.default)(t).forEach(function(t){var r=t[0],n=t[1];l(r)||(e[r]=n)}),[s(t),e]}function c(t,e){var r={};e.forEach(function(t){r[t]=!0});var n={};return(0,h.default)(t).forEach(function(t){var e=t[0],o=t[1];l(e)||r[e]||(n[e]=o)}),[s(t),n]}function p(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];x(r,t)}e.__esModule=!0,e._curry=e.bsSizes=e.bsStyles=e.bsClass=void 0;var f=r(316),h=n(f),d=r(5),y=n(d);e.prefix=i,e.getClassSet=a,e.splitBsProps=u,e.splitBsPropsAndOmit=c,e.addStyle=p;var m=r(31),v=n(m),g=r(1),b=r(38),x=(e.bsClass=o(function(t,e){var r=e.propTypes||(e.propTypes={}),n=e.defaultProps||(e.defaultProps={});return r.bsClass=g.PropTypes.string,n.bsClass=t,e}),e.bsStyles=o(function(t,e,r){"string"!=typeof e&&(r=e,e=void 0);var n=r.STYLES||[],o=r.propTypes||{};t.forEach(function(t){n.indexOf(t)===-1&&n.push(t)});var i=g.PropTypes.oneOf(n);if(r.STYLES=i._values=n,r.propTypes=(0,y.default)({},o,{bsStyle:i}),void 0!==e){var a=r.defaultProps||(r.defaultProps={});a.bsStyle=e}return r}));e.bsSizes=o(function(t,e,r){"string"!=typeof e&&(r=e,e=void 0);var n=r.SIZES||[],o=r.propTypes||{};t.forEach(function(t){n.indexOf(t)===-1&&n.push(t)});var i=[];n.forEach(function(t){var e=b.SIZE_MAP[t];e&&e!==t&&i.push(e),i.push(t)});var a=g.PropTypes.oneOf(i);return a._values=i,r.SIZES=n,r.propTypes=(0,y.default)({},o,{bsSize:a}),void 0!==e&&(r.defaultProps||(r.defaultProps={}),r.defaultProps.bsSize=e),r}),e._curry=o},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(963),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(1258),i=n(o),a=r(116),s=n(a),l=r(500),u=n(l),c=(0,i.default)(function(t,e){return!(0,s.default)(t,e)});e.default=(0,u.default)(c,"pure",!0,!0)},,,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={easeOutFunction:"cubic-bezier(0.23, 1, 0.32, 1)",easeInOutFunction:"cubic-bezier(0.445, 0.05, 0.55, 0.95)",easeOut:function(t,e,r,n){if(n=n||this.easeOutFunction,e&&"[object Array]"===Object.prototype.toString.call(e)){for(var o="",i=0;i<e.length;i++)o&&(o+=","),o+=this.create(t,e[i],r,n);return o}return this.create(t,e,r,n)},create:function(t,e,r,n){return t=t||"450ms",e=e||"all",r=r||"0ms",n=n||"linear",e+" "+t+" "+n+" "+r}}},,,,,,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r,n,o){var a=t[e],l="undefined"==typeof a?"undefined":i(a);return s.default.isValidElement(a)?new Error("Invalid "+n+" `"+o+"` of type ReactElement "+("supplied to `"+r+"`, expected an element type (a string ")+"or a ReactClass)."):"function"!==l&&"string"!==l?new Error("Invalid "+n+" `"+o+"` of value `"+a+"` "+("supplied to `"+r+"`, expected an element type (a string ")+"or a ReactClass)."):null}e.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=r(1),s=n(a),l=r(204),u=n(l);e.default=(0,u.default)(o)},,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(949),i=n(o);e.default=i.default},,,,,,,,,function(t,e){"use strict";function r(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.filter(function(t){return null!=t}).reduce(function(t,e){if("function"!=typeof e)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===t?e:function(){for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];t.apply(this,n),e.apply(this,n)}},null)}e.__esModule=!0,e.default=r,t.exports=e.default},,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.PLATFORM_SECTION_ACCOUNT_MANAGEMENT="PLATFORM_SECTION_ACCOUNT_MANAGEMENT",e.PLATFORM_SECTION_EXPERIENCE_MANAGEMENT="PLATFORM_SECTION_EXPERIENCE_MANAGEMENT",e.PLATFORM_SECTION_MONITOR="PLATFORM_SECTION_MONITOR",e.PLATFORM_SECTION_SEARCH_DATASETS="PLATFORM_SECTION_SEARCH_DATASETS",e.PLATFORM_SECTION_WORKFLOWS="PLATFORM_SECTION_WORKFLOWS",e.PLATFORM_SET_SECTION="PLATFORM_SET_SECTION",e.VISUALIZE_SET_MAP_MANIPULATION_MODE="Visualize.VISUALIZE_SET_MAP_MANIPULATION_MODE",e.VISUALIZE_MODE_VISUALIZE="MapControls.MODE_VISUALIZE",e.VISUALIZE_MODE_GRAPHS="MapControls.MODE_GRAPHS",e.VISUALIZE_MODE_JOB_MANAGEMENT="MapControls.MODE_REGION_SELECTION",e.VISUALIZE_CHART_PANEL="CHART_PANEL",e.VISUALIZE_LAYER_SWITCHER_PANEL="LAYER_SWITCHER_PANEL",e.VISUALIZE_INFO_PANEL="INFO_PANEL",e.VISUALIZE_MAP_CONTROLS_PANEL="MAP_CONTROLS_PANEL",e.VISUALIZE_TIME_SLIDER_PANEL="TIME_SLIDER_PANEL",e.MONITOR_SET_JOBS="MONITOR_SET_JOBS",e.JOB_FAILED_STATUS="ProcessFailed",e.JOB_SUCCESS_STATUS="ProcessSucceeded",e.JOB_STARTED_STATUS="ProcessStarted",e.WORKFLOW_CHOOSE_PROCESS="WORKFLOW_CHOOSE_PROCESS",e.WORKFLOW_SET_PROCESSES="WORKFLOW_SET_PROCESSES",e.WORKFLOW_SET_PROVIDERS="WORKFLOW_SET_PROVIDERS",e.WORKFLOW_CHANGE_STEP="WORKFLOW_CHANGE_STEP",e.WORKFLOW_GET_LAST_STEP="WORKFLOW_GET_LAST_STEP",e.WORKFLOW_GET_NEXT_STEP="WORKFLOW_GET_NEXT_STEP",e.WORKFLOW_STEP_PROCESS="WORKFLOW_STEP_PROCESS",e.WORKFLOW_STEP_INPUTS="WORKFLOW_STEP_INPUTS",e.WORKFLOW_STEP_RUN="WORKFLOW_STEP_RUN",e.WORKFLOW_SET_WPS_PROVIDER="WORKFLOW_SET_WPS_PROVIDER",e.WORKFLOW_SET_ACTIVE_PROCESS_INPUTS="WORKFLOW_SET_ACTIVE_PROCESS_INPUTS",e.WORKFLOW_SET_ACTIVE_PROCESS_VALUES="WORKFLOW_SET_ACTIVE_PROCESS_VALUES",e.PANEL_SEARCH_CATALOG="Visualize.SearchCatalog",e.PANEL_DATASET_DETAILS="Visualize.DatasetDetails",e.PANEL_DATASET_WMS_LAYERS="Visualize.DatasetWMSLayers",e.PANEL_CLIMATE_INDICATORS="Visualize.ClimateIndicators",e.PANEL_PLOTLY="Visualize.Plotly",e.DEFAULT_SELECTED_KEY="frequency",e.PER_PAGE_OPTIONS=[5,10,25],e.PER_PAGE_INITIAL_INDEX=0},,function(t,e){"use strict";e.__esModule=!0;e.Size={LARGE:"large",SMALL:"small",XSMALL:"xsmall"},e.SIZE_MAP={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"},e.DEVICE_SIZES=["lg","md","sm","xs"],e.State={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"},e.Style={DEFAULT:"default",PRIMARY:"primary",LINK:"link",INVERSE:"inverse"}},function(t,e){e=t.exports=function(t){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"==typeof t)return i[t];var o=String(t),a=r[o.toLowerCase()];if(a)return a;var a=n[o.toLowerCase()];return a?a:1===o.length?o.charCodeAt(0):void 0};var r=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},n=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
	 * Programatically add the following
	 */
for(o=97;o<123;o++)r[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)r[o-48]=o;for(o=1;o<13;o++)r["f"+o]=o+111;for(o=0;o<10;o++)r["numpad "+o]=o+96;var i=e.names=e.title={};for(o in r)i[r[o]]=o;for(var a in n)r[a]=n[a]},,,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(943),i=n(o);e.default=i.default},60,,,,,,,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){var n=0;return h.default.Children.map(t,function(t){return h.default.isValidElement(t)?e.call(r,t,n++):t})}function i(t,e,r){var n=0;h.default.Children.forEach(t,function(t){h.default.isValidElement(t)&&e.call(r,t,n++)})}function a(t){var e=0;return h.default.Children.forEach(t,function(t){h.default.isValidElement(t)&&++e}),e}function s(t,e,r){var n=0,o=[];return h.default.Children.forEach(t,function(t){h.default.isValidElement(t)&&e.call(r,t,n++)&&o.push(t)}),o}function l(t,e,r){var n=0,o=void 0;return h.default.Children.forEach(t,function(t){o||h.default.isValidElement(t)&&e.call(r,t,n++)&&(o=t)}),o}function u(t,e,r){var n=0,o=!0;return h.default.Children.forEach(t,function(t){o&&h.default.isValidElement(t)&&(e.call(r,t,n++)||(o=!1))}),o}function c(t,e,r){var n=0,o=!1;return h.default.Children.forEach(t,function(t){o||h.default.isValidElement(t)&&e.call(r,t,n++)&&(o=!0)}),o}function p(t){var e=[];return h.default.Children.forEach(t,function(t){h.default.isValidElement(t)&&e.push(t)}),e}e.__esModule=!0;var f=r(1),h=n(f);e.default={map:o,forEach:i,count:a,find:l,filter:s,every:u,some:c,toArray:p},t.exports=e.default},,,,,,,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(){if(!O){var t=document.createElement("style");t.innerHTML="\n      button::-moz-focus-inner,\n      input::-moz-focus-inner {\n        border: 0;\n        padding: 0;\n      }\n    ",document.body.appendChild(t),O=!0}}function i(){I||(E.default.on(window,"keydown",function(t){R="tab"===(0,C.default)(t)}),I=!0)}Object.defineProperty(e,"__esModule",{value:!0});var a=r(5),s=n(a),l=r(6),u=n(l),c=r(8),p=n(c),f=r(2),h=n(f),d=r(7),y=n(d),m=r(4),v=n(m),g=r(3),b=n(g),x=r(10),_=n(x),w=r(1),T=n(w),M=r(158),S=r(191),E=n(S),k=r(39),C=n(k),A=r(275),P=n(A),L=r(419),D=n(L),O=!1,I=!1,R=!1,N=function(t){function e(){var t,r,n,o;(0,h.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,v.default)(this,(t=e.__proto__||(0,p.default)(e)).call.apply(t,[this].concat(a))),n.state={isKeyboardFocused:!1},n.handleKeyDown=function(t){n.props.disabled||n.props.disableKeyboardFocus||("enter"===(0,C.default)(t)&&n.state.isKeyboardFocused&&n.handleTouchTap(t),"esc"===(0,C.default)(t)&&n.state.isKeyboardFocused&&n.removeKeyboardFocus(t)),n.props.onKeyDown(t)},n.handleKeyUp=function(t){n.props.disabled||n.props.disableKeyboardFocus||"space"===(0,C.default)(t)&&n.state.isKeyboardFocused&&n.handleTouchTap(t),n.props.onKeyUp(t)},n.handleBlur=function(t){n.cancelFocusTimeout(),n.removeKeyboardFocus(t),n.props.onBlur(t)},n.handleFocus=function(t){t&&t.persist(),n.props.disabled||n.props.disableKeyboardFocus||(n.focusTimeout=setTimeout(function(){R&&(n.setKeyboardFocus(t),R=!1)},150),n.props.onFocus(t))},n.handleClick=function(t){n.props.disabled||(R=!1,n.props.onClick(t))},n.handleTouchTap=function(t){n.cancelFocusTimeout(),n.props.disabled||(R=!1,n.removeKeyboardFocus(t),n.props.onTouchTap(t))},o=r,(0,v.default)(n,o)}return(0,b.default)(e,t),(0,y.default)(e,[{key:"componentWillMount",value:function(){var t=this.props,e=t.disabled,r=t.disableKeyboardFocus,n=t.keyboardFocused;e||!n||r||this.setState({isKeyboardFocused:!0})}},{key:"componentDidMount",value:function(){o(),i(),this.state.isKeyboardFocused&&(this.refs.enhancedButton.focus(),this.props.onKeyboardFocus(null,!0))}},{key:"componentWillReceiveProps",value:function(t){(t.disabled||t.disableKeyboardFocus)&&this.state.isKeyboardFocused&&(this.setState({isKeyboardFocused:!1}),t.onKeyboardFocus&&t.onKeyboardFocus(null,!1))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.focusTimeout)}},{key:"isKeyboardFocused",value:function(){return this.state.isKeyboardFocused}},{key:"removeKeyboardFocus",value:function(t){this.state.isKeyboardFocused&&(this.setState({isKeyboardFocused:!1}),this.props.onKeyboardFocus(t,!1))}},{key:"setKeyboardFocus",value:function(t){this.state.isKeyboardFocused||(this.setState({isKeyboardFocused:!0}),this.props.onKeyboardFocus(t,!0))}},{key:"cancelFocusTimeout",value:function(){this.focusTimeout&&(clearTimeout(this.focusTimeout),this.focusTimeout=null)}},{key:"createButtonChildren",value:function(){var t=this.props,e=t.centerRipple,r=t.children,n=t.disabled,o=t.disableFocusRipple,i=t.disableKeyboardFocus,a=t.disableTouchRipple,s=t.focusRippleColor,l=t.focusRippleOpacity,u=t.touchRippleColor,c=t.touchRippleOpacity,p=this.state.isKeyboardFocused,f=!p||n||o||i?void 0:T.default.createElement(P.default,{color:s,opacity:l,show:p}),h=n||a?void 0:T.default.createElement(D.default,{centerRipple:e,color:u,opacity:c},r);return(0,M.createChildFragment)({focusRipple:f,touchRipple:h,children:h?void 0:r})}},{key:"render",value:function(){var t=this.props,e=(t.centerRipple,t.children),r=t.containerElement,n=t.disabled,o=(t.disableFocusRipple,t.disableKeyboardFocus),i=(t.disableTouchRipple,t.focusRippleColor,t.focusRippleOpacity,t.href),a=(t.keyboardFocused,t.touchRippleColor,t.touchRippleOpacity,t.onBlur,t.onClick,t.onFocus,t.onKeyUp,t.onKeyDown,t.onKeyboardFocus,t.onTouchTap,t.style),l=t.tabIndex,c=t.type,p=(0,u.default)(t,["centerRipple","children","containerElement","disabled","disableFocusRipple","disableKeyboardFocus","disableTouchRipple","focusRippleColor","focusRippleOpacity","href","keyboardFocused","touchRippleColor","touchRippleOpacity","onBlur","onClick","onFocus","onKeyUp","onKeyDown","onKeyboardFocus","onTouchTap","style","tabIndex","type"]),f=this.context.muiTheme,h=f.prepareStyles,d=f.enhancedButton,y=(0,_.default)({border:10,boxSizing:"border-box",display:"inline-block",fontFamily:this.context.muiTheme.baseTheme.fontFamily,WebkitTapHighlightColor:d.tapHighlightColor,cursor:n?"default":"pointer",textDecoration:"none",margin:0,padding:0,outline:"none",fontSize:"inherit",fontWeight:"inherit",position:"relative",verticalAlign:i?"middle":null},a);if(y.backgroundColor||y.background||(y.background="none"),n&&i)return T.default.createElement("span",(0,s.default)({},p,{style:y}),e);var m=(0,s.default)({},p,{style:h(y),ref:"enhancedButton",disabled:n,href:i,onBlur:this.handleBlur,onClick:this.handleClick,onFocus:this.handleFocus,onKeyUp:this.handleKeyUp,onKeyDown:this.handleKeyDown,onTouchTap:this.handleTouchTap,tabIndex:n||o?-1:l}),v=this.createButtonChildren();return T.default.isValidElement(r)?T.default.cloneElement(r,m,v):(i||"button"!==r||(m.type=c),T.default.createElement(i?"a":r,m,v))}}]),e}(w.Component);N.defaultProps={containerElement:"button",onBlur:function(){},onClick:function(){},onFocus:function(){},onKeyDown:function(){},onKeyUp:function(){},onKeyboardFocus:function(){},onTouchTap:function(){},tabIndex:0,type:"button"},N.contextTypes={muiTheme:w.PropTypes.object.isRequired},e.default=N},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=n.PropTypes.oneOf(["left","middle","right"]),i=n.PropTypes.oneOf(["top","center","bottom"]);e.default={corners:n.PropTypes.oneOf(["bottom-left","bottom-right","top-left","top-right"]),horizontal:o,vertical:i,origin:n.PropTypes.shape({horizontal:o,vertical:i}),cornersAndCenter:n.PropTypes.oneOf(["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"]),stringOrNumber:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.number]),zDepth:n.PropTypes.oneOf([0,1,2,3,4,5])}},,,,,,,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){return!t||"#"===t.trim()}e.__esModule=!0;var i=r(5),a=n(i),s=r(6),l=n(s),u=r(2),c=n(u),p=r(4),f=n(p),h=r(3),d=n(h),y=r(1),m=n(y),v=r(23),g=n(v),b={href:m.default.PropTypes.string,onClick:m.default.PropTypes.func,disabled:m.default.PropTypes.bool,role:m.default.PropTypes.string,tabIndex:m.default.PropTypes.oneOfType([m.default.PropTypes.number,m.default.PropTypes.string]),componentClass:g.default},x={componentClass:"a"},_=function(t){function e(r,n){(0,c.default)(this,e);var o=(0,f.default)(this,t.call(this,r,n));return o.handleClick=o.handleClick.bind(o),o}return(0,d.default)(e,t),e.prototype.handleClick=function(t){var e=this.props,r=e.disabled,n=e.href,i=e.onClick;return(r||o(n))&&t.preventDefault(),r?void t.stopPropagation():void(i&&i(t))},e.prototype.render=function(){var t=this.props,e=t.componentClass,r=t.disabled,n=(0,l.default)(t,["componentClass","disabled"]);return o(n.href)&&(n.role=n.role||"button",n.href=n.href||"#"),r&&(n.tabIndex=-1,n.style=(0,a.default)({pointerEvents:"none"},n.style)),m.default.createElement(e,(0,a.default)({},n,{onClick:this.handleClick}))},e}(m.default.Component);_.propTypes=b,_.defaultProps=x,e.default=_,t.exports=e.default},60,,,,,,,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){return r?[t,e]:t},t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(953),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.utils=e.Well=e.Tooltip=e.Thumbnail=e.Tabs=e.TabPane=e.Table=e.TabContent=e.TabContainer=e.Tab=e.SplitButton=e.SafeAnchor=e.Row=e.ResponsiveEmbed=e.Radio=e.ProgressBar=e.Popover=e.PanelGroup=e.Panel=e.Pagination=e.Pager=e.PageItem=e.PageHeader=e.OverlayTrigger=e.Overlay=e.NavItem=e.NavDropdown=e.NavbarBrand=e.Navbar=e.Nav=e.ModalTitle=e.ModalHeader=e.ModalFooter=e.ModalBody=e.Modal=e.MenuItem=e.Media=e.ListGroupItem=e.ListGroup=e.Label=e.Jumbotron=e.InputGroup=e.Image=e.HelpBlock=e.Grid=e.Glyphicon=e.FormGroup=e.FormControl=e.Form=e.Fade=e.DropdownButton=e.Dropdown=e.Collapse=e.Col=e.ControlLabel=e.Clearfix=e.Checkbox=e.CarouselItem=e.Carousel=e.ButtonToolbar=e.ButtonGroup=e.Button=e.BreadcrumbItem=e.Breadcrumb=e.Badge=e.Alert=e.Accordion=void 0;var i=r(1069),a=o(i),s=r(1070),l=o(s),u=r(1071),c=o(u),p=r(1072),f=o(p),h=r(440),d=o(h),y=r(160),m=o(y),v=r(441),g=o(v),b=r(1073),x=o(b),_=r(1074),w=o(_),T=r(442),M=o(T),S=r(1076),E=o(S),k=r(1077),C=o(k),A=r(1079),P=o(A),L=r(1078),D=o(L),O=r(277),I=o(O),R=r(193),N=o(R),j=r(1080),F=o(j),z=r(194),B=o(z),U=r(1082),V=o(U),H=r(1083),W=o(H),q=r(1086),G=o(q),Y=r(278),X=o(Y),K=r(444),Z=o(K),J=r(1087),$=o(J),Q=r(1088),tt=o(Q),et=r(1089),rt=o(et),nt=r(1092),ot=o(nt),it=r(1093),at=o(it),st=r(1094),lt=o(st),ut=r(445),ct=o(ut),pt=r(279),ft=o(pt),ht=r(1101),dt=o(ht),yt=r(1102),mt=o(yt),vt=r(446),gt=o(vt),bt=r(447),xt=o(bt),_t=r(448),wt=o(_t),Tt=r(449),Mt=o(Tt),St=r(450),Et=o(St),kt=r(1105),Ct=o(kt),At=r(452),Pt=o(At),Lt=r(1104),Dt=o(Lt),Ot=r(451),It=o(Ot),Rt=r(453),Nt=o(Rt),jt=r(1109),Ft=o(jt),zt=r(1110),Bt=o(zt),Ut=r(1111),Vt=o(Ut),Ht=r(1112),Wt=o(Ht),qt=r(1113),Gt=o(qt),Yt=r(1115),Xt=o(Yt),Kt=r(455),Zt=o(Kt),Jt=r(1116),$t=o(Jt),Qt=r(1117),te=o(Qt),ee=r(1118),re=o(ee),ne=r(1119),oe=o(ne),ie=r(1120),ae=o(ie),se=r(65),le=o(se),ue=r(1121),ce=o(ue),pe=r(1123),fe=o(pe),he=r(280),de=o(he),ye=r(281),me=o(ye),ve=r(1124),ge=o(ve),be=r(456),xe=o(be),_e=r(1125),we=o(_e),Te=r(1126),Me=o(Te),Se=r(1127),Ee=o(Se),ke=r(1128),Ce=o(ke),Ae=r(1132),Pe=n(Ae);e.Accordion=a.default,e.Alert=l.default,e.Badge=c.default,e.Breadcrumb=f.default,e.BreadcrumbItem=d.default,e.Button=m.default,e.ButtonGroup=g.default,e.ButtonToolbar=x.default,e.Carousel=w.default,e.CarouselItem=M.default,e.Checkbox=E.default,e.Clearfix=C.default,e.ControlLabel=P.default,e.Col=D.default,e.Collapse=I.default,e.Dropdown=N.default,e.DropdownButton=F.default,e.Fade=B.default,e.Form=V.default,e.FormControl=W.default,e.FormGroup=G.default,e.Glyphicon=X.default,e.Grid=Z.default,e.HelpBlock=$.default,e.Image=tt.default,e.InputGroup=rt.default,e.Jumbotron=ot.default,e.Label=at.default,e.ListGroup=lt.default,e.ListGroupItem=ct.default,e.Media=ft.default,e.MenuItem=dt.default,e.Modal=mt.default,e.ModalBody=gt.default,e.ModalFooter=xt.default,e.ModalHeader=wt.default,e.ModalTitle=Mt.default,e.Nav=Et.default,e.Navbar=Ct.default,e.NavbarBrand=Pt.default,e.NavDropdown=Dt.default,e.NavItem=It.default,e.Overlay=Nt.default,e.OverlayTrigger=Ft.default,e.PageHeader=Bt.default,e.PageItem=Vt.default,e.Pager=Wt.default,e.Pagination=Gt.default,e.Panel=Xt.default,e.PanelGroup=Zt.default,e.Popover=$t.default,e.ProgressBar=te.default,e.Radio=re.default,e.ResponsiveEmbed=oe.default,e.Row=ae.default,e.SafeAnchor=le.default,e.SplitButton=ce.default,e.Tab=fe.default,e.TabContainer=de.default,e.TabContent=me.default,e.Table=ge.default,e.TabPane=xe.default,e.Tabs=we.default,e.Thumbnail=Me.default,e.Tooltip=Ee.default,e.Well=Ce.default,e.utils=Pe},,function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}function i(t){return(0,C.default)({},R,t)}function a(t,e,r){var n=[t,e];return n.push(I.passiveOption?r:r.capture),n}function s(t,e,r,n){I.addEventListener?t.addEventListener.apply(t,a(e,r,n)):I.attachEvent&&t.attachEvent("on"+e,function(){r.call(t)})}function l(t,e,r,n){I.removeEventListener?t.removeEventListener.apply(t,a(e,r,n)):I.detachEvent&&t.detachEvent("on"+e,r)}function u(t,e){var r=(t.children,t.target,(0,E.default)(t,["children","target"]));(0,M.default)(r).forEach(function(t){if("on"===t.substring(0,2)){var n=r[t],o="undefined"==typeof n?"undefined":(0,w.default)(n),a="object"===o,s="function"===o;if(a||s){var l="capture"===t.substr(-7).toLowerCase(),u=t.substring(2).toLowerCase();u=l?u.substring(0,u.length-7):u,a?e(u,n.handler,n.options):e(u,n,i({capture:l}))}}})}function c(t,e){return{handler:t,options:i(e)}}Object.defineProperty(e,"__esModule",{value:!0});var p=r(8),f=o(p),h=r(2),d=o(h),y=r(7),m=o(y),v=r(4),g=o(v),b=r(3),x=o(b),_=r(68),w=o(_),T=r(117),M=o(T),S=r(6),E=o(S),k=r(143),C=o(k);e.withOptions=c;var A=r(1),P=(o(A),r(1068)),L=o(P),D=r(1200),O=(o(D),r(1199)),I=n(O),R={capture:!1,passive:!1},N={},j=function(t){function e(){return(0,d.default)(this,e),(0,g.default)(this,(e.__proto__||(0,f.default)(e)).apply(this,arguments))}return(0,x.default)(e,t),(0,m.default)(e,[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"shouldComponentUpdate",value:function(t){return(0,L.default)({props:this.props,state:N},t,N)}},{key:"componentWillUpdate",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"addListeners",value:function(){this.applyListeners(s)}},{key:"removeListeners",value:function(){this.applyListeners(l)}},{key:"applyListeners",value:function(t){var e=this.props.target;if(e){var r=e;"string"==typeof e&&(r=window[e]),u(this.props,t.bind(null,r))}}},{key:"render",value:function(){return this.props.children||null}}]),e}(A.Component);e.default=j},,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(213),i=n(o);e.default=function(t,e,r){return e in t?(0,i.default)(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},,,,,,,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=!("undefined"==typeof window||!window.document||!window.document.createElement),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.makeSelectable=e.ListItem=e.List=void 0;var o=r(267),i=n(o),a=r(268),s=n(a),l=r(395),u=n(l);e.List=i.default,e.ListItem=s.default,e.makeSelectable=u.default,e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(269),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(962),i=n(o);e.default=i.default},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.red50="#ffebee",e.red100="#ffcdd2",e.red200="#ef9a9a",e.red300="#e57373",e.red400="#ef5350",e.red500="#f44336",e.red600="#e53935",e.red700="#d32f2f",e.red800="#c62828",e.red900="#b71c1c",e.redA100="#ff8a80",e.redA200="#ff5252",e.redA400="#ff1744",e.redA700="#d50000",e.pink50="#fce4ec",e.pink100="#f8bbd0",e.pink200="#f48fb1",e.pink300="#f06292",e.pink400="#ec407a",e.pink500="#e91e63",e.pink600="#d81b60",e.pink700="#c2185b",e.pink800="#ad1457",e.pink900="#880e4f",e.pinkA100="#ff80ab",e.pinkA200="#ff4081",e.pinkA400="#f50057",e.pinkA700="#c51162",e.purple50="#f3e5f5",e.purple100="#e1bee7",e.purple200="#ce93d8",e.purple300="#ba68c8",e.purple400="#ab47bc",e.purple500="#9c27b0",e.purple600="#8e24aa",e.purple700="#7b1fa2",e.purple800="#6a1b9a",e.purple900="#4a148c",e.purpleA100="#ea80fc",e.purpleA200="#e040fb",e.purpleA400="#d500f9",e.purpleA700="#aa00ff",e.deepPurple50="#ede7f6",e.deepPurple100="#d1c4e9",e.deepPurple200="#b39ddb",e.deepPurple300="#9575cd",e.deepPurple400="#7e57c2",e.deepPurple500="#673ab7",e.deepPurple600="#5e35b1",e.deepPurple700="#512da8",e.deepPurple800="#4527a0",e.deepPurple900="#311b92",e.deepPurpleA100="#b388ff",e.deepPurpleA200="#7c4dff",e.deepPurpleA400="#651fff",e.deepPurpleA700="#6200ea",e.indigo50="#e8eaf6",e.indigo100="#c5cae9",e.indigo200="#9fa8da",e.indigo300="#7986cb",e.indigo400="#5c6bc0",e.indigo500="#3f51b5",e.indigo600="#3949ab",e.indigo700="#303f9f",e.indigo800="#283593",e.indigo900="#1a237e",e.indigoA100="#8c9eff",e.indigoA200="#536dfe",e.indigoA400="#3d5afe",e.indigoA700="#304ffe",e.blue50="#e3f2fd",e.blue100="#bbdefb",e.blue200="#90caf9",e.blue300="#64b5f6",e.blue400="#42a5f5",e.blue500="#2196f3",e.blue600="#1e88e5",e.blue700="#1976d2",e.blue800="#1565c0",e.blue900="#0d47a1",e.blueA100="#82b1ff",e.blueA200="#448aff",e.blueA400="#2979ff",e.blueA700="#2962ff",e.lightBlue50="#e1f5fe",e.lightBlue100="#b3e5fc",e.lightBlue200="#81d4fa",e.lightBlue300="#4fc3f7",e.lightBlue400="#29b6f6",e.lightBlue500="#03a9f4",e.lightBlue600="#039be5",e.lightBlue700="#0288d1",e.lightBlue800="#0277bd",e.lightBlue900="#01579b",e.lightBlueA100="#80d8ff",e.lightBlueA200="#40c4ff",e.lightBlueA400="#00b0ff",e.lightBlueA700="#0091ea",e.cyan50="#e0f7fa",e.cyan100="#b2ebf2",e.cyan200="#80deea",e.cyan300="#4dd0e1",e.cyan400="#26c6da",e.cyan500="#00bcd4",e.cyan600="#00acc1",e.cyan700="#0097a7",e.cyan800="#00838f",e.cyan900="#006064",e.cyanA100="#84ffff",e.cyanA200="#18ffff",e.cyanA400="#00e5ff",e.cyanA700="#00b8d4",e.teal50="#e0f2f1",e.teal100="#b2dfdb",e.teal200="#80cbc4",e.teal300="#4db6ac",e.teal400="#26a69a",e.teal500="#009688",e.teal600="#00897b",e.teal700="#00796b",e.teal800="#00695c",e.teal900="#004d40",e.tealA100="#a7ffeb",e.tealA200="#64ffda",e.tealA400="#1de9b6",e.tealA700="#00bfa5",e.green50="#e8f5e9",e.green100="#c8e6c9",e.green200="#a5d6a7",e.green300="#81c784",e.green400="#66bb6a",e.green500="#4caf50",e.green600="#43a047",e.green700="#388e3c",e.green800="#2e7d32",e.green900="#1b5e20",e.greenA100="#b9f6ca",e.greenA200="#69f0ae",e.greenA400="#00e676",e.greenA700="#00c853",e.lightGreen50="#f1f8e9",e.lightGreen100="#dcedc8",e.lightGreen200="#c5e1a5",e.lightGreen300="#aed581",e.lightGreen400="#9ccc65",e.lightGreen500="#8bc34a",e.lightGreen600="#7cb342",e.lightGreen700="#689f38",e.lightGreen800="#558b2f",e.lightGreen900="#33691e",e.lightGreenA100="#ccff90",e.lightGreenA200="#b2ff59",e.lightGreenA400="#76ff03",e.lightGreenA700="#64dd17",e.lime50="#f9fbe7",e.lime100="#f0f4c3",e.lime200="#e6ee9c",e.lime300="#dce775",e.lime400="#d4e157",e.lime500="#cddc39",e.lime600="#c0ca33",e.lime700="#afb42b",e.lime800="#9e9d24",e.lime900="#827717",e.limeA100="#f4ff81",e.limeA200="#eeff41",e.limeA400="#c6ff00",e.limeA700="#aeea00",e.yellow50="#fffde7",e.yellow100="#fff9c4",e.yellow200="#fff59d",e.yellow300="#fff176",e.yellow400="#ffee58",e.yellow500="#ffeb3b",e.yellow600="#fdd835",e.yellow700="#fbc02d",e.yellow800="#f9a825",e.yellow900="#f57f17",e.yellowA100="#ffff8d",e.yellowA200="#ffff00",e.yellowA400="#ffea00",e.yellowA700="#ffd600",e.amber50="#fff8e1",e.amber100="#ffecb3",e.amber200="#ffe082",e.amber300="#ffd54f",e.amber400="#ffca28",e.amber500="#ffc107",e.amber600="#ffb300",e.amber700="#ffa000",e.amber800="#ff8f00",e.amber900="#ff6f00",e.amberA100="#ffe57f",e.amberA200="#ffd740",e.amberA400="#ffc400",e.amberA700="#ffab00",e.orange50="#fff3e0",e.orange100="#ffe0b2",e.orange200="#ffcc80",e.orange300="#ffb74d",e.orange400="#ffa726",e.orange500="#ff9800",e.orange600="#fb8c00",e.orange700="#f57c00",e.orange800="#ef6c00",e.orange900="#e65100",e.orangeA100="#ffd180",e.orangeA200="#ffab40",e.orangeA400="#ff9100",e.orangeA700="#ff6d00",e.deepOrange50="#fbe9e7",e.deepOrange100="#ffccbc",e.deepOrange200="#ffab91",e.deepOrange300="#ff8a65",e.deepOrange400="#ff7043",e.deepOrange500="#ff5722",e.deepOrange600="#f4511e",e.deepOrange700="#e64a19",e.deepOrange800="#d84315",e.deepOrange900="#bf360c",e.deepOrangeA100="#ff9e80",e.deepOrangeA200="#ff6e40",e.deepOrangeA400="#ff3d00",e.deepOrangeA700="#dd2c00",e.brown50="#efebe9",e.brown100="#d7ccc8",e.brown200="#bcaaa4",e.brown300="#a1887f",e.brown400="#8d6e63",e.brown500="#795548",e.brown600="#6d4c41",e.brown700="#5d4037",e.brown800="#4e342e",e.brown900="#3e2723",e.blueGrey50="#eceff1",e.blueGrey100="#cfd8dc",e.blueGrey200="#b0bec5",e.blueGrey300="#90a4ae",e.blueGrey400="#78909c",e.blueGrey500="#607d8b",e.blueGrey600="#546e7a",e.blueGrey700="#455a64",e.blueGrey800="#37474f",e.blueGrey900="#263238",e.grey50="#fafafa",e.grey100="#f5f5f5",e.grey200="#eeeeee",e.grey300="#e0e0e0",e.grey400="#bdbdbd",e.grey500="#9e9e9e",e.grey600="#757575",e.grey700="#616161",e.grey800="#424242",e.grey900="#212121",e.black="#000000",e.white="#ffffff",e.transparent="rgba(0, 0, 0, 0)",e.fullBlack="rgba(0, 0, 0, 1)",e.darkBlack="rgba(0, 0, 0, 0.87)",e.lightBlack="rgba(0, 0, 0, 0.54)",e.minBlack="rgba(0, 0, 0, 0.26)",e.faintBlack="rgba(0, 0, 0, 0.12)",e.fullWhite="rgba(255, 255, 255, 1)",e.darkWhite="rgba(255, 255, 255, 0.87)",e.lightWhite="rgba(255, 255, 255, 0.54)"},function(t,e){"use strict";function r(t,e,r){return t<e?e:t>r?r:t}function n(t){var e=t.type,r=t.values;if(e.indexOf("rgb")>-1)for(var n=0;n<3;n++)r[n]=parseInt(r[n]);var o=void 0;return o=e.indexOf("hsl")>-1?t.type+"("+r[0]+", "+r[1]+"%, "+r[2]+"%":t.type+"("+r[0]+", "+r[1]+", "+r[2],o+=4===r.length?", "+t.values[3]+")":")"}function o(t){if(4===t.length){for(var e="#",r=1;r<t.length;r++)e+=t.charAt(r)+t.charAt(r);t=e}var n={r:parseInt(t.substr(1,2),16),g:parseInt(t.substr(3,2),16),b:parseInt(t.substr(5,2),16)};return"rgb("+n.r+", "+n.g+", "+n.b+")"}function i(t){if("#"===t.charAt(0))return i(o(t));var e=t.indexOf("("),r=t.substring(0,e),n=t.substring(e+1,t.length-1).split(",");return n=n.map(function(t){return parseFloat(t)}),{type:r,values:n}}function a(t,e){var r=s(t),n=s(e),o=(Math.max(r,n)+.05)/(Math.min(r,n)+.05);return Number(o.toFixed(2))}function s(t){if(t=i(t),t.type.indexOf("rgb")>-1){var e=t.values.map(function(t){return t/=255,t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)});return Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}if(t.type.indexOf("hsl")>-1)return t.values[2]/100}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return s(t)>.5?c(t,e):p(t,e)}function u(t,e){return t=i(t),e=r(e,0,1),"rgb"!==t.type&&"hsl"!==t.type||(t.type+="a"),t.values[3]=e,n(t)}function c(t,e){if(t=i(t),e=r(e,0,1),t.type.indexOf("hsl")>-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")>-1)for(var o=0;o<3;o++)t.values[o]*=1-e;return n(t)}function p(t,e){if(t=i(t),e=r(e,0,1),t.type.indexOf("hsl")>-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")>-1)for(var o=0;o<3;o++)t.values[o]+=(255-t.values[o])*e;return n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.convertColorToString=n,e.convertHexToRGB=o,e.decomposeColor=i,e.getContrastRatio=a,e.getLuminance=s,e.emphasize=l,e.fade=u,e.darken=c,e.lighten=p},,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(969),i=n(o);e.default=i.default},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={set:function(t,e,r){t[e]=r}}},,,,,,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(153),i=n(o);e.default=i.default},function(t,e,r){t.exports={default:r(587),__esModule:!0}},function(t,e,r){t.exports={default:r(589),__esModule:!0}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(211),i=n(o);e.default=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return(0,i.default)(t)}},,,,,,,,,function(t,e){"use strict";function r(t){return t&&t.ownerDocument||document}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(e)do if(e===t)return!0;while(e=e.parentNode);return!1}Object.defineProperty(e,"__esModule",{value:!0});var i=r(86),a=n(i);e.default=function(){return a.default?function(t,e){return t.contains?t.contains(e):t.compareDocumentPosition?t===e||!!(16&t.compareDocumentPosition(e)):o(t,e)}:o}(),t.exports=e.default},,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(907),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){this.format=function(t){return"short"===e.month&&"short"===e.weekday&&"2-digit"===e.day?M[t.getDay()]+", "+S[t.getMonth()]+" "+t.getDate():"numeric"===e.year&&"numeric"===e.month&&"numeric"===e.day?t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear():"numeric"===e.year&&"long"===e.month?E[t.getMonth()]+" "+t.getFullYear():"narrow"===e.weekday?T[t.getDay()]:"numeric"===e.year?t.getFullYear().toString():"numeric"===e.day?t.getDate():void 0}}function i(t,e){var r=l(t);return r.setDate(t.getDate()+e),r}function a(t,e){var r=l(t);return r.setMonth(t.getMonth()+e),r}function s(t,e){var r=l(t);return r.setFullYear(t.getFullYear()+e),r}function l(t){return new Date(t.getTime())}function u(t){var e=l(t);return e.setHours(0,0,0,0),e}function c(t){var e=p(t);return e.setMonth(e.getMonth()+1),e.setDate(e.getDate()-1),e.getDate()}function p(t){return new Date(t.getFullYear(),t.getMonth(),1)}function f(){var t=new Date;return new Date(t.setDate(t.getDate()-t.getDay()))}function h(t,e){for(var r=[],n=c(t),o=[],i=[],a=1;a<=n;a++)r.push(new Date(t.getFullYear(),t.getMonth(),a));var s=function(t){for(var e=7-t.length,r=0;r<e;++r)t[o.length?"push":"unshift"](null);o.push(t)};return r.forEach(function(t){i.length>0&&t.getDay()===e&&(s(i),i=[]),i.push(t),r.indexOf(t)===r.length-1&&s(i)}),o}function d(t,e,r,n){var o=new t(e,{weekday:"narrow"}),a=f();return o.format(i(a,r+n))}function y(t){return new Date(t.toDateString()+" 12:00:00 +0000").toISOString().substring(0,10)}function m(t,e){return t&&e&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}function v(t,e){var r=u(t),n=u(e);return r.getTime()<n.getTime()}function g(t,e){var r=u(t),n=u(e);return r.getTime()>n.getTime()}function b(t,e,r){return!v(t,e)&&!g(t,r)}function x(t,e){var r=void 0;return r=12*(t.getFullYear()-e.getFullYear()),r+=t.getMonth(),r-=e.getMonth()}function _(t,e){return~~(x(t,e)/12)}Object.defineProperty(e,"__esModule",{value:!0}),e.dateTimeFormat=o,e.addDays=i,e.addMonths=a,e.addYears=s,e.cloneDate=l,e.cloneAsDate=u,e.getDaysInMonth=c,e.getFirstDayOfMonth=p,e.getFirstDayOfWeek=f,e.getWeekArray=h,e.localizedWeekday=d,e.formatIso=y,e.isEqualDate=m,e.isBeforeDate=v,e.isAfterDate=g,e.isBetweenDates=b,e.monthDiff=x,e.yearDiff=_;var w=r(43),T=(n(w),["S","M","T","W","T","F","S"]),M=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],E=["January","February","March","April","May","June","July","August","September","October","November","December"]},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(6),s=n(a),l=r(8),u=n(l),c=r(2),p=n(c),f=r(7),h=n(f),d=r(4),y=n(d),m=r(3),v=n(m),g=r(10),b=n(g),x=r(1),_=n(x),w=r(15),T=n(w),M=r(77),S=n(M),E=r(417),k=n(E),C=r(58),A=(n(C),r(25)),P=n(A),L=r(898),D=n(L),O=r(950),I=n(O),R=r(1037),N={root:{display:"none"}},j=function(t){function e(t,r){(0,p.default)(this,e);var n=(0,y.default)(this,(e.__proto__||(0,u.default)(e)).call(this,t,r));return n.timeout=null,n.renderLayer=function(){var t=n.props,e=t.animated,r=t.animation,o=(t.anchorEl,t.anchorOrigin,t.autoCloseWhenOffScreen,t.canAutoPosition,t.children),a=(t.onRequestClose,t.style),l=t.targetOrigin,u=(t.useLayerForClickAway,(0,s.default)(t,["animated","animation","anchorEl","anchorOrigin","autoCloseWhenOffScreen","canAutoPosition","children","onRequestClose","style","targetOrigin","useLayerForClickAway"])),c=a;if(!e)return c={position:"fixed",zIndex:n.context.muiTheme.zIndex.popover},n.state.open?_.default.createElement(P.default,(0,i.default)({style:(0,b.default)(c,a)},u),o):null;var p=r||I.default;return _.default.createElement(p,(0,i.default)({targetOrigin:l,style:c},u,{open:n.state.open&&!n.state.closing}),o)},n.componentClickAway=function(t){t.preventDefault(),n.requestClose("clickAway")},n.setPlacement=function(t){if(n.state.open&&n.refs.layer.getLayer()){var e=n.refs.layer.getLayer().children[0];if(e){var r=n.props,o=r.targetOrigin,i=r.anchorOrigin,a=n.props.anchorEl||n.anchorEl,s=n.getAnchorPosition(a),l=n.getTargetPosition(e),u={top:s[i.vertical]-l[o.vertical],left:s[i.horizontal]-l[o.horizontal]};t&&n.props.autoCloseWhenOffScreen&&n.autoCloseWhenOffScreen(s),n.props.canAutoPosition&&(l=n.getTargetPosition(e),u=n.applyAutoPositionIfNeeded(s,l,o,i,u)),e.style.top=Math.max(0,u.top)+"px",e.style.left=Math.max(0,u.left)+"px",e.style.maxHeight=window.innerHeight+"px"}}},n.handleResize=(0,D.default)(n.setPlacement,100),n.handleScroll=(0,D.default)(n.setPlacement.bind(n,!0),50),n.state={open:t.open,closing:!1},n}return(0,v.default)(e,t),(0,h.default)(e,[{key:"componentDidMount",value:function(){this.setPlacement()}},{key:"componentWillReceiveProps",value:function(t){var e=this;if(t.open!==this.state.open)if(t.open)this.anchorEl=t.anchorEl||this.props.anchorEl,this.setState({open:!0,closing:!1});else if(t.animated){if(null!==this.timeout)return;this.setState({closing:!0}),this.timeout=setTimeout(function(){e.setState({open:!1},function(){e.timeout=null})},500)}else this.setState({open:!1})}},{key:"componentDidUpdate",value:function(){this.setPlacement()}},{key:"componentWillUnmount",value:function(){this.handleResize.cancel(),this.handleScroll.cancel(),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}},{key:"requestClose",value:function(t){this.props.onRequestClose&&this.props.onRequestClose(t)}},{key:"getAnchorPosition",value:function(t){t||(t=T.default.findDOMNode(this));var e=t.getBoundingClientRect(),r={top:e.top,left:e.left,width:t.offsetWidth,height:t.offsetHeight};return r.right=e.right||r.left+r.width,(0,R.isIOS)()&&"INPUT"===document.activeElement.tagName?r.bottom=(0,R.getOffsetTop)(t)+r.height:r.bottom=e.bottom||r.top+r.height,r.middle=r.left+(r.right-r.left)/2,r.center=r.top+(r.bottom-r.top)/2,
r}},{key:"getTargetPosition",value:function(t){return{top:0,center:t.offsetHeight/2,bottom:t.offsetHeight,left:0,middle:t.offsetWidth/2,right:t.offsetWidth}}},{key:"autoCloseWhenOffScreen",value:function(t){(t.top<0||t.top>window.innerHeight||t.left<0||t.left>window.innerWidth)&&this.requestClose("offScreen")}},{key:"getOverlapMode",value:function(t,e,r){return[t,e].indexOf(r)>=0?"auto":t===e?"inclusive":"exclusive"}},{key:"getPositions",value:function(t,e){var r=(0,i.default)({},t),n=(0,i.default)({},e),o={x:["left","right"].filter(function(t){return t!==n.horizontal}),y:["top","bottom"].filter(function(t){return t!==n.vertical})},a={x:this.getOverlapMode(r.horizontal,n.horizontal,"middle"),y:this.getOverlapMode(r.vertical,n.vertical,"center")};return o.x.splice("auto"===a.x?0:1,0,"middle"),o.y.splice("auto"===a.y?0:1,0,"center"),"auto"!==a.y&&(r.vertical="top"===r.vertical?"bottom":"top","inclusive"===a.y&&(n.vertical=n.vertical)),"auto"!==a.x&&(r.horizontal="left"===r.horizontal?"right":"left","inclusive"===a.y&&(n.horizontal=n.horizontal)),{positions:o,anchorPos:r}}},{key:"applyAutoPositionIfNeeded",value:function(t,e,r,n,o){var i=this.getPositions(n,r),a=i.positions,s=i.anchorPos;if(o.top<0||o.top+e.bottom>window.innerHeight){var l=t[s.vertical]-e[a.y[0]];l+e.bottom<=window.innerHeight?o.top=Math.max(0,l):(l=t[s.vertical]-e[a.y[1]],l+e.bottom<=window.innerHeight&&(o.top=Math.max(0,l)))}if(o.left<0||o.left+e.right>window.innerWidth){var u=t[s.horizontal]-e[a.x[0]];u+e.right<=window.innerWidth?o.left=Math.max(0,u):(u=t[s.horizontal]-e[a.x[1]],u+e.right<=window.innerWidth&&(o.left=Math.max(0,u)))}return o}},{key:"render",value:function(){return _.default.createElement("div",{style:N.root},_.default.createElement(S.default,{target:"window",onScroll:this.handleScroll,onResize:this.handleResize}),_.default.createElement(k.default,{ref:"layer",open:this.state.open,componentClickAway:this.componentClickAway,useLayerForClickAway:this.props.useLayerForClickAway,render:this.renderLayer}))}}]),e}(x.Component);j.defaultProps={anchorOrigin:{vertical:"bottom",horizontal:"left"},animated:!0,autoCloseWhenOffScreen:!0,canAutoPosition:!0,onRequestClose:function(){},open:!1,style:{overflowY:"auto"},targetOrigin:{vertical:"top",horizontal:"left"},useLayerForClickAway:!0,zDepth:1},j.contextTypes={muiTheme:x.PropTypes.object.isRequired},e.default=j},,,,,,,,,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(513),i=n(o);e.default=i.default},,,,,,,,,function(t,e,r){"use strict";function n(t,e){return t+e}function o(t,e,r){var n=r;{if("object"!==("undefined"==typeof e?"undefined":S(e)))return"undefined"!=typeof n?("number"==typeof n&&(n+="px"),void(t.style[e]=n)):C(t,e);for(var i in e)e.hasOwnProperty(i)&&o(t,i,e[i])}}function i(t){var e=void 0,r=void 0,n=void 0,o=t.ownerDocument,i=o.body,a=o&&o.documentElement;return e=t.getBoundingClientRect(),r=e.left,n=e.top,r-=a.clientLeft||i.clientLeft||0,n-=a.clientTop||i.clientTop||0,{left:r,top:n}}function a(t,e){var r=t["page"+(e?"Y":"X")+"Offset"],n="scroll"+(e?"Top":"Left");if("number"!=typeof r){var o=t.document;r=o.documentElement[n],"number"!=typeof r&&(r=o.body[n])}return r}function s(t){return a(t)}function l(t){return a(t,!0)}function u(t){var e=i(t),r=t.ownerDocument,n=r.defaultView||r.parentWindow;return e.left+=s(n),e.top+=l(n),e}function c(t,e,r){var n=r,o="",i=t.ownerDocument;return n=n||i.defaultView.getComputedStyle(t,null),n&&(o=n.getPropertyValue(e)||n[e]),o}function p(t,e){var r=t[L]&&t[L][e];if(A.test(r)&&!P.test(e)){var n=t.style,o=n[O],i=t[D][O];t[D][O]=t[L][O],n[O]="fontSize"===e?"1em":r||0,r=n.pixelLeft+I,n[O]=o,t[D][O]=i}return""===r?"auto":r}function f(t,e){return"left"===t?e.useCssRight?"right":t:e.useCssBottom?"bottom":t}function h(t){return"left"===t?"right":"right"===t?"left":"top"===t?"bottom":"bottom"===t?"top":void 0}function d(t,e,r){"static"===o(t,"position")&&(t.style.position="relative");var i=-999,a=-999,s=f("left",r),l=f("top",r),c=h(s),p=h(l);"left"!==s&&(i=999),"top"!==l&&(a=999);var d="",y=u(t);("left"in e||"top"in e)&&(d=(0,E.getTransitionProperty)(t)||"",(0,E.setTransitionProperty)(t,"none")),"left"in e&&(t.style[c]="",t.style[s]=i+"px"),"top"in e&&(t.style[p]="",t.style[l]=a+"px");var m=u(t),v={};for(var g in e)if(e.hasOwnProperty(g)){var b=f(g,r),x="left"===g?i:a,_=y[g]-m[g];b===g?v[b]=x+_:v[b]=x-_}o(t,v),n(t.offsetTop,t.offsetLeft),("left"in e||"top"in e)&&(0,E.setTransitionProperty)(t,d);var w={};for(var T in e)if(e.hasOwnProperty(T)){var M=f(T,r),S=e[T]-y[T];T===M?w[M]=v[M]+S:w[M]=v[M]-S}o(t,w)}function y(t,e){var r=u(t),n=(0,E.getTransformXY)(t),o={x:n.x,y:n.y};"left"in e&&(o.x=n.x+e.left-r.left),"top"in e&&(o.y=n.y+e.top-r.top),(0,E.setTransformXY)(t,o)}function m(t,e,r){r.useCssRight||r.useCssBottom?d(t,e,r):r.useCssTransform&&(0,E.getTransformName)()in document.body.style?y(t,e,r):d(t,e,r)}function v(t,e){for(var r=0;r<t.length;r++)e(t[r])}function g(t){return"border-box"===C(t,"boxSizing")}function b(t,e,r){var n={},o=t.style,i=void 0;for(i in e)e.hasOwnProperty(i)&&(n[i]=o[i],o[i]=e[i]);r.call(t);for(i in e)e.hasOwnProperty(i)&&(o[i]=n[i])}function x(t,e,r){var n=0,o=void 0,i=void 0,a=void 0;for(i=0;i<e.length;i++)if(o=e[i])for(a=0;a<r.length;a++){var s=void 0;s="border"===o?""+o+r[a]+"Width":o+r[a],n+=parseFloat(C(t,s))||0}return n}function _(t){return null!==t&&void 0!==t&&t==t.window}function w(t,e,r){var n=r;if(_(t))return"width"===e?B.viewportWidth(t):B.viewportHeight(t);if(9===t.nodeType)return"width"===e?B.docWidth(t):B.docHeight(t);var o="width"===e?["Left","Right"]:["Top","Bottom"],i="width"===e?t.offsetWidth:t.offsetHeight,a=C(t),s=g(t,a),l=0;(null===i||void 0===i||i<=0)&&(i=void 0,l=C(t,e),(null===l||void 0===l||Number(l)<0)&&(l=t.style[e]||0),l=parseFloat(l)||0),void 0===n&&(n=s?F:N);var u=void 0!==i||s,c=i||l;return n===N?u?c-x(t,["border","padding"],o,a):l:u?n===F?c:c+(n===j?-x(t,["border"],o,a):x(t,["margin"],o,a)):l+x(t,R.slice(n),o,a)}function T(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=void 0,o=e[0];return 0!==o.offsetWidth?n=w.apply(void 0,e):b(o,U,function(){n=w.apply(void 0,e)}),n}function M(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}Object.defineProperty(e,"__esModule",{value:!0});var S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E=r(819),k=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,C=void 0,A=new RegExp("^("+k+")(?!px)[a-z%]+$","i"),P=/^(top|right|bottom|left)$/,L="currentStyle",D="runtimeStyle",O="left",I="px";"undefined"!=typeof window&&(C=window.getComputedStyle?c:p);var R=["margin","border","padding"],N=-1,j=2,F=1,z=0,B={};v(["Width","Height"],function(t){B["doc"+t]=function(e){var r=e.document;return Math.max(r.documentElement["scroll"+t],r.body["scroll"+t],B["viewport"+t](r))},B["viewport"+t]=function(e){var r="client"+t,n=e.document,o=n.body,i=n.documentElement,a=i[r];return"CSS1Compat"===n.compatMode&&a||o&&o[r]||a}});var U={position:"absolute",visibility:"hidden",display:"block"};v(["width","height"],function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);B["outer"+e]=function(e,r){return e&&T(e,t,r?z:F)};var r="width"===t?["Left","Right"]:["Top","Bottom"];B[t]=function(e,n){var i=n;{if(void 0===i)return e&&T(e,t,N);if(e){var a=C(e),s=g(e);return s&&(i+=x(e,["padding","border"],r,a)),o(e,t,i)}}}});var V={getWindow:function(t){if(t&&t.document&&t.setTimeout)return t;var e=t.ownerDocument||t;return e.defaultView||e.parentWindow},offset:function(t,e,r){return"undefined"==typeof e?u(t):void m(t,e,r||{})},isWindow:_,each:v,css:o,clone:function(t){var e=void 0,r={};for(e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);var n=t.overflow;if(n)for(e in t)t.hasOwnProperty(e)&&(r.overflow[e]=t.overflow[e]);return r},mix:M,getWindowScrollLeft:function(t){return s(t)},getWindowScrollTop:function(t){return l(t)},merge:function(){for(var t={},e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];for(var o=0;o<r.length;o++)V.mix(t,r[o]);return t},viewportWidth:0,viewportHeight:0};M(V,B),e.default=V,t.exports=e.default},,,,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(916),i=n(o);e.default=i.default},function(t,e){"use strict";function r(t,e){var r=i(t);return r.setHours(t.getHours()+e),r}function n(t,e){var r=i(t);return r.setMinutes(t.getMinutes()+e),r}function o(t,e){var r=i(t);return r.setSeconds(t.getMinutes()+e),r}function i(t){return new Date(t.getTime())}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ampm",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return"";var n=t.getHours(),o=t.getMinutes().toString();if("ampm"===e){var i=n<12;n%=12;var a=i?" am":" pm";return n=(n||12).toString(),o.length<2&&(o="0"+o),r&&"12"===n&&"00"===o?" pm"===a?"12 noon":"12 midnight":n+("00"===o?"":":"+o)+a}return n=n.toString(),n.length<2&&(n="0"+n),o.length<2&&(o="0"+o),n+":"+o}function s(t){return 57.29577951308232*t}function l(t){var e=t.target,r=e.getBoundingClientRect();return{offsetX:t.clientX-r.left,offsetY:t.clientY-r.top}}function u(t){return"hour"===t.type&&(t.value<1||t.value>12)}Object.defineProperty(e,"__esModule",{value:!0}),e.addHours=r,e.addMinutes=n,e.addSeconds=o,e.formatTime=a,e.rad2deg=s,e.getTouchEventOffsetValues=l,e.isInner=u},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M19 13H5v-2h14v2z"}))};c=(0,s.default)(c),c.displayName="ContentRemove",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){var e={},r=0,n=void 0;for(var o in t){var i=t[o];i&&(0===r&&(n=o),e[o]=i,r++)}if(0!==r)return 1===r?e[n]:(0,u.default)(e)}function i(t,e,r){return s.default.Children.map(t,function(t){if(!s.default.isValidElement(t))return t;var n="function"==typeof e?e(t):e,o="function"==typeof r?r(t):r?r:t.props.children;return s.default.cloneElement(t,n,o)})}Object.defineProperty(e,"__esModule",{value:!0}),e.createChildFragment=o,e.extendChildren=i;var a=r(1),s=n(a),l=r(1067),u=n(l)},function(t,e,r){t.exports=r(1249)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(118),i=n(o),a=r(6),s=n(a),l=r(5),u=n(l),c=r(2),p=n(c),f=r(4),h=n(f),d=r(3),y=n(d),m=r(11),v=n(m),g=r(1),b=n(g),x=r(23),_=n(x),w=r(12),T=r(38),M=r(65),S=n(M),E={active:b.default.PropTypes.bool,disabled:b.default.PropTypes.bool,block:b.default.PropTypes.bool,onClick:b.default.PropTypes.func,componentClass:_.default,href:b.default.PropTypes.string,type:b.default.PropTypes.oneOf(["button","reset","submit"])},k={active:!1,block:!1,disabled:!1},C=function(t){function e(){return(0,p.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,y.default)(e,t),e.prototype.renderAnchor=function(t,e){return b.default.createElement(S.default,(0,u.default)({},t,{className:(0,v.default)(e,t.disabled&&"disabled")}))},e.prototype.renderButton=function(t,e){var r=t.componentClass,n=(0,s.default)(t,["componentClass"]),o=r||"button";return b.default.createElement(o,(0,u.default)({},n,{type:n.type||"button",className:e}))},e.prototype.render=function(){var t,e=this.props,r=e.active,n=e.block,o=e.className,i=(0,s.default)(e,["active","block","className"]),a=(0,w.splitBsProps)(i),l=a[0],c=a[1],p=(0,u.default)({},(0,w.getClassSet)(l),(t={active:r},t[(0,w.prefix)(l,"block")]=n,t)),f=(0,v.default)(o,p);return c.href?this.renderAnchor(c,f):this.renderButton(c,f)},e}(b.default.Component);C.propTypes=E,C.defaultProps=k,e.default=(0,w.bsClass)("btn",(0,w.bsSizes)([T.Size.LARGE,T.Size.SMALL,T.Size.XSMALL],(0,w.bsStyles)([].concat((0,i.default)(T.State),[T.Style.DEFAULT,T.Style.PRIMARY,T.Style.LINK]),T.Style.DEFAULT,C))),t.exports=e.default},,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,s.default)(i.default.findDOMNode(t))};var o=r(15),i=n(o),a=r(128),s=n(a);t.exports=e.default},,,,,,,,,,,,,,,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(86),i=n(o),a=function(){};i.default&&(a=function(){return document.addEventListener?function(t,e,r,n){return t.addEventListener(e,r,n||!1)}:document.attachEvent?function(t,e,r){return t.attachEvent("on"+e,function(e){e=e||window.event,e.target=e.target||e.srcElement,e.currentTarget=t,r.call(t,e)})}:void 0}()),e.default=a,t.exports=e.default},function(t,e){"use strict";function r(t){return t===t.window?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){var n="",o="",i=e;if("string"==typeof e){if(void 0===r)return t.style[(0,a.default)(e)]||(0,c.default)(t).getPropertyValue((0,l.default)(e));(i={})[e]=r}Object.keys(i).forEach(function(e){var r=i[e];r||0===r?(0,y.default)(e)?o+=e+"("+r+") ":n+=(0,l.default)(e)+": "+r+";":(0,f.default)(t,(0,l.default)(e))}),o&&(n+=h.transform+": "+o+";"),t.style.cssText+=";"+n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(367),a=n(i),s=r(835),l=n(s),u=r(830),c=n(u),p=r(831),f=n(p),h=r(366),d=r(832),y=n(d);t.exports=e.default},,function(t,e){"use strict";function r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=arguments.length<=2||void 0===arguments[2]?function(t,e){return t+e}:arguments[2];return r({},t,["-webkit-","-moz-",""].map(function(t){return n(t,e)}))},t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CardExpandable=e.CardActions=e.CardText=e.CardMedia=e.CardTitle=e.CardHeader=e.Card=void 0;var o=r(915),i=n(o),a=r(388),s=n(a),l=r(391),u=n(l),c=r(389),p=n(c),f=r(390),h=n(f),d=r(386),y=n(d),m=r(387),v=n(m);e.Card=i.default,e.CardHeader=s.default,e.CardTitle=u.default,e.CardMedia=p.default,e.CardText=h.default,e.CardActions=y.default,e.CardExpandable=v.default,e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(931),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(932),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(936),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(940),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=t.desktop,n=t.maxHeight,o=t.width,i=e.muiTheme,a={root:{zIndex:i.zIndex.menu,maxHeight:n,overflowY:n?"auto":null},divider:{marginTop:7,marginBottom:8},list:{display:"table-cell",paddingBottom:r?16:8,paddingTop:r?16:8,userSelect:"none",width:o},selectedMenuItem:{color:i.menuItem.selectedTextColor}};return a}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(317),c=n(u),p=r(8),f=n(p),h=r(2),d=n(h),y=r(7),m=n(y),v=r(4),g=n(v),b=r(3),x=n(b),_=r(10),w=n(_),T=r(1),M=n(T),S=r(15),E=n(S),k=r(116),C=n(k),A=r(273),P=n(A),L=r(39),D=n(L),O=r(58),I=(n(O),r(267)),R=n(I),N=r(948),j=function(t){function e(t,r){(0,d.default)(this,e);var n=(0,g.default)(this,(e.__proto__||(0,f.default)(e)).call(this,t,r));F.call(n);var o=n.getFilteredChildren(t.children),i=n.getSelectedIndex(t,o),a=t.disableAutoFocus?-1:i>=0?i:0;return a!==-1&&t.onMenuItemFocusChange&&t.onMenuItemFocusChange(null,a),n.state={focusIndex:a,isKeyboardFocused:t.initiallyKeyboardFocused,keyWidth:t.desktop?64:56},n.hotKeyHolder=new N.HotKeyHolder,n}return(0,x.default)(e,t),(0,m.default)(e,[{key:"componentDidMount",value:function(){this.props.autoWidth&&this.setWidth(),this.setScollPosition()}},{key:"componentWillReceiveProps",value:function(t){var e=this.getFilteredChildren(t.children),r=this.getSelectedIndex(t,e),n=t.disableAutoFocus?-1:r>=0?r:0;n!==this.state.focusIndex&&this.props.onMenuItemFocusChange&&this.props.onMenuItemFocusChange(null,n),this.setState({focusIndex:n,keyWidth:t.desktop?64:56})}},{key:"shouldComponentUpdate",value:function(t,e,r){return!(0,C.default)(this.props,t)||!(0,C.default)(this.state,e)||!(0,C.default)(this.context,r)}},{key:"componentDidUpdate",value:function(){this.props.autoWidth&&this.setWidth()}},{key:"getValueLink",value:function(t){return t.valueLink||{value:t.value,requestChange:t.onChange}}},{key:"setKeyboardFocused",value:function(t){this.setState({isKeyboardFocused:t})}},{key:"getFilteredChildren",value:function(t){var e=[];return M.default.Children.forEach(t,function(t){t&&e.push(t)}),e}},{key:"cloneMenuItem",value:function(t,e,r,n){var o=this,i=this.props,a=i.desktop,s=i.menuItemStyle,l=i.selectedMenuItemStyle,u=this.isChildSelected(t,this.props),c={};u&&(c=(0,w.default)(r.selectedMenuItem,l));var p=(0,w.default)({},t.props.style,s,c),f=e===this.state.focusIndex,h="none";return f&&(h=this.state.isKeyboardFocused?"keyboard-focused":"focused"),M.default.cloneElement(t,{desktop:a,focusState:h,onTouchTap:function(e){o.handleMenuItemTouchTap(e,t,n),t.props.onTouchTap&&t.props.onTouchTap(e)},ref:f?"focusedMenuItem":null,style:p})}},{key:"decrementKeyboardFocusIndex",value:function(t){var e=this.state.focusIndex;e--,e<0&&(e=0),this.setFocusIndex(t,e,!0)}},{key:"getMenuItemCount",value:function(t){var e=0;return t.forEach(function(t){var r=t.type&&"Divider"===t.type.muiName,n=t.props.disabled;r||n||e++}),e}},{key:"getSelectedIndex",value:function(t,e){var r=this,n=-1,o=0;return e.forEach(function(e){var i=e.type&&"Divider"===e.type.muiName;r.isChildSelected(e,t)&&(n=o),i||o++}),n}},{key:"setFocusIndexStartsWith",value:function(t,e){var r=-1;return M.default.Children.forEach(this.props.children,function(t,n){if(!(r>=0)){var o=t.props.primaryText;"string"==typeof o&&new RegExp("^"+e,"i").test(o)&&(r=n)}}),r>=0&&(this.setFocusIndex(t,r,!0),!0)}},{key:"handleMenuItemTouchTap",value:function(t,e,r){var n=this.props.children,o=this.props.multiple,i=this.getValueLink(this.props),a=i.value,s=e.props.value,l=M.default.isValidElement(n)?0:n.indexOf(e);if(this.setFocusIndex(t,l,!1),o){var u=a.indexOf(s),p=(0,c.default)(a),f=p;u===-1?f.push(s):f.splice(u,1),i.requestChange(t,f)}else o||s===a||i.requestChange(t,s);this.props.onItemTouchTap(t,e,r)}},{key:"incrementKeyboardFocusIndex",value:function(t,e){var r=this.state.focusIndex,n=this.getMenuItemCount(e)-1;r++,r>n&&(r=n),this.setFocusIndex(t,r,!0)}},{key:"isChildSelected",value:function(t,e){var r=this.getValueLink(e).value,n=t.props.value;return e.multiple?r.length&&r.indexOf(n)!==-1:t.props.hasOwnProperty("value")&&r===n}},{key:"setFocusIndex",value:function(t,e,r){this.props.onMenuItemFocusChange&&this.props.onMenuItemFocusChange(t,e),this.setState({focusIndex:e,isKeyboardFocused:r})}},{key:"setScollPosition",value:function(){var t=this.props.desktop,e=this.refs.focusedMenuItem,r=t?32:48;if(e){var n=E.default.findDOMNode(e).offsetTop,o=n-r;o<r&&(o=0),E.default.findDOMNode(this.refs.scrollContainer).scrollTop=o}}},{key:"cancelScrollEvent",value:function(t){return t.stopPropagation(),t.preventDefault(),!1}},{key:"setWidth",value:function(){var t=E.default.findDOMNode(this),e=E.default.findDOMNode(this.refs.list),r=t.offsetWidth,n=this.state.keyWidth,o=1.5*n,i=r/n,a=void 0;i=i<=1.5?1.5:Math.ceil(i),a=i*n,a<o&&(a=o),t.style.width=a+"px",e.style.width=a+"px"}},{key:"render",value:function(){var t=this,e=this.props,r=(e.autoWidth,e.children),n=e.desktop,i=(e.disableAutoFocus,e.initiallyKeyboardFocused,e.listStyle),s=(e.maxHeight,e.multiple,e.onItemTouchTap,e.onEscKeyDown,e.onMenuItemFocusChange,e.selectedMenuItemStyle,e.menuItemStyle,e.style),u=(e.value,e.valueLink,e.width,(0,l.default)(e,["autoWidth","children","desktop","disableAutoFocus","initiallyKeyboardFocused","listStyle","maxHeight","multiple","onItemTouchTap","onEscKeyDown","onMenuItemFocusChange","selectedMenuItemStyle","menuItemStyle","style","value","valueLink","width"])),c=this.context.muiTheme.prepareStyles,p=o(this.props,this.context),f=(0,w.default)(p.root,s),h=(0,w.default)(p.list,i),d=this.getFilteredChildren(r),y=0,m=M.default.Children.map(d,function(e,r){var o=e.props.disabled,i=e.type?e.type.muiName:"",a=e;switch(i){case"MenuItem":a=o?M.default.cloneElement(e,{desktop:n}):t.cloneMenuItem(e,y,p,r);break;case"Divider":a=M.default.cloneElement(e,{style:(0,w.default)({},p.divider,e.props.style)})}return"MenuItem"!==i||o||y++,a});return M.default.createElement(P.default,{onClickAway:this.handleClickAway},M.default.createElement("div",{onKeyDown:this.handleKeyDown,onWheel:this.handleOnWheel,style:c(f),ref:"scrollContainer"},M.default.createElement(R.default,(0,a.default)({},u,{ref:"list",style:h}),m)))}}]),e}(T.Component);j.defaultProps={autoWidth:!0,desktop:!1,disableAutoFocus:!1,initiallyKeyboardFocused:!1,maxHeight:null,multiple:!1,onChange:function(){},onEscKeyDown:function(){},onItemTouchTap:function(){},onKeyDown:function(){}},j.contextTypes={muiTheme:T.PropTypes.object.isRequired};var F=function(){var t=this;this.handleClickAway=function(e){e.defaultPrevented||t.setFocusIndex(e,-1,!1)},this.handleKeyDown=function(e){var r=t.getFilteredChildren(t.props.children),n=(0,D.default)(e);switch(n){case"down":e.preventDefault(),t.incrementKeyboardFocusIndex(e,r);break;case"esc":t.props.onEscKeyDown(e);break;case"tab":e.preventDefault(),e.shiftKey?t.decrementKeyboardFocusIndex(e):t.incrementKeyboardFocusIndex(e,r);break;case"up":e.preventDefault(),t.decrementKeyboardFocusIndex(e);break;default:if(n&&1===n.length){var o=t.hotKeyHolder.append(n);t.setFocusIndexStartsWith(e,o)&&e.preventDefault()}}t.props.onKeyDown(e)},this.handleOnWheel=function(e){var r=t.refs.scrollContainer;if(!(r.scrollHeight<=r.clientHeight)){var n=r.scrollTop,o=r.scrollHeight,i=r.clientHeight,a=e.deltaY,s=a>0;return s&&a>o-i-n?(r.scrollTop=o,t.cancelScrollEvent(e)):!s&&-a>n?(r.scrollTop=0,t.cancelScrollEvent(e)):void 0}}};e.default=j},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.RadioButtonGroup=e.RadioButton=void 0;var o=r(952),i=n(o),a=r(397),s=n(a);e.RadioButton=i.default,e.RadioButtonGroup=s.default,e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(955),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.muiTheme.tableRowColumn,n={root:{paddingLeft:r.spacing,paddingRight:r.spacing,height:r.height,textAlign:"left",fontSize:13,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}};return 1!==w.default.Children.count(t.children)||isNaN(t.children)||(n.textAlign="right"),n}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.state={hovered:!1},n.onClick=function(t){n.props.onClick&&n.props.onClick(t,n.props.columnNumber)},n.onMouseEnter=function(t){n.props.hoverable&&(n.setState({hovered:!0}),n.props.onHover&&n.props.onHover(t,n.props.columnNumber))},n.onMouseLeave=function(t){n.props.hoverable&&(n.setState({hovered:!1}),n.props.onHoverExit&&n.props.onHoverExit(t,n.props.columnNumber))},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){var t=this.props,e=t.children,r=t.className,n=(t.columnNumber,t.hoverable,t.onClick,t.onHover,t.onHoverExit,t.style),i=(0,l.default)(t,["children","className","columnNumber","hoverable","onClick","onHover","onHoverExit","style"]),s=this.context.muiTheme.prepareStyles,u=o(this.props,this.context),c={onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave};return w.default.createElement("td",(0,a.default)({className:r,style:s((0,x.default)(u.root,n))},c,i),e)}}]),e}(_.Component);T.defaultProps={hoverable:!1},T.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=T},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={once:function(t,e,r){for(var n=e?e.split(" "):[],o=function t(e){return e.target.removeEventListener(e.type,t),r(e)},i=n.length-1;i>=0;i--)this.on(t,n[i],o)},on:function(t,e,r){t.addEventListener?t.addEventListener(e,r):t.attachEvent("on"+e,function(){r.call(t)})},off:function(t,e,r){t.removeEventListener?t.removeEventListener(e,r):t.detachEvent("on"+e,r)},isKeyboard:function(t){return["keydown","keypress","keyup"].indexOf(t.type)!==-1}}},,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(6),i=n(o),a=r(5),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(362),v=n(m),g=r(129),b=n(g),x=r(39),_=n(x),w=r(1),T=n(w),M=r(15),S=n(M),E=r(202),k=n(E),C=r(23),A=n(C),P=r(203),L=n(P),D=r(208),O=n(D),I=r(66),R=(n(I),r(441)),N=n(R),j=r(1081),F=n(j),z=r(443),B=n(z),U=r(12),V=r(34),H=n(V),W=r(1129),q=r(50),G=n(q),Y=B.default.defaultProps.bsRole,X=F.default.defaultProps.bsRole,K={dropup:T.default.PropTypes.bool,id:(0,L.default)(T.default.PropTypes.oneOfType([T.default.PropTypes.string,T.default.PropTypes.number])),componentClass:A.default,children:(0,k.default)((0,W.requiredRoles)(Y,X),(0,W.exclusiveRoles)(X)),disabled:T.default.PropTypes.bool,pullRight:T.default.PropTypes.bool,open:T.default.PropTypes.bool,onClose:T.default.PropTypes.func,onToggle:T.default.PropTypes.func,onSelect:T.default.PropTypes.func,role:T.default.PropTypes.string,rootCloseEvent:T.default.PropTypes.oneOf(["click","mousedown"]),onMouseEnter:T.default.PropTypes.func,onMouseLeave:T.default.PropTypes.func},Z={componentClass:N.default},J=function(t){function e(r,n){(0,u.default)(this,e);var o=(0,p.default)(this,t.call(this,r,n));return o.handleClick=o.handleClick.bind(o),o.handleKeyDown=o.handleKeyDown.bind(o),o.handleClose=o.handleClose.bind(o),o._focusInDropdown=!1,o.lastOpenEventType=null,o}return(0,h.default)(e,t),e.prototype.componentDidMount=function(){this.focusNextOnOpen()},e.prototype.componentWillUpdate=function(t){!t.open&&this.props.open&&(this._focusInDropdown=(0,b.default)(S.default.findDOMNode(this.menu),(0,v.default)(document)))},e.prototype.componentDidUpdate=function(t){var e=this.props.open,r=t.open;e&&!r&&this.focusNextOnOpen(),!e&&r&&this._focusInDropdown&&(this._focusInDropdown=!1,this.focus())},e.prototype.handleClick=function(t){this.props.disabled||this.toggleOpen(t,{source:"click"})},e.prototype.handleKeyDown=function(t){if(!this.props.disabled)switch(t.keyCode){case _.default.codes.down:this.props.open?this.menu.focusNext&&this.menu.focusNext():this.toggleOpen(t,{source:"keydown"}),t.preventDefault();break;case _.default.codes.esc:case _.default.codes.tab:this.handleClose(t,{source:"keydown"})}},e.prototype.toggleOpen=function(t,e){var r=!this.props.open;r&&(this.lastOpenEventType=e.source),this.props.onToggle&&this.props.onToggle(r,t,e)},e.prototype.handleClose=function(t,e){this.props.open&&this.toggleOpen(t,e)},e.prototype.focusNextOnOpen=function(){var t=this.menu;t.focusNext&&("keydown"!==this.lastOpenEventType&&"menuitem"!==this.props.role||t.focusNext())},e.prototype.focus=function(){var t=S.default.findDOMNode(this.toggle);t&&t.focus&&t.focus()},e.prototype.renderToggle=function(t,e){var r=this,n=function(t){r.toggle=t};return"string"==typeof t.ref||(n=(0,H.default)(t.ref,n)),(0,w.cloneElement)(t,(0,s.default)({},e,{ref:n,bsClass:(0,U.prefix)(e,"toggle"),onClick:(0,H.default)(t.props.onClick,this.handleClick),onKeyDown:(0,H.default)(t.props.onKeyDown,this.handleKeyDown)}))},e.prototype.renderMenu=function(t,e){var r=this,n=e.id,o=e.onClose,a=e.onSelect,l=e.rootCloseEvent,u=(0,i.default)(e,["id","onClose","onSelect","rootCloseEvent"]),c=function(t){r.menu=t};return"string"==typeof t.ref||(c=(0,H.default)(t.ref,c)),(0,w.cloneElement)(t,(0,s.default)({},u,{ref:c,labelledBy:n,bsClass:(0,U.prefix)(u,"menu"),onClose:(0,H.default)(t.props.onClose,o,this.handleClose),onSelect:(0,H.default)(t.props.onSelect,a,function(t,e){return r.handleClose(e,{source:"select"})}),rootCloseEvent:l}))},e.prototype.render=function(){var t,e=this,r=this.props,n=r.componentClass,o=r.id,a=r.dropup,l=r.disabled,u=r.pullRight,c=r.open,p=r.onClose,f=r.onSelect,h=r.role,d=r.bsClass,m=r.className,v=r.rootCloseEvent,g=r.children,b=(0,i.default)(r,["componentClass","id","dropup","disabled","pullRight","open","onClose","onSelect","role","bsClass","className","rootCloseEvent","children"]);delete b.onToggle;var x=(t={},t[d]=!0,t.open=c,t.disabled=l,t);return a&&(x[d]=!1,x.dropup=!0),T.default.createElement(n,(0,s.default)({},b,{className:(0,y.default)(m,x)}),G.default.map(g,function(t){switch(t.props.bsRole){case Y:return e.renderToggle(t,{id:o,disabled:l,open:c,role:h,bsClass:d});case X:return e.renderMenu(t,{id:o,open:c,pullRight:u,bsClass:d,onClose:p,onSelect:f,rootCloseEvent:v});default:return t}}))},e}(T.default.Component);J.propTypes=K,J.defaultProps=Z,(0,U.bsClass)("dropdown",J);var $=(0,O.default)(J,{open:"onToggle"});$.Toggle=B.default,$.Menu=F.default,e.default=$,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(2),s=n(a),l=r(4),u=n(l),c=r(3),p=n(c),f=r(11),h=n(f),d=r(1),y=n(d),m=r(479),v=n(m),g={in:y.default.PropTypes.bool,mountOnEnter:y.default.PropTypes.bool,unmountOnExit:y.default.PropTypes.bool,transitionAppear:y.default.PropTypes.bool,timeout:y.default.PropTypes.number,onEnter:y.default.PropTypes.func,onEntering:y.default.PropTypes.func,onEntered:y.default.PropTypes.func,onExit:y.default.PropTypes.func,onExiting:y.default.PropTypes.func,onExited:y.default.PropTypes.func},b={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,transitionAppear:!1},x=function(t){function e(){return(0,s.default)(this,e),(0,u.default)(this,t.apply(this,arguments))}return(0,p.default)(e,t),e.prototype.render=function(){return y.default.createElement(v.default,(0,i.default)({},this.props,{className:(0,h.default)(this.props.className,"fade"),enteredClassName:"in",enteringClassName:"in"}))},e}(y.default.Component);x.propTypes=g,x.defaultProps=b,e.default=x,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.propTypes,n={},o={};return(0,a.default)(t).forEach(function(t){var e=t[0],i=t[1];r[e]?n[e]=i:o[e]=i}),[n,o]}e.__esModule=!0;var i=r(316),a=n(i);e.default=o,t.exports=e.default},,,,,,,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(){function t(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=null;return r.forEach(function(t){if(null==o){var r=t.apply(void 0,e);null!=r&&(o=r)}}),o}for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];
return(0,a.default)(t)}e.__esModule=!0,e.default=o;var i=r(204),a=n(i)},function(t,e){"use strict";function r(t){return function(e,r,n,o,i){var a=n||"<<anonymous>>",s=i||r;if(null==e[r])return new Error("The "+o+" `"+s+"` is required to make "+("`"+a+"` accessible for users of assistive ")+"technologies such as screen readers.");for(var l=arguments.length,u=Array(l>5?l-5:0),c=5;c<l;c++)u[c-5]=arguments[c];return t.apply(void 0,[e,r,n,o,i].concat(u))}}e.__esModule=!0,e.default=r},function(t,e){"use strict";function r(t){function e(e,r,n,o,i,a){var s=o||"<<anonymous>>",l=a||n;if(null==r[n])return e?new Error("Required "+i+" `"+l+"` was not specified "+("in `"+s+"`.")):null;for(var u=arguments.length,c=Array(u>6?u-6:0),p=6;p<u;p++)c[p-6]=arguments[p];return t.apply(void 0,[r,n,s,i,l].concat(c))}var r=e.bind(null,!1);return r.isRequired=e.bind(null,!0),r}e.__esModule=!0,e.default=r},,,,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r,n,o){r&&(t._notifying=!0,r.call.apply(r,[t,n].concat(o)),t._notifying=!1),t._values[e]=n,t.isMounted()&&t.forceUpdate()}e.__esModule=!0;var i=r(1269),a=n(i),s={shouldComponentUpdate:function(){return!this._notifying}};e.default=(0,a.default)([s],o),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){function n(e){var n=new a.default(e);r.call(t,n)}return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(506),a=n(i);t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(518),i=n(o);e.default=i.default},function(t,e,r){t.exports={default:r(578),__esModule:!0}},function(t,e,r){t.exports={default:r(581),__esModule:!0}},,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(568),i=n(o),a=r(315),s=n(a);e.default=function(){function t(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=(0,s.default)(t);!(n=(a=l.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}return function(e,r){if(Array.isArray(e))return e;if((0,i.default)(Object(e)))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(86),i=n(o),a=function(){};i.default&&(a=function(){return document.addEventListener?function(t,e,r,n){return t.removeEventListener(e,r,n||!1)}:document.attachEvent?function(t,e,r){return t.detachEvent("on"+e,r)}:void 0}()),e.default=a,t.exports=e.default},function(t,e){t.exports={Panel:"Panel__Panel___1Eyx-",header:"Panel__header___kW6In",ToggleButton:"Panel__ToggleButton___3Qwa6",toggleIcon:"Panel__toggleIcon___1fxoV"}},function(t,e){t.exports={SectionalContent:"SectionalPanel__SectionalContent___5nLM4",Shown:"SectionalPanel__Shown___23I5k",Hidden:"SectionalPanel__Hidden___2CQpZ",SectionalMenu:"SectionalPanel__SectionalMenu___2Pula",activeRoute:"SectionalPanel__activeRoute___2wD4G",active:"SectionalPanel__active___1D1SZ",ShownContent:"SectionalPanel__ShownContent___1m5Ea",HiddenContent:"SectionalPanel__HiddenContent___2V4HT"}},,,,,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.exports=e.default},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return Array.isArray(t)&&(t=t.join(",")),null!==t.match(/-webkit-|-moz-|-ms-/)},t.exports=e.default},,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.MenuItem=e.IconMenu=void 0;var o=r(944),i=n(o),a=r(269),s=n(a);e.IconMenu=i.default,e.MenuItem=s.default,e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(6),s=n(a),l=r(8),u=n(l),c=r(2),p=n(c),f=r(7),h=n(f),d=r(4),y=n(d),m=r(3),v=n(m),g=r(10),b=n(g),x=r(1),_=n(x),w=r(89),T=n(w),M=function(t){function e(){return(0,p.default)(this,e),(0,y.default)(this,(e.__proto__||(0,u.default)(e)).apply(this,arguments))}return(0,v.default)(e,t),(0,h.default)(e,[{key:"render",value:function(){var t=this.props,e=t.children,r=t.style,n=(0,s.default)(t,["children","style"]),o=this.context.muiTheme.prepareStyles,a=!1,l=x.Children.toArray(e)[0];(0,x.isValidElement)(l)&&l.type===T.default&&(a=!0);var u={root:{padding:(a?0:8)+"px 0px 8px 0px"}};return _.default.createElement("div",(0,i.default)({},n,{style:o((0,b.default)(u.root,r))}),e)}}]),e}(x.Component);M.contextTypes={muiTheme:x.PropTypes.object.isRequired},e.default=M},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){var n=t.insetChildren,o=t.leftAvatar,i=t.leftCheckbox,a=t.leftIcon,s=t.nestedLevel,l=t.rightAvatar,u=t.rightIcon,c=t.rightIconButton,p=t.rightToggle,f=t.secondaryText,h=t.secondaryTextLines,d=e.muiTheme,y=d.listItem,m=d.baseTheme.palette.textColor,v=t.hoverColor||(0,k.fade)(m,.1),g=!f&&(o||l),b=!f&&!(o||l),x=f&&1===h,_=f&&h>1,w={root:{backgroundColor:!r.isKeyboardFocused&&!r.hovered||r.rightIconButtonHovered||r.rightIconButtonKeyboardFocused?null:v,color:m,display:"block",fontSize:16,lineHeight:"16px",position:"relative",transition:A.default.easeOut()},innerDiv:{marginLeft:s*y.nestedLevelDepth,paddingLeft:a||o||i||n?72:16,paddingRight:u||l||c?56:p?72:16,paddingBottom:g?20:16,paddingTop:b||_?16:20,position:"relative"},icons:{height:24,width:24,display:"block",position:"absolute",top:x?12:g?4:0,margin:12},leftIcon:{left:4},rightIcon:{right:4},avatars:{position:"absolute",top:g?8:16},label:{cursor:"pointer"},leftAvatar:{left:16},rightAvatar:{right:16},leftCheckbox:{position:"absolute",display:"block",width:24,top:x?24:g?16:12,left:16},primaryText:{},rightIconButton:{position:"absolute",display:"block",top:x?12:g?4:0,right:4},rightToggle:{position:"absolute",display:"block",width:54,top:x?25:g?17:13,right:8},secondaryText:{fontSize:14,lineHeight:_?"18px":"16px",height:_?36:16,margin:0,marginTop:4,color:y.secondaryTextColor,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:_?null:"nowrap",display:_?"-webkit-box":null,WebkitLineClamp:_?2:null,WebkitBoxOrient:_?"vertical":null}};return w}Object.defineProperty(e,"__esModule",{value:!0});var i=r(6),a=n(i),s=r(5),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=r(15),M=n(T),S=r(116),E=n(S),k=r(91),C=r(17),A=n(C),P=r(57),L=n(P),D=r(42),O=n(D),I=r(1026),R=n(I),N=r(1027),j=n(N),F=r(947),z=n(F),B=function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.state={hovered:!1,isKeyboardFocused:!1,open:!1,rightIconButtonHovered:!1,rightIconButtonKeyboardFocused:!1,touch:!1},n.handleKeyboardFocus=function(t,e){n.setState({isKeyboardFocused:e}),n.props.onKeyboardFocus(t,e)},n.handleMouseEnter=function(t){n.state.touch||n.setState({hovered:!0}),n.props.onMouseEnter(t)},n.handleMouseLeave=function(t){n.setState({hovered:!1}),n.props.onMouseLeave(t)},n.handleNestedListToggle=function(t){t.stopPropagation(),null===n.props.open?n.setState({open:!n.state.open},function(){n.props.onNestedListToggle(n)}):n.props.onNestedListToggle((0,l.default)({},n,{state:{open:!n.state.open}}))},n.handleRightIconButtonKeyboardFocus=function(t,e){e&&n.setState({isKeyboardFocused:!1,rightIconButtonKeyboardFocused:e});var r=n.props.rightIconButton;r&&r.props.onKeyboardFocus&&r.props.onKeyboardFocus(t,e)},n.handleRightIconButtonMouseLeave=function(t){var e=n.props.rightIconButton;n.setState({rightIconButtonHovered:!1}),e&&e.props.onMouseLeave&&e.props.onMouseLeave(t)},n.handleRightIconButtonMouseEnter=function(t){var e=n.props.rightIconButton;n.setState({rightIconButtonHovered:!0}),e&&e.props.onMouseEnter&&e.props.onMouseEnter(t)},n.handleRightIconButtonMouseUp=function(t){var e=n.props.rightIconButton;t.stopPropagation(),e&&e.props.onMouseUp&&e.props.onMouseUp(t)},n.handleRightIconButtonTouchTap=function(t){var e=n.props.rightIconButton;t.stopPropagation(),e&&e.props.onTouchTap&&e.props.onTouchTap(t)},n.handleTouchStart=function(t){n.setState({touch:!0}),n.props.onTouchStart(t)},n.handleTouchEnd=function(t){n.setState({touch:!0}),n.props.onTouchEnd(t)},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"componentWillMount",value:function(){this.setState({open:null===this.props.open?this.props.initiallyOpen===!0:this.props.open})}},{key:"componentWillReceiveProps",value:function(t){null!==t.open&&this.setState({open:t.open}),t.disabled&&this.state.hovered&&this.setState({hovered:!1})}},{key:"shouldComponentUpdate",value:function(t,e,r){return!(0,E.default)(this.props,t)||!(0,E.default)(this.state,e)||!(0,E.default)(this.context,r)}},{key:"applyFocusState",value:function(t){var e=this.refs.enhancedButton;if(e){var r=M.default.findDOMNode(e);switch(t){case"none":r.blur();break;case"focused":r.focus();break;case"keyboard-focused":e.setKeyboardFocus(),r.focus()}}}},{key:"createDisabledElement",value:function(t,e,r){var n=this.props,o=n.innerDivStyle,i=n.style,a=(0,x.default)({},t.root,t.innerDiv,o,i);return w.default.createElement("div",(0,l.default)({},r,{style:this.context.muiTheme.prepareStyles(a)}),e)}},{key:"createLabelElement",value:function(t,e,r){var n=this.props,o=n.innerDivStyle,i=n.style,a=(0,x.default)({},t.root,t.innerDiv,o,t.label,i);return w.default.createElement("label",(0,l.default)({},r,{style:this.context.muiTheme.prepareStyles(a)}),e)}},{key:"createTextElement",value:function(t,e,r){var n=this.context.muiTheme.prepareStyles;if(w.default.isValidElement(e)){var o=(0,x.default)({},t,e.props.style);return"string"==typeof e.type&&(o=n(o)),w.default.cloneElement(e,{key:r,style:o})}return w.default.createElement("div",{key:r,style:n(t)},e)}},{key:"pushElement",value:function(t,e,r,n){if(e){var o=(0,x.default)({},r,e.props.style);t.push(w.default.cloneElement(e,(0,l.default)({key:t.length,style:o},n)))}}},{key:"render",value:function(){var t=this.props,e=t.autoGenerateNestedIndicator,r=t.children,n=t.disabled,i=t.disableKeyboardFocus,s=(t.hoverColor,t.initiallyOpen,t.innerDivStyle),u=(t.insetChildren,t.leftAvatar),c=t.leftCheckbox,p=t.leftIcon,f=t.nestedItems,h=t.nestedLevel,d=t.nestedListStyle,y=(t.onKeyboardFocus,t.onMouseEnter,t.onMouseLeave,t.onNestedListToggle,t.onTouchStart,t.onTouchTap),m=t.rightAvatar,v=t.rightIcon,g=t.rightIconButton,b=t.rightToggle,_=t.primaryText,T=t.primaryTogglesNestedList,M=t.secondaryText,S=(t.secondaryTextLines,t.style),E=(0,a.default)(t,["autoGenerateNestedIndicator","children","disabled","disableKeyboardFocus","hoverColor","initiallyOpen","innerDivStyle","insetChildren","leftAvatar","leftCheckbox","leftIcon","nestedItems","nestedLevel","nestedListStyle","onKeyboardFocus","onMouseEnter","onMouseLeave","onNestedListToggle","onTouchStart","onTouchTap","rightAvatar","rightIcon","rightIconButton","rightToggle","primaryText","primaryTogglesNestedList","secondaryText","secondaryTextLines","style"]),k=this.context.muiTheme.prepareStyles,C=o(this.props,this.context,this.state),A=[r];if(p){var P={color:p.props.color||this.context.muiTheme.listItem.leftIconColor};this.pushElement(A,p,(0,x.default)({},C.icons,C.leftIcon),P)}if(v){var D={color:v.props.color||this.context.muiTheme.listItem.rightIconColor};this.pushElement(A,v,(0,x.default)({},C.icons,C.rightIcon),D)}u&&this.pushElement(A,u,(0,x.default)({},C.avatars,C.leftAvatar)),m&&this.pushElement(A,m,(0,x.default)({},C.avatars,C.rightAvatar)),c&&this.pushElement(A,c,(0,x.default)({},C.leftCheckbox));var I=f.length,N=m||v||g||b,F=I&&e&&!N;if(g||F){var B=g,U={onKeyboardFocus:this.handleRightIconButtonKeyboardFocus,onMouseEnter:this.handleRightIconButtonMouseEnter,onMouseLeave:this.handleRightIconButtonMouseLeave,onTouchTap:this.handleRightIconButtonTouchTap,onMouseDown:this.handleRightIconButtonMouseUp,onMouseUp:this.handleRightIconButtonMouseUp};F&&(B=this.state.open?w.default.createElement(O.default,null,w.default.createElement(R.default,null)):w.default.createElement(O.default,null,w.default.createElement(j.default,null)),U.onTouchTap=this.handleNestedListToggle),this.pushElement(A,B,(0,x.default)({},C.rightIconButton),U)}if(b&&this.pushElement(A,b,(0,x.default)({},C.rightToggle)),_){var V=this.createTextElement(C.primaryText,_,"primaryText");A.push(V)}if(M){var H=this.createTextElement(C.secondaryText,M,"secondaryText");A.push(H)}var W=f.length?w.default.createElement(z.default,{nestedLevel:h,open:this.state.open,style:d},f):void 0,q=!T&&(c||b);return w.default.createElement("div",null,q?this.createLabelElement(C,A,E):n?this.createDisabledElement(C,A,E):w.default.createElement(L.default,(0,l.default)({containerElement:"span"},E,{disableKeyboardFocus:i||this.state.rightIconButtonKeyboardFocused,onKeyboardFocus:this.handleKeyboardFocus,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onTouchTap:T?this.handleNestedListToggle:y,ref:"enhancedButton",style:(0,x.default)({},C.root,S)}),w.default.createElement("div",{style:k((0,x.default)(C.innerDiv,s))},A)),W)}}]),e}(_.Component);B.muiName="ListItem",B.defaultProps={autoGenerateNestedIndicator:!0,disableKeyboardFocus:!1,disabled:!1,initiallyOpen:!1,insetChildren:!1,nestedItems:[],nestedLevel:0,onKeyboardFocus:function(){},onMouseEnter:function(){},onMouseLeave:function(){},onNestedListToggle:function(){},onTouchEnd:function(){},onTouchStart:function(){},open:null,primaryTogglesNestedList:!1,secondaryTextLines:1},B.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=B},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.muiTheme.baseTheme.palette.disabledColor,n=e.muiTheme.baseTheme.palette.textColor,o=t.desktop?64:72,i=t.desktop?24:16,a={root:{color:t.disabled?r:n,cursor:t.disabled?"not-allowed":"pointer",minHeight:t.desktop?"32px":"48px",lineHeight:t.desktop?"32px":"48px",fontSize:t.desktop?15:16,whiteSpace:"nowrap"},innerDivStyle:{paddingLeft:t.leftIcon||t.insetChildren||t.checked?o:i,paddingRight:t.rightIcon?o:i,paddingBottom:0,paddingTop:0},secondaryText:{float:"right"},leftIconDesktop:{margin:0,left:24,top:4},rightIconDesktop:{margin:0,right:24,top:4,fill:e.muiTheme.menuItem.rightIconDesktopFill}};return a}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=r(15),M=n(T),S=r(116),E=n(S),k=r(133),C=n(k),A=r(1025),P=n(A),L=r(268),D=n(L),O=r(187),I=n(O),R={position:"relative"},N=function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.state={open:!1},n.cloneMenuItem=function(t){return w.default.cloneElement(t,{onTouchTap:function(e){t.props.menuItems||n.handleRequestClose(),t.props.onTouchTap&&t.props.onTouchTap(e)}})},n.handleTouchTap=function(t){t.preventDefault(),n.setState({open:!0,anchorEl:M.default.findDOMNode(n)}),n.props.onTouchTap&&n.props.onTouchTap(t)},n.handleRequestClose=function(){n.setState({open:!1,anchorEl:null})},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"componentDidMount",value:function(){this.applyFocusState()}},{key:"componentWillReceiveProps",value:function(t){this.state.open&&"none"===t.focusState&&this.handleRequestClose()}},{key:"shouldComponentUpdate",value:function(t,e,r){return!(0,E.default)(this.props,t)||!(0,E.default)(this.state,e)||!(0,E.default)(this.context,r)}},{key:"componentDidUpdate",value:function(){this.applyFocusState()}},{key:"componentWillUnmount",value:function(){this.state.open&&this.setState({open:!1})}},{key:"applyFocusState",value:function(){this.refs.listItem.applyFocusState(this.props.focusState)}},{key:"render",value:function(){var t=this.props,e=t.checked,r=t.children,n=t.desktop,i=t.disabled,s=(t.focusState,t.innerDivStyle),u=t.insetChildren,c=t.leftIcon,p=t.menuItems,f=t.rightIcon,h=t.secondaryText,d=t.style,y=t.animation,m=(t.value,(0,l.default)(t,["checked","children","desktop","disabled","focusState","innerDivStyle","insetChildren","leftIcon","menuItems","rightIcon","secondaryText","style","animation","value"])),v=this.context.muiTheme.prepareStyles,g=o(this.props,this.context),b=(0,x.default)(g.root,d),_=(0,x.default)(g.innerDivStyle,s),T=c?c:e?w.default.createElement(P.default,null):null;if(T){var M=n?(0,x.default)(g.leftIconDesktop,T.props.style):T.props.style;T=w.default.cloneElement(T,{style:M})}var S=void 0;if(f){var E=n?(0,x.default)(g.rightIconDesktop,f.props.style):f.props.style;S=w.default.cloneElement(f,{style:E})}var k=void 0;if(h){var A=w.default.isValidElement(h),L=A?(0,x.default)(g.secondaryText,h.props.style):null;k=A?w.default.cloneElement(h,{style:L}):w.default.createElement("div",{style:v(g.secondaryText)},h)}var O=void 0;return p&&(O=w.default.createElement(C.default,{animation:y,anchorOrigin:{horizontal:"right",vertical:"top"},anchorEl:this.state.anchorEl,open:this.state.open,useLayerForClickAway:!1,onRequestClose:this.handleRequestClose},w.default.createElement(I.default,{desktop:n,disabled:i,style:R},w.default.Children.map(p,this.cloneMenuItem))),m.onTouchTap=this.handleTouchTap),w.default.createElement(D.default,(0,a.default)({},m,{disabled:i,hoverColor:this.context.muiTheme.menuItem.hoverColor,innerDivStyle:_,insetChildren:u,leftIcon:T,ref:"listItem",rightIcon:S,style:b}),r,k,O)}}]),e}(_.Component);N.muiName="MenuItem",N.defaultProps={checked:!1,desktop:!1,disabled:!1,focusState:"none",insetChildren:!1},N.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=N},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){var n=t.targetOrigin,o=r.open,i=e.muiTheme,a=n.horizontal.replace("middle","vertical");return{root:{position:"fixed",zIndex:i.zIndex.popover,opacity:o?1:0,transform:o?"scaleY(1)":"scaleY(0)",transformOrigin:a+" "+n.vertical,transition:w.default.easeOut("450ms",["transform","opacity"]),maxHeight:"100%"}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(8),a=n(i),s=r(2),l=n(s),u=r(7),c=n(u),p=r(4),f=n(p),h=r(3),d=n(h),y=r(10),m=n(y),v=r(1),g=n(v),b=r(25),x=n(b),_=r(17),w=n(_),T=r(58),M=(n(T),function(t){function e(){var t,r,n,o;(0,l.default)(this,e);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return r=n=(0,f.default)(this,(t=e.__proto__||(0,a.default)(e)).call.apply(t,[this].concat(s))),n.state={open:!1},o=r,(0,f.default)(n,o)}return(0,d.default)(e,t),(0,c.default)(e,[{key:"componentDidMount",value:function(){this.setState({open:!0})}},{key:"componentWillReceiveProps",value:function(t){this.setState({open:t.open})}},{key:"render",value:function(){var t=this.props,e=t.className,r=t.style,n=t.zDepth,i=o(this.props,this.context,this.state);return g.default.createElement(x.default,{style:(0,m.default)(i.root,r),zDepth:n,className:e},this.props.children)}}]),e}(v.Component));M.defaultProps={style:{},zDepth:1},M.contextTypes={muiTheme:v.PropTypes.object.isRequired},e.default=M},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(6),s=n(a),l=r(68),u=n(l),c=r(10),p=n(c),f=r(1),h=n(f),d=r(1001),y=n(d),m=r(13),v=n(m),g=function(t,e){var r=t.active,n=t.completed,o=t.disabled,i=e.muiTheme,a=e.stepper,s=i.stepper,l=s.textColor,u=s.disabledTextColor,c=s.iconColor,p=s.inactiveIconColor,f=a.orientation,h={root:{height:"horizontal"===f?72:64,color:l,display:"flex",alignItems:"center",fontSize:14,paddingLeft:14,paddingRight:14},icon:{color:c,display:"block",fontSize:24,width:24,height:24},iconContainer:{paddingRight:8}};return r&&(h.root.fontWeight=500),n||r||(h.icon.color=p),o&&(h.icon.color=p,h.root.color=u,h.root.cursor="not-allowed"),h},b=function(t,e,r){var n="undefined"==typeof e?"undefined":(0,u.default)(e);return"number"===n||"string"===n?t?h.default.createElement(y.default,{color:r.icon.color,style:r.icon}):h.default.createElement(v.default,{color:r.icon.color,style:r.icon},h.default.createElement("circle",{cx:"12",cy:"12",r:"10"}),h.default.createElement("text",{x:"12",y:"16",textAnchor:"middle",fontSize:"12",fill:"#fff"},e)):e},x=function(t,e){var r=(t.active,t.children),n=t.completed,o=t.icon,a=t.iconContainerStyle,l=(t.last,t.style),u=(0,s.default)(t,["active","children","completed","icon","iconContainerStyle","last","style"]),c=e.muiTheme.prepareStyles,f=g(t,e),d=b(n,o,f);return h.default.createElement("span",(0,i.default)({style:c((0,p.default)(f.root,l))},u),d&&h.default.createElement("span",{style:c((0,p.default)(f.iconContainer,a))},d),r)};x.muiName="StepLabel",x.contextTypes={muiTheme:f.PropTypes.object.isRequired,stepper:f.PropTypes.object},e.default=x},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.muiTheme.tableHeaderColumn;return{root:{fontWeight:"normal",fontSize:12,paddingLeft:r.spacing,paddingRight:r.spacing,height:r.height,textAlign:"left",whiteSpace:"nowrap",textOverflow:"ellipsis",color:r.textColor,position:"relative"},tooltip:{boxSizing:"border-box",marginTop:r.height/2}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=r(418),M=n(T),S=function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.state={hovered:!1},n.onMouseEnter=function(){void 0!==n.props.tooltip&&n.setState({hovered:!0})},n.onMouseLeave=function(){void 0!==n.props.tooltip&&n.setState({hovered:!1})},n.onClick=function(t){n.props.onClick&&n.props.onClick(t,n.props.columnNumber)},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){var t=this.props,e=t.children,r=t.className,n=(t.columnNumber,t.hoverable,t.onClick,t.onHover,t.onHoverExit,t.style),i=t.tooltip,s=t.tooltipStyle,u=(0,l.default)(t,["children","className","columnNumber","hoverable","onClick","onHover","onHoverExit","style","tooltip","tooltipStyle"]),c=this.context.muiTheme.prepareStyles,p=o(this.props,this.context),f={onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.onClick},h=void 0;return void 0!==i&&(h=w.default.createElement(M.default,{label:i,show:this.state.hovered,style:(0,x.default)(p.tooltip,s)})),w.default.createElement("th",(0,a.default)({className:r,style:c((0,x.default)(p.root,n))},f,u),h,e)}}]),e}(_.Component);S.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=S},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=r(15),m=n(y),v=r(191),g=n(v),b=function t(e,r){return null!==r&&(e===r||t(e,r.parentNode))},x=["mouseup","touchend"],_=function(t){return x.forEach(function(e){return g.default.on(document,e,t)})},w=function(t){return x.forEach(function(e){return g.default.off(document,e,t)})},T=function(t){function e(){var t,r,n,o;(0,s.default)(this,e);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return r=n=(0,p.default)(this,(t=e.__proto__||(0,i.default)(e)).call.apply(t,[this].concat(l))),n.handleClickAway=function(t){if(!t.defaultPrevented&&n.isCurrentlyMounted){var e=m.default.findDOMNode(n);document.documentElement.contains(t.target)&&!b(e,t.target)&&n.props.onClickAway(t)}},o=r,(0,p.default)(n,o)}return(0,h.default)(e,t),(0,u.default)(e,[{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0,this.props.onClickAway&&_(this.handleClickAway)}},{key:"componentDidUpdate",value:function(t){t.onClickAway!==this.props.onClickAway&&(w(this.handleClickAway),this.props.onClickAway&&_(this.handleClickAway))}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,w(this.handleClickAway)}},{key:"render",value:function(){return this.props.children}}]),e}(d.Component);e.default=T},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.muiTheme.baseTheme;return{root:{cursor:t.disabled?"not-allowed":"pointer",position:"relative",overflow:"visible",display:"table",height:"auto",width:"100%"},input:{position:"absolute",cursor:"inherit",pointerEvents:"all",opacity:0,width:"100%",height:"100%",zIndex:2,left:0,boxSizing:"border-box",padding:0,margin:0},controls:{display:"flex",width:"100%",height:"100%"},label:{float:"left",position:"relative",display:"block",width:"calc(100% - 60px)",lineHeight:"24px",color:r.palette.textColor,fontFamily:r.fontFamily},wrap:{transition:C.default.easeOut(),float:"left",position:"relative",display:"block",flexShrink:0,width:60-r.spacing.desktopGutterLess,marginRight:"right"===t.labelPosition?r.spacing.desktopGutterLess:0,marginLeft:"left"===t.labelPosition?r.spacing.desktopGutterLess:0},ripple:{color:t.rippleColor||r.palette.primary1Color,height:"200%",width:"200%",top:-12,left:-12}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=r(77),M=n(T),S=r(39),E=n(S),k=r(17),C=n(k),A=r(275),P=n(A),L=r(419),D=n(L),O=r(25),I=n(O),R=r(43),N=(n(R),function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.state={isKeyboardFocused:!1},n.handleChange=function(t){n.tabPressed=!1,n.setState({isKeyboardFocused:!1});var e=n.refs.checkbox.checked;!n.props.hasOwnProperty("checked")&&n.props.onParentShouldUpdate&&n.props.onParentShouldUpdate(e),n.props.onSwitch&&n.props.onSwitch(t,e)},n.handleKeyDown=function(t){var e=(0,E.default)(t);"tab"===e&&(n.tabPressed=!0),n.state.isKeyboardFocused&&"space"===e&&n.handleChange(t)},n.handleKeyUp=function(t){n.state.isKeyboardFocused&&"space"===(0,E.default)(t)&&n.handleChange(t)},n.handleMouseDown=function(t){0===t.button&&n.refs.touchRipple.start(t)},n.handleMouseUp=function(){n.refs.touchRipple.end()},n.handleMouseLeave=function(){n.refs.touchRipple.end()},n.handleTouchStart=function(t){n.refs.touchRipple.start(t)},n.handleTouchEnd=function(){n.refs.touchRipple.end()},n.handleBlur=function(t){n.setState({isKeyboardFocused:!1}),n.props.onBlur&&n.props.onBlur(t)},n.handleFocus=function(t){setTimeout(function(){n.tabPressed&&n.setState({isKeyboardFocused:!0})},150),n.props.onFocus&&n.props.onFocus(t)},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"componentDidMount",value:function(){var t=this.refs.checkbox;this.props.switched&&t.checked===this.props.switched||!this.props.onParentShouldUpdate||this.props.onParentShouldUpdate(t.checked)}},{key:"componentWillReceiveProps",value:function(t){var e=t.hasOwnProperty("checked"),r=t.hasOwnProperty("toggled"),n=t.hasOwnProperty("defaultChecked")&&t.defaultChecked!==this.props.defaultChecked;if(e||r||n){var o=t.checked||t.toggled||t.defaultChecked||!1;this.setState({switched:o}),this.props.onParentShouldUpdate&&o!==this.props.switched&&this.props.onParentShouldUpdate(o)}}},{key:"isSwitched",value:function(){return this.refs.checkbox.checked}},{key:"setSwitched",value:function(t){this.props.hasOwnProperty("checked")&&this.props.checked!==!1||(this.props.onParentShouldUpdate&&this.props.onParentShouldUpdate(t),this.refs.checkbox.checked=t)}},{key:"getValue",value:function(){return this.refs.checkbox.value}},{key:"render",value:function(){var t=this.props,e=t.name,r=t.value,n=t.iconStyle,i=t.inputStyle,s=t.inputType,u=t.label,c=t.labelStyle,p=t.labelPosition,f=(t.onSwitch,t.onBlur,t.onFocus,t.onMouseUp,t.onMouseDown,t.onMouseLeave,t.onTouchStart,t.onTouchEnd,t.onParentShouldUpdate,t.disabled),h=t.disableTouchRipple,d=t.disableFocusRipple,y=t.className,m=(t.rippleColor,t.rippleStyle),v=t.style,g=(t.switched,t.switchElement),b=t.thumbStyle,_=t.trackStyle,T=(0,l.default)(t,["name","value","iconStyle","inputStyle","inputType","label","labelStyle","labelPosition","onSwitch","onBlur","onFocus","onMouseUp","onMouseDown","onMouseLeave","onTouchStart","onTouchEnd","onParentShouldUpdate","disabled","disableTouchRipple","disableFocusRipple","className","rippleColor","rippleStyle","style","switched","switchElement","thumbStyle","trackStyle"]),S=this.context.muiTheme.prepareStyles,E=o(this.props,this.context),k=(0,x.default)(E.wrap,n),C=(0,x.default)(E.ripple,m);b&&(k.marginLeft/=2,k.marginRight/=2);var A=u&&w.default.createElement("label",{style:S((0,x.default)(E.label,c))},u),L=!f&&!h,O=!f&&!d,R=w.default.createElement(D.default,{ref:"touchRipple",key:"touchRipple",style:C,color:C.color,muiTheme:this.context.muiTheme,centerRipple:!0}),N=w.default.createElement(P.default,{key:"focusRipple",innerStyle:C,color:C.color,muiTheme:this.context.muiTheme,show:this.state.isKeyboardFocused}),j=[L?R:null,O?N:null],F=w.default.createElement("input",(0,a.default)({},T,{ref:"checkbox",type:s,style:S((0,x.default)(E.input,i)),name:e,value:r,disabled:f,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.handleChange,onMouseUp:L&&this.handleMouseUp,onMouseDown:L&&this.handleMouseDown,onMouseLeave:L&&this.handleMouseLeave,onTouchStart:L&&this.handleTouchStart,onTouchEnd:L&&this.handleTouchEnd})),z=b?w.default.createElement("div",{style:S(k)},w.default.createElement("div",{style:S((0,x.default)({},_))}),w.default.createElement(I.default,{style:b,zDepth:1,circle:!0}," ",j," ")):w.default.createElement("div",{style:S(k)},g,j),B="right"===p?w.default.createElement("div",{style:E.controls},z,A):w.default.createElement("div",{style:E.controls},A,z);return w.default.createElement("div",{ref:"root",className:y,style:S((0,x.default)(E.root,v))},w.default.createElement(M.default,{target:"window",onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp}),F,B)}}]),e}(_.Component));N.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=N},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(10),y=n(d),m=r(1),v=n(m),g=r(15),b=n(g),x=r(116),_=n(x),w=r(110),T=n(w),M=r(17),S=n(M),E=r(991),k=n(E),C=750,A=function(t){function e(){var t,r,n,o;(0,s.default)(this,e);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return r=n=(0,p.default)(this,(t=e.__proto__||(0,i.default)(e)).call.apply(t,[this].concat(l))),n.pulsate=function(){var t=b.default.findDOMNode(n.refs.innerCircle);if(t){var e="scale(1)",r="scale(0.85)",o=t.style.transform||e,i=o===e?r:e;T.default.set(t.style,"transform",i),n.timeout=setTimeout(n.pulsate,C)}},o=r,(0,p.default)(n,o)}return(0,h.default)(e,t),(0,u.default)(e,[{key:"componentDidMount",value:function(){this.props.show&&(this.setRippleSize(),this.pulsate())}},{key:"shouldComponentUpdate",value:function(t,e){return!(0,_.default)(this.props,t)||!(0,_.default)(this.state,e)}},{key:"componentDidUpdate",value:function(){this.props.show?(this.setRippleSize(),this.pulsate()):this.timeout&&clearTimeout(this.timeout);
}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"getRippleElement",value:function(t){var e=t.color,r=t.innerStyle,n=t.opacity,o=this.context.muiTheme,i=o.prepareStyles,a=o.ripple,s=(0,y.default)({position:"absolute",height:"100%",width:"100%",borderRadius:"50%",opacity:n?n:.16,backgroundColor:e||a.color,transition:S.default.easeOut(C+"ms","transform",null,S.default.easeInOutFunction)},r);return v.default.createElement("div",{ref:"innerCircle",style:i((0,y.default)({},s))})}},{key:"setRippleSize",value:function(){var t=b.default.findDOMNode(this.refs.innerCircle),e=t.offsetHeight,r=t.offsetWidth,n=Math.max(e,r),o=0;t.style.top.indexOf("px",t.style.top.length-2)!==-1&&(o=parseInt(t.style.top)),t.style.height=n+"px",t.style.top=e/2-n/2+o+"px"}},{key:"render",value:function(){var t=this.props,e=t.show,r=t.style,n=(0,y.default)({height:"100%",width:"100%",position:"absolute",top:0,left:0},r),o=e?this.getRippleElement(this.props):null;return v.default.createElement(k.default,{maxScale:.85,style:n},o)}}]),e}(m.Component);A.contextTypes={muiTheme:m.PropTypes.object.isRequired},e.default=A},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(6),s=n(a),l=r(8),u=n(l),c=r(2),p=n(c),f=r(7),h=n(f),d=r(4),y=n(d),m=r(3),v=n(m),g=r(10),b=n(g),x=r(1),_=n(x),w=r(159),T=n(w),M=r(993),S=n(M),E=function(t){function e(){var t,r,n,o;(0,p.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,y.default)(this,(t=e.__proto__||(0,u.default)(e)).call.apply(t,[this].concat(a))),n.getLeaveDirection=function(){return n.props.direction},o=r,(0,y.default)(n,o)}return(0,v.default)(e,t),(0,h.default)(e,[{key:"render",value:function(){var t=this,e=this.props,r=e.enterDelay,n=e.children,o=e.childStyle,a=e.direction,l=e.style,u=(0,s.default)(e,["enterDelay","children","childStyle","direction","style"]),c=this.context.muiTheme.prepareStyles,p=(0,b.default)({},{position:"relative",overflow:"hidden",height:"100%"},l),f=_.default.Children.map(n,function(e){return _.default.createElement(S.default,{key:e.key,direction:a,enterDelay:r,getLeaveDirection:t.getLeaveDirection,style:o},e)},this);return _.default.createElement(T.default,(0,i.default)({},u,{style:c(p),component:"div"}),f)}}]),e}(x.Component);E.defaultProps={enterDelay:0,direction:"left"},E.contextTypes={muiTheme:x.PropTypes.object.isRequired},e.default=E},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){t.offsetHeight}function i(t,e){var r=e["offset"+(0,S.default)(t)],n=C[t];return r+parseInt((0,b.default)(e,n[0]),10)+parseInt((0,b.default)(e,n[1]),10)}e.__esModule=!0;var a=r(5),s=n(a),l=r(6),u=n(l),c=r(2),p=n(c),f=r(4),h=n(f),d=r(3),y=n(d),m=r(11),v=n(m),g=r(179),b=n(g),x=r(1),_=n(x),w=r(479),T=n(w),M=r(457),S=n(M),E=r(34),k=n(E),C={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]},A={in:_.default.PropTypes.bool,mountOnEnter:_.default.PropTypes.bool,unmountOnExit:_.default.PropTypes.bool,transitionAppear:_.default.PropTypes.bool,timeout:_.default.PropTypes.number,onEnter:_.default.PropTypes.func,onEntering:_.default.PropTypes.func,onEntered:_.default.PropTypes.func,onExit:_.default.PropTypes.func,onExiting:_.default.PropTypes.func,onExited:_.default.PropTypes.func,dimension:_.default.PropTypes.oneOfType([_.default.PropTypes.oneOf(["height","width"]),_.default.PropTypes.func]),getDimensionValue:_.default.PropTypes.func,role:_.default.PropTypes.string},P={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,transitionAppear:!1,dimension:"height",getDimensionValue:i},L=function(t){function e(r,n){(0,p.default)(this,e);var o=(0,h.default)(this,t.call(this,r,n));return o.handleEnter=o.handleEnter.bind(o),o.handleEntering=o.handleEntering.bind(o),o.handleEntered=o.handleEntered.bind(o),o.handleExit=o.handleExit.bind(o),o.handleExiting=o.handleExiting.bind(o),o}return(0,y.default)(e,t),e.prototype.handleEnter=function(t){var e=this._dimension();t.style[e]="0"},e.prototype.handleEntering=function(t){var e=this._dimension();t.style[e]=this._getScrollDimensionValue(t,e)},e.prototype.handleEntered=function(t){var e=this._dimension();t.style[e]=null},e.prototype.handleExit=function(t){var e=this._dimension();t.style[e]=this.props.getDimensionValue(e,t)+"px",o(t)},e.prototype.handleExiting=function(t){var e=this._dimension();t.style[e]="0"},e.prototype._dimension=function(){return"function"==typeof this.props.dimension?this.props.dimension():this.props.dimension},e.prototype._getScrollDimensionValue=function(t,e){return t["scroll"+(0,S.default)(e)]+"px"},e.prototype.render=function(){var t=this.props,e=t.onEnter,r=t.onEntering,n=t.onEntered,o=t.onExit,i=t.onExiting,a=t.className,l=(0,u.default)(t,["onEnter","onEntering","onEntered","onExit","onExiting","className"]);delete l.dimension,delete l.getDimensionValue;var c=(0,k.default)(this.handleEnter,e),p=(0,k.default)(this.handleEntering,r),f=(0,k.default)(this.handleEntered,n),h=(0,k.default)(this.handleExit,o),d=(0,k.default)(this.handleExiting,i),y={width:"width"===this._dimension()};return _.default.createElement(T.default,(0,s.default)({},l,{"aria-expanded":l.role?l.in:null,className:(0,v.default)(a,y),exitedClassName:"collapse",exitingClassName:"collapsing",enteredClassName:"collapse in",enteringClassName:"collapsing",onEnter:c,onEntering:p,onEntered:f,onExit:h,onExiting:d}))},e}(_.default.Component);L.propTypes=A,L.defaultProps=P,e.default=L,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(12),b={glyph:v.default.PropTypes.string.isRequired},x=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t,e=this.props,r=e.glyph,n=e.className,o=(0,s.default)(e,["glyph","className"]),a=(0,g.splitBsProps)(o),l=a[0],u=a[1],c=(0,i.default)({},(0,g.getClassSet)(l),(t={},t[(0,g.prefix)(l,r)]=!0,t));return v.default.createElement("span",(0,i.default)({},u,{className:(0,y.default)(n,c)}))},e}(v.default.Component);x.propTypes=b,e.default=(0,g.bsClass)("glyphicon",x),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(23),b=n(g),x=r(1095),_=n(x),w=r(1096),T=n(w),M=r(1097),S=n(M),E=r(1098),k=n(E),C=r(1099),A=n(C),P=r(1100),L=n(P),D=r(12),O={componentClass:b.default},I={componentClass:"div"},R=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,r=t.className,n=(0,s.default)(t,["componentClass","className"]),o=(0,D.splitBsProps)(n),a=o[0],l=o[1],u=(0,D.getClassSet)(a);return v.default.createElement(e,(0,i.default)({},l,{className:(0,y.default)(r,u)}))},e}(v.default.Component);R.propTypes=O,R.defaultProps=I,R.Heading=T.default,R.Body=_.default,R.Left=S.default,R.Right=L.default,R.List=k.default,R.ListItem=A.default,e.default=(0,D.bsClass)("media",R),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(6),i=n(o),a=r(2),s=n(a),l=r(4),u=n(l),c=r(3),p=n(c),f=r(1),h=n(f),d=r(208),y=n(d),m="tab",v="pane",g=f.PropTypes.oneOfType([f.PropTypes.string,f.PropTypes.number]),b={id:function(t){var e=null;if(!t.generateChildId){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e=g.apply(void 0,[t].concat(n)),e||t.id||(e=new Error("In order to properly initialize Tabs in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to TabContainer is required"))}return e},generateChildId:f.PropTypes.func,onSelect:f.PropTypes.func,activeKey:f.PropTypes.any},x={$bs_tabContainer:h.default.PropTypes.shape({activeKey:f.PropTypes.any,onSelect:f.PropTypes.func.isRequired,getTabId:f.PropTypes.func.isRequired,getPaneId:f.PropTypes.func.isRequired})},_=function(t){function e(){return(0,s.default)(this,e),(0,u.default)(this,t.apply(this,arguments))}return(0,p.default)(e,t),e.prototype.getChildContext=function(){var t=this.props,e=t.activeKey,r=t.onSelect,n=t.generateChildId,o=t.id,i=n||function(t,e){return o?o+"-"+e+"-"+t:null};return{$bs_tabContainer:{activeKey:e,onSelect:r,getTabId:function(t){return i(t,m)},getPaneId:function(t){return i(t,v)}}}},e.prototype.render=function(){var t=this.props,e=t.children,r=(0,i.default)(t,["children"]);return delete r.generateChildId,delete r.onSelect,delete r.activeKey,h.default.cloneElement(h.default.Children.only(e),r)},e}(h.default.Component);_.propTypes=b,_.childContextTypes=x,e.default=(0,y.default)(_,{activeKey:"onSelect"}),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(23),b=n(g),x=r(12),_={componentClass:b.default,animation:m.PropTypes.oneOfType([m.PropTypes.bool,b.default]),mountOnEnter:v.default.PropTypes.bool,unmountOnExit:m.PropTypes.bool},w={componentClass:"div",animation:!0,mountOnEnter:!1,unmountOnExit:!1},T={$bs_tabContainer:m.PropTypes.shape({activeKey:m.PropTypes.any})},M={$bs_tabContent:m.PropTypes.shape({bsClass:m.PropTypes.string,animation:m.PropTypes.oneOfType([m.PropTypes.bool,b.default]),activeKey:m.PropTypes.any,mountOnEnter:m.PropTypes.bool,unmountOnExit:m.PropTypes.bool,onPaneEnter:m.PropTypes.func.isRequired,onPaneExited:m.PropTypes.func.isRequired,exiting:m.PropTypes.bool.isRequired})},S=function(t){function e(r,n){(0,u.default)(this,e);var o=(0,p.default)(this,t.call(this,r,n));return o.handlePaneEnter=o.handlePaneEnter.bind(o),o.handlePaneExited=o.handlePaneExited.bind(o),o.state={activeKey:null,activeChild:null},o}return(0,h.default)(e,t),e.prototype.getChildContext=function(){var t=this.props,e=t.bsClass,r=t.animation,n=t.mountOnEnter,o=t.unmountOnExit,i=this.state.activeKey,a=this.getContainerActiveKey(),s=null!=i?i:a,l=null!=i&&i!==a;return{$bs_tabContent:{bsClass:e,animation:r,activeKey:s,mountOnEnter:n,unmountOnExit:o,onPaneEnter:this.handlePaneEnter,onPaneExited:this.handlePaneExited,exiting:l}}},e.prototype.componentWillReceiveProps=function(t){!t.animation&&this.state.activeChild&&this.setState({activeKey:null,activeChild:null})},e.prototype.componentWillUnmount=function(){this.isUnmounted=!0},e.prototype.handlePaneEnter=function(t,e){return!!this.props.animation&&(e===this.getContainerActiveKey()&&(this.setState({activeKey:e,activeChild:t}),!0))},e.prototype.handlePaneExited=function(t){this.isUnmounted||this.setState(function(e){var r=e.activeChild;return r!==t?null:{activeKey:null,activeChild:null}})},e.prototype.getContainerActiveKey=function(){var t=this.context.$bs_tabContainer;return t&&t.activeKey},e.prototype.render=function(){var t=this.props,e=t.componentClass,r=t.className,n=(0,s.default)(t,["componentClass","className"]),o=(0,x.splitBsPropsAndOmit)(n,["animation","mountOnEnter","unmountOnExit"]),a=o[0],l=o[1];return v.default.createElement(e,(0,i.default)({},l,{className:(0,y.default)(r,(0,x.prefix)(a,"content"))}))},e}(v.default.Component);S.propTypes=_,S.defaultProps=w,S.contextTypes=T,S.childContextTypes=M,e.default=(0,x.bsClass)("tab",S),t.exports=e.default},,,,,,,,,,,,,,,,,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){return t="function"==typeof t?t():t,a.default.findDOMNode(t)||e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(15),a=n(i);t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r,n,o){var a=t[e],l="undefined"==typeof a?"undefined":i(a);return s.default.isValidElement(a)?new Error("Invalid "+n+" `"+o+"` of type ReactElement "+("supplied to `"+r+"`, expected a ReactComponent or a ")+"DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):"object"===l&&"function"==typeof a.render||1===a.nodeType?null:new Error("Invalid "+n+" `"+o+"` of value `"+a+"` "+("supplied to `"+r+"`, expected a ReactComponent or a ")+"DOMElement.")}e.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=r(1),s=n(a),l=r(204),u=n(l);e.default=(0,u.default)(o)},,,,,,,,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleButton=e.PanelHeader=void 0;var o=r(519),i=n(o),a=r(520),s=n(a),l=r(521),u=n(l);e.PanelHeader=s.default,e.ToggleButton=u.default,e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SectionalMenu=e.SectionalContent=e.SectionalPanel=void 0;var o=r(525),i=n(o),a=r(523),s=n(a),l=r(524),u=n(l);e.SectionalPanel=i.default,e.SectionalContent=s.default,e.SectionalMenu=u.default,e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=function(t){function e(){return(0,s.default)(this,e),(0,p.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,h.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){return y.default.createElement("tr",{className:this.props.selected?"selected":""},this.props.fields.map(function(t,e){return y.default.createElement("td",{key:e},t)}))}}]),e}(y.default.Component);m.propTypes={fields:y.default.PropTypes.array.isRequired,selected:y.default.PropTypes.bool.isRequired},e.default=m},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ExecuteButton=void 0;var o=r(533),i=n(o),a=r(534),s=n(a);e.ExecuteButton=i.default,e.default=s.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(552),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(553),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}function i(t){return{type:ve,searchCriterias:t}}function a(t){return{type:_e,searchCriteria:t}}function s(t){return{type:we,datasets:t}}function l(t){return{type:me,datasets:t}}function u(t,e){return{type:Te,key:t,value:e}}function c(t,e){return{type:Me,key:t,value:e}}function p(){return{type:Se}}function f(t,e){return{type:Ee,panel:t,show:e}}function h(t){return{type:ke,currentDateTime:t}}function d(){return{type:Ae,plotlyData:{requestedAt:Date.now(),isFetching:!0}}}function y(t){return{type:Pe,plotlyData:{receivedAt:Date.now(),isFetching:!1,error:t}}}function m(t){var e=t.data,r=t.layout;return{type:Le,plotlyData:{receivedAt:Date.now(),isFetching:!1,data:e,layout:r}}}function v(){return{type:De,climateIndicators:{requestedAt:Date.now(),isFetching:!0}}}function g(t){return{type:Oe,climateIndicators:{receivedAt:Date.now(),isFetching:!1,error:t}}}function b(t){return{type:Ie,climateIndicators:{receivedAt:Date.now(),isFetching:!1,items:t}}}function x(){return{type:rr,currentScalarValue:{requestedAt:Date.now(),isFetching:!0}}}function _(t){return{type:nr,currentScalarValue:{receivedAt:Date.now(),isFetching:!1,error:t}}}function w(t){return{type:or,currentScalarValue:{receivedAt:Date.now(),isFetching:!1,data:t}}}function T(){return{type:Re,facets:{receivedAt:1,requestedAt:Date.now(),isFetching:!0,items:[]}}}function M(t){return{type:Ne,facets:{receivedAt:Date.now(),isFetching:!1,items:[],error:t}}}function S(t){return{type:je,facets:{receivedAt:Date.now(),isFetching:!1,items:t,error:null}}}function E(){return{type:Fe,selectedDatasets:{receivedAt:1,requestedAt:Date.now(),isFetching:!0,items:[]}}}function k(t){return{type:ze,selectedDatasets:{receivedAt:Date.now(),isFetching:!1,items:[],error:t}}}function C(t){return{type:Be,selectedDatasets:{receivedAt:Date.now(),isFetching:!1,items:[t],error:null}}}function A(t){return{type:Ce,pavicsDatasets:{requestedAt:t.date,receivedAt:t.date,archive:!0,isFetching:!1,items:t.results}}}function P(){return{type:We,pavicsDatasets:{requestedAt:Date.now(),isFetching:!0,archive:!1,items:[]}}}function L(t){return{type:qe,pavicsDatasets:{receivedAt:Date.now(),isFetching:!1,archive:!1,items:[],error:t}}}function D(t){return{type:Ge,pavicsDatasets:{receivedAt:Date.now(),isFetching:!1,archive:!1,items:t,error:null}}}function O(){return{type:Ue,esgfDatasets:{requestedAt:Date.now(),isFetching:!0,items:[]}}}function I(t){return{type:Ve,esgfDatasets:{receivedAt:Date.now(),isFetching:!1,items:[],error:t}}}function R(t){return{type:He,esgfDatasets:{receivedAt:Date.now(),isFetching:!1,items:t,error:null}}}function N(t,e){return{type:Ye,selectedWMSLayerDetails:{requestedAt:Date.now(),layer:t,wmsUrl:e,isFetching:!0,data:{}}}}function j(t){return{type:Xe,selectedWMSLayerDetails:{receivedAt:Date.now(),isFetching:!1,data:{},error:t}}}function F(t){return{type:Ke,selectedWMSLayerDetails:{receivedAt:Date.now(),isFetching:!1,data:t,error:null}}}function z(t,e,r){return{type:Ze,selectedWMSLayerTimesteps:{requestedAt:Date.now(),layer:t,wmsUrl:e,day:r,isFetching:!0,data:{}}}}function B(t){return{type:Je,selectedWMSLayerTimesteps:{receivedAt:Date.now(),isFetching:!1,data:{},error:t}}}function U(t){return{type:$e,selectedWMSLayerTimesteps:{receivedAt:Date.now(),isFetching:!1,data:t,error:null}}}function V(){return{type:Qe,jobs:{requestedAt:Date.now(),isFetching:!0,items:[]}}}function H(t){return{type:tr,jobs:{receivedAt:Date.now(),isFetching:!1,items:[],error:t}}}function W(t){return{type:er,jobs:{receivedAt:Date.now(),isFetching:!1,items:t,error:null}}}function q(t,e,r,n,o){return function(i){return i(x()),fetch("/wps/getpoint?opendapUrl="+t+"&lat="+e+"&lon="+r+"&time="+n+"&variable="+o).then(function(t){return t.json()}).then(function(t){t.variable=t[o],delete t[o],i(w(t))}).catch(function(t){return i(_(t))})}}function G(){return function(t){return t(v()),fetch("/api/climate_indicators").then(function(t){return t.json()}).then(function(e){return t(b(e))}).catch(function(e){return t(g(e))})}}function Y(){return function(t){return t(T()),fetch("/api/facets").then(function(t){return t.json()}).then(function(e){return t(S(e))}).catch(function(e){return t(M(e))})}}function X(t,e,r,n,o,i,a,s){return function(l){l(d());var u="/wps/plotly?opendap_url="+t+"&variable_name="+e+"&time_initial_indice="+r+("&time_final_indice="+n+"&spatial1_initial_indice="+o)+("&spatial1_final_indice="+i+"&spatial2_initial_indice="+a)+("&spatial2_final_indice="+s);return fetch(u).then(function(t){return console.log("variable name: ",e),t.json()}).then(function(t){l(m(t))},function(t){l(y(t))})}}function K(t){return function(e){return e(E()),fetch("/api/dataset?url="+t).then(function(t){return t.json()}).then(function(t){return e(C(t))})}}function Z(){return function(t,e){t(P());var r=e().pavics.visualize.selectedFacets,n="";return r.forEach(function(t,e){n+=""+(e>0?",":"")+t.key+":"+t.value}),fetch("/api/datasets/pavics?constraints="+n).then(function(t){return t.json()}).then(function(e){return t(D(e))}).catch(function(e){return t(L(e))})}}function J(){return function(t,e){t(O());var r=e().pavics.visualize.selectedFacets,n="";return r.forEach(function(t,e){n+=""+(e>0?",":"")+t.key+":"+t.value}),fetch("/api/datasets/esgf?constraints="+n).then(function(t){return t.json()}).then(function(e){return t(R(e))}).catch(function(e){return t(I(e))})}}function $(t,e){return function(r){return r(N()),fetch(t+"?request=GetMetadata&item=layerDetails&layerName="+e).then(function(t){return t.json()}).then(function(t){return r(F(t))}).catch(function(t){return r(j(t))})}}function Q(t,e,r){return function(n){return n(z()),fetch(t+"?request=GetMetadata&item=timesteps&day="+r+"&layerName="+e).then(function(t){return t.json()}).then(function(t){return n(U(t))})}}function tt(t){var e=void 0;if(t.identifier)e=t.identifier;else{var r=t.url.slice("process="),n=r.split("=");e=n.slice(-1)[0]}return t=(0,re.default)(t,{identifier:e}),{type:ae.WORKFLOW_CHOOSE_PROCESS,process:t}}function et(t){return{type:ae.WORKFLOW_SET_PROCESSES,processes:t}}function rt(t){return t.map(function(t){t.identifier=t.url.replace("/processes/list?wps=","")}),{type:ae.WORKFLOW_SET_PROVIDERS,items:t}}function nt(t){return{type:ae.WORKFLOW_SET_WPS_PROVIDER,provider:t}}function ot(t){return{type:ae.WORKFLOW_SET_ACTIVE_PROCESS_INPUTS,inputs:t}}function it(t,e){return{type:ae.WORKFLOW_SET_ACTIVE_PROCESS_VALUES,key:t,value:e}}function at(t){return{type:ae.PLATFORM_SET_SECTION,section:t}}function st(t){return{type:ae.WORKFLOW_CHANGE_STEP,step:t}}function lt(){return{type:ae.WORKFLOW_GET_LAST_STEP}}function ut(){return{type:ae.WORKFLOW_GET_NEXT_STEP}}function ct(t){return function(e){e(kt(t))}}function pt(t){return{type:ae.VISUALIZE_SET_MAP_MANIPULATION_MODE,mode:t}}function ft(t){return function(e){e(pt(t))}}function ht(t){return function(e){e(Ct(t))}}function dt(t){return function(e){e(At(t))}}function yt(t){return{type:pe,palette:t}}function mt(t){return function(e){e(yt(t))}}function vt(t){return function(e){e(St(t))}}function gt(){var t=new le.default.format.WMSCapabilities;return function(e){return fetch("http://pluvier.crim.ca:8087/geoserver/wms?request=GetCapabilities").then(function(t){return t.text()}).then(function(e){return t.read(e)}).then(function(t){var r=[];t.Capability.Layer.Layer.map(function(t){r.push({title:t.Title,wmsUrl:"http://pluvier.crim.ca:8087/geoserver/wms",wmsParams:{LAYERS:t.Name,TILED:!0,FORMAT:"image/png"}})}),e(Et(r))})}}function bt(){return{type:xe}}function xt(t){return console.log("about to return the actual action handler"),{type:ge,featureId:t}}function _t(t){return{type:be,featureId:t}}function wt(t){return function(e){console.log("about to dispatch select region"),e(xt(t))}}function Tt(t){return function(e){e(_t(t))}}function Mt(){return function(t){t(bt())}}function St(t){return{type:ye,capabilities:t}}function Et(t){return{type:ce,publicShapeFiles:t}}function kt(t){return{type:fe,shapefile:t}}function Ct(t){return{type:he,basemap:t}}function At(t){return{type:de,layer:t}}function Pt(t){return{type:ue,layer:t}}function Lt(t){return function(e){return fetch("/api/wms/visualizableData?status="+t).then(function(t){return t.json()}).then(function(t){return e(Pt(t))}).catch(function(t){console.log(t)})}}function Dt(t){return function(e){return e(at(t))}}function Ot(t,e){return function(r){r(it(t,e))}}function It(t,e){return function(r){return fetch("/phoenix/inputs?provider="+t+"&process="+e).then(function(t){return t.json()}).then(function(t){r(ot(t.inputs))}).catch(function(t){console.log(t)})}}function Rt(t){return function(e){e(nt(t)),e(ut()),e(Ft(t))}}function Nt(t){return function(e){e(tt(t)),e(ut())}}function jt(){return function(t){return t(V()),fetch("/phoenix/jobs").then(function(t){return t.json()}).then(function(e){return t(W(e.jobs))}).catch(function(e){console.log(e),t(H(e))})}}function Ft(t){return function(e){return fetch("/phoenix/processesList?provider="+t).then(function(t){return t.json()}).then(function(t){return e(et(t.items))}).catch(function(t){console.log(t)})}}function zt(){return function(t){return fetch("/phoenix/processes").then(function(t){return t.json()}).then(function(e){return t(rt(e.items))}).catch(function(t){console.log(t)})}}function Bt(t,e,r){return function(){console.log(r);var n=[];for(var o in r)r.hasOwnProperty(o)&&n.push(encodeURIComponent(o)+"="+encodeURIComponent(r[o]));var i=n.join(";");return fetch("/phoenix/execute?wps="+t+"&process="+e+"&inputs="+i).then(function(t){console.log("received:",t)}).catch(function(t){console.log("problem",t)})}}function Ut(t,e){var r=ir[e.type];return r?r(t,e):t}function Vt(t,e){var r=sr[e.type];return r?r(t,e):t}function Ht(t,e){var r=lr[e.type];return r?r(t,e):t}function Wt(t,e){var r=ar[e.type];return r?r(t,e):t}function qt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe.default,e=arguments[1];return{workflowWizard:Ut(t.workflowWizard,e),platform:Vt(t.platform,e),monitor:Ht(t.monitor,e),visualize:Wt(t.visualize,e)}}Object.defineProperty(e,"__esModule",{value:!0});var Gt,Yt,Xt,Kt=r(212),Zt=o(Kt),Jt=r(79),$t=o(Jt),Qt=r(5),te=o(Qt),ee=r(143),re=o(ee);e.addSearchCriteriasToProject=i,e.removeSearchCriteriasFromProject=a,e.addDatasetsToProject=s,e.addDatasetLayersToVisualize=l,e.addFacetKeyValue=u,e.removeFacetKeyValue=c,e.removeAllFacetKeyValue=p,e.clickTogglePanel=f,e.setCurrentDateTime=h,e.requestPlotlyData=d,e.receivePlotlyDataFailure=y,e.receivePlotlyData=m,e.requestClimateIndicators=v,e.receiveClimateIndicatorsFailure=g,e.receiveClimateIndicators=b,e.requestScalarValue=x,e.receiveScalarValueFailure=_,e.receiveScalarValue=w,e.requestFacets=T,e.receiveFacetsFailure=M,e.receiveFacets=S,e.requestDataset=E,e.receiveDatasetFailure=k,e.receiveDataset=C,e.restorePavicsDatasets=A,e.requestPavicsDatasets=P,e.receivePavicsDatasetsFailure=L,e.receivePavicsDatasets=D,e.requestEsgfDatasets=O,e.receiveEsgfDatasetsFailure=I,e.receiveEsgfDatasets=R,e.requestWMSLayerDetails=N,e.receiveWMSLayerDetailsFailure=j,e.receiveWMSLayerDetails=F,e.requestWMSLayerTimesteps=z,e.receiveWMSLayerTimestepsFailure=B,e.receiveWMSLayerTimesteps=U,e.requestWPSJobs=V,e.receiveWPSJobsFailure=H,e.receiveWPSJobs=W,e.fetchScalarValue=q,e.fetchClimateIndicators=G,e.fetchFacets=Y,e.fetchPlotlyData=X,e.fetchDataset=K,e.fetchPavicsDatasets=Z,e.fetchEsgfDatasets=J,e.fetchWMSLayerDetails=$,e.fetchWMSLayerTimesteps=Q,e.chooseStep=st,e.getLastStep=lt,e.getNextStep=ut,e.selectShapefile=ct,e.selectMapManipulationMode=ft,e.selectBasemap=ht,e.selectDatasetLayer=dt,e.selectColorPalette=mt,e.receivedDatasetCapabilities=vt,e.fetchShapefiles=gt,e.selectRegion=wt,e.unselectRegion=Tt,e.resetSelectedRegions=Mt,e.setSelectedDatasetCapabilities=St,e.fetchVisualizableData=Lt,e.goToSection=Dt,e.handleSelectedProcessValueChange=Ot,e.fetchProcessInputs=It,e.selectWpsProvider=Rt,e.chooseProcess=Nt,e.fetchWPSJobs=jt,e.fetchProcesses=Ft,e.fetchProviders=zt,e.executeProcess=Bt;var ne=r(566),oe=o(ne),ie=r(36),ae=n(ie),se=r(436),le=o(se),ue="Visualize.SET_WMS_LAYER",ce="Visualize.SET_SHAPEFILES",pe="Visualize.SET_SELECTED_COLOR_PALETTE",fe="Visualize.SET_SELECTED_SHAPEFILE",he="Visualize.SET_SELECTED_BASEMAP",de="Visualize.SET_SELECTED_DATASET_LAYER",ye="Visualize.SET_SELECTED_DATASET_CAPABILITIES",me="Visualize.ADD_DATASET_LAYERS_TO_VISUALIZE",ve="Visualize.ADD_SEARCH_CRITERIAS_TO_PROJECTS",ge="Visualize.ADD_FEATURE_TO_SELECTED_REGIONS",be="Visualize.REMOVE_FEATURE_FROM_SELECTED_REGIONS",xe="Visualize.RESET_SELECTED_REGIONS",_e="Visualize.REMOVE_SEARCH_CRITERIAS_FROM_PROJECTS",we="Visualize.ADD_DATASETS_TO_PROJECTS",Te="Visualize.ADD_FACET_KEY_VALUE_PAIR",Me="Visualize.REMOVE_FACET_KEY_VALUE_PAIR",Se="Visualize.REMOVE_ALL_FACET_KEY_VALUE",Ee="Visualize.CLICK_TOGGLE_PANEL",ke="Visualize.SET_CURRENT_TIME_ISO",Ce="Visualize.RESTORE_PAVICS_DATASETS",Ae="Visualize.FETCH_PLOTLY_DATA_REQUEST",Pe="Visualize.FETCH_PLOTLY_DATA_FAILURE",Le="Visualize.FETCH_PLOTLY_DATA_SUCCESS",De="Visualize.FETCH_CLIMATE_INDICATORS_REQUEST",Oe="Visualize.FETCH_CLIMATE_INDICATORS_FAILURE",Ie="Visualize.FETCH_CLIMATE_INDICATORS_SUCCESS",Re="Visualize.FETCH_FACETS_REQUEST",Ne="Visualize.FETCH_FACETS_FAILURE",je="Visualize.FETCH_FACETS_SUCCESS",Fe="Visualize.FETCH_DATASET_REQUEST",ze="Visualize.FETCH_DATASET_FAILURE",Be="Visualize.FETCH_DATASET_SUCCESS",Ue="Visualize.FETCH_ESGF_DATASETS_REQUEST",Ve="Visualize.FETCH_ESGF_DATASETS_FAILURE",He="Visualize.FETCH_ESGF_DATASETS_SUCCESS",We="Visualize.FETCH_PAVICS_DATASETS_REQUEST",qe="Visualize.FETCH_PAVICS_DATASETS_FAILURE",Ge="Visualize.FETCH_PAVICS_DATASETS_SUCCESS",Ye="Visualize.FETCH_WMS_LAYER_DETAILS_REQUEST",Xe="Visualize.FETCH_WMS_LAYER_DETAILS_FAILURE",Ke="Visualize.FETCH_WMS_LAYER_DETAILS_SUCCESS",Ze="Visualize.FETCH_WMS_LAYER_TIMESTEPS_REQUEST",Je="Visualize.FETCH_WMS_LAYER_TIMESTEPS_FAILURE",$e="Visualize.FETCH_WMS_LAYER_TIMESTEPS_SUCCESS",Qe="Visualize.FETCH_WPS_JOBS_REQUEST",tr="Visualize.FETCH_WPS_JOBS_FAILURE",er="Visualize.FETCH_WPS_JOBS_SUCCESS",rr="Visualize.FETCH_SCALAR_VALUE_REQUEST",nr="Visualize.FETCH_SCALAR_VALUE_FAILURE",or="Visualize.FETCH_SCALAR_VALUE_SUCCESS",ir=(Gt={},(0,$t.default)(Gt,ae.WORKFLOW_SET_WPS_PROVIDER,function(t,e){return(0,te.default)({},t,{selectedProvider:e.provider})}),(0,$t.default)(Gt,ae.WORKFLOW_CHOOSE_PROCESS,function(t,e){return(0,te.default)({},t,{selectedProcess:e.process})}),(0,$t.default)(Gt,ae.WORKFLOW_SET_ACTIVE_PROCESS_INPUTS,function(t,e){return(0,te.default)({},t,{selectedProcessInputs:e.inputs})}),(0,$t.default)(Gt,ae.WORKFLOW_SET_ACTIVE_PROCESS_VALUES,function(t,e){return(0,re.default)({},t,{selectedProcessValues:(0,re.default)({},t.selectedProcessValues,(0,$t.default)({},e.key,e.value))})}),(0,$t.default)(Gt,ae.WORKFLOW_CHANGE_STEP,function(t,e){return(0,te.default)({},t,{currentStep:e.step})}),(0,$t.default)(Gt,ae.WORKFLOW_GET_LAST_STEP,function(t){return(0,te.default)({},t,{stepIndex:t.stepIndex-1})}),(0,$t.default)(Gt,ae.WORKFLOW_GET_NEXT_STEP,function(t){return(0,te.default)({},t,{stepIndex:t.stepIndex+1})}),(0,$t.default)(Gt,ae.WORKFLOW_SET_PROCESSES,function(t,e){return(0,te.default)({},t,{processes:e.processes})}),(0,$t.default)(Gt,ae.WORKFLOW_SET_PROVIDERS,function(t,e){return(0,re.default)({},t,{providers:(0,te.default)({},t.providers,{items:e.items})})}),Gt),ar=(Yt={},(0,$t.default)(Yt,ae.VISUALIZE_SET_MAP_MANIPULATION_MODE,function(t,e){return(0,te.default)({},t,{mapManipulationMode:e.mode})}),(0,$t.default)(Yt,ge,function(t,e){var r=t.selectedRegions.concat([e.featureId]);return(0,te.default)({},t,{selectedRegions:r})}),(0,$t.default)(Yt,be,function(t,e){var r=t.selectedRegions.slice();return r.splice(r.indexOf(e.featureId),1),console.log("after removing feature:",r),(0,te.default)({},t,{selectedRegions:r})}),(0,$t.default)(Yt,xe,function(t){return(0,te.default)({},t,{selectedRegions:[]})}),(0,$t.default)(Yt,ue,function(t,e){return(0,te.default)({},t,{layer:e.layer})}),(0,$t.default)(Yt,ce,function(t,e){return(0,te.default)({},t,{publicShapeFiles:e.publicShapeFiles})}),(0,$t.default)(Yt,pe,function(t,e){return(0,te.default)({},t,{selectedColorPalette:e.palette})}),(0,$t.default)(Yt,fe,function(t,e){return(0,te.default)({},t,{selectedShapefile:e.shapefile})}),(0,$t.default)(Yt,he,function(t,e){return(0,te.default)({},t,{selectedBasemap:e.basemap})}),(0,$t.default)(Yt,ve,function(t,e){var r=t.currentProjectSearchCriterias.concat(e.searchCriterias);return(0,te.default)({},t,{currentProjectSearchCriterias:r})}),(0,$t.default)(Yt,_e,function(t,e){var r=t.currentProjectSearchCriterias.slice(),n=t.currentProjectSearchCriterias.findIndex(function(t){return t===e.searchCriteria});return r.splice(n,1),(0,te.default)({},t,{currentProjectSearchCriterias:r})}),(0,$t.default)(Yt,de,function(t,e){return(0,te.default)({},t,{selectedDatasetLayer:e.layer})}),(0,$t.default)(Yt,ye,function(t,e){return(0,te.default)({},t,{selectedDatasetCapabilities:e.capabilities})}),(0,$t.default)(Yt,we,function(t,e){var r=t.currentProjectDatasets.concat(e.datasets);return(0,te.default)({},t,{currentProjectDatasets:r})}),(0,$t.default)(Yt,me,function(t,e){var r=t.currentVisualizedDatasetLayers.concat(e.datasets);return(0,
te.default)({},t,{currentVisualizedDatasetLayers:r})}),(0,$t.default)(Yt,Te,function(t,e){var r=t.selectedFacets.concat({key:e.key,value:e.value});return r.sort(function(t,e){return t.key+t.value<e.key+e.value?-1:t.key+t.value>e.key+e.value?1:0}),(0,te.default)({},t,{selectedFacets:r})}),(0,$t.default)(Yt,Me,function(t,e){var r=t.selectedFacets.slice(),n=r.findIndex(function(t){return t.key===e.key&&t.value===e.value});return n>-1&&r.splice(n,1),(0,te.default)({},t,{selectedFacets:r})}),(0,$t.default)(Yt,Se,function(t,e){return(0,te.default)({},t,{selectedFacets:[]})}),(0,$t.default)(Yt,ke,function(t,e){return(0,te.default)({},t,{currentDateTime:e.currentDateTime})}),(0,$t.default)(Yt,Ee,function(t,e){var r=JSON.parse((0,Zt.default)(t.panelControls));return r[e.panel].show=e.show,(0,te.default)({},t,{panelControls:r})}),(0,$t.default)(Yt,Fe,function(t,e){return(0,te.default)({},t,{selectedDatasets:e.selectedDatasets})}),(0,$t.default)(Yt,ze,function(t,e){return(0,te.default)({},t,{selectedDatasets:e.selectedDatasets})}),(0,$t.default)(Yt,Be,function(t,e){return(0,te.default)({},t,{selectedDatasets:e.selectedDatasets})}),(0,$t.default)(Yt,Re,function(t,e){return(0,te.default)({},t,{facets:e.facets})}),(0,$t.default)(Yt,Ne,function(t,e){return(0,te.default)({},t,{facets:e.facets})}),(0,$t.default)(Yt,je,function(t,e){return(0,te.default)({},t,{facets:e.facets})}),(0,$t.default)(Yt,Ae,function(t,e){return(0,te.default)({},t,{plotlyData:(0,re.default)({},t.plotlyData,e.plotlyData)})}),(0,$t.default)(Yt,Pe,function(t,e){return(0,te.default)({},t,{plotlyData:(0,re.default)({},t.plotlyData,e.plotlyData)})}),(0,$t.default)(Yt,Le,function(t,e){return(0,te.default)({},t,{plotlyData:(0,re.default)({},t.plotlyData,e.plotlyData)})}),(0,$t.default)(Yt,De,function(t,e){return(0,te.default)({},t,{climateIndicators:(0,re.default)({},t.climateIndicators,e.climateIndicators)})}),(0,$t.default)(Yt,Oe,function(t,e){return(0,te.default)({},t,{climateIndicators:(0,re.default)({},t.climateIndicators,e.climateIndicators)})}),(0,$t.default)(Yt,Ie,function(t,e){return(0,te.default)({},t,{climateIndicators:(0,re.default)({},t.climateIndicators,e.climateIndicators)})}),(0,$t.default)(Yt,rr,function(t,e){return(0,te.default)({},t,{currentScalarValue:e.currentScalarValue})}),(0,$t.default)(Yt,nr,function(t,e){return(0,te.default)({},t,{currentScalarValue:e.currentScalarValue})}),(0,$t.default)(Yt,or,function(t,e){return(0,te.default)({},t,{currentScalarValue:e.currentScalarValue})}),(0,$t.default)(Yt,Ue,function(t,e){return(0,te.default)({},t,{esgfDatasets:e.esgfDatasets})}),(0,$t.default)(Yt,Ve,function(t,e){return(0,te.default)({},t,{esgfDatasets:e.esgfDatasets})}),(0,$t.default)(Yt,He,function(t,e){return(0,te.default)({},t,{esgfDatasets:e.esgfDatasets})}),(0,$t.default)(Yt,We,function(t,e){return(0,te.default)({},t,{pavicsDatasets:e.pavicsDatasets})}),(0,$t.default)(Yt,qe,function(t,e){return(0,te.default)({},t,{pavicsDatasets:e.pavicsDatasets})}),(0,$t.default)(Yt,Ce,function(t,e){return(0,te.default)({},t,{pavicsDatasets:e.pavicsDatasets})}),(0,$t.default)(Yt,Ge,function(t,e){return(0,te.default)({},t,{pavicsDatasets:e.pavicsDatasets})}),(0,$t.default)(Yt,Ye,function(t,e){return(0,te.default)({},t,{selectedWMSLayerDetails:e.selectedWMSLayerDetails})}),(0,$t.default)(Yt,Xe,function(t,e){return(0,te.default)({},t,{selectedWMSLayerDetails:e.selectedWMSLayerDetails})}),(0,$t.default)(Yt,Ke,function(t,e){return(0,te.default)({},t,{selectedWMSLayerDetails:e.selectedWMSLayerDetails})}),(0,$t.default)(Yt,Ze,function(t,e){return(0,te.default)({},t,{selectedWMSLayerTimesteps:e.selectedWMSLayerTimesteps})}),(0,$t.default)(Yt,Je,function(t,e){return(0,te.default)({},t,{selectedWMSLayerTimesteps:e.selectedWMSLayerTimesteps})}),(0,$t.default)(Yt,$e,function(t,e){return(0,te.default)({},t,{selectedWMSLayerTimesteps:e.selectedWMSLayerTimesteps})}),Yt),sr=(0,$t.default)({},ae.PLATFORM_SET_SECTION,function(t,e){return(0,te.default)({},t,{section:e.section})}),lr=(Xt={},(0,$t.default)(Xt,Qe,function(t,e){return(0,te.default)({},t,{jobs:e.jobs})}),(0,$t.default)(Xt,tr,function(t,e){return(0,te.default)({},t,{jobs:e.jobs})}),(0,$t.default)(Xt,er,function(t,e){return(0,te.default)({},t,{jobs:e.jobs})}),Xt);e.default=qt},,function(t,e,r){t.exports={default:r(579),__esModule:!0}},function(t,e,r){t.exports={default:r(585),__esModule:!0}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(211),i=n(o);e.default=function(t){return Array.isArray(t)?t:(0,i.default)(t)}},function(t,e){t.exports=function(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},[1321,215,53],,,,,,,,,,[1326,96,82,145],,,[1327,319,53,122,32],,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=t.ownerDocument,r=e.body,n=void 0,o=a.default.css(t,"position"),i="fixed"===o||"absolute"===o;if(!i)return"html"===t.nodeName.toLowerCase()?null:t.parentNode;for(n=t.parentNode;n&&n!==r;n=n.parentNode)if(o=a.default.css(n,"position"),"static"!==o)return n;return null}Object.defineProperty(e,"__esModule",{value:!0});var i=r(151),a=n(i);e.default=o,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.default)();try{return t.activeElement}catch(t){}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(128),a=n(i);t.exports=e.default},function(t,e){"use strict";function r(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")!==-1}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=(0,c.default)(t),r=(0,l.default)(e),n=e&&e.documentElement,o={top:0,left:0,height:0,width:0};if(e)return(0,a.default)(n,t)?(void 0!==t.getBoundingClientRect&&(o=t.getBoundingClientRect()),o={top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0),width:(null==o.width?t.offsetWidth:o.width)||0,height:(null==o.height?t.offsetHeight:o.height)||0}):o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(129),a=n(i),s=r(178),l=n(s),u=r(128),c=n(u);t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=(0,a.default)(t);return void 0===e?r?"pageYOffset"in r?r.pageYOffset:r.document.documentElement.scrollTop:t.scrollTop:void(r?r.scrollTo("pageXOffset"in r?r.pageXOffset:r.document.documentElement.scrollLeft,e):t.scrollTop=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(178),a=n(i);t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(){for(var t=document.createElement("div").style,e={O:function(t){return"o"+t.toLowerCase()},Moz:function(t){return t.toLowerCase()},Webkit:function(t){return"webkit"+t},ms:function(t){return"MS"+t}},r=Object.keys(e),n=void 0,o=void 0,i="",a=0;a<r.length;a++){var s=r[a];if(s+"TransitionProperty"in t){i="-"+s.toLowerCase(),n=e[s]("TransitionEnd"),o=e[s]("AnimationEnd");break}}return!n&&"transitionProperty"in t&&(n="transitionend"),!o&&"animationName"in t&&(o="animationend"),t=null,{animationEnd:o,transitionEnd:n,prefix:i}}Object.defineProperty(e,"__esModule",{value:!0}),e.animationEnd=e.animationDelay=e.animationTiming=e.animationDuration=e.animationName=e.transitionEnd=e.transitionDuration=e.transitionDelay=e.transitionTiming=e.transitionProperty=e.transform=void 0;var i=r(86),a=n(i),s="transform",l=void 0,u=void 0,c=void 0,p=void 0,f=void 0,h=void 0,d=void 0,y=void 0,m=void 0,v=void 0,g=void 0;if(a.default){var b=o();l=b.prefix,e.transitionEnd=u=b.transitionEnd,e.animationEnd=c=b.animationEnd,e.transform=s=l+"-"+s,e.transitionProperty=p=l+"-transition-property",e.transitionDuration=f=l+"-transition-duration",e.transitionDelay=d=l+"-transition-delay",e.transitionTiming=h=l+"-transition-timing-function",e.animationName=y=l+"-animation-name",e.animationDuration=m=l+"-animation-duration",e.animationTiming=v=l+"-animation-delay",e.animationDelay=g=l+"-animation-timing-function"}e.transform=s,e.transitionProperty=p,e.transitionTiming=h,e.transitionDelay=d,e.transitionDuration=f,e.transitionEnd=u,e.animationName=y,e.animationDuration=m,e.animationTiming=v,e.animationDelay=g,e.animationEnd=c,e.default={transform:s,end:u,property:p,timing:h,delay:d,duration:f}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){return(0,a.default)(t.replace(s,"ms-"))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(833),a=n(i),s=/^-ms-/;t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((!a||t)&&i.default){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),a=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return a};var o=r(86),i=n(o),a=void 0;t.exports=e.default},function(t,e){t.exports={Table:"Table__Table___1YoVd",overflowable:"Table__overflowable___1XgD_",selected:"Table__selected___2nr3i"}},,,,,,,,,,,function(t,e){"use strict";function r(t){return t in i?i[t]:i[t]=t.replace(n,"-$&").toLowerCase().replace(o,"-ms-")}var n=/[A-Z]/g,o=/^ms-/,i={};t.exports=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={Webkit:{transform:!0,transformOrigin:!0,transformOriginX:!0,transformOriginY:!0,backfaceVisibility:!0,perspective:!0,perspectiveOrigin:!0,transformStyle:!0,transformOriginZ:!0,animation:!0,animationDelay:!0,animationDirection:!0,animationFillMode:!0,animationDuration:!0,animationIterationCount:!0,animationName:!0,animationPlayState:!0,animationTimingFunction:!0,appearance:!0,userSelect:!0,fontKerning:!0,textEmphasisPosition:!0,textEmphasis:!0,textEmphasisStyle:!0,textEmphasisColor:!0,boxDecorationBreak:!0,clipPath:!0,maskImage:!0,maskMode:!0,maskRepeat:!0,maskPosition:!0,maskClip:!0,maskOrigin:!0,maskSize:!0,maskComposite:!0,mask:!0,maskBorderSource:!0,maskBorderMode:!0,maskBorderSlice:!0,maskBorderWidth:!0,maskBorderOutset:!0,maskBorderRepeat:!0,maskBorder:!0,maskType:!0,textDecorationStyle:!0,textDecorationSkip:!0,textDecorationLine:!0,textDecorationColor:!0,filter:!0,fontFeatureSettings:!0,breakAfter:!0,breakBefore:!0,breakInside:!0,columnCount:!0,columnFill:!0,columnGap:!0,columnRule:!0,columnRuleColor:!0,columnRuleStyle:!0,columnRuleWidth:!0,columns:!0,columnSpan:!0,columnWidth:!0,flex:!0,flexBasis:!0,flexDirection:!0,flexGrow:!0,flexFlow:!0,flexShrink:!0,flexWrap:!0,alignContent:!0,alignItems:!0,alignSelf:!0,justifyContent:!0,order:!0,transition:!0,transitionDelay:!0,transitionDuration:!0,transitionProperty:!0,transitionTimingFunction:!0,backdropFilter:!0,scrollSnapType:!0,scrollSnapPointsX:!0,scrollSnapPointsY:!0,scrollSnapDestination:!0,scrollSnapCoordinate:!0,shapeImageThreshold:!0,shapeImageMargin:!0,shapeImageOutside:!0,hyphens:!0,flowInto:!0,flowFrom:!0,regionFragment:!0,textSizeAdjust:!0},Moz:{appearance:!0,userSelect:!0,boxSizing:!0,textAlignLast:!0,textDecorationStyle:!0,textDecorationSkip:!0,textDecorationLine:!0,textDecorationColor:!0,tabSize:!0,hyphens:!0,fontFeatureSettings:!0,breakAfter:!0,breakBefore:!0,breakInside:!0,columnCount:!0,columnFill:!0,columnGap:!0,columnRule:!0,columnRuleColor:!0,columnRuleStyle:!0,columnRuleWidth:!0,columns:!0,columnSpan:!0,columnWidth:!0},ms:{flex:!0,flexBasis:!1,flexDirection:!0,flexGrow:!1,flexFlow:!0,flexShrink:!1,flexWrap:!0,alignContent:!1,alignItems:!1,alignSelf:!1,justifyContent:!1,order:!1,transform:!0,transformOrigin:!0,transformOriginX:!0,transformOriginY:!0,userSelect:!0,wrapFlow:!0,wrapThrough:!0,wrapMargin:!0,scrollSnapType:!0,scrollSnapPointsX:!0,scrollSnapPointsY:!0,scrollSnapDestination:!0,scrollSnapCoordinate:!0,touchAction:!0,hyphens:!0,flowInto:!0,flowFrom:!0,breakBefore:!0,breakAfter:!0,breakInside:!0,regionFragment:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridTemplate:!0,gridAutoColumns:!0,gridAutoRows:!0,gridAutoFlow:!0,grid:!0,gridRowStart:!0,gridColumnStart:!0,gridRowEnd:!0,gridRow:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridRowGap:!0,gridArea:!0,gridGap:!0,textSizeAdjust:!0}},t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){return Object.keys(t).sort(function(t,e){return(0,a.default)(t)&&!(0,a.default)(e)?-1:!(0,a.default)(t)&&(0,a.default)(e)?1:0}).reduce(function(e,r){return e[r]=t[r],e},{})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(894),a=n(i);t.exports=e.default},,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(910),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=t.selected,n=e.muiTheme.bottomNavigation,o=r?n.selectedColor:n.unselectedColor,i={root:{transition:"padding-top 0.3s",paddingTop:r?6:8,paddingBottom:10,paddingLeft:12,paddingRight:12,minWidth:80,maxWidth:168},label:{fontSize:r?n.selectedFontSize:n.unselectedFontSize,transition:"color 0.3s, font-size 0.3s",color:o},icon:{display:"block",width:"100%"},iconColor:o};return i}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(10),c=n(u),p=r(1),f=n(p),h=r(57),d=n(h),y=function(t,e){var r=t.label,n=t.icon,i=t.style,s=(0,l.default)(t,["label","icon","style"]),u=e.muiTheme.prepareStyles,h=o(t,e),y=(0,p.cloneElement)(n,{style:(0,c.default)({},h.icon,n.props.style),color:n.props.color||h.iconColor});return f.default.createElement(d.default,(0,a.default)({},s,{style:(0,c.default)({},h.root,i)}),y,f.default.createElement("div",{style:u(h.label)},r))};y.contextTypes={muiTheme:p.PropTypes.object.isRequired},e.default=y},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(){return{root:{padding:8,position:"relative"},action:{marginRight:8}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=function(t){function e(){return(0,f.default)(this,e),(0,m.default)(this,(e.__proto__||(0,c.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){var t=this.props,e=(t.actAsExpander,t.children),r=(t.expandable,t.style),n=(0,l.default)(t,["actAsExpander","children","expandable","style"]),i=this.context.muiTheme.prepareStyles,s=o(this.props,this.context),u=w.default.Children.map(e,function(t){if(w.default.isValidElement(t))return w.default.cloneElement(t,{style:(0,x.default)({},s.action,t.props.style)})});return w.default.createElement("div",(0,a.default)({},n,{style:i((0,x.default)(s.root,r))}),u)}}]),e}(_.Component);T.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=T},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(){return{root:{top:0,bottom:0,right:4,margin:"auto",position:"absolute"}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(8),a=n(i),s=r(2),l=n(s),u=r(7),c=n(u),p=r(4),f=n(p),h=r(3),d=n(h),y=r(10),m=n(y),v=r(1),g=n(v),b=r(1020),x=n(b),_=r(1019),w=n(_),T=r(42),M=n(T),S=function(t){function e(){return(0,l.default)(this,e),(0,f.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,d.default)(e,t),(0,c.default)(e,[{key:"render",value:function(){var t=o(this.props,this.context);return g.default.createElement(M.default,{style:(0,m.default)(t.root,this.props.style),onTouchTap:this.props.onExpanding},this.props.expanded?this.props.openIcon:this.props.closeIcon)}}]),e}(v.Component);S.contextTypes={muiTheme:v.PropTypes.object.isRequired},S.defaultProps={closeIcon:g.default.createElement(w.default,null),openIcon:g.default.createElement(x.default,null)},e.default=S},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.muiTheme.card;return{root:{padding:16,fontWeight:r.fontWeight,boxSizing:"border-box",position:"relative",whiteSpace:"nowrap"},text:{display:"inline-block",verticalAlign:"top",whiteSpace:"normal",paddingRight:"90px"},avatar:{marginRight:16},title:{color:t.titleColor||r.titleColor,display:"block",fontSize:15},subtitle:{color:t.subtitleColor||r.subtitleColor,display:"block",fontSize:14}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=r(384),M=n(T),S=function(t){function e(){return(0,f.default)(this,e),(0,m.default)(this,(e.__proto__||(0,c.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){var t=this.props,e=(t.actAsExpander,t.avatar),r=t.children,n=(t.closeIcon,t.expandable,t.openIcon,t.showExpandableButton,t.style),i=t.subtitle,s=(t.subtitleColor,t.subtitleStyle),u=t.textStyle,c=t.title,p=(t.titleColor,t.titleStyle),f=(0,l.default)(t,["actAsExpander","avatar","children","closeIcon","expandable","openIcon","showExpandableButton","style","subtitle","subtitleColor","subtitleStyle","textStyle","title","titleColor","titleStyle"]),h=this.context.muiTheme.prepareStyles,d=o(this.props,this.context),y=e;return(0,_.isValidElement)(e)?y=w.default.cloneElement(y,{style:(0,x.default)(d.avatar,y.props.style)}):null!==y&&(y=w.default.createElement(M.default,{src:e,style:d.avatar})),w.default.createElement("div",(0,a.default)({},f,{style:h((0,x.default)(d.root,n))}),y,w.default.createElement("div",{style:h((0,x.default)(d.text,u))},w.default.createElement("span",{style:h((0,x.default)(d.title,p))},c),w.default.createElement("span",{style:h((0,x.default)(d.subtitle,s))},i)),r)}}]),e}(_.Component);S.muiName="CardHeader",S.defaultProps={avatar:null},S.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=S},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.muiTheme.cardMedia;return{root:{position:"relative"},overlayContainer:{position:"absolute",top:0,bottom:0,right:0,left:0},overlay:{height:"100%",position:"relative"},overlayContent:{position:"absolute",bottom:0,right:0,left:0,paddingTop:8,background:r.overlayContentBackground},media:{},mediaChild:{verticalAlign:"top",maxWidth:"100%",minWidth:"100%",width:"100%"}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=function(t){function e(){return(0,f.default)(this,e),(0,m.default)(this,(e.__proto__||(0,c.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){var t=this.props,e=(t.actAsExpander,t.children),r=(t.expandable,t.mediaStyle),n=t.overlay,i=t.overlayContainerStyle,s=t.overlayContentStyle,u=t.overlayStyle,c=t.style,p=(0,l.default)(t,["actAsExpander","children","expandable","mediaStyle","overlay","overlayContainerStyle","overlayContentStyle","overlayStyle","style"]),f=this.context.muiTheme.prepareStyles,h=o(this.props,this.context),d=(0,x.default)(h.root,c),y=(0,x.default)(h.media,r),m=(0,x.default)(h.overlayContainer,i),v=(0,x.default)(h.overlayContent,s),g=(0,x.default)(h.overlay,u),b=this.context.muiTheme.cardMedia.titleColor,_=this.context.muiTheme.cardMedia.subtitleColor,T=this.context.muiTheme.cardMedia.color,M=w.default.Children.map(e,function(t){return w.default.cloneElement(t,{style:f((0,x.default)({},h.mediaChild,t.props.style))})}),S=w.default.Children.map(n,function(t){return"CardHeader"===t.type.muiName||"CardTitle"===t.type.muiName?w.default.cloneElement(t,{titleColor:b,subtitleColor:_}):"CardText"===t.type.muiName?w.default.cloneElement(t,{color:T}):t});return w.default.createElement("div",(0,a.default)({},p,{style:f(d)}),w.default.createElement("div",{style:f(y)},M),n?w.default.createElement("div",{style:f(m)},w.default.createElement("div",{style:f(g)},w.default.createElement("div",{style:f(v)},S))):"")}}]),e}(_.Component);T.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=T},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.muiTheme.cardText;return{root:{padding:16,fontSize:14,color:t.color||r.textColor}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=function(t){function e(){return(0,f.default)(this,e),(0,m.default)(this,(e.__proto__||(0,c.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){var t=this.props,e=(t.actAsExpander,t.children),r=(t.color,t.expandable,t.style),n=(0,l.default)(t,["actAsExpander","children","color","expandable","style"]),i=this.context.muiTheme.prepareStyles,s=o(this.props,this.context),u=(0,x.default)(s.root,r);return w.default.createElement("div",(0,a.default)({},n,{style:i(u)}),e)}}]),e}(_.Component);T.muiName="CardText",T.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=T},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.muiTheme.card;return{root:{padding:16,position:"relative"},title:{fontSize:24,color:t.titleColor||r.titleColor,display:"block",lineHeight:"36px"},subtitle:{fontSize:14,color:t.subtitleColor||r.subtitleColor,display:"block"}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=function(t){function e(){return(0,f.default)(this,e),(0,m.default)(this,(e.__proto__||(0,c.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){var t=this.props,e=(t.actAsExpander,t.children),r=(t.expandable,t.showExpandableButton,t.style),n=t.subtitle,i=(t.subtitleColor,t.subtitleStyle),s=t.title,u=(t.titleColor,t.titleStyle),c=(0,l.default)(t,["actAsExpander","children","expandable","showExpandableButton","style","subtitle","subtitleColor","subtitleStyle","title","titleColor","titleStyle"]),p=this.context.muiTheme.prepareStyles,f=o(this.props,this.context),h=(0,x.default)({},f.root,r),d=(0,x.default)({},f.title,u),y=(0,x.default)({},f.subtitle,i);return w.default.createElement("div",(0,a.default)({},c,{style:p(h)}),w.default.createElement("span",{style:p(d)},s),w.default.createElement("span",{style:p(y)},n),e)}}]),e}(_.Component);T.muiName="CardTitle",T.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=T},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(917),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.MenuItem=e.DropDownMenu=void 0;var o=r(935),i=n(o),a=r(269),s=n(a);e.DropDownMenu=i.default,e.MenuItem=s.default,e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r,n=e.muiTheme,o=n.baseTheme,i=n.gridTile,a=t.actionIcon&&t.actionPosition,s={root:{position:"relative",display:"block",height:"100%",overflow:"hidden"},titleBar:(r={position:"absolute",left:0,right:0},(0,x.default)(r,t.titlePosition,0),(0,x.default)(r,"height",t.subtitle?68:48),(0,x.default)(r,"background",t.titleBackground),(0,x.default)(r,"display","flex"),(0,x.default)(r,"alignItems","center"),r),titleWrap:{flexGrow:1,marginLeft:"left"!==a?o.spacing.desktopGutterLess:0,marginRight:"left"===a?o.spacing.desktopGutterLess:0,color:i.textColor,overflow:"hidden"},title:{fontSize:"16px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},subtitle:{fontSize:"12px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},actionIcon:{order:"left"===a?-1:1},childImg:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"}};return s}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(79),x=n(b),_=r(10),w=n(_),T=r(1),M=n(T),S=function(t){function e(){return(0,f.default)(this,e),(0,m.default)(this,(e.__proto__||(0,c.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:"componentDidMount",value:function(){this.ensureImageCover()}},{key:"componentDidUpdate",value:function(){this.ensureImageCover()}},{key:"ensureImageCover",value:function(){var t=this,e=this.refs.img;e&&!function(){var r=function r(){if(e.offsetWidth<e.parentNode.offsetWidth){var n=t.context.muiTheme.isRtl;e.style.height="auto",n?e.style.right="0":e.style.left="0",e.style.width="100%",e.style.top="50%",e.style.transform=e.style.WebkitTransform="translateY(-50%)"}e.removeEventListener("load",r),e=null};e.complete?r():e.addEventListener("load",r)}()}},{key:"render",value:function(){var t=this.props,e=t.title,r=t.subtitle,n=(t.titlePosition,t.titleBackground,t.titleStyle),i=t.actionIcon,s=(t.actionPosition,t.style),u=t.children,c=t.containerElement,p=(0,l.default)(t,["title","subtitle","titlePosition","titleBackground","titleStyle","actionIcon","actionPosition","style","children","containerElement"]),f=this.context.muiTheme.prepareStyles,h=o(this.props,this.context),d=(0,w.default)(h.root,s),y=null;e&&(y=M.default.createElement("div",{key:"titlebar",style:f(h.titleBar)},M.default.createElement("div",{style:f(h.titleWrap)},M.default.createElement("div",{style:f((0,w.default)(h.title,n))},e),r?M.default.createElement("div",{style:f(h.subtitle)},r):null),i?M.default.createElement("div",{style:f(h.actionIcon)},i):null));var m=u;1===M.default.Children.count(u)&&(m=M.default.Children.map(u,function(t){return"img"===t.type?M.default.cloneElement(t,{key:"img",ref:"img",style:f((0,w.default)({},h.childImg,t.props.style))}):t}));var v=(0,a.default)({style:f(d)},p);return M.default.isValidElement(c)?M.default.cloneElement(c,v,[m,y]):M.default.createElement(c,v,[m,y])}}]),e}(T.Component);S.defaultProps={titlePosition:"bottom",titleBackground:"rgba(0, 0, 0, 0.4)",actionPosition:"right",cols:1,rows:1,containerElement:"div"},S.contextTypes={muiTheme:T.PropTypes.object.isRequired},e.default=S},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.makeSelectable=void 0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(8),u=n(l),c=r(2),p=n(c),f=r(7),h=n(f),d=r(4),y=n(d),m=r(3),v=n(m),g=r(10),b=n(g),x=r(1),_=n(x),w=r(91),T=e.makeSelectable=function(t){var e,r;return r=e=function(e){function r(){var t,e,n,o;(0,p.default)(this,r);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=n=(0,y.default)(this,(t=r.__proto__||(0,u.default)(r)).call.apply(t,[this].concat(a))),n.hasSelectedDescendant=function(t,e){return _.default.isValidElement(e)&&e.props.nestedItems&&e.props.nestedItems.length>0?e.props.nestedItems.reduce(n.hasSelectedDescendant,t):t||n.isChildSelected(e,n.props)},n.handleItemTouchTap=function(t,e){var r=e.props.value;r!==n.props.value&&n.props.onChange&&n.props.onChange(t,r)},o=e,(0,y.default)(n,o)}return(0,v.default)(r,e),(0,h.default)(r,[{key:"extendChild",value:function(t,e,r){var n=this;if(t&&t.type&&"ListItem"===t.type.muiName){var o=this.isChildSelected(t,this.props),i=void 0;o&&(i=(0,b.default)({},e,r));var a=(0,b.default)({},t.props.style,i);return this.keyIndex+=1,_.default.cloneElement(t,{onTouchTap:function(e){n.handleItemTouchTap(e,t),t.props.onTouchTap&&t.props.onTouchTap(e)},key:this.keyIndex,style:a,nestedItems:t.props.nestedItems.map(function(t){return n.extendChild(t,e,r)}),initiallyOpen:this.isInitiallyOpen(t)})}return t}},{key:"isInitiallyOpen",value:function(t){return t.props.initiallyOpen?t.props.initiallyOpen:this.hasSelectedDescendant(!1,t)}},{key:"isChildSelected",value:function(t,e){return e.value===t.props.value}},{key:"render",value:function(){var e=this,r=this.props,n=r.children,o=r.selectedItemStyle,a=(0,s.default)(r,["children","selectedItemStyle"]);this.keyIndex=0;var l={};if(!o){var u=this.context.muiTheme.baseTheme.palette.textColor;l.backgroundColor=(0,w.fade)(u,.2)}return _.default.createElement(t,(0,i.default)({},a,this.state),x.Children.map(n,function(t){return e.extendChild(t,l,o)}))}}]),r}(x.Component),e.propTypes={children:x.PropTypes.node,onChange:x.PropTypes.func,selectedItemStyle:x.PropTypes.object,value:x.PropTypes.any},e.contextTypes={muiTheme:x.PropTypes.object.isRequired},r};e.default=T},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.MenuItem=e.Menu=void 0;var o=r(187),i=n(o),a=r(88),s=n(a);e.Menu=i.default,e.MenuItem=s.default,e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(6),s=n(a),l=r(8),u=n(l),c=r(2),p=n(c),f=r(7),h=n(f),d=r(4),y=n(d),m=r(3),v=n(m),g=r(10),b=n(g),x=r(1),_=n(x),w=r(188),T=n(w),M=r(43),S=(n(M),function(t){function e(){var t,r,n,o;(0,p.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,y.default)(this,(t=e.__proto__||(0,u.default)(e)).call.apply(t,[this].concat(a))),n.state={numberCheckedRadioButtons:0,selected:""},n.handleChange=function(t,e){n.updateRadioButtons(e),0===n.state.numberCheckedRadioButtons&&n.props.onChange&&n.props.onChange(t,e)},o=r,(0,y.default)(n,o)}return(0,v.default)(e,t),(0,h.default)(e,[{key:"componentWillMount",value:function(){var t=this,e=0,r="",n=this.props,o=n.valueSelected,i=n.defaultSelected;void 0!==o?r=o:void 0!==i&&(r=i),_.default.Children.forEach(this.props.children,function(r){t.hasCheckAttribute(r)&&e++},this),this.setState({numberCheckedRadioButtons:e,selected:r})}},{key:"componentWillReceiveProps",value:function(t){t.hasOwnProperty("valueSelected")&&this.setState({selected:t.valueSelected})}},{key:"hasCheckAttribute",value:function(t){return t.props.hasOwnProperty("checked")&&t.props.checked}},{key:"updateRadioButtons",value:function(t){0===this.state.numberCheckedRadioButtons&&this.setState({selected:t})}},{key:"getSelectedValue",value:function(){return this.state.selected}},{key:"setSelectedValue",value:function(t){this.updateRadioButtons(t)}},{key:"clearValue",value:function(){this.setSelectedValue("")}},{key:"render",value:function(){var t=this,e=this.context.muiTheme.prepareStyles,r=_.default.Children.map(this.props.children,function(e){var r=e.props,n=(r.name,r.value,r.label,r.onCheck,(0,s.default)(r,["name","value","label","onCheck"]));return _.default.createElement(T.default,(0,i.default)({},n,{ref:e.props.value,name:t.props.name,key:e.props.value,value:e.props.value,label:e.props.label,labelPosition:t.props.labelPosition,onCheck:t.handleChange,checked:e.props.value===t.state.selected}))},this);return _.default.createElement("div",{style:e((0,b.default)({},this.props.style)),className:this.props.className},r)}}]),e}(x.Component));S.defaultProps={style:{}},S.contextTypes={muiTheme:x.PropTypes.object.isRequired},e.default=S},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(954),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(956),i=n(o);e.default=i.default;
},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(6),s=n(a),l=r(8),u=n(l),c=r(2),p=n(c),f=r(7),h=n(f),d=r(4),y=n(d),m=r(3),v=n(m),g=r(10),b=n(g),x=r(1),_=n(x),w=function(t,e){var r=t.index,n=e.stepper,o=n.orientation,i={root:{flex:"0 0 auto"}};return r>0&&("horizontal"===o?i.root.marginLeft=-6:"vertical"===o&&(i.root.marginTop=-14)),i},T=function(t){function e(){var t,r,n,o;(0,p.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,y.default)(this,(t=e.__proto__||(0,u.default)(e)).call.apply(t,[this].concat(a))),n.renderChild=function(t){var e=n.props,r=e.active,o=e.completed,i=e.disabled,a=e.index,s=e.last,l=a+1;return _.default.cloneElement(t,(0,b.default)({active:r,completed:o,disabled:i,icon:l,last:s},t.props))},o=r,(0,y.default)(n,o)}return(0,v.default)(e,t),(0,h.default)(e,[{key:"render",value:function(){var t=this.props,e=(t.active,t.completed,t.disabled,t.index,t.last,t.children),r=t.style,n=(0,s.default)(t,["active","completed","disabled","index","last","children","style"]),o=this.context.muiTheme.prepareStyles,a=w(this.props,this.context);return _.default.createElement("div",(0,i.default)({style:o((0,b.default)(a.root,r))},n),_.default.Children.map(e,this.renderChild))}}]),e}(x.Component);T.contextTypes={muiTheme:x.PropTypes.object.isRequired,stepper:x.PropTypes.object},e.default=T},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(6),s=n(a),l=r(8),u=n(l),c=r(2),p=n(c),f=r(7),h=n(f),d=r(4),y=n(d),m=r(3),v=n(m),g=r(10),b=n(g),x=r(1),_=n(x),w=r(17),T=n(w),M=r(57),S=n(M),E=r(271),k=n(E),C=function(t){return t&&t.type&&"StepLabel"===t.type.muiName},A=function(t,e,r){var n=r.hovered,o=e.muiTheme.stepper,i=o.backgroundColor,a=o.hoverBackgroundColor,s={root:{padding:0,backgroundColor:n?a:i,transition:T.default.easeOut()}};return"vertical"===e.stepper.orientation&&(s.root.width="100%"),s},P=function(t){function e(){var t,r,n,o;(0,p.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,y.default)(this,(t=e.__proto__||(0,u.default)(e)).call.apply(t,[this].concat(a))),n.state={hovered:!1,touched:!1},n.handleMouseEnter=function(t){var e=n.props.onMouseEnter;n.state.touched||n.setState({hovered:!0}),"function"==typeof e&&e(t)},n.handleMouseLeave=function(t){var e=n.props.onMouseLeave;n.setState({hovered:!1}),"function"==typeof e&&e(t)},n.handleTouchStart=function(t){var e=n.props.onTouchStart;n.state.touched||n.setState({touched:!0}),"function"==typeof e&&e(t)},o=r,(0,y.default)(n,o)}return(0,v.default)(e,t),(0,h.default)(e,[{key:"render",value:function(){var t=this.props,e=t.active,r=t.children,n=t.completed,o=t.disabled,a=t.icon,l=t.iconContainerStyle,u=(t.last,t.onMouseEnter,t.onMouseLeave,t.onTouchStart,t.style),c=(0,s.default)(t,["active","children","completed","disabled","icon","iconContainerStyle","last","onMouseEnter","onMouseLeave","onTouchStart","style"]),p=A(this.props,this.context,this.state),f=C(r)?r:_.default.createElement(k.default,null,r);return _.default.createElement(S.default,(0,i.default)({disabled:o,style:(0,b.default)(p.root,u),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTouchStart:this.handleTouchStart},c),_.default.cloneElement(f,{active:e,completed:n,disabled:o,icon:a,iconContainerStyle:l}))}}]),e}(x.Component);P.contextTypes={muiTheme:x.PropTypes.object.isRequired,stepper:x.PropTypes.object},e.default=P},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){return w.default.createElement(M.default,t)}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=r(989),M=n(T),S=r(43),E=(n(S),function(t,e){var r={root:{marginTop:-14,marginLeft:25,paddingLeft:21,paddingRight:16,overflow:"hidden"}};return t.last||(r.root.borderLeft="1px solid "+e.muiTheme.stepper.connectorLineColor),r}),k=function(t){function e(){return(0,f.default)(this,e),(0,m.default)(this,(e.__proto__||(0,c.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){var t=this.props,e=t.active,r=t.children,n=(t.completed,t.last,t.style),o=t.transition,i=t.transitionDuration,s=(0,l.default)(t,["active","children","completed","last","style","transition","transitionDuration"]),u=this.context,c=u.stepper,p=u.muiTheme.prepareStyles;if("vertical"!==c.orientation)return null;var f=E(this.props,this.context),h={enterDelay:i,transitionDuration:i,open:e};return w.default.createElement("div",(0,a.default)({style:p((0,x.default)(f.root,n))},s),w.default.createElement(o,h,w.default.createElement("div",{style:{overflow:"hidden"}},r)))}}]),e}(_.Component);k.defaultProps={transition:o,transitionDuration:450},k.contextTypes={muiTheme:_.PropTypes.object.isRequired,stepper:_.PropTypes.object},e.default=k},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(10),y=n(d),m=r(1),v=n(m),g=r(960),b=n(g),x=function(t){var e=t.orientation;return{root:{display:"flex",flexDirection:"horizontal"===e?"row":"column",alignContent:"center",alignItems:"horizontal"===e?"center":"stretch",justifyContent:"space-between"}}},_=function(t){function e(){return(0,s.default)(this,e),(0,p.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,h.default)(e,t),(0,u.default)(e,[{key:"getChildContext",value:function(){var t=this.props.orientation;return{stepper:{orientation:t}}}},{key:"render",value:function(){var t=this.props,e=t.activeStep,r=t.children,n=t.connector,o=t.linear,i=t.style,a=this.context.muiTheme.prepareStyles,s=x(this.props,this.context),l=m.Children.count(r),u=m.Children.map(r,function(t,r){var i={index:r};return e===r?i.active=!0:o&&e>r?i.completed=!0:o&&e<r&&(i.disabled=!0),r+1===l&&(i.last=!0),[r>0&&n,v.default.cloneElement(t,(0,y.default)(i,t.props))]});return v.default.createElement("div",{style:a((0,y.default)(s.root,i))},u)}}]),e}(m.Component);_.defaultProps={connector:v.default.createElement(b.default,null),orientation:"horizontal",linear:!0},_.contextTypes={muiTheme:m.PropTypes.object.isRequired},_.childContextTypes={stepper:m.PropTypes.object},e.default=_},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(315),i=n(o),a=r(119),s=n(a),l=r(68),u=n(l),c=r(5),p=n(c),f=r(8),h=n(f),d=r(2),y=n(d),m=r(7),v=n(m),g=r(4),b=n(g),x=r(3),_=n(x),w=r(10),T=n(w),M=r(1),S=n(M),E=r(155),k=n(E),C=r(190),A=n(C),P=r(273),L=n(P),D=function(t){function e(){var t,r,n,o;(0,y.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,b.default)(this,(t=e.__proto__||(0,h.default)(e)).call.apply(t,[this].concat(a))),n.state={selectedRows:[]},n.handleClickAway=function(){n.props.deselectOnClickaway&&n.state.selectedRows.length&&(n.setState({selectedRows:[]}),n.props.onRowSelection&&n.props.onRowSelection([]))},n.onRowClick=function(t,e){t.stopPropagation(),n.props.selectable&&(window.getSelection().removeAllRanges(),n.processRowSelection(t,e))},n.onCellClick=function(t,e,r){t.stopPropagation(),n.props.onCellClick&&n.props.onCellClick(e,n.getColumnId(r),t)},n.onCellHover=function(t,e,r){n.props.onCellHover&&n.props.onCellHover(e,n.getColumnId(r),t),n.onRowHover(t,e)},n.onCellHoverExit=function(t,e,r){n.props.onCellHoverExit&&n.props.onCellHoverExit(e,n.getColumnId(r),t),n.onRowHoverExit(t,e)},n.onRowHover=function(t,e){n.props.onRowHover&&n.props.onRowHover(e)},n.onRowHoverExit=function(t,e){n.props.onRowHoverExit&&n.props.onRowHoverExit(e)},o=r,(0,b.default)(n,o)}return(0,_.default)(e,t),(0,v.default)(e,[{key:"componentWillMount",value:function(){this.setState({selectedRows:this.calculatePreselectedRows(this.props)})}},{key:"componentWillReceiveProps",value:function(t){this.props.allRowsSelected!==t.allRowsSelected&&(t.allRowsSelected?this.setState({selectedRows:this.calculatePreselectedRows(t)}):this.setState({selectedRows:[]}))}},{key:"createRows",value:function(){var t=this,e=S.default.Children.count(this.props.children),r=0,n={onCellClick:this.onCellClick,onCellHover:this.onCellHover,onCellHoverExit:this.onCellHoverExit,onRowHover:this.onRowHover,onRowHoverExit:this.onRowHoverExit,onRowClick:this.onRowClick};return S.default.Children.map(this.props.children,function(o){if(S.default.isValidElement(o)){var i=function(){var i={hoverable:t.props.showRowHover,selected:t.isRowSelected(r),striped:t.props.stripedRows&&r%2===0,rowNumber:r++};r===e&&(i.displayBorder=!1);var a=[t.createRowCheckboxColumn(i)];return S.default.Children.forEach(o.props.children,function(t){a.push(t)}),{v:S.default.cloneElement(o,(0,p.default)({},i,n),a)}}();if("object"===("undefined"==typeof i?"undefined":(0,u.default)(i)))return i.v}})}},{key:"createRowCheckboxColumn",value:function(t){if(!this.props.displayRowCheckbox)return null;var e=t.rowNumber+"-cb",r=!this.props.selectable,n=S.default.createElement(k.default,{ref:"rowSelectCB",name:e,value:"selected",disabled:r,checked:t.selected});return S.default.createElement(A.default,{key:e,columnNumber:0,style:{width:24,cursor:r?"not-allowed":"inherit"}},n)}},{key:"calculatePreselectedRows",value:function(t){var e=[];return t.selectable&&t.preScanRows&&!function(){var r=0;S.default.Children.forEach(t.children,function(n){S.default.isValidElement(n)&&(n.props.selected&&(0===e.length||t.multiSelectable)&&e.push(r),r++)})}(),e}},{key:"isRowSelected",value:function(t){if(this.props.allRowsSelected)return!0;for(var e=0;e<this.state.selectedRows.length;e++){var r=this.state.selectedRows[e];if("object"===("undefined"==typeof r?"undefined":(0,u.default)(r))){if(this.isValueInRange(t,r))return!0}else if(r===t)return!0}return!1}},{key:"isValueInRange",value:function(t,e){return!!e&&(e.start<=t&&t<=e.end||e.end<=t&&t<=e.start)}},{key:"processRowSelection",value:function(t,e){var r=this.state.selectedRows;if(t.shiftKey&&this.props.multiSelectable&&r.length){var n=r.length-1,o=r[n];"object"===("undefined"==typeof o?"undefined":(0,u.default)(o))?o.end=e:r.splice(n,1,{start:o,end:e})}else if((t.ctrlKey&&!t.metaKey||t.metaKey&&!t.ctrlKey)&&this.props.multiSelectable){var i=r.indexOf(e);if(i<0){for(var a=!1,l=0;l<r.length;l++){var c=r[l];if("object"===("undefined"==typeof c?"undefined":(0,u.default)(c))&&this.isValueInRange(e,c)){var p;a=!0;var f=this.splitRange(c,e);(p=r).splice.apply(p,[l,1].concat((0,s.default)(f)))}}a||r.push(e)}else r.splice(i,1)}else r=1===r.length&&r[0]===e?[]:[e];this.setState({selectedRows:r}),this.props.onRowSelection&&this.props.onRowSelection(this.flattenRanges(r))}},{key:"splitRange",value:function(t,e){var r=[],n=t.start-e,o=t.end-e;return r.push.apply(r,(0,s.default)(this.genRangeOfValues(e,n))),r.push.apply(r,(0,s.default)(this.genRangeOfValues(e,o))),r}},{key:"genRangeOfValues",value:function(t,e){for(var r=[],n=e>0?-1:1;0!==e;)r.push(t+e),e+=n;return r}},{key:"flattenRanges",value:function(t){var e=[],r=!0,n=!1,o=void 0;try{for(var a,l=(0,i.default)(t);!(r=(a=l.next()).done);r=!0){var c=a.value;if("object"===("undefined"==typeof c?"undefined":(0,u.default)(c))){var p=this.genRangeOfValues(c.end,c.start-c.end);e.push.apply(e,[c.end].concat((0,s.default)(p)))}else e.push(c)}}catch(t){n=!0,o=t}finally{try{!r&&l.return&&l.return()}finally{if(n)throw o}}return e.sort()}},{key:"getColumnId",value:function(t){var e=t;return this.props.displayRowCheckbox&&e--,e}},{key:"render",value:function(){var t=this.props,e=t.className,r=t.style,n=this.context.muiTheme.prepareStyles;return S.default.createElement(L.default,{onClickAway:this.handleClickAway},S.default.createElement("tbody",{className:e,style:n((0,T.default)({},r))},this.createRows()))}}]),e}(M.Component);D.muiName="TableBody",D.defaultProps={allRowsSelected:!1,deselectOnClickaway:!0,displayRowCheckbox:!0,multiSelectable:!1,preScanRows:!0,selectable:!0,style:{}},D.contextTypes={muiTheme:M.PropTypes.object.isRequired},e.default=D},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.muiTheme.tableFooter;return{cell:{borderTop:"1px solid "+r.borderColor,verticalAlign:"bottom",padding:20,textAlign:"left",whiteSpace:"nowrap"}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(119),l=n(s),u=r(6),c=n(u),p=r(8),f=n(p),h=r(2),d=n(h),y=r(7),m=n(y),v=r(4),g=n(v),b=r(3),x=n(b),_=r(10),w=n(_),T=r(1),M=n(T),S=r(190),E=n(S),k=function(t){function e(){return(0,d.default)(this,e),(0,g.default)(this,(e.__proto__||(0,f.default)(e)).apply(this,arguments))}return(0,x.default)(e,t),(0,m.default)(e,[{key:"render",value:function(){var t=this.props,e=t.adjustForCheckbox,r=t.children,n=t.className,i=t.style,s=(0,c.default)(t,["adjustForCheckbox","children","className","style"]),u=this.context.muiTheme.prepareStyles,p=o(this.props,this.context),f=M.default.Children.map(r,function(t,r){var n={displayBorder:!1,key:"f-"+r,rowNumber:r,style:(0,w.default)({},p.cell,t.props.style)},o=void 0;return o=e?[M.default.createElement(E.default,{key:"fpcb"+r,style:{width:24}})].concat((0,l.default)(M.default.Children.toArray(t.props.children))):t.props.children,M.default.cloneElement(t,n,o)});return M.default.createElement("tfoot",(0,a.default)({className:n,style:u((0,w.default)({},i))},s),f)}}]),e}(T.Component);k.muiName="TableFooter",k.defaultProps={adjustForCheckbox:!0,style:{}},k.contextTypes={muiTheme:T.PropTypes.object.isRequired},e.default=k},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.muiTheme.tableHeader;return{root:{borderBottom:"1px solid "+r.borderColor}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(8),a=n(i),s=r(2),l=n(s),u=r(7),c=n(u),p=r(4),f=n(p),h=r(3),d=n(h),y=r(10),m=n(y),v=r(1),g=n(v),b=r(155),x=n(b),_=r(272),w=n(_),T=function(t){function e(){var t,r,n,o;(0,l.default)(this,e);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return r=n=(0,f.default)(this,(t=e.__proto__||(0,a.default)(e)).call.apply(t,[this].concat(s))),n.handleCheckAll=function(t,e){n.props.onSelectAll&&n.props.onSelectAll(e)},o=r,(0,f.default)(n,o)}return(0,d.default)(e,t),(0,c.default)(e,[{key:"createSuperHeaderRows",value:function(){var t=g.default.Children.count(this.props.children);if(1!==t){for(var e=[],r=0;r<t-1;r++){var n=this.props.children[r];if(g.default.isValidElement(n)){var o={key:"sh"+r,rowNumber:r};e.push(this.createSuperHeaderRow(n,o))}}return e.length?e:void 0}}},{key:"createSuperHeaderRow",value:function(t,e){var r=[];return this.props.adjustForCheckbox&&r.push(this.getCheckboxPlaceholder(e)),g.default.Children.forEach(t.props.children,function(t){r.push(t)}),g.default.cloneElement(t,e,r)}},{key:"createBaseHeaderRow",value:function(){var t=g.default.Children.count(this.props.children),e=1===t?this.props.children:this.props.children[t-1],r={key:"h"+t,rowNumber:t},n=[this.getSelectAllCheckboxColumn(r)];return g.default.Children.forEach(e.props.children,function(t){n.push(t)}),g.default.cloneElement(e,r,n)}},{key:"getCheckboxPlaceholder",value:function(t){if(!this.props.adjustForCheckbox)return null;var e=!this.props.enableSelectAll,r="hpcb"+t.rowNumber;return g.default.createElement(w.default,{key:r,style:{width:24,cursor:e?"not-allowed":"inherit"}})}},{key:"getSelectAllCheckboxColumn",value:function(t){if(!this.props.displaySelectAll)return this.getCheckboxPlaceholder(t);var e=!this.props.enableSelectAll,r=g.default.createElement(x.default,{key:"selectallcb",name:"selectallcb",value:"selected",disabled:e,checked:this.props.selectAllSelected,onCheck:this.handleCheckAll}),n="hpcb"+t.rowNumber;return g.default.createElement(w.default,{key:n,style:{width:24,cursor:e?"not-allowed":"inherit"}},r)}},{key:"render",value:function(){var t=this.props,e=t.className,r=t.style,n=this.context.muiTheme.prepareStyles,i=o(this.props,this.context),a=this.createSuperHeaderRows(),s=this.createBaseHeaderRow();return g.default.createElement("thead",{className:e,style:n((0,m.default)(i.root,r))},a,s)}}]),e}(v.Component);T.muiName="TableHeader",T.defaultProps={adjustForCheckbox:!0,displaySelectAll:!0,enableSelectAll:!0,selectAllSelected:!1},T.contextTypes={muiTheme:v.PropTypes.object.isRequired},e.default=T},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){var n=e.muiTheme.tableRow,o="inherit";return t.hovered||r.hovered?o=n.hoverColor:t.selected?o=n.selectedColor:t.striped&&(o=n.stripeColor),{root:{borderBottom:t.displayBorder&&"1px solid "+n.borderColor,color:n.textColor,height:n.height},cell:{backgroundColor:o}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.state={hovered:!1},n.onCellClick=function(t,e){n.props.selectable&&n.props.onCellClick&&n.props.onCellClick(t,n.props.rowNumber,e),t.ctrlKey=!0,n.onRowClick(t)},n.onCellHover=function(t,e){n.props.hoverable&&(n.setState({hovered:!0}),n.props.onCellHover&&n.props.onCellHover(t,n.props.rowNumber,e),n.onRowHover(t))},n.onCellHoverExit=function(t,e){n.props.hoverable&&(n.setState({hovered:!1}),n.props.onCellHoverExit&&n.props.onCellHoverExit(t,n.props.rowNumber,e),n.onRowHoverExit(t))},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"onRowClick",value:function(t){this.props.selectable&&this.props.onRowClick&&this.props.onRowClick(t,this.props.rowNumber)}},{key:"onRowHover",value:function(t){this.props.onRowHover&&this.props.onRowHover(t,this.props.rowNumber)}},{key:"onRowHoverExit",value:function(t){this.props.onRowHoverExit&&this.props.onRowHoverExit(t,this.props.rowNumber)}},{key:"render",value:function(){var t=this,e=this.props,r=e.className,n=(e.displayBorder,e.hoverable,e.hovered,e.onCellClick,e.onCellHover,e.onCellHoverExit,e.onRowClick,e.onRowHover,e.onRowHoverExit,e.rowNumber,e.selectable,e.selected,e.striped,e.style),i=(0,l.default)(e,["className","displayBorder","hoverable","hovered","onCellClick","onCellHover","onCellHoverExit","onRowClick","onRowHover","onRowHoverExit","rowNumber","selectable","selected","striped","style"]),s=this.context.muiTheme.prepareStyles,u=o(this.props,this.context,this.state),c=w.default.Children.map(this.props.children,function(e,r){if(w.default.isValidElement(e))return w.default.cloneElement(e,{columnNumber:r,hoverable:t.props.hoverable,key:t.props.rowNumber+"-"+r,onClick:t.onCellClick,onHover:t.onCellHover,onHoverExit:t.onCellHoverExit,style:(0,x.default)({},u.cell,e.props.style)})});return w.default.createElement("tr",(0,a.default)({className:r,style:s((0,x.default)(u.root,n))},i),c)}}]),e}(_.Component);T.defaultProps={displayBorder:!0,hoverable:!1,hovered:!1,selectable:!0,selected:!1,striped:!1},T.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=T},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.TableRowColumn=e.TableRow=e.TableHeaderColumn=e.TableHeader=e.TableFooter=e.TableBody=e.Table=void 0;var o=r(964),i=n(o),a=r(404),s=n(a),l=r(405),u=n(l),c=r(406),p=n(c),f=r(272),h=n(f),d=r(407),y=n(d),m=r(190),v=n(m);e.Table=i.default,e.TableBody=s.default,e.TableFooter=u.default,e.TableHeader=p.default,e.TableHeaderColumn=h.default,e.TableRow=y.default,e.TableRowColumn=v.default,e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.muiTheme.tabs;return{root:{color:t.selected?r.selectedTextColor:r.textColor,fontWeight:500,fontSize:14,width:t.width,textTransform:"uppercase",padding:0},button:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:t.label&&t.icon?72:48}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=r(57),M=n(T),S=function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.handleTouchTap=function(t){n.props.onTouchTap&&n.props.onTouchTap(n.props.value,t,n)},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){var t=this.props,e=t.icon,r=(t.index,t.onActive,t.onTouchTap,t.selected,t.label),n=t.buttonStyle,i=t.style,s=(t.value,t.width,(0,l.default)(t,["icon","index","onActive","onTouchTap","selected","label","buttonStyle","style","value","width"])),u=o(this.props,this.context),c=void 0;if(e&&w.default.isValidElement(e)){var p={style:{fontSize:24,color:u.root.color,marginBottom:r?5:0}};"FontIcon"!==e.type.muiName&&(p.color=u.root.color),c=w.default.cloneElement(e,p)}var f=.3,h=this.context.muiTheme.tabs.selectedTextColor;return w.default.createElement(M.default,(0,a.default)({},s,{style:(0,x.default)(u.root,i),focusRippleColor:h,touchRippleColor:h,focusRippleOpacity:f,touchRippleOpacity:f,onTouchTap:this.handleTouchTap}),w.default.createElement("div",{style:(0,x.default)(u.button,n)},c,r))}}]),e}(_.Component);S.muiName="Tab",S.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=S},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Tabs=e.Tab=void 0;var o=r(409),i=n(o),a=r(967),s=n(a);e.Tab=i.default,e.Tabs=s.default,e.default=s.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r={root:{directionInvariant:!0,display:"inline-block",position:"absolute",width:32,height:32,borderRadius:"100%",left:"calc(50% - 16px)",top:10,textAlign:"center",paddingTop:5,userSelect:"none",fontSize:"1.1em",pointerEvents:"none",boxSizing:"border-box"}},n=e.muiTheme,o=t.value;"hour"===t.type?o%=12:o/=5;var i=[[0,5],[54.5,16.6],[94.4,59.5],[109,114],[94.4,168.5],[54.5,208.4],[0,223],[-54.5,208.4],[-94.4,168.5],[-109,114],[-94.4,59.5],[-54.5,19.6]],a=[[0,40],[36.9,49.9],[64,77],[74,114],[64,151],[37,178],[0,188],[-37,178],[-64,151],[-74,114],[-64,77],[-37,50]];t.isSelected&&(r.root.backgroundColor=n.timePicker.accentColor,r.root.color=n.timePicker.selectTextColor);var s=i[o];(0,b.isInner)(t)&&(r.root.width=28,r.root.height=28,r.root.left="calc(50% - 14px)",s=a[o]);var l=s,u=(0,m.default)(l,2),c=u[0],p=u[1];return r.root.transform="translate("+c+"px, "+p+"px)",r}Object.defineProperty(e,"__esModule",{value:!0});var i=r(8),a=n(i),s=r(2),l=n(s),u=r(7),c=n(u),p=r(4),f=n(p),h=r(3),d=n(h),y=r(214),m=n(y),v=r(1),g=n(v),b=r(156),x=function(t){function e(){return(0,l.default)(this,e),(0,f.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,d.default)(e,t),(0,c.default)(e,[{key:"render",value:function(){var t=this.context.muiTheme.prepareStyles,e=o(this.props,this.context),r=0===this.props.value?"00":this.props.value;return g.default.createElement("span",{style:t(e.root)},r)}}]),e}(v.Component);x.defaultProps={value:0,type:"minute",isSelected:!1},x.contextTypes={muiTheme:v.PropTypes.object.isRequired},e.default=x},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){t%=e;var r=360/e*t;return r}function i(t,e,r){var n=t.hasSelected,i=t.type,a=t.value,s=r.inner,l=e.muiTheme.timePicker,u="hour"===i?o(a,12):o(a,60),c={root:{height:s?"30%":"40%",background:l.accentColor,width:2,left:"calc(50% - 1px)",position:"absolute",bottom:"50%",transformOrigin:"bottom",pointerEvents:"none",transform:"rotateZ("+u+"deg)"},mark:{boxSizing:"content-box",background:l.selectTextColor,border:"4px solid "+l.accentColor,display:n&&"none",width:7,height:7,position:"absolute",top:-5,left:-6,borderRadius:"100%"}};return c}Object.defineProperty(e,"__esModule",{value:!0});var a=r(8),s=n(a),l=r(2),u=n(l),c=r(7),p=n(c),f=r(4),h=n(f),d=r(3),y=n(d),m=r(1),v=n(m),g=r(156),b=function(t){function e(){var t,r,n,o;(0,u.default)(this,e);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,h.default)(this,(t=e.__proto__||(0,s.default)(e)).call.apply(t,[this].concat(a))),n.state={inner:!1},o=r,(0,h.default)(n,o)}return(0,y.default)(e,t),(0,p.default)(e,[{key:"componentWillMount",value:function(){this.setState({inner:(0,g.isInner)(this.props)})}},{key:"componentWillReceiveProps",value:function(t){this.setState({inner:(0,g.isInner)(t)})}},{key:"render",value:function(){if(null===this.props.value)return v.default.createElement("span",null);var t=i(this.props,this.context,this.state),e=this.context.muiTheme.prepareStyles;return v.default.createElement("div",{style:e(t.root)},v.default.createElement("div",{style:e(t.mark)}))}}]),e}(m.Component);b.defaultProps={hasSelected:!1,value:null,type:"minute"},b.contextTypes={muiTheme:m.PropTypes.object.isRequired},e.default=b},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=t.firstChild,n=t.lastChild,o=e.muiTheme,i=o.baseTheme,a=o.button,s=o.toolbar,l=i.spacing.desktopGutter,u=(s.height-a.height)/2,c={root:{position:"relative",marginLeft:r?-l:void 0,marginRight:n?-l:void 0,display:"flex",justifyContent:"space-between",alignItems:"center"},dropDownMenu:{root:{color:s.color,marginRight:i.spacing.desktopGutter,flex:1,whiteSpace:"nowrap"},controlBg:{backgroundColor:s.menuHoverColor,borderRadius:0},underline:{display:"none"}},button:{margin:u+"px "+l+"px",position:"relative"},icon:{root:{cursor:"pointer",lineHeight:s.height+"px",paddingLeft:i.spacing.desktopGutter}},span:{color:s.iconColor,lineHeight:s.height+"px"}};return c}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=function(t){function e(){return(0,f.default)(this,e),(0,m.default)(this,(e.__proto__||(0,c.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:"handleMouseLeaveFontIcon",value:function(t){return function(e){e.target.style.zIndex="auto",e.target.style.color=t.root.color}}},{key:"render",value:function(){var t=this,e=this.props,r=e.children,n=e.className,i=(e.firstChild,e.lastChild,e.style),s=(0,l.default)(e,["children","className","firstChild","lastChild","style"]),u=this.context.muiTheme.prepareStyles,c=o(this.props,this.context),p=w.default.Children.map(r,function(e){if(!e)return null;if(!e.type)return e;switch(e.type.muiName){case"DropDownMenu":return w.default.cloneElement(e,{style:(0,x.default)({},c.dropDownMenu.root,e.props.style),underlineStyle:c.dropDownMenu.underline});case"RaisedButton":case"FlatButton":return w.default.cloneElement(e,{style:(0,x.default)({},c.button,e.props.style)});case"FontIcon":return w.default.cloneElement(e,{style:(0,x.default)({},c.icon.root,e.props.style),color:e.props.color||t.context.muiTheme.toolbar.iconColor,hoverColor:e.props.hoverColor||t.context.muiTheme.toolbar.hoverColor});case"ToolbarSeparator":case"ToolbarTitle":return w.default.cloneElement(e,{style:(0,x.default)({},c.span,e.props.style)});default:return e}},this);return w.default.createElement("div",(0,a.default)({},s,{className:n,style:u((0,x.default)({},c.root,i))}),p)}}]),e}(_.Component);T.defaultProps={firstChild:!1,lastChild:!1},T.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=T},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.muiTheme,n=r.baseTheme,o=r.toolbar;return{root:{backgroundColor:o.separatorColor,display:"block",height:n.spacing.desktopGutterMore,marginLeft:n.spacing.desktopGutter,width:1}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=function(t){function e(){return(0,f.default)(this,e),(0,m.default)(this,(e.__proto__||(0,c.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){var t=this.props,e=t.className,r=t.style,n=(0,l.default)(t,["className","style"]),i=this.context.muiTheme.prepareStyles,s=o(this.props,this.context);return w.default.createElement("span",(0,a.default)({},n,{className:e,style:i((0,x.default)({},s.root,r))}))}}]),e}(_.Component);T.muiName="ToolbarSeparator",T.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=T},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.muiTheme,n=r.baseTheme,o=r.toolbar;return{root:{paddingRight:n.spacing.desktopGutterLess,lineHeight:o.height+"px",fontSize:o.titleFontSize,fontFamily:n.fontFamily,position:"relative",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=function(t){function e(){return(0,f.default)(this,e),(0,m.default)(this,(e.__proto__||(0,c.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){var t=this.props,e=t.className,r=t.style,n=t.text,i=(0,l.default)(t,["className","style","text"]),s=this.context.muiTheme.prepareStyles,u=o(this.props,this.context);return w.default.createElement("span",(0,a.default)({},i,{className:e,style:s((0,x.default)({},u.root,r))}),n)}}]),e}(_.Component);T.muiName="ToolbarTitle",T.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=T},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.muiTheme.overlay,n={root:{position:"fixed",height:"100%",width:"100%",top:0,left:"-100%",opacity:0,backgroundColor:r.backgroundColor,WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",willChange:"opacity",transform:"translateZ(0)",transition:t.transitionEnabled&&M.default.easeOut("0ms","left","400ms")+", "+M.default.easeOut("400ms","opacity")}};return t.show&&(0,x.default)(n.root,{left:0,opacity:1,transition:M.default.easeOut("0ms","left")+", "+M.default.easeOut("400ms","opacity")}),n}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=r(17),M=n(T),S=r(985),E=n(S),k=function(t){function e(){return(0,f.default)(this,e),(0,m.default)(this,(e.__proto__||(0,c.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:"setOpacity",value:function(t){this.refs.overlay.style.opacity=t}},{key:"render",value:function(){var t=this.props,e=t.autoLockScrolling,r=t.show,n=t.style,i=(t.transitionEnabled,(0,l.default)(t,["autoLockScrolling","show","style","transitionEnabled"])),s=this.context.muiTheme.prepareStyles,u=o(this.props,this.context);return w.default.createElement("div",(0,a.default)({},i,{ref:"overlay",style:s((0,x.default)(u.root,n))}),e&&w.default.createElement(E.default,{lock:r}))}}]),e}(_.Component);k.defaultProps={autoLockScrolling:!0,style:{},transitionEnabled:!0},k.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=k},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=r(15),m=r(435),v=n(m),g=function(t){function e(){var t,r,n,o;(0,s.default)(this,e);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];
return r=n=(0,p.default)(this,(t=e.__proto__||(0,i.default)(e)).call.apply(t,[this].concat(l))),n.onClickAway=function(t){if(!t.defaultPrevented&&n.props.componentClickAway&&n.props.open){var e=n.layer;(t.target!==e&&t.target===window||document.documentElement.contains(t.target)&&!v.default.isDescendant(e,t.target))&&n.props.componentClickAway(t)}},o=r,(0,p.default)(n,o)}return(0,h.default)(e,t),(0,u.default)(e,[{key:"componentDidMount",value:function(){this.renderLayer()}},{key:"componentDidUpdate",value:function(){this.renderLayer()}},{key:"componentWillUnmount",value:function(){this.unrenderLayer()}},{key:"getLayer",value:function(){return this.layer}},{key:"unrenderLayer",value:function(){this.layer&&(this.props.useLayerForClickAway?(this.layer.style.position="relative",this.layer.removeEventListener("touchstart",this.onClickAway),this.layer.removeEventListener("click",this.onClickAway)):(window.removeEventListener("touchstart",this.onClickAway),window.removeEventListener("click",this.onClickAway)),(0,y.unmountComponentAtNode)(this.layer),document.body.removeChild(this.layer),this.layer=null)}},{key:"renderLayer",value:function(){var t=this,e=this.props,r=e.open,n=e.render;if(r){this.layer||(this.layer=document.createElement("div"),document.body.appendChild(this.layer),this.props.useLayerForClickAway?(this.layer.addEventListener("touchstart",this.onClickAway),this.layer.addEventListener("click",this.onClickAway),this.layer.style.position="fixed",this.layer.style.top=0,this.layer.style.bottom=0,this.layer.style.left=0,this.layer.style.right=0,this.layer.style.zIndex=this.context.muiTheme.zIndex.layer):setTimeout(function(){window.addEventListener("touchstart",t.onClickAway),window.addEventListener("click",t.onClickAway)},0));var o=n();this.layerElement=(0,y.unstable_renderSubtreeIntoContainer)(this,o,this.layer)}else this.unrenderLayer()}},{key:"render",value:function(){return null}}]),e}(d.Component);g.defaultProps={useLayerForClickAway:!0},g.contextTypes={muiTheme:d.PropTypes.object.isRequired},e.default=g},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){var n=t.verticalPosition,o=t.horizontalPosition,i=t.touch?10:0,a=t.touch?-20:-10,s="bottom"===n?14+i:-14-i,l=e.muiTheme,u=l.baseTheme,c=l.zIndex,p=l.tooltip,f={root:{position:"absolute",fontFamily:u.fontFamily,fontSize:"10px",lineHeight:"22px",padding:"0 8px",zIndex:c.tooltip,color:p.color,overflow:"hidden",top:-1e4,borderRadius:2,userSelect:"none",opacity:0,right:"left"===o?12:null,left:"center"===o?(r.offsetWidth-48)/2*-1:null,transition:M.default.easeOut("0ms","top","450ms")+", "+M.default.easeOut("450ms","transform","0ms")+", "+M.default.easeOut("450ms","opacity","0ms")},label:{position:"relative",whiteSpace:"nowrap"},ripple:{position:"absolute",left:"center"===o?"50%":"left"===o?"100%":"0%",top:"bottom"===n?0:"100%",transform:"translate(-50%, -50%)",borderRadius:"50%",backgroundColor:"transparent",transition:M.default.easeOut("0ms","width","450ms")+", "+M.default.easeOut("0ms","height","450ms")+", "+M.default.easeOut("450ms","backgroundColor","0ms")},rootWhenShown:{top:"top"===n?a:36,opacity:.9,transform:"translate(0px, "+s+"px)",transition:M.default.easeOut("0ms","top","0ms")+", "+M.default.easeOut("450ms","transform","0ms")+", "+M.default.easeOut("450ms","opacity","0ms")},rootWhenTouched:{fontSize:"14px",lineHeight:"32px",padding:"0 16px"},rippleWhenShown:{backgroundColor:p.rippleBackgroundColor,transition:M.default.easeOut("450ms","width","0ms")+", "+M.default.easeOut("450ms","height","0ms")+", "+M.default.easeOut("450ms","backgroundColor","0ms")}};return f}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=r(17),M=n(T),S=function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.state={offsetWidth:null},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"componentDidMount",value:function(){this.setRippleSize(),this.setTooltipPosition()}},{key:"componentWillReceiveProps",value:function(){this.setTooltipPosition()}},{key:"componentDidUpdate",value:function(){this.setRippleSize()}},{key:"setRippleSize",value:function(){var t=this.refs.ripple,e=this.refs.tooltip,r=parseInt(e.offsetWidth,10)/("center"===this.props.horizontalPosition?2:1),n=parseInt(e.offsetHeight,10),o=Math.ceil(2*Math.sqrt(Math.pow(n,2)+Math.pow(r,2)));this.props.show?(t.style.height=o+"px",t.style.width=o+"px"):(t.style.width="0px",t.style.height="0px")}},{key:"setTooltipPosition",value:function(){this.setState({offsetWidth:this.refs.tooltip.offsetWidth})}},{key:"render",value:function(){var t=this.props,e=(t.horizontalPosition,t.label),r=(t.show,t.touch,t.verticalPosition,(0,l.default)(t,["horizontalPosition","label","show","touch","verticalPosition"])),n=this.context.muiTheme.prepareStyles,i=o(this.props,this.context,this.state);return w.default.createElement("div",(0,a.default)({},r,{ref:"tooltip",style:n((0,x.default)(i.root,this.props.show&&i.rootWhenShown,this.props.touch&&i.rootWhenTouched,this.props.style))}),w.default.createElement("div",{ref:"ripple",style:n((0,x.default)(i.ripple,this.props.show&&i.rippleWhenShown))}),w.default.createElement("span",{style:n(i.label)},e))}}]),e}(_.Component);S.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=S},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(119),i=n(o),a=r(8),s=n(a),l=r(2),u=n(l),c=r(7),p=n(c),f=r(4),h=n(f),d=r(3),y=n(d),m=r(317),v=n(m),g=r(10),b=n(g),x=r(1),_=n(x),w=r(15),T=n(w),M=r(159),S=n(M),E=r(435),k=n(E),C=r(987),A=n(C),P=function(t){var e=(0,v.default)(t),r=e.slice(1);return r},L=function(t){function e(t,r){(0,u.default)(this,e);var n=(0,h.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,r));return n.handleMouseDown=function(t){0===t.button&&n.start(t,!1)},n.handleMouseUp=function(){n.end()},n.handleMouseLeave=function(){n.end()},n.handleTouchStart=function(t){t.stopPropagation(),n.props.abortOnScroll&&t.touches&&(n.startListeningForScrollAbort(t),n.startTime=Date.now()),n.start(t,!0)},n.handleTouchEnd=function(){n.end()},n.handleTouchMove=function(t){var e=Math.abs(Date.now()-n.startTime);if(e>300)return void n.stopListeningForScrollAbort();var r=Math.abs(t.touches[0].clientY-n.firstTouchY),o=Math.abs(t.touches[0].clientX-n.firstTouchX);if(r>6||o>6){var a=n.state.ripples,s=a[0],l=_.default.cloneElement(s,{aborted:!0});a=P(a),a=[].concat((0,i.default)(a),[l]),n.setState({ripples:a},function(){n.end()})}},n.ignoreNextMouseDown=!1,n.state={hasRipples:!1,nextKey:0,ripples:[]},n}return(0,y.default)(e,t),(0,p.default)(e,[{key:"start",value:function(t,e){var r=this.context.muiTheme.ripple;if(this.ignoreNextMouseDown&&!e)return void(this.ignoreNextMouseDown=!1);var n=this.state.ripples;n=[].concat((0,i.default)(n),[_.default.createElement(A.default,{key:this.state.nextKey,style:this.props.centerRipple?{}:this.getRippleStyle(t),color:this.props.color||r.color,opacity:this.props.opacity,touchGenerated:e})]),this.ignoreNextMouseDown=e,this.setState({hasRipples:!0,nextKey:this.state.nextKey+1,ripples:n})}},{key:"end",value:function(){var t=this.state.ripples;this.setState({ripples:P(t)}),this.props.abortOnScroll&&this.stopListeningForScrollAbort()}},{key:"startListeningForScrollAbort",value:function(t){this.firstTouchY=t.touches[0].clientY,this.firstTouchX=t.touches[0].clientX,document.body.addEventListener("touchmove",this.handleTouchMove)}},{key:"stopListeningForScrollAbort",value:function(){document.body.removeEventListener("touchmove",this.handleTouchMove)}},{key:"getRippleStyle",value:function(t){var e=T.default.findDOMNode(this),r=e.offsetHeight,n=e.offsetWidth,o=k.default.offset(e),i=t.touches&&t.touches.length,a=i?t.touches[0].pageX:t.pageX,s=i?t.touches[0].pageY:t.pageY,l=a-o.left,u=s-o.top,c=this.calcDiag(l,u),p=this.calcDiag(n-l,u),f=this.calcDiag(n-l,r-u),h=this.calcDiag(l,r-u),d=Math.max(c,p,f,h),y=2*d,m=l-d,v=u-d;return{directionInvariant:!0,height:y,width:y,top:v,left:m}}},{key:"calcDiag",value:function(t,e){return Math.sqrt(t*t+e*e)}},{key:"render",value:function(){var t=this.props,e=t.children,r=t.style,n=this.state,o=n.hasRipples,i=n.ripples,a=this.context.muiTheme.prepareStyles,s=void 0;if(o){var l=(0,b.default)({height:"100%",width:"100%",position:"absolute",top:0,left:0,overflow:"hidden",pointerEvents:"none"},r);s=_.default.createElement(S.default,{style:a(l)},i)}return _.default.createElement("div",{onMouseUp:this.handleMouseUp,onMouseDown:this.handleMouseDown,onMouseLeave:this.handleMouseLeave,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},s,e)}}]),e}(x.Component);L.defaultProps={abortOnScroll:!0},L.contextTypes={muiTheme:x.PropTypes.object.isRequired},e.default=L},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=r(995),m=n(y),v=function(t){function e(){return(0,s.default)(this,e),(0,p.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,h.default)(e,t),(0,u.default)(e,[{key:"getChildContext",value:function(){return{muiTheme:this.props.muiTheme||(0,m.default)()}}},{key:"render",value:function(){return this.props.children}}]),e}(d.Component);v.childContextTypes={muiTheme:d.PropTypes.object.isRequired},e.default=v},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"}))};c=(0,s.default)(c),c.displayName="ActionDescription",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2z"}))};c=(0,s.default)(c),c.displayName="ActionTimeline",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"}))};c=(0,s.default)(c),c.displayName="DeviceAccessTime",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"}))};c=(0,s.default)(c),c.displayName="EditorInsertDriveFile",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}))};c=(0,s.default)(c),c.displayName="FileFileDownload",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z"}))};c=(0,s.default)(c),c.displayName="ImageAddToPhotos",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}))};c=(0,s.default)(c),c.displayName="ImageRemoveRedEye",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z"}))};c=(0,s.default)(c),c.displayName="MapsLayers",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}))};c=(0,s.default)(c),c.displayName="MapsMyLocation",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}))};c=(0,s.default)(c),c.displayName="NavigationChevronLeft",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}))};c=(0,s.default)(c),c.displayName="NavigationChevronRight",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}))};c=(0,s.default)(c),c.displayName="NavigationMoreVert",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}))};c=(0,s.default)(c),c.displayName="NavigationRefresh",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}))};c=(0,s.default)(c),c.displayName="SocialPersonAdd",c.muiName="SvgIcon",e.default=c},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={isDescendant:function(t,e){for(var r=e.parentNode;null!==r;){if(r===t)return!0;r=r.parentNode}return!1},offset:function(t){var e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}}}},function(t,e,r){var n,n,n,n,n,n,n,n;(function(e){!function(e,r){t.exports=r()}(this,function(){function t(t,e){var r=t.split("."),n=tm||em;r[0]in n||!n.execScript||n.execScript("var "+r[0]);for(var o;r.length&&(o=r.shift());)r.length||void 0===e?n=n[o]?n[o]:n[o]={}:n[o]=e}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function o(){}function i(t){return t.ao||(t.ao=++rm)}function a(t){this.message="Assertion failed. See https://openlayers.org/en/v3.20.1/doc/errors/#"+t+" for details.",this.code=t,this.name="AssertionError"}function s(t,e){if(!t)throw new a(e)}function l(t,e,r){return Math.min(Math.max(t,e),r)}function u(t){return s(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function c(t,e,r,n,o,i){var a=o-r,s=i-n;if(0!==a||0!==s){var l=((t-r)*a+(e-n)*s)/(a*a+s*s);1<l?(r=o,n=i):0<l&&(r+=a*l,n+=s*l)}return p(t,e,r,n)}function p(t,e,r,n){return t=r-t,e=n-e,t*t+e*e}function f(t){return t*Math.PI/180}function h(t,e){var r=t%e;return 0>r*e?r+e:r}function d(t,e,r){return t+r*(e-t)}function y(t){return function(e){if(e)return[l(e[0],t[0],t[2]),l(e[1],t[1],t[3])]}}function m(t){return t}function v(t,e,r){this.center=t,this.resolution=e,this.rotation=r}function g(t){for(var e in t)delete t[e]}function b(t){var e,r=[];for(e in t)r.push(t[e]);return r}function x(t){for(var e in t)return!1;return!e}function _(t){function e(e){var r=t.listener,n=t.xg||t.target;return t.zg&&A(t),r.call(n,e)}return t.yg=e}function w(t,e,r,n){for(var o,i=0,a=t.length;i<a;++i)if(o=t[i],o.listener===e&&o.xg===r)return n&&(o.deleteIndex=i),o}function T(t,e){var r=t.eb;return r?r[e]:void 0}function M(t){var e=t.eb;return e||(e=t.eb={}),e}function S(t,e){var r=T(t,e);if(r){for(var n=0,o=r.length;n<o;++n)t.removeEventListener(e,r[n].yg),g(r[n]);r.length=0,(r=t.eb)&&(delete r[e],0===Object.keys(r).length&&delete t.eb)}}function E(t,e,r,n,o){var i=M(t),a=i[e];return a||(a=i[e]=[]),(i=w(a,r,n,!1))?o||(i.zg=!1):(i={xg:n,zg:!!o,listener:r,target:t,type:e},t.addEventListener(e,_(i)),a.push(i)),i}function k(t,e,r,n){return E(t,e,r,n,!0)}function C(t,e,r,n){(t=T(t,e))&&(r=w(t,r,n,!0))&&A(r)}function A(t){if(t&&t.target){t.target.removeEventListener(t.type,t.yg);var e=T(t.target,t.type);if(e){var r="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==r&&e.splice(r,1),0===e.length&&S(t.target,t.type)}g(t)}}function P(t){var e,r=M(t);for(e in r)S(t,e)}function L(){}function D(t){t.zb||(t.zb=!0,t.oa())}function O(t){this.type=t,this.target=null}function I(t){t.stopPropagation()}function R(){this.Qa={},this.va={},this.ra={}}function N(t,e){return e?e in t.ra:0<Object.keys(t.ra).length}function j(){R.call(this),this.g=0}function F(t){if(Array.isArray(t))for(var e=0,r=t.length;e<r;++e)A(t[e]);else A(t)}function z(t){j.call(this),i(this),this.H={},void 0!==t&&this.I(t)}function B(t){return im.hasOwnProperty(t)?im[t]:im[t]="change:"+t}function U(t,e,r){var n;n=B(e),t.b(new V(n,e,r)),n=am,t.b(new V(n,e,r))}function V(t,e,r){O.call(this,t),this.key=e,this.oldValue=r}function H(t,e){return t>e?1:t<e?-1:0}function W(t,e){return 0<=t.indexOf(e)}function q(t,e,r){var n=t.length;if(t[0]<=e)return 0;if(!(e<=t[n-1]))if(0<r){for(r=1;r<n;++r)if(t[r]<e)return r-1}else if(0>r){for(r=1;r<n;++r)if(t[r]<=e)return r}else for(r=1;r<n;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return n-1}function G(t){return t.reduce(function(t,e){return Array.isArray(e)?t.concat(G(e)):t.concat(e)},[])}function Y(t,e){var r,n=Array.isArray(e)?e:[e],o=n.length;for(r=0;r<o;r++)t[t.length]=n[r]}function X(t,e){for(var r,n=t.length>>>0,o=0;o<n;o++)if(r=t[o],e(r,o,t))return r;return null}function K(t,e){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Z(t){var e,r=Si,n=t.length,o=Array(t.length);for(e=0;e<n;e++)o[e]={index:e,value:t[e]};for(o.sort(function(t,e){return r(t.value,e.value)||t.index-e.index}),e=0;e<t.length;e++)t[e]=o[e].value}function J(t,e){var r;return t.every(function(n,o){return r=o,!e(n,o,t)})?-1:r}function $(t,e){var r=e||H;return t.every(function(e,n){if(0===n)return!0;var o=r(t[n-1],e);return!(0<o||0===o)})}function Q(t){return function(e,r,n){if(void 0!==e)return e=q(t,e,n),e=l(e+r,0,t.length-1),r=Math.floor(e),e!=r&&r<t.length-1?t[r]/Math.pow(t[r]/t[r+1],e-r):t[r]}}function tt(t,e,r){return function(n,o,i){if(void 0!==n)return n=Math.max(Math.floor(Math.log(e/n)/Math.log(t)+(-i/2+.5))+o,0),void 0!==r&&(n=Math.min(n,r)),e/Math.pow(t,n)}}function et(t){if(void 0!==t)return 0}function rt(t,e){if(void 0!==t)return t+e}function nt(t){var e=2*Math.PI/t;return function(t,r){if(void 0!==t)return t=Math.floor((t+r)/e+.5)*e}}function ot(){var t=f(5);return function(e,r){if(void 0!==e)return Math.abs(e+r)<=t?0:e+r}}function it(t,e){var r=void 0!==e?t.toFixed(e):""+t,n=r.indexOf("."),n=-1===n?r.length:n;return 2<n?r:Array(3-n).join("0")+r}function at(t){t=(""+t).split(".");for(var e=["1","3"],r=0;r<Math.max(t.length,e.length);r++){var n=parseInt(t[r]||"0",10),o=parseInt(e[r]||"0",10);if(n>o)return 1;if(o>n)return-1}return 0}function st(t,e){return t[0]+=e[0],t[1]+=e[1],t}function lt(t,e){var r=t[0],n=t[1],o=e[0],i=e[1],a=o[0],o=o[1],s=i[0],i=i[1],l=s-a,u=i-o,r=0===l&&0===u?0:(l*(r-a)+u*(n-o))/(l*l+u*u||0);return 0>=r||(1<=r?(a=s,o=i):(a+=r*l,o+=r*u)),[a,o]}function ut(t,e,r){t=h(t+180,360)-180;var n=Math.abs(3600*t);return Math.floor(n/3600)+"° "+it(Math.floor(n/60%60))+"′ "+it(n%60,r||0)+"″ "+e.charAt(0>t?1:0)}function ct(t,e,r){return t?e.replace("{x}",t[0].toFixed(r)).replace("{y}",t[1].toFixed(r)):""}function pt(t,e){for(var r=!0,n=t.length-1;0<=n;--n)if(t[n]!=e[n]){r=!1;break}return r}function ft(t,e){var r=Math.cos(e),n=Math.sin(e),o=t[1]*r+t[0]*n;return t[0]=t[0]*r-t[1]*n,t[1]=o,t}function ht(t,e){t[0]*=e,t[1]*=e}function dt(t,e){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function yt(t,e){return dt(t,lt(t,e))}function mt(t,e){return ct(t,"{x}, {y}",e)}function vt(t){return Math.pow(t,3)}function gt(t){return 1-vt(1-t)}function bt(t){return 3*t*t-2*t*t*t}function xt(t){return t}function _t(t){return.5>t?bt(2*t):1-bt(2*(t-.5))}function wt(t){for(var e=Pt(),r=0,n=t.length;r<n;++r)Nt(e,t[r]);return e}function Tt(t,e,r){return r?(r[0]=t[0]-e,r[1]=t[1]-e,r[2]=t[2]+e,r[3]=t[3]+e,r):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function Mt(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function St(t,e,r){return e=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,t=r<t[1]?t[1]-r:t[3]<r?r-t[3]:0,e*e+t*t}function Et(t,e){return Ct(t,e[0],e[1])}function kt(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function Ct(t,e,r){return t[0]<=e&&e<=t[2]&&t[1]<=r&&r<=t[3]}function At(t,e){var r=t[1],n=t[2],o=t[3],i=e[0],a=e[1],s=0;return i<t[0]?s|=16:i>n&&(s|=4),a<r?s|=8:a>o&&(s|=2),0===s&&(s=1),s}function Pt(){return[1/0,1/0,-(1/0),-(1/0)]}function Lt(t,e,r,n,o){return o?(o[0]=t,o[1]=e,o[2]=r,o[3]=n,o):[t,e,r,n]}function Dt(t,e){var r=t[0],n=t[1];return Lt(r,n,r,n,e)}function Ot(t,e,r,n,o){return o=Lt(1/0,1/0,-(1/0),-(1/0),o),jt(o,t,e,r,n)}function It(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Rt(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function Nt(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function jt(t,e,r,n,o){for(;r<n;r+=o){var i=t,a=e[r],s=e[r+1];i[0]=Math.min(i[0],a),i[1]=Math.min(i[1],s),i[2]=Math.max(i[2],a),i[3]=Math.max(i[3],s)}return t}function Ft(t,e,r){var n;return(n=e.call(r,Bt(t)))||(n=e.call(r,Ut(t)))||(n=e.call(r,Yt(t)))?n:!!(n=e.call(r,Gt(t)))&&n}function zt(t){var e=0;return Zt(t)||(e=Xt(t)*Wt(t)),e}function Bt(t){return[t[0],t[1]]}function Ut(t){return[t[2],t[1]]}function Vt(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function Ht(t,e,r,n,o){var i=e*n[0]/2;n=e*n[1]/2,e=Math.cos(r);var a=Math.sin(r);r=i*e,i*=a,e*=n;var s=n*a,l=t[0],u=t[1];t=l-r+s,n=l-r-s,a=l+r-s,r=l+r+s;var s=u-i-e,l=u-i+e,c=u+i+e,i=u+i-e;return Lt(Math.min(t,n,a,r),Math.min(s,l,c,i),Math.max(t,n,a,r),Math.max(s,l,c,i),o)}function Wt(t){return t[3]-t[1]}function qt(t,e,r){return r=r?r:Pt(),Kt(t,e)&&(r[0]=t[0]>e[0]?t[0]:e[0],r[1]=t[1]>e[1]?t[1]:e[1],r[2]=t[2]<e[2]?t[2]:e[2],r[3]=t[3]<e[3]?t[3]:e[3]),r}function Gt(t){return[t[0],t[3]]}function Yt(t){return[t[2],t[3]]}function Xt(t){return t[2]-t[0]}function Kt(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Zt(t){return t[2]<t[0]||t[3]<t[1]}function Jt(t,e){var r=(t[2]-t[0])/2*(e-1),n=(t[3]-t[1])/2*(e-1);t[0]-=r,t[2]+=r,t[1]-=n,t[3]+=n}function $t(t,e,r){t=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]],e(t,t,2);var n=[t[0],t[2],t[4],t[6]],o=[t[1],t[3],t[5],t[7]];return e=Math.min.apply(null,n),t=Math.min.apply(null,o),n=Math.max.apply(null,n),o=Math.max.apply(null,o),Lt(e,t,n,o,r)}function Qt(){return!0}function te(){return!1}function ee(t){this.radius=t}function re(t){this.hb=t.code,this.c=t.units,this.f=void 0!==t.extent?t.extent:null,this.i=void 0!==t.worldExtent?t.worldExtent:null,this.b=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.g=void 0!==t.global&&t.global,this.a=!(!this.g||!this.f),this.l=t.getPointResolution,this.j=null,this.o=t.metersPerUnit;var e=t.code,r=um||window.proj4;"function"==typeof r&&(e=r.defs(e),void 0!==e&&(void 0!==e.axis&&void 0===t.axisOrientation&&(this.b=e.axis),void 0===t.metersPerUnit&&(this.o=e.to_meter),void 0===t.units&&(this.c=e.units)))}function ne(t,e,r){t=t.hb,e=e.hb,t in pm||(pm[t]={}),pm[t][e]=r}function oe(t,e){var r;return t in pm&&e in pm[t]&&(r=pm[t][e]),r}function ie(t,e,r){var n=t.l;return n?e=n(e,r):"degrees"!=t.Eb()&&(n=me(t,he("EPSG:4326")),e=[r[0]-e/2,r[1],r[0]+e/2,r[1],r[0],r[1]-e/2,r[0],r[1]+e/2],e=n(e,e,2),e=(sm.b(e.slice(0,2),e.slice(2,4))+sm.b(e.slice(4,6),e.slice(6,8)))/2,t=t.ic(),void 0!==t&&(e/=t)),e}function ae(t){ue(t),t.forEach(function(e){t.forEach(function(t){e!==t&&ne(e,t,ge)})})}function se(){var t=pv,e=ei,r=ri;yv.forEach(function(n){t.forEach(function(t){ne(n,t,e),ne(t,n,r)})})}function le(t){cm[t.hb]=t,ne(t,t,ge)}function ue(t){var e=[];t.forEach(function(t){e.push(le(t))})}function ce(t){return t?"string"==typeof t?he(t):t:he("EPSG:3857")}function pe(t,e,r,n){t=he(t),e=he(e),ne(t,e,fe(r)),ne(e,t,fe(n))}function fe(t){return function(e,r,n){var o=e.length;n=void 0!==n?n:2,r=void 0!==r?r:Array(o);var i,a;for(a=0;a<o;a+=n)for(i=t([e[a],e[a+1]]),r[a]=i[0],r[a+1]=i[1],i=n-1;2<=i;--i)r[a+i]=e[a+i];return r}}function he(t){var e=null;if(t instanceof re)e=t;else if("string"==typeof t){var e=cm[t]||null,r=um||window.proj4;e||"function"!=typeof r||void 0===r.defs(t)||(e=new re({code:t}),le(e))}return e}function de(t,e){if(t===e)return!0;var r=t.Eb()===e.Eb();return t.hb===e.hb?r:me(t,e)===ge&&r}function ye(t,e){var r=he(t),n=he(e);return me(r,n)}function me(t,e){var r=t.hb,n=e.hb,o=oe(r,n);if(!o){var i=um||window.proj4;if("function"==typeof i){var a=i.defs(r),s=i.defs(n);void 0!==a&&void 0!==s&&(a===s?ae([e,t]):(o=i(n,r),pe(e,t,o.forward,o.inverse)),o=oe(r,n))}}return o||(o=ve),o}function ve(t,e){if(void 0!==e&&t!==e){for(var r=0,n=t.length;r<n;++r)e[r]=t[r];t=e}return t}function ge(t,e){var r;if(void 0!==e){r=0;for(var n=t.length;r<n;++r)e[r]=t[r];r=e}else r=t.slice();return r}function be(t,e,r){return ye(e,r)(t,void 0,t.length)}function xe(t,e,r){return e=ye(e,r),$t(t,e)}function _e(){z.call(this),this.v=Pt(),this.u=-1,this.i={},this.o=this.j=0}function we(t,e,r,n,o,i){for(var a=i?i:[],s=0;e<r;e+=n){var l=t[e],u=t[e+1];a[s++]=o[0]*l+o[2]*u+o[4],a[s++]=o[1]*l+o[3]*u+o[5]}return i&&a.length!=s&&(a.length=s),a}function Te(t,e,r,n,o,i){var a,s,l=i?i:[],u=0;for(a=0;a<e;a+=r)for(l[u++]=t[a]+n,l[u++]=t[a+1]+o,s=a+2;s<a+r;++s)l[u++]=t[s];return i&&l.length!=u&&(l.length=u),l}function Me(){_e.call(this),this.ka="XY",this.a=2,this.B=null}function Se(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function Ee(t,e,r){t.a=Se(e),t.ka=e,t.B=r}function ke(t,e,r,n){if(e)r=Se(e);else{for(e=0;e<n;++e){if(0===r.length)return t.ka="XY",void(t.a=2);r=r[0]}r=r.length;var o;2==r?o="XY":3==r?o="XYZ":4==r&&(o="XYZM"),e=o}t.ka=e,t.a=r}function Ce(t,e,r,n){for(var o=0,i=t[r-n],a=t[r-n+1];e<r;e+=n)var s=t[e],l=t[e+1],o=o+(a*s-i*l),i=s,a=l;return o/2}function Ae(t,e,r,n){var o,i,a=0;for(o=0,i=r.length;o<i;++o){var s=r[o],a=a+Ce(t,e,s,n);e=s}return a}function Pe(t,e,r,n,o,i,a){var s=t[e],l=t[e+1],u=t[r]-s,c=t[r+1]-l;if(0!==u||0!==c)if(i=((o-s)*u+(i-l)*c)/(u*u+c*c),1<i)e=r;else if(0<i){for(o=0;o<n;++o)a[o]=d(t[e+o],t[r+o],i);return void(a.length=n)}for(o=0;o<n;++o)a[o]=t[e+o];a.length=n}function Le(t,e,r,n,o){var i=t[e],a=t[e+1];for(e+=n;e<r;e+=n){var s=t[e],l=t[e+1],i=p(i,a,s,l);i>o&&(o=i),i=s,a=l}return o}function De(t,e,r,n,o){var i,a;for(i=0,a=r.length;i<a;++i){var s=r[i];o=Le(t,e,s,n,o),e=s}return o}function Oe(t,e,r,n,o,i,a,s,l,u,c){if(e==r)return u;var f;if(0===o){if(f=p(a,s,t[e],t[e+1]),f<u){for(c=0;c<n;++c)l[c]=t[e+c];return l.length=n,f}return u}for(var h=c?c:[NaN,NaN],d=e+n;d<r;)if(Pe(t,d-n,d,n,a,s,h),f=p(a,s,h[0],h[1]),f<u){for(u=f,c=0;c<n;++c)l[c]=h[c];l.length=n,d+=n}else d+=n*Math.max((Math.sqrt(f)-Math.sqrt(u))/o|0,1);if(i&&(Pe(t,r-n,e,n,a,s,h),f=p(a,s,h[0],h[1]),f<u)){for(u=f,c=0;c<n;++c)l[c]=h[c];l.length=n}return u}function Ie(t,e,r,n,o,i,a,s,l,u,c){c=c?c:[NaN,NaN];var p,f;for(p=0,f=r.length;p<f;++p){var h=r[p];u=Oe(t,e,h,n,o,i,a,s,l,u,c),e=h}return u}function Re(t,e){var r,n,o=0;for(r=0,n=e.length;r<n;++r)t[o++]=e[r];return o}function Ne(t,e,r,n){var o,i;for(o=0,i=r.length;o<i;++o){var a,s=r[o];for(a=0;a<n;++a)t[e++]=s[a]}return e}function je(t,e,r,n,o){o=o?o:[];var i,a,s=0;for(i=0,a=r.length;i<a;++i)e=Ne(t,e,r[i],n),o[s++]=e;return o.length=s,o}function Fe(t,e,r,n,o){o=void 0!==o?o:[];for(var i=0;e<r;e+=n)o[i++]=t.slice(e,e+n);return o.length=i,o}function ze(t,e,r,n,o){o=void 0!==o?o:[];var i,a,s=0;for(i=0,a=r.length;i<a;++i){var l=r[i];o[s++]=Fe(t,e,l,n,o[s]),e=l}return o.length=s,o}function Be(t,e,r,n,o,i,a){var s=(r-e)/n;if(3>s){for(;e<r;e+=n)i[a++]=t[e],i[a++]=t[e+1];return a}var l=Array(s);l[0]=1,l[s-1]=1,r=[e,r-n];for(var u,p=0;0<r.length;){var f=r.pop(),h=r.pop(),d=0,y=t[h],m=t[h+1],v=t[f],g=t[f+1];for(u=h+n;u<f;u+=n){var b=c(t[u],t[u+1],y,m,v,g);b>d&&(p=u,d=b)}d>o&&(l[(p-e)/n]=1,h+n<p&&r.push(h,p),p+n<f&&r.push(p,f))}for(u=0;u<s;++u)l[u]&&(i[a++]=t[e+u*n],i[a++]=t[e+u*n+1]);return a}function Ue(t,e,r,n,o,i,a,s){var l,u;for(l=0,u=r.length;l<u;++l){var c=r[l];t:{var p=t,f=c,h=n,d=o,y=i;if(e!=f){var m=d*Math.round(p[e]/d),v=d*Math.round(p[e+1]/d);e+=h,y[a++]=m,y[a++]=v;var g,b;do if(g=d*Math.round(p[e]/d),b=d*Math.round(p[e+1]/d),e+=h,e==f){y[a++]=g,y[a++]=b;break t}while(g==m&&b==v);for(;e<f;){var x,_;if(x=d*Math.round(p[e]/d),_=d*Math.round(p[e+1]/d),e+=h,x!=g||_!=b){var w=g-m,T=b-v,M=x-m,S=_-v;w*S==T*M&&(0>w&&M<w||w==M||0<w&&M>w)&&(0>T&&S<T||T==S||0<T&&S>T)||(y[a++]=g,y[a++]=b,m=g,v=b),g=x,
b=_}}y[a++]=g,y[a++]=b}}s.push(a),e=c}return a}function Ve(t,e){Me.call(this),this.c=this.l=-1,this.qa(t,e)}function He(t,e,r){Ee(t,e,r),t.s()}function We(t,e){Me.call(this),this.qa(t,e)}function qe(t,e,r,n,o){return!Ft(o,function(o){return!Ge(t,e,r,n,o[0],o[1])})}function Ge(t,e,r,n,o,i){for(var a=0,s=t[r-n],l=t[r-n+1];e<r;e+=n){var u=t[e],c=t[e+1];l<=i?c>i&&0<(u-s)*(i-l)-(o-s)*(c-l)&&a++:c<=i&&0>(u-s)*(i-l)-(o-s)*(c-l)&&a--,s=u,l=c}return 0!==a}function Ye(t,e,r,n,o,i){if(0===r.length||!Ge(t,e,r[0],n,o,i))return!1;var a;for(e=1,a=r.length;e<a;++e)if(Ge(t,r[e-1],r[e],n,o,i))return!1;return!0}function Xe(t,e,r,n,o,i,a){var s,l,u,c,p,f=o[i+1],h=[],d=r[0];for(u=t[d-n],p=t[d-n+1],s=e;s<d;s+=n)c=t[s],l=t[s+1],(f<=p&&l<=f||p<=f&&f<=l)&&(u=(f-p)/(l-p)*(c-u)+u,h.push(u)),u=c,p=l;for(d=NaN,p=-(1/0),h.sort(H),u=h[0],s=1,l=h.length;s<l;++s){c=h[s];var y=Math.abs(c-u);y>p&&(u=(u+c)/2,Ye(t,e,r,n,u,f)&&(d=u,p=y)),u=c}return isNaN(d)&&(d=o[i]),a?(a.push(d,f),a):[d,f]}function Ke(t,e,r,n,o,i){for(var a,s=[t[e],t[e+1]],l=[];e+n<r;e+=n){if(l[0]=t[e+n],l[1]=t[e+n+1],a=o.call(i,s,l))return a;s[0]=l[0],s[1]=l[1]}return!1}function Ze(t,e,r,n,o){var i=jt(Pt(),t,e,r,n);return!!Kt(o,i)&&(!!(kt(o,i)||i[0]>=o[0]&&i[2]<=o[2]||i[1]>=o[1]&&i[3]<=o[3])||Ke(t,e,r,n,function(t,e){var r=!1,n=At(o,t),i=At(o,e);if(1===n||1===i)r=!0;else{var a=o[0],s=o[1],l=o[2],u=o[3],c=e[0],p=e[1],f=(p-t[1])/(c-t[0]);2&i&&!(2&n)&&(r=c-(p-u)/f,r=r>=a&&r<=l),r||!(4&i)||4&n||(r=p-(c-l)*f,r=r>=s&&r<=u),r||!(8&i)||8&n||(r=c-(p-s)/f,r=r>=a&&r<=l),r||!(16&i)||16&n||(r=p-(c-a)*f,r=r>=s&&r<=u)}return r}))}function Je(t,e,r,n,o){var i=r[0];if(!(Ze(t,e,i,n,o)||Ge(t,e,i,n,o[0],o[1])||Ge(t,e,i,n,o[0],o[3])||Ge(t,e,i,n,o[2],o[1])||Ge(t,e,i,n,o[2],o[3])))return!1;if(1===r.length)return!0;for(e=1,i=r.length;e<i;++e)if(qe(t,r[e-1],r[e],n,o))return!1;return!0}function $e(t,e,r,n){for(var o=0,i=t[r-n],a=t[r-n+1];e<r;e+=n)var s=t[e],l=t[e+1],o=o+(s-i)*(l+a),i=s,a=l;return 0<o}function Qe(t,e,r,n){var o=0;n=void 0!==n&&n;var i,a;for(i=0,a=e.length;i<a;++i){var s=e[i],o=$e(t,o,s,r);if(0===i){if(n&&o||!n&&!o)return!1}else if(n&&!o||!n&&o)return!1;o=s}return!0}function tr(t,e,r,n,o){o=void 0!==o&&o;var i,a;for(i=0,a=r.length;i<a;++i){var s=r[i],l=$e(t,e,s,n);if(0===i?o&&l||!o&&!l:o&&!l||!o&&l)for(var l=t,u=s,c=n;e<u-c;){var p;for(p=0;p<c;++p){var f=l[e+p];l[e+p]=l[u-c+p],l[u-c+p]=f}e+=c,u-=c}e=s}return e}function er(t,e,r,n){var o,i,a=0;for(o=0,i=e.length;o<i;++o)a=tr(t,a,e[o],r,n);return a}function rr(t,e){Me.call(this),this.c=[],this.A=-1,this.C=null,this.P=this.D=this.L=-1,this.l=null,this.qa(t,e)}function nr(t){if(t.A!=t.g){var e=Vt(t.G());t.C=Xe(t.Vb(),0,t.c,t.a,e,0),t.A=t.g}return t.C}function or(t,e,r,n){var o=n?n:32;n=[];var i;for(i=0;i<o;++i)Y(n,t.offset(e,r,2*Math.PI*i/o));return n.push(n[0],n[1]),t=new rr(null),t.da("XY",n,[n.length]),t}function ir(t){var e=t[0],r=t[1],n=t[2];return t=t[3],e=[e,r,e,t,n,t,n,r,e,r],r=new rr(null),r.da("XY",e,[e.length]),r}function ar(t,e,r){var n=e?e:32,o=t.pa();e=t.ka;for(var i=new rr(null,e),n=o*(n+1),o=Array(n),a=0;a<n;a++)o[a]=0;return i.da(e,o,[o.length]),sr(i,t.Fd(),t.qe(),r),i}function sr(t,e,r,n){var o=t.ia(),i=t.ka,a=t.pa(),s=t.Kb(),l=o.length/a-1;n=n?n:0;for(var u,c,p=0;p<=l;++p)c=p*a,u=n+2*h(p,l)*Math.PI/l,o[c]=e[0]+r*Math.cos(u),o[c+1]=e[1]+r*Math.sin(u);t.da(i,o,s)}function lr(t){z.call(this),t=t||{},this.i=[0,0],this.f=[],this.Pe=this.Pe.bind(this);var e={};e[fm]=void 0!==t.center?t.center:null,this.o=ce(t.projection);var r,n,o,i=void 0!==t.minZoom?t.minZoom:0;r=void 0!==t.maxZoom?t.maxZoom:28;var a=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions)r=t.resolutions,n=r[0],o=r[r.length-1],r=Q(r);else{n=ce(t.projection),o=n.G();var s=(o?Math.max(Xt(o),Wt(o)):360*lm.degrees/n.ic())/256/Math.pow(2,0),l=s/Math.pow(2,28);n=t.maxResolution,void 0!==n?i=0:n=s/Math.pow(a,i),o=t.minResolution,void 0===o&&(o=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(a,r):s/Math.pow(a,r):l),r=i+Math.floor(Math.log(n/o)/Math.log(a)),o=n/Math.pow(a,r-i),r=tt(a,n,r-i)}this.a=n,this.j=o,this.A=a,this.c=t.resolutions,this.l=i,i=void 0!==t.extent?y(t.extent):m,(void 0!==t.enableRotation?t.enableRotation:1)?(a=t.constrainRotation,a=void 0===a||!0===a?ot():!1===a?rt:"number"==typeof a?nt(a):rt):a=et,this.u=new v(i,r,a),void 0!==t.resolution?e[hm]=t.resolution:void 0!==t.zoom&&(e[hm]=this.constrainResolution(this.a,t.zoom-this.l)),e[dm]=void 0!==t.rotation?t.rotation:0,this.I(e)}function ur(t){vr(t,ym,-fr(t)[ym]);for(var e=0,r=t.f.length;e<r;++e){var n=t.f[e];n[0].Vc&&n[0].Vc(!1)}t.f.length=0}function cr(t,e,r){var n,o=t.fb();return void 0!==o&&(n=[o[0]-r[0],o[1]-r[1]],ft(n,e-t.Ra()),st(n,r)),n}function pr(t,e,r){var n,o=t.fb();return t=t.Oa(),void 0!==o&&void 0!==t&&(n=[r[0]-e*(r[0]-o[0])/t,r[1]-e*(r[1]-o[1])/t]),n}function fr(t,e){return void 0!==e?(e[0]=t.i[0],e[1]=t.i[1],e):t.i.slice()}function hr(t,e){return Math.max(Xt(t)/e[0],Wt(t)/e[1])}function dr(t){var e=t.a,r=Math.log(e/t.j)/Math.log(2);return function(t){return e/Math.pow(2,t*r)}}function yr(t){var e=t.a,r=Math.log(e/t.j)/Math.log(2);return function(t){return Math.log(e/t)/Math.log(2)/r}}function mr(t){return!!t.fb()&&void 0!==t.Oa()}function vr(t,e,r){t.i[e]+=r,t.s()}function gr(t,e,r,n){this.ea=t,this.ca=e,this.ga=r,this.ja=n}function br(t,e,r){return t.ea<=e&&e<=t.ca&&t.ga<=r&&r<=t.ja}function xr(t,e){return t.ea==e.ea&&t.ga==e.ga&&t.ca==e.ca&&t.ja==e.ja}function _r(t,e){return t.ea<=e.ca&&t.ca>=e.ea&&t.ga<=e.ja&&t.ja>=e.ga}function wr(t,e,r){return void 0===r&&(r=[0,0]),r[0]=t[0]+2*e,r[1]=t[1]+2*e,r}function Tr(t,e,r){return void 0===r&&(r=[0,0]),r[0]=t[0]*e+.5|0,r[1]=t[1]*e+.5|0,r}function Mr(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}function Sr(t,e,r,n){return void 0!==n?(n[0]=t,n[1]=e,n[2]=r,n):[t,e,r]}function Er(t){var e,r,n=t[0],o=Array(n),i=1<<n-1;for(e=0;e<n;++e)r=48,t[1]&i&&(r+=1),t[2]&i&&(r+=2),o[e]=String.fromCharCode(r),i>>=1;return o.join("")}function kr(t){this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.b=t.resolutions,s($(this.b,function(t,e){return e-t}),17),this.maxZoom=this.b.length-1,this.g=void 0!==t.origin?t.origin:null,this.f=null,void 0!==t.origins&&(this.f=t.origins,s(this.f.length==this.b.length,20));var e=t.extent;void 0===e||this.g||this.f||(this.g=Gt(e)),s(!this.g&&this.f||this.g&&!this.f,18),this.c=null,void 0!==t.tileSizes&&(this.c=t.tileSizes,s(this.c.length==this.b.length,19)),this.i=void 0!==t.tileSize?t.tileSize:this.c?null:256,s(!this.i&&this.c||this.i&&!this.c,22),this.v=void 0!==e?e:null,this.a=null,this.j=[0,0],void 0!==t.sizes?this.a=t.sizes.map(function(t){return new gr(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):e&&Ir(this,e)}function Cr(t,e,r,n,o){for(o=t.Na(e,o),e=e[0]-1;e>=t.minZoom;){if(r.call(null,e,Lr(t,o,e,n)))return!0;--e}return!1}function Ar(t,e,r,n){return e[0]<t.maxZoom?(n=t.Na(e,n),Lr(t,n,e[0]+1,r)):null}function Pr(t,e,r,n){Or(t,e[0],e[1],r,!1,mm);var o=mm[1],i=mm[2];return Or(t,e[2],e[3],r,!0,mm),t=mm[1],e=mm[2],void 0!==n?(n.ea=o,n.ca=t,n.ga=i,n.ja=e):n=new gr(o,t,i,e),n}function Lr(t,e,r,n){return r=t.Ha(r),Pr(t,e,r,n)}function Dr(t,e){var r=t.Kc(e[0]),n=t.Ha(e[0]),o=Mr(t.Za(e[0]),t.j);return[r[0]+(e[1]+.5)*o[0]*n,r[1]+(e[2]+.5)*o[1]*n]}function Or(t,e,r,n,o,i){var a=t.Ec(n),s=n/t.Ha(a),l=t.Kc(a);return t=Mr(t.Za(a),t.j),e=s*Math.floor((e-l[0])/n+(o?.5:0))/t[0],r=s*Math.floor((r-l[1])/n+(o?0:.5))/t[1],o?(e=Math.ceil(e)-1,r=Math.ceil(r)-1):(e=Math.floor(e),r=Math.floor(r)),Sr(a,e,r,i)}function Ir(t,e){for(var r=t.b.length,n=Array(r),o=t.minZoom;o<r;++o)n[o]=Lr(t,e,o);t.a=n}function Rr(t){var e=t.j;if(!e){var e=Fr(t),r=jr(e,void 0,void 0),e=new kr({extent:e,origin:Gt(e),resolutions:r,tileSize:void 0});t.j=e}return e}function Nr(t){var e={};return om(e,void 0!==t?t:{}),void 0===e.extent&&(e.extent=he("EPSG:3857").G()),e.resolutions=jr(e.extent,e.maxZoom,e.tileSize),delete e.maxZoom,new kr(e)}function jr(t,e,r){e=void 0!==e?e:42;var n=Wt(t);for(t=Xt(t),r=Mr(void 0!==r?r:256),r=Math.max(t/r[0],n/r[1]),e+=1,n=Array(e),t=0;t<e;++t)n[t]=r/Math.pow(2,t);return n}function Fr(t){t=he(t);var e=t.G();return e||(t=180*lm.degrees/t.ic(),e=Lt(-t,-t,t,t)),e}function zr(t){this.b=t.html,this.a=t.tileRanges?t.tileRanges:null}function Br(t){z.call(this),this.a=t?t:[],Ur(this)}function Ur(t){t.set(vm,t.a.length)}function Vr(t,e){O.call(this,t),this.element=e}function Hr(t){return Array.isArray(t)?t:wm(t)}function Wr(t){if("string"!=typeof t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var r=t[1];r!=(0|r)&&(r=r+.5|0);var n=t[2];n!=(0|n)&&(n=n+.5|0),t="rgba("+e+","+r+","+n+","+(void 0===t[3]?1:t[3])+")"}return t}function qr(t){var e=[];return e[0]=l(t[0]+.5|0,0,255),e[1]=l(t[1]+.5|0,0,255),e[2]=l(t[2]+.5|0,0,255),e[3]=l(t[3],0,1),e}function Gr(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient?t:Wr(t)}function Yr(t,e){var r=document.createElement("CANVAS");return t&&(r.width=t),e&&(r.height=e),r.getContext("2d")}function Xr(t,e){var r=e.parentNode;r&&r.replaceChild(t,e)}function Kr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Zr(t,e,r){O.call(this,t),this.map=e,this.frameState=void 0!==r?r:null}function Jr(t){z.call(this),this.element=t.element?t.element:null,this.a=this.P=null,this.v=[],this.render=t.render?t.render:o,t.target&&this.c(t.target)}function $r(t){t=t?t:{},this.L=document.createElement("UL"),this.u=document.createElement("LI"),this.L.appendChild(this.u),this.u.style.display="none",this.f=void 0===t.collapsed||t.collapsed,this.l=void 0===t.collapsible||t.collapsible,this.l||(this.f=!1);var e=void 0!==t.className?t.className:"ol-attribution",r=void 0!==t.tipLabel?t.tipLabel:"Attributions",n=void 0!==t.collapseLabel?t.collapseLabel:"»";"string"==typeof n?(this.A=document.createElement("span"),this.A.textContent=n):this.A=n,n=void 0!==t.label?t.label:"i","string"==typeof n?(this.C=document.createElement("span"),this.C.textContent=n):this.C=n;var o=this.l&&!this.f?this.A:this.C,n=document.createElement("button");n.setAttribute("type","button"),n.title=r,n.appendChild(o),E(n,"click",this.em,this),r=document.createElement("div"),r.className=e+" ol-unselectable ol-control"+(this.f&&this.l?" ol-collapsed":"")+(this.l?"":" ol-uncollapsible"),r.appendChild(this.L),r.appendChild(n),Jr.call(this,{element:r,render:t.render?t.render:Qr,target:t.target}),this.D=!0,this.o={},this.j={},this.U={}}function Qr(t){if(t=t.frameState){var e,r,n,o,a,s,l,u,c,p,f,d=t.layerStatesArray,y=om({},t.attributions),m={},v={},g=t.viewState.projection;for(r=0,e=d.length;r<e;r++)if((s=d[r].layer.la())&&(p=i(s).toString(),c=s.j))for(n=0,o=c.length;n<o;n++)if(l=c[n],u=i(l).toString(),!(u in y)){if(a=t.usedTiles[p]){var b=s.Db(g);t:{f=l;var _=g;if(f.a){var w,T,M,S=void 0;for(S in a)if(S in f.a){M=a[S];var E;for(w=0,T=f.a[S].length;w<T;++w){if(E=f.a[S][w],_r(E,M)){f=!0;break t}var k=Lr(b,Fr(_),parseInt(S,10)),C=k.ca-k.ea+1;if((M.ea<k.ea||M.ca>k.ca)&&(_r(E,new gr(h(M.ea,C),h(M.ca,C),M.ga,M.ja))||M.ca-M.ea+1>C&&_r(E,k))){f=!0;break t}}}f=!1}else f=!0}}else f=!1;f?(u in m&&delete m[u],f=l.b,f in v||(v[f]=!0,y[u]=l)):m[u]=l}e=[y,m],r=e[0],e=e[1];for(var A in this.o)A in r?(this.j[A]||(this.o[A].style.display="",this.j[A]=!0),delete r[A]):A in e?(this.j[A]&&(this.o[A].style.display="none",delete this.j[A]),delete e[A]):(Kr(this.o[A]),delete this.o[A],delete this.j[A]);for(A in r)n=document.createElement("LI"),n.innerHTML=r[A].b,this.L.appendChild(n),this.o[A]=n,this.j[A]=!0;for(A in e)n=document.createElement("LI"),n.innerHTML=e[A].b,n.style.display="none",this.L.appendChild(n),this.o[A]=n;A=!x(this.j)||!x(t.logos),this.D!=A&&(this.element.style.display=A?"":"none",this.D=A),A&&x(this.j)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only");var P;t=t.logos,A=this.U;for(P in A)P in t||(Kr(A[P]),delete A[P]);for(var L in t)e=t[L],e instanceof HTMLElement&&(this.u.appendChild(e),A[L]=e),L in A||(P=new Image,P.src=L,""===e?r=P:(r=document.createElement("a"),r.href=e,r.appendChild(P)),this.u.appendChild(r),A[L]=r);this.u.style.display=x(t)?"none":""}else this.D&&(this.element.style.display="none",this.D=!1)}function tn(t){t.element.classList.toggle("ol-collapsed"),t.f?Xr(t.A,t.C):Xr(t.C,t.A),t.f=!t.f}function en(t){t=t?t:{},this.f=void 0!==t.className?t.className:"ol-full-screen";var e=void 0!==t.label?t.label:"⤢";this.l="string"==typeof e?document.createTextNode(e):e,e=void 0!==t.labelActive?t.labelActive:"×",this.o="string"==typeof e?document.createTextNode(e):e;var r=t.tipLabel?t.tipLabel:"Toggle full-screen",e=document.createElement("button");e.className=this.f+"-"+nn(),e.setAttribute("type","button"),e.title=r,e.appendChild(this.l),E(e,"click",this.C,this),r=document.createElement("div"),r.className=this.f+" ol-unselectable ol-control "+(rn()?"":"ol-unsupported"),r.appendChild(e),Jr.call(this,{element:r,target:t.target}),this.A=void 0!==t.keys&&t.keys,this.j=t.source}function rn(){var t=document.body;return!!(t.webkitRequestFullscreen||t.mozRequestFullScreen&&document.mozFullScreenEnabled||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function nn(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function on(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}function an(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-rotate",r=void 0!==t.label?t.label:"⇧";this.f=null,"string"==typeof r?(this.f=document.createElement("span"),this.f.className="ol-compass",this.f.textContent=r):(this.f=r,this.f.classList.add("ol-compass"));var n=t.tipLabel?t.tipLabel:"Reset rotation",r=document.createElement("button");r.className=e+"-reset",r.setAttribute("type","button"),r.title=n,r.appendChild(this.f),E(r,"click",an.prototype.A,this),n=document.createElement("div"),n.className=e+" ol-unselectable ol-control",n.appendChild(r),e=t.render?t.render:sn,this.l=t.resetNorth?t.resetNorth:void 0,Jr.call(this,{element:n,render:e,target:t.target}),this.o=void 0!==t.duration?t.duration:250,this.j=void 0===t.autoHide||t.autoHide,this.u=void 0,this.j&&this.element.classList.add("ol-hidden")}function sn(t){if(t=t.frameState){if(t=t.viewState.rotation,t!=this.u){var e="rotate("+t+"rad)";if(this.j){var r=this.element.classList.contains("ol-hidden");r||0!==t?r&&0!==t&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.f.style.msTransform=e,this.f.style.webkitTransform=e,this.f.style.transform=e}this.u=t}}function ln(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-zoom",r=void 0!==t.delta?t.delta:1,n=void 0!==t.zoomInLabel?t.zoomInLabel:"+",o=void 0!==t.zoomOutLabel?t.zoomOutLabel:"−",i=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",a=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",s=document.createElement("button");s.className=e+"-in",s.setAttribute("type","button"),s.title=i,s.appendChild("string"==typeof n?document.createTextNode(n):n),E(s,"click",ln.prototype.j.bind(this,r)),n=document.createElement("button"),n.className=e+"-out",n.setAttribute("type","button"),n.title=a,n.appendChild("string"==typeof o?document.createTextNode(o):o),E(n,"click",ln.prototype.j.bind(this,-r)),r=document.createElement("div"),r.className=e+" ol-unselectable ol-control",r.appendChild(s),r.appendChild(n),Jr.call(this,{element:r,target:t.target}),this.f=void 0!==t.duration?t.duration:250}function un(t){t=t?t:{};var e=new Br;return(void 0!==t.zoom?t.zoom:1)&&e.push(new ln(t.zoomOptions)),(void 0!==t.rotate?t.rotate:1)&&e.push(new an(t.rotateOptions)),(void 0!==t.attribution?t.attribution:1)&&e.push(new $r(t.attributionOptions)),e}function cn(t){t=t?t:{};var e=document.createElement("DIV");e.className=void 0!==t.className?t.className:"ol-mouse-position",Jr.call(this,{element:e,render:t.render?t.render:pn,target:t.target}),E(this,B(Mm),this.hm,this),t.coordinateFormat&&this.oi(t.coordinateFormat),t.projection&&this.sh(he(t.projection)),this.u=void 0!==t.undefinedHTML?t.undefinedHTML:"",this.o=e.innerHTML,this.l=this.j=this.f=null}function pn(t){t=t.frameState,t?this.f!=t.viewState.projection&&(this.f=t.viewState.projection,this.j=null):this.f=null,fn(this,this.l)}function fn(t,e){var r=t.u;if(e&&t.f){if(!t.j){var n=t.rh();t.j=n?me(t.f,n):ve}(n=t.a.Sa(e))&&(t.j(n,n),r=(r=t.Lg())?r(n):n.toString())}t.o&&r==t.o||(t.element.innerHTML=r,t.o=r)}function hn(t,e,r,n,o){Zr.call(this,t,e,o),this.originalEvent=r,this.pixel=e.ce(r),this.coordinate=e.Sa(this.pixel),this.dragging=void 0!==n&&n}function dn(t,e,r,n,o){hn.call(this,t,e,r.b,n,o),this.b=r}function yn(t,e){var r,n,o=Am.length;for(n=0;n<o;++n)try{if(r=t.getContext(Am[n],e))return r}catch(t){}return null}function mn(t,e){this.b=t,this.c=e}function vn(t){mn.call(this,t,{mousedown:this.tl,mousemove:this.ul,mouseup:this.xl,mouseover:this.wl,mouseout:this.vl}),this.a=t.g,this.g=[]}function gn(t,e){for(var r,n=t.g,o=e.clientX,i=e.clientY,a=0,s=n.length;a<s&&(r=n[a]);a++){var l=Math.abs(i-r[1]);if(25>=Math.abs(o-r[0])&&25>=l)return!0}return!1}function bn(t){var e=In(t,t),r=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),r()},e.pointerId=1,e.isPrimary=!0,e.pointerType="mouse",e}function xn(t){mn.call(this,t,{MSPointerDown:this.Cl,MSPointerMove:this.Dl,MSPointerUp:this.Gl,MSPointerOut:this.El,MSPointerOver:this.Fl,MSPointerCancel:this.Bl,MSGotPointerCapture:this.zl,MSLostPointerCapture:this.Al}),this.a=t.g,this.g=["","unavailable","touch","pen","mouse"]}function _n(t,e){var r=e;return"number"==typeof e.pointerType&&(r=In(e,e),r.pointerType=t.g[e.pointerType]),r}function wn(t){mn.call(this,t,{pointerdown:this.po,pointermove:this.qo,pointerup:this.to,pointerout:this.ro,pointerover:this.so,pointercancel:this.oo,gotpointercapture:this.Lk,lostpointercapture:this.sl})}function Tn(t,e,r){O.call(this,t),this.b=e,t=r?r:{},this.buttons=Mn(t),this.pressure=Sn(t,this.buttons),this.bubbles="bubbles"in t&&t.bubbles,this.cancelable="cancelable"in t&&t.cancelable,this.view="view"in t?t.view:null,this.detail="detail"in t?t.detail:null,this.screenX="screenX"in t?t.screenX:0,this.screenY="screenY"in t?t.screenY:0,this.clientX="clientX"in t?t.clientX:0,this.clientY="clientY"in t?t.clientY:0,this.button="button"in t?t.button:0,this.relatedTarget="relatedTarget"in t?t.relatedTarget:null,this.pointerId="pointerId"in t?t.pointerId:0,this.width="width"in t?t.width:0,this.height="height"in t?t.height:0,this.pointerType="pointerType"in t?t.pointerType:"",this.isPrimary="isPrimary"in t&&t.isPrimary,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})}function Mn(t){if(t.buttons||Gm)t=t.buttons;else switch(t.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0}return t}function Sn(t,e){var r=0;return r=t.pressure?t.pressure:e?.5:0}function En(t,e){mn.call(this,t,{touchstart:this.up,touchmove:this.tp,touchend:this.sp,touchcancel:this.rp}),this.a=t.g,this.j=e,this.g=void 0,this.i=0,this.f=void 0}function kn(t,e,r){return e=In(e,r),e.pointerId=r.identifier+2,e.bubbles=!0,e.cancelable=!0,e.detail=t.i,e.button=0,e.buttons=1,e.width=r.webkitRadiusX||r.radiusX||0,e.height=r.webkitRadiusY||r.radiusY||0,e.pressure=r.webkitForce||r.force||.5,e.isPrimary=t.g===r.identifier,e.pointerType="touch",e.clientX=r.clientX,e.clientY=r.clientY,e.screenX=r.screenX,e.screenY=r.screenY,e}function Cn(t,e,r){function n(){e.preventDefault()}var o,i,a=Array.prototype.slice.call(e.changedTouches),s=a.length;for(o=0;o<s;++o)i=kn(t,e,a[o]),i.preventDefault=n,r.call(t,e,i)}function An(t,e){var r=t.j.g,n=e.changedTouches[0];if(t.g===n.identifier){var o=[n.clientX,n.clientY];r.push(o),setTimeout(function(){var t=r.indexOf(o);-1<t&&r.splice(t,1)},2500)}}function Pn(t){R.call(this),this.i=t,this.g={},this.c={},this.a=[],Um?Ln(this,new wn(this)):Vm?Ln(this,new xn(this)):(t=new vn(this),Ln(this,t),Bm&&Ln(this,new En(this,t))),t=this.a.length;for(var e,r=0;r<t;r++)e=this.a[r],Dn(this,Object.keys(e.c))}function Ln(t,e){var r=Object.keys(e.c);r&&(r.forEach(function(t){var r=e.c[t];r&&(this.c[t]=r.bind(e))},t),t.a.push(e))}function Dn(t,e){e.forEach(function(t){E(this.i,t,this.f,this)},t)}function On(t,e){e.forEach(function(t){C(this.i,t,this.f,this)},t)}function In(t,e){for(var r,n={},o=0,i=Ym.length;o<i;o++)r=Ym[o][0],n[r]=t[r]||e[r]||Ym[o][1];return n}function Rn(t,e,r){e.bubbles=!1,Fn(t,"pointerleave",e,r)}function Nn(t,e,r){t.out(e,r);var n=e.target,o=e.relatedTarget;n&&o&&n.contains(o)||Rn(t,e,r)}function jn(t,e,r){e.bubbles=!0,Fn(t,"pointerover",e,r);var n=e.target,o=e.relatedTarget;n&&o&&n.contains(o)||(e.bubbles=!1,Fn(t,"pointerenter",e,r))}function Fn(t,e,r,n){t.b(new Tn(e,n,r))}function zn(t,e){t.b(new Tn(e.type,e,e))}function Bn(t){R.call(this),this.f=t,this.j=0,this.l=!1,this.c=[],this.g=null,t=this.f.f,this.u=0,this.H={},this.i=new Pn(t),this.a=null,this.o=E(this.i,"pointerdown",this.cl,this),this.v=E(this.i,"pointermove",this.So,this)}function Un(t,e){var r=new dn("click",t.f,e);t.b(r),0!==t.j?(clearTimeout(t.j),t.j=0,r=new dn("dblclick",t.f,e),t.b(r)):t.j=setTimeout(function(){this.j=0;var t=new dn("singleclick",this.f,e);this.b(t)}.bind(t),250)}function Vn(t,e){"pointerup"==e.type||"pointercancel"==e.type?delete t.H[e.pointerId]:"pointerdown"==e.type&&(t.H[e.pointerId]=!0),t.u=Object.keys(t.H).length}function Hn(t,e){R.call(this),this.Ca=t,this.state=e,this.a=null,this.key=""}function Wn(t){if(!t.a)return t;var e=t.a;do{if(e.W()==Xm)return e;e=e.a}while(e);return t}function qn(t,e){this.o=t,this.f=e,this.b=[],this.g=[],this.a={}}function Gn(t){var e=t.b,r=t.g,n=e[0];return 1==e.length?(e.length=0,r.length=0):(e[0]=e.pop(),r[0]=r.pop(),Yn(t,0)),e=t.f(n),delete t.a[e],n}function Yn(t,e){for(var r=t.b,n=t.g,o=r.length,i=r[e],a=n[e],s=e;e<o>>1;){var l=2*e+1,u=2*e+2,l=u<o&&n[u]<n[l]?u:l;r[e]=r[l],n[e]=n[l],e=l}r[e]=i,n[e]=a,Xn(t,s,e)}function Xn(t,e,r){var n=t.b;t=t.g;for(var o=n[r],i=t[r];r>e;){var a=r-1>>1;if(!(t[a]>i))break;n[r]=n[a],t[r]=t[a],r=a}n[r]=o,t[r]=i}function Kn(t){var e,r,n,o=t.o,i=t.b,a=t.g,s=0,l=i.length;for(r=0;r<l;++r)e=i[r],n=o(e),1/0==n?delete t.a[t.f(e)]:(a[s]=n,i[s++]=e);for(i.length=s,a.length=s,o=(t.b.length>>1)-1;0<=o;o--)Yn(t,o)}function Zn(t,e){qn.call(this,function(e){return t.apply(null,e)},function(t){return t[0].bb()}),this.v=e,this.j=0,this.i={}}function Jn(t,e,r){for(var n,o,i=0;t.j<e&&i<r&&0<t.b.length;)n=Gn(t)[0],o=n.bb(),0!==n.W()||o in t.i||(t.i[o]=!0,++t.j,++i,n.load())}function $n(t,e,r){this.c=t,this.f=e,this.i=r,this.b=[],this.a=this.g=0}function Qn(t){z.call(this),this.v=null,this.Ea(!0),this.handleEvent=t.handleEvent}function to(t,e,r,n){if(void 0!==e){var o=t.Ra(),i=t.fb();void 0!==o&&i&&0<n?t.animate({rotation:e,anchor:r,duration:n,easing:gt}):t.rotate(e,r)}}function eo(t,e,r,n){var o=t.Oa();e=t.constrainResolution(o,e,0),ro(t,e,r,n)}function ro(t,e,r,n){if(e){var o=t.Oa(),i=t.fb();void 0!==o&&i&&e!==o&&n?t.animate({resolution:e,anchor:r,duration:n,easing:gt}):(r&&(r=pr(t,e,r),t.Mb(r)),t.Oc(e))}}function no(t){t=t?t:{},this.a=t.delta?t.delta:1,Qn.call(this,{handleEvent:oo}),this.i=void 0!==t.duration?t.duration:250}function oo(t){var e=!1,r=t.originalEvent;if("dblclick"==t.type){var e=t.coordinate,r=r.shiftKey?-this.a:this.a,n=t.map.aa();eo(n,r,e,this.i),t.preventDefault(),e=!0}return!e}function io(t){return t=t.originalEvent,t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function ao(t){return t=t.originalEvent,0==t.button&&!(Om&&Im&&t.ctrlKey)}function so(t){return"pointermove"==t.type}function lo(t){return"singleclick"==t.type}function uo(t){return t=t.originalEvent,!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function co(t){return t=t.originalEvent,!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function po(t){return t=t.originalEvent.target.tagName,"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t}function fo(t){return s(t.b,56),"mouse"==t.b.pointerType}function ho(t){return t=t.b,t.isPrimary&&0===t.button}function yo(t){t=t?t:{},Qn.call(this,{handleEvent:t.handleEvent?t.handleEvent:vo}),this.Ve=t.handleDownEvent?t.handleDownEvent:te,this.bf=t.handleDragEvent?t.handleDragEvent:o,this.cf=t.handleMoveEvent?t.handleMoveEvent:o,this.df=t.handleUpEvent?t.handleUpEvent:te,this.A=!1,this.Z={},this.l=[]}function mo(t){for(var e=t.length,r=0,n=0,o=0;o<e;o++)r+=t[o].clientX,n+=t[o].clientY;return[r/e,n/e]}function vo(t){if(!(t instanceof dn))return!0;var e=!1,r=t.type;return"pointerdown"!==r&&"pointerdrag"!==r&&"pointerup"!==r||(r=t.b,"pointerup"==t.type?delete this.Z[r.pointerId]:"pointerdown"==t.type?this.Z[r.pointerId]=r:r.pointerId in this.Z&&(this.Z[r.pointerId]=r),this.l=b(this.Z)),this.A&&("pointerdrag"==t.type?this.bf(t):"pointerup"==t.type&&(this.A=this.df(t))),"pointerdown"==t.type?(this.A=t=this.Ve(t),e=this.Qc(t)):"pointermove"==t.type&&this.cf(t),!e}function go(t){yo.call(this,{handleDownEvent:_o,handleDragEvent:bo,handleUpEvent:xo}),t=t?t:{},this.a=t.kinetic,this.i=null,this.o=t.condition?t.condition:uo,this.j=!1}function bo(t){var e=mo(this.l);if(this.a&&this.a.b.push(e[0],e[1],Date.now()),this.i){var r=this.i[0]-e[0],n=e[1]-this.i[1];t=t.map.aa();var o=t.W(),r=[r,n];ht(r,o.resolution),ft(r,o.rotation),st(r,o.center),r=t.Zd(r),t.Mb(r)}this.i=e}function xo(t){var e=t.map;if(t=e.aa(),0===this.l.length){var r;if(r=!this.j&&this.a)if(r=this.a,6>r.b.length)r=!1;else{var n=Date.now()-r.i,o=r.b.length-3;if(r.b[o+2]<n)r=!1;else{for(var i=o-3;0<i&&r.b[i+2]>n;)i-=3;var n=r.b[o+2]-r.b[i+2],a=r.b[o]-r.b[i],o=r.b[o+1]-r.b[i+1];r.g=Math.atan2(o,a),r.a=Math.sqrt(a*a+o*o)/n,r=r.a>r.f}}return r&&(r=this.a,r=(r.f-r.a)/r.c,o=this.a.g,i=t.fb(),i=e.Ga(i),e=e.Sa([i[0]-r*Math.cos(o),i[1]-r*Math.sin(o)]),t.animate({center:t.Zd(e),duration:500,easing:gt})),vr(t,1,-1),!1}return this.i=null,!0}function _o(t){if(0<this.l.length&&this.o(t)){var e=t.map.aa();return this.i=null,this.A||vr(e,1,1),e.Mb(t.frameState.viewState.center),this.a&&(t=this.a,t.b.length=0,t.g=0,t.a=0),this.j=1<this.l.length,!0}return!1}function wo(t){t=t?t:{},yo.call(this,{handleDownEvent:So,handleDragEvent:To,handleUpEvent:Mo}),this.i=t.condition?t.condition:io,this.a=void 0,this.j=void 0!==t.duration?t.duration:250}function To(t){if(fo(t)){var e=t.map,r=e.nb();if(t=t.pixel,r=Math.atan2(r[1]/2-t[1],t[0]-r[0]/2),void 0!==this.a){t=r-this.a;var e=e.aa(),n=e.Ra();to(e,n-t)}this.a=r}}function Mo(t){if(!fo(t))return!0;t=t.map.aa(),vr(t,1,-1);var e=t.Ra(),r=this.j,e=t.constrainRotation(e,0);return to(t,e,void 0,r),!1}function So(t){return!!(fo(t)&&ao(t)&&this.i(t))&&(vr(t.map.aa(),1,1),this.a=void 0,!0)}function Eo(t){this.f=null,this.a=document.createElement("div"),this.a.style.position="absolute",this.a.className="ol-box "+t,this.g=this.c=this.b=null}function ko(t){var e=t.c,r=t.g;t=t.a.style,t.left=Math.min(e[0],r[0])+"px",t.top=Math.min(e[1],r[1])+"px",t.width=Math.abs(r[0]-e[0])+"px",t.height=Math.abs(r[1]-e[1])+"px"}function Co(t){var e=t.c,r=t.g,e=[e,[e[0],r[1]],r,[r[0],e[1]]].map(t.b.Sa,t.b);e[4]=e[0].slice(),t.f?t.f.qa([e]):t.f=new rr([e])}function Ao(t){yo.call(this,{handleDownEvent:Oo,handleDragEvent:Lo,handleUpEvent:Do}),t=t?t:{},this.a=new Eo(t.className||"ol-dragbox"),this.i=null,this.u=t.condition?t.condition:Qt,this.o=t.boxEndCondition?t.boxEndCondition:Po}function Po(t,e,r){return t=r[0]-e[0],e=r[1]-e[1],64<=t*t+e*e}function Lo(t){if(fo(t)){var e=this.a,r=t.pixel;e.c=this.i,e.g=r,Co(e),ko(e),this.b(new Io(Jm,t.coordinate,t))}}function Do(t){return!fo(t)||(this.a.setMap(null),this.o(t,this.i,t.pixel)&&(this.j(t),this.b(new Io($m,t.coordinate,t))),!1)}function Oo(t){if(fo(t)&&ao(t)&&this.u(t)){this.i=t.pixel,this.a.setMap(t.map);var e=this.a,r=this.i;return e.c=this.i,e.g=r,Co(e),ko(e),this.b(new Io(Zm,t.coordinate,t)),!0}return!1}function Io(t,e,r){O.call(this,t),this.coordinate=e,this.mapBrowserEvent=r}function Ro(t){t=t?t:{};var e=t.condition?t.condition:co;this.C=void 0!==t.duration?t.duration:200,this.D=void 0!==t.out&&t.out,Ao.call(this,{condition:e,className:t.className||"ol-dragzoom"})}function No(t){Qn.call(this,{handleEvent:jo}),t=t||{},this.a=function(t){return uo(t)&&po(t)},this.i=void 0!==t.condition?t.condition:this.a,this.j=void 0!==t.duration?t.duration:100,this.l=void 0!==t.pixelDelta?t.pixelDelta:128}function jo(t){var e=!1;if("keydown"==t.type){var r=t.originalEvent.keyCode;if(this.i(t)&&(40==r||37==r||39==r||38==r)){var e=t.map.aa(),n=e.Oa()*this.l,o=0,i=0;40==r?i=-n:37==r?o=-n:39==r?o=n:i=n,n=[o,i],ft(n,e.Ra()),r=this.j,(o=e.fb())&&(n=e.Zd([o[0]+n[0],o[1]+n[1]]),r?e.animate({duration:r,easing:xt,center:n}):e.Mb(n)),t.preventDefault(),e=!0}}return!e}function Fo(t){Qn.call(this,{handleEvent:zo}),t=t?t:{},this.i=t.condition?t.condition:po,this.a=t.delta?t.delta:1,this.j=void 0!==t.duration?t.duration:100}function zo(t){var e=!1;if("keydown"==t.type||"keypress"==t.type){var r=t.originalEvent.charCode;!this.i(t)||43!=r&&45!=r||(e=43==r?this.a:-this.a,r=t.map.aa(),eo(r,e,void 0,this.j),t.preventDefault(),e=!0)}return!e}function Bo(t){Qn.call(this,{handleEvent:Uo}),t=t||{},this.j=0,this.L=void 0!==t.duration?t.duration:250,this.U=void 0!==t.timeout?t.timeout:80,this.A=void 0===t.useAnchor||t.useAnchor,this.a=null,this.o=this.l=this.u=this.i=void 0}function Uo(t){var e=t.type;if("wheel"!==e&&"mousewheel"!==e)return!0;t.preventDefault();var e=t.map,r=t.originalEvent;this.A&&(this.a=t.coordinate);var n;if("wheel"==t.type?(n=r.deltaY,Lm&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=Rm),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):"mousewheel"==t.type&&(n=-r.wheelDeltaY,Dm&&(n/=3)),0===n)return!1;if(t=Date.now(),void 0===this.i&&(this.i=t),(!this.l||400<t-this.i)&&(this.l=4>Math.abs(n)?Qm:tv),this.l===Qm){e=e.aa(),this.o?clearTimeout(this.o):vr(e,1,1),this.o=setTimeout(this.C.bind(this),400),n=e.Oa()*Math.pow(2,n/300);var r=e.j,o=e.a,i=0;if(n<r?(n=Math.max(n,r/1.5),i=1):n>o&&(n=Math.min(n,1.5*o),i=-1),this.a){var a=pr(e,n,this.a);e.Mb(a)}return e.Oc(n),0<i?e.animate({resolution:r,easing:gt,anchor:this.a,duration:500}):0>i&&e.animate({resolution:o,easing:gt,anchor:this.a,duration:500}),this.i=t,!1}return this.j+=n,t=Math.max(this.U-(t-this.i),0),clearTimeout(this.u),this.u=setTimeout(this.D.bind(this,e),t),!1}function Vo(t){yo.call(this,{handleDownEvent:qo,handleDragEvent:Ho,handleUpEvent:Wo}),t=t||{},this.i=null,this.j=void 0,this.a=!1,this.o=0,this.C=void 0!==t.threshold?t.threshold:.3,this.u=void 0!==t.duration?t.duration:250}function Ho(t){var e=0,r=this.l[0],n=this.l[1],r=Math.atan2(n.clientY-r.clientY,n.clientX-r.clientX);void 0!==this.j&&(e=r-this.j,this.o+=e,!this.a&&Math.abs(this.o)>this.C&&(this.a=!0)),this.j=r,t=t.map,r=t.f.getBoundingClientRect(),n=mo(this.l),n[0]-=r.left,n[1]-=r.top,this.i=t.Sa(n),this.a&&(r=t.aa(),n=r.Ra(),t.render(),to(r,n+e,this.i))}function Wo(t){if(2>this.l.length){if(t=t.map.aa(),vr(t,1,-1),this.a){var e=t.Ra(),r=this.i,n=this.u,e=t.constrainRotation(e,0);to(t,e,r,n)}return!1}return!0}function qo(t){return 2<=this.l.length&&(t=t.map,this.i=null,this.j=void 0,this.a=!1,this.o=0,this.A||vr(t.aa(),1,1),!0)}function Go(t){yo.call(this,{handleDownEvent:Ko,handleDragEvent:Yo,handleUpEvent:Xo}),t=t?t:{},this.o=t.constrainResolution||!1,this.i=null,this.u=void 0!==t.duration?t.duration:400,this.a=void 0,this.j=1}function Yo(t){var e=1,r=this.l[0],n=this.l[1],o=r.clientX-n.clientX,r=r.clientY-n.clientY,o=Math.sqrt(o*o+r*r);void 0!==this.a&&(e=this.a/o),this.a=o,1!=e&&(this.j=e),t=t.map;var o=t.aa(),r=o.Oa(),n=t.f.getBoundingClientRect(),i=mo(this.l);i[0]-=n.left,i[1]-=n.top,this.i=t.Sa(i),t.render(),ro(o,r*e,this.i)}function Xo(t){if(2>this.l.length){if(t=t.map.aa(),vr(t,1,-1),this.o){var e=t.Oa(),r=this.i,n=this.u,e=t.constrainResolution(e,0,this.j-1);ro(t,e,r,n)}return!1}return!0}function Ko(t){return 2<=this.l.length&&(t=t.map,this.i=null,this.a=void 0,this.j=1,this.A||vr(t.aa(),1,1),!0)}function Zo(t){t=t?t:{};var e=new Br,r=new $n(-.005,.05,100);return(void 0!==t.altShiftDragRotate?t.altShiftDragRotate:1)&&e.push(new wo),(void 0!==t.doubleClickZoom?t.doubleClickZoom:1)&&e.push(new no({
delta:t.zoomDelta,duration:t.zoomDuration})),(void 0!==t.dragPan?t.dragPan:1)&&e.push(new go({kinetic:r})),(void 0!==t.pinchRotate?t.pinchRotate:1)&&e.push(new Vo),(void 0!==t.pinchZoom?t.pinchZoom:1)&&e.push(new Go({duration:t.zoomDuration})),(void 0!==t.keyboard?t.keyboard:1)&&(e.push(new No),e.push(new Fo({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0!==t.mouseWheelZoom?t.mouseWheelZoom:1)&&e.push(new Bo({duration:t.zoomDuration})),(void 0!==t.shiftDragZoom?t.shiftDragZoom:1)&&e.push(new Ro({duration:t.zoomDuration})),e}function Jo(t){z.call(this);var e=om({},t);e[ev]=void 0!==t.opacity?t.opacity:1,e[rv]=void 0===t.visible||t.visible,e[ov]=void 0!==t.zIndex?t.zIndex:0,e[iv]=void 0!==t.maxResolution?t.maxResolution:1/0,e[av]=void 0!==t.minResolution?t.minResolution:0,this.I(e),this.a={layer:this,me:!0}}function $o(t){return t.a.opacity=l(t.Yb(),0,1),t.a.Ei=t.uf(),t.a.visible=t.Fb(),t.a.extent=t.G(),t.a.zIndex=t.Zb(),t.a.maxResolution=t.Wb(),t.a.minResolution=Math.max(t.Xb(),0),t.a}function Qo(t){var e=t||{};t=om({},e),delete t.layers,e=e.layers,Jo.call(this,t),this.c=[],this.f={},E(this,B(sv),this.Wk,this),e?Array.isArray(e)?e=new Br(e.slice()):s(e instanceof Br,43):e=new Br,this.yh(e)}function ti(t){re.call(this,{code:t,units:"m",extent:uv,global:!0,worldExtent:cv,getPointResolution:function(t,e){return t/nm(e[1]/6378137)}})}function ei(t,e,r){var n=t.length;r=1<r?r:2,void 0===e&&(e=2<r?t.slice():Array(n));for(var o=0;o<n;o+=r){e[o]=lv*t[o]/180;var i=6378137*Math.log(Math.tan(Math.PI*(t[o+1]+90)/360));i>lv?i=lv:i<-lv&&(i=-lv),e[o+1]=i}return e}function ri(t,e,r){var n=t.length;r=1<r?r:2,void 0===e&&(e=2<r?t.slice():Array(n));for(var o=0;o<n;o+=r)e[o]=180*t[o]/lv,e[o+1]=360*Math.atan(Math.exp(t[o+1]/6378137))/Math.PI-90;return e}function ni(t,e){re.call(this,{code:t,units:"degrees",extent:hv,axisOrientation:e,global:!0,metersPerUnit:dv,worldExtent:hv})}function oi(){ae(pv),ae(yv),se()}function ii(t,e,r,n,o){O.call(this,t),this.vectorContext=e,this.frameState=r,this.context=n,this.glContext=o}function ai(t){var e=om({},t);delete e.source,Jo.call(this,e),this.A=this.v=this.o=null,t.map&&this.setMap(t.map),E(this,B("source"),this.il,this),this.Pc(t.source?t.source:null)}function si(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}function li(){this.b={},this.a=0}function ui(){return[1,0,0,1,0,0]}function ci(t){return fi(t,1,0,0,1,0,0)}function pi(t,e){var r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],s=t[5],l=e[0],u=e[1],c=e[2],p=e[3],f=e[4],h=e[5];return t[0]=r*l+o*u,t[1]=n*l+i*u,t[2]=r*c+o*p,t[3]=n*c+i*p,t[4]=r*f+o*h+a,t[5]=n*f+i*h+s,t}function fi(t,e,r,n,o,i,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=o,t[4]=i,t[5]=a,t}function hi(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function di(t,e){var r=e[0],n=e[1];return e[0]=t[0]*r+t[2]*n+t[4],e[1]=t[1]*r+t[3]*n+t[5],e}function yi(t,e){var r=Math.cos(e),n=Math.sin(e);pi(t,fi(vv,r,n,-n,r,0,0))}function mi(t,e,r){return pi(t,fi(vv,e,0,0,r,0,0))}function vi(t,e,r){pi(t,fi(vv,1,0,0,1,e,r))}function gi(t,e,r,n,o,i,a,s){var l=Math.sin(i);return i=Math.cos(i),t[0]=n*i,t[1]=o*l,t[2]=-n*l,t[3]=o*i,t[4]=a*n*i-s*n*l+e,t[5]=a*o*l+s*o*i+r,t}function bi(t){var e=t[0]*t[3]-t[1]*t[2];s(0!==e,32);var r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],l=t[5];return t[0]=i/e,t[1]=-n/e,t[2]=-o/e,t[3]=r/e,t[4]=(o*l-i*a)/e,t[5]=-(r*l-n*a)/e,t}function xi(t,e){this.l=e,this.f={},this.v={}}function _i(t){var e=t.viewState,r=t.coordinateToPixelTransform,n=t.pixelToCoordinateTransform;gi(r,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),bi(hi(n,r))}function wi(){if(32<mv.a){var t,e,r=0;for(t in mv.b)e=mv.b[t],0!==(3&r++)||N(e)||(delete mv.b[t],--mv.a)}}function Ti(t,e){var r=i(e).toString();if(r in t.f)return t.f[r];var n=t.Ag(e);return t.f[r]=n,t.v[r]=E(n,"change",t.Uk,t),n}function Mi(t,e){for(var r in t.f)if(!(r in e.layerStates)){e.postRenderFunctions.push(t.Yo.bind(t));break}}function Si(t,e){return t.zIndex-e.zIndex}function Ei(t){ai.call(this,t?t:{})}function ki(t){t=t?t:{};var e=om({},t);delete e.preload,delete e.useInterimTilesOnError,ai.call(this,e),this.l(void 0!==t.preload?t.preload:0),this.C(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError)}function Ci(t,e,r,n,o){R.call(this),this.j=o,this.extent=t,this.f=r,this.resolution=e,this.state=n}function Ai(t,e,r,n,o,i,a){Ci.call(this,t,e,r,xv,n),this.o=o,this.g=new Image,null!==i&&(this.g.crossOrigin=i),this.i={},this.c=null,this.state=xv,this.l=a}function Pi(t,e,r,n){0!==e&&(t.translate(r,n),t.rotate(e),t.translate(-r,-n))}function Li(t){this.l=t.opacity,this.H=t.rotateWithView,this.o=t.rotation,this.i=t.scale,this.u=t.snapToPixel}function Di(t){this.C=this.A=this.j=null,this.f=void 0!==t.fill?t.fill:null,this.P=[0,0],this.b=t.points,this.a=void 0!==t.radius?t.radius:t.radius1,this.c=void 0!==t.radius2?t.radius2:this.a,this.v=void 0!==t.angle?t.angle:0,this.g=void 0!==t.stroke?t.stroke:null,this.L=this.va=this.U=this.ra=null,this.D=t.atlasManager,Oi(this,this.D),Li.call(this,{opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel})}function Oi(t,e){var r,n,o="",a="",s=0,l=null,u=0;t.g&&(n=Gr(t.g.b),u=t.g.f,void 0===u&&(u=1),l=t.g.g,Nm||(l=null),a=t.g.i,void 0===a&&(a="round"),o=t.g.c,void 0===o&&(o="round"),s=t.g.j,void 0===s&&(s=10));var c=2*(t.a+u)+1,o={strokeStyle:n,Fi:u,size:c,lineCap:o,lineDash:l,lineJoin:a,miterLimit:s};void 0===e?(a=Yr(c,c),t.A=a.canvas,r=c=t.A.width,t.Eg(o,a,0,0),t.L=[o.size,o.size],t.f?t.C=t.A:(a=Yr(o.size,o.size),t.C=a.canvas,t.Dg(o,a,0,0))):(c=Math.round(c),(a=!t.f)&&(r=t.Dg.bind(t,o)),t.g?(s=t.g,void 0===s.a&&(s.a="s",s.a=s.b?"string"==typeof s.b?s.a+s.b:s.a+i(s.b).toString():s.a+"-",s.a+=","+(void 0!==s.c?s.c.toString():"-")+","+(s.g?s.g.toString():"-")+","+(void 0!==s.i?s.i:"-")+","+(void 0!==s.j?s.j.toString():"-")+","+(void 0!==s.f?s.f.toString():"-")),s=s.a):s="-",t.f?(l=t.f,void 0===l.a&&(l.a=l.b instanceof CanvasPattern||l.b instanceof CanvasGradient?i(l.b).toString():"f"+(l.b?Wr(l.b):"-")),l=l.a):l="-",t.j&&s==t.j[1]&&l==t.j[2]&&t.a==t.j[3]&&t.c==t.j[4]&&t.v==t.j[5]&&t.b==t.j[6]||(t.j=["r"+s+l+(void 0!==t.a?t.a.toString():"-")+(void 0!==t.c?t.c.toString():"-")+(void 0!==t.v?t.v.toString():"-")+(void 0!==t.b?t.b.toString():"-"),s,l,t.a,t.c,t.v,t.b]),o=e.add(t.j[0],c,c,t.Eg.bind(t,o),r),t.A=o.image,t.P=[o.offsetX,o.offsetY],r=o.image.width,a?(t.C=o.yf,t.L=[o.yf.width,o.yf.height]):(t.C=t.A,t.L=[r,r])),t.ra=[c/2,c/2],t.U=[c,c],t.va=[r,r]}function Ii(t){t=t||{},Di.call(this,{points:1/0,fill:t.fill,radius:t.radius,snapToPixel:t.snapToPixel,stroke:t.stroke,atlasManager:t.atlasManager})}function Ri(t){t=t||{},this.b=void 0!==t.color?t.color:null,this.a=void 0}function Ni(t){t=t||{},this.b=void 0!==t.color?t.color:null,this.c=t.lineCap,this.g=void 0!==t.lineDash?t.lineDash:null,this.i=t.lineJoin,this.j=t.miterLimit,this.f=t.width,this.a=void 0}function ji(t){t=t||{},this.i=null,this.c=Ui,void 0!==t.geometry&&this.Pa(t.geometry),this.f=void 0!==t.fill?t.fill:null,this.a=void 0!==t.image?t.image:null,this.g=void 0!==t.stroke?t.stroke:null,this.j=void 0!==t.text?t.text:null,this.b=t.zIndex}function Fi(t){if("function"!=typeof t){var e;Array.isArray(t)?e=t:(s(t instanceof ji,41),e=[t]),t=function(){return e}}return t}function zi(){if(!kv){var t=new Ri({color:"rgba(255,255,255,0.4)"}),e=new Ni({color:"#3399CC",width:1.25});kv=[new ji({image:new Ii({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return kv}function Bi(){var t={},e=[255,255,255,1],r=[0,153,255,1];return t.Polygon=[new ji({fill:new Ri({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new ji({stroke:new Ni({color:e,width:5})}),new ji({stroke:new Ni({color:r,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new ji({image:new Ii({radius:6,fill:new Ri({color:r}),stroke:new Ni({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function Ui(t){return t.V()}function Vi(t){t=t?t:{};var e=om({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,ai.call(this,e),this.i=void 0!==t.renderBuffer?t.renderBuffer:100,this.C=null,this.j=void 0,this.l(t.style),this.Z=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.fa=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}function Hi(t){t=t?t:{};var e=om({},t);delete e.preload,delete e.useInterimTilesOnError,Vi.call(this,e),this.P(t.preload?t.preload:0),this.U(!t.useInterimTilesOnError||t.useInterimTilesOnError),s(void 0==t.renderMode||t.renderMode==Pv||t.renderMode==Lv||t.renderMode==Dv,28),this.u=t.renderMode||Lv}function Wi(){}function qi(t,e,r,n,o){this.f=t,this.A=e,this.c=r,this.C=n,this.fc=o,this.i=this.b=this.a=this.Z=this.Qa=this.U=null,this.fa=this.eb=this.H=this.ra=this.L=this.D=0,this.sa=!1,this.j=this.zb=0,this.na=!1,this.va=0,this.g="",this.xa=this.Fa=0,this.Ja=!1,this.o=this.Ua=0,this.P=this.v=this.l=null,this.u=[],this.Ob=ui()}function Gi(t,e,r){if(t.i){e=we(e,0,r,2,t.C,t.u),r=t.f;var n=t.Ob,o=r.globalAlpha;1!=t.H&&(r.globalAlpha=o*t.H);var i=t.zb;t.sa&&(i+=t.fc);var a,s;for(a=0,s=e.length;a<s;a+=2){var l=e[a]-t.D,u=e[a+1]-t.L;if(t.na&&(l=Math.round(l),u=Math.round(u)),0!==i||1!=t.j){var c=l+t.D,p=u+t.L;gi(n,c,p,t.j,t.j,i,-c,-p),r.setTransform.apply(r,n)}r.drawImage(t.i,t.eb,t.fa,t.va,t.ra,l,u,t.va,t.ra)}0===i&&1==t.j||r.setTransform(1,0,0,1,0,0),1!=t.H&&(r.globalAlpha=o)}}function Yi(t,e,r,n){var o=0;if(t.P&&""!==t.g){t.l&&Zi(t,t.l),t.v&&Ji(t,t.v);var i=t.P,a=t.f,s=t.Z;for(s?(s.font!=i.font&&(s.font=a.font=i.font),s.textAlign!=i.textAlign&&(s.textAlign=a.textAlign=i.textAlign),s.textBaseline!=i.textBaseline&&(s.textBaseline=a.textBaseline=i.textBaseline)):(a.font=i.font,a.textAlign=i.textAlign,a.textBaseline=i.textBaseline,t.Z={font:i.font,textAlign:i.textAlign,textBaseline:i.textBaseline}),e=we(e,o,r,n,t.C,t.u),i=t.f,a=t.Ua,t.Ja&&(a+=t.fc);o<r;o+=n){var s=e[o]+t.Fa,l=e[o+1]+t.xa;if(0!==a||1!=t.o){var u=gi(t.Ob,s,l,t.o,t.o,a,-s,-l);i.setTransform.apply(i,u)}t.v&&i.strokeText(t.g,s,l),t.l&&i.fillText(t.g,s,l)}0===a&&1==t.o||i.setTransform(1,0,0,1,0,0)}}function Xi(t,e,r,n,o,i){var a=t.f;for(t=we(e,r,n,o,t.C,t.u),a.moveTo(t[0],t[1]),e=t.length,i&&(e-=2),r=2;r<e;r+=2)a.lineTo(t[r],t[r+1]);return i&&a.closePath(),n}function Ki(t,e,r,n,o){var i,a;for(i=0,a=n.length;i<a;++i)r=Xi(t,e,r,n[i],o,!0);return r}function Zi(t,e){var r=t.f,n=t.U;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=r.fillStyle=e.fillStyle):(r.fillStyle=e.fillStyle,t.U={fillStyle:e.fillStyle})}function Ji(t,e){var r=t.f,n=t.Qa;n?(n.lineCap!=e.lineCap&&(n.lineCap=r.lineCap=e.lineCap),Nm&&!K(n.lineDash,e.lineDash)&&r.setLineDash(n.lineDash=e.lineDash),n.lineJoin!=e.lineJoin&&(n.lineJoin=r.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=r.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=r.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=r.strokeStyle=e.strokeStyle)):(r.lineCap=e.lineCap,Nm&&r.setLineDash(e.lineDash),r.lineJoin=e.lineJoin,r.lineWidth=e.lineWidth,r.miterLimit=e.miterLimit,r.strokeStyle=e.strokeStyle,t.Qa={lineCap:e.lineCap,lineDash:e.lineDash,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}function $i(t){j.call(this),this.a=t}function Qi(t,e){var r=e.W();return r!=wv&&r!=Tv&&E(e,"change",t.Fa,t),r==xv&&(e.load(),r=e.W()),r==wv}function ta(t){var e=t.a;e.Fb()&&"ready"==e.uf()&&t.s()}function ea(t,e){e.Ih()&&t.postRenderFunctions.push(function(t,e,r){e=i(t).toString(),t.Wc(r.viewState.projection,r.usedTiles[e])}.bind(null,e))}function ra(t,e){if(e){var r,n,o;for(n=0,o=e.length;n<o;++n)r=e[n],t[i(r).toString()]=r}}function na(t,e){var r=e.L;void 0!==r&&("string"==typeof r?t.logos[r]="":r&&(s("string"==typeof r.href,44),s("string"==typeof r.src,45),t.logos[r.src]=r.href))}function oa(t,e,r,n){e=i(e).toString(),r=r.toString(),e in t?r in t[e]?(t=t[e][r],n.ea<t.ea&&(t.ea=n.ea),n.ca>t.ca&&(t.ca=n.ca),n.ga<t.ga&&(t.ga=n.ga),n.ja>t.ja&&(t.ja=n.ja)):t[e][r]=n:(t[e]={},t[e][r]=n)}function ia(t,e,r,n,o,a,s,l,u,c){var p=i(e).toString();p in t.wantedTiles||(t.wantedTiles[p]={});var f=t.wantedTiles[p];t=t.tileQueue;var h,d,y,m,v,g,b=r.minZoom;for(g=s;g>=b;--g)for(d=Lr(r,a,g,d),y=r.Ha(g),m=d.ea;m<=d.ca;++m)for(v=d.ga;v<=d.ja;++v)s-g<=l?(h=e.Dc(g,m,v,n,o),0==h.W()&&(f[h.bb()]=!0,h.bb()in t.a||t.c([h,p,Dr(r,h.Ca),y])),void 0!==u&&u.call(c,h)):e.ig(g,m,v,o)}function aa(t){$i.call(this,t),this.xa=ui()}function sa(t,e,r){var n=e.pixelRatio,o=e.size[0]*n,i=e.size[1]*n,a=e.viewState.rotation,s=Gt(r),l=Yt(r),u=Ut(r);r=Bt(r),di(e.coordinateToPixelTransform,s),di(e.coordinateToPixelTransform,l),di(e.coordinateToPixelTransform,u),di(e.coordinateToPixelTransform,r),t.save(),Pi(t,-a,o/2,i/2),t.beginPath(),t.moveTo(s[0]*n,s[1]*n),t.lineTo(l[0]*n,l[1]*n),t.lineTo(u[0]*n,u[1]*n),t.lineTo(r[0]*n,r[1]*n),t.clip(),Pi(t,a,o/2,i/2)}function la(t,e,r,n,o){var i=t.a;if(N(i,e)){var a=n.size[0]*n.pixelRatio,s=n.size[1]*n.pixelRatio,l=n.viewState.rotation;Pi(r,-l,a/2,s/2),t=void 0!==o?o:ua(t,n,0),i.b(new ii(e,new qi(r,n.pixelRatio,n.extent,t,n.viewState.rotation),n,r,null)),Pi(r,l,a/2,s/2)}}function ua(t,e,r){var n=e.viewState,o=e.pixelRatio,i=o/n.resolution;return gi(t.xa,o*e.size[0]/2,o*e.size[1]/2,i,-i,-n.rotation,-n.center[0]+r,-n.center[1])}function ca(t){aa.call(this,t),this.u=ui(),this.i=null}function pa(t){ca.call(this,t),this.f=null,this.j=ui()}function fa(t){ca.call(this,t),this.L=Yr(),this.j=null,this.f=[],this.H=Pt(),this.Ua=new gr(0,0,0,0),this.U=ui(),this.na=0}function ha(){}function da(t,e,r,n){this.zb=t,this.Qa=e,this.overlaps=n,this.c=0,this.resolution=r,this.va=this.ra=null,this.a=[],this.coordinates=[],this.Z=ui(),this.b=[],this.eb=[],this.sa=ui(),this.fa=ui()}function ya(t,e,r,n,o,i,a){var s=t.coordinates.length,l=t.mf();a&&(r+=o),a=[e[r],e[r+1]];var u,c,p,f=[NaN,NaN],h=!0;for(u=r+o;u<n;u+=o)f[0]=e[u],f[1]=e[u+1],p=At(l,f),p!==c?(h&&(t.coordinates[s++]=a[0],t.coordinates[s++]=a[1]),t.coordinates[s++]=f[0],t.coordinates[s++]=f[1],h=!1):1===p?(t.coordinates[s++]=f[0],t.coordinates[s++]=f[1],h=!1):h=!0,a[0]=f[0],a[1]=f[1],c=p;return(i&&h||u===r+o)&&(t.coordinates[s++]=a[0],t.coordinates[s++]=a[1]),s}function ma(t,e){t.ra=[0,e,0],t.a.push(t.ra),t.va=[0,e,0],t.b.push(t.va)}function va(t,e,r){if(t.U){var n=di(t.Z,t.U.slice());e.translate(n[0],n[1]),e.rotate(r)}e.fill(),t.U&&e.setTransform.apply(e,t.fa)}function ga(t,e,r,n,o,a,s,l,u){var c;K(n,t.Z)?c=t.eb:(c=we(t.coordinates,0,t.coordinates.length,2,n,t.eb),hi(t.Z,n)),n=!x(a);for(var p,f,h,d,y,m=0,v=s.length,g=0,b=t.sa,_=t.fa,w=0,T=0,M=t.a!=s||t.overlaps?0:200;m<v;){var S,E,k,C,A=s[m];switch(A[0]){case 0:g=A[1],n&&a[i(g).toString()]||!g.V()?m=A[2]:void 0===u||Kt(u,g.V().G())?++m:m=A[2]+1;break;case 1:w>M&&(va(t,e,o),w=0),T>M&&(e.stroke(),T=0),w||T||e.beginPath(),++m;break;case 2:g=A[1],p=c[g],A=c[g+1],d=c[g+2]-p,g=c[g+3]-A,g=Math.sqrt(d*d+g*g),e.moveTo(p+g,A),e.arc(p,A,g,0,2*Math.PI,!0),++m;break;case 3:e.closePath(),++m;break;case 4:g=A[1],p=A[2],S=A[3],E=A[4]*r,k=A[5]*r;var P=A[6],L=A[7],D=A[8],O=A[9];C=A[10],d=A[11],y=A[12];var I=A[13],R=A[14];for(C&&(d+=o);g<p;g+=2){if(A=c[g]-E,C=c[g+1]-k,I&&(A=Math.round(A),C=Math.round(C)),1!=y||0!==d){var N=A+E,j=C+k;gi(b,N,j,y,y,d,-N,-j),e.setTransform.apply(e,b)}N=e.globalAlpha,1!=L&&(e.globalAlpha=N*L);var j=R+D>S.width?S.width-D:R,F=P+O>S.height?S.height-O:P;e.drawImage(S,D,O,j,F,A,C,j*r,F*r),1!=L&&(e.globalAlpha=N),1==y&&0===d||e.setTransform.apply(e,_)}++m;break;case 5:for(g=A[1],p=A[2],k=A[3],P=A[4]*r,L=A[5]*r,d=A[6],y=A[7]*r,S=A[8],E=A[9],(C=A[10])&&(d+=o);g<p;g+=2){for(A=c[g]+P,C=c[g+1]+L,1==y&&0===d||(gi(b,A,C,y,y,d,-A,-C),e.setTransform.apply(e,b)),D=k.split("\n"),O=D.length,1<O?(I=Math.round(1.5*e.measureText("M").width),C-=(O-1)/2*I):I=0,R=0;R<O;R++)N=D[R],E&&e.strokeText(N,A,C),S&&e.fillText(N,A,C),C+=I;1==y&&0===d||e.setTransform.apply(e,_)}++m;break;case 6:if(void 0!==l&&(g=A[1],g=l(g)))return g;++m;break;case 7:M?w++:va(t,e,o),++m;break;case 8:for(g=A[1],p=A[2],A=c[g],C=c[g+1],d=A+.5|0,y=C+.5|0,d===f&&y===h||(e.moveTo(A,C),f=d,h=y),g+=2;g<p;g+=2)A=c[g],C=c[g+1],d=A+.5|0,y=C+.5|0,(g==p-2||d!==f||y!==h)&&(e.lineTo(A,C),f=d,h=y);++m;break;case 9:t.U=A[2],w&&(va(t,e,o),w=0),e.fillStyle=A[1],++m;break;case 10:f=void 0===A[7]||A[7];var z=A[8];h=A[2],T&&(e.stroke(),T=0),e.strokeStyle=A[1],e.lineWidth=f?h*r:h,e.lineCap=A[3],e.lineJoin=A[4],e.miterLimit=A[5],Nm&&(h=A[6],f&&r!==z&&(h=h.map(function(t){return t*r/z}),A[6]=h,A[8]=r),e.setLineDash(h)),h=f=NaN,++m;break;case 11:e.font=A[1],e.textAlign=A[2],e.textBaseline=A[3],++m;break;case 12:M?T++:e.stroke(),++m;break;default:++m}}w&&va(t,e,o),T&&e.stroke()}function ba(t){var e=t.b;e.reverse();var r,n,o,i=e.length,a=-1;for(r=0;r<i;++r)if(n=e[r],o=n[0],6==o)a=r;else if(0==o){for(n[2]=r,n=t.b,o=r;a<o;){var s=n[a];n[a]=n[o],n[o]=s,++a,--o}a=-1}}function xa(t,e){t.ra[2]=t.a.length,t.ra=null,t.va[2]=t.b.length,t.va=null;var r=[6,e];t.a.push(r),t.b.push(r)}function _a(t,e,r,n){da.call(this,t,e,r,n),this.l=this.P=null,this.L=this.D=this.C=this.A=this.u=this.H=this.v=this.o=this.j=this.i=this.g=void 0}function wa(t,e,r,n){da.call(this,t,e,r,n),this.i=null,this.g={wd:void 0,rd:void 0,sd:null,td:void 0,ud:void 0,vd:void 0,Af:0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function Ta(t,e,r,n,o){var i=t.coordinates.length;return e=ya(t,e,r,n,o,!1,!1),i=[8,i,e],t.a.push(i),t.b.push(i),n}function Ma(t){var e=t.g,r=e.strokeStyle,n=e.lineCap,o=e.lineDash,i=e.lineJoin,a=e.lineWidth,s=e.miterLimit;e.wd==r&&e.rd==n&&K(e.sd,o)&&e.td==i&&e.ud==a&&e.vd==s||(e.Af!=t.coordinates.length&&(t.a.push([12]),e.Af=t.coordinates.length),t.a.push([10,r,a,n,i,s,o,!0,1],[1]),e.wd=r,e.rd=n,e.sd=o,e.td=i,e.ud=a,e.vd=s)}function Sa(t,e,r,n){da.call(this,t,e,r,n),this.i=null,this.g={Bg:void 0,wd:void 0,rd:void 0,sd:null,td:void 0,ud:void 0,vd:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function Ea(t,e,r,n,o){var i=t.g,a=void 0!==i.fillStyle,i=void 0!=i.strokeStyle,s=n.length,l=[1];for(t.a.push(l),t.b.push(l),l=0;l<s;++l){var u=n[l],c=t.coordinates.length;r=ya(t,e,r,u,o,!0,!i),r=[8,c,r],t.a.push(r),t.b.push(r),i&&(r=[3],t.a.push(r),t.b.push(r)),r=u}return e=[7],t.b.push(e),a&&t.a.push(e),i&&(a=[12],t.a.push(a),t.b.push(a)),r}function ka(t,e){var r=t.g,n=r.fillStyle,o=r.strokeStyle,i=r.lineCap,a=r.lineDash,s=r.lineJoin,l=r.lineWidth,u=r.miterLimit;if(void 0!==n&&("string"!=typeof n||r.Bg!=n)){var c=[9,n];"string"!=typeof n&&(n=e.G(),c.push([n[0],n[3]])),t.a.push(c),r.Bg=r.fillStyle}void 0===o||r.wd==o&&r.rd==i&&K(r.sd,a)&&r.td==s&&r.ud==l&&r.vd==u||(t.a.push([10,o,l,i,s,u,a,!0,1]),r.wd=o,r.rd=i,r.sd=a,r.td=s,r.ud=l,r.vd=u)}function Ca(t,e,r,n){da.call(this,t,e,r,n),this.L=this.D=this.C=null,this.l="",this.v=this.o=0,this.H=void 0,this.A=this.u=0,this.j=this.i=this.g=null}function Aa(t,e,r,n,o){if(""!==t.l&&t.j&&(t.g||t.i)){if(t.g){var i=t.g,a=t.C;if(!a||a.fillStyle!=i.fillStyle){var s=[9,i.fillStyle];t.a.push(s),t.b.push(s),a?a.fillStyle=i.fillStyle:t.C={fillStyle:i.fillStyle}}}t.i&&(i=t.i,a=t.D,a&&a.lineCap==i.lineCap&&a.lineDash==i.lineDash&&a.lineJoin==i.lineJoin&&a.lineWidth==i.lineWidth&&a.miterLimit==i.miterLimit&&a.strokeStyle==i.strokeStyle||(s=[10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,!1,1],t.a.push(s),t.b.push(s),a?(a.lineCap=i.lineCap,a.lineDash=i.lineDash,a.lineJoin=i.lineJoin,a.lineWidth=i.lineWidth,a.miterLimit=i.miterLimit,a.strokeStyle=i.strokeStyle):t.D={lineCap:i.lineCap,lineDash:i.lineDash,lineJoin:i.lineJoin,lineWidth:i.lineWidth,miterLimit:i.miterLimit,strokeStyle:i.strokeStyle})),i=t.j,a=t.L,a&&a.font==i.font&&a.textAlign==i.textAlign&&a.textBaseline==i.textBaseline||(s=[11,i.font,i.textAlign,i.textBaseline],t.a.push(s),t.b.push(s),a?(a.font=i.font,a.textAlign=i.textAlign,a.textBaseline=i.textBaseline):t.L={font:i.font,textAlign:i.textAlign,textBaseline:i.textBaseline}),ma(t,o),i=t.coordinates.length,e=ya(t,e,0,r,n,!1,!1),e=[5,i,e,t.l,t.o,t.v,t.u,t.A,!!t.g,!!t.i,t.H],t.a.push(e),t.b.push(e),xa(t,o)}}function Pa(t,e,r,n,o){this.H=t,this.c=e,this.o=n,this.v=r,this.i=o,this.a={},this.j=Yr(1,1),this.l=ui()}function La(t,e,r){var n,o=Math.floor(t.length/2);if(e>=o)for(n=o;n<e;n++)t[n][r]=!0;else if(e<o)for(n=e+1;n<o;n++)t[n][r]=!0}function Da(t){if(void 0!==Iv[t])return Iv[t];for(var e=2*t+1,r=Array(e),n=0;n<e;n++)r[n]=Array(e);for(var e=t,o=n=0;e>=n;)La(r,t+e,t+n),La(r,t+n,t+e),La(r,t-n,t+e),La(r,t-e,t+n),La(r,t-e,t-n),La(r,t-n,t-e),La(r,t+n,t-e),La(r,t+e,t-n),n++,o+=1+2*n,0<2*(o-e)+1&&(--e,o+=1-2*e);return Iv[t]=r}function Oa(t){for(var e in t.a){var r,n=t.a[e];for(r in n)n[r].se()}}function Ia(t,e){var r=t.c,n=r[0],o=r[1],i=r[2],r=r[3],n=[n,o,n,r,i,r,i,o];return we(n,0,8,2,e,n),n}function Ra(t,e,r,n,o,i,a){var s=Object.keys(t.a).map(Number);s.sort(function(t,e){return e-t});var l,u,c,p,f;for(l=0,u=s.length;l<u;++l)for(p=t.a[s[l].toString()],c=Ov.length-1;0<=c;--c)if(f=p[Ov[c]],void 0!==f&&(f=ga(f,e,1,r,n,o,f.b,i,a)))return f}function Na(t,e){return i(t)-i(e)}function ja(t,e){var r=.5*t/e;return r*r}function Fa(t,e,r,n,o,i){var a,s,l=!1;return(a=r.a)&&(s=a.xe(),s==wv||s==Tv?a.Ii(o,i):(s==xv&&a.load(),a.eh(o,i),l=!0)),(o=(0,r.c)(e))&&(n=o.Bd(n),(0,Nv[n.Y()])(t,n,r,e)),l}function za(t){aa.call(this,t),this.f=!1,this.u=-1,this.H=NaN,this.j=Pt(),this.c=this.l=null,this.i=Yr()}function Ba(t){fa.call(this,t),this.Z=!1,this.sa=ui(),this.na=t.u==Dv?1:0}function Ua(t,e,r){function n(t){var e,r=t.Gc();if(r?e=r.call(t,m):(r=o.j)&&(e=r(t,m)),e){Array.isArray(e)||(e=[e]);var r=g,n=v;if(e){var i=!1;if(Array.isArray(e))for(var a=0,s=e.length;a<s;++a)i=Fa(n,t,e[a],r,this.fa,this)||i;else i=Fa(n,t,e,r,this.fa,this)||i;t=i}else t=!1;this.Z=this.Z||t,l.xd=l.xd||t}}var o=t.a,i=r.pixelRatio;r=r.viewState.projection;var a=o.g,s=o.get("renderOrder")||null,l=e.g;if(l.xd||l.li!=a||l.bg!=s){l.jd=null,l.xd=!1;var u,c,p,f=o.la(),h=f.tileGrid,d=e.Ca,y=e.j,m=h.Ha(d[0]);"tile-pixels"==y.Eb()?(u=p=f.jb(),h=Mr(h.Za(d[0])),u=[0,0,h[0]*u,h[1]*u]):(p=m,u=h.Na(d),de(r,y)||(c=!0,e.Ff(r))),l.xd=!1;var v=new Pa(0,u,p,f.i,o.i),g=ja(p,i);for(e=e.i,s&&s!==l.bg&&e.sort(s),f=0,p=e.length;f<p;++f)i=e[f],c&&i.V().ob(y,r),n.call(t,i);Oa(v),l.li=a,l.bg=s,l.jd=v,l.resolution=NaN}}function Va(t,e){xi.call(this,0,e),this.g=Yr(),this.b=this.g.canvas,this.b.style.width="100%",this.b.style.height="100%",this.b.className="ol-unselectable",t.insertBefore(this.b,t.childNodes[0]||null),this.a=!0,this.c=ui()}function Ha(t,e,r){var n=t.l,o=t.g;if(N(n,e)){var i=r.extent,a=r.pixelRatio,s=r.viewState.rotation,l=r.viewState,u=r.pixelRatio/l.resolution;t=gi(t.c,t.b.width/2,t.b.height/2,u,-u,-l.rotation,-l.center[0],-l.center[1]),n.b(new ii(e,new qi(o,a,i,t,s),r,o,null))}}function Wa(t,e,r,n,o,i){return t=(r-t)*(i-e)-(o-t)*(n-e),t<=Vv&&t>=-Vv?void 0:0<t}function qa(t){this.b=t}function Ga(t){this.b=t}function Ya(t){this.b=t}function Xa(){this.b="precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"}function Ka(){this.b="varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;if(f==0.0){offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}"}function Za(t,e){this.D=t.getUniformLocation(e,"n"),this.L=t.getUniformLocation(e,"k"),this.f=t.getUniformLocation(e,"j"),this.c=t.getUniformLocation(e,"i"),this.a=t.getUniformLocation(e,"m"),this.ra=t.getUniformLocation(e,"l"),this.g=t.getUniformLocation(e,"h"),this.va=t.getUniformLocation(e,"p"),this.P=t.getUniformLocation(e,"o"),this.j=t.getAttribLocation(e,"f"),this.b=t.getAttribLocation(e,"e"),this.u=t.getAttribLocation(e,"g")}function Ja(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function $a(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}function Qa(t,e){this.origin=Vt(e),this.Ua=ui(),this.xa=ui(),this.Ja=ui(),this.na=Ja(),this.b=[],this.o=null,this.g=[],this.i=[],this.a=[],this.v=null,this.j=void 0}function ts(t,e,r,n){t.drawElements(4,n-r,e.i?5125:5123,r*(e.i?4:2))}function es(t){this.b=void 0!==t?t:[],this.a=qv}function rs(t,e){Qa.call(this,0,e),this.H=null,this.l=[],this.u=[],this.A=0,this.c={fillColor:null,strokeColor:null,lineDash:null,lineWidth:void 0,s:!1}}function ns(t,e,r,n){e.uniform4fv(t.H.P,r),e.uniform1f(t.H.L,n)}function os(){this.b="precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function is(){this.b="varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}"}function as(t,e){this.f=t.getUniformLocation(e,"j"),this.c=t.getUniformLocation(e,"i"),this.a=t.getUniformLocation(e,"k"),this.g=t.getUniformLocation(e,"h"),this.v=t.getAttribLocation(e,"e"),this.H=t.getAttribLocation(e,"f"),this.b=t.getAttribLocation(e,"c"),this.A=t.getAttribLocation(e,"g"),this.C=t.getAttribLocation(e,"d")}function ss(t,e){this.j=t,this.b=e,this.a={},this.f={},this.g={},this.o=this.v=this.c=this.l=null,(this.i=W(Qy,"OES_element_index_uint"))&&e.getExtension("OES_element_index_uint"),E(this.j,"webglcontextlost",this.co,this),E(this.j,"webglcontextrestored",this.eo,this)}function ls(t,e,r){var n=t.b,o=r.b,a=String(i(r));if(a in t.a)n.bindBuffer(e,t.a[a].buffer);else{var s=n.createBuffer();n.bindBuffer(e,s);var l;34962==e?l=new Float32Array(o):34963==e&&(l=t.i?new Uint32Array(o):new Uint16Array(o)),n.bufferData(e,l,r.a),t.a[a]={gc:r,buffer:s}}}function us(t,e){var r=t.b,n=String(i(e)),o=t.a[n];r.isContextLost()||r.deleteBuffer(o.buffer),delete t.a[n]}function cs(t){if(!t.c){var e=t.b,r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r);var n=ds(e,1,1),o=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,o),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,1,1),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,o),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),t.c=r,t.v=n,t.o=o}return t.c}function ps(t,e){var r=String(i(e));if(r in t.f)return t.f[r];var n=t.b,o=n.createShader(e.Y());return n.shaderSource(o,e.b),n.compileShader(o),t.f[r]=o}function fs(t,e,r){var n=i(e)+"/"+i(r);if(n in t.g)return t.g[n];var o=t.b,a=o.createProgram();return o.attachShader(a,ps(t,e)),o.attachShader(a,ps(t,r)),o.linkProgram(a),t.g[n]=a}function hs(t,e,r){var n=t.createTexture();return t.bindTexture(t.TEXTURE_2D,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),void 0!==e&&t.texParameteri(3553,10242,e),void 0!==r&&t.texParameteri(3553,10243,r),n}function ds(t,e,r){var n=hs(t,void 0,void 0);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,r,0,t.RGBA,t.UNSIGNED_BYTE,null),n}function ys(t,e){var r=hs(t,33071,33071);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),r}function ms(t,e){Qa.call(this,0,e),this.D=this.C=void 0,this.A=[],this.H=[],this.ra=void 0,this.l=[],this.c=[],this.P=this.va=void 0,this.L=null,this.sa=this.fa=this.eb=this.Z=this.Qa=this.U=void 0,this.Fa=[],this.u=[],this.zb=void 0}function vs(t,e,r,n){var o,i,a,s,l,u,c=t.C,p=t.D,f=t.ra,h=t.va,d=t.P,y=t.U,m=t.Qa,v=t.Z,g=t.eb?1:0,b=-t.fa,x=t.sa,_=t.zb,w=Math.cos(b),b=Math.sin(b),T=t.b.length,M=t.a.length;for(o=0;o<r;o+=n)l=e[o]-t.origin[0],u=e[o+1]-t.origin[1],i=M/8,a=-x*c,s=-x*(f-p),t.a[M++]=l,t.a[M++]=u,t.a[M++]=a*w-s*b,t.a[M++]=a*b+s*w,t.a[M++]=m/d,t.a[M++]=(v+f)/h,t.a[M++]=y,t.a[M++]=g,a=x*(_-c),s=-x*(f-p),t.a[M++]=l,t.a[M++]=u,t.a[M++]=a*w-s*b,t.a[M++]=a*b+s*w,t.a[M++]=(m+_)/d,t.a[M++]=(v+f)/h,t.a[M++]=y,t.a[M++]=g,a=x*(_-c),s=x*p,t.a[M++]=l,t.a[M++]=u,t.a[M++]=a*w-s*b,t.a[M++]=a*b+s*w,t.a[M++]=(m+_)/d,t.a[M++]=v/h,t.a[M++]=y,t.a[M++]=g,a=-x*c,s=x*p,t.a[M++]=l,t.a[M++]=u,t.a[M++]=a*w-s*b,t.a[M++]=a*b+s*w,t.a[M++]=m/d,t.a[M++]=v/h,t.a[M++]=y,t.a[M++]=g,t.b[T++]=i,t.b[T++]=i+1,t.b[T++]=i+2,t.b[T++]=i,t.b[T++]=i+2,t.b[T++]=i+3}function gs(t,e,r,n){var o,a,s,l=e.length;for(s=0;s<l;++s)o=e[s],a=i(o).toString(),a in r?o=r[a]:(o=ys(n,o),r[a]=o),t[s]=o}function bs(t,e,r){var n=e-r;return t[0]===t[n]&&t[1]===t[n+1]&&3<(e-0)/r&&!!Ce(t,0,e,r)}function xs(){this.b="precision mediump float;varying float a;varying vec2 b;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((b.x+1.0)/2.0*o.x*p,(b.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function _s(){this.b="varying float a;varying vec2 b;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;b=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}";
}function ws(t,e){this.D=t.getUniformLocation(e,"n"),this.L=t.getUniformLocation(e,"k"),this.P=t.getUniformLocation(e,"l"),this.f=t.getUniformLocation(e,"j"),this.c=t.getUniformLocation(e,"i"),this.a=t.getUniformLocation(e,"m"),this.ra=t.getUniformLocation(e,"p"),this.g=t.getUniformLocation(e,"h"),this.va=t.getUniformLocation(e,"o"),this.i=t.getAttribLocation(e,"g"),this.l=t.getAttribLocation(e,"d"),this.o=t.getAttribLocation(e,"f"),this.b=t.getAttribLocation(e,"e")}function Ts(t,e){Qa.call(this,0,e),this.H=null,this.u=[],this.l=[],this.c={strokeColor:null,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,s:!1}}function Ms(t,e,r,n){var o,i,a,s,l,u,c,p=t.a.length,f=t.b.length,h="bevel"===t.c.lineJoin?0:"miter"===t.c.lineJoin?1:2,d="butt"===t.c.lineCap?0:"square"===t.c.lineCap?1:2,y=bs(e,r,n),m=f,v=1;for(o=0;o<r;o+=n){if(s=p/7,l=u,u=c||[e[o],e[o+1]],0===o){if(c=[e[o+n],e[o+n+1]],r-0===2*n&&K(u,c))break;if(!y){d&&(p=Ss(t,[0,0],u,c,7*v*d,p),p=Ss(t,[0,0],u,c,7*-v*d,p),t.b[f++]=s+2,t.b[f++]=s,t.b[f++]=s+1,t.b[f++]=s+1,t.b[f++]=s+3,t.b[f++]=s+2),p=Ss(t,[0,0],u,c,3*v*(d||1),p),p=Ss(t,[0,0],u,c,3*-v*(d||1),p),m=p/7-1;continue}l=[e[r-2*n],e[r-2*n+1]],i=c}else{if(o===r-n){y?c=i:(l=l||[0,0],p=Ss(t,l,u,[0,0],5*v*(d||1),p),p=Ss(t,l,u,[0,0],5*-v*(d||1),p),t.b[f++]=s,t.b[f++]=m-1,t.b[f++]=m,t.b[f++]=m,t.b[f++]=s+1,t.b[f++]=s,d&&(p=Ss(t,l,u,[0,0],11*v*d,p),p=Ss(t,l,u,[0,0],11*-v*d,p),t.b[f++]=s+2,t.b[f++]=s,t.b[f++]=s+1,t.b[f++]=s+1,t.b[f++]=s+3,t.b[f++]=s+2));break}c=[e[o+n],e[o+n+1]]}a=Wa(l[0],l[1],u[0],u[1],c[0],c[1])?-1:1,p=Ss(t,l,u,c,13*a*(h||1),p),p=Ss(t,l,u,c,17*a*(h||1),p),p=Ss(t,l,u,c,19*-a*(h||1),p),0<o&&(t.b[f++]=s,t.b[f++]=m-1,t.b[f++]=m,t.b[f++]=s+2,t.b[f++]=s,t.b[f++]=0<v*a?m:m-1),t.b[f++]=s,t.b[f++]=s+2,t.b[f++]=s+1,m=s+2,v=a,h&&(p=Ss(t,l,u,c,23*a*h,p),t.b[f++]=s+1,t.b[f++]=s+3,t.b[f++]=s)}y&&(s=s||p/7,a=$e([l[0],l[1],u[0],u[1],c[0],c[1]],0,6,2)?1:-1,p=Ss(t,l,u,c,13*a*(h||1),p),Ss(t,l,u,c,19*-a*(h||1),p),t.b[f++]=s,t.b[f++]=m-1,t.b[f++]=m,t.b[f++]=s+1,t.b[f++]=s,t.b[f++]=0<v*a?m:m-1)}function Ss(t,e,r,n,o,i){return t.a[i++]=e[0],t.a[i++]=e[1],t.a[i++]=r[0],t.a[i++]=r[1],t.a[i++]=n[0],t.a[i++]=n[1],t.a[i++]=o,i}function Es(t,e,r){return e-=0,!(e<2*r)&&(e!==2*r||!K([t[0],t[1]],[t[0+r],t[r+1]]))}function ks(t,e,r,n){if(bs(e,e.length,n)||(e.push(e[0]),e.push(e[1])),Ms(t,e,e.length,n),r.length){var o;for(e=0,o=r.length;e<o;++e)bs(r[e],r[e].length,n)||(r[e].push(r[e][0]),r[e].push(r[e][1])),Ms(t,r[e],r[e].length,n)}}function Cs(t,e,r){r=void 0===r?t.b.length:r,t.g.push(r),t.i.push(e),t.c.s&&(t.l.push(r),t.c.s=!1)}function As(t,e,r,n,o){e.uniform4fv(t.H.D,r),e.uniform1f(t.H.L,n),e.uniform1f(t.H.P,o)}function Ps(){this.b="precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function Ls(){this.b="attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}"}function Ds(t,e){this.D=t.getUniformLocation(e,"e"),this.f=t.getUniformLocation(e,"d"),this.c=t.getUniformLocation(e,"c"),this.a=t.getUniformLocation(e,"f"),this.g=t.getUniformLocation(e,"b"),this.b=t.getAttribLocation(e,"a")}function Os(t){this.b=this.a=this.g=void 0,this.c=void 0===t||t,this.f=0}function Is(t){var e=t.b;if(e){var r=e.next,n=e.pb;r&&(r.pb=n),n&&(n.next=r),t.b=r||n,t.g===t.a?(t.b=void 0,t.g=void 0,t.a=void 0):t.g===e?t.g=t.b:t.a===e&&(t.a=n?t.b.pb:t.b),t.f--}}function Rs(t){if(t.b=t.g,t.b)return t.b.data}function Ns(t){if(t.b&&t.b.next)return t.b=t.b.next,t.b.data}function js(t){if(t.b&&t.b.next)return t.b.next.data}function Fs(t){if(t.b&&t.b.pb)return t.b=t.b.pb,t.b.data}function zs(t){if(t.b&&t.b.pb)return t.b.pb.data}function Bs(t){if(t.b)return t.b.data}function Us(t){this.b=$v(t),this.a={}}function Vs(t,e,r){var n=t.a[i(r)];It([n.ea,n.ga,n.ca,n.ja],e)||(t.remove(r),t.Da(e,r))}function Hs(t){return t.b.all().map(function(t){return t.value})}function Ws(t,e){return t.b.search({ea:e[0],ga:e[1],ca:e[2],ja:e[3]}).map(function(t){return t.value})}function qs(t,e,r,n){return Gs(Ws(t,e),r,n)}function Gs(t,e,r){for(var n,o=0,i=t.length;o<i&&!(n=e.call(r,t[o]));o++);return n}function Ys(t,e){Qa.call(this,0,e),this.j=new Ts(0,e),this.H=null,this.u=[],this.c=[],this.l={fillColor:null,s:!1}}function Xs(t,e,r,n){var o=new Os,i=new Us;if(e=Ks(t,e,n,o,i,!0),r.length){var a,s,l=[];for(a=0,s=r.length;a<s;++a){var u={list:new Os,ca:void 0};l.push(u),u.ca=Ks(t,r[a],n,u.list,i,!1)}for(l.sort(function(t,e){return e.ca-t.ca}),a=0;a<l.length;++a)Js(l[a].list,l[a].ca,o,e,i)}Zs(o,i,!1),$s(t,o,i)}function Ks(t,e,r,n,o,i){var a,s,l,u,c,p=t.a.length/2,f=[],h=[];if(i===$e(e,0,e.length,r))for(u=l=rl(t,e[0],e[1],p++),i=e[0],a=r,s=e.length;a<s;a+=r)c=rl(t,e[a],e[a+1],p++),h.push(nl(u,c,n)),f.push([Math.min(u.x,c.x),Math.min(u.y,c.y),Math.max(u.x,c.x),Math.max(u.y,c.y)]),i=e[a]>i?e[a]:i,u=c;else for(a=e.length-r,u=l=rl(t,e[a],e[a+1],p++),i=e[a],a-=r,s=0;a>=s;a-=r)c=rl(t,e[a],e[a+1],p++),h.push(nl(u,c,n)),f.push([Math.min(u.x,c.x),Math.min(u.y,c.y),Math.max(u.x,c.x),Math.max(u.y,c.y)]),i=e[a]>i?e[a]:i,u=c;return h.push(nl(c,l,n)),f.push([Math.min(u.x,c.x),Math.min(u.y,c.y),Math.max(u.x,c.x),Math.max(u.y,c.y)]),o.load(f,h),i}function Zs(t,e,r){var n=Rs(t),o=n,i=Ns(t),a=!1;do{var s=r?Wa(i.X.x,i.X.y,o.X.x,o.X.y,o.ba.x,o.ba.y):Wa(o.ba.x,o.ba.y,o.X.x,o.X.y,i.X.x,i.X.y);void 0===s?(ol(o,i,t,e),a=!0,i===n&&(n=js(t)),i=o,Fs(t)):o.X.qb!==s&&(o.X.qb=s,a=!0),o=i,i=Ns(t)}while(o!==n);return a}function Js(t,e,r,n,o){Zs(t,o,!0);for(var i=Rs(t);i.X.x!==e;)i=Ns(t);e=i.X,n={x:n,y:e.y,$a:-1};var a,s,l,u,c=1/0;for(l=al({ba:e,X:n},o,!0),a=0,s=l.length;a<s;++a){var p=l[a];if(void 0===p.ba.qb){var f=sl(e,n,p.ba,p.X,!0),h=Math.abs(e.x-f[0]);h<c&&(c=h,u={x:f[0],y:f[1],$a:-1},i=p)}}if(1/0!==c){if(l=i.X,0<c&&(i=il(e,u,i.X,o),i.length))for(u=1/0,a=0,s=i.length;a<s;++a)c=i[a],p=Math.atan2(e.y-c.y,n.x-c.x),(p<u||p===u&&c.x<l.x)&&(u=p,l=c);for(i=Rs(r);i.X!==l;)i=Ns(r);n={x:e.x,y:e.y,$a:e.$a,qb:void 0},a={x:i.X.x,y:i.X.y,$a:i.X.$a,qb:void 0},js(t).ba=n,nl(e,i.X,t,o),nl(a,n,t,o),i.X=a,t.c&&t.b&&(t.g=t.b,t.a=t.b.pb),r.concat(t)}}function $s(t,e,r){for(var n=!1,o=el(e,r);3<e.f;)if(o){if(!Qs(t,e,r,o,n)&&!Zs(e,r,n)&&!tl(t,e,r,!0))break}else if(!Qs(t,e,r,o,n)&&!Zs(e,r,n)&&!tl(t,e,r)){if(!(o=el(e,r))){o=t,n=e,i=a=Rs(n);do{if(s=al(i,r),s.length){for(a=s[0],s=sl(i.ba,i.X,a.ba,a.X),s=rl(o,s[0],s[1],o.a.length/2),l=new Os,u=new Us,nl(s,i.X,l,u),i.X=s,Vs(r,[Math.min(i.ba.x,s.x),Math.min(i.ba.y,s.y),Math.max(i.ba.x,s.x),Math.max(i.ba.y,s.y)],i),i=Ns(n);i!==a;)nl(i.ba,i.X,l,u),r.remove(i),Is(n),i=Bs(n);nl(a.ba,s,l,u),a.ba=s,Vs(r,[Math.min(a.X.x,s.x),Math.min(a.X.y,s.y),Math.max(a.X.x,s.x),Math.max(a.X.y,s.y)],a),Zs(n,r,!1),$s(o,n,r),Zs(l,u,!1),$s(o,l,u);break}i=Ns(n)}while(i!==a);break}var n=e,i=2*n.f,a=Array(i),s=Rs(n),l=s,u=0;do a[u++]=l.ba.x,a[u++]=l.ba.y,l=Ns(n);while(l!==s);n=!$e(a,0,i,2),Zs(e,r,n)}3===e.f&&(o=t.b.length,t.b[o++]=zs(e).ba.$a,t.b[o++]=Bs(e).ba.$a,t.b[o++]=js(e).ba.$a)}function Qs(t,e,r,n,o){var i,a,s,l=t.b.length,u=Rs(e),c=zs(e),p=u,f=Ns(e),h=js(e),d=!1;do{if(i=p.ba,a=p.X,s=f.X,!1===a.qb){var y=o?ll(h.X,s,a,i,c.ba):ll(c.ba,i,a,s,h.X);!n&&0!==al({ba:i,X:s},r).length||!y||0!==il(i,a,s,r,!0).length||!n&&!1!==i.qb&&!1!==s.qb&&$e([c.ba.x,c.ba.y,i.x,i.y,a.x,a.y,s.x,s.y,h.X.x,h.X.y],0,10,2)!==!o||(t.b[l++]=i.$a,t.b[l++]=a.$a,t.b[l++]=s.$a,ol(p,f,e,r),f===u&&(u=h),d=!0)}c=zs(e),p=Bs(e),f=Ns(e),h=js(e)}while(p!==u&&3<e.f);return d}function tl(t,e,r,n){var o=Rs(e);Ns(e);var i=o,a=Ns(e),s=!1;do{var l=sl(i.ba,i.X,a.ba,a.X,n);if(l){var u,s=t.b.length,c=t.a.length/2,p=Fs(e);if(Is(e),r.remove(p),u=p===o,n?(l[0]===i.ba.x&&l[1]===i.ba.y?(Fs(e),l=i.ba,a.ba=l,r.remove(i),u=u||i===o):(l=a.X,i.X=l,r.remove(a),u=u||a===o),Is(e)):(l=rl(t,l[0],l[1],c),i.X=l,a.ba=l,Vs(r,[Math.min(i.ba.x,i.X.x),Math.min(i.ba.y,i.X.y),Math.max(i.ba.x,i.X.x),Math.max(i.ba.y,i.X.y)],i),Vs(r,[Math.min(a.ba.x,a.X.x),Math.min(a.ba.y,a.X.y),Math.max(a.ba.x,a.X.x),Math.max(a.ba.y,a.X.y)],a)),t.b[s++]=p.ba.$a,t.b[s++]=p.X.$a,t.b[s++]=l.$a,s=!0,u)break}i=zs(e),a=Ns(e)}while(i!==o);return s}function el(t,e){var r=Rs(t),n=r;do{if(al(n,e).length)return!1;n=Ns(t)}while(n!==r);return!0}function rl(t,e,r,n){var o=t.a.length;return t.a[o++]=e,t.a[o++]=r,{x:e,y:r,$a:n,qb:void 0}}function nl(t,e,r,n){var o={ba:t,X:e},i={pb:void 0,next:void 0,data:o},a=r.b;if(a){var s=a.next;i.pb=a,i.next=s,a.next=i,s&&(s.pb=i),a===r.a&&(r.a=i)}else r.g=i,r.a=i,r.c&&(i.next=i,i.pb=i);return r.b=i,r.f++,n&&n.Da([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],o),o}function ol(t,e,r,n){Bs(r)===e&&(Is(r),t.X=e.X,n.remove(e),Vs(n,[Math.min(t.ba.x,t.X.x),Math.min(t.ba.y,t.X.y),Math.max(t.ba.x,t.X.x),Math.max(t.ba.y,t.X.y)],t))}function il(t,e,r,n,o){var i,a,s,l=[],u=Ws(n,[Math.min(t.x,e.x,r.x),Math.min(t.y,e.y,r.y),Math.max(t.x,e.x,r.x),Math.max(t.y,e.y,r.y)]);for(n=0,i=u.length;n<i;++n)for(a in u[n])s=u[n][a],"object"!=typeof s||o&&!s.qb||s.x===t.x&&s.y===t.y||s.x===e.x&&s.y===e.y||s.x===r.x&&s.y===r.y||-1!==l.indexOf(s)||!Ge([t.x,t.y,e.x,e.y,r.x,r.y],0,6,2,s.x,s.y)||l.push(s);return l}function al(t,e,r){var n=t.ba,o=t.X;e=Ws(e,[Math.min(n.x,o.x),Math.min(n.y,o.y),Math.max(n.x,o.x),Math.max(n.y,o.y)]);var i,a,s=[];for(i=0,a=e.length;i<a;++i){var l=e[i];t!==l&&(r||l.ba!==o||l.X!==n)&&sl(n,o,l.ba,l.X,r)&&s.push(l)}return s}function sl(t,e,r,n,o){var i=(n.y-r.y)*(e.x-t.x)-(n.x-r.x)*(e.y-t.y);if(0!==i&&(n=((n.x-r.x)*(t.y-r.y)-(n.y-r.y)*(t.x-r.x))/i,r=((e.x-t.x)*(t.y-r.y)-(e.y-t.y)*(t.x-r.x))/i,!o&&n>Vv&&n<1-Vv&&r>Vv&&r<1-Vv||o&&0<=n&&1>=n&&0<=r&&1>=r))return[t.x+n*(e.x-t.x),t.y+n*(e.y-t.y)]}function ll(t,e,r,n,o){if(void 0===e.qb||void 0===n.qb)return!1;var i=(r.x-n.x)*(e.y-n.y)>(r.y-n.y)*(e.x-n.x);return o=(o.x-n.x)*(e.y-n.y)<(o.y-n.y)*(e.x-n.x),t=(t.x-e.x)*(n.y-e.y)>(t.y-e.y)*(n.x-e.x),r=(r.x-e.x)*(n.y-e.y)<(r.y-e.y)*(n.x-e.x),e=e.qb?r||t:r&&t,(n.qb?o||i:o&&i)&&e}function ul(){}function cl(t,e,r){this.i=e,this.j=t,this.c=r,this.a={}}function pl(t,e){var r,n=[];for(r in t.a){var o,i=t.a[r];for(o in i)n.push(i[o].wb(e))}return function(){for(var t,e=n.length,r=0;r<e;r++)t=n[r].apply(this,arguments);return t}}function fl(t,e){for(var r in t.a){var n,o=t.a[r];for(n in o)o[n].vb(e)}}function hl(t,e,r,n,o,i,a,s,l,u,c){var p=rg,f=Object.keys(t.a).map(Number);f.sort(function(t,e){return e-t});var h,d,y,m,v;for(h=0,d=f.length;h<d;++h)for(m=t.a[f[h].toString()],y=Ov.length-1;0<=y;--y)if(v=m[Ov[y]],void 0!==v&&(v=v.f(e,r,n,o,p,i,a,s,l,u,c)))return v}function dl(t,e,r,n,o,i,a,s){var l=r.b;return l.bindFramebuffer(l.FRAMEBUFFER,cs(r)),void 0!==hl(t,r,e,n,o,i,a,s,function(){var t=new Uint8Array(4);return l.readPixels(0,0,1,1,l.RGBA,l.UNSIGNED_BYTE,t),0<t[3]},!1)}function yl(t,e,r,n,o,i,a){this.b=t,this.g=e,this.a=i,this.f=a,this.j=o,this.i=n,this.c=r,this.l=this.o=this.v=null}function ml(){this.b="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"}function vl(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}"}function gl(t,e){this.g=t.getUniformLocation(e,"f"),this.f=t.getUniformLocation(e,"e"),this.i=t.getUniformLocation(e,"d"),this.c=t.getUniformLocation(e,"g"),this.b=t.getAttribLocation(e,"b"),this.a=t.getAttribLocation(e,"c")}function bl(t,e){$i.call(this,e),this.f=t,this.U=new es([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.i=this.yb=null,this.j=void 0,this.v=ui(),this.u=ui(),this.C=Ja(),this.H=null}function xl(t,e,r){var n=t.f.g;if(void 0===t.j||t.j!=r){e.postRenderFunctions.push(function(t,e,r){t.isContextLost()||(t.deleteFramebuffer(e),t.deleteTexture(r))}.bind(null,n,t.i,t.yb)),e=ds(n,r,r);var o=n.createFramebuffer();n.bindFramebuffer(36160,o),n.framebufferTexture2D(36160,36064,3553,e,0),t.yb=e,t.i=o,t.j=r}else n.bindFramebuffer(36160,t.i)}function _l(t,e,r,n){if(t=t.a,N(t,e)){var o=n.viewState;t.b(new ii(e,new yl(r,o.center,o.resolution,o.rotation,n.size,n.extent,n.pixelRatio),n,null,r))}}function wl(t,e,r,n,o,i){this.c=void 0!==i?i:null,Ci.call(this,t,e,r,void 0!==i?xv:wv,n),this.g=o}function Tl(t,e,r,n){var o=be(r,e,t);return r=ie(e,n,r),e=e.ic(),void 0!==e&&(r*=e),e=t.ic(),void 0!==e&&(r/=e),t=ie(t,r,o)/r,isFinite(t)&&0<t&&(r/=t),r}function Ml(t,e,r,n){t=r-t,e=n-e;var o=Math.sqrt(t*t+e*e);return[Math.round(r+t/o),Math.round(n+e/o)]}function Sl(t,e,r,n,o,i,a,s,l,u,c){var p=Yr(Math.round(r*t),Math.round(r*e));if(0===l.length)return p.canvas;p.scale(r,r);var f=Pt();l.forEach(function(t){Rt(f,t.extent)});var h=Yr(Math.round(r*Xt(f)/n),Math.round(r*Wt(f)/n)),d=r/n;l.forEach(function(t){h.drawImage(t.image,u,u,t.image.width-2*u,t.image.height-2*u,(t.extent[0]-f[0])*d,-(t.extent[3]-f[3])*d,Xt(t.extent)*d,Wt(t.extent)*d)});var y=Gt(a);return s.f.forEach(function(t){var e=t.source,o=t.target,a=e[1][0],s=e[1][1],l=e[2][0],u=e[2][1];t=(o[0][0]-y[0])/i;var c=-(o[0][1]-y[1])/i,d=(o[1][0]-y[0])/i,m=-(o[1][1]-y[1])/i,v=(o[2][0]-y[0])/i,g=-(o[2][1]-y[1])/i,o=e[0][0],e=e[0][1],a=a-o,s=s-e,l=l-o,u=u-e;t:{for(a=[[a,s,0,0,d-t],[l,u,0,0,v-t],[0,0,a,s,m-c],[0,0,l,u,g-c]],s=a.length,l=0;l<s;l++){for(var u=l,b=Math.abs(a[l][l]),x=l+1;x<s;x++){var _=Math.abs(a[x][l]);_>b&&(b=_,u=x)}if(0===b){a=null;break t}for(b=a[u],a[u]=a[l],a[l]=b,u=l+1;u<s;u++)for(b=-a[u][l]/a[l][l],x=l;x<s+1;x++)a[u][x]=l==x?0:a[u][x]+b*a[l][x]}for(l=Array(s),u=s-1;0<=u;u--)for(l[u]=a[u][s]/a[u][u],b=u-1;0<=b;b--)a[b][s]-=a[b][u]*l[u];a=l}a&&(p.save(),p.beginPath(),ag?(l=(t+d+v)/3,u=(c+m+g)/3,s=Ml(l,u,t,c),d=Ml(l,u,d,m),v=Ml(l,u,v,g),p.moveTo(d[0],d[1]),p.lineTo(s[0],s[1]),p.lineTo(v[0],v[1])):(p.moveTo(d,m),p.lineTo(t,c),p.lineTo(v,g)),p.clip(),p.transform(a[0],a[2],a[1],a[3],t,c),p.translate(f[0]-o,f[3]-e),p.scale(n/r,-n/r),p.drawImage(h.canvas,0,0),p.restore())}),c&&(p.save(),p.strokeStyle="black",p.lineWidth=1,s.f.forEach(function(t){var e=t.target;t=(e[0][0]-y[0])/i;var r=-(e[0][1]-y[1])/i,n=(e[1][0]-y[0])/i,o=-(e[1][1]-y[1])/i,a=(e[2][0]-y[0])/i,e=-(e[2][1]-y[1])/i;p.beginPath(),p.moveTo(n,o),p.lineTo(t,r),p.lineTo(a,e),p.closePath(),p.stroke()}),p.restore()),p.canvas}function El(t,e,r,n,o){this.g=t,this.c=e;var i={},a=ye(this.c,this.g);this.a=function(t){var e=t[0]+"/"+t[1];return i[e]||(i[e]=a(t)),i[e]},this.i=n,this.v=o*o,this.f=[],this.l=!1,this.o=this.g.a&&!!n&&!!this.g.G()&&Xt(n)==Xt(this.g.G()),this.b=this.g.G()?Xt(this.g.G()):null,this.j=this.c.G()?Xt(this.c.G()):null,t=Gt(r),e=Yt(r),n=Ut(r),r=Bt(r),o=this.a(t);var s=this.a(e),l=this.a(n),u=this.a(r);if(kl(this,t,e,n,r,o,s,l,u,10),this.l){var c=1/0;this.f.forEach(function(t){c=Math.min(c,t.source[0][0],t.source[1][0],t.source[2][0])}),this.f.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-c>this.b/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-c>this.b/2&&(e[0][0]-=this.b),e[1][0]-c>this.b/2&&(e[1][0]-=this.b),e[2][0]-c>this.b/2&&(e[2][0]-=this.b),Math.max(e[0][0],e[1][0],e[2][0])-Math.min(e[0][0],e[1][0],e[2][0])<this.b/2&&(t.source=e)}},this)}i={}}function kl(t,e,r,n,o,i,a,s,l,u){var c=wt([i,a,s,l]),p=t.b?Xt(c)/t.b:null,f=t.b,d=t.g.a&&.5<p&&1>p,y=!1;if(0<u){if(t.c.g&&t.j)var m=wt([e,r,n,o]),y=y|.25<Xt(m)/t.j;!d&&t.g.g&&p&&(y|=.25<p)}if(y||!t.i||Kt(c,t.i)){if(!(y||isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(l[0])&&isFinite(l[1]))){if(!(0<u))return;y=!0}if(0<u&&(y||(c=t.a([(e[0]+n[0])/2,(e[1]+n[1])/2]),f=d?(h(i[0],f)+h(s[0],f))/2-h(c[0],f):(i[0]+s[0])/2-c[0],c=(i[1]+s[1])/2-c[1],y=f*f+c*c>t.v),y))return void(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])?(d=[(r[0]+n[0])/2,(r[1]+n[1])/2],f=t.a(d),c=[(o[0]+e[0])/2,(o[1]+e[1])/2],p=t.a(c),kl(t,e,r,d,c,i,a,f,p,u-1),kl(t,c,d,n,o,p,f,s,l,u-1)):(d=[(e[0]+r[0])/2,(e[1]+r[1])/2],f=t.a(d),c=[(n[0]+o[0])/2,(n[1]+o[1])/2],p=t.a(c),kl(t,e,d,c,o,i,f,p,l,u-1),kl(t,d,r,n,c,f,a,s,p,u-1)));if(d){if(!t.o)return;t.l=!0}t.f.push({source:[i,s,l],target:[e,n,o]}),t.f.push({source:[i,a,s],target:[e,r,n]})}}function Cl(t){var e=Pt();return t.f.forEach(function(t){t=t.source,Nt(e,t[0]),Nt(e,t[1]),Nt(e,t[2])}),e}function Al(t,e,r,n,o,i){this.H=e,this.v=t.G();var a=e.G(),s=a?qt(r,a):r,a=Tl(t,e,Vt(s),n);this.l=new El(t,e,s,this.v,.5*a),this.c=n,this.g=r,t=Cl(this.l),this.o=(this.xb=i(t,a,o))?this.xb.f:1,this.Md=this.i=null,o=wv,i=[],this.xb&&(o=xv,i=this.xb.j),Ci.call(this,r,n,this.o,o,i)}function Pl(t){z.call(this),this.f=he(t.projection),this.j=Ll(t.attributions),this.L=t.logo,this.Fa=void 0!==t.state?t.state:"ready",this.D=void 0!==t.wrapX&&t.wrapX}function Ll(t){if("string"==typeof t)return[new zr({html:t})];if(t instanceof zr)return[t];if(Array.isArray(t)){for(var e=t.length,r=Array(e),n=0;n<e;n++){var o=t[n];r[n]="string"==typeof o?new zr({html:o}):o}return r}return null}function Dl(t,e){t.Fa=e,t.s()}function Ol(t){Pl.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state}),this.A=void 0!==t.resolutions?t.resolutions:null,this.a=null,this.sa=0}function Il(t,e){return t.A&&(e=t.A[q(t.A,e,0)]),e}function Rl(t,e){t.a().src=e}function Nl(t,e){O.call(this,t),this.image=e}function jl(t){Ol.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions,state:t.state}),this.fa=t.canvasFunction,this.P=null,this.Z=0,this.na=void 0!==t.ratio?t.ratio:1.5}function Fl(t){this.c=t.source,this.Ja=ui(),this.i=Yr(),this.l=[0,0],this.xa=void 0==t.renderBuffer?100:t.renderBuffer,this.u=null,jl.call(this,{attributions:t.attributions,canvasFunction:this.Jj.bind(this),logo:t.logo,projection:t.projection,ratio:t.ratio,resolutions:t.resolutions,state:this.c.W()}),this.C=null,this.v=void 0,this.Fh(t.style),E(this.c,"change",this.kn,this)}function zl(t,e,r,n,o){return r=n/r,gi(t.Ja,o[0]/2,o[1]/2,r,-r,0,-e[0],-e[1])}function Bl(t,e){bl.call(this,t,e),this.o=this.l=this.c=null}function Ul(t,e){var r=e.a();return ys(t.f.g,r)}function Vl(t,e,r,n,o,i,a,s){e*=i,r*=i,t=t.u,ci(t),mi(t,2*n/e,2*n/r),yi(t,-a),vi(t,s[0]-o[0],s[1]-o[1]),mi(t,(s[2]-s[0])/2,(s[3]-s[1])/2),vi(t,1,1)}function Hl(){this.b="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"}function Wl(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}"}function ql(t,e){this.g=t.getUniformLocation(e,"e"),this.f=t.getUniformLocation(e,"d"),this.b=t.getAttribLocation(e,"b"),this.a=t.getAttribLocation(e,"c")}function Gl(t,e){bl.call(this,t,e),this.L=fg,this.Z=hg,this.c=null,this.D=new es([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.A=this.l=null,this.o=-1,this.P=[0,0]}function Yl(t,e){bl.call(this,t,e),this.o=!1,this.P=-1,this.L=NaN,this.A=Pt(),this.l=this.c=this.D=null}function Xl(){this.f=0,this.b={},this.g=this.a=null}function Kl(t,e){xi.call(this,0,e),this.b=document.createElement("CANVAS"),this.b.style.width="100%",this.b.style.height="100%",this.b.className="ol-unselectable",t.insertBefore(this.b,t.childNodes[0]||null),this.u=this.A=0,this.C=Yr(),this.o=!0,this.g=yn(this.b,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.c=new ss(this.b,this.g),E(this.b,"webglcontextlost",this.Um,this),E(this.b,"webglcontextrestored",this.Vm,this),this.a=new Xl,this.H=null,this.j=new qn(function(t){var e=t[1];t=t[2];var r=e[0]-this.H[0],e=e[1]-this.H[1];return 65536*Math.log(t)+Math.sqrt(r*r+e*e)/t}.bind(this),function(t){return t[0].bb()}),this.D=function(){if(0!==this.j.b.length){Kn(this.j);var t=Gn(this.j);Zl(this,t[0],t[3],t[4])}return!1}.bind(this),this.i=0,$l(this)}function Zl(t,e,r,n){var o=t.g,i=e.bb();if(t.a.b.hasOwnProperty(i))t=t.a.get(i),o.bindTexture(3553,t.yb),9729!=t.gh&&(o.texParameteri(3553,10240,9729),t.gh=9729),9729!=t.ih&&(o.texParameteri(3553,10241,9729),t.ih=9729);else{var a=o.createTexture();if(o.bindTexture(3553,a),0<n){var s=t.C.canvas,l=t.C;t.A!==r[0]||t.u!==r[1]?(s.width=r[0],s.height=r[1],t.A=r[0],t.u=r[1]):l.clearRect(0,0,r[0],r[1]),l.drawImage(e.ub(),n,n,r[0],r[1],0,0,r[0],r[1]),o.texImage2D(3553,0,6408,6408,5121,s)}else o.texImage2D(3553,0,6408,6408,5121,e.ub());o.texParameteri(3553,10240,9729),o.texParameteri(3553,10241,9729),o.texParameteri(3553,10242,33071),o.texParameteri(3553,10243,33071),t.a.set(i,{yb:a,gh:9729,ih:9729})}}function Jl(t,e,r){var n=t.l;if(N(n,e)){t=t.c;var o=r.viewState;n.b(new ii(e,new yl(t,o.center,o.resolution,o.rotation,r.size,r.extent,r.pixelRatio),r,null,t))}}function $l(t){t=t.g,t.activeTexture(33984),t.blendFuncSeparate(770,771,1,771),t.disable(2884),t.disable(2929),t.disable(3089),t.disable(2960)}function Ql(t){z.call(this);var e=tu(t);this.Xe=void 0!==t.loadTilesWhileAnimating&&t.loadTilesWhileAnimating,this.Ve=void 0!==t.loadTilesWhileInteracting&&t.loadTilesWhileInteracting,this.cf=void 0!==t.pixelRatio?t.pixelRatio:Rm,this.bf=e.logos,this.sa=function(){this.i=void 0,this.Zo.call(this,Date.now())}.bind(this),this.Ob=ui(),this.df=ui(),this.fc=0,this.a=null,this.Ua=Pt(),this.D=this.L=this.P=null,this.f=document.createElement("DIV"),this.f.className="ol-viewport"+(Bm?" ol-touch":""),this.f.style.position="relative",this.f.style.overflow="hidden",this.f.style.width="100%",this.f.style.height="100%",this.f.style.msTouchAction="none",this.f.style.touchAction="none",this.A=document.createElement("DIV"),this.A.className="ol-overlaycontainer",this.f.appendChild(this.A),this.u=document.createElement("DIV"),this.u.className="ol-overlaycontainer-stopevent",t="click dblclick mousedown touchstart mspointerdown pointerdown mousewheel wheel".split(" ");for(var r=0,n=t.length;r<n;++r)E(this.u,t[r],I);this.f.appendChild(this.u),this.Fa=new Bn(this);for(var o in Em)E(this.Fa,Em[o],this.Zg,this);this.na=e.keyboardEventTarget,this.v=null,E(this.f,"wheel",this.ad,this),E(this.f,"mousewheel",this.ad,this),this.l=e.controls,this.j=e.interactions,this.o=e.overlays,this.Mf={},this.C=new e.ap(this.f,this),this.U=null,this.Z=[],this.Ja=[],this.xa=new Zn(this.Gk.bind(this),this.kl.bind(this)),this.fa={},E(this,B(yg),this.Tk,this),E(this,B(gg),this.ll,this),E(this,B(mg),this.hl,this),E(this,B(vg),this.jl,this),this.I(e.values),this.l.forEach(function(t){t.setMap(this)},this),E(this.l,gm,function(t){t.element.setMap(this)},this),E(this.l,bm,function(t){t.element.setMap(null)},this),this.j.forEach(function(t){t.setMap(this)},this),E(this.j,gm,function(t){t.element.setMap(this)},this),E(this.j,bm,function(t){t.element.setMap(null)},this),this.o.forEach(this.wg,this),E(this.o,gm,function(t){this.wg(t.element)},this),E(this.o,bm,function(t){var e=t.element.i;void 0!==e&&delete this.Mf[e.toString()],t.element.setMap(null)},this)}function tu(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var r={},n={};if(void 0===t.logo||"boolean"==typeof t.logo&&t.logo)n["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="https://openlayers.org/";else{var o=t.logo;"string"==typeof o?n[o]="":o instanceof HTMLElement?n[i(o).toString()]=o:o&&(s("string"==typeof o.href,44),s("string"==typeof o.src,45),n[o.src]=o.href)}o=t.layers instanceof Qo?t.layers:new Qo({layers:t.layers}),r[yg]=o,r[vg]=t.target,r[gg]=void 0!==t.view?t.view:new lr;var a,o=xi;void 0!==t.renderer?(Array.isArray(t.renderer)?a=t.renderer:"string"==typeof t.renderer?a=[t.renderer]:s(!1,46),0<=a.indexOf("dom")&&(a=a.concat(dg))):a=dg;var l,u;for(l=0,u=a.length;l<u;++l){var c=a[l];if("canvas"==c){if(jm){o=Va;break}}else if("webgl"==c&&km){o=Kl;break}}return void 0!==t.controls?Array.isArray(t.controls)?a=new Br(t.controls.slice()):(s(t.controls instanceof Br,47),a=t.controls):a=un(),void 0!==t.interactions?Array.isArray(t.interactions)?l=new Br(t.interactions.slice()):(s(t.interactions instanceof Br,48),l=t.interactions):l=Zo(),void 0!==t.overlays?Array.isArray(t.overlays)?t=new Br(t.overlays.slice()):(s(t.overlays instanceof Br,49),t=t.overlays):t=new Br,{controls:a,interactions:l,keyboardEventTarget:e,logos:n,overlays:t,ap:o,values:r}}function eu(t){z.call(this),this.i=t.id,this.o=void 0===t.insertFirst||t.insertFirst,this.v=void 0===t.stopEvent||t.stopEvent,this.f=document.createElement("DIV"),this.f.className="ol-overlay-container",this.f.style.position="absolute",this.autoPan=void 0!==t.autoPan&&t.autoPan,this.j=t.autoPanAnimation||{},this.l=void 0!==t.autoPanMargin?t.autoPanMargin:20,this.a={Xd:"",le:"",Je:"",Oe:"",visible:!0},this.c=null,E(this,B(Cg),this.Ok,this),E(this,B(Ag),this.Yk,this),E(this,B(Pg),this.bl,this),E(this,B(Lg),this.dl,this),E(this,B(Dg),this.el,this),void 0!==t.element&&this.pi(t.element),this.xi(void 0!==t.offset?t.offset:[0,0]),this.Ai(void 0!==t.positioning?t.positioning:Sg),void 0!==t.position&&this.Ef(t.position)}function ru(t,e){var r=t.getBoundingClientRect(),n=r.left+window.pageXOffset,r=r.top+window.pageYOffset;return[n,r,n+e[0],r+e[1]]}function nu(t,e){t.a.visible!==e&&(t.f.style.display=e?"":"none",t.a.visible=e)}function ou(t){var e=t.oe(),r=t.qh();if(void 0!==e&&e.a&&void 0!==r){var r=e.Ga(r),n=e.nb(),e=t.f.style,o=t.Tg(),i=t.Ug(),a=o[0],o=o[1];i==_g||i==Mg||i==kg?(""!==t.a.le&&(t.a.le=e.left=""),a=Math.round(n[0]-r[0]-a)+"px",t.a.Je!=a&&(t.a.Je=e.right=a)):(""!==t.a.Je&&(t.a.Je=e.right=""),i!=xg&&i!=Tg&&i!=Eg||(a-=t.f.offsetWidth/2),a=Math.round(r[0]+a)+"px",t.a.le!=a&&(t.a.le=e.left=a)),i==bg||i==xg||i==_g?(""!==t.a.Oe&&(t.a.Oe=e.top=""),r=Math.round(n[1]-r[1]-o)+"px",t.a.Xd!=r&&(t.a.Xd=e.bottom=r)):(""!==t.a.Xd&&(t.a.Xd=e.bottom=""),i!=wg&&i!=Tg&&i!=Mg||(o-=t.f.offsetHeight/2),r=Math.round(r[1]+o)+"px",t.a.Oe!=r&&(t.a.Oe=e.top=r)),nu(t,!0)}else nu(t,!1)}function iu(t){t=t?t:{},this.j=void 0===t.collapsed||t.collapsed,this.l=void 0===t.collapsible||t.collapsible,this.l||(this.j=!1);var e=void 0!==t.className?t.className:"ol-overviewmap",r=void 0!==t.tipLabel?t.tipLabel:"Overview map",n=void 0!==t.collapseLabel?t.collapseLabel:"«";"string"==typeof n?(this.o=document.createElement("span"),this.o.textContent=n):this.o=n,n=void 0!==t.label?t.label:"»","string"==typeof n?(this.u=document.createElement("span"),this.u.textContent=n):this.u=n;var o=this.l&&!this.j?this.o:this.u,n=document.createElement("button");n.setAttribute("type","button"),n.title=r,n.appendChild(o),E(n,"click",this.km,this),r=document.createElement("DIV"),r.className="ol-overviewmap-map";var i=this.f=new Ql({controls:new Br,interactions:new Br,target:r,view:t.view});t.layers&&t.layers.forEach(function(t){i.ug(t)},this),o=document.createElement("DIV"),o.className="ol-overviewmap-box",o.style.boxSizing="border-box",this.A=new eu({position:[0,0],positioning:bg,element:o}),this.f.vg(this.A),o=document.createElement("div"),o.className=e+" ol-unselectable ol-control"+(this.j&&this.l?" ol-collapsed":"")+(this.l?"":" ol-uncollapsible"),o.appendChild(r),o.appendChild(n),Jr.call(this,{element:o,render:t.render?t.render:au,target:t.target})}function au(){var t=this.a,e=this.f;if(t.a&&e.a){var r=t.nb(),t=t.aa().Uc(r),n=e.nb(),r=e.aa().Uc(n),o=e.Ga(Gt(t)),i=e.Ga(Ut(t)),e=Math.abs(o[0]-i[0]),o=Math.abs(o[1]-i[1]),i=n[0],n=n[1];e<.1*i||o<.1*n||e>.75*i||o>.75*n?su(this):kt(r,t)||(t=this.f,r=this.a.aa(),t.aa().Mb(r.fb()))}lu(this)}function su(t){var e=t.a;t=t.f;var r=e.nb(),e=e.aa().Uc(r),r=t.nb();t=t.aa(),Jt(e,1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2))),t.lf(e,r)}function lu(t){var e=t.a,r=t.f;if(e.a&&r.a){var n,o=e.nb(),i=e.aa(),a=r.aa(),r=i.Ra(),e=t.A,s=t.A.be(),l=i.Uc(o),o=a.Oa(),i=Bt(l),a=Yt(l);(t=t.a.aa().fb())&&(n=[i[0]-t[0],i[1]-t[1]],ft(n,r),st(n,t)),e.Ef(n),s&&(s.style.width=Math.abs((i[0]-a[0])/o)+"px",s.style.height=Math.abs((a[1]-i[1])/o)+"px")}}function uu(t){t.element.classList.toggle("ol-collapsed"),t.j?Xr(t.o,t.u):Xr(t.u,t.o),t.j=!t.j;var e=t.f;t.j||e.a||(e.ld(),su(t),k(e,"postrender",function(){lu(this)},t))}function cu(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-scale-line";this.l=document.createElement("DIV"),this.l.className=e+"-inner",this.f=document.createElement("DIV"),this.f.className=e+" ol-unselectable",this.f.appendChild(this.l),this.u=null,this.o=void 0!==t.minWidth?t.minWidth:64,this.j=!1,this.C=void 0,this.A="",Jr.call(this,{element:this.f,render:t.render?t.render:pu,target:t.target}),E(this,B(Ig),this.L,this),this.D(t.units||Fg)}function pu(t){(t=t.frameState)?this.u=t.viewState:this.u=null,fu(this)}function fu(t){var e=t.u;if(e){var r=e.projection,n=r.ic(),e=ie(r,e.resolution,e.center)*n,n=t.o*e,r="",o=t.Eb();o==Rg?(r=lm.degrees,e/=r,n<r/60?(r="″",e*=3600):n<r?(r="′",e*=60):r="°"):o==Ng?.9144>n?(r="in",e/=.0254):1609.344>n?(r="ft",e/=.3048):(r="mi",e/=1609.344):o==jg?(e/=1852,r="nm"):o==Fg?1>n?(r="mm",e*=1e3):1e3>n?r="m":(r="km",e/=1e3):o==zg?.9144>n?(r="in",e*=39.37):1609.344>n?(r="ft",e/=.30480061):(r="mi",e/=1609.3472):s(!1,33);for(var i,o=3*Math.floor(Math.log(t.o*e)/Math.log(10));;){if(i=Og[(o%3+3)%3]*Math.pow(10,Math.floor(o/3)),n=Math.round(i/e),isNaN(n))return t.f.style.display="none",void(t.j=!1);if(n>=t.o)break;++o}e=i+" "+r,t.A!=e&&(t.l.innerHTML=e,t.A=e),t.C!=n&&(t.l.style.width=n+"px",t.C=n),t.j||(t.f.style.display="",t.j=!0)}else t.j&&(t.f.style.display="none",t.j=!1)}function hu(t){t=t?t:{},this.f=void 0,this.j=Bg,this.u=[],this.C=this.o=0,this.U=null,this.fa=!1,this.Z=void 0!==t.duration?t.duration:200;var e=void 0!==t.className?t.className:"ol-zoomslider",r=document.createElement("button");r.setAttribute("type","button"),r.className=e+"-thumb ol-unselectable";var n=document.createElement("div");n.className=e+" ol-unselectable ol-control",n.appendChild(r),this.l=new Pn(n),E(this.l,"pointerdown",this.Nk,this),E(this.l,"pointermove",this.Xg,this),E(this.l,"pointerup",this.Yg,this),E(n,"click",this.Mk,this),E(r,"click",I),Jr.call(this,{element:n,render:t.render?t.render:du})}function du(t){if(t.frameState){if(!this.fa){var e=this.element,r=e.offsetWidth,n=e.offsetHeight,o=e.firstElementChild,i=getComputedStyle(o),e=o.offsetWidth+parseFloat(i.marginRight)+parseFloat(i.marginLeft),o=o.offsetHeight+parseFloat(i.marginTop)+parseFloat(i.marginBottom);this.U=[e,o],r>n?(this.j=1,this.C=r-e):(this.j=Bg,this.o=n-o),this.fa=!0}t=t.frameState.viewState.resolution,t!==this.f&&(this.f=t,yu(this,t))}}function yu(t,e){var r;r=1-yr(t.a.aa())(e);var n=t.element.firstElementChild;1==t.j?n.style.left=t.C*r+"px":n.style.top=t.o*r+"px"}function mu(t,e){return dr(t.a.aa())(1-e)}function vu(t){t=t?t:{},this.f=t.extent?t.extent:null;var e=void 0!==t.className?t.className:"ol-zoom-extent",r=void 0!==t.label?t.label:"E",n=void 0!==t.tipLabel?t.tipLabel:"Fit to extent",o=document.createElement("button");
o.setAttribute("type","button"),o.title=n,o.appendChild("string"==typeof r?document.createTextNode(r):r),E(o,"click",this.j,this),r=document.createElement("div"),r.className=e+" ol-unselectable ol-control",r.appendChild(o),Jr.call(this,{element:r,target:t.target})}function gu(t){z.call(this),t=t?t:{},this.a=null,E(this,B(qg),this.Kl,this),this.Cf(void 0!==t.tracking&&t.tracking)}function bu(t){z.call(this),this.f=void 0,this.a="geometry",this.i=null,this.j=void 0,this.c=null,E(this,B(this.a),this.he,this),void 0!==t&&(t instanceof _e||!t?this.Pa(t):this.I(t))}function xu(t){if("function"!=typeof t){var e;Array.isArray(t)?e=t:(s(t instanceof ji,41),e=[t]),t=function(){return e}}return t}function _u(t,e){return Gg.createElementNS(t,e)}function wu(t,e){return Tu(t,e,[]).join("")}function Tu(t,e,r){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?r.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):r.push(t.nodeValue);else for(t=t.firstChild;t;t=t.nextSibling)Tu(t,e,r);return r}function Mu(t){return t instanceof Document}function Su(t){return t instanceof Node}function Eu(t){return(new DOMParser).parseFromString(t,"application/xml")}function ku(t,e){return function(r,n){var o=t.call(e,r,n);void 0!==o&&Y(n[n.length-1],o)}}function Cu(t,e){return function(r,n){var o=t.call(void 0!==e?e:this,r,n);void 0!==o&&n[n.length-1].push(o)}}function Au(t,e){return function(r,n){var o=t.call(void 0!==e?e:this,r,n);void 0!==o&&(n[n.length-1]=o)}}function Pu(t){return function(e,r){var n=t.call(this,e,r);if(void 0!==n){var o,i=r[r.length-1],a=e.localName;o=a in i?i[a]:i[a]=[],o.push(n)}}}function Lu(t,e){return function(r,n){var o=t.call(this,r,n);void 0!==o&&(n[n.length-1][void 0!==e?e:r.localName]=o)}}function Du(t,e){return function(r,n,o){t.call(void 0!==e?e:this,r,n,o),o[o.length-1].node.appendChild(r)}}function Ou(t){var e,r;return function(n,o,i){if(!e){e={};var a={};a[n.localName]=t,e[n.namespaceURI]=a,r=Iu(n.localName)}zu(e,r,o,i)}}function Iu(t,e){return function(r,n,o){return r=n[n.length-1].node,n=t,void 0===n&&(n=o),o=e,void 0===e&&(o=r.namespaceURI),_u(o,n)}}function Ru(t,e){for(var r=e.length,n=Array(r),o=0;o<r;++o)n[o]=t[e[o]];return n}function Nu(t,e,r){r=void 0!==r?r:{};var n,o;for(n=0,o=t.length;n<o;++n)r[t[n]]=e;return r}function ju(t,e,r,n){for(e=e.firstElementChild;e;e=e.nextElementSibling){var o=t[e.namespaceURI];void 0!==o&&(o=o[e.localName])&&o.call(n,e,r)}}function Fu(t,e,r,n,o){return n.push(t),ju(e,r,n,o),n.pop()}function zu(t,e,r,n,o,i){for(var a,s,l=(void 0!==o?o:r).length,u=0;u<l;++u)a=r[u],void 0!==a&&(s=e.call(i,a,n,void 0!==o?o[u]:void 0),void 0!==s&&t[s.namespaceURI][s.localName].call(i,s,a,n))}function Bu(t,e,r,n,o,i,a){o.push(t),zu(e,r,n,o,i,a),o.pop()}function Uu(t,e,r,n){return function(o,i,a){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(o,i,a):t,!0),"arraybuffer"==e.Y()&&(s.responseType="arraybuffer"),s.onload=function(){if(!s.status||200<=s.status&&300>s.status){var t,o=e.Y();"json"==o||"text"==o?t=s.responseText:"xml"==o?(t=s.responseXML)||(t=Eu(s.responseText)):"arraybuffer"==o&&(t=s.response),t?r.call(this,e.La(t,{featureProjection:a}),e.Wa(t)):n.call(this)}else n.call(this)}.bind(this),s.send()}}function Vu(t,e){return Uu(t,e,function(t){this.Tc(t)},o)}function Hu(){this.j=this.defaultDataProjection=null}function Wu(t,e,r){var n;return r&&(n={dataProjection:r.dataProjection?r.dataProjection:t.Wa(e),featureProjection:r.featureProjection}),qu(t,n)}function qu(t,e){return om({dataProjection:t.defaultDataProjection,featureProjection:t.j},e)}function Gu(t,e,r){var n,o=r?he(r.featureProjection):null,i=r?he(r.dataProjection):null;if(n=o&&i&&!de(o,i)?t instanceof _e?(e?t.clone():t).ob(e?o:i,e?i:o):xe(e?t.slice():t,e?o:i,e?i:o):t,e&&r&&r.decimals){var a=Math.pow(10,r.decimals);t=function(t){for(var e=0,r=t.length;e<r;++e)t[e]=Math.round(t[e]*a)/a;return t},Array.isArray(n)?t(n):n.sc(t)}return n}function Yu(){Hu.call(this)}function Xu(t){return"string"==typeof t?(t=JSON.parse(t))?t:null:null!==t?t:null}function Ku(t,e,r,n,o,i){var a=NaN,s=NaN,l=(r-e)/n;if(0!==l)if(1==l)a=t[e],s=t[e+1];else if(2==l)a=(1-o)*t[e]+o*t[e+n],s=(1-o)*t[e+1]+o*t[e+n+1];else{var u,s=t[e],l=t[e+1],c=0,a=[0];for(u=e+n;u<r;u+=n){var p=t[u],f=t[u+1],c=c+Math.sqrt((p-s)*(p-s)+(f-l)*(f-l));a.push(c),s=p,l=f}for(r=o*c,l=0,c=a.length,u=!1;l<c;)o=l+(c-l>>1),s=+H(a[o],r),0>s?l=o+1:(c=o,u=!s);o=u?l:~l,0>o?(r=(r-a[-o-2])/(a[-o-1]-a[-o-2]),e+=(-o-2)*n,a=d(t[e],t[e+n],r),s=d(t[e+1],t[e+n+1],r)):(a=t[e+o*n],s=t[e+o*n+1])}return i?(i[0]=a,i[1]=s,i):[a,s]}function Zu(t,e,r,n,o,i){if(r==e)return null;if(o<t[e+n-1])return i?(r=t.slice(e,e+n),r[n-1]=o,r):null;if(t[r-1]<o)return i?(r=t.slice(r-n,r),r[n-1]=o,r):null;if(o==t[e+n-1])return t.slice(e,e+n);for(e/=n,r/=n;e<r;)i=e+r>>1,o<t[(i+1)*n-1]?r=i:e=i+1;if(r=t[e*n-1],o==r)return t.slice((e-1)*n,(e-1)*n+n);i=(o-r)/(t[(e+1)*n-1]-r),r=[];var a;for(a=0;a<n-1;++a)r.push(d(t[(e-1)*n+a],t[e*n+a],i));return r.push(o),r}function Ju(t,e,r,n,o,i){var a=0;if(i)return Zu(t,a,e[e.length-1],r,n,o);if(n<t[r-1])return o?(t=t.slice(0,r),t[r-1]=n,t):null;if(t[t.length-1]<n)return o?(t=t.slice(t.length-r),t[r-1]=n,t):null;for(o=0,i=e.length;o<i;++o){var s=e[o];if(a!=s){if(n<t[a+r-1])break;if(n<=t[s-1])return Zu(t,a,s,r,n,!1);a=s}}return null}function $u(t,e){Me.call(this),this.c=null,this.A=this.C=this.l=-1,this.qa(t,e)}function Qu(t){return t.l!=t.g&&(t.c=t.Kg(.5,t.c),t.l=t.g),t.c}function tc(t,e){Me.call(this),this.c=[],this.l=this.A=-1,this.qa(t,e)}function ec(t){var e=[],r=t.B,n=0,o=t.c;t=t.a;var i,a;for(i=0,a=o.length;i<a;++i){var s=o[i],n=Ku(r,n,s,t,.5);Y(e,n),n=s}return e}function rc(t,e){var r,n,o=t.ka,i=[],a=[];for(r=0,n=e.length;r<n;++r){var s=e[r];0===r&&(o=s.ka),Y(i,s.ia()),a.push(i.length)}t.da(o,i,a)}function nc(t,e){Me.call(this),this.qa(t,e)}function oc(t,e){Me.call(this),this.c=[],this.A=-1,this.C=null,this.P=this.D=this.L=-1,this.l=null,this.qa(t,e)}function ic(t){if(t.A!=t.g){var e,r,n=t.B,o=t.c,i=t.a,a=0,s=[];for(e=0,r=o.length;e<r;++e){var l=o[e],a=Ot(n,a,l[0],i);s.push((a[0]+a[2])/2,(a[1]+a[3])/2),a=l[l.length-1]}for(n=ac(t),o=t.c,i=t.a,e=0,r=[],l=0,a=o.length;l<a;++l){var u=o[l];r=Xe(n,e,u,i,s,2*l,r),e=u[u.length-1]}t.C=r,t.A=t.g}return t.C}function ac(t){if(t.P!=t.g){var e,r=t.B;t:{e=t.c;var n,o;for(n=0,o=e.length;n<o;++n)if(!Qe(r,e[n],t.a,void 0)){e=!1;break t}e=!0}e?t.l=r:(t.l=r.slice(),t.l.length=er(t.l,t.c,t.a)),t.P=t.g}return t.l}function sc(t,e,r,n){Ee(t,e,r),t.c=n,t.s()}function lc(t,e){var r,n,o,i=t.ka,a=[],s=[];for(r=0,n=e.length;r<n;++r){var l=e[r];0===r&&(i=l.ka);var u=a.length;o=l.Kb();var c,p;for(c=0,p=o.length;c<p;++c)o[c]+=u;Y(a,l.ia()),s.push(o)}sc(t,i,a,s)}function uc(t){t=t?t:{},Hu.call(this),this.b=t.geometryName}function cc(t,e){if(!t)return null;var r;if("number"==typeof t.x&&"number"==typeof t.y)r="Point";else if(t.points)r="MultiPoint";else if(t.paths)r=1===t.paths.length?"LineString":"MultiLineString";else if(t.rings){var n=t.rings,o=pc(t),i=[];r=[];var a,s;for(a=0,s=n.length;a<s;++a){var l=G(n[a]);$e(l,0,l.length,o.length)?i.push([n[a]]):r.push(n[a])}for(;r.length;){for(n=r.shift(),o=!1,a=i.length-1;0<=a;a--)if(kt(new Ve(i[a][0]).G(),new Ve(n).G())){i[a].push(n),o=!0;break}o||i.push([n.reverse()])}t=om({},t),1===i.length?(r="Polygon",t.rings=i[0]):(r="MultiPolygon",t.rings=i)}return Gu((0,Xg[r])(t),!1,e)}function pc(t){var e="XY";return!0===t.hasZ&&!0===t.hasM?e="XYZM":!0===t.hasZ?e="XYZ":!0===t.hasM&&(e="XYM"),e}function fc(t){return t=t.ka,{hasZ:"XYZ"===t||"XYZM"===t,hasM:"XYM"===t||"XYZM"===t}}function hc(t,e){return(0,Kg[t.Y()])(Gu(t,!0,e),e)}function dc(t){this.Nb=t}function yc(t){this.Nb=t}function mc(t,e,r){this.Nb=t,this.b=e,this.a=r}function vc(t,e){mc.call(this,"And",t,e)}function gc(t,e,r){this.Nb="BBOX",this.geometryName=t,this.extent=e,this.srsName=r}function bc(t,e){this.Nb=t,this.b=e}function xc(t,e,r,n){bc.call(this,t,e),this.g=r,this.a=n}function _c(t,e,r){xc.call(this,"PropertyIsEqualTo",t,e,r)}function wc(t,e){xc.call(this,"PropertyIsGreaterThan",t,e)}function Tc(t,e){xc.call(this,"PropertyIsGreaterThanOrEqualTo",t,e)}function Mc(t,e,r,n){this.Nb=t,this.geometryName=e||"the_geom",this.geometry=r,this.srsName=n}function Sc(t,e,r){Mc.call(this,"Intersects",t,e,r)}function Ec(t,e,r){bc.call(this,"PropertyIsBetween",t),this.a=e,this.g=r}function kc(t,e,r,n,o,i){bc.call(this,"PropertyIsLike",t),this.f=e,this.i=void 0!==r?r:"*",this.c=void 0!==n?n:".",this.g=void 0!==o?o:"!",this.a=i}function Cc(t){bc.call(this,"PropertyIsNull",t)}function Ac(t,e){xc.call(this,"PropertyIsLessThan",t,e)}function Pc(t,e){xc.call(this,"PropertyIsLessThanOrEqualTo",t,e)}function Lc(t){this.Nb="Not",this.condition=t}function Dc(t,e,r){xc.call(this,"PropertyIsNotEqualTo",t,e,r)}function Oc(t,e){mc.call(this,"Or",t,e)}function Ic(t,e,r){Mc.call(this,"Within",t,e,r)}function Rc(t,e){return new vc(t,e)}function Nc(t,e,r){return new gc(t,e,r)}function jc(t){_e.call(this),this.f=t?t:null,Bc(this)}function Fc(t){var e,r,n=[];for(e=0,r=t.length;e<r;++e)n.push(t[e].clone());return n}function zc(t){var e,r;if(t.f)for(e=0,r=t.f.length;e<r;++e)C(t.f[e],"change",t.s,t)}function Bc(t){var e,r;if(t.f)for(e=0,r=t.f.length;e<r;++e)E(t.f[e],"change",t.s,t)}function Uc(t){t=t?t:{},Hu.call(this),this.defaultDataProjection=he(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326"),t.featureProjection&&(this.j=he(t.featureProjection)),this.b=t.geometryName}function Vc(t,e){return t?Gu((0,Zg[t.type])(t),!1,e):null}function Hc(t,e){return(0,Jg[t.Y()])(Gu(t,!0,e),e)}function Wc(){this.f=new XMLSerializer,Hu.call(this)}function qc(t,e,r){return t=Gc(t,e,r),0<t.length?t[0]:null}function Gc(t,e,r){var n=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&Y(n,t.oc(e,r));return n}function Yc(t){t=t?t:{},this.featureType=t.featureType,this.featureNS=t.featureNS,this.srsName=t.srsName,this.schemaLocation="",this.b={},this.b["http://www.opengis.net/gml"]={featureMember:Au(Yc.prototype.Id),featureMembers:Au(Yc.prototype.Id)},Wc.call(this)}function Xc(t){return t=wu(t,!1),Kc(t)}function Kc(t){if(t=/^\s*(true|1)|(false|0)\s*$/.exec(t))return void 0!==t[1]||!1}function Zc(t){return t=wu(t,!1),t=Date.parse(t),isNaN(t)?void 0:t/1e3}function Jc(t){return t=wu(t,!1),$c(t)}function $c(t){if(t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t))return parseFloat(t[1])}function Qc(t){return t=wu(t,!1),tp(t)}function tp(t){if(t=/^\s*(\d+)\s*$/.exec(t))return parseInt(t[1],10)}function ep(t){return wu(t,!1).trim()}function rp(t,e){ip(t,e?"1":"0")}function np(t,e){t.appendChild(Gg.createTextNode(e.toPrecision()))}function op(t,e){t.appendChild(Gg.createTextNode(e.toString()))}function ip(t,e){t.appendChild(Gg.createTextNode(e))}function ap(t){t=t?t:{},Yc.call(this,t),this.v=void 0!==t.surface&&t.surface,this.i=void 0!==t.curve&&t.curve,this.l=void 0===t.multiCurve||t.multiCurve,this.o=void 0===t.multiSurface||t.multiSurface,this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd"}function sp(t,e,r){r=r[r.length-1].srsName,e=e.$();for(var n,o=e.length,i=Array(o),a=0;a<o;++a){n=e[a];var s=a,l="enu";r&&(l=he(r).b),i[s]="en"===l.substr(0,2)?n[0]+" "+n[1]:n[1]+" "+n[0]}ip(t,i.join(" "))}function lp(t){t=t?t:{},Yc.call(this,t),this.b["http://www.opengis.net/gml"].featureMember=Cu(Yc.prototype.Id),this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd"}function up(t){t=t?t:{},Wc.call(this),this.defaultDataProjection=he("EPSG:4326"),this.b=t.readExtensions}function cp(t,e,r,n){return t.push(parseFloat(r.getAttribute("lon")),parseFloat(r.getAttribute("lat"))),"ele"in n?(t.push(n.ele),delete n.ele,e.hasZ=!0):t.push(0),"time"in n?(t.push(n.time),delete n.time,e.hasM=!0):t.push(0),t}function pp(t,e,r){var n="XY",o=2;if(t.hasZ&&t.hasM?(n="XYZM",o=4):t.hasZ?(n="XYZ",o=3):t.hasM&&(n="XYM",o=3),4!==o){var i,a;for(i=0,a=e.length/4;i<a;i++)e[i*o]=e[4*i],e[i*o+1]=e[4*i+1],t.hasZ&&(e[i*o+2]=e[4*i+2]),t.hasM&&(e[i*o+2]=e[4*i+3]);if(e.length=e.length/4*o,r)for(i=0,a=r.length;i<a;i++)r[i]=r[i]/4*o}return n}function fp(t,e){var r=e[e.length-1],n=t.getAttribute("href");null!==n&&(r.link=n),ju(ub,t,e)}function hp(t,e){e[e.length-1].extensionsNode_=t}function dp(t,e){var r=e[0],n=Fu({flatCoordinates:[],layoutOptions:{}},cb,t,e);if(n){var o=n.flatCoordinates;delete n.flatCoordinates;var i=n.layoutOptions;delete n.layoutOptions;var i=pp(i,o),a=new $u(null);return a.da(i,o),Gu(a,!1,r),r=new bu(a),r.I(n),r}}function yp(t,e){var r=e[0],n=Fu({flatCoordinates:[],ends:[],layoutOptions:{}},fb,t,e);if(n){var o=n.flatCoordinates;delete n.flatCoordinates;var i=n.ends;delete n.ends;var a=n.layoutOptions;delete n.layoutOptions;var a=pp(a,o,i),s=new tc(null);return s.da(a,o,i),Gu(s,!1,r),r=new bu(s),r.I(n),r}}function mp(t,e){var r=e[0],n=Fu({},yb,t,e);if(n){var o={},i=cp([],o,t,n),o=pp(o,i),i=new We(i,o);return Gu(i,!1,r),r=new bu(i),r.I(n),r}}function vp(t,e){e||(e=[]);for(var r=0,n=e.length;r<n;++r){var o=e[r];if(t.b){var i=o.get("extensionsNode_")||null;t.b(o,i)}o.set("extensionsNode_",void 0)}}function gp(t,e,r){t.setAttribute("href",e),e=r[r.length-1].properties,Bu({node:t},vb,Yg,[e.linkText,e.linkType],r,mb)}function bp(t,e,r){var n=r[r.length-1],o=n.node.namespaceURI,i=n.properties;switch(t.setAttributeNS(null,"lat",e[1]),t.setAttributeNS(null,"lon",e[0]),n.geometryLayout){case"XYZM":0!==e[3]&&(i.time=e[3]);case"XYZ":0!==e[2]&&(i.ele=e[2]);break;case"XYM":0!==e[2]&&(i.time=e[2])}e="rtept"==t.nodeName?xb[o]:Sb[o],n=Ru(i,e),Bu({node:t,properties:i},Eb,Yg,n,r,e)}function xp(t,e){var r=t.V();if(r&&(r=kb[r.Y()]))return _u(e[e.length-1].node.namespaceURI,r)}function _p(){Hu.call(this)}function wp(t){return"string"==typeof t?t:""}function Tp(t){t=t?t:{},Hu.call(this),this.defaultDataProjection=he("EPSG:4326"),this.b=t.altitudeMode?t.altitudeMode:Rb}function Mp(t,e,r,n,o,i){R.call(this),this.l=null,this.a=t?t:new Image,null!==n&&(this.a.crossOrigin=n),this.c=i?document.createElement("CANVAS"):null,this.j=i,this.i=null,this.f=o,this.g=r,this.o=e,this.v=!1,this.f==wv&&Sp(this)}function Sp(t){var e=Yr(1,1);try{e.drawImage(t.a,0,0),e.getImageData(0,0,1,1)}catch(e){t.v=!0}}function Ep(t){t=t||{},this.c=void 0!==t.anchor?t.anchor:[.5,.5],this.j=null,this.a=void 0!==t.anchorOrigin?t.anchorOrigin:zb,this.C=void 0!==t.anchorXUnits?t.anchorXUnits:Nb,this.D=void 0!==t.anchorYUnits?t.anchorYUnits:Nb,this.ra=void 0!==t.crossOrigin?t.crossOrigin:null;var e=void 0!==t.img?t.img:null,r=void 0!==t.imgSize?t.imgSize:null,n=t.src;s(!(void 0!==n&&e),4),s(!e||e&&r,5),void 0!==n&&0!==n.length||!e||(n=e.src||i(e).toString()),s(void 0!==n&&0<n.length,6);var o=void 0!==t.src?xv:wv;this.f=void 0!==t.color?Hr(t.color):null;var a=this.ra,l=this.f,u=mv.get(n,a,l);u||(u=new Mp(e,n,r,a,o,l),mv.set(n,a,l,u)),this.b=u,this.L=void 0!==t.offset?t.offset:[0,0],this.g=void 0!==t.offsetOrigin?t.offsetOrigin:zb,this.v=null,this.A=void 0!==t.size?t.size:null,Li.call(this,{opacity:void 0!==t.opacity?t.opacity:1,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView})}function kp(t){t=t||{},this.g=t.font,this.j=t.rotation,this.v=t.rotateWithView,this.a=t.scale,this.H=t.text,this.l=t.textAlign,this.o=t.textBaseline,this.b=void 0!==t.fill?t.fill:new Ri({color:"#333"}),this.f=void 0!==t.stroke?t.stroke:null,this.c=void 0!==t.offsetX?t.offsetX:0,this.i=void 0!==t.offsetY?t.offsetY:0}function Cp(t){t=t?t:{},Wc.call(this),Ub||(Vb=[255,255,255,1],Hb=new Ri({color:Vb}),Wb=[20,2],Gb=qb="pixels",Yb=[64,64],Xb="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",Kb=.5,Zb=new Ep({anchor:Wb,anchorOrigin:jb,anchorXUnits:qb,anchorYUnits:Gb,crossOrigin:"anonymous",rotation:0,scale:Kb,size:Yb,src:Xb}),Jb="NO_IMAGE",$b=new Ni({color:Vb,width:1}),Qb=new Ni({color:[51,51,51,1],width:2}),tx=new kp({font:"bold 16px Helvetica",fill:Hb,stroke:Qb,scale:.8}),ex=new ji({fill:Hb,image:Zb,text:tx,stroke:$b,zIndex:0}),Ub=[ex]),this.defaultDataProjection=he("EPSG:4326"),this.g=t.defaultStyle?t.defaultStyle:Ub,this.c=void 0===t.extractStyles||t.extractStyles,this.l=void 0===t.writeStyles||t.writeStyles,this.b={},this.i=void 0===t.showPointNames||t.showPointNames}function Ap(t,e){var r,n=[0,0],o="start";if(t.a&&(r=t.a.de(),null===r&&(r=Yb),2==r.length&&(o=t.a.i,n[0]=o*r[0]/2,n[1]=-o*r[1]/2,o="left")),null!==t.Ka()){var i=t.Ka();r=i.clone(),r.si(i.g||tx.g),r.Th(i.a||tx.a),r.Sh(i.b||tx.b),r.Uh(i.f||Qb)}else r=tx.clone();return r.Vh(e),r.yi(n[0]),r.zi(n[1]),r.Bi(o),new ji({text:r})}function Pp(t,e,r,n,o){return function(){var i=o,a="";if(i&&this.V()&&(i="Point"===this.V().Y()),i&&(a=this.get("name"),i=i&&a),t)return i?(i=Ap(t[0],a),t.concat(i)):t;if(e){var s=Lp(e,r,n);return i?(i=Ap(s[0],a),s.concat(i)):s}return i?(i=Ap(r[0],a),r.concat(i)):r}}function Lp(t,e,r){return Array.isArray(t)?t:"string"==typeof t?(!(t in r)&&"#"+t in r&&(t="#"+t),Lp(r[t],e,r)):e}function Dp(t){if(t=wu(t,!1),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t))return t=t[1],[parseInt(t.substr(6,2),16),parseInt(t.substr(4,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(0,2),16)/255]}function Op(t){t=wu(t,!1);for(var e,r=[],n=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;e=n.exec(t);)r.push(parseFloat(e[1]),parseFloat(e[2]),e[3]?parseFloat(e[3]):0),t=t.substr(e[0].length);return""!==t?void 0:r}function Ip(t){var e=wu(t,!1).trim();return t.baseURI?new URL(e,t.baseURI).href:e}function Rp(t){return Jc(t)}function Np(t,e){return Fu(null,px,t,e)}function jp(t,e){var r=Fu({B:[],Mi:[]},hx,t,e);if(r){var n,o,i=r.B,r=r.Mi;for(n=0,o=Math.min(i.length,r.length);n<o;++n)i[4*n+3]=r[n];return r=new $u(null),r.da("XYZM",i),r}}function Fp(t,e){var r=Fu({},cx,t,e),n=Fu(null,dx,t,e);if(n){var o=new $u(null);return o.da("XYZ",n),o.I(r),o}}function zp(t,e){var r=Fu({},cx,t,e),n=Fu(null,dx,t,e);if(n){var o=new rr(null);return o.da("XYZ",n,[n.length]),o.I(r),o}}function Bp(t,e){var r=Fu([],xx,t,e);if(!r)return null;if(0===r.length)return new jc(r);var n,o,i,a,l=!0,u=r[0].Y();for(i=1,a=r.length;i<a;++i)if(o=r[i],o.Y()!=u){l=!1;break}if(l)if("Point"==u){for(n=r[0],l=n.ka,u=n.ia(),i=1,a=r.length;i<a;++i)o=r[i],Y(u,o.ia());n=new nc(null),n.da(l,u),Wp(n,r)}else"LineString"==u?(n=new tc(null),rc(n,r),Wp(n,r)):"Polygon"==u?(n=new oc(null),lc(n,r),Wp(n,r)):"GeometryCollection"==u?n=new jc(r):s(!1,37);else n=new jc(r);return n}function Up(t,e){var r=Fu({},cx,t,e),n=Fu(null,dx,t,e);if(n){var o=new We(null);return o.da("XYZ",n),o.I(r),o}}function Vp(t,e){var r=Fu({},cx,t,e),n=Fu([null],fx,t,e);if(n&&n[0]){var o,i,a=new rr(null),s=n[0],l=[s.length];for(o=1,i=n.length;o<i;++o)Y(s,n[o]),l.push(s.length);return a.da("XYZ",s,l),a.I(r),a}}function Hp(t,e){var r=Fu({},Ax,t,e);if(!r)return null;var n="fillStyle"in r?r.fillStyle:Hb,o=r.fill;void 0===o||o||(n=null),o="imageStyle"in r?r.imageStyle:Zb,o==Jb&&(o=void 0);var i="textStyle"in r?r.textStyle:tx,a="strokeStyle"in r?r.strokeStyle:$b,r=r.outline;return void 0===r||r||(a=null),[new ji({fill:n,image:o,stroke:a,text:i,zIndex:void 0})]}function Wp(t,e){var r,n,o,i,a=e.length,s=Array(e.length),l=Array(e.length);for(o=i=!1,n=0;n<a;++n)r=e[n],s[n]=r.get("extrude"),l[n]=r.get("altitudeMode"),o=o||void 0!==s[n],i=i||l[n];o&&t.set("extrude",s),i&&t.set("altitudeMode",l)}function qp(t,e){ju(ax,t,e)}function Gp(t,e){ju(sx,t,e)}function Yp(t,e){var r;for(r=e.firstChild;r;r=r.nextSibling)if(r.nodeType==Node.ELEMENT_NODE){var n=Xp(t,r);if(n)return n}}function Xp(t,e){var r;for(r=e.firstElementChild;r;r=r.nextElementSibling)if(W(nx,r.namespaceURI)&&"name"==r.localName)return ep(r);for(r=e.firstElementChild;r;r=r.nextElementSibling){var n=r.localName;if(W(nx,r.namespaceURI)&&("Document"==n||"Folder"==n||"Placemark"==n||"kml"==n)&&(n=Xp(t,r)))return n}}function Kp(t,e){var r,n=[];for(r=e.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&Y(n,Zp(t,r));return n}function Zp(t,e){var r,n=[];for(r=e.firstElementChild;r;r=r.nextElementSibling)if(W(nx,r.namespaceURI)&&"NetworkLink"==r.localName){var o=Fu({},wx,r,[]);n.push(o)}for(r=e.firstElementChild;r;r=r.nextElementSibling)o=r.localName,!W(nx,r.namespaceURI)||"Document"!=o&&"Folder"!=o&&"kml"!=o||Y(n,Zp(t,r));return n}function Jp(t,e){var r,n=[];for(r=e.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&Y(n,t.Ie(r));return n}function $p(t,e){var r,n=Hr(e),n=[255*(4==n.length?n[3]:1),n[2],n[1],n[0]];for(r=0;4>r;++r){var o=parseInt(n[r],10).toString(16);n[r]=1==o.length?"0"+o:o}ip(t,n.join(""))}function Qp(t,e,r){t={node:t};var n,o,i=e.Y();"GeometryCollection"==i?(n=e.pf(),o=lf):"MultiPoint"==i?(n=e.re(),o=o_):"MultiLineString"==i?(n=e.Yc(),o=i_):"MultiPolygon"==i?(n=e.Ad(),o=s_):s(!1,39),Bu(t,qx,o,n,r)}function tf(t,e,r){Bu({node:t},Wx,a_,[e],r)}function ef(t,e,r){var n={node:t};e.f&&t.setAttribute("id",e.f),t=e.R();var o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[e.a]=1;var i=Object.keys(t||{}).sort().filter(function(t){return!o[t]});if(0<i.length){var a=Ru(t,i);Bu(n,Yx,r_,[{names:i,values:a}],r)}(i=e.Gc())&&(i=i.call(e,0))&&(i=Array.isArray(i)?i[0]:i,this.l&&(t.Style=i),(i=i.Ka())&&(t.name=i.Ka())),i=Gx[r[r.length-1].node.namespaceURI],t=Ru(t,i),Bu(n,Yx,Yg,t,r,i),t=r[0],(e=e.V())&&(e=Gu(e,!0,t)),Bu(n,Yx,lf,[e],r)}function rf(t,e,r){var n=e.ia();t={node:t},t.layout=e.ka,t.stride=e.pa(),Bu(t,Xx,t_,[n],r)}function nf(t,e,r){e=e.Zc();var n=e.shift();t={node:t},Bu(t,Kx,n_,e,r),Bu(t,Kx,l_,[n],r)}function of(t,e){np(t,Math.round(1e6*e)/1e6)}function af(t,e,r){return _u(rx[0],"gx:"+r)}function sf(t,e){return _u(e[e.length-1].node.namespaceURI,"Placemark")}function lf(t,e){if(t)return _u(e[e.length-1].node.namespaceURI,Rx[t.Y()])}function uf(t,e,r,n){this.g=t,this.b=e,this.c=r,this.f=n}function cf(t){Hu.call(this),t=t?t:{},this.defaultDataProjection=new re({code:"",units:"tile-pixels"}),this.b=t.featureClass?t.featureClass:uf,this.g=t.geometryName?t.geometryName:"geometry",this.a=t.layerName?t.layerName:"layer",this.f=t.layers?t.layers:null}function pf(t,e,r){for(var n=0,o=0,i=t.length;o<i;++o){var a,s,l=t[o];for(a=0,s=l.length;a<s;++a){var u=l[a];e.push(u.x,u.y)}n+=2*a,r.push(n)}}function ff(){Wc.call(this),this.defaultDataProjection=he("EPSG:4326")}function hf(t,e){e[e.length-1].Nd[t.getAttribute("k")]=t.getAttribute("v")}function df(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}function yf(){}function mf(){}function vf(t,e,r,n){var o;o=void 0!==n?n:[];for(var i=n=0;i<e;){var a=t[i++];for(o[n++]=t[i++],o[n++]=a,a=2;a<r;++a)o[n++]=t[i++]}o.length=n}function gf(t){t=t?t:{},Hu.call(this),this.defaultDataProjection=he("EPSG:4326"),this.b=t.factor?t.factor:1e5,this.a=t.geometryLayout?t.geometryLayout:"XY"}function bf(t,e,r){var n,o=Array(e);for(n=0;n<e;++n)o[n]=0;var i,a;for(i=0,a=t.length;i<a;)for(n=0;n<e;++n,++i){var s=t[i],l=s-o[n];o[n]=s,t[i]=l}return _f(t,r?r:1e5)}function xf(t,e,r){var n,o=Array(e);for(n=0;n<e;++n)o[n]=0;t=wf(t,r?r:1e5);var i;for(r=0,i=t.length;r<i;)for(n=0;n<e;++n,++r)o[n]+=t[r],t[r]=o[n];return t}function _f(t,e){var r,n,o=e?e:1e5;for(r=0,n=t.length;r<n;++r)t[r]=Math.round(t[r]*o);for(o=0,r=t.length;o<r;++o)n=t[o],t[o]=0>n?~(n<<1):n<<1;for(o="",r=0,n=t.length;r<n;++r){for(var i,a=t[r],s="";32<=a;)i=(32|31&a)+63,s+=String.fromCharCode(i),a>>=5;s+=String.fromCharCode(a+63),o+=s}return o}function wf(t,e){var r,n,o=e?e:1e5,i=[],a=0,s=0;for(r=0,n=t.length;r<n;++r){var l=t.charCodeAt(r)-63,a=a|(31&l)<<s;32>l?(i.push(a),s=a=0):s+=5}for(a=0,s=i.length;a<s;++a)r=i[a],i[a]=1&r?~(r>>1):r>>1;for(a=0,s=i.length;a<s;++a)i[a]/=o;return i}function Tf(t){t=t?t:{},Hu.call(this),this.defaultDataProjection=he(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326")}function Mf(t,e){var r,n,o,i,a=[];for(o=0,i=t.length;o<i;++o)r=t[o],0<o&&a.pop(),n=0<=r?e[r]:e[~r].slice().reverse(),a.push.apply(a,n);for(r=0,n=a.length;r<n;++r)a[r]=a[r].slice();return a}function Sf(t,e,r,n,o){t=t.geometries;var i,a,s=[];for(i=0,a=t.length;i<a;++i)s[i]=Ef(t[i],e,r,n,o);return s}function Ef(t,e,r,n,o){var i=t.type,a=C_[i];return e="Point"===i||"MultiPoint"===i?a(t,r,n):a(t,e),r=new bu,r.Pa(Gu(e,!1,o)),void 0!==t.id&&r.cc(t.id),t.properties&&r.I(t.properties),r}function kf(t,e,r){t[0]=t[0]*e[0]+r[0],t[1]=t[1]*e[1]+r[1]}function Cf(t){t=t?t:{},this.i=t.featureType,this.g=t.featureNS,this.b=t.gmlFormat?t.gmlFormat:new ap,this.c=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd",Wc.call(this)}function Af(t,e){for(var r=e.firstChild;r;r=r.nextSibling)if(r.nodeType==Node.ELEMENT_NODE)return Pf(t,r)}function Pf(t,e){var r={},n=tp(e.getAttribute("numberOfFeatures"));return r.numberOfFeatures=n,Fu(r,A_,e,[],t.b)}function Lf(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return Fu({},O_,t,[])}function Df(t,e){var r=_u("http://www.opengis.net/ogc","Filter"),n=_u("http://www.opengis.net/ogc","FeatureId");r.appendChild(n),n.setAttribute("fid",e),t.appendChild(r)}function Of(t,e,r){t={node:t};var n=e.b;Bu(t,N_,Iu(n.Nb),[n],r),e=e.a,Bu(t,N_,Iu(e.Nb),[e],r)}function If(t,e){void 0!==e.a&&t.setAttribute("matchCase",e.a.toString()),Nf(t,e.b),jf(t,""+e.g)}function Rf(t,e,r){t=_u("http://www.opengis.net/ogc",t),ip(t,r),e.appendChild(t)}function Nf(t,e){Rf("PropertyName",t,e)}function jf(t,e){Rf("Literal",t,e)}function Ff(t){t=t?t:{},Hu.call(this),this.b=void 0!==t.splitCollection&&t.splitCollection}function zf(t){return t=t.$(),0===t.length?"":t.join(" ")}function Bf(t){t=t.$();for(var e=[],r=0,n=t.length;r<n;++r)e.push(t[r].join(" "));return e.join(",")}function Uf(t){var e=[];t=t.Zc();for(var r=0,n=t.length;r<n;++r)e.push("("+Bf(t[r])+")");return e.join(",")}function Vf(t){var e=t.Y(),r=(0,j_[e])(t),e=e.toUpperCase();if(t instanceof Me){t=t.ka;var n="";"XYZ"!==t&&"XYZM"!==t||(n+="Z"),"XYM"!==t&&"XYZM"!==t||(n+="M"),t=n,0<t.length&&(e+=" "+t)}return 0===r.length?e+" EMPTY":e+"("+r+")"}function Hf(t){this.a=t,this.b=-1}function Wf(t){var e=t.a.charAt(++t.b),r={position:t.b,value:e};if("("==e)r.type=2;else if(","==e)r.type=5;else if(")"==e)r.type=3;else if("0"<=e&&"9">=e||"."==e||"-"==e){r.type=4;var n,e=t.b,o=!1,i=!1;do"."==n?o=!0:"e"!=n&&"E"!=n||(i=!0),n=t.a.charAt(++t.b);while("0"<=n&&"9">=n||"."==n&&(void 0===o||!o)||!i&&("e"==n||"E"==n)||i&&("-"==n||"+"==n));t=parseFloat(t.a.substring(e,t.b--)),r.value=t}else if("a"<=e&&"z">=e||"A"<=e&&"Z">=e){r.type=1,e=t.b;do n=t.a.charAt(++t.b);while("a"<=n&&"z">=n||"A"<=n&&"Z">=n);t=t.a.substring(e,t.b--).toUpperCase(),r.value=t}else{if(" "==e||"\t"==e||"\r"==e||"\n"==e)return Wf(t);if(""!==e)throw Error("Unexpected character: "+e);r.type=6}return r}function qf(t){this.g=t,this.a="XY"}function Gf(t){t.b=Wf(t.g)}function Yf(t,e){var r=t.b.type==e;return r&&Gf(t),r}function Xf(t){var e=t.b;if(Yf(t,1)){var e=e.value,r="XY",n=t.b;if(1==t.b.type&&(n=n.value,"Z"===n?r="XYZ":"M"===n?r="XYM":"ZM"===n&&(r="XYZM"),"XY"!==r&&Gf(t)),t.a=r,"GEOMETRYCOLLECTION"==e){t:{if(Yf(t,2)){e=[];do e.push(Xf(t));while(Yf(t,5));if(Yf(t,3)){t=e;break t}}else if($f(t)){t=[];break t}throw Error(Qf(t))}return new jc(t)}if(n=z_[e],r=F_[e],!n||!r)throw Error("Invalid geometry type: "+e);return e=n.call(t),new r(e,t.a)}throw Error(Qf(t))}function Kf(t){for(var e=[],r=t.a.length,n=0;n<r;++n){var o=t.b;if(!Yf(t,4))break;e.push(o.value)}if(e.length==r)return e;throw Error(Qf(t))}function Zf(t){for(var e=[Kf(t)];Yf(t,5);)e.push(Kf(t));return e}function Jf(t){for(var e=[t.Nf()];Yf(t,5);)e.push(t.Nf());return e}function $f(t){var e=1==t.b.type&&"EMPTY"==t.b.value;return e&&Gf(t),e}function Qf(t){return"Unexpected `"+t.b.value+"` at position "+t.b.position+" in `"+t.g.a+"`"}function th(){this.version=void 0}function eh(t,e){return Fu({},rw,t,e)}function rh(t,e){return Fu({},$_,t,e)}function nh(t,e){var r=eh(t,e);if(r){var n=[tp(t.getAttribute("width")),tp(t.getAttribute("height"))];return r.size=n,r}}function oh(t,e){return Fu([],nw,t,e)}function ih(t){t=t?t:{},this.g="http://mapserver.gis.umn.edu/mapserver",this.b=new lp,this.c=t.layers?t.layers:null,Wc.call(this)}function ah(){this.g=new mf}function sh(t){var e=ep(t).split(" ");if(e&&2==e.length)return t=+e[0],e=+e[1],isNaN(t)||isNaN(e)?void 0:[t,e]}function lh(t){z.call(this),t=t||{},this.a=null,this.c=ve,this.f=void 0,E(this,B(Tw),this.Ql,this),E(this,B(Sw),this.Rl,this),void 0!==t.projection&&this.nh(he(t.projection)),void 0!==t.trackingOptions&&this.Ci(t.trackingOptions),this.ne(void 0!==t.tracking&&t.tracking)}function uh(t,e,r){Me.call(this),this.dg(t,e?e:0,r)}function ch(t){var e=t.B[t.a]-t.B[0];return t=t.B[t.a+1]-t.B[1],e*e+t*t}function ph(t,e,r){for(var n,o,i,a,s,l=[],u=t(0),p=t(1),f=e(u),h=e(p),d=[p,u],y=[h,f],m=[1,0],v={},g=1e5;0<--g&&0<m.length;)i=m.pop(),u=d.pop(),f=y.pop(),p=i.toString(),p in v||(l.push(f[0],f[1]),v[p]=!0),a=m.pop(),p=d.pop(),h=y.pop(),s=(i+a)/2,n=t(s),o=e(n),c(o[0],o[1],f[0],f[1],h[0],h[1])<r?(l.push(h[0],h[1]),p=a.toString(),v[p]=!0):(m.push(a,s,s,i),y.push(h,o,o,f),d.push(p,n,n,u));return l}function fh(t,e,r,n,o){var i=he("EPSG:4326");return ph(function(n){return[t,e+(r-e)*n]},ye(i,n),o)}function hh(t,e,r,n,o){var i=he("EPSG:4326");return ph(function(n){return[e+(r-e)*n,t]},ye(i,n),o)}function dh(t){t=t||{},this.c=this.l=null,this.g=this.i=1/0,this.f=this.j=-(1/0),this.A=this.u=1/0,this.D=this.C=-(1/0),this.va=void 0!==t.targetSize?t.targetSize:100,this.L=void 0!==t.maxLines?t.maxLines:100,this.b=[],this.a=[],this.ra=void 0!==t.strokeStyle?t.strokeStyle:kw,this.H=this.o=void 0,this.v=null,this.setMap(void 0!==t.map?t.map:null)}function yh(t,e,r,n,o,i,a){var s=a;return e=fh(e,r,n,t.c,o),s=void 0!==t.b[s]?t.b[s]:new $u(null),s.da("XY",e),Kt(s.G(),i)&&(t.b[a++]=s),a}function mh(t,e,r,n,o){var i=o;return e=hh(e,t.f,t.g,t.c,r),i=void 0!==t.a[i]?t.a[i]:new $u(null),i.da("XY",e),Kt(i.G(),n)&&(t.a[o++]=i),o}function vh(t,e,r,n,o){Hn.call(this,t,e),this.l=r,this.g=new Image,null!==n&&(this.g.crossOrigin=n),this.i=null,this.o=o}function gh(t){t.i.forEach(A),t.i=null}function bh(t){t=t?t:{},Qn.call(this,{handleEvent:Qt}),this.i=t.formatConstructors?t.formatConstructors:[],this.l=t.projection?he(t.projection):null,this.a=null,this.target=t.target?t.target:null}function xh(t){t=t.dataTransfer.files;var e,r,n;for(e=0,r=t.length;e<r;++e){n=t.item(e);var o=new FileReader;o.addEventListener("load",this.j.bind(this,n)),o.readAsText(n)}}function _h(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}function wh(t,e,r,n){O.call(this,t),this.features=r,this.file=e,this.projection=n}function Th(t){t=t?t:{},yo.call(this,{handleDownEvent:Eh,handleDragEvent:Mh,handleUpEvent:Sh}),this.o=t.condition?t.condition:co,this.a=this.i=void 0,this.j=0,this.u=void 0!==t.duration?t.duration:400}function Mh(t){if(fo(t)){var e=t.map,r=e.nb(),n=t.pixel;t=n[0]-r[0]/2,n=r[1]/2-n[1],r=Math.atan2(n,t),t=Math.sqrt(t*t+n*n),e=e.aa(),void 0!==this.i&&(n=r-this.i,to(e,e.Ra()-n)),this.i=r,void 0!==this.a&&(r=this.a*(e.Oa()/t),ro(e,r)),void 0!==this.a&&(this.j=this.a/t),this.a=t}}function Sh(t){if(!fo(t))return!0;t=t.map.aa(),vr(t,1,-1);var e=this.j-1,r=t.Ra(),r=t.constrainRotation(r,0);to(t,r,void 0,void 0);var r=t.Oa(),n=this.u,r=t.constrainResolution(r,0,e);return ro(t,r,void 0,n),this.j=0,!1}function Eh(t){return!(!fo(t)||!this.o(t))&&(vr(t.map.aa(),1,1),this.a=this.i=void 0,!0)}function kh(){return[[-(1/0),-(1/0),1/0,1/0]]}function Ch(t){t=t||{},Pl.call(this,{attributions:t.attributions,logo:t.logo,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.U=o,this.P=t.format,this.xa=void 0==t.overlaps||t.overlaps,this.Z=t.url,void 0!==t.loader?this.U=t.loader:void 0!==this.Z&&(s(this.P,7),this.U=Vu(this.Z,this.P)),this.fc=void 0!==t.strategy?t.strategy:kh;var e=void 0===t.useSpatialIndex||t.useSpatialIndex;this.a=e?new Us:null,this.sa=new Us,this.i={},this.l={},this.o={},this.v={},this.c=null;var r,n;t.features instanceof Br?(r=t.features,n=r.a):Array.isArray(t.features)&&(n=t.features),
e||void 0!==r||(r=new Br(n)),void 0!==n&&Lh(this,n),void 0!==r&&Dh(this,r)}function Ah(t,e,r){t.v[e]=[E(r,"change",t.Mh,t),E(r,am,t.Mh,t)]}function Ph(t,e,r){var n=!0,o=r.f;return void 0!==o?o.toString()in t.l?n=!1:t.l[o.toString()]=r:(s(!(e in t.o),30),t.o[e]=r),n}function Lh(t,e){var r,n,o,a,s=[],l=[],u=[];for(n=0,o=e.length;n<o;n++)a=e[n],r=i(a).toString(),Ph(t,r,a)&&l.push(a);for(n=0,o=l.length;n<o;n++){a=l[n],r=i(a).toString(),Ah(t,r,a);var c=a.V();c?(r=c.G(),s.push(r),u.push(a)):t.i[r]=a}for(t.a&&t.a.load(s,u),n=0,o=l.length;n<o;n++)t.b(new Rh(Pw,l[n]))}function Dh(t,e){var r=!1;E(t,Pw,function(t){r||(r=!0,e.push(t.feature),r=!1)}),E(t,Ow,function(t){r||(r=!0,e.remove(t.feature),r=!1)}),E(e,gm,function(t){r||(r=!0,this.gb(t.element),r=!1)},t),E(e,bm,function(t){r||(r=!0,this.rb(t.element),r=!1)},t),t.c=e}function Oh(t,e,r){t.Qb([e[0],e[1],e[0],e[1]],function(t){if(t.V().mb(e))return r.call(void 0,t)})}function Ih(t,e){for(var r in t.l)if(t.l[r]===e){delete t.l[r];break}}function Rh(t,e){O.call(this,t),this.feature=e}function Nh(t){yo.call(this,{handleDownEvent:zh,handleEvent:Fh,handleUpEvent:Bh}),this.fa=null,this.u=!1,this.Ua=t.source?t.source:null,this.xa=t.features?t.features:null,this.Mj=t.snapTolerance?t.snapTolerance:12,this.U=t.type,this.i=Yh(this.U),this.Fa=t.minPoints?t.minPoints:this.i===Nw?3:2,this.na=t.maxPoints?t.maxPoints:1/0,this.fc=t.finishCondition?t.finishCondition:Qt;var e=t.geometryFunction;if(!e)if("Circle"===this.U)e=function(t,e){var r=e?e:new uh([NaN,NaN]);return r.dg(t[0],Math.sqrt(dt(t[0],t[1]))),r};else{var r,n=this.i;n===Iw?r=We:n===Rw?r=$u:n===Nw&&(r=rr),e=function(t,e){var o=e;return o?n===Nw?o.qa([t[0].concat([t[0][0]])]):o.qa(t):o=new r(t),o}}this.D=e,this.P=this.C=this.a=this.L=this.j=this.o=null,this.Ob=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.sa=new Vi({source:new Ch({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:jh()}),this.Ja=t.geometryName,this.Lj=t.condition?t.condition:uo,this.Xe=t.freehand?Qt:t.freehandCondition?t.freehandCondition:co,E(this,B(Km),this.Li,this)}function jh(){var t=Bi();return function(e){return t[e.V().Y()]}}function Fh(t){this.u=this.i!==Iw&&this.Xe(t);var e=!this.u;return this.u&&"pointerdrag"===t.type&&null!==this.j?(Wh(this,t),e=!1):"pointermove"===t.type?e=Uh(this,t):"dblclick"===t.type&&(e=!1),vo.call(this,t)&&e}function zh(t){return this.u?(this.fa=t.pixel,this.o||Hh(this,t),!0):!!this.Lj(t)&&(this.fa=t.pixel,!0)}function Bh(t){var e=this.fa,r=t.pixel,n=e[0]-r[0],e=e[1]-r[1],n=n*n+e*e,e=!0,r=this.i===jw;return(this.u?n>this.Ob:n<=this.Ob)?(Uh(this,t),this.o?this.u||r?this.zd():Vh(this,t)?this.fc(t)&&this.zd():Wh(this,t):(Hh(this,t),this.i===Iw&&this.zd()),e=!1):r&&(this.o=null),e}function Uh(t,e){if(t.o){var r,n=e.coordinate,o=t.j.V();t.i===Iw?r=t.a:t.i===Nw?(r=t.a[0],r=r[r.length-1],Vh(t,e)&&(n=t.o.slice())):(r=t.a,r=r[r.length-1]),r[0]=n[0],r[1]=n[1],t.D(t.a,o),t.L&&t.L.V().qa(n),o instanceof rr&&t.i!==Nw?(t.C||(t.C=new bu(new $u(null))),o=o.Qg(0),n=t.C.V(),n.da(o.ka,o.ia())):t.P&&(n=t.C.V(),n.qa(t.P)),Gh(t)}else n=e.coordinate.slice(),t.L?t.L.V().qa(n):(t.L=new bu(new We(n)),Gh(t));return!0}function Vh(t,e){var r=!1;if(t.j){var n=!1,o=[t.o];if(t.i===Rw?n=t.a.length>t.Fa:t.i===Nw&&(n=t.a[0].length>t.Fa,o=[t.a[0][0],t.a[0][t.a[0].length-2]]),n)for(var n=e.map,i=0,a=o.length;i<a;i++){var s=o[i],l=n.Ga(s),u=e.pixel,r=u[0]-l[0],l=u[1]-l[1];if(r=Math.sqrt(r*r+l*l)<=(t.u?1:t.Mj)){t.o=s;break}}}return r}function Hh(t,e){var r=e.coordinate;t.o=r,t.i===Iw?t.a=r.slice():t.i===Nw?(t.a=[[r.slice(),r.slice()]],t.P=t.a[0]):(t.a=[r.slice(),r.slice()],t.i===jw&&(t.P=t.a)),t.P&&(t.C=new bu(new $u(t.P))),r=t.D(t.a),t.j=new bu,t.Ja&&t.j.Nc(t.Ja),t.j.Pa(r),Gh(t),t.b(new Xh(Fw,t.j))}function Wh(t,e){var r,n,o=e.coordinate,i=t.j.V();t.i===Rw?(t.o=o.slice(),n=t.a,n.length>=t.na&&(t.u?n.pop():r=!0),n.push(o.slice()),t.D(n,i)):t.i===Nw&&(n=t.a[0],n.length>=t.na&&(t.u?n.pop():r=!0),n.push(o.slice()),r&&(t.o=n[0]),t.D(t.a,i)),Gh(t),r&&t.zd()}function qh(t){t.o=null;var e=t.j;return e&&(t.j=null,t.L=null,t.C=null,t.sa.la().clear(!0)),e}function Gh(t){var e=[];t.j&&e.push(t.j),t.C&&e.push(t.C),t.L&&e.push(t.L),t=t.sa.la(),t.clear(!0),t.Tc(e)}function Yh(t){var e;return"Point"===t||"MultiPoint"===t?e=Iw:"LineString"===t||"MultiLineString"===t?e=Rw:"Polygon"===t||"MultiPolygon"===t?e=Nw:"Circle"===t&&(e=jw),e}function Xh(t,e){O.call(this,t),this.feature=e}function Kh(t){this.a=this.j=null,this.C=!1,this.D=this.o=null,t||(t={}),t.extent&&this.i(t.extent),yo.call(this,{handleDownEvent:Jh,handleDragEvent:$h,handleEvent:Zh,handleUpEvent:Qh}),this.u=new Vi({source:new Ch({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.boxStyle?t.boxStyle:td(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.L=new Vi({source:new Ch({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.pointerStyle?t.pointerStyle:ed(),updateWhileAnimating:!0,updateWhileInteracting:!0})}function Zh(t){if(!(t instanceof dn))return!0;if("pointermove"==t.type&&!this.A){var e=t.pixel,r=t.map,n=od(this,e,r);n||(n=r.Sa(e)),id(this,n)}return vo.call(this,t),!1}function Jh(t){function e(t){var e=null,r=null;return t[0]==o[0]?e=o[2]:t[0]==o[2]&&(e=o[0]),t[1]==o[1]?r=o[3]:t[1]==o[3]&&(r=o[1]),null!==e&&null!==r?[e,r]:null}var r=t.pixel,n=t.map,o=this.G();return(t=od(this,r,n))&&o?(r=t[0]==o[0]||t[0]==o[2]?t[0]:null,n=t[1]==o[1]||t[1]==o[3]?t[1]:null,null!==r&&null!==n?this.a=rd(e(t)):null!==r?this.a=nd(e([r,o[1]]),e([r,o[3]])):null!==n&&(this.a=nd(e([o[0],n]),e([o[2],n])))):(t=n.Sa(r),this.i([t[0],t[1],t[0],t[1]]),this.a=rd(t)),!0}function $h(t){return this.a&&(t=t.coordinate,this.i(this.a(t)),id(this,t)),!0}function Qh(){this.a=null;var t=this.G();return t&&0!==zt(t)||this.i(null),!1}function td(){var t=Bi();return function(){return t.Polygon}}function ed(){var t=Bi();return function(){return t.Point}}function rd(t){return function(e){return wt([t,e])}}function nd(t,e){return t[0]==e[0]?function(r){return wt([t,[r[0],e[1]]])}:t[1]==e[1]?function(r){return wt([t,[e[0],r[1]]])}:null}function od(t,e,r){function n(t,e){return yt(o,t)-yt(o,e)}var o=r.Sa(e),i=t.G();if(i){i=[[[i[0],i[1]],[i[0],i[3]]],[[i[0],i[3]],[i[2],i[3]]],[[i[2],i[3]],[i[2],i[1]]],[[i[2],i[1]],[i[0],i[1]]]],i.sort(n);var i=i[0],a=lt(o,i),s=r.Ga(a);if(10>=Math.sqrt(dt(e,s)))return e=r.Ga(i[0]),r=r.Ga(i[1]),e=dt(s,e),r=dt(s,r),t.C=10>=Math.sqrt(Math.min(e,r)),t.C&&(a=e>r?i[1]:i[0]),a}return null}function id(t,e){var r=t.D;r?r.V().qa(e):(r=new bu(new We(e)),t.D=r,t.L.la().gb(r))}function ad(t){O.call(this,Bw),this.b=t}function sd(t){yo.call(this,{handleDownEvent:hd,handleDragEvent:dd,handleEvent:md,handleUpEvent:yd}),this.Ua=t.condition?t.condition:ho,this.xa=function(t){return uo(t)&&lo(t)},this.Ja=t.deleteCondition?t.deleteCondition:this.xa,this.Fa=this.a=null,this.sa=[0,0],this.C=this.L=!1,this.i=new Us,this.fa=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.o=this.na=!1,this.j=[],this.D=new Vi({source:new Ch({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:bd(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.U={Point:this.Cm,LineString:this.uh,LinearRing:this.uh,Polygon:this.Dm,MultiPoint:this.Am,MultiLineString:this.zm,MultiPolygon:this.Bm,GeometryCollection:this.ym},this.u=t.features,this.u.forEach(this.Gf,this),E(this.u,gm,this.wm,this),E(this.u,bm,this.xm,this),this.P=null}function ld(t,e){t.C||(t.C=!0,t.b(new xd(Uw,t.u,e)))}function ud(t,e){cd(t,e),t.a&&0===t.u.Ub()&&(t.D.la().rb(t.a),t.a=null),C(e,"change",t.th,t)}function cd(t,e){var r=t.i,n=[];r.forEach(function(t){e===t.feature&&n.push(t)});for(var o=n.length-1;0<=o;--o)r.remove(n[o])}function pd(t,e){var r=t.a;r?r.V().qa(e):(r=new bu(new We(e)),t.a=r,t.D.la().gb(r))}function fd(t,e){return t.index-e.index}function hd(t){if(!this.Ua(t))return!1;vd(this,t.pixel,t.map),this.j.length=0,this.C=!1;var e=this.a;if(e){var r=[],e=e.V().$(),n=wt([e]),n=Ws(this.i,n),o={};n.sort(fd);for(var a=0,s=n.length;a<s;++a){var l=n[a],u=l.ta,c=i(l.feature),p=l.depth;p&&(c+="-"+p.join("-")),o[c]||(o[c]=Array(2)),pt(u[0],e)&&!o[c][0]?(this.j.push([l,0]),o[c][0]=l):pt(u[1],e)&&!o[c][1]?("LineString"!==l.geometry.Y()&&"MultiLineString"!==l.geometry.Y()||!o[c][0]||0!==o[c][0].index)&&(this.j.push([l,1]),o[c][1]=l):i(u)in this.Fa&&!o[c][0]&&!o[c][1]&&r.push([l,e])}for(r.length&&ld(this,t),t=r.length-1;0<=t;--t)this.pl.apply(this,r[t])}return!!this.a}function dd(t){this.L=!1,ld(this,t),t=t.coordinate;for(var e=0,r=this.j.length;e<r;++e){for(var n=this.j[e],o=n[0],i=o.depth,a=o.geometry,s=a.$(),l=o.ta,n=n[1];t.length<a.pa();)t.push(l[n][t.length]);switch(a.Y()){case"Point":s=t,l[0]=l[1]=t;break;case"MultiPoint":s[o.index]=t,l[0]=l[1]=t;break;case"LineString":s[o.index+n]=t,l[n]=t;break;case"MultiLineString":s[i[0]][o.index+n]=t,l[n]=t;break;case"Polygon":s[i[0]][o.index+n]=t,l[n]=t;break;case"MultiPolygon":s[i[1]][i[0]][o.index+n]=t,l[n]=t}o=a,this.o=!0,o.qa(s),this.o=!1}pd(this,t)}function yd(t){for(var e,r=this.j.length-1;0<=r;--r)e=this.j[r][0],Vs(this.i,wt(e.ta),e);return this.C&&(this.b(new xd(Vw,this.u,t)),this.C=!1),!1}function md(t){if(!(t instanceof dn))return!0;this.P=t;var e;return fr(t.map.aa())[1]||"pointermove"!=t.type||this.A||(this.sa=t.pixel,vd(this,t.pixel,t.map)),this.a&&this.Ja(t)&&(e=!("singleclick"!=t.type||!this.L)||this.ki()),"singleclick"==t.type&&(this.L=!1),vo.call(this,t)&&!e}function vd(t,e,r){function n(t,e){return yt(o,t.ta)-yt(o,e.ta)}var o=r.Sa(e),a=Tt(Dt(o),r.aa().Oa()*t.fa),a=Ws(t.i,a);if(0<a.length){a.sort(n);var s=a[0].ta,l=lt(o,s),u=r.Ga(l);if(Math.sqrt(dt(e,u))<=t.fa){for(e=r.Ga(s[0]),r=r.Ga(s[1]),e=dt(u,e),u=dt(u,r),t.na=Math.sqrt(Math.min(e,u))<=t.fa,t.na&&(l=e>u?s[1]:s[0]),pd(t,l),l={},l[i(s)]=!0,r=1,e=a.length;r<e&&(u=a[r].ta,pt(s[0],u[0])&&pt(s[1],u[1])||pt(s[0],u[1])&&pt(s[1],u[0]));++r)l[i(u)]=!0;return void(t.Fa=l)}}t.a&&(t.D.la().rb(t.a),t.a=null)}function gd(t,e,r,n,o){qs(t.i,e.G(),function(t){t.geometry===e&&(void 0===n||void 0===t.depth||K(t.depth,n))&&t.index>r&&(t.index+=o)})}function bd(){var t=Bi();return function(){return t.Point}}function xd(t,e,r){O.call(this,t),this.features=e,this.mapBrowserEvent=r}function _d(t){if(Qn.call(this,{handleEvent:wd}),t=t?t:{},this.C=t.condition?t.condition:lo,this.A=t.addCondition?t.addCondition:te,this.D=t.removeCondition?t.removeCondition:te,this.L=t.toggleCondition?t.toggleCondition:co,this.o=!!t.multi&&t.multi,this.l=t.filter?t.filter:Qt,this.j=t.hitTolerance?t.hitTolerance:0,this.i=new Vi({source:new Ch({useSpatialIndex:!1,features:t.features,wrapX:t.wrapX}),style:t.style?t.style:Td(),updateWhileAnimating:!0,updateWhileInteracting:!0}),t.layers)if("function"==typeof t.layers)t=t.layers;else{var e=t.layers;t=function(t){return W(e,t)}}else t=Qt;this.u=t,this.a={},t=this.i.la().c,E(t,gm,this.Em,this),E(t,bm,this.Im,this)}function wd(t){if(!this.C(t))return!0;var e=this.A(t),r=this.D(t),n=this.L(t),o=!e&&!r&&!n,a=t.map,s=this.i.la().c,l=[],u=[];if(o){for(g(this.a),a.ae(t.pixel,function(t,e){if(this.l(t,e)){u.push(t);var r=i(t);return this.a[r]=e,!this.o}}.bind(this),{layerFilter:this.u,hitTolerance:this.j}),o=s.Ub()-1;0<=o;--o){var a=s.item(o),c=u.indexOf(a);-1<c?u.splice(c,1):(s.remove(a),l.push(a))}0!==u.length&&s.Bf(u)}else{for(a.ae(t.pixel,function(t,o){if(this.l(t,o)){if(!e&&!n||W(s.a,t))(r||n)&&W(s.a,t)&&(l.push(t),a=i(t),delete this.a[a]);else{u.push(t);var a=i(t);this.a[a]=o}return!this.o}}.bind(this),{layerFilter:this.u,hitTolerance:this.j}),o=l.length-1;0<=o;--o)s.remove(l[o]);s.Bf(u)}return(0<u.length||0<l.length)&&this.b(new Md(Hw,u,l,t)),so(t)}function Td(){var t=Bi();return Y(t.Polygon,t.LineString),Y(t.GeometryCollection,t.LineString),function(e){return e.V()?t[e.V().Y()]:null}}function Md(t,e,r,n){O.call(this,t),this.selected=e,this.deselected=r,this.mapBrowserEvent=n}function Sd(t){yo.call(this,{handleEvent:Ed,handleDownEvent:Qt,handleUpEvent:kd}),t=t?t:{},this.o=t.source?t.source:null,this.sa=void 0===t.vertex||t.vertex,this.P=void 0===t.edge||t.edge,this.j=t.features?t.features:null,this.na=[],this.C={},this.D={},this.U={},this.u={},this.L=null,this.i=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.Fa=Cd.bind(this),this.a=new Us,this.fa={Point:this.Pm,LineString:this.xh,LinearRing:this.xh,Polygon:this.Qm,MultiPoint:this.Nm,MultiLineString:this.Mm,MultiPolygon:this.Om,GeometryCollection:this.Lm}}function Ed(t){var e,r,n=t.pixel,o=t.coordinate;e=t.map;var i=e.Sa([n[0]-this.i,n[1]+this.i]);r=e.Sa([n[0]+this.i,n[1]-this.i]);var a,i=wt([i,r]),s=Ws(this.a,i),i=!1,l=null;return r=null,0<s.length&&(this.L=o,s.sort(this.Fa),s=s[0].ta,this.sa&&!this.P?(o=e.Ga(s[0]),a=e.Ga(s[1]),o=dt(n,o),n=dt(n,a),a=Math.sqrt(Math.min(o,n)),(a=a<=this.i)&&(i=!0,l=o>n?s[1]:s[0],r=e.Ga(l))):this.P&&(l=lt(o,s),r=e.Ga(l),Math.sqrt(dt(n,r))<=this.i&&(i=!0,this.sa&&(o=e.Ga(s[0]),a=e.Ga(s[1]),o=dt(r,o),n=dt(r,a),a=Math.sqrt(Math.min(o,n)),a=a<=this.i)))&&(l=o>n?s[1]:s[0],r=e.Ga(l)),i&&(r=[Math.round(r[0]),Math.round(r[1])])),e=l,i&&(t.coordinate=e.slice(0,2),t.pixel=r),vo.call(this,t)}function kd(){var t=b(this.u);return t.length&&(t.forEach(this.Ki,this),this.u={}),!1}function Cd(t,e){return yt(this.L,t.ta)-yt(this.L,e.ta)}function Ad(t){yo.call(this,{handleDownEvent:Pd,handleDragEvent:Dd,handleMoveEvent:Od,handleUpEvent:Ld}),t=t?t:{},this.o=void 0,this.a=null,this.j=void 0!==t.features?t.features:null;var e;if(t.layers)if("function"==typeof t.layers)e=t.layers;else{var r=t.layers;e=function(t){return W(r,t)}}else e=Qt;this.C=e,this.u=t.hitTolerance?t.hitTolerance:0,this.i=null}function Pd(t){if(this.i=Id(this,t.pixel,t.map),!this.a&&this.i){this.a=t.coordinate,Od.call(this,t);var e=this.j||new Br([this.i]);return this.b(new Rd(Ww,e,t.coordinate)),!0}return!1}function Ld(t){if(this.a){this.a=null,Od.call(this,t);var e=this.j||new Br([this.i]);return this.b(new Rd(Gw,e,t.coordinate)),!0}return!1}function Dd(t){if(this.a){t=t.coordinate;var e=t[0]-this.a[0],r=t[1]-this.a[1],n=this.j||new Br([this.i]);n.forEach(function(t){var n=t.V();n.translate(e,r),t.Pa(n)}),this.a=t,this.b(new Rd(qw,n,t))}}function Od(t){var e=t.map.Cc();Id(this,t.pixel,t.map)?(this.o=e.style.cursor,e.style.cursor=this.a?"-webkit-grabbing":"-webkit-grab",e.style.cursor=this.a?"grabbing":"grab"):(e.style.cursor=void 0!==this.o?this.o:"",this.o=void 0)}function Id(t,e,r){return r.ae(e,function(t){if(!this.j||W(this.j.a,t))return t}.bind(t),{layerFilter:t.C,hitTolerance:t.u})}function Rd(t,e,r){O.call(this,t),this.features=e,this.coordinate=r}function Nd(t){t=t?t:{};var e=om({},t);delete e.gradient,delete e.radius,delete e.blur,delete e.shadow,delete e.weight,Vi.call(this,e),this.f=null,this.U=void 0!==t.shadow?t.shadow:250,this.P=void 0,this.c=null,E(this,B(Kw),this.Qk,this),this.ui(t.gradient?t.gradient:Yw),this.ni(void 0!==t.blur?t.blur:15),this.Ah(void 0!==t.radius?t.radius:8),E(this,B(Xw),this.xf,this),E(this,B(Zw),this.xf,this),this.xf();var r,n=t.weight?t.weight:"weight";r="string"==typeof n?function(t){return t.get(n)}:n,this.l(function(t){t=r(t),t=void 0!==t?l(t,0,1):1;var e=255*t|0,n=this.c[e];return n||(n=[new ji({image:new Ep({opacity:t,src:this.P})})],this.c[e]=n),n}.bind(this)),this.set("renderOrder",null),E(this,"render",this.gl,this)}function jd(t,e,r,n){function o(){delete window[s],a.parentNode.removeChild(a)}var a=document.createElement("script"),s="olc_"+i(e);a.async=!0,a.src=t+(-1==t.indexOf("?")?"?":"&")+(n||"callback")+"="+s;var l=setTimeout(function(){o(),r&&r()},1e4);window[s]=function(t){clearTimeout(l),o(),e(t)},document.getElementsByTagName("head")[0].appendChild(a)}function Fd(t,e,r,n,o,i,a,s,u,c,p){if(Hn.call(this,o,0),this.C=void 0!==p&&p,this.A=a,this.u=s,this.H=null,this.f=e,this.l=n,this.o=i?i:o,this.g=[],this.kd=null,this.i=0,i=n.Na(this.o),s=this.l.G(),o=this.f.G(),i=s?qt(i,s):i,0===zt(i))this.state=4;else if((s=t.G())&&(o=o?qt(o,s):s),n=n.Ha(this.o[0]),n=Tl(t,r,Vt(i),n),!isFinite(n)||0>=n)this.state=4;else if(this.v=new El(t,r,i,o,n*(void 0!==c?c:.5)),0===this.v.f.length)this.state=4;else if(this.i=e.Ec(n),r=Cl(this.v),o&&(t.a?(r[1]=l(r[1],o[1],o[3]),r[3]=l(r[3],o[1],o[3])):r=qt(r,o)),zt(r)){for(t=Lr(e,r,this.i),e=t.ea;e<=t.ca;e++)for(r=t.ga;r<=t.ja;r++)(c=u(this.i,e,r,a))&&this.g.push(c);0===this.g.length&&(this.state=4)}else this.state=4}function zd(t,e){var r=/\{z\}/g,n=/\{x\}/g,o=/\{y\}/g,i=/\{-y\}/g;return function(a){if(a)return t.replace(r,a[0].toString()).replace(n,a[1].toString()).replace(o,function(){return(-a[2]-1).toString()}).replace(i,function(){var t=e.a?e.a[a[0]]:null;return s(t,55),(t.ja-t.ga+1+a[2]).toString()})}}function Bd(t,e){for(var r=t.length,n=Array(r),o=0;o<r;++o)n[o]=zd(t[o],e);return Ud(n)}function Ud(t){return 1===t.length?t[0]:function(e,r,n){if(e)return t[h((e[1]<<e[0])+e[2],t.length)](e,r,n)}}function Vd(){}function Hd(t){var e=[],r=/\{([a-z])-([a-z])\}/.exec(t);if(r){var n,o=r[2].charCodeAt(0);for(n=r[1].charCodeAt(0);n<=o;++n)e.push(t.replace(r[0],String.fromCharCode(n)));return e}if(r=r=/\{(\d+)-(\d+)\}/.exec(t)){for(o=parseInt(r[2],10),n=parseInt(r[1],10);n<=o;n++)e.push(t.replace(r[0],n.toString()));return e}return e.push(t),e}function Wd(t){Xl.call(this),this.c=void 0!==t?t:2048}function qd(t){return t.f>t.c}function Gd(t){Pl.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.sa=void 0!==t.opaque&&t.opaque,this.xa=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.a=new Wd(t.cacheSize),this.l=[0,0],this.jc=""}function Yd(t,e,r,n,o){if(e=t.Cd(e),!e)return!1;for(var i,a,s=!0,l=n.ea;l<=n.ca;++l)for(var u=n.ga;u<=n.ja;++u)i=t.Lb(r,l,u),a=!1,e.b.hasOwnProperty(i)&&(i=e.get(i),(a=i.W()===Xm)&&(a=!1!==o(i))),a||(s=!1);return s}function Xd(t,e){t.jc!==e&&(t.jc=e,t.s())}function Kd(t,e,r){var n=void 0!==r?r:t.f;if(r=t.Db(n),t.D&&n.g){var o=e;e=o[0],t=Dr(r,o),n=Fr(n),Et(n,t)?e=o:(o=Xt(n),t[0]+=o*Math.ceil((n[0]-t[0])/o),e=r.wf(t,e))}if(o=e[0],n=e[1],t=e[2],r.minZoom>o||o>r.maxZoom)r=!1;else{var i=r.G();r=!(r=i?Lr(r,i,o):r.a?r.a[o]:null)||br(r,n,t)}return r?e:null}function Zd(t,e){O.call(this,t),this.tile=e}function Jd(t){Gd.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX}),this.tileLoadFunction=t.tileLoadFunction,this.tileUrlFunction=this.zc?this.zc.bind(this):Vd,this.urls=null,t.urls?this.Ya(t.urls):t.url&&this.cb(t.url),t.tileUrlFunction&&this.Xa(t.tileUrlFunction)}function $d(t){Jd.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:ey,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:vh,this.i={},this.v={},this.na=t.reprojectionErrorThreshold,this.C=!1}function Qd(t,e,r,n,o,i,a){return e=[e,r,n],o=(r=Kd(t,e,i))?t.tileUrlFunction(r,o,i):void 0,o=new t.tileClass(e,void 0!==o?0:4,void 0!==o?o:"",t.crossOrigin,t.tileLoadFunction),o.key=a,E(o,"change",t.Jh,t),o}function ty(t,e,r,n,o,i){var a,s=t.Lb(e,r,n),l=t.jc;if(t.a.b.hasOwnProperty(s)){if(a=t.a.get(s),a.key!=l){var u=a;if(a=Qd(t,e,r,n,o,i,l),0==u.W()?a.a=u.a:a.a=u,a.a){e=a.a,r=a;do{if(e.W()==Xm){e.a=null;break}1==e.W()?r=e:0==e.W()?r.a=e.a:r=e,e=r.a}while(e)}t.a.replace(s,a)}}else a=Qd(t,e,r,n,o,i,l),t.a.set(s,a);return a}function ey(t,e){t.ub().src=e}function ry(t){this.A=void 0!==t.hidpi&&t.hidpi,$d.call(this,{cacheSize:t.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:he("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,tilePixelRatio:this.A?2:1,wrapX:void 0===t.wrapX||t.wrapX}),this.P=void 0!==t.culture?t.culture:"en-us",this.u=void 0!==t.maxZoom?t.maxZoom:-1,this.c=t.key,this.o=t.imagerySet,jd("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.o+"?uriScheme=https&include=ImageryProviders&key="+this.c,this.fa.bind(this),void 0,"jsonp")}function ny(t){t=t||{};var e=void 0!==t.projection?t.projection:"EPSG:3857",r=void 0!==t.tileGrid?t.tileGrid:Nr({extent:Fr(e),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});$d.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:t.opaque,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX})}function oy(t){this.u=t.account,this.A=t.map||"",this.c=t.config||{},this.o={},ny.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,maxZoom:void 0!==t.maxZoom?t.maxZoom:18,minZoom:t.minZoom,projection:t.projection,state:"loading",wrapX:t.wrapX}),iy(this)}function iy(t){var e=JSON.stringify(t.c);if(t.o[e])ay(t,t.o[e]);else{var r="https://"+t.u+".cartodb.com/api/v1/map";t.A&&(r+="/named/"+t.A);var n=new XMLHttpRequest;n.addEventListener("load",t.Sk.bind(t,e)),n.addEventListener("error",t.Rk.bind(t)),n.open("POST",r),n.setRequestHeader("Content-type","application/json"),n.send(JSON.stringify(t.c))}}function ay(t,e){t.cb("https://"+e.cdn_url.https+"/"+t.u+"/api/v1/map/"+e.layergroupid+"/{z}/{x}/{y}.png")}function sy(t){Ch.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,wrapX:t.wrapX}),this.C=void 0,this.fa=void 0!==t.distance?t.distance:20,this.A=[],this.na=t.geometryFunction||function(t){return t=t.V(),s(t instanceof We,10),t},this.u=t.source,this.u.J("change",sy.prototype.Ja,this)}function ly(t){if(void 0!==t.C){t.A.length=0;for(var e=Pt(),r=t.fa*t.C,n=t.u.we(),o={},a=0,s=n.length;a<s;a++){var l=n[a];i(l).toString()in o||!(l=t.na(l))||(l=l.$(),Dt(l,e),Tt(e,r,e),l=t.u.nf(e),l=l.filter(function(t){return t=i(t).toString(),!(t in o)&&(o[t]=!0)}),t.A.push(uy(t,l)))}}}function uy(t,e){for(var r=[0,0],n=e.length-1;0<=n;--n){var o=t.na(e[n]);o?st(r,o.$()):e.splice(n,1)}return ht(r,1/e.length),r=new bu(new We(r)),r.set("features",e),r}function cy(t,e){var r=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&r.push(t+"="+encodeURIComponent(e[t]))});var n=r.join("&");return t=t.replace(/[?&]$/,""),t=-1===t.indexOf("?")?t+"?":t+"&",t+n}function py(t){t=t||{},Ol.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions}),this.Z=void 0!==t.crossOrigin?t.crossOrigin:null,this.i=t.url,this.l=void 0!==t.imageLoadFunction?t.imageLoadFunction:Rl,this.u=t.params||{},this.c=null,this.v=[0,0],this.P=0,this.C=void 0!==t.ratio?t.ratio:1.5}function fy(t){Ol.call(this,{projection:t.projection,resolutions:t.resolutions}),this.Z=void 0!==t.crossOrigin?t.crossOrigin:null,this.v=void 0!==t.displayDpi?t.displayDpi:96,this.l=t.params||{},this.P=t.url,this.c=void 0!==t.imageLoadFunction?t.imageLoadFunction:Rl,this.fa=void 0===t.hidpi||t.hidpi,this.na=void 0!==t.metersPerUnit?t.metersPerUnit:1,this.u=void 0!==t.ratio?t.ratio:1,this.xa=void 0!==t.useOverlay&&t.useOverlay,this.i=null,this.C=0}function hy(t){var e=t.imageExtent,r=void 0!==t.crossOrigin?t.crossOrigin:null,n=void 0!==t.imageLoadFunction?t.imageLoadFunction:Rl;Ol.call(this,{attributions:t.attributions,logo:t.logo,projection:he(t.projection)}),this.c=new Ai(e,void 0,1,this.j,t.url,r,n),this.i=t.imageSize?t.imageSize:null,E(this.c,"change",this.o,this)}function dy(t){t=t||{},Ol.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions}),this.na=void 0!==t.crossOrigin?t.crossOrigin:null,this.l=t.url,this.C=void 0!==t.imageLoadFunction?t.imageLoadFunction:Rl,this.i=t.params||{},this.u=!0,my(this),this.fa=t.serverType,this.xa=void 0===t.hidpi||t.hidpi,this.c=null,this.P=[0,0],this.Z=0,this.v=void 0!==t.ratio?t.ratio:1.5}function yy(t,e,r,n,o,i){if(s(void 0!==t.l,9),i[t.u?"CRS":"SRS"]=o.hb,"STYLES"in t.i||(i.STYLES=""),1!=n)switch(t.fa){case"geoserver":n=90*n+.5|0,i.FORMAT_OPTIONS="FORMAT_OPTIONS"in i?i.FORMAT_OPTIONS+(";dpi:"+n):"dpi:"+n;break;case"mapserver":i.MAP_RESOLUTION=90*n;break;case"carmentaserver":case"qgis":i.DPI=90*n;break;default:s(!1,8)}i.WIDTH=r[0],i.HEIGHT=r[1],r=o.b;var a;return a=t.u&&"ne"==r.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,i.BBOX=a.join(","),cy(t.l,i)}function my(t){t.u=0<=at(t.i.VERSION||"1.3.0")}function vy(t){t=t||{};var e;e=void 0!==t.attributions?t.attributions:[Qw],ny.call(this,{attributions:e,cacheSize:t.cacheSize,crossOrigin:void 0!==t.crossOrigin?t.crossOrigin:"anonymous",opaque:void 0===t.opaque||t.opaque,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:t.wrapX})}function gy(t){this.C=null,this.xa=void 0!==t.operationType?t.operationType:nT,this.Ja=void 0!==t.threads?t.threads:1,this.c=_y(t.sources);for(var e=0,r=this.c.length;e<r;++e)E(this.c[e],"change",this.s,this);this.i=Yr(),this.fa=new Zn(function(){return 1},this.s.bind(this));for(var e=xy(this.c),r={},n=0,o=e.length;n<o;++n)r[i(e[n].layer)]=e[n];this.l=this.v=null,this.Z={animate:!1,attributions:{},coordinateToPixelTransform:ui(),extent:null,focus:null,index:0,layerStates:r,layerStatesArray:e,logos:{},pixelRatio:1,pixelToCoordinateTransform:ui(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.fa,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},Ol.call(this,{}),void 0!==t.operation&&this.u(t.operation,t.lib)}function by(t,e,r){var n=t.v;return!n||t.g!==n.bp||r!==n.resolution||!It(e,n.extent)}function xy(t){return t.map(function(t){return $o(t.a)})}function _y(t){for(var e=t.length,r=Array(e),n=0;n<e;++n){var o=n,i=t[n],a=null;i instanceof Gd?(i=new ki({source:i}),a=new fa(i)):i instanceof Ol&&(i=new Ei({source:i}),a=new pa(i)),r[o]=a}return r}function wy(t,e,r){O.call(this,t),this.extent=e.extent,this.resolution=e.viewState.resolution/e.pixelRatio,this.data=r}function Ty(t){var e=t.layer.indexOf("-"),e=sT[-1==e?t.layer:t.layer.slice(0,e)],r=aT[t.layer];ny.call(this,{attributions:iT,cacheSize:t.cacheSize,crossOrigin:"anonymous",maxZoom:void 0!=t.maxZoom?t.maxZoom:e.maxZoom,minZoom:void 0!=t.minZoom?t.minZoom:e.minZoom,opaque:r.opaque,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+t.layer+"/{z}/{x}/{y}."+r.Bb})}function My(t){t=t||{},$d.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX}),this.c=t.params||{},this.o=Pt(),Xd(this,Sy(this))}function Sy(t){var e,r=0,n=[];for(e in t.c)n[r++]=e+"-"+t.c[e];return n.join("/")}function Ey(t){Gd.call(this,{opaque:!1,projection:t.projection,tileGrid:t.tileGrid,wrapX:void 0===t.wrapX||t.wrapX})}function ky(t,e,r){Hn.call(this,t,Xm),this.i=e,this.f=r,this.g=null}function Cy(t){if(this.c=null,$d.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,projection:he("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,wrapX:void 0===t.wrapX||t.wrapX}),t.jsonp)jd(t.url,this.Gh.bind(this),this.ue.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.vn.bind(this)),e.addEventListener("error",this.tn.bind(this)),e.open("GET",t.url),e.send()}}function Ay(t){if(Gd.call(this,{projection:he("EPSG:3857"),state:"loading"}),this.v=void 0===t.preemptive||t.preemptive,this.o=Vd,this.i=void 0,this.c=t.jsonp||!1,t.url)if(this.c)jd(t.url,this.Kf.bind(this),this.ve.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.zn.bind(this)),e.addEventListener("error",this.yn.bind(this)),e.open("GET",t.url),e.send()}else t.tileJSON?this.Kf(t.tileJSON):s(!1,51)}function Py(t,e,r,n,o,i){Hn.call(this,t,e),this.o=r,this.g=n,this.H=o,this.f=this.l=this.i=null,this.v=i}function Ly(t,e,r,n,o){0==t.state&&!0===o?(k(t,"change",function(){r.call(n,this.getData(e))},t),Dy(t)):!0===o?setTimeout(function(){r.call(n,this.getData(e))}.bind(t),0):r.call(n,t.getData(e))}function Dy(t){if(0==t.state)if(t.state=1,t.v)jd(t.o,t.Hh.bind(t),t.ge.bind(t));else{var e=new XMLHttpRequest;e.addEventListener("load",t.xn.bind(t)),e.addEventListener("error",t.wn.bind(t)),e.open("GET",t.o),e.send()}}function Oy(t){t=t||{};var e=t.params||{};$d.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:!("TRANSPARENT"in e?e.TRANSPARENT:1),projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX}),this.u=void 0!==t.gutter?t.gutter:0,this.c=e,this.o=!0,this.A=t.serverType,this.U=void 0===t.hidpi||t.hidpi,this.P="",Ry(this),this.Z=Pt(),jy(this),Xd(this,Ny(this))}function Iy(t,e,r,n,o,i,a){var l=t.urls;if(l){if(a.WIDTH=r[0],a.HEIGHT=r[1],a[t.o?"CRS":"SRS"]=i.hb,"STYLES"in t.c||(a.STYLES=""),1!=o)switch(t.A){case"geoserver":r=90*o+.5|0,a.FORMAT_OPTIONS="FORMAT_OPTIONS"in a?a.FORMAT_OPTIONS+(";dpi:"+r):"dpi:"+r;break;case"mapserver":a.MAP_RESOLUTION=90*o;break;case"carmentaserver":case"qgis":a.DPI=90*o;break;default:s(!1,52)}return i=i.b,t.o&&"ne"==i.substr(0,2)&&(t=n[0],n[0]=n[1],n[1]=t,t=n[2],n[2]=n[3],n[3]=t),a.BBOX=n.join(","),cy(1==l.length?l[0]:l[h((e[1]<<e[0])+e[2],l.length)],a)}}function Ry(t){var e=0,r=[];if(t.urls){var n,o;for(n=0,o=t.urls.length;n<o;++n)r[e++]=t.urls[n]}t.P=r.join("#")}function Ny(t){var e,r=0,n=[];for(e in t.c)n[r++]=e+"-"+t.c[e];return n.join("/")}function jy(t){t.o=0<=at(t.c.VERSION||"1.3.0")}function Fy(t,e,r,n,o){Hn.call(this,t,e),this.f=Yr(),this.l=n,this.i=null,this.g={xd:!1,bg:null,li:-1,cg:-1,jd:null},this.H=o,this.o=r}function zy(t,e){t.wi(Uu(e,t.l,t.ho.bind(t),t.fo.bind(t)))}function By(t){Jd.call(this,{attributions:t.attributions,cacheSize:void 0!==t.cacheSize?t.cacheSize:128,extent:t.extent,logo:t.logo,opaque:!1,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:zy,tileUrlFunction:t.tileUrlFunction,tilePixelRatio:t.tilePixelRatio,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX}),this.c=t.format?t.format:null,this.i=void 0==t.overlaps||t.overlaps,this.tileClass=t.tileClass?t.tileClass:Fy}function Uy(t){this.l=t.matrixIds,kr.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes})}function Vy(t,e,r){var n=[],o=[],i=[],a=[],s=[],l=void 0!==r?r:[];r=he(t.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var u=r.ic(),c="ne"==r.b.substr(0,2);return t.TileMatrix.sort(function(t,e){return e.ScaleDenominator-t.ScaleDenominator}),t.TileMatrix.forEach(function(t){var e;if(e=!(0<l.length)||X(l,function(e){return t.Identifier==e.TileMatrix})){o.push(t.Identifier),e=28e-5*t.ScaleDenominator/u;var r=t.TileWidth,p=t.TileHeight;c?i.push([t.TopLeftCorner[1],t.TopLeftCorner[0]]):i.push(t.TopLeftCorner),n.push(e),a.push(r==p?r:[r,p]),s.push([t.MatrixWidth,-t.MatrixHeight])}}),new Uy({extent:e,origins:i,resolutions:n,matrixIds:o,tileSizes:a,sizes:s})}function Hy(t){function e(t){return t=n==lT?cy(t,i):t.replace(/\{(\w+?)\}/g,function(t,e){return e.toLowerCase()in i?i[e.toLowerCase()]:t}),function(e){if(e){var r={TileMatrix:o.l[e[0]],TileCol:e[1],TileRow:-e[2]-1};return om(r,a),e=t,e=n==lT?cy(e,r):e.replace(/\{(\w+?)\}/g,function(t,e){return r[e]})}}}this.Z=void 0!==t.version?t.version:"1.0.0",this.u=void 0!==t.format?t.format:"image/jpeg",this.c=void 0!==t.dimensions?t.dimensions:{},
this.A=t.layer,this.o=t.matrixSet,this.P=t.style;var r=t.urls;void 0===r&&void 0!==t.url&&(r=Hd(t.url));var n=this.U=void 0!==t.requestEncoding?t.requestEncoding:lT,o=t.tileGrid,i={layer:this.A,style:this.P,tilematrixset:this.o};n==lT&&om(i,{Service:"WMTS",Request:"GetTile",Version:this.Z,Format:this.u});var a=this.c,s=r&&0<r.length?Ud(r.map(e)):Vd;$d.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:o,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:s,urls:r,wrapX:void 0!==t.wrapX&&t.wrapX}),Xd(this,Wy(this))}function Wy(t){var e,r=0,n=[];for(e in t.c)n[r++]=e+"-"+t.c[e];return n.join("/")}function qy(t){t=t||{};var e=t.size,r=e[0],n=e[1],o=[],i=256;switch(void 0!==t.tierSizeCalculation?t.tierSizeCalculation:uT){case uT:for(;r>i||n>i;)o.push([Math.ceil(r/i),Math.ceil(n/i)]),i+=i;break;case cT:for(;r>i||n>i;)o.push([Math.ceil(r/i),Math.ceil(n/i)]),r>>=1,n>>=1;break;default:s(!1,53)}o.push([1,1]),o.reverse();for(var i=[1],a=[0],n=1,r=o.length;n<r;n++)i.push(1<<n),a.push(o[n-1][0]*o[n-1][1]+a[n-1]);i.reverse();var e=[0,-e[1],e[0],0],e=new kr({extent:e,origin:Gt(e),resolutions:i}),l=t.url;$d.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:Gy,tileGrid:e,tileUrlFunction:function(t){if(t){var e=t[0],r=t[1];return t=-t[2]-1,l+"TileGroup"+((r+t*o[e][0]+a[e])/256|0)+"/"+e+"-"+r+"-"+t+".jpg"}}})}function Gy(t,e,r,n,o){vh.call(this,t,e,r,n,o),this.f=null}function Yy(t,e){this.b=e,this.a=[{x:0,y:0,width:t,height:t}],this.f={},this.g=Yr(t,t),this.c=this.g.canvas}function Xy(t,e,r,n){e=[e,1],0<r.width&&0<r.height&&e.push(r),0<n.width&&0<n.height&&e.push(n),t.a.splice.apply(t.a,e)}function Ky(t){t=t||{},this.a=void 0!==t.initialSize?t.initialSize:256,this.g=void 0!==t.maxSize?t.maxSize:void 0!==$y?$y:2048,this.b=void 0!==t.space?t.space:1,this.c=[new Yy(this.a,this.b)],this.f=this.a,this.i=[new Yy(this.f,this.b)]}function Zy(t,e,r,n,o,i,a){var s,l,u,c=e?t.i:t.c;for(l=0,u=c.length;l<u;++l){if(s=c[l],s=s.add(r,n,o,i,a))return s;s||l!==u-1||(e?(s=Math.min(2*t.f,t.g),t.f=s):(s=Math.min(2*t.a,t.g),t.a=s),s=new Yy(s,t.b),c.push(s),++u)}return null}var Jy,$y,Qy,tm={},em=this,rm=0;r(a,Error);var nm=function(){var t;return t="cosh"in Math?Math.cosh:function(t){return t=Math.exp(t),(t+1/t)/2}}(),om="function"==typeof Object.assign?Object.assign:function(t,e){if(!t||!t)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(t),n=1,o=arguments.length;n<o;++n){var i=arguments[n];if(void 0!==i&&null!==i)for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])}return r};L.prototype.zb=!1,L.prototype.oa=o,O.prototype.preventDefault=O.prototype.stopPropagation=function(){this.xo=!0},r(R,L),R.prototype.addEventListener=function(t,e){var r=this.ra[t];r||(r=this.ra[t]=[]),-1===r.indexOf(e)&&r.push(e)},R.prototype.b=function(t){var e="string"==typeof t?new O(t):t;t=e.type,e.target=this;var r,n=this.ra[t];if(n){t in this.va||(this.va[t]=0,this.Qa[t]=0),++this.va[t];for(var i=0,a=n.length;i<a;++i)if(!1===n[i].call(this,e)||e.xo){r=!1;break}if(--this.va[t],0===this.va[t]){for(e=this.Qa[t],delete this.Qa[t];e--;)this.removeEventListener(t,o);delete this.va[t]}return r}},R.prototype.oa=function(){P(this)},R.prototype.removeEventListener=function(t,e){var r=this.ra[t];if(r){var n=r.indexOf(e);t in this.Qa?(r[n]=o,++this.Qa[t]):(r.splice(n,1),0===r.length&&delete this.ra[t])}},r(j,R),Jy=j.prototype,Jy.s=function(){++this.g,this.b("change")},Jy.M=function(){return this.g},Jy.J=function(t,e,r){if(Array.isArray(t)){for(var n=t.length,o=Array(n),i=0;i<n;++i)o[i]=E(this,t[i],e,r);return o}return E(this,t,e,r)},Jy.N=function(t,e,r){if(Array.isArray(t)){for(var n=t.length,o=Array(n),i=0;i<n;++i)o[i]=k(this,t[i],e,r);return o}return k(this,t,e,r)},Jy.K=function(t,e,r){if(Array.isArray(t))for(var n=0,o=t.length;n<o;++n)C(this,t[n],e,r);else C(this,t,e,r)},Jy.O=F,r(z,j);var im={};Jy=z.prototype,Jy.get=function(t){var e;return this.H.hasOwnProperty(t)&&(e=this.H[t]),e},Jy.S=function(){return Object.keys(this.H)},Jy.R=function(){return om({},this.H)},Jy.set=function(t,e,r){r?this.H[t]=e:(r=this.H[t],this.H[t]=e,r!==e&&U(this,t,r))},Jy.I=function(t,e){for(var r in t)this.set(r,t[r],e)},Jy.T=function(t,e){if(t in this.H){var r=this.H[t];delete this.H[t],e||U(this,t,r)}};var am="propertychange";r(V,O),ee.prototype.a=function(t){for(var e=0,r=t.length,n=t[r-1][0],o=t[r-1][1],i=0;i<r;i++)var a=t[i][0],s=t[i][1],e=e+f(a-n)*(2+Math.sin(f(o))+Math.sin(f(s))),n=a,o=s;return e*this.radius*this.radius/2},ee.prototype.b=function(t,e){var r=f(t[1]),n=f(e[1]),o=(n-r)/2,i=f(e[0]-t[0])/2,r=Math.sin(o)*Math.sin(o)+Math.sin(i)*Math.sin(i)*Math.cos(r)*Math.cos(n);return 2*this.radius*Math.atan2(Math.sqrt(r),Math.sqrt(1-r))},ee.prototype.offset=function(t,e,r){var n=f(t[1]);e/=this.radius;var o=Math.asin(Math.sin(n)*Math.cos(e)+Math.cos(n)*Math.sin(e)*Math.cos(r));return[180*(f(t[0])+Math.atan2(Math.sin(r)*Math.sin(e)*Math.cos(n),Math.cos(e)-Math.sin(n)*Math.sin(o)))/Math.PI,180*o/Math.PI]};var sm=new ee(6370997),lm={};lm.degrees=2*Math.PI*sm.radius/360,lm.ft=.3048,lm.m=1,lm["us-ft"]=1200/3937;var um=null;Jy=re.prototype,Jy.Zj=function(){return this.hb},Jy.G=function(){return this.f},Jy.Eb=function(){return this.c},Jy.ic=function(){return this.o||lm[this.c]},Jy.Jk=function(){return this.i},Jy.rl=function(){return this.g},Jy.hp=function(t){this.g=t,this.a=!(!t||!this.f)},Jy.Sm=function(t){this.f=t,this.a=!(!this.g||!t)},Jy.op=function(t){this.i=t},Jy.gp=function(t){this.l=t};var cm={},pm={};r(_e,z),Jy=_e.prototype,Jy.Cb=function(t,e){var r=e?e:[NaN,NaN];return this.Ab(t[0],t[1],r,1/0),r},Jy.mb=function(t){return this.Hc(t[0],t[1])},Jy.Hc=te,Jy.G=function(t){this.u!=this.g&&(this.v=this.Yd(this.v),this.u=this.g);var e=this.v;return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):t=e,t},Jy.Jb=function(t){return this.Bd(t*t)},Jy.ob=function(t,e){return this.sc(ye(t,e)),this},r(Me,_e),Jy=Me.prototype,Jy.Hc=te,Jy.Yd=function(t){return Ot(this.B,0,this.B.length,this.a,t)},Jy.Rb=function(){return this.B.slice(0,this.a)},Jy.ia=function(){return this.B},Jy.Sb=function(){return this.B.slice(this.B.length-this.a)},Jy.Tb=function(){return this.ka},Jy.Bd=function(t){if(this.o!=this.g&&(g(this.i),this.j=0,this.o=this.g),0>t||0!==this.j&&t<=this.j)return this;var e=t.toString();if(this.i.hasOwnProperty(e))return this.i[e];var r=this.$c(t);return r.ia().length<this.B.length?this.i[e]=r:(this.j=t,this)},Jy.$c=function(){return this},Jy.pa=function(){return this.a},Jy.sc=function(t){this.B&&(t(this.B,this.B,this.a),this.s())},Jy.rotate=function(t,e){var r=this.ia();if(r){for(var n=r.length,o=this.pa(),i=r?r:[],a=Math.cos(t),s=Math.sin(t),l=e[0],u=e[1],c=0,p=0;p<n;p+=o){var f=r[p]-l,h=r[p+1]-u;for(i[c++]=l+f*a-h*s,i[c++]=u+f*s+h*a,f=p+2;f<p+o;++f)i[c++]=r[f]}r&&i.length!=c&&(i.length=c),this.s()}},Jy.scale=function(t,e,r){var n=e;void 0===n&&(n=t);var o=r;if(o||(o=Vt(this.G())),r=this.ia()){e=r.length;for(var i=this.pa(),a=r?r:[],s=o[0],o=o[1],l=0,u=0;u<e;u+=i){var c=r[u]-s,p=r[u+1]-o;for(a[l++]=s+t*c,a[l++]=o+n*p,c=u+2;c<u+i;++c)a[l++]=r[c]}r&&a.length!=l&&(a.length=l),this.s()}},Jy.translate=function(t,e){var r=this.ia();r&&(Te(r,r.length,this.pa(),t,e,r),this.s())},r(Ve,Me),Jy=Ve.prototype,Jy.clone=function(){var t=new Ve(null);return He(t,this.ka,this.B.slice()),t},Jy.Ab=function(t,e,r,n){return n<St(this.G(),t,e)?n:(this.c!=this.g&&(this.l=Math.sqrt(Le(this.B,0,this.B.length,this.a,0)),this.c=this.g),Oe(this.B,0,this.B.length,this.a,this.l,!0,t,e,r,n))},Jy.rm=function(){return Ce(this.B,0,this.B.length,this.a)},Jy.$=function(){return Fe(this.B,0,this.B.length,this.a)},Jy.$c=function(t){var e=[];return e.length=Be(this.B,0,this.B.length,this.a,t,e,0),t=new Ve(null),He(t,"XY",e),t},Jy.Y=function(){return"LinearRing"},Jy.qa=function(t,e){t?(ke(this,e,t,1),this.B||(this.B=[]),this.B.length=Ne(this.B,0,t,this.a),this.s()):He(this,"XY",null)},r(We,Me),Jy=We.prototype,Jy.clone=function(){var t=new We(null);return t.da(this.ka,this.B.slice()),t},Jy.Ab=function(t,e,r,n){var o=this.B;if(t=p(t,e,o[0],o[1]),t<n){for(n=this.a,e=0;e<n;++e)r[e]=o[e];return r.length=n,t}return n},Jy.$=function(){return this.B?this.B.slice():[]},Jy.Yd=function(t){return Dt(this.B,t)},Jy.Y=function(){return"Point"},Jy.Ta=function(t){return Ct(t,this.B[0],this.B[1])},Jy.qa=function(t,e){t?(ke(this,e,t,0),this.B||(this.B=[]),this.B.length=Re(this.B,t),this.s()):this.da("XY",null)},Jy.da=function(t,e){Ee(this,t,e),this.s()},r(rr,Me),Jy=rr.prototype,Jy.Fj=function(t){this.B?Y(this.B,t.ia()):this.B=t.ia().slice(),this.c.push(this.B.length),this.s()},Jy.clone=function(){var t=new rr(null);return t.da(this.ka,this.B.slice(),this.c.slice()),t},Jy.Ab=function(t,e,r,n){return n<St(this.G(),t,e)?n:(this.D!=this.g&&(this.L=Math.sqrt(De(this.B,0,this.c,this.a,0)),this.D=this.g),Ie(this.B,0,this.c,this.a,this.L,!0,t,e,r,n))},Jy.Hc=function(t,e){return Ye(this.Vb(),0,this.c,this.a,t,e)},Jy.um=function(){return Ae(this.Vb(),0,this.c,this.a)},Jy.$=function(t){var e;return void 0!==t?(e=this.Vb().slice(),tr(e,0,this.c,this.a,t)):e=this.B,ze(e,0,this.c,this.a)},Jy.Kb=function(){return this.c},Jy.ik=function(){return new We(nr(this))},Jy.nk=function(){return this.c.length},Jy.Qg=function(t){if(0>t||this.c.length<=t)return null;var e=new Ve(null);return He(e,this.ka,this.B.slice(0===t?0:this.c[t-1],this.c[t])),e},Jy.Zc=function(){var t,e,r=this.ka,n=this.B,o=this.c,i=[],a=0;for(t=0,e=o.length;t<e;++t){var s=o[t],l=new Ve(null);He(l,r,n.slice(a,s)),i.push(l),a=s}return i},Jy.Vb=function(){if(this.P!=this.g){var t=this.B;Qe(t,this.c,this.a)?this.l=t:(this.l=t.slice(),this.l.length=tr(this.l,0,this.c,this.a)),this.P=this.g}return this.l},Jy.$c=function(t){var e=[],r=[];return e.length=Ue(this.B,0,this.c,this.a,Math.sqrt(t),e,0,r),t=new rr(null),t.da("XY",e,r),t},Jy.Y=function(){return"Polygon"},Jy.Ta=function(t){return Je(this.Vb(),0,this.c,this.a,t)},Jy.qa=function(t,e){if(t){ke(this,e,t,2),this.B||(this.B=[]);var r=je(this.B,0,t,this.a,this.c);this.B.length=0===r.length?0:r[r.length-1],this.s()}else this.da("XY",null,this.c)},Jy.da=function(t,e,r){Ee(this,t,e),this.c=r,this.s()},r(lr,z),Jy=lr.prototype,Jy.animate=function(t){var e,r=Date.now(),n=this.fb().slice(),o=this.Oa(),i=this.Ra(),a=arguments.length;1<a&&"function"==typeof arguments[a-1]&&(e=arguments[a-1],--a);for(var s=[],l=0;l<a;++l){var u=arguments[l],c={start:r,complete:!1,anchor:u.anchor,duration:void 0!==u.duration?u.duration:1e3,easing:u.easing||bt};u.center&&(c.fg=n,c.hg=u.center,n=c.hg),void 0!==u.zoom?(c.Me=o,c.Ne=this.constrainResolution(this.a,u.zoom-this.l,0),o=c.Ne):u.resolution&&(c.Me=o,c.Ne=u.resolution,o=c.Ne),void 0!==u.rotation&&(c.gg=i,c.Hi=u.rotation,i=c.Hi),c.Vc=e,r+=c.duration,s.push(c)}this.f.push(s),vr(this,ym,1),this.Pe()},Jy.Pe=function(){if(void 0!==this.v&&(cancelAnimationFrame(this.v),this.v=void 0),0<fr(this)[ym]){for(var t=Date.now(),e=!1,r=this.f.length-1;0<=r;--r){for(var n=this.f[r],o=!0,i=0,a=n.length;i<a;++i){var s=n[i];if(!s.complete){if(e=t-s.start,e=0<s.duration?e/s.duration:1,1<=e?(s.complete=!0,e=1):o=!1,e=s.easing(e),s.fg){var l=s.fg[0],u=s.fg[1];this.set(fm,[l+e*(s.hg[0]-l),u+e*(s.hg[1]-u)])}if(s.Me&&(l=s.Me+e*(s.Ne-s.Me),s.anchor&&this.set(fm,pr(this,l,s.anchor)),this.set(hm,l)),void 0!==s.gg&&(e=s.gg+e*(s.Hi-s.gg),s.anchor&&this.set(fm,cr(this,e,s.anchor)),this.set(dm,e)),e=!0,!s.complete)break}}o&&(this.f[r]=null,vr(this,ym,-1),(n=n[0].Vc)&&n(!0))}this.f=this.f.filter(Boolean),e&&void 0===this.v&&(this.v=requestAnimationFrame(this.Pe))}},Jy.Zd=function(t){return this.u.center(t)},Jy.constrainResolution=function(t,e,r){return this.u.resolution(t,e||0,r||0)},Jy.constrainRotation=function(t,e){return this.u.rotation(t,e||0)},Jy.fb=function(){return this.get(fm)},Jy.Uc=function(t){var e=this.fb();s(e,1);var r=this.Oa();s(void 0!==r,2);var n=this.Ra();return s(void 0!==n,3),Ht(e,r,n,t)},Jy.Zl=function(){return this.a},Jy.$l=function(){return this.j},Jy.am=function(){return this.o},Jy.Oa=function(){return this.get(hm)},Jy.bm=function(){return this.c},Jy.Ra=function(){return this.get(dm)},Jy.W=function(){var t=this.fb(),e=this.o,r=this.Oa(),n=this.Ra();return{center:t.slice(),projection:void 0!==e?e:null,resolution:r,rotation:n}},Jy.Kk=function(){var t,e=this.Oa();if(void 0!==e&&e>=this.j&&e<=this.a){t=this.l||0;var r,n;if(this.c){if(n=q(this.c,e,1),t+=n,n==this.c.length-1)return t;r=this.c[n],n=r/this.c[n+1]}else r=this.a,n=this.A;t+=Math.log(r/e)/Math.log(n)}return t},Jy.lf=function(t,e,r){t instanceof Me||(s(Array.isArray(t),24),s(!Zt(t),25),t=ir(t)),r=r||{};var n,o=void 0!==r.padding?r.padding:[0,0,0,0],i=void 0===r.constrainResolution||r.constrainResolution,a=void 0!==r.nearest&&r.nearest;n=void 0!==r.minResolution?r.minResolution:void 0!==r.maxZoom?this.constrainResolution(this.a,r.maxZoom-this.l,0):0;var l=t.ia(),u=this.Ra(),c=Math.cos(-u),u=Math.sin(-u),p=1/0,f=1/0,h=-(1/0),d=-(1/0);t=t.pa();for(var y=0,m=l.length;y<m;y+=t)var v=l[y]*c-l[y+1]*u,g=l[y]*u+l[y+1]*c,p=Math.min(p,v),f=Math.min(f,g),h=Math.max(h,v),d=Math.max(d,g);e=hr([p,f,h,d],[e[0]-o[1]-o[3],e[1]-o[0]-o[2]]),e=isNaN(e)?n:Math.max(e,n),i&&(n=this.constrainResolution(e,0,0),!a&&n<e&&(n=this.constrainResolution(n,-1,0)),e=n),u=-u,a=(p+h)/2+(o[1]-o[3])/2*e,o=(f+d)/2+(o[0]-o[2])/2*e,c=[a*c-o*u,o*c+a*u],void 0!==r.duration?this.animate({resolution:e,center:c,duration:r.duration,easing:r.easing}):(this.Oc(e),this.Mb(c))},Jy.Kj=function(t,e,r){var n=this.Ra(),o=Math.cos(-n),n=Math.sin(-n),i=t[0]*o-t[1]*n;t=t[1]*o+t[0]*n;var a=this.Oa(),i=i+(e[0]/2-r[0])*a;t+=(r[1]-e[1]/2)*a,n=-n,this.Mb([i*o-t*n,t*o+i*n])},Jy.rotate=function(t,e){if(void 0!==e){var r=cr(this,t,e);this.Mb(r)}this.pe(t)},Jy.Mb=function(t){this.set(fm,t),0<fr(this)[ym]&&ur(this)},Jy.Oc=function(t){this.set(hm,t),0<fr(this)[ym]&&ur(this)},Jy.pe=function(t){this.set(dm,t),0<fr(this)[ym]&&ur(this)},Jy.pp=function(t){t=this.constrainResolution(this.a,t-this.l,0),this.Oc(t)};var fm="center",hm="resolution",dm="rotation",ym=0,mm=[0,0,0];Jy=kr.prototype,Jy.Hg=function(t,e,r){t=Lr(this,t,e);for(var n=t.ea,o=t.ca;n<=o;++n)for(var i=t.ga,a=t.ja;i<=a;++i)r([e,n,i])},Jy.G=function(){return this.v},Jy.Rg=function(){return this.maxZoom},Jy.Sg=function(){return this.minZoom},Jy.Kc=function(t){return this.g?this.g:this.f[t]},Jy.Ha=function(t){return this.b[t]},Jy.Wh=function(){return this.b},Jy.Na=function(t,e){var r=this.Kc(t[0]),n=this.Ha(t[0]),o=Mr(this.Za(t[0]),this.j),i=r[0]+t[1]*o[0]*n,r=r[1]+t[2]*o[1]*n;return Lt(i,r,i+o[0]*n,r+o[1]*n,e)},Jy.fe=function(t,e,r){return Or(this,t[0],t[1],e,!1,r)},Jy.wf=function(t,e,r){return e=this.Ha(e),Or(this,t[0],t[1],e,!1,r)},Jy.Za=function(t){return this.i?this.i:this.c[t]},Jy.Ec=function(t,e){return l(q(this.b,t,e||0),this.minZoom,this.maxZoom)},zr.prototype.g=function(){return this.b},r(Br,z),Jy=Br.prototype,Jy.clear=function(){for(;0<this.Ub();)this.pop()},Jy.Bf=function(t){var e,r;for(e=0,r=t.length;e<r;++e)this.push(t[e]);return this},Jy.forEach=function(t,e){this.a.forEach(t,e)},Jy.Il=function(){return this.a},Jy.item=function(t){return this.a[t]},Jy.Ub=function(){return this.get(vm)},Jy.ke=function(t,e){this.a.splice(t,0,e),Ur(this),this.b(new Vr(gm,e))},Jy.pop=function(){return this.Zf(this.Ub()-1)},Jy.push=function(t){var e=this.Ub();return this.ke(e,t),this.Ub()},Jy.remove=function(t){var e,r,n=this.a;for(e=0,r=n.length;e<r;++e)if(n[e]===t)return this.Zf(e)},Jy.Zf=function(t){var e=this.a[t];return this.a.splice(t,1),Ur(this),this.b(new Vr(bm,e)),e},Jy.ep=function(t,e){var r=this.Ub();if(t<r)r=this.a[t],this.a[t]=e,this.b(new Vr(bm,r)),this.b(new Vr(gm,e));else{for(;r<t;++r)this.ke(r,void 0);this.ke(t,e)}};var vm="length",gm="add",bm="remove";r(Vr,O);var xm=/^#(?:[0-9a-f]{3}){1,2}$/i,_m=/^([a-z]*)$/i,wm=function(){var t={},e=0;return function(r){var n;if(t.hasOwnProperty(r))n=t[r];else{if(1024<=e){n=0;for(var o in t)0===(3&n++)&&(delete t[o],--e)}n=r;var i;if(_m.exec(n)&&(o=document.createElement("div"),o.style.color=n,document.body.appendChild(o),n=getComputedStyle(o).color,document.body.removeChild(o)),xm.exec(n)){i=n.length-1,s(3==i||6==i,54);var a=3==i?1:2;i=parseInt(n.substr(1+0*a,a),16),o=parseInt(n.substr(1+1*a,a),16),n=parseInt(n.substr(1+2*a,a),16),1==a&&(i=(i<<4)+i,o=(o<<4)+o,n=(n<<4)+n),i=[i,o,n,1]}else 0==n.indexOf("rgba(")?(n=n.slice(5,-1).split(",").map(Number),i=qr(n)):0==n.indexOf("rgb(")?(n=n.slice(4,-1).split(",").map(Number),n.push(1),i=qr(n)):s(!1,14);n=i,t[r]=n,++e}return n}}();r(Zr,O),r(Jr,z),Jr.prototype.oa=function(){Kr(this.element),z.prototype.oa.call(this)},Jr.prototype.i=function(){return this.a},Jr.prototype.setMap=function(t){this.a&&Kr(this.element);for(var e=0,r=this.v.length;e<r;++e)A(this.v[e]);this.v.length=0,(this.a=t)&&((this.P?this.P:t.u).appendChild(this.element),this.render!==o&&this.v.push(E(t,"postrender",this.render,this)),t.render())},Jr.prototype.c=function(t){this.P="string"==typeof t?document.getElementById(t):t},r($r,Jr),Jy=$r.prototype,Jy.em=function(t){t.preventDefault(),tn(this)},Jy.dm=function(){return this.l},Jy.gm=function(t){this.l!==t&&(this.l=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.f&&tn(this))},Jy.fm=function(t){this.l&&this.f!==t&&tn(this)},Jy.cm=function(){return this.f},r(en,Jr),en.prototype.C=function(t){t.preventDefault(),rn()&&(t=this.a)&&(nn()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(t=this.j?"string"==typeof this.j?document.getElementById(this.j):this.j:t.Cc(),this.A?t.mozRequestFullScreenWithKeys?t.mozRequestFullScreenWithKeys():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):on(t):on(t)))},en.prototype.u=function(){var t=this.element.firstElementChild,e=this.a;nn()?(t.className=this.f+"-true",Xr(this.o,this.l)):(t.className=this.f+"-false",Xr(this.l,this.o)),e&&e.ld()},en.prototype.setMap=function(t){Jr.prototype.setMap.call(this,t),t&&this.v.push(E(document,Tm(),this.u,this))};var Tm=function(){var t;return function(){if(!t){var e=document.body;e.webkitRequestFullscreen?t="webkitfullscreenchange":e.mozRequestFullScreen?t="mozfullscreenchange":e.msRequestFullscreen?t="MSFullscreenChange":e.requestFullscreen&&(t="fullscreenchange")}return t}}();r(an,Jr),an.prototype.A=function(t){t.preventDefault(),void 0!==this.l?this.l():(t=this.a.aa())&&void 0!==t.Ra()&&(0<this.o?t.animate({rotation:0,duration:this.o,easing:gt}):t.pe(0))},r(ln,Jr),ln.prototype.j=function(t,e){e.preventDefault();var r=this.a.aa();if(r){var n=r.Oa();n&&(n=r.constrainResolution(n,t),0<this.f?(0<fr(r)[ym]&&ur(r),r.animate({resolution:n,duration:this.f,easing:gt})):r.Oc(n))}},r(cn,Jr),Jy=cn.prototype,Jy.hm=function(){this.j=null},Jy.Lg=function(){return this.get(Sm)},Jy.rh=function(){return this.get(Mm)},Jy.$k=function(t){this.l=this.a.ce(t),fn(this,this.l)},Jy.al=function(){fn(this,null),this.l=null},Jy.setMap=function(t){Jr.prototype.setMap.call(this,t),t&&(t=t.f,this.v.push(E(t,"mousemove",this.$k,this),E(t,"mouseout",this.al,this)))},Jy.oi=function(t){this.set(Sm,t)},Jy.sh=function(t){this.set(Mm,t)};var Mm="projection",Sm="coordinateFormat";r(hn,Zr),hn.prototype.preventDefault=function(){Zr.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},hn.prototype.stopPropagation=function(){Zr.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()};var Em={Np:"singleclick",Cp:"click",Dp:"dblclick",Gp:"pointerdrag",Jp:"pointermove",Fp:"pointerdown",Mp:"pointerup",Lp:"pointerover",Kp:"pointerout",Hp:"pointerenter",Ip:"pointerleave",Ep:"pointercancel"};r(dn,hn);var km,Cm,Am=["experimental-webgl","webgl","webkit-3d","moz-webgl"],Pm="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",Lm=-1!==Pm.indexOf("firefox"),Dm=-1!==Pm.indexOf("safari")&&-1==Pm.indexOf("chrom"),Om=-1!==Pm.indexOf("webkit")&&-1==Pm.indexOf("edge"),Im=-1!==Pm.indexOf("macintosh"),Rm=window.devicePixelRatio||1,Nm=!1,jm=function(){if(!("HTMLCanvasElement"in window))return!1;try{var t=document.createElement("CANVAS").getContext("2d");return!!t&&(void 0!==t.setLineDash&&(Nm=!0),!0)}catch(t){return!1}}(),Fm="DeviceOrientationEvent"in window,zm="geolocation"in navigator,Bm="ontouchstart"in window,Um="PointerEvent"in window,Vm=!!navigator.msPointerEnabled,Hm=!1,Wm=[];if("WebGLRenderingContext"in window)try{var qm=yn(document.createElement("CANVAS"),{failIfMajorPerformanceCaveat:!0});qm&&(Hm=!0,Cm=qm.getParameter(qm.MAX_TEXTURE_SIZE),Wm=qm.getSupportedExtensions())}catch(t){}km=Hm,Qy=Wm,$y=Cm,r(vn,mn),Jy=vn.prototype,Jy.tl=function(t){if(!gn(this,t)){if(1..toString()in this.a){var e=bn(t);Fn(this.b,"pointercancel",e,t),delete this.a[1..toString()]}e=bn(t),this.a[1..toString()]=t,Fn(this.b,"pointerdown",e,t)}},Jy.ul=function(t){if(!gn(this,t)){var e=bn(t);Fn(this.b,"pointermove",e,t)}},Jy.xl=function(t){if(!gn(this,t)){var e=this.a[1..toString()];e&&e.button===t.button&&(e=bn(t),Fn(this.b,"pointerup",e,t),delete this.a[1..toString()])}},Jy.wl=function(t){if(!gn(this,t)){var e=bn(t);jn(this.b,e,t)}},Jy.vl=function(t){if(!gn(this,t)){var e=bn(t);Nn(this.b,e,t)}},r(xn,mn),Jy=xn.prototype,Jy.Cl=function(t){this.a[t.pointerId.toString()]=t;var e=_n(this,t);Fn(this.b,"pointerdown",e,t)},Jy.Dl=function(t){var e=_n(this,t);Fn(this.b,"pointermove",e,t)},Jy.Gl=function(t){var e=_n(this,t);Fn(this.b,"pointerup",e,t),delete this.a[t.pointerId.toString()]},Jy.El=function(t){var e=_n(this,t);Nn(this.b,e,t)},Jy.Fl=function(t){var e=_n(this,t);jn(this.b,e,t)},Jy.Bl=function(t){var e=_n(this,t);Fn(this.b,"pointercancel",e,t),delete this.a[t.pointerId.toString()]},Jy.Al=function(t){this.b.b(new Tn("lostpointercapture",t,t))},Jy.zl=function(t){this.b.b(new Tn("gotpointercapture",t,t))},r(wn,mn),Jy=wn.prototype,Jy.po=function(t){zn(this.b,t)},Jy.qo=function(t){zn(this.b,t)},Jy.to=function(t){zn(this.b,t)},Jy.ro=function(t){zn(this.b,t)},Jy.so=function(t){zn(this.b,t)},Jy.oo=function(t){zn(this.b,t)},Jy.sl=function(t){zn(this.b,t)},Jy.Lk=function(t){zn(this.b,t)},r(Tn,O);var Gm=!1;try{Gm=1===new MouseEvent("click",{buttons:1}).buttons}catch(t){}r(En,mn),Jy=En.prototype,Jy.mi=function(){this.i=0,this.f=void 0},Jy.up=function(t){var e=t.touches,r=Object.keys(this.a),n=r.length;if(n>=e.length){var o,i,a,s=[];for(o=0;o<n;++o){i=r[o],a=this.a[i];var l;if(!(l=1==i))t:{l=e.length;for(var u,c=0;c<l;c++)if(u=e[c],u.identifier===i-2){l=!0;break t}l=!1}l||s.push(a.out)}for(o=0;o<s.length;++o)this.ef(t,s[o])}e=t.changedTouches[0],r=Object.keys(this.a).length,(0===r||1===r&&1..toString()in this.a)&&(this.g=e.identifier,void 0!==this.f&&clearTimeout(this.f)),An(this,t),this.i++,Cn(this,t,this.ko)},Jy.ko=function(t,e){this.a[e.pointerId]={target:e.target,out:e,Xh:e.target};var r=this.b;e.bubbles=!0,Fn(r,"pointerover",e,t),r=this.b,e.bubbles=!1,Fn(r,"pointerenter",e,t),Fn(this.b,"pointerdown",e,t)},Jy.tp=function(t){t.preventDefault(),Cn(this,t,this.yl)},Jy.yl=function(t,e){var r=this.a[e.pointerId];if(r){var n=r.out,o=r.Xh;Fn(this.b,"pointermove",e,t),n&&o!==e.target&&(n.relatedTarget=e.target,e.relatedTarget=o,n.target=o,e.target?(Nn(this.b,n,t),jn(this.b,e,t)):(e.target=o,e.relatedTarget=null,this.ef(t,e))),r.out=e,r.Xh=e.target}},Jy.sp=function(t){An(this,t),Cn(this,t,this.vp)},Jy.vp=function(t,e){Fn(this.b,"pointerup",e,t),this.b.out(e,t),Rn(this.b,e,t),delete this.a[e.pointerId],e.isPrimary&&(this.g=void 0,this.f=setTimeout(this.mi.bind(this),200))},Jy.rp=function(t){Cn(this,t,this.ef)},Jy.ef=function(t,e){Fn(this.b,"pointercancel",e,t),this.b.out(e,t),Rn(this.b,e,t),delete this.a[e.pointerId],e.isPrimary&&(this.g=void 0,this.f=setTimeout(this.mi.bind(this),200))},r(Pn,R),Pn.prototype.f=function(t){var e=this.c[t.type];e&&e(t)},Pn.prototype.out=function(t,e){t.bubbles=!0,Fn(this,"pointerout",t,e)},Pn.prototype.oa=function(){for(var t,e=this.a.length,r=0;r<e;r++)t=this.a[r],On(this,Object.keys(t.c));R.prototype.oa.call(this)};var Ym=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];r(Bn,R),Jy=Bn.prototype,Jy.$g=function(t){Vn(this,t);var e=new dn("pointerup",this.f,t);this.b(e),!this.l&&0===t.button&&Un(this,this.g),0===this.u&&(this.c.forEach(A),this.c.length=0,this.l=!1,this.g=null,D(this.a),this.a=null)},Jy.cl=function(t){Vn(this,t);var e=new dn("pointerdown",this.f,t);this.b(e),this.g=t,0===this.c.length&&(this.a=new Pn(document),this.c.push(E(this.a,"pointermove",this.Vl,this),E(this.a,"pointerup",this.$g,this),E(this.i,"pointercancel",this.$g,this)))},Jy.Vl=function(t){if(t.clientX!=this.g.clientX||t.clientY!=this.g.clientY){this.l=!0;var e=new dn("pointerdrag",this.f,t,this.l);this.b(e)}t.preventDefault()},Jy.So=function(t){this.b(new dn(t.type,this.f,t,!(!this.g||t.clientX==this.g.clientX&&t.clientY==this.g.clientY)))},Jy.oa=function(){this.v&&(A(this.v),this.v=null),this.o&&(A(this.o),this.o=null),this.c.forEach(A),this.c.length=0,this.a&&(D(this.a),this.a=null),this.i&&(D(this.i),this.i=null),R.prototype.oa.call(this)},r(Hn,R),Hn.prototype.s=function(){this.b("change")},Hn.prototype.bb=function(){return this.key+"/"+this.Ca},Hn.prototype.c=function(){return this.Ca},Hn.prototype.W=function(){return this.state};var Xm=2;qn.prototype.clear=function(){this.b.length=0,this.g.length=0,g(this.a)},qn.prototype.c=function(t){s(!(this.f(t)in this.a),31);var e=this.o(t);return 1/0!=e&&(this.b.push(t),this.g.push(e),this.a[this.f(t)]=!0,Xn(this,0,this.b.length-1),!0)},r(Zn,qn),Zn.prototype.c=function(t){var e=qn.prototype.c.call(this,t);return e&&E(t[0],"change",this.l,this),e},Zn.prototype.l=function(t){t=t.target;var e=t.W();e!==Xm&&3!==e&&4!==e&&5!==e||(C(t,"change",this.l,this),t=t.bb(),t in this.i&&(delete this.i[t],--this.j),this.v())},r(Qn,z),Qn.prototype.f=function(){return this.get(Km)},Qn.prototype.c=function(){return this.v},Qn.prototype.Ea=function(t){this.set(Km,t)},Qn.prototype.setMap=function(t){this.v=t};var Km="active";r(no,Qn),r(yo,Qn),yo.prototype.Qc=function(t){return t},r(go,yo),go.prototype.Qc=te,r(wo,yo),wo.prototype.Qc=te,r(Eo,L),Eo.prototype.oa=function(){this.setMap(null)},Eo.prototype.setMap=function(t){if(this.b){this.b.A.removeChild(this.a);var e=this.a.style;e.left=e.top=e.width=e.height="inherit"}(this.b=t)&&this.b.A.appendChild(this.a)},Eo.prototype.V=function(){return this.f},r(Ao,yo),Ao.prototype.V=function(){return this.a.V()},Ao.prototype.j=o;var Zm="boxstart",Jm="boxdrag",$m="boxend";r(Io,O),r(Ro,Ao),Ro.prototype.j=function(){var t=this.v,e=t.aa(),r=t.nb(),n=this.V().G();if(this.D){var o,i,a=e.Uc(r),n=[t.Ga(Bt(n)),t.Ga(Yt(n))],t=Lt(1/0,1/0,-(1/0),-(1/0),void 0);for(o=0,i=n.length;o<i;++o)Nt(t,n[o]);Jt(a,1/hr(t,r)),n=a}r=e.constrainResolution(hr(n,r)),e.animate({resolution:r,center:Vt(n),duration:this.C,easing:gt})},r(No,Qn),r(Fo,Qn),r(Bo,Qn),Bo.prototype.C=function(){this.o=void 0,vr(this.v.aa(),1,-1)},Bo.prototype.D=function(t){t=t.aa(),0<fr(t)[ym]&&ur(t),eo(t,-l(this.j,-1,1),this.a,this.L),this.l=void 0,this.j=0,this.a=null,this.u=this.i=void 0},Bo.prototype.P=function(t){this.A=t,t||(this.a=null)};var Qm="trackpad",tv="wheel";r(Vo,yo),Vo.prototype.Qc=te,r(Go,yo),Go.prototype.Qc=te,r(Jo,z),Jy=Jo.prototype,Jy.G=function(){return this.get(nv)},Jy.Wb=function(){return this.get(iv)},Jy.Xb=function(){return this.get(av)},Jy.Yb=function(){return this.get(ev)},Jy.Fb=function(){return this.get(rv)},Jy.Zb=function(){return this.get(ov)},Jy.kc=function(t){this.set(nv,t)},Jy.pc=function(t){this.set(iv,t)},Jy.qc=function(t){this.set(av,t)},Jy.lc=function(t){this.set(ev,t)},Jy.mc=function(t){this.set(rv,t)},Jy.nc=function(t){this.set(ov,t)};var ev="opacity",rv="visible",nv="extent",ov="zIndex",iv="maxResolution",av="minResolution";r(Qo,Jo),Jy=Qo.prototype,Jy.ie=function(){this.Fb()&&this.s()},Jy.Wk=function(){this.c.forEach(A),this.c.length=0;var t=this.cd();this.c.push(E(t,gm,this.Vk,this),E(t,bm,this.Xk,this));for(var e in this.f)this.f[e].forEach(A);g(this.f);var r,n,t=t.a;for(e=0,r=t.length;e<r;e++)n=t[e],this.f[i(n).toString()]=[E(n,am,this.ie,this),E(n,"change",this.ie,this)];this.s()},Jy.Vk=function(t){t=t.element;var e=i(t).toString();this.f[e]=[E(t,am,this.ie,this),E(t,"change",this.ie,this)],this.s()},Jy.Xk=function(t){t=i(t.element).toString(),this.f[t].forEach(A),delete this.f[t],this.s()},Jy.cd=function(){return this.get(sv)},Jy.yh=function(t){this.set(sv,t)},Jy.sf=function(t){var e=void 0!==t?t:[],r=e.length;this.cd().forEach(function(t){t.sf(e)}),t=$o(this);var n,o;for(n=e.length;r<n;r++)o=e[r],o.opacity*=t.opacity,o.visible=o.visible&&t.visible,o.maxResolution=Math.min(o.maxResolution,t.maxResolution),o.minResolution=Math.max(o.minResolution,t.minResolution),void 0!==t.extent&&(o.extent=void 0!==o.extent?qt(o.extent,t.extent):t.extent);return e},Jy.uf=function(){return"ready"};var sv="layers";r(ti,re);var lv=6378137*Math.PI,uv=[-lv,-lv,lv,lv],cv=[-180,-85,180,85],pv="EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 urn:ogc:def:crs:EPSG::3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" ").map(function(t){return new ti(t)}),fv=new ee(6378137);r(ni,re);var hv=[-180,-90,180,90],dv=Math.PI*fv.radius/180,yv=[new ni("CRS:84"),new ni("EPSG:4326","neu"),new ni("urn:ogc:def:crs:EPSG::4326","neu"),new ni("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new ni("urn:ogc:def:crs:OGC:1.3:CRS84"),new ni("urn:ogc:def:crs:OGC:2:84"),new ni("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ni("urn:x-ogc:def:crs:EPSG:4326","neu")];r(ii,O),r(ai,Jo),Jy=ai.prototype,Jy.sf=function(t){return t=t?t:[],t.push($o(this)),t},Jy.la=function(){return this.get("source")||null},Jy.uf=function(){var t=this.la();return t?t.W():"undefined"},Jy.Rm=function(){this.s()},Jy.il=function(){this.A&&(A(this.A),this.A=null);var t=this.la();t&&(this.A=E(t,"change",this.Rm,this)),this.s()},Jy.setMap=function(t){this.o&&(A(this.o),this.o=null),t||this.s(),this.v&&(A(this.v),this.v=null),t&&(this.o=E(t,"precompose",function(t){var e=$o(this);e.me=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[i(this)]=e},this),this.v=E(this,"change",t.render,t),this.s())},Jy.Pc=function(t){this.set("source",t)},li.prototype.clear=function(){this.b={},this.a=0},li.prototype.get=function(t,e,r){return t=e+":"+t+":"+(r?Wr(r):"null"),t in this.b?this.b[t]:null},li.prototype.set=function(t,e,r,n){this.b[e+":"+t+":"+(r?Wr(r):"null")]=n,++this.a};var mv=new li,vv=Array(6);r(xi,L),Jy=xi.prototype,Jy.oa=function(){for(var t in this.f)D(this.f[t])},Jy.Ba=function(t,e,r,n,o,a,s){function l(t,r){var a=i(t).toString(),s=e.layerStates[i(r)].me;if(!(a in e.skippedFeatureUids)||s)return n.call(o,t,s?r:null)}var u,c=e.viewState,p=c.resolution,f=c.projection,c=t;if(f.a){var f=f.G(),h=Xt(f),d=t[0];(d<f[0]||d>f[2])&&(c=[d+h*Math.ceil((f[0]-d)/h),t[1]])}for(f=e.layerStatesArray,h=f.length-1;0<=h;--h){var y=f[h],d=y.layer;if(si(y,p)&&a.call(s,d)&&(y=Ti(this,d),d.la()&&(u=y.Ba(d.la().D?c:t,e,r,l,o)),u))return u}},Jy.Ch=function(t,e,r,n,o){return void 0!==this.Ba(t,e,r,Qt,this,n,o)},Jy.Uk=function(){this.l.render()},Jy.ag=o,Jy.Yo=function(t,e){for(var r in this.f)if(!(e&&r in e.layerStates)){var n=r,o=this.f[n];delete this.f[n],A(this.v[n]),delete this.v[n],D(o)}},r(Ei,ai),r(ki,ai),ki.prototype.f=function(){return this.get(gv)},ki.prototype.l=function(t){this.set(gv,t)},ki.prototype.c=function(){return this.get(bv)},ki.prototype.C=function(t){this.set(bv,t)};var gv="preload",bv="useInterimTilesOnError";r(Ci,R),
Ci.prototype.s=function(){this.b("change")},Ci.prototype.G=function(){return this.extent},Ci.prototype.W=function(){return this.state},r(Ai,Ci),Ai.prototype.a=function(t){if(void 0!==t){var e;return t=i(t),t in this.i?this.i[t]:(e=x(this.i)?this.g:this.g.cloneNode(!1),this.i[t]=e)}return this.g},Ai.prototype.v=function(){this.state=Tv,this.c.forEach(A),this.c=null,this.s()},Ai.prototype.H=function(){void 0===this.resolution&&(this.resolution=Wt(this.extent)/this.g.height),this.state=wv,this.c.forEach(A),this.c=null,this.s()},Ai.prototype.load=function(){this.state!=xv&&this.state!=Tv||(this.state=_v,this.s(),this.c=[k(this.g,"error",this.v,this),k(this.g,"load",this.H,this)],this.l(this,this.o))};var xv=0,_v=1,wv=2,Tv=3,Mv=[0,0,0,1],Sv=[],Ev=[0,0,0,1];Jy=Li.prototype,Jy.ye=function(){return this.l},Jy.ze=function(){return this.H},Jy.Ae=function(){return this.o},Jy.Be=function(){return this.i},Jy.ee=function(){return this.u},Jy.dd=function(t){this.l=t},Jy.Ce=function(t){this.o=t},Jy.ed=function(t){this.i=t},r(Di,Li),Jy=Di.prototype,Jy.clone=function(){var t=new Di({fill:this.f?this.f.clone():void 0,points:this.c!==this.a?this.b/2:this.b,radius:this.a,radius2:this.c,angle:this.v,snapToPixel:this.u,stroke:this.g?this.g.clone():void 0,rotation:this.o,rotateWithView:this.H,atlasManager:this.D});return t.dd(this.l),t.ed(this.i),t},Jy.Ac=function(){return this.ra},Jy.Nh=function(){return this.v},Jy.Oh=function(){return this.f},Jy.Lf=function(){return this.C},Jy.Ic=function(){return this.A},Jy.de=function(){return this.va},Jy.xe=function(){return wv},Jy.Jc=function(){return this.P},Jy.Ph=function(){return this.b},Jy.Qh=function(){return this.a},Jy.Vg=function(){return this.c},Jy.ac=function(){return this.U},Jy.Rh=function(){return this.g},Jy.eh=o,Jy.load=o,Jy.Ii=o,Jy.Eg=function(t,e,r,n){var o;if(e.setTransform(1,0,0,1,0,0),e.translate(r,n),e.beginPath(),1/0===this.b)e.arc(t.size/2,t.size/2,this.a,0,2*Math.PI,!0);else for(this.c!==this.a&&(this.b*=2),r=0;r<=this.b;r++)n=2*r*Math.PI/this.b-Math.PI/2+this.v,o=0===r%2?this.a:this.c,e.lineTo(t.size/2+o*Math.cos(n),t.size/2+o*Math.sin(n));this.f&&(e.fillStyle=Gr(this.f.b),e.fill()),this.g&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.Fi,t.lineDash&&e.setLineDash(t.lineDash),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},Jy.Dg=function(t,e,r,n){if(e.setTransform(1,0,0,1,0,0),e.translate(r,n),e.beginPath(),1/0===this.b)e.arc(t.size/2,t.size/2,this.a,0,2*Math.PI,!0);else{this.c!==this.a&&(this.b*=2);var o;for(r=0;r<=this.b;r++)o=2*r*Math.PI/this.b-Math.PI/2+this.v,n=0===r%2?this.a:this.c,e.lineTo(t.size/2+n*Math.cos(o),t.size/2+n*Math.sin(o))}e.fillStyle=Mv,e.fill(),this.g&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.Fi,t.lineDash&&e.setLineDash(t.lineDash),e.stroke()),e.closePath()},r(Ii,Di),Ii.prototype.clone=function(){var t=new Ii({fill:this.f?this.f.clone():void 0,stroke:this.g?this.g.clone():void 0,radius:this.a,snapToPixel:this.u,atlasManager:this.D});return t.dd(this.l),t.ed(this.i),t},Ii.prototype.Qa=function(t){this.a=t,Oi(this,this.D)},Ri.prototype.clone=function(){var t=this.b;return new Ri({color:t&&t.slice?t.slice():t||void 0})},Ri.prototype.g=function(){return this.b},Ri.prototype.f=function(t){this.b=t,this.a=void 0},Jy=Ni.prototype,Jy.clone=function(){var t=this.b;return new Ni({color:t&&t.slice?t.slice():t||void 0,lineCap:this.c,lineDash:this.g?this.g.slice():void 0,lineJoin:this.i,miterLimit:this.j,width:this.f})},Jy.In=function(){return this.b},Jy.kk=function(){return this.c},Jy.Jn=function(){return this.g},Jy.lk=function(){return this.i},Jy.rk=function(){return this.j},Jy.Kn=function(){return this.f},Jy.Ln=function(t){this.b=t,this.a=void 0},Jy.ip=function(t){this.c=t,this.a=void 0},Jy.setLineDash=function(t){this.g=t,this.a=void 0},Jy.jp=function(t){this.i=t,this.a=void 0},Jy.kp=function(t){this.j=t,this.a=void 0},Jy.np=function(t){this.f=t,this.a=void 0},Jy=ji.prototype,Jy.clone=function(){var t=this.V();return t&&t.clone&&(t=t.clone()),new ji({geometry:t,fill:this.f?this.f.clone():void 0,image:this.a?this.a.clone():void 0,stroke:this.g?this.g.clone():void 0,text:this.Ka()?this.Ka().clone():void 0,zIndex:this.b})},Jy.V=function(){return this.i},Jy.fk=function(){return this.c},Jy.Mn=function(){return this.f},Jy.Qn=function(t){this.f=t},Jy.Nn=function(){return this.a},Jy.Rn=function(t){this.a=t},Jy.On=function(){return this.g},Jy.Sn=function(t){this.g=t},Jy.Ka=function(){return this.j},Jy.Tn=function(t){this.j=t},Jy.Pn=function(){return this.b},Jy.Pa=function(t){"function"==typeof t?this.c=t:"string"==typeof t?this.c=function(e){return e.get(t)}:t?t&&(this.c=function(){return t}):this.c=Ui,this.i=t},Jy.Un=function(t){this.b=t};var kv=null;r(Vi,ai),Vi.prototype.D=function(){return this.C},Vi.prototype.L=function(){return this.j},Vi.prototype.l=function(t){this.C=void 0!==t?t:zi,this.j=null===t?void 0:Fi(this.C),this.s()},r(Hi,Vi),Hi.prototype.f=function(){return this.get(Cv)},Hi.prototype.c=function(){return this.get(Av)},Hi.prototype.P=function(t){this.set(gv,t)},Hi.prototype.U=function(t){this.set(bv,t)};var Cv="preload",Av="useInterimTilesOnError",Pv="image",Lv="hybrid",Dv="vector";r(qi,Wi),Jy=qi.prototype,Jy.hc=function(t){if(Kt(this.c,t.G())){if(this.a||this.b){this.a&&Zi(this,this.a),this.b&&Ji(this,this.b);var e;e=this.C;var r=this.u,n=t.ia();e=n?we(n,0,n.length,t.pa(),e,r):null,r=e[2]-e[0],n=e[3]-e[1],r=Math.sqrt(r*r+n*n),n=this.f,n.beginPath(),n.arc(e[0],e[1],r,0,2*Math.PI),this.a&&n.fill(),this.b&&n.stroke()}""!==this.g&&Yi(this,t.Fd(),2,2)}},Jy.Gd=function(t){this.Ma(t.f,t.g),this.dc(t.a),this.$b(t.Ka())},Jy.tc=function(t){switch(t.Y()){case"Point":this.xc(t);break;case"LineString":this.Pb(t);break;case"Polygon":this.yc(t);break;case"MultiPoint":this.vc(t);break;case"MultiLineString":this.uc(t);break;case"MultiPolygon":this.wc(t);break;case"GeometryCollection":this.kf(t);break;case"Circle":this.hc(t)}},Jy.jf=function(t,e){var r=(0,e.c)(t);r&&Kt(this.c,r.G())&&(this.Gd(e),this.tc(r))},Jy.kf=function(t){t=t.f;var e,r;for(e=0,r=t.length;e<r;++e)this.tc(t[e])},Jy.xc=function(t){var e=t.ia();t=t.pa(),this.i&&Gi(this,e,e.length),""!==this.g&&Yi(this,e,e.length,t)},Jy.vc=function(t){var e=t.ia();t=t.pa(),this.i&&Gi(this,e,e.length),""!==this.g&&Yi(this,e,e.length,t)},Jy.Pb=function(t){if(Kt(this.c,t.G())){if(this.b){Ji(this,this.b);var e=this.f,r=t.ia();e.beginPath(),Xi(this,r,0,r.length,t.pa(),!1),e.stroke()}""!==this.g&&(t=Qu(t),Yi(this,t,2,2))}},Jy.uc=function(t){var e=t.G();if(Kt(this.c,e)){if(this.b){Ji(this,this.b);var e=this.f,r=t.ia(),n=0,o=t.Kb(),i=t.pa();e.beginPath();var a,s;for(a=0,s=o.length;a<s;++a)n=Xi(this,r,n,o[a],i,!1);e.stroke()}""!==this.g&&(t=ec(t),Yi(this,t,t.length,2))}},Jy.yc=function(t){if(Kt(this.c,t.G())){if(this.b||this.a){this.a&&Zi(this,this.a),this.b&&Ji(this,this.b);var e=this.f;e.beginPath(),Ki(this,t.Vb(),0,t.Kb(),t.pa()),this.a&&e.fill(),this.b&&e.stroke()}""!==this.g&&(t=nr(t),Yi(this,t,2,2))}},Jy.wc=function(t){if(Kt(this.c,t.G())){if(this.b||this.a){this.a&&Zi(this,this.a),this.b&&Ji(this,this.b);var e,r,n=this.f,o=ac(t),i=0,a=t.c,s=t.pa();for(n.beginPath(),e=0,r=a.length;e<r;++e)i=Ki(this,o,i,a[e],s);this.a&&n.fill(),this.b&&n.stroke()}""!==this.g&&(t=ic(t),Yi(this,t,t.length,2))}},Jy.Ma=function(t,e){if(t){var r=t.b;this.a={fillStyle:Gr(r?r:Mv)}}else this.a=null;if(e){var r=e.b,n=e.c,o=e.g,i=e.i,a=e.f,s=e.j;this.b={lineCap:void 0!==n?n:"round",lineDash:o?o:Sv,lineJoin:void 0!==i?i:"round",lineWidth:this.A*(void 0!==a?a:1),miterLimit:void 0!==s?s:10,strokeStyle:Gr(r?r:Ev)}}else this.b=null},Jy.dc=function(t){if(t){var e=t.Ac(),r=t.Ic(1),n=t.Jc(),o=t.ac();this.D=e[0],this.L=e[1],this.ra=o[1],this.i=r,this.H=t.l,this.eb=n[0],this.fa=n[1],this.sa=t.H,this.zb=t.o,this.j=t.i,this.na=t.u,this.va=o[0]}else this.i=null},Jy.$b=function(t){if(t){var e=t.b;e?(e=e.b,this.l={fillStyle:Gr(e?e:Mv)}):this.l=null;var r=t.f;if(r){var e=r.b,n=r.c,o=r.g,i=r.i,a=r.f,r=r.j;this.v={lineCap:void 0!==n?n:"round",lineDash:o?o:Sv,lineJoin:void 0!==i?i:"round",lineWidth:void 0!==a?a:1,miterLimit:void 0!==r?r:10,strokeStyle:Gr(e?e:Ev)}}else this.v=null;var e=t.g,n=t.c,o=t.i,i=t.v,a=t.j,r=t.a,s=t.Ka(),l=t.l;t=t.o,this.P={font:void 0!==e?e:"10px sans-serif",textAlign:void 0!==l?l:"center",textBaseline:void 0!==t?t:"middle"},this.g=void 0!==s?s:"",this.Fa=void 0!==n?this.A*n:0,this.xa=void 0!==o?this.A*o:0,this.Ja=void 0!==i&&i,this.Ua=void 0!==a?a:0,this.o=this.A*(void 0!==r?r:1)}else this.g=""},r($i,j),$i.prototype.Ba=o,$i.prototype.te=te,$i.prototype.hf=function(t,e,r){return function(n,o){return Yd(t,e,n,o,function(t){r[n]||(r[n]={}),r[n][t.Ca.toString()]=t})}},$i.prototype.Fa=function(t){t.target.W()===wv&&ta(this)},r(aa,$i),aa.prototype.C=function(t,e,r,n){if(this.Ba(t,e,0,Qt,this))return r.call(n,this.a,null)},aa.prototype.v=function(t,e,r,n){la(this,"postcompose",t,e,n)},r(ca,aa),ca.prototype.D=function(t,e,r){la(this,"precompose",r,t,void 0);var n=this.l();if(n){var o=e.extent,i=void 0!==o;i&&sa(r,t,o);var o=this.P(),a=r.globalAlpha;r.globalAlpha=e.opacity,r.drawImage(n,0,0,+n.width,+n.height,Math.round(o[4]),Math.round(o[5]),Math.round(n.width*o[0]),Math.round(n.height*o[3])),r.globalAlpha=a,i&&r.restore()}this.v(r,t,e)},ca.prototype.Ba=function(t,e,r,n,o){var i=this.a;return i.la().Ba(t,e.viewState.resolution,e.viewState.rotation,r,e.skippedFeatureUids,function(t){return n.call(o,t,i)})},ca.prototype.C=function(t,e,r,n){if(this.l()){if(this.a.la().Ba!==o)return aa.prototype.C.apply(this,arguments);var i=di(this.u,t.slice());if(ht(i,e.viewState.resolution/this.c),this.i||(this.i=Yr(1,1)),this.i.clearRect(0,0,1,1),this.i.drawImage(this.l(),i[0],i[1],1,1,0,0,1,1),i=this.i.getImageData(0,0,1,1).data,0<i[3])return r.call(n,this.a,i)}},r(pa,ca),pa.prototype.l=function(){return this.f?this.f.a():null},pa.prototype.P=function(){return this.j},pa.prototype.o=function(t,e){var r=t.pixelRatio,n=t.size,o=t.viewState,i=o.center,a=o.resolution,s=this.a.la(),l=t.viewHints,u=t.extent;if(void 0!==e.extent&&(u=qt(u,e.extent)),l[ym]||l[1]||Zt(u)||(o=s.U(u,a,r,o.projection))&&Qi(this,o)&&(this.f=o,this.c=a),this.f){var o=this.f,l=o.G(),u=o.resolution,c=o.f,p=r*u/(a*c),l=gi(this.j,r*n[0]/2,r*n[1]/2,p,p,0,c*(l[0]-i[0])/u,c*(i[1]-l[3])/u);gi(this.u,r*n[0]/2-l[4],r*n[1]/2-l[5],r/a,-r/a,0,-i[0],-i[1]),ra(t.attributions,o.j),na(t,s)}return!!this.f},r(fa,ca),fa.prototype.o=function(t,e){var r=t.pixelRatio,n=t.size,o=t.viewState,i=o.projection,a=o.resolution,o=o.center,s=this.a,l=s.la(),u=l.g,c=l.Db(i),p=c.Ec(a,this.na),f=c.Ha(p),h=t.extent;if(void 0!==e.extent&&(h=qt(h,e.extent)),Zt(h))return!1;var d,y=Pr(c,h,f),m=c.Kc(p);d=c.Ha(p);var v=Mr(c.Za(p),c.j);d=Lt(m[0]+y.ea*v[0]*d,m[1]+y.ga*v[1]*d,m[0]+(y.ca+1)*v[0]*d,m[1]+(y.ja+1)*v[1]*d,void 0),m=l.jb(r),v={},v[p]={};var g,b,x,_=this.hf(l,i,v),w=s.c(),T=this.H,M=this.Ua,S=!1;for(b=y.ea;b<=y.ca;++b)for(x=y.ga;x<=y.ja;++x){g=l.Dc(p,b,x,r,i);var E=g.W();E==Xm||4==E||3==E&&!w?E==Xm&&(v[p][g.Ca.toString()]=g,S||-1!=this.f.indexOf(g)||(S=!0)):(g=Wn(g),Cr(c,g.Ca,_,M,T)||(g=Ar(c,g.Ca,M,T))&&_(p+1,g))}if(b=t.viewHints,!(this.c&&16<Date.now()-t.time&&(b[ym]||b[1])||!S&&this.j&&It(this.j,d)&&this.Ja==u)){g=l.Dd(p,r,i),b=(y.ca-y.ea+1)*g[0],g=(y.ja-y.ga+1)*g[0],S=this.L,x=S.canvas,_=l.tf(i),x.width!=b||x.height!=g?(x.width=b,x.height=g):S.clearRect(0,0,b,g),this.f.length=0,w=Object.keys(v).map(Number),w.sort(H);var k,C,A,P,L,D,E=0;for(C=w.length;E<C;++E){b=w[E],M=l.Dd(b,r,i),g=c.Ha(b),k=g/f,A=m*l.qf(i),P=v[b];for(var O in P)g=P[O],x=c.Na(g.Ca,T),b=(x[0]-d[0])/f*m,x=(d[3]-x[3])/f*m,L=M[0]*k,D=M[1]*k,_||S.clearRect(b,x,L,D),this.A(g,t,e,b,x,L,D,A),this.f.push(g)}this.Ja=u,this.c=f,this.j=d}return O=r/m*this.c/a,O=gi(this.U,r*n[0]/2,r*n[1]/2,O,O,0,m*(this.j[0]-o[0])/this.c,m*(o[1]-this.j[3])/this.c),gi(this.u,r*n[0]/2-O[4],r*n[1]/2-O[5],r/a,-r/a,0,-o[0],-o[1]),oa(t.usedTiles,l,p,y),ia(t,l,c,r,i,h,p,s.f()),ea(t,l),na(t,l),0<this.f.length},fa.prototype.A=function(t,e,r,n,o,i,a,s){(t=t.ub())&&this.L.drawImage(t,s,s,t.width-2*s,t.height-2*s,n,o,i,a)},fa.prototype.l=function(){return this.L.canvas},fa.prototype.P=function(){return this.U},r(da,Wi),da.prototype.f=function(t,e,r,n,o){ga(this,t,e,r,n,o,this.a,void 0,void 0)},da.prototype.se=o,da.prototype.mf=function(){return this.Qa},r(_a,da),_a.prototype.xc=function(t,e){if(this.l){ma(this,e);var r=t.ia(),n=this.coordinates.length,r=ya(this,r,0,r.length,t.pa(),!1,!1);this.a.push([4,n,r,this.l,this.g,this.i,this.j,this.o,this.v,this.H,this.u,this.A,this.C,this.D,this.L]),this.b.push([4,n,r,this.P,this.g,this.i,this.j,this.o,this.v,this.H,this.u,this.A,this.C,this.D,this.L]),xa(this,e)}},_a.prototype.vc=function(t,e){if(this.l){ma(this,e);var r=t.ia(),n=this.coordinates.length,r=ya(this,r,0,r.length,t.pa(),!1,!1);this.a.push([4,n,r,this.l,this.g,this.i,this.j,this.o,this.v,this.H,this.u,this.A,this.C,this.D,this.L]),this.b.push([4,n,r,this.P,this.g,this.i,this.j,this.o,this.v,this.H,this.u,this.A,this.C,this.D,this.L]),xa(this,e)}},_a.prototype.se=function(){ba(this),this.i=this.g=void 0,this.l=this.P=null,this.L=this.D=this.A=this.u=this.H=this.v=this.o=this.C=this.j=void 0},_a.prototype.dc=function(t){var e=t.Ac(),r=t.ac(),n=t.Lf(1),o=t.Ic(1),i=t.Jc();this.g=e[0],this.i=e[1],this.P=n,this.l=o,this.j=r[1],this.o=t.l,this.v=i[0],this.H=i[1],this.u=t.H,this.A=t.o,this.C=t.i,this.D=t.u,this.L=r[0]},r(wa,da),Jy=wa.prototype,Jy.mf=function(){return this.i||(this.i=Mt(this.Qa),0<this.c&&Tt(this.i,this.resolution*(this.c+1)/2,this.i)),this.i},Jy.Pb=function(t,e){var r=this.g,n=r.lineWidth;void 0!==r.strokeStyle&&void 0!==n&&(Ma(this),ma(this,e),this.b.push([10,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,!0,1],[1]),r=t.ia(),Ta(this,r,0,r.length,t.pa()),this.b.push([12]),xa(this,e))},Jy.uc=function(t,e){var r=this.g,n=r.lineWidth;if(void 0!==r.strokeStyle&&void 0!==n){Ma(this),ma(this,e),this.b.push([10,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,!0,1],[1]);var o,i,r=t.Kb(),n=t.ia(),a=t.pa(),s=0;for(o=0,i=r.length;o<i;++o)s=Ta(this,n,s,r[o],a);this.b.push([12]),xa(this,e)}},Jy.se=function(){this.g.Af!=this.coordinates.length&&this.a.push([12]),ba(this),this.g=null},Jy.Ma=function(t,e){var r=e.b;this.g.strokeStyle=Gr(r?r:Ev),r=e.c,this.g.lineCap=void 0!==r?r:"round",r=e.g,this.g.lineDash=r?r:Sv,r=e.i,this.g.lineJoin=void 0!==r?r:"round",r=e.f,this.g.lineWidth=void 0!==r?r:1,r=e.j,this.g.miterLimit=void 0!==r?r:10,this.g.lineWidth>this.c&&(this.c=this.g.lineWidth,this.i=null)},r(Sa,da),Jy=Sa.prototype,Jy.hc=function(t,e){var r=this.g,n=r.strokeStyle;if(void 0!==r.fillStyle||void 0!==n){ka(this,t),ma(this,e),this.b.push([9,Wr(Mv)]),void 0!==r.strokeStyle&&this.b.push([10,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,!0,1]);var o=t.ia(),n=this.coordinates.length;ya(this,o,0,o.length,t.pa(),!1,!1),o=[1],n=[2,n],this.a.push(o,n),this.b.push(o,n),n=[7],this.b.push(n),void 0!==r.fillStyle&&this.a.push(n),void 0!==r.strokeStyle&&(r=[12],this.a.push(r),this.b.push(r)),xa(this,e)}},Jy.yc=function(t,e){var r=this.g;ka(this,t),ma(this,e),this.b.push([9,Wr(Mv)]),void 0!==r.strokeStyle&&this.b.push([10,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,!0,1]);var r=t.Kb(),n=t.Vb();Ea(this,n,0,r,t.pa()),xa(this,e)},Jy.wc=function(t,e){var r=this.g,n=r.strokeStyle;if(void 0!==r.fillStyle||void 0!==n){ka(this,t),ma(this,e),this.b.push([9,Wr(Mv)]),void 0!==r.strokeStyle&&this.b.push([10,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,!0,1]);var o,i,r=t.c,n=ac(t),a=t.pa(),s=0;for(o=0,i=r.length;o<i;++o)s=Ea(this,n,s,r[o],a);xa(this,e)}},Jy.se=function(){ba(this),this.g=null;var t=this.zb;if(0!==t){var e,r,n=this.coordinates;for(e=0,r=n.length;e<r;++e)n[e]=t*Math.round(n[e]/t)}},Jy.mf=function(){return this.i||(this.i=Mt(this.Qa),0<this.c&&Tt(this.i,this.resolution*(this.c+1)/2,this.i)),this.i},Jy.Ma=function(t,e){var r=this.g;if(t){var n=t.b;r.fillStyle=Gr(n?n:Mv)}else r.fillStyle=void 0;e?(n=e.b,r.strokeStyle=Gr(n?n:Ev),n=e.c,r.lineCap=void 0!==n?n:"round",n=e.g,r.lineDash=n?n.slice():Sv,n=e.i,r.lineJoin=void 0!==n?n:"round",n=e.f,r.lineWidth=void 0!==n?n:1,n=e.j,r.miterLimit=void 0!==n?n:10,r.lineWidth>this.c&&(this.c=r.lineWidth,this.i=null)):(r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0)},r(Ca,da),Ca.prototype.$b=function(t){if(t){var e=t.b;e?(e=e.b,e=Gr(e?e:Mv),this.g?this.g.fillStyle=e:this.g={fillStyle:e}):this.g=null;var r=t.f;if(r){var e=r.b,n=r.c,o=r.g,i=r.i,a=r.f,r=r.j,n=void 0!==n?n:"round",o=o?o.slice():Sv,i=void 0!==i?i:"round",a=void 0!==a?a:1,r=void 0!==r?r:10,e=Gr(e?e:Ev);if(this.i){var s=this.i;s.lineCap=n,s.lineDash=o,s.lineJoin=i,s.lineWidth=a,s.miterLimit=r,s.strokeStyle=e}else this.i={lineCap:n,lineDash:o,lineJoin:i,lineWidth:a,miterLimit:r,strokeStyle:e}}else this.i=null;var l=t.g,e=t.c,n=t.i,o=t.v,a=t.j,r=t.a,i=t.Ka(),s=t.l,u=t.o;t=void 0!==l?l:"10px sans-serif",s=void 0!==s?s:"center",u=void 0!==u?u:"middle",this.j?(l=this.j,l.font=t,l.textAlign=s,l.textBaseline=u):this.j={font:t,textAlign:s,textBaseline:u},this.l=void 0!==i?i:"",this.o=void 0!==e?e:0,this.v=void 0!==n?n:0,this.H=void 0!==o&&o,this.u=void 0!==a?a:0,this.A=void 0!==r?r:1}else this.l=""};var Ov=["Polygon","Circle","LineString","Image","Text"];r(Pa,ha);var Iv={0:[[!0]]};Pa.prototype.Ba=function(t,e,r,n,o,i){n=Math.round(n);var a=2*n+1,s=gi(this.l,n+.5,n+.5,1/e,-1/e,-r,-t[0],-t[1]),l=this.j;l.canvas.width!==a||l.canvas.height!==a?(l.canvas.width=a,l.canvas.height=a):l.clearRect(0,0,a,a);var u;void 0!==this.i&&(u=Pt(),Nt(u,t),Tt(u,e*(this.i+n),u));var c=Da(n);return Ra(this,l,s,r,o,function(t){for(var e=l.getImageData(0,0,a,a).data,r=0;r<a;r++)for(var n=0;n<a;n++)if(c[r][n]&&0<e[4*(n*a+r)+3])return(t=i(t))?t:void l.clearRect(0,0,a,a)},u)},Pa.prototype.b=function(t,e){var r=void 0!==t?t.toString():"0",n=this.a[r];return void 0===n&&(n={},this.a[r]=n),r=n[e],void 0===r&&(r=new Rv[e](this.H,this.c,this.v,this.o),n[e]=r),r},Pa.prototype.g=function(){return x(this.a)},Pa.prototype.f=function(t,e,r,n,o,i){var a=Object.keys(this.a).map(Number);a.sort(H);var s=Ia(this,r);t.save(),t.beginPath(),t.moveTo(s[0],s[1]),t.lineTo(s[2],s[3]),t.lineTo(s[4],s[5]),t.lineTo(s[6],s[7]),t.clip(),i=i?i:Ov;var l,u,c,p,f,s=0;for(l=a.length;s<l;++s)for(p=this.a[a[s].toString()],u=0,c=i.length;u<c;++u)f=p[i[u]],void 0!==f&&f.f(t,e,r,n,o);t.restore()};var Rv={Circle:Sa,Image:_a,LineString:wa,Polygon:Sa,Text:Ca},Nv={Point:function(t,e,r,n){var o=r.a;if(o){if(o.xe()!=wv)return;var i=t.b(r.b,"Image");i.dc(o),i.xc(e,n)}(o=r.Ka())&&(t=t.b(r.b,"Text"),t.$b(o),Aa(t,e.ia(),2,2,n))},LineString:function(t,e,r,n){var o=r.g;if(o){var i=t.b(r.b,"LineString");i.Ma(null,o),i.Pb(e,n)}(o=r.Ka())&&(t=t.b(r.b,"Text"),t.$b(o),Aa(t,Qu(e),2,2,n))},Polygon:function(t,e,r,n){var o=r.f,i=r.g;if(o||i){var a=t.b(r.b,"Polygon");a.Ma(o,i),a.yc(e,n)}(o=r.Ka())&&(t=t.b(r.b,"Text"),t.$b(o),Aa(t,nr(e),2,2,n))},MultiPoint:function(t,e,r,n){var o=r.a;if(o){if(o.xe()!=wv)return;var i=t.b(r.b,"Image");i.dc(o),i.vc(e,n)}(o=r.Ka())&&(t=t.b(r.b,"Text"),t.$b(o),r=e.ia(),Aa(t,r,r.length,e.pa(),n))},MultiLineString:function(t,e,r,n){var o=r.g;if(o){var i=t.b(r.b,"LineString");i.Ma(null,o),i.uc(e,n)}(o=r.Ka())&&(t=t.b(r.b,"Text"),t.$b(o),e=ec(e),Aa(t,e,e.length,2,n))},MultiPolygon:function(t,e,r,n){var o=r.f,i=r.g;if(i||o){var a=t.b(r.b,"Polygon");a.Ma(o,i),a.wc(e,n)}(o=r.Ka())&&(t=t.b(r.b,"Text"),t.$b(o),e=ic(e),Aa(t,e,e.length,2,n))},GeometryCollection:function(t,e,r,n){e=e.f;var o,i;for(o=0,i=e.length;o<i;++o)(0,Nv[e[o].Y()])(t,e[o],r,n)},Circle:function(t,e,r,n){var o=r.f,i=r.g;if(o||i){var a=t.b(r.b,"Circle");a.Ma(o,i),a.hc(e,n)}(o=r.Ka())&&(t=t.b(r.b,"Text"),t.$b(o),Aa(t,e.Fd(),2,2,n))}};r(za,aa),za.prototype.D=function(t,e,r){var n=t.extent,o=t.pixelRatio,i=e.me?t.skippedFeatureUids:{},a=t.viewState,s=a.projection,a=a.rotation,l=s.G(),u=this.a.la(),c=ua(this,t,0);la(this,"precompose",r,t,c);var p=e.extent,f=void 0!==p;if(f&&sa(r,t,p),(p=this.c)&&!p.g()){var h,d=0,y=0;if(N(this.a,"render")){h=r.canvas.width;var m=r.canvas.height;if(a){var v=Math.round(Math.sqrt(h*h+m*m)),d=(v-h)/2,y=(v-m)/2;h=m=v}this.i.canvas.width=h,this.i.canvas.height=m,h=this.i}else h=r;m=h.globalAlpha,h.globalAlpha=e.opacity,h!=r&&h.translate(d,y);var v=t.size[0]*o,g=t.size[1]*o;if(Pi(h,-a,v/2,g/2),p.f(h,o,c,a,i),u.D&&s.a&&!kt(l,n)){for(var s=n[0],u=Xt(l),b=0;s<l[0];)--b,c=u*b,c=ua(this,t,c),p.f(h,o,c,a,i),s+=u;for(b=0,s=n[2];s>l[2];)++b,c=u*b,c=ua(this,t,c),p.f(h,o,c,a,i),s-=u;c=ua(this,t,0)}Pi(h,a,v/2,g/2),h!=r&&(la(this,"render",h,t,c),r.drawImage(h.canvas,-d,-y),h.translate(-d,-y)),h.globalAlpha=m}f&&r.restore(),this.v(r,t,e,c)},za.prototype.Ba=function(t,e,r,n,o){if(this.c){var a=this.a,s={};return this.c.Ba(t,e.viewState.resolution,e.viewState.rotation,r,{},function(t){var e=i(t).toString();if(!(e in s))return s[e]=!0,n.call(o,t,a)})}},za.prototype.A=function(){ta(this)},za.prototype.o=function(t){function e(t){var e,n=t.Gc();if(n?e=n.call(t,u):(n=r.j)&&(e=n(t,u)),e){if(e){if(n=!1,Array.isArray(e))for(var o=0,i=e.length;o<i;++o)n=Fa(f,t,e[o],ja(u,c),this.A,this)||n;else n=Fa(f,t,e,ja(u,c),this.A,this)||n;t=n}else t=!1;this.f=this.f||t}}var r=this.a,n=r.la();ra(t.attributions,n.j),na(t,n);var o=t.viewHints[ym],i=t.viewHints[1],a=r.Z,s=r.fa;if(!this.f&&!a&&o||!s&&i)return!0;var l=t.extent,s=t.viewState,o=s.projection,u=s.resolution,c=t.pixelRatio,i=r.g,p=r.i,a=r.get("renderOrder");if(void 0===a&&(a=Na),l=Tt(l,p*u),p=s.projection.G(),n.D&&s.projection.a&&!kt(p,t.extent)&&(t=Math.max(Xt(l)/2,Xt(p)),l[0]=p[0]-t,l[2]=p[2]+t),!this.f&&this.H==u&&this.u==i&&this.l==a&&kt(this.j,l))return!0;this.c=null,this.f=!1;var f=new Pa(.5*u/c,l,u,n.xa,r.i);if(n.Ed(l,u,o),a){var h=[];n.Qb(l,function(t){h.push(t)},this),h.sort(a),h.forEach(e,this)}else n.Qb(l,e,this);return Oa(f),this.H=u,this.u=i,this.l=a,this.j=l,this.c=f,!0},r(Ba,fa);var jv={image:Ov,hybrid:["Polygon","LineString"]},Fv={hybrid:["Image","Text"],vector:Ov};Ba.prototype.A=function(t,e,r,n,o,i,a,s){var l=t;if(Ua(this,l,e),this.a.u!=Dv){var u=l,c=e,p=this.a,l=u.g,f=p.g,h=jv[p.u];if(h&&l.cg!==f){l.cg=f;var d=u.Ca,y=u.Ca[0],f=c.pixelRatio,m=p.la(),v=m.tileGrid,g=m.jb(),p=ci(this.sa);"tile-pixels"==u.j.Eb()?(d=f/g,mi(p,d,d)):(g=v.Ha(y),g=f/g,d=v.Na(d,this.H),mi(p,g,-g),vi(p,-d[0],-d[3])),u=u.f,c=m.Dd(y,f,c.viewState.projection),u.canvas.width=c[0],u.canvas.height=c[1],l.jd.f(u,f,p,0,{},h)}}fa.prototype.A.apply(this,arguments)},Ba.prototype.Ba=function(t,e,r,n,o){var a=e.viewState.resolution;e=e.viewState.rotation,r=void 0==r?0:r;var s,l,u,c,p,f,h=this.a,d={},y=this.f,m=h.la(),v=m.tileGrid;for(u=0,c=y.length;u<c;++u)f=y[u],l=f.Ca,p=m.tileGrid.Na(l,this.H),Et(Tt(p,r*a),t)&&("tile-pixels"===f.j.Eb()?(p=Gt(p),a=m.jb(),l=v.Ha(l[0])/a,l=[(t[0]-p[0])/l,(p[1]-t[1])/l]):l=t,f=f.g.jd,s=s||f.Ba(l,a,e,r,{},function(t){var e=i(t).toString();if(!(e in d))return d[e]=!0,n.call(o,t,h)}));return s},Ba.prototype.fa=function(){ta(this)},Ba.prototype.v=function(t,e,r){var n=Fv[this.a.u];if(n)for(var o=e.pixelRatio,i=e.viewState.rotation,a=e.size,s=Math.round(o*a[0]/2),a=Math.round(o*a[1]/2),l=this.f,u=[],c=[],p=l.length-1;0<=p;--p){var f,h=l[p],d=h;if(f=e,"tile-pixels"==d.j.Eb()){var y=this.a.la(),m=y.tileGrid,v=d.Ca,y=m.Ha(v[0])/y.jb(),d=f.viewState,g=f.pixelRatio,b=d.resolution/g,v=m.Na(v,this.H),m=d.center,v=Gt(v);f=f.size,f=gi(this.sa,Math.round(g*f[0]/2),Math.round(g*f[1]/2),y/b,y/b,d.rotation,(v[0]-m[0])/y,(m[1]-v[1])/y)}else f=ua(this,f,0);for(y=Ia(h.g.jd,f),d=h.Ca[0],t.save(),t.globalAlpha=r.opacity,Pi(t,-i,s,a),g=0,b=u.length;g<b;++g)m=u[g],d<c[g]&&(t.beginPath(),t.moveTo(y[0],y[1]),t.lineTo(y[2],y[3]),t.lineTo(y[4],y[5]),t.lineTo(y[6],y[7]),t.moveTo(m[6],m[7]),t.lineTo(m[4],m[5]),t.lineTo(m[2],m[3]),t.lineTo(m[0],m[1]),t.clip());h.g.jd.f(t,o,f,i,{},n),t.restore(),u.push(y),c.push(d)}fa.prototype.v.apply(this,arguments)},r(Va,xi),Va.prototype.Ag=function(t){return t instanceof Ei?new pa(t):t instanceof ki?new fa(t):t instanceof Hi?new Ba(t):t instanceof Vi?new za(t):null},Va.prototype.Y=function(){return"canvas"},Va.prototype.ag=function(t){if(t){var e=this.g,r=t.pixelRatio,n=Math.round(t.size[0]*r),r=Math.round(t.size[1]*r);this.b.width!=n||this.b.height!=r?(this.b.width=n,this.b.height=r):e.clearRect(0,0,n,r);var o=t.viewState.rotation;_i(t),Ha(this,"precompose",t);var i=t.layerStatesArray;Z(i),Pi(e,o,n/2,r/2);var a,s,l,u,c=t.viewState.resolution;for(a=0,s=i.length;a<s;++a)u=i[a],l=u.layer,l=Ti(this,l),si(u,c)&&"ready"==u.Ei&&l.o(t,u)&&l.D(t,u,e);Pi(e,-o,n/2,r/2),Ha(this,"postcompose",t),this.a||(this.b.style.display="",this.a=!0),Mi(this,t),t.postRenderFunctions.push(wi)}else this.a&&(this.b.style.display="none",this.a=!1)},Va.prototype.Bh=function(t,e,r,n,o,i){var a,s=e.viewState.resolution,l=e.layerStatesArray,u=l.length;for(t=di(e.pixelToCoordinateTransform,t.slice()),--u;0<=u;--u){a=l[u];var c=a.layer;if(si(a,s)&&o.call(i,c)&&(a=Ti(this,c).C(t,e,r,n)))return a}};var zv=[0,0,0,1],Bv=[],Uv=[0,0,0,1],Vv=Number.EPSILON||2.220446049250313e-16;r(Ga,qa),Ga.prototype.Y=function(){return 35632},r(Ya,qa),Ya.prototype.Y=function(){return 35633},r(Xa,Ga);var Hv=new Xa;r(Ka,Ya);var Wv=new Ka;r(Qa,Wi),Qa.prototype.f=function(t,e,r,n,o,i,a,s,l,u,c){var p,f,h,d,y,m,v,g,b=t.b;this.j&&(p=b.isEnabled(b.STENCIL_TEST),f=b.getParameter(b.STENCIL_FUNC),h=b.getParameter(b.STENCIL_VALUE_MASK),d=b.getParameter(b.STENCIL_REF),y=b.getParameter(b.STENCIL_WRITEMASK),m=b.getParameter(b.STENCIL_FAIL),v=b.getParameter(b.STENCIL_PASS_DEPTH_PASS),g=b.getParameter(b.STENCIL_PASS_DEPTH_FAIL),b.enable(b.STENCIL_TEST),b.clear(b.STENCIL_BUFFER_BIT),b.stencilMask(255),b.stencilFunc(b.ALWAYS,1,255),b.stencilOp(b.KEEP,b.KEEP,b.REPLACE),this.j.f(t,e,r,n,o,i,a,s,l,u,c),b.stencilMask(0),b.stencilFunc(b.NOTEQUAL,1,255)),ls(t,34962,this.v),ls(t,34963,this.o),i=this.Ke(b,t,o,i);var x=ci(this.Ua);mi(x,2/(r*o[0]),2/(r*o[1])),yi(x,-n),vi(x,-(e[0]-this.origin[0]),-(e[1]-this.origin[1])),e=ci(this.Ja),mi(e,2/o[0],2/o[1]),o=ci(this.xa),0!==n&&yi(o,-n),b.uniformMatrix4fv(i.g,!1,$a(this.na,x)),b.uniformMatrix4fv(i.c,!1,$a(this.na,e)),b.uniformMatrix4fv(i.f,!1,$a(this.na,o)),b.uniform1f(i.a,a);var _;return void 0===l?this.yd(b,t,s,!1):(u?t=this.$d(b,t,s,l,c):(b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT),this.yd(b,t,s,!0),t=(t=l(null))?t:void 0),_=t),this.Le(b,i),this.j&&(p||b.disable(b.STENCIL_TEST),b.clear(b.STENCIL_BUFFER_BIT),b.stencilFunc(f,d,h),b.stencilMask(y),b.stencilOp(m,g,v)),_};var qv=35044;r(rs,Qa),Jy=rs.prototype,Jy.hc=function(t,e){var r=t.qe(),n=t.pa();if(r){this.g.push(this.b.length),this.i.push(e),this.c.s&&(this.u.push(this.b.length),this.c.s=!1),this.A=r;var o,r=t.ia(),r=Te(r,2,n,-this.origin[0],-this.origin[1]),i=this.a.length,a=this.b.length,s=i/4;for(o=0;2>o;o+=n)this.a[i++]=r[o],this.a[i++]=r[o+1],this.a[i++]=0,this.a[i++]=this.A,this.a[i++]=r[o],this.a[i++]=r[o+1],this.a[i++]=1,this.a[i++]=this.A,this.a[i++]=r[o],this.a[i++]=r[o+1],this.a[i++]=2,this.a[i++]=this.A,this.a[i++]=r[o],this.a[i++]=r[o+1],this.a[i++]=3,this.a[i++]=this.A,this.b[a++]=s,this.b[a++]=s+1,this.b[a++]=s+2,this.b[a++]=s+2,this.b[a++]=s+3,this.b[a++]=s,s+=4}else this.c.s&&(this.l.pop(),this.l.length&&(n=this.l[this.l.length-1],this.c.fillColor=n[0],this.c.strokeColor=n[1],this.c.lineWidth=n[2],this.c.s=!1))},Jy.vb=function(){this.v=new es(this.a),this.o=new es(this.b),this.g.push(this.b.length),0===this.u.length&&0<this.l.length&&(this.l=[]),this.b=this.a=null},Jy.wb=function(t){var e=this.v,r=this.o;return function(){us(t,e),us(t,r)}},Jy.Ke=function(t,e,r,n){var o,i=fs(e,Hv,Wv);return this.H?o=this.H:this.H=o=new Za(t,i),e.Lc(i),t.enableVertexAttribArray(o.b),t.vertexAttribPointer(o.b,2,5126,!1,16,0),t.enableVertexAttribArray(o.j),t.vertexAttribPointer(o.j,1,5126,!1,16,8),t.enableVertexAttribArray(o.u),t.vertexAttribPointer(o.u,1,5126,!1,16,12),t.uniform2fv(o.va,r),t.uniform1f(o.ra,n),o},Jy.Le=function(t,e){t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.j),t.disableVertexAttribArray(e.u)},Jy.yd=function(t,e,r){if(x(r)){var n,o,a;for(o=this.g[this.g.length-1],r=this.u.length-1;0<=r;--r)n=this.u[r],a=this.l[r],t.uniform4fv(this.H.D,a[0]),ns(this,t,a[1],a[2]),ts(t,e,n,o),o=n}else{var s,l,u,c;for(u=this.g.length-2,a=o=this.g[u+1],n=this.u.length-1;0<=n;--n){for(s=this.l[n],t.uniform4fv(this.H.D,s[0]),ns(this,t,s[1],s[2]),s=this.u[n];0<=u&&this.g[u]>=s;)c=this.g[u],l=this.i[u],l=i(l).toString(),r[l]&&(o!==a&&ts(t,e,o,a),a=c),u--,o=c;o!==a&&ts(t,e,o,a),o=a=s}}},Jy.$d=function(t,e,r,n,o){var a,s,l,u,c,p,f;for(f=this.g.length-2,l=this.g[f+1],a=this.u.length-1;0<=a;--a)for(s=this.l[a],t.uniform4fv(this.H.D,s[0]),ns(this,t,s[1],s[2]),u=this.u[a];0<=f&&this.g[f]>=u;){if(s=this.g[f],c=this.i[f],p=i(c).toString(),void 0===r[p]&&c.V()&&(void 0===o||Kt(o,c.V().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),ts(t,e,s,l),l=n(c)))return l;f--,l=s}},Jy.Ma=function(t,e){var r,n;e?(r=e.g,this.c.lineDash=r?r:Bv,r=e.b,r=r instanceof CanvasGradient||r instanceof CanvasPattern?Uv:Hr(r).map(function(t,e){return 3!=e?t/255:t})||Uv,n=e.f,n=void 0!==n?n:1):(r=[0,0,0,0],n=0);var o=t?t.b:[0,0,0,0];o=o instanceof CanvasGradient||o instanceof CanvasPattern?zv:Hr(o).map(function(t,e){return 3!=e?t/255:t})||zv,this.c.strokeColor&&K(this.c.strokeColor,r)&&this.c.fillColor&&K(this.c.fillColor,o)&&this.c.lineWidth===n||(this.c.s=!0,this.c.fillColor=o,this.c.strokeColor=r,this.c.lineWidth=n,this.l.push([o,r,n]))},r(os,Ga);var Gv=new os;r(is,Ya);var Yv=new is;r(ss,L),Jy=ss.prototype,Jy.oa=function(){P(this.j);var t=this.b;if(!t.isContextLost()){for(var e in this.a)t.deleteBuffer(this.a[e].buffer);for(e in this.g)t.deleteProgram(this.g[e]);for(e in this.f)t.deleteShader(this.f[e]);t.deleteFramebuffer(this.c),t.deleteRenderbuffer(this.o),t.deleteTexture(this.v)}},Jy.bo=function(){return this.b},Jy.co=function(){g(this.a),g(this.f),g(this.g),this.o=this.v=this.c=this.l=null},Jy.eo=function(){},Jy.Lc=function(t){return t!=this.l&&(this.b.useProgram(t),this.l=t,!0)},r(ms,Qa),Jy=ms.prototype,Jy.wb=function(t){var e=this.v,r=this.o,n=this.Fa,o=this.u,i=t.b;return function(){if(!i.isContextLost()){var a,s;for(a=0,s=n.length;a<s;++a)i.deleteTexture(n[a]);for(a=0,s=o.length;a<s;++a)i.deleteTexture(o[a])}us(t,e),us(t,r)}},Jy.vc=function(t,e){this.g.push(this.b.length),this.i.push(e);var r=t.ia();vs(this,r,r.length,t.pa())},Jy.xc=function(t,e){this.g.push(this.b.length),this.i.push(e);var r=t.ia();vs(this,r,r.length,t.pa())},Jy.vb=function(t){t=t.b,this.A.push(this.b.length),this.H.push(this.b.length),this.v=new es(this.a),this.o=new es(this.b);var e={};gs(this.Fa,this.l,e,t),gs(this.u,this.c,e,t),this.ra=this.D=this.C=void 0,this.c=this.l=null,this.P=this.va=void 0,this.b=null,this.sa=this.fa=this.eb=this.Z=this.Qa=this.U=void 0,this.a=null,this.zb=void 0},Jy.Ke=function(t,e){var r,n=fs(e,Gv,Yv);return this.L?r=this.L:this.L=r=new as(t,n),e.Lc(n),t.enableVertexAttribArray(r.b),t.vertexAttribPointer(r.b,2,5126,!1,32,0),t.enableVertexAttribArray(r.v),t.vertexAttribPointer(r.v,2,5126,!1,32,8),t.enableVertexAttribArray(r.C),t.vertexAttribPointer(r.C,2,5126,!1,32,16),t.enableVertexAttribArray(r.H),t.vertexAttribPointer(r.H,1,5126,!1,32,24),t.enableVertexAttribArray(r.A),t.vertexAttribPointer(r.A,1,5126,!1,32,28),r},Jy.Le=function(t,e){t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.v),t.disableVertexAttribArray(e.C),t.disableVertexAttribArray(e.H),t.disableVertexAttribArray(e.A)},Jy.yd=function(t,e,r,n){var o=n?this.u:this.Fa;if(n=n?this.H:this.A,x(r)){var a,s;for(r=0,a=o.length,s=0;r<a;++r){t.bindTexture(3553,o[r]);var l=n[r];ts(t,e,s,l),s=l}}else for(s=a=0,l=o.length;s<l;++s){t.bindTexture(3553,o[s]);for(var u=0<s?n[s-1]:0,c=n[s],p=u;a<this.g.length&&this.g[a]<=c;){var f=i(this.i[a]).toString();void 0!==r[f]?(p!==u&&ts(t,e,p,u),u=p=a===this.g.length-1?c:this.g[a+1]):u=a===this.g.length-1?c:this.g[a+1],a++}p!==u&&ts(t,e,p,u)}},Jy.$d=function(t,e,r,n,o){var a,s,l,u,c,p,f=this.g.length-1;for(a=this.u.length-1;0<=a;--a)for(t.bindTexture(3553,this.u[a]),s=0<a?this.H[a-1]:0,u=this.H[a];0<=f&&this.g[f]>=s;){
if(l=this.g[f],c=this.i[f],p=i(c).toString(),void 0===r[p]&&c.V()&&(void 0===o||Kt(o,c.V().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),ts(t,e,l,u),u=n(c)))return u;u=l,f--}},Jy.dc=function(t){var e=t.Ac(),r=t.Ic(1),n=t.de(),o=t.Lf(1),a=t.l,s=t.Jc(),l=t.H,u=t.o,c=t.ac();t=t.i;var p;0===this.l.length?this.l.push(r):(p=this.l[this.l.length-1],i(p)!=i(r)&&(this.A.push(this.b.length),this.l.push(r))),0===this.c.length?this.c.push(o):(p=this.c[this.c.length-1],i(p)!=i(o)&&(this.H.push(this.b.length),this.c.push(o))),this.C=e[0],this.D=e[1],this.ra=c[1],this.va=n[1],this.P=n[0],this.U=a,this.Qa=s[0],this.Z=s[1],this.fa=u,this.eb=l,this.sa=t,this.zb=c[0]},r(xs,Ga);var Xv=new xs;r(_s,Ya);var Kv=new _s;r(Ts,Qa),Jy=Ts.prototype,Jy.Pb=function(t,e){var r=t.ia(),n=t.pa();Es(r,r.length,n)&&(r=Te(r,r.length,n,-this.origin[0],-this.origin[1]),this.c.s&&(this.l.push(this.b.length),this.c.s=!1),this.g.push(this.b.length),this.i.push(e),Ms(this,r,r.length,n))},Jy.uc=function(t,e){var r,n,o=this.b.length,i=t.Yc();for(r=0,n=i.length;r<n;++r){var a=i[r].ia(),s=i[r].pa();Es(a,a.length,s)&&(a=Te(a,a.length,s,-this.origin[0],-this.origin[1]),Ms(this,a,a.length,s))}this.b.length>o&&(this.g.push(o),this.i.push(e),this.c.s&&(this.l.push(o),this.c.s=!1))},Jy.vb=function(){this.v=new es(this.a),this.o=new es(this.b),this.g.push(this.b.length),0===this.l.length&&0<this.u.length&&(this.u=[]),this.b=this.a=null},Jy.wb=function(t){var e=this.v,r=this.o;return function(){us(t,e),us(t,r)}},Jy.Ke=function(t,e,r,n){var o,i=fs(e,Xv,Kv);return this.H?o=this.H:this.H=o=new ws(t,i),e.Lc(i),t.enableVertexAttribArray(o.l),t.vertexAttribPointer(o.l,2,5126,!1,28,0),t.enableVertexAttribArray(o.b),t.vertexAttribPointer(o.b,2,5126,!1,28,8),t.enableVertexAttribArray(o.o),t.vertexAttribPointer(o.o,2,5126,!1,28,16),t.enableVertexAttribArray(o.i),t.vertexAttribPointer(o.i,1,5126,!1,28,24),t.uniform2fv(o.va,r),t.uniform1f(o.ra,n),o},Jy.Le=function(t,e){t.disableVertexAttribArray(e.l),t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.o),t.disableVertexAttribArray(e.i)},Jy.yd=function(t,e,r,n){var o=t.getParameter(t.DEPTH_FUNC),a=t.getParameter(t.DEPTH_WRITEMASK);if(n||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),x(r)){var s,l,u;for(l=this.g[this.g.length-1],r=this.l.length-1;0<=r;--r)s=this.l[r],u=this.u[r],As(this,t,u[0],u[1],u[2]),ts(t,e,s,l),t.clear(t.DEPTH_BUFFER_BIT),l=s}else{var c,p,f,h;for(f=this.g.length-2,u=l=this.g[f+1],s=this.l.length-1;0<=s;--s){for(c=this.u[s],As(this,t,c[0],c[1],c[2]),c=this.l[s];0<=f&&this.g[f]>=c;)h=this.g[f],p=this.i[f],p=i(p).toString(),r[p]&&(l!==u&&(ts(t,e,l,u),t.clear(t.DEPTH_BUFFER_BIT)),u=h),f--,l=h;l!==u&&(ts(t,e,l,u),t.clear(t.DEPTH_BUFFER_BIT)),l=u=c}}n||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(a),t.depthFunc(o))},Jy.$d=function(t,e,r,n,o){var a,s,l,u,c,p,f;for(f=this.g.length-2,l=this.g[f+1],a=this.l.length-1;0<=a;--a)for(s=this.u[a],As(this,t,s[0],s[1],s[2]),u=this.l[a];0<=f&&this.g[f]>=u;){if(s=this.g[f],c=this.i[f],p=i(c).toString(),void 0===r[p]&&c.V()&&(void 0===o||Kt(o,c.V().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),ts(t,e,s,l),l=n(c)))return l;f--,l=s}},Jy.Ma=function(t,e){var r=e.c;this.c.lineCap=void 0!==r?r:"round",r=e.g,this.c.lineDash=r?r:Bv,r=e.i,this.c.lineJoin=void 0!==r?r:"round",r=e.b,r=r instanceof CanvasGradient||r instanceof CanvasPattern?Uv:Hr(r).map(function(t,e){return 3!=e?t/255:t})||Uv;var n=e.f,n=void 0!==n?n:1,o=e.j,o=void 0!==o?o:10;this.c.strokeColor&&K(this.c.strokeColor,r)&&this.c.lineWidth===n&&this.c.miterLimit===o||(this.c.s=!0,this.c.strokeColor=r,this.c.lineWidth=n,this.c.miterLimit=o,this.u.push([r,n,o]))},r(Ps,Ga);var Zv=new Ps;r(Ls,Ya);var Jv=new Ls;Os.prototype.concat=function(t){if(t.b){if(this.b){var e=this.b.next;this.b.next=t.g,t.g.pb=this.b,e.pb=t.a,t.a.next=e,this.f+=t.f}else this.b=t.b,this.g=t.g,this.a=t.a,this.f=t.f;t.b=void 0,t.g=void 0,t.a=void 0,t.f=0}};var $v,Qv,tg,eg;!function(){var t={},r={ma:t};!function(n){if("object"==typeof t&&"undefined"!=typeof r)r.ma=n();else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:this,o.Tp=n()}}(function(){return function t(e,r,o){function i(s,l){if(!r[s]){if(!e[s]){var u="function"==typeof n&&n;if(!l&&u)return n(s,!0);if(a)return a(s,!0);throw u=Error("Cannot find module '"+s+"'"),u.code="MODULE_NOT_FOUND",u}u=r[s]={ma:{}},e[s][0].call(u.ma,function(t){var r=e[s][1][t];return i(r?r:t)},u,u.ma,t,e,r,o)}return r[s].ma}for(var a="function"==typeof n&&n,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e){function r(t,e,i,a,s){for(i=i||0,a=a||t.length-1,s=s||o;a>i;){if(600<a-i){var l=a-i+1,u=e-i+1,c=Math.log(l),p=.5*Math.exp(2*c/3),c=.5*Math.sqrt(c*p*(l-p)/l)*(0>u-l/2?-1:1);r(t,e,Math.max(i,Math.floor(e-u*p/l+c)),Math.min(a,Math.floor(e+(l-u)*p/l+c)),s)}for(l=t[e],u=i,p=a,n(t,i,e),0<s(t[a],l)&&n(t,i,a);u<p;){for(n(t,u,p),u++,p--;0>s(t[u],l);)u++;for(;0<s(t[p],l);)p--}0===s(t[i],l)?n(t,i,p):(p++,n(t,p,a)),p<=e&&(i=p+1),e<=p&&(a=p-1)}}function n(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function o(t,e){return t<e?-1:t>e?1:0}e.ma=r},{}],2:[function(t,e){function r(t,e){return this instanceof r?(this.af=Math.max(4,t||9),this.rg=Math.max(2,Math.ceil(.4*this.af)),e&&this.vj(e),void this.clear()):new r(t,e)}function n(t,e){o(t,0,t.children.length,e,t)}function o(t,e,r,n,o){o||(o=f(null)),o.ea=1/0,o.ga=1/0,o.ca=-(1/0),o.ja=-(1/0);for(var a;e<r;e++)a=t.children[e],i(o,t.ab?n(a):a);return o}function i(t,e){t.ea=Math.min(t.ea,e.ea),t.ga=Math.min(t.ga,e.ga),t.ca=Math.max(t.ca,e.ca),t.ja=Math.max(t.ja,e.ja)}function a(t,e){return t.ea-e.ea}function s(t,e){return t.ga-e.ga}function l(t){return(t.ca-t.ea)*(t.ja-t.ga)}function u(t){return t.ca-t.ea+(t.ja-t.ga)}function c(t,e){return t.ea<=e.ea&&t.ga<=e.ga&&e.ca<=t.ca&&e.ja<=t.ja}function p(t,e){return e.ea<=t.ca&&e.ga<=t.ja&&e.ca>=t.ea&&e.ja>=t.ga}function f(t){return{children:t,height:1,ab:!0,ea:1/0,ga:1/0,ca:-(1/0),ja:-(1/0)}}function h(t,e,r,n,o){for(var i,a=[e,r];a.length;)r=a.pop(),e=a.pop(),r-e<=n||(i=e+Math.ceil((r-e)/n/2)*n,d(t,i,e,r,o),a.push(e,i,i,r))}e.ma=r;var d=t("quickselect");r.prototype={all:function(){return this.mg(this.data,[])},search:function(t){var e=this.data,r=[],n=this.tb;if(!p(t,e))return r;for(var o,i,a,s,l=[];e;){for(o=0,i=e.children.length;o<i;o++)a=e.children[o],s=e.ab?n(a):a,p(t,s)&&(e.ab?r.push(a):c(t,s)?this.mg(a,r):l.push(a));e=l.pop()}return r},load:function(t){if(!t||!t.length)return this;if(t.length<this.rg){for(var e=0,r=t.length;e<r;e++)this.Da(t[e]);return this}return t=this.og(t.slice(),0,t.length-1,0),this.data.children.length?this.data.height===t.height?this.tg(this.data,t):(this.data.height<t.height&&(e=this.data,this.data=t,t=e),this.qg(t,this.data.height-t.height-1,!0)):this.data=t,this},Da:function(t){return t&&this.qg(t,this.data.height-1),this},clear:function(){return this.data=f([]),this},remove:function(t,e){if(!t)return this;for(var r,n,o,i,a=this.data,s=this.tb(t),l=[],u=[];a||l.length;){if(a||(a=l.pop(),n=l[l.length-1],r=u.pop(),i=!0),a.ab){t:{o=t;var p=a.children,f=e;if(f){for(var h=0;h<p.length;h++)if(f(o,p[h])){o=h;break t}o=-1}else o=p.indexOf(o)}if(-1!==o){a.children.splice(o,1),l.push(a),this.tj(l);break}}i||a.ab||!c(a,s)?n?(r++,a=n.children[r],i=!1):a=null:(l.push(a),u.push(r),r=0,n=a,a=a.children[0])}return this},tb:function(t){return t},ff:a,gf:s,toJSON:function(){return this.data},mg:function(t,e){for(var r=[];t;)t.ab?e.push.apply(e,t.children):r.push.apply(r,t.children),t=r.pop();return e},og:function(t,e,r,o){var i,a=r-e+1,s=this.af;if(a<=s)return i=f(t.slice(e,r+1)),n(i,this.tb),i;o||(o=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,o-1))),i=f([]),i.ab=!1,i.height=o;var l,u,c,a=Math.ceil(a/s),s=a*Math.ceil(Math.sqrt(s));for(h(t,e,r,s,this.ff);e<=r;e+=s)for(u=Math.min(e+s-1,r),h(t,e,u,a,this.gf),l=e;l<=u;l+=a)c=Math.min(l+a-1,u),i.children.push(this.og(t,l,c,o-1));return n(i,this.tb),i},sj:function(t,e,r,n){for(var o,i,a,s,u,c,p,f;n.push(e),!e.ab&&n.length-1!==r;){for(p=f=1/0,o=0,i=e.children.length;o<i;o++)a=e.children[o],u=l(a),c=(Math.max(a.ca,t.ca)-Math.min(a.ea,t.ea))*(Math.max(a.ja,t.ja)-Math.min(a.ga,t.ga))-u,c<f?(f=c,p=u<p?u:p,s=a):c===f&&u<p&&(p=u,s=a);e=s||e.children[0]}return e},qg:function(t,e,r){var n=this.tb;r=r?t:n(t);var n=[],o=this.sj(r,this.data,e,n);for(o.children.push(t),i(o,r);0<=e&&n[e].children.length>this.af;)this.Aj(n,e),e--;this.pj(r,n,e)},Aj:function(t,e){var r=t[e],o=r.children.length,i=this.rg;this.qj(r,i,o),o=this.rj(r,i,o),o=f(r.children.splice(o,r.children.length-o)),o.height=r.height,o.ab=r.ab,n(r,this.tb),n(o,this.tb),e?t[e-1].children.push(o):this.tg(r,o)},tg:function(t,e){this.data=f([t,e]),this.data.height=t.height+1,this.data.ab=!1,n(this.data,this.tb)},rj:function(t,e,r){var n,i,a,s,u,c,p;for(u=c=1/0,n=e;n<=r-e;n++)i=o(t,0,n,this.tb),a=o(t,n,r,this.tb),s=Math.max(0,Math.min(i.ca,a.ca)-Math.max(i.ea,a.ea))*Math.max(0,Math.min(i.ja,a.ja)-Math.max(i.ga,a.ga)),i=l(i)+l(a),s<u?(u=s,p=n,c=i<c?i:c):s===u&&i<c&&(c=i,p=n);return p},qj:function(t,e,r){var n=t.ab?this.ff:a,o=t.ab?this.gf:s,i=this.ng(t,e,r,n);e=this.ng(t,e,r,o),i<e&&t.children.sort(n)},ng:function(t,e,r,n){t.children.sort(n),n=this.tb;var a,s,l=o(t,0,e,n),c=o(t,r-e,r,n),p=u(l)+u(c);for(a=e;a<r-e;a++)s=t.children[a],i(l,t.ab?n(s):s),p+=u(l);for(a=r-e-1;a>=e;a--)s=t.children[a],i(c,t.ab?n(s):s),p+=u(c);return p},pj:function(t,e,r){for(;0<=r;r--)i(e[r],t)},tj:function(t){for(var e,r=t.length-1;0<=r;r--)0===t[r].children.length?0<r?(e=t[r-1].children,e.splice(e.indexOf(t[r]),1)):this.clear():n(t[r],this.tb)},vj:function(t){var e=["return a"," - b",";"];this.ff=new Function("a","b",e.join(t[0])),this.gf=new Function("a","b",e.join(t[1])),this.tb=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},{quickselect:1}]},{},[2])(2)}),$v=r.ma}(),Jy=Us.prototype,Jy.Da=function(t,e){var r={ea:t[0],ga:t[1],ca:t[2],ja:t[3],value:e};this.b.Da(r),this.a[i(e)]=r},Jy.load=function(t,e){for(var r=Array(e.length),n=0,o=e.length;n<o;n++){var a=t[n],s=e[n],a={ea:a[0],ga:a[1],ca:a[2],ja:a[3],value:s};r[n]=a,this.a[i(s)]=a}this.b.load(r)},Jy.remove=function(t){t=i(t);var e=this.a[t];return delete this.a[t],null!==this.b.remove(e)},Jy.forEach=function(t,e){return Gs(Hs(this),t,e)},Jy.clear=function(){this.b.clear(),this.a={}},Jy.G=function(){var t=this.b.data;return[t.ea,t.ga,t.ca,t.ja]},r(Ys,Qa),Jy=Ys.prototype,Jy.wc=function(t,e){var r,n,o,i,a=t.Ad(),s=t.pa(),l=this.b.length,u=this.j.b.length;for(r=0,n=a.length;r<n;++r){var c=a[r].Zc();if(0<c.length){var p,f=c[0].ia(),f=Te(f,f.length,s,-this.origin[0],-this.origin[1]),h=[];for(o=1,i=c.length;o<i;++o)p=c[o].ia(),p=Te(p,p.length,s,-this.origin[0],-this.origin[1]),h.push(p);ks(this.j,f,h,s),Xs(this,f,h,s)}}this.b.length>l&&(this.g.push(l),this.i.push(e),this.l.s&&(this.c.push(l),this.l.s=!1)),this.j.b.length>u&&Cs(this.j,e,u)},Jy.yc=function(t,e){var r=t.Zc(),n=t.pa();if(0<r.length){this.g.push(this.b.length),this.i.push(e),this.l.s&&(this.c.push(this.b.length),this.l.s=!1),Cs(this.j,e);var o,i,a,s=r[0].ia(),s=Te(s,s.length,n,-this.origin[0],-this.origin[1]),l=[];for(o=1,i=r.length;o<i;++o)a=r[o].ia(),a=Te(a,a.length,n,-this.origin[0],-this.origin[1]),l.push(a);ks(this.j,s,l,n),Xs(this,s,l,n)}},Jy.vb=function(t){this.v=new es(this.a),this.o=new es(this.b),this.g.push(this.b.length),this.j.vb(t),0===this.c.length&&0<this.u.length&&(this.u=[]),this.b=this.a=null},Jy.wb=function(t){var e=this.v,r=this.o,n=this.j.wb(t);return function(){us(t,e),us(t,r),n()}},Jy.Ke=function(t,e){var r,n=fs(e,Zv,Jv);return this.H?r=this.H:this.H=r=new Ds(t,n),e.Lc(n),t.enableVertexAttribArray(r.b),t.vertexAttribPointer(r.b,2,5126,!1,8,0),r},Jy.Le=function(t,e){t.disableVertexAttribArray(e.b)},Jy.yd=function(t,e,r,n){var o=t.getParameter(t.DEPTH_FUNC),a=t.getParameter(t.DEPTH_WRITEMASK);if(n||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),x(r)){var s,l,u;for(l=this.g[this.g.length-1],r=this.c.length-1;0<=r;--r)s=this.c[r],u=this.u[r],t.uniform4fv(this.H.D,u),ts(t,e,s,l),l=s}else{var c,p,f,h;for(f=this.g.length-2,u=l=this.g[f+1],s=this.c.length-1;0<=s;--s){for(c=this.u[s],t.uniform4fv(this.H.D,c),c=this.c[s];0<=f&&this.g[f]>=c;)h=this.g[f],p=this.i[f],p=i(p).toString(),r[p]&&(l!==u&&(ts(t,e,l,u),t.clear(t.DEPTH_BUFFER_BIT)),u=h),f--,l=h;l!==u&&(ts(t,e,l,u),t.clear(t.DEPTH_BUFFER_BIT)),l=u=c}}n||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(a),t.depthFunc(o))},Jy.$d=function(t,e,r,n,o){var a,s,l,u,c,p,f;for(f=this.g.length-2,l=this.g[f+1],a=this.c.length-1;0<=a;--a)for(s=this.u[a],t.uniform4fv(this.H.D,s),u=this.c[a];0<=f&&this.g[f]>=u;){if(s=this.g[f],c=this.i[f],p=i(c).toString(),void 0===r[p]&&c.V()&&(void 0===o||Kt(o,c.V().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),ts(t,e,s,l),l=n(c)))return l;f--,l=s}},Jy.Ma=function(t,e){var r=t?t.b:[0,0,0,0];r=r instanceof CanvasGradient||r instanceof CanvasPattern?zv:Hr(r).map(function(t,e){return 3!=e?t/255:t})||zv,this.l.fillColor&&K(r,this.l.fillColor)||(this.l.fillColor=r,this.l.s=!0,this.u.push(r)),e?this.j.Ma(null,e):this.j.Ma(null,new Ni({color:[0,0,0,0],lineWidth:0}))},ul.prototype.f=function(){},r(cl,ha),cl.prototype.b=function(t,e){var r=void 0!==t?t.toString():"0",n=this.a[r];return void 0===n&&(n={},this.a[r]=n),r=n[e],void 0===r&&(r=new ng[e](this.j,this.i),n[e]=r),r},cl.prototype.g=function(){return x(this.a)},cl.prototype.f=function(t,e,r,n,o,i,a,s){var l=Object.keys(this.a).map(Number);l.sort(H);var u,c,p,f,h,d;for(u=0,c=l.length;u<c;++u)for(h=this.a[l[u].toString()],p=0,f=Ov.length;p<f;++p)d=h[Ov[p]],void 0!==d&&d.f(t,e,r,n,o,i,a,s,void 0,!1)},cl.prototype.Ba=function(t,e,r,n,o,i,a,s,l,u){var c=e.b;c.bindFramebuffer(c.FRAMEBUFFER,cs(e));var p;return void 0!==this.c&&(p=Tt(Dt(t),n*this.c)),hl(this,e,t,n,o,a,s,l,function(t){var e=new Uint8Array(4);if(c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,e),0<e[3]&&(t=u(t)))return t},!0,p)};var rg=[1,1],ng={Circle:rs,Image:ms,LineString:Ts,Polygon:Ys,Text:ul};r(yl,Wi),Jy=yl.prototype,Jy.Gd=function(t){this.Ma(t.f,t.g),this.dc(t.a)},Jy.tc=function(t){switch(t.Y()){case"Point":this.xc(t,null);break;case"LineString":this.Pb(t,null);break;case"Polygon":this.yc(t,null);break;case"MultiPoint":this.vc(t,null);break;case"MultiLineString":this.uc(t,null);break;case"MultiPolygon":this.wc(t,null);break;case"GeometryCollection":this.kf(t,null);break;case"Circle":this.hc(t,null)}},Jy.jf=function(t,e){var r=(0,e.c)(t);r&&Kt(this.a,r.G())&&(this.Gd(e),this.tc(r))},Jy.kf=function(t){t=t.f;var e,r;for(e=0,r=t.length;e<r;++e)this.tc(t[e])},Jy.xc=function(t,e){var r=this.b,n=new cl(1,this.a).b(0,"Image");n.dc(this.v),n.xc(t,e),n.vb(r),n.f(this.b,this.g,this.c,this.i,this.j,this.f,1,{},void 0,!1),n.wb(r)()},Jy.vc=function(t,e){var r=this.b,n=new cl(1,this.a).b(0,"Image");n.dc(this.v),n.vc(t,e),n.vb(r),n.f(this.b,this.g,this.c,this.i,this.j,this.f,1,{},void 0,!1),n.wb(r)()},Jy.Pb=function(t,e){var r=this.b,n=new cl(1,this.a).b(0,"LineString");n.Ma(null,this.l),n.Pb(t,e),n.vb(r),n.f(this.b,this.g,this.c,this.i,this.j,this.f,1,{},void 0,!1),n.wb(r)()},Jy.uc=function(t,e){var r=this.b,n=new cl(1,this.a).b(0,"LineString");n.Ma(null,this.l),n.uc(t,e),n.vb(r),n.f(this.b,this.g,this.c,this.i,this.j,this.f,1,{},void 0,!1),n.wb(r)()},Jy.yc=function(t,e){var r=this.b,n=new cl(1,this.a).b(0,"Polygon");n.Ma(this.o,this.l),n.yc(t,e),n.vb(r),n.f(this.b,this.g,this.c,this.i,this.j,this.f,1,{},void 0,!1),n.wb(r)()},Jy.wc=function(t,e){var r=this.b,n=new cl(1,this.a).b(0,"Polygon");n.Ma(this.o,this.l),n.wc(t,e),n.vb(r),n.f(this.b,this.g,this.c,this.i,this.j,this.f,1,{},void 0,!1),n.wb(r)()},Jy.hc=function(t,e){var r=this.b,n=new cl(1,this.a).b(0,"Circle");n.Ma(this.o,this.l),n.hc(t,e),n.vb(r),n.f(this.b,this.g,this.c,this.i,this.j,this.f,1,{},void 0,!1),n.wb(r)()},Jy.dc=function(t){this.v=t},Jy.Ma=function(t,e){this.o=t,this.l=e},r(ml,Ga);var og=new ml;r(vl,Ya);var ig=new vl;r(bl,$i),bl.prototype.Dh=function(t,e,r){_l(this,"precompose",r,t),ls(r,34962,this.U);var n,o=r.b,i=fs(r,og,ig);this.H?n=this.H:this.H=n=new gl(o,i),r.Lc(i)&&(o.enableVertexAttribArray(n.b),o.vertexAttribPointer(n.b,2,5126,!1,16,0),o.enableVertexAttribArray(n.a),o.vertexAttribPointer(n.a,2,5126,!1,16,8),o.uniform1i(n.c,0)),o.uniformMatrix4fv(n.i,!1,$a(this.C,this.v)),o.uniformMatrix4fv(n.f,!1,$a(this.C,this.u)),o.uniform1f(n.g,e.opacity),o.bindTexture(3553,this.yb),o.drawArrays(5,0,4),_l(this,"postcompose",r,t)},bl.prototype.If=function(){this.i=this.yb=null,this.j=void 0},r(wl,Ci),wl.prototype.i=function(t){this.state=t?Tv:wv,this.s()},wl.prototype.load=function(){this.state==xv&&(this.state=_v,this.s(),this.c(this.i.bind(this)))},wl.prototype.a=function(){return this.g};var ag,sg=-1<navigator.userAgent.indexOf("OPR"),lg=-1<navigator.userAgent.indexOf("Edge");ag=!(!navigator.userAgent.match("CriOS")&&"chrome"in window&&"Google Inc."===navigator.vendor&&0==sg&&0==lg),r(Al,Ci),Al.prototype.oa=function(){this.state==_v&&(A(this.Md),this.Md=null),Ci.prototype.oa.call(this)},Al.prototype.a=function(){return this.i},Al.prototype.Ld=function(){var t=this.xb.W();t==wv&&(this.i=Sl(Xt(this.g)/this.c,Wt(this.g)/this.c,this.o,this.xb.resolution,0,this.c,this.g,this.l,[{extent:this.xb.G(),image:this.xb.a()}],0)),this.state=t,this.s()},Al.prototype.load=function(){if(this.state==xv){this.state=_v,this.s();var t=this.xb.W();t==wv||t==Tv?this.Ld():(this.Md=E(this.xb,"change",function(){var t=this.xb.W();t!=wv&&t!=Tv||(A(this.Md),this.Md=null,this.Ld())},this),this.xb.load())}},r(Pl,z),Jy=Pl.prototype,Jy.Ba=o,Jy.za=function(){return this.j},Jy.ya=function(){return this.L},Jy.Aa=function(){return this.f},Jy.W=function(){return this.Fa},Jy.wa=function(){this.s()},Jy.ua=function(t){this.j=Ll(t),this.s()},r(Ol,Pl),Ol.prototype.U=function(t,e,r,n){var o=this.f;if(o&&n&&!de(o,n)){if(this.a){if(this.sa==this.g&&de(this.a.H,n)&&this.a.resolution==e&&this.a.f==r&&It(this.a.G(),t))return this.a;D(this.a),this.a=null}return this.a=new Al(o,n,t,e,r,function(t,e,r){return this.Xc(t,e,r,o)}.bind(this)),this.sa=this.g,this.a}return o&&(n=o),this.Xc(t,e,r,n)},Ol.prototype.o=function(t){switch(t=t.target,t.W()){case _v:this.b(new Nl(ug,t));break;case wv:this.b(new Nl(cg,t));break;case Tv:this.b(new Nl(pg,t))}},r(Nl,O);var ug="imageloadstart",cg="imageloadend",pg="imageloaderror";r(jl,Ol),jl.prototype.Xc=function(t,e,r,n){e=Il(this,e);var o=this.P;return o&&this.Z==this.g&&o.resolution==e&&o.f==r&&kt(o.G(),t)?o:(t=t.slice(),Jt(t,this.na),(n=this.fa(t,e,r,[Xt(t)/e*r,Wt(t)/e*r],n))&&(o=new wl(t,e,r,this.j,n)),this.P=o,this.Z=this.g,o)},r(Fl,jl),Jy=Fl.prototype,Jy.Jj=function(t,e,r,n,o){var i=new Pa(.5*e/r,t,e,this.c.xa,this.xa);this.c.Ed(t,e,o);var a=!1;return this.c.Qb(t,function(t){var n;if(!(n=a)){var o;if((n=t.Gc())?o=n.call(t,e):this.v&&(o=this.v(t,e)),o){var s,l=!1;for(Array.isArray(o)||(o=[o]),n=0,s=o.length;n<s;++n)l=Fa(i,t,o[n],ja(e,r),this.jn,this)||l;n=l}else n=!1}a=n},this),Oa(i),a?null:(this.l[0]!=n[0]||this.l[1]!=n[1]?(this.i.canvas.width=n[0],this.i.canvas.height=n[1],this.l[0]=n[0],this.l[1]=n[1]):this.i.clearRect(0,0,n[0],n[1]),t=zl(this,Vt(t),e,r,n),i.f(this.i,r,t,0,{}),this.u=i,this.i.canvas)},Jy.Ba=function(t,e,r,n,o,a){if(this.u){var s={};return this.u.Ba(t,e,0,n,o,function(t){var e=i(t).toString();if(!(e in s))return s[e]=!0,a(t)})}},Jy.fn=function(){return this.c},Jy.gn=function(){return this.C},Jy.hn=function(){return this.v},Jy.jn=function(){this.s()},Jy.kn=function(){Dl(this,this.c.W())},Jy.Fh=function(t){this.C=void 0!==t?t:zi,this.v=t?Fi(this.C):void 0,this.s()},r(Bl,bl),Bl.prototype.Ba=function(t,e,r,n,o){var i=this.a;return i.la().Ba(t,e.viewState.resolution,e.viewState.rotation,r,e.skippedFeatureUids,function(t){return n.call(o,t,i)})},Bl.prototype.Jf=function(t,e){var r=this.f.g,n=t.pixelRatio,o=t.viewState,i=o.center,a=o.resolution,s=o.rotation,l=this.c,u=this.yb,c=this.a.la(),p=t.viewHints,f=t.extent;return void 0!==e.extent&&(f=qt(f,e.extent)),p[ym]||p[1]||Zt(f)||(o=c.U(f,a,n,o.projection))&&Qi(this,o)&&(l=o,u=Ul(this,o),this.yb&&t.postRenderFunctions.push(function(t,e){t.isContextLost()||t.deleteTexture(e)}.bind(null,r,this.yb))),l&&(r=this.f.c.j,Vl(this,r.width,r.height,n,i,a,s,l.G()),this.o=null,n=this.v,ci(n),mi(n,1,-1),vi(n,0,-1),this.c=l,this.yb=u,ra(t.attributions,l.j),na(t,c)),!!l},Bl.prototype.te=function(t,e){return void 0!==this.Ba(t,e,0,Qt,this)},Bl.prototype.Hf=function(t,e,r,n){if(this.c&&this.c.a())if(this.a.la()instanceof Fl){var o=di(e.pixelToCoordinateTransform,t.slice());if(this.Ba(o,e,0,Qt,this))return r.call(n,this.a,null)}else{if(o=[this.c.a().width,this.c.a().height],!this.o){var i=e.size;e=ui(),vi(e,-1,-1),mi(e,2/i[0],2/i[1]),vi(e,0,i[1]),mi(e,1,-1);var i=bi(this.u.slice()),a=ui();vi(a,0,o[1]),mi(a,1,-1),mi(a,o[0]/2,o[1]/2),vi(a,1,1),pi(a,i),pi(a,e),this.o=a}if(t=di(this.o,t.slice()),!(0>t[0]||t[0]>o[0]||0>t[1]||t[1]>o[1])&&(this.l||(this.l=Yr(1,1)),this.l.clearRect(0,0,1,1),this.l.drawImage(this.c.a(),t[0],t[1],1,1,0,0,1,1),o=this.l.getImageData(0,0,1,1).data,0<o[3]))return r.call(n,this.a,o)}},r(Hl,Ga);var fg=new Hl;r(Wl,Ya);var hg=new Wl;r(Gl,bl),Jy=Gl.prototype,Jy.oa=function(){us(this.f.c,this.D),bl.prototype.oa.call(this)},Jy.hf=function(t,e,r){var n=this.f;return function(o,i){return Yd(t,e,o,i,function(t){var e=n.a.b.hasOwnProperty(t.bb());return e&&(r[o]||(r[o]={}),r[o][t.Ca.toString()]=t),e})}},Jy.If=function(){bl.prototype.If.call(this),this.c=null},Jy.Jf=function(t,e,r){var n=this.f,o=r.b,i=t.viewState,a=i.projection,s=this.a,l=s.la(),c=l.Db(a),p=c.Ec(i.resolution),f=c.Ha(p),h=l.Dd(p,t.pixelRatio,a),d=h[0]/Mr(c.Za(p),this.P)[0],y=f/d,m=l.jb(d)*l.qf(a),v=i.center,g=t.extent,b=Pr(c,g,f);if(this.l&&xr(this.l,b)&&this.o==l.g)y=this.A;else{var x=[b.ca-b.ea+1,b.ja-b.ga+1],_=u(Math.max(x[0]*h[0],x[1]*h[1])),x=y*_,w=c.Kc(p),T=w[0]+b.ea*h[0]*y,y=w[1]+b.ga*h[1]*y,y=[T,y,T+x,y+x];xl(this,t,_),o.viewport(0,0,_,_),o.clearColor(0,0,0,0),o.clear(16384),o.disable(3042),_=fs(r,this.L,this.Z),r.Lc(_),this.c||(this.c=new ql(o,_)),ls(r,34962,this.D),o.enableVertexAttribArray(this.c.b),o.vertexAttribPointer(this.c.b,2,5126,!1,16,0),o.enableVertexAttribArray(this.c.a),o.vertexAttribPointer(this.c.a,2,5126,!1,16,8),o.uniform1i(this.c.g,0),r={},r[p]={};var M,S,E,k=this.hf(l,a,r),C=s.c(),_=!0,T=Pt(),A=new gr(0,0,0,0);for(S=b.ea;S<=b.ca;++S)for(E=b.ga;E<=b.ja;++E)if(w=l.Dc(p,S,E,d,a),void 0===e.extent||(M=c.Na(w.Ca,T),Kt(M,e.extent))){if(M=w.W(),(M=M==Xm||4==M||3==M&&!C)||(w=Wn(w)),M=w.W(),M==Xm){if(n.a.b.hasOwnProperty(w.bb())){r[p][w.Ca.toString()]=w;continue}}else if(4==M||3==M&&!C)continue;_=!1,M=Cr(c,w.Ca,k,A,T),M||(w=Ar(c,w.Ca,A,T))&&k(p+1,w)}e=Object.keys(r).map(Number),e.sort(H);for(var P,k=new Float32Array(4),C=0,A=e.length;C<A;++C)for(P in S=r[e[C]])w=S[P],M=c.Na(w.Ca,T),k[0]=2*(M[2]-M[0])/x,k[1]=2*(M[3]-M[1])/x,k[2]=2*(M[0]-y[0])/x-1,k[3]=2*(M[1]-y[1])/x-1,o.uniform4fv(this.c.f,k),Zl(n,w,h,m*d),o.drawArrays(5,0,4);_?(this.l=b,this.A=y,this.o=l.g):(this.A=this.l=null,this.o=-1,t.animate=!0)}oa(t.usedTiles,l,p,b);var L=n.j;return ia(t,l,c,d,a,g,p,s.f(),function(t){t.W()!=Xm||n.a.b.hasOwnProperty(t.bb())||t.bb()in L.a||L.c([t,Dr(c,t.Ca),c.Ha(t.Ca[0]),h,m*d])},this),ea(t,l),na(t,l),o=this.v,ci(o),vi(o,(Math.round(v[0]/f)*f-y[0])/(y[2]-y[0]),(Math.round(v[1]/f)*f-y[1])/(y[3]-y[1])),0!==i.rotation&&yi(o,i.rotation),mi(o,t.size[0]*i.resolution/(y[2]-y[0]),t.size[1]*i.resolution/(y[3]-y[1])),vi(o,-.5,-.5),!0},Jy.Hf=function(t,e,r,n){if(this.i){t=di(this.v,[t[0]/e.size[0],(e.size[1]-t[1])/e.size[1]].slice()),t=[t[0]*this.j,t[1]*this.j],e=this.f.c.b,e.bindFramebuffer(e.FRAMEBUFFER,this.i);var o=new Uint8Array(4);if(e.readPixels(t[0],t[1],1,1,e.RGBA,e.UNSIGNED_BYTE,o),0<o[3])return r.call(n,this.a,o)}},r(Yl,bl),Jy=Yl.prototype,Jy.Dh=function(t,e,r){this.l=e;var n=t.viewState,o=this.c,i=t.size,a=t.pixelRatio,s=this.f.g;o&&!o.g()&&(s.enable(s.SCISSOR_TEST),s.scissor(0,0,i[0]*a,i[1]*a),o.f(r,n.center,n.resolution,n.rotation,i,a,e.opacity,e.me?t.skippedFeatureUids:{}),s.disable(s.SCISSOR_TEST))},Jy.oa=function(){var t=this.c;t&&(pl(t,this.f.c)(),this.c=null),bl.prototype.oa.call(this)},Jy.Ba=function(t,e,r,n,o){if(this.c&&this.l){r=e.viewState;var a=this.a,s={};return this.c.Ba(t,this.f.c,r.center,r.resolution,r.rotation,e.size,e.pixelRatio,this.l.opacity,{},function(t){var e=i(t).toString();if(!(e in s))return s[e]=!0,n.call(o,t,a)})}},Jy.te=function(t,e){if(this.c&&this.l){var r=e.viewState;return dl(this.c,t,this.f.c,r.resolution,r.rotation,e.pixelRatio,this.l.opacity,e.skippedFeatureUids)}return!1},Jy.Hf=function(t,e,r,n){if(t=di(e.pixelToCoordinateTransform,t.slice()),this.te(t,e))return r.call(n,this.a,null)},Jy.Eh=function(){ta(this)},Jy.Jf=function(t,e,r){function n(t){var e,r=t.Gc();if(r?e=r.call(t,u):(r=o.j)&&(e=r(t,u)),e){if(e){if(r=!1,Array.isArray(e))for(var n=e.length-1;0<=n;--n)r=Fa(f,t,e[n],ja(u,c),this.Eh,this)||r;else r=Fa(f,t,e,ja(u,c),this.Eh,this)||r;t=r}else t=!1;this.o=this.o||t}}var o=this.a;e=o.la(),ra(t.attributions,e.j),na(t,e);var i=t.viewHints[ym],a=t.viewHints[1],s=o.Z,l=o.fa;if(!this.o&&!s&&i||!l&&a)return!0;var a=t.extent,s=t.viewState,i=s.projection,u=s.resolution,c=t.pixelRatio,s=o.g,p=o.i,l=o.get("renderOrder");if(void 0===l&&(l=Na),a=Tt(a,p*u),!this.o&&this.L==u&&this.P==s&&this.D==l&&kt(this.A,a))return!0;this.c&&t.postRenderFunctions.push(pl(this.c,r)),this.o=!1;var f=new cl(.5*u/c,a,o.i);if(e.Ed(a,u,i),l){var h=[];e.Qb(a,function(t){h.push(t)},this),h.sort(l),h.forEach(n,this)}else e.Qb(a,n,this);return fl(f,r),this.L=u,this.P=s,this.D=l,this.A=a,this.c=f,!0},Jy=Xl.prototype,Jy.clear=function(){this.f=0,this.b={},this.g=this.a=null},Jy.forEach=function(t,e){for(var r=this.a;r;)t.call(e,r.Rc,r.jc,this),r=r.Gb},Jy.get=function(t){return t=this.b[t],s(void 0!==t,15),t===this.g?t.Rc:(t===this.a?(this.a=this.a.Gb,this.a.fd=null):(t.Gb.fd=t.fd,t.fd.Gb=t.Gb),t.Gb=null,t.fd=this.g,this.g=this.g.Gb=t,t.Rc)},Jy.pop=function(){var t=this.a;return delete this.b[t.jc],t.Gb&&(t.Gb.fd=null),this.a=t.Gb,this.a||(this.g=null),--this.f,t.Rc},Jy.replace=function(t,e){this.get(t),this.b[t].Rc=e},Jy.set=function(t,e){s(!(t in this.b),16);var r={jc:t,Gb:null,fd:this.g,Rc:e};this.g?this.g.Gb=r:this.a=r,this.g=r,this.b[t]=r,++this.f},r(Kl,xi),Jy=Kl.prototype,Jy.Ag=function(t){return t instanceof Ei?new Bl(this,t):t instanceof ki?new Gl(this,t):t instanceof Vi?new Yl(this,t):null},Jy.oa=function(){var t=this.g;t.isContextLost()||this.a.forEach(function(e){e&&t.deleteTexture(e.yb)}),D(this.c),xi.prototype.oa.call(this)},Jy.Nj=function(t,e){for(var r,n=this.g;1024<this.a.f-this.i;){if(r=this.a.a.Rc)n.deleteTexture(r.yb);else{if(+this.a.a.jc==e.index)break;--this.i}this.a.pop()}},Jy.Y=function(){return"webgl"},Jy.Um=function(t){t.preventDefault(),this.a.clear(),this.i=0,t=this.f;for(var e in t)t[e].If()},Jy.Vm=function(){$l(this),this.l.render()},Jy.ag=function(t){var e=this.c,r=this.g;if(r.isContextLost())return!1;if(!t)return this.o&&(this.b.style.display="none",this.o=!1),!1;this.H=t.focus,this.a.set((-t.index).toString(),null),++this.i,Jl(this,"precompose",t);var n=[],o=t.layerStatesArray;Z(o);var i,a,s,l,u=t.viewState.resolution;for(i=0,a=o.length;i<a;++i)l=o[i],si(l,u)&&"ready"==l.Ei&&(s=Ti(this,l.layer),s.Jf(t,l,e)&&n.push(l));for(o=t.size[0]*t.pixelRatio,u=t.size[1]*t.pixelRatio,this.b.width==o&&this.b.height==u||(this.b.width=o,this.b.height=u),r.bindFramebuffer(36160,null),r.clearColor(0,0,0,0),r.clear(16384),r.enable(3042),r.viewport(0,0,this.b.width,this.b.height),i=0,a=n.length;i<a;++i)l=n[i],s=Ti(this,l.layer),s.Dh(t,l,e);this.o||(this.b.style.display="",this.o=!0),_i(t),1024<this.a.f-this.i&&t.postRenderFunctions.push(this.Nj.bind(this)),0!==this.j.b.length&&(t.postRenderFunctions.push(this.D),t.animate=!0),Jl(this,"postcompose",t),Mi(this,t),t.postRenderFunctions.push(wi)},Jy.Ba=function(t,e,r,n,o,i,a){var s;if(this.g.isContextLost())return!1;var l,u=e.viewState,c=e.layerStatesArray;for(l=c.length-1;0<=l;--l){s=c[l];var p=s.layer;if(si(s,u.resolution)&&i.call(a,p)&&(s=Ti(this,p).Ba(t,e,r,n,o)))return s}},Jy.Ch=function(t,e,r,n,o){if(r=!1,this.g.isContextLost())return!1;var i,a=e.viewState,s=e.layerStatesArray;for(i=s.length-1;0<=i;--i){var l=s[i],u=l.layer;if(si(l,a.resolution)&&n.call(o,u)&&(r=Ti(this,u).te(t,e)))return!0}return r},Jy.Bh=function(t,e,r,n,o){if(this.g.isContextLost())return!1;var i,a,s=e.viewState,l=e.layerStatesArray;for(a=l.length-1;0<=a;--a){i=l[a];var u=i.layer;if(si(i,s.resolution)&&o.call(n,u)&&(i=Ti(this,u).Hf(t,e,r,n)))return i}};var dg=["canvas","webgl"];r(Ql,z),Jy=Ql.prototype,Jy.Bj=function(t){this.l.push(t)},Jy.Cj=function(t){this.j.push(t)},Jy.ug=function(t){this.Bc().cd().push(t)},Jy.vg=function(t){this.o.push(t)},Jy.wg=function(t){var e=t.i;void 0!==e&&(this.Mf[e.toString()]=t),t.setMap(this)},Jy.Ij=function(t){this.render(),Array.prototype.push.apply(this.Z,arguments)},Jy.oa=function(){D(this.Fa),D(this.C),C(this.f,"wheel",this.ad,this),C(this.f,"mousewheel",this.ad,this),void 0!==this.c&&(window.removeEventListener("resize",this.c,!1),this.c=void 0),this.i&&(cancelAnimationFrame(this.i),this.i=void 0),this.ph(null),z.prototype.oa.call(this)},Jy.ae=function(t,e,r){if(this.a)return t=this.Sa(t),r=void 0!==r?r:{},this.C.Ba(t,this.a,void 0!==r.hitTolerance?r.hitTolerance*this.a.pixelRatio:0,e,null,void 0!==r.layerFilter?r.layerFilter:Qt,null)},Jy.Wl=function(t,e,r,n,o){if(this.a)return this.C.Bh(t,this.a,e,void 0!==r?r:null,void 0!==n?n:Qt,void 0!==o?o:null)},Jy.ml=function(t,e){if(!this.a)return!1;var r=this.Sa(t);return e=void 0!==e?e:{},this.C.Ch(r,this.a,void 0!==e.hitTolerance?e.hitTolerance*this.a.pixelRatio:0,void 0!==e.layerFilter?e.layerFilter:Qt,null)},Jy.ck=function(t){return this.Sa(this.ce(t))},Jy.ce=function(t){var e=this.f.getBoundingClientRect();return t=t.changedTouches?t.changedTouches[0]:t,[t.clientX-e.left,t.clientY-e.top]},Jy.vf=function(){return this.get(vg)},Jy.Cc=function(){var t=this.vf();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},Jy.Sa=function(t){var e=this.a;return e?di(e.pixelToCoordinateTransform,t.slice()):null},Jy.ak=function(){return this.l},Jy.vk=function(){return this.o},Jy.uk=function(t){return t=this.Mf[t.toString()],void 0!==t?t:null},Jy.hk=function(){return this.j},Jy.Bc=function(){return this.get(yg)},Jy.oh=function(){return this.Bc().cd()},Jy.Ga=function(t){var e=this.a;return e?di(e.coordinateToPixelTransform,t.slice(0,2)):null},Jy.nb=function(){return this.get(mg)},Jy.aa=function(){return this.get(gg)},Jy.Ik=function(){return this.f},Jy.Gk=function(t,e,r,n){var o=this.a;return o&&e in o.wantedTiles&&o.wantedTiles[e][t.bb()]?(t=r[0]-o.focus[0],r=r[1]-o.focus[1],65536*Math.log(n)+Math.sqrt(t*t+r*r)/n):1/0},Jy.ad=function(t,e){var r=new hn(e||t.type,this,t);this.Zg(r)},Jy.Zg=function(t){if(this.a){this.U=t.coordinate,t.frameState=this.a;var e,r=this.j.a;if(!1!==this.b(t))for(e=r.length-1;0<=e;e--){var n=r[e];if(n.f()&&!n.handleEvent(t))break}}},Jy.fl=function(){var t=this.a,e=this.xa;if(0!==e.b.length){var r=16,n=r;if(t){var o=t.viewHints;o[ym]&&(r=this.Xe?8:0,n=2),o[1]&&(r=this.Ve?8:0,n=2)}e.j<r&&(Kn(e),Jn(e,r,n))}for(e=this.Ja,r=0,n=e.length;r<n;++r)e[r](this,t);e.length=0},Jy.hl=function(){this.render()},Jy.jl=function(){var t;if(this.vf()&&(t=this.Cc()),this.v){for(var e=0,r=this.v.length;e<r;++e)A(this.v[e]);this.v=null}t?(t.appendChild(this.f),t=this.na?this.na:t,this.v=[E(t,"keydown",this.ad,this),E(t,"keypress",this.ad,this)],this.c||(this.c=this.ld.bind(this),window.addEventListener("resize",this.c,!1))):(Kr(this.f),void 0!==this.c&&(window.removeEventListener("resize",this.c,!1),this.c=void 0)),this.ld()},Jy.kl=function(){this.render()},Jy.bh=function(){this.render()},Jy.ll=function(){this.P&&(A(this.P),this.P=null),this.L&&(A(this.L),this.L=null);var t=this.aa();t&&(this.P=E(t,am,this.bh,this),this.L=E(t,"change",this.bh,this)),this.render()},Jy.Tk=function(){this.D&&(this.D.forEach(A),this.D=null);var t=this.Bc();t&&(this.D=[E(t,am,this.render,this),E(t,"change",this.render,this)]),this.render()},Jy.$o=function(){this.i&&cancelAnimationFrame(this.i),
this.sa()},Jy.render=function(){void 0===this.i&&(this.i=requestAnimationFrame(this.sa))},Jy.To=function(t){return this.l.remove(t)},Jy.Uo=function(t){return this.j.remove(t)},Jy.Wo=function(t){return this.Bc().cd().remove(t)},Jy.Xo=function(t){return this.o.remove(t)},Jy.Zo=function(t){var e,r,n,o=this.nb(),a=this.aa(),s=Pt(),l=null;if(void 0!==o&&0<o[0]&&0<o[1]&&a&&mr(a)){var l=fr(a,this.a?this.a.viewHints:void 0),u=this.Bc().sf(),c={};for(e=0,r=u.length;e<r;++e)c[i(u[e].layer)]=u[e];n=a.W(),l={animate:!1,attributions:{},coordinateToPixelTransform:this.Ob,extent:s,focus:this.U?this.U:n.center,index:this.fc++,layerStates:c,layerStatesArray:u,logos:om({},this.bf),pixelRatio:this.cf,pixelToCoordinateTransform:this.df,postRenderFunctions:[],size:o,skippedFeatureUids:this.fa,tileQueue:this.xa,time:t,usedTiles:{},viewState:n,viewHints:l,wantedTiles:{}}}if(l){for(t=this.Z,e=o=0,r=t.length;e<r;++e)a=t[e],a(this,l)&&(t[o++]=a);t.length=o,l.extent=Ht(n.center,n.resolution,n.rotation,l.size,s)}this.a=l,this.C.ag(l),l&&(l.animate&&this.render(),Array.prototype.push.apply(this.Ja,l.postRenderFunctions),0!==this.Z.length||l.viewHints[ym]||l.viewHints[1]||It(l.extent,this.Ua)||(this.b(new Zr("moveend",this,l)),Mt(l.extent,this.Ua))),this.b(new Zr("postrender",this,l)),setTimeout(this.fl.bind(this),0)},Jy.vi=function(t){this.set(yg,t)},Jy.eg=function(t){this.set(mg,t)},Jy.ph=function(t){this.set(vg,t)},Jy.mp=function(t){this.set(gg,t)},Jy.Di=function(t){t=i(t).toString(),this.fa[t]=!0,this.render()},Jy.ld=function(){var t=this.Cc();if(t){var e=getComputedStyle(t);this.eg([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.eg(void 0)},Jy.Ji=function(t){t=i(t).toString(),delete this.fa[t],this.render()};var yg="layergroup",mg="size",vg="target",gg="view";oi(),r(eu,z),Jy=eu.prototype,Jy.be=function(){return this.get(Cg)},Jy.Xl=function(){return this.i},Jy.oe=function(){return this.get(Ag)},Jy.Tg=function(){return this.get(Pg)},Jy.qh=function(){return this.get(Lg)},Jy.Ug=function(){return this.get(Dg)},Jy.Ok=function(){for(var t=this.f;t.lastChild;)t.removeChild(t.lastChild);(t=this.be())&&this.f.appendChild(t)},Jy.Yk=function(){this.c&&(Kr(this.f),A(this.c),this.c=null);var t=this.oe();t&&(this.c=E(t,"postrender",this.render,this),ou(this),t=this.v?t.u:t.A,this.o?t.insertBefore(this.f,t.childNodes[0]||null):t.appendChild(this.f))},Jy.render=function(){ou(this)},Jy.bl=function(){ou(this)},Jy.dl=function(){if(ou(this),void 0!==this.get(Lg)&&this.autoPan){var t=this.oe();if(void 0!==t&&t.Cc()){var e=ru(t.Cc(),t.nb()),r=this.be(),n=r.offsetWidth,o=r.currentStyle||getComputedStyle(r),n=n+(parseInt(o.marginLeft,10)+parseInt(o.marginRight,10)),o=r.offsetHeight,i=r.currentStyle||getComputedStyle(r),o=o+(parseInt(i.marginTop,10)+parseInt(i.marginBottom,10)),a=ru(r,[n,o]),r=this.l;kt(e,a)||(n=a[0]-e[0],o=e[2]-a[2],i=a[1]-e[1],a=e[3]-a[3],e=[0,0],0>n?e[0]=n-r:0>o&&(e[0]=Math.abs(o)+r),0>i?e[1]=i-r:0>a&&(e[1]=Math.abs(a)+r),0===e[0]&&0===e[1])||(r=t.aa().fb(),r=t.Ga(r),e=[r[0]+e[0],r[1]+e[1]],t.aa().animate({center:t.Sa(e),duration:this.j.duration,easing:this.j.easing}))}}},Jy.el=function(){ou(this)},Jy.pi=function(t){this.set(Cg,t)},Jy.setMap=function(t){this.set(Ag,t)},Jy.xi=function(t){this.set(Pg,t)},Jy.Ef=function(t){this.set(Lg,t)},Jy.Ai=function(t){this.set(Dg,t)};var bg="bottom-left",xg="bottom-center",_g="bottom-right",wg="center-left",Tg="center-center",Mg="center-right",Sg="top-left",Eg="top-center",kg="top-right",Cg="element",Ag="map",Pg="offset",Lg="position",Dg="positioning";r(iu,Jr),Jy=iu.prototype,Jy.setMap=function(t){var e=this.a;t!==e&&(e&&(e=e.aa())&&C(e,B(dm),this.je,this),Jr.prototype.setMap.call(this,t),t&&(this.v.push(E(t,am,this.Zk,this)),0===this.f.oh().Ub()&&this.f.vi(t.Bc()),t=t.aa()))&&(E(t,B(dm),this.je,this),mr(t)&&(this.f.ld(),su(this)))},Jy.Zk=function(t){t.key===gg&&((t=t.oldValue)&&C(t,B(dm),this.je,this),t=this.a.aa(),E(t,B(dm),this.je,this))},Jy.je=function(){this.f.aa().pe(this.a.aa().Ra())},Jy.km=function(t){t.preventDefault(),uu(this)},Jy.jm=function(){return this.l},Jy.mm=function(t){this.l!==t&&(this.l=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.j&&uu(this))},Jy.lm=function(t){this.l&&this.j!==t&&uu(this)},Jy.im=function(){return this.j},Jy.wk=function(){return this.f},r(cu,Jr);var Og=[1,2,5];cu.prototype.Eb=function(){return this.get(Ig)},cu.prototype.L=function(){fu(this)},cu.prototype.D=function(t){this.set(Ig,t)};var Ig="units",Rg="degrees",Ng="imperial",jg="nautical",Fg="metric",zg="us";r(hu,Jr),hu.prototype.oa=function(){D(this.l),Jr.prototype.oa.call(this)};var Bg=0;Jy=hu.prototype,Jy.setMap=function(t){Jr.prototype.setMap.call(this,t),t&&t.render()},Jy.Mk=function(t){var e=this.a.aa();t=mu(this,l(1===this.j?(t.offsetX-this.U[0]/2)/this.C:(t.offsetY-this.U[1]/2)/this.o,0,1)),e.animate({resolution:e.constrainResolution(t),duration:this.Z,easing:gt})},Jy.Nk=function(t){if(!this.A&&t.b.target===this.element.firstElementChild&&(vr(this.a.aa(),1,1),this.D=t.clientX,this.L=t.clientY,this.A=!0,0===this.u.length)){t=this.Xg;var e=this.Yg;this.u.push(E(document,"mousemove",t,this),E(document,"touchmove",t,this),E(document,"pointermove",t,this),E(document,"mouseup",e,this),E(document,"touchend",e,this),E(document,"pointerup",e,this))}},Jy.Xg=function(t){if(this.A){var e=this.element.firstElementChild;this.f=mu(this,l(1===this.j?(t.clientX-this.D+parseInt(e.style.left,10))/this.C:(t.clientY-this.L+parseInt(e.style.top,10))/this.o,0,1)),this.a.aa().Oc(this.f),yu(this,this.f),this.D=t.clientX,this.L=t.clientY}},Jy.Yg=function(){if(this.A){var t=this.a.aa();vr(t,1,-1),t.animate({resolution:t.constrainResolution(this.f),duration:this.Z,easing:gt}),this.A=!1,this.L=this.D=void 0,this.u.forEach(A),this.u.length=0}},r(vu,Jr),vu.prototype.j=function(t){t.preventDefault();var e=this.a;t=e.aa();var r=this.f?this.f:t.o.G(),e=e.nb();t.lf(r,e)},r(gu,z),Jy=gu.prototype,Jy.oa=function(){this.Cf(!1),z.prototype.oa.call(this)},Jy.io=function(t){if(null!==t.alpha){var e=f(t.alpha);this.set(Ug,e),"boolean"==typeof t.absolute&&t.absolute?this.set(Wg,e):"number"==typeof t.webkitCompassHeading&&-1!=t.webkitCompassAccuracy&&this.set(Wg,f(t.webkitCompassHeading))}null!==t.beta&&this.set(Vg,f(t.beta)),null!==t.gamma&&this.set(Hg,f(t.gamma)),this.s()},Jy.Vj=function(){return this.get(Ug)},Jy.Yj=function(){return this.get(Vg)},Jy.ek=function(){return this.get(Hg)},Jy.Jl=function(){return this.get(Wg)},Jy.kh=function(){return this.get(qg)},Jy.Kl=function(){if(Fm){var t=this.kh();t&&!this.a?this.a=E(window,"deviceorientation",this.io,this):t||null===this.a||(A(this.a),this.a=null)}},Jy.Cf=function(t){this.set(qg,t)};var Ug="alpha",Vg="beta",Hg="gamma",Wg="heading",qg="tracking";r(bu,z),Jy=bu.prototype,Jy.clone=function(){var t=new bu(this.R());t.Nc(this.a);var e=this.V();return e&&t.Pa(e.clone()),(e=this.i)&&t.Df(e),t},Jy.V=function(){return this.get(this.a)},Jy.Ll=function(){return this.f},Jy.gk=function(){return this.a},Jy.Ml=function(){return this.i},Jy.Gc=function(){return this.j},Jy.Nl=function(){this.s()},Jy.he=function(){this.c&&(A(this.c),this.c=null);var t=this.V();t&&(this.c=E(t,"change",this.Nl,this)),this.s()},Jy.Pa=function(t){this.set(this.a,t)},Jy.Df=function(t){this.j=(this.i=t)?xu(t):void 0,this.s()},Jy.cc=function(t){this.f=t,this.s()},Jy.Nc=function(t){C(this,B(this.a),this.he,this),this.a=t,E(this,B(this.a),this.he,this),this.he()};var Gg=document.implementation.createDocument("","",null),Yg=Iu();r(Yu,Hu),Jy=Yu.prototype,Jy.Y=function(){return"json"},Jy.bc=function(t,e){return this.gd(Xu(t),Wu(this,t,e))},Jy.La=function(t,e){return this.Sf(Xu(t),Wu(this,t,e))},Jy.hd=function(t,e){return this.ci(Xu(t),Wu(this,t,e))},Jy.Wa=function(t){return this.ii(Xu(t))},Jy.Od=function(t,e){return JSON.stringify(this.md(t,e))},Jy.ec=function(t,e){return JSON.stringify(this.Se(t,e))},Jy.od=function(t,e){return JSON.stringify(this.Te(t,e))},r($u,Me),Jy=$u.prototype,Jy.Dj=function(t){this.B?Y(this.B,t):this.B=t.slice(),this.s()},Jy.clone=function(){var t=new $u(null);return t.da(this.ka,this.B.slice()),t},Jy.Ab=function(t,e,r,n){return n<St(this.G(),t,e)?n:(this.A!=this.g&&(this.C=Math.sqrt(Le(this.B,0,this.B.length,this.a,0)),this.A=this.g),Oe(this.B,0,this.B.length,this.a,this.C,!1,t,e,r,n))},Jy.Sj=function(t,e){return Ke(this.B,0,this.B.length,this.a,t,e)},Jy.pm=function(t,e){return"XYM"!=this.ka&&"XYZM"!=this.ka?null:Zu(this.B,0,this.B.length,this.a,t,void 0!==e&&e)},Jy.$=function(){return Fe(this.B,0,this.B.length,this.a)},Jy.Kg=function(t,e){return Ku(this.B,0,this.B.length,this.a,t,e)},Jy.qm=function(){var t,e=this.B,r=this.a,n=e[0],o=e[1],i=0;for(t=0+r;t<this.B.length;t+=r)var a=e[t],s=e[t+1],i=i+Math.sqrt((a-n)*(a-n)+(s-o)*(s-o)),n=a,o=s;return i},Jy.$c=function(t){var e=[];return e.length=Be(this.B,0,this.B.length,this.a,t,e,0),t=new $u(null),t.da("XY",e),t},Jy.Y=function(){return"LineString"},Jy.Ta=function(t){return Ze(this.B,0,this.B.length,this.a,t)},Jy.qa=function(t,e){t?(ke(this,e,t,1),this.B||(this.B=[]),this.B.length=Ne(this.B,0,t,this.a),this.s()):this.da("XY",null)},Jy.da=function(t,e){Ee(this,t,e),this.s()},r(tc,Me),Jy=tc.prototype,Jy.Ej=function(t){this.B?Y(this.B,t.ia().slice()):this.B=t.ia().slice(),this.c.push(this.B.length),this.s()},Jy.clone=function(){var t=new tc(null);return t.da(this.ka,this.B.slice(),this.c.slice()),t},Jy.Ab=function(t,e,r,n){return n<St(this.G(),t,e)?n:(this.l!=this.g&&(this.A=Math.sqrt(De(this.B,0,this.c,this.a,0)),this.l=this.g),Ie(this.B,0,this.c,this.a,this.A,!1,t,e,r,n))},Jy.sm=function(t,e,r){return"XYM"!=this.ka&&"XYZM"!=this.ka||0===this.B.length?null:Ju(this.B,this.c,this.a,t,void 0!==e&&e,void 0!==r&&r)},Jy.$=function(){return ze(this.B,0,this.c,this.a)},Jy.Kb=function(){return this.c},Jy.mk=function(t){if(0>t||this.c.length<=t)return null;var e=new $u(null);return e.da(this.ka,this.B.slice(0===t?0:this.c[t-1],this.c[t])),e},Jy.Yc=function(){var t,e,r=this.B,n=this.c,o=this.ka,i=[],a=0;for(t=0,e=n.length;t<e;++t){var s=n[t],l=new $u(null);l.da(o,r.slice(a,s)),i.push(l),a=s}return i},Jy.$c=function(t){var e,r,n=[],o=[],i=this.B,a=this.c,s=this.a,l=0,u=0;for(e=0,r=a.length;e<r;++e){var c=a[e],u=Be(i,l,c,s,t,n,u);o.push(u),l=c}return n.length=u,t=new tc(null),t.da("XY",n,o),t},Jy.Y=function(){return"MultiLineString"},Jy.Ta=function(t){t:{var e,r,n=this.B,o=this.c,i=this.a,a=0;for(e=0,r=o.length;e<r;++e){if(Ze(n,a,o[e],i,t)){t=!0;break t}a=o[e]}t=!1}return t},Jy.qa=function(t,e){if(t){ke(this,e,t,2),this.B||(this.B=[]);var r=je(this.B,0,t,this.a,this.c);this.B.length=0===r.length?0:r[r.length-1],this.s()}else this.da("XY",null,this.c)},Jy.da=function(t,e,r){Ee(this,t,e),this.c=r,this.s()},r(nc,Me),Jy=nc.prototype,Jy.Gj=function(t){this.B?Y(this.B,t.ia()):this.B=t.ia().slice(),this.s()},Jy.clone=function(){var t=new nc(null);return t.da(this.ka,this.B.slice()),t},Jy.Ab=function(t,e,r,n){if(n<St(this.G(),t,e))return n;var o,i,a,s=this.B,l=this.a;for(o=0,i=s.length;o<i;o+=l)if(a=p(t,e,s[o],s[o+1]),a<n){for(n=a,a=0;a<l;++a)r[a]=s[o+a];r.length=l}return n},Jy.$=function(){return Fe(this.B,0,this.B.length,this.a)},Jy.yk=function(t){var e=this.B?this.B.length/this.a:0;return 0>t||e<=t?null:(e=new We(null),e.da(this.ka,this.B.slice(t*this.a,(t+1)*this.a)),e)},Jy.re=function(){var t,e,r=this.B,n=this.ka,o=this.a,i=[];for(t=0,e=r.length;t<e;t+=o){var a=new We(null);a.da(n,r.slice(t,t+o)),i.push(a)}return i},Jy.Y=function(){return"MultiPoint"},Jy.Ta=function(t){var e,r,n,o,i=this.B,a=this.a;for(e=0,r=i.length;e<r;e+=a)if(n=i[e],o=i[e+1],Ct(t,n,o))return!0;return!1},Jy.qa=function(t,e){t?(ke(this,e,t,1),this.B||(this.B=[]),this.B.length=Ne(this.B,0,t,this.a),this.s()):this.da("XY",null)},Jy.da=function(t,e){Ee(this,t,e),this.s()},r(oc,Me),Jy=oc.prototype,Jy.Hj=function(t){if(this.B){var e=this.B.length;Y(this.B,t.ia()),t=t.Kb().slice();var r,n;for(r=0,n=t.length;r<n;++r)t[r]+=e}else this.B=t.ia().slice(),t=t.Kb().slice(),this.c.push();this.c.push(t),this.s()},Jy.clone=function(){for(var t=new oc(null),e=this.c.length,r=Array(e),n=0;n<e;++n)r[n]=this.c[n].slice();return sc(t,this.ka,this.B.slice(),r),t},Jy.Ab=function(t,e,r,n){if(n<St(this.G(),t,e))return n;if(this.D!=this.g){var o,i,a=this.c,s=0,l=0;for(o=0,i=a.length;o<i;++o)var u=a[o],l=De(this.B,s,u,this.a,l),s=u[u.length-1];this.L=Math.sqrt(l),this.D=this.g}a=ac(this),s=this.c,l=this.a,o=this.L,i=0;var c,p,u=[NaN,NaN];for(c=0,p=s.length;c<p;++c){var f=s[c];n=Ie(a,i,f,l,o,!0,t,e,r,n,u),i=f[f.length-1]}return n},Jy.Hc=function(t,e){var r;t:{r=ac(this);var n=this.c,o=this.a,i=0;if(0!==n.length){var a,s;for(a=0,s=n.length;a<s;++a){var l=n[a];if(Ye(r,i,l,o,t,e)){r=!0;break t}i=l[l.length-1]}}r=!1}return r},Jy.tm=function(){var t,e,r=ac(this),n=this.c,o=0,i=0;for(t=0,e=n.length;t<e;++t)var a=n[t],i=i+Ae(r,o,a,this.a),o=a[a.length-1];return i},Jy.$=function(t){var e;void 0!==t?(e=ac(this).slice(),er(e,this.c,this.a,t)):e=this.B,t=e,e=this.c;var r,n,o=this.a,i=0,a=[],s=0;for(r=0,n=e.length;r<n;++r){var l=e[r];a[s++]=ze(t,i,l,o,a[s]),i=l[l.length-1]}return a.length=s,a},Jy.jk=function(){var t=new nc(null);return t.da("XY",ic(this).slice()),t},Jy.$c=function(t){var e=[],r=[],n=this.B,o=this.c,i=this.a;t=Math.sqrt(t);var a,s,l=0,u=0;for(a=0,s=o.length;a<s;++a){var c=o[a],p=[],u=Ue(n,l,c,i,t,e,u,p);r.push(p),l=c[c.length-1]}return e.length=u,n=new oc(null),sc(n,"XY",e,r),n},Jy.zk=function(t){if(0>t||this.c.length<=t)return null;var e;0===t?e=0:(e=this.c[t-1],e=e[e.length-1]),t=this.c[t].slice();var r=t[t.length-1];if(0!==e){var n,o;for(n=0,o=t.length;n<o;++n)t[n]-=e}return n=new rr(null),n.da(this.ka,this.B.slice(e,r),t),n},Jy.Ad=function(){var t,e,r,n,o=this.ka,i=this.B,a=this.c,s=[],l=0;for(t=0,e=a.length;t<e;++t){var u=a[t].slice(),c=u[u.length-1];if(0!==l)for(r=0,n=u.length;r<n;++r)u[r]-=l;r=new rr(null),r.da(o,i.slice(l,c),u),s.push(r),l=c}return s},Jy.Y=function(){return"MultiPolygon"},Jy.Ta=function(t){t:{var e,r,n=ac(this),o=this.c,i=this.a,a=0;for(e=0,r=o.length;e<r;++e){var s=o[e];if(Je(n,a,s,i,t)){t=!0;break t}a=s[s.length-1]}t=!1}return t},Jy.qa=function(t,e){if(t){ke(this,e,t,3),this.B||(this.B=[]);var r,n,o=this.B,i=this.a,a=this.c,s=0,a=a?a:[],l=0;for(r=0,n=t.length;r<n;++r)s=je(o,s,t[r],i,a[l]),a[l++]=s,s=s[s.length-1];a.length=l,0===a.length?this.B.length=0:(o=a[a.length-1],this.B.length=0===o.length?0:o[o.length-1]),this.s()}else sc(this,"XY",null,this.c)},r(uc,Yu);var Xg={Point:function(t){return void 0!==t.m&&void 0!==t.z?new We([t.x,t.y,t.z,t.m],"XYZM"):void 0!==t.z?new We([t.x,t.y,t.z],"XYZ"):void 0!==t.m?new We([t.x,t.y,t.m],"XYM"):new We([t.x,t.y])},LineString:function(t){return new $u(t.paths[0],pc(t))},Polygon:function(t){return new rr(t.rings,pc(t))},MultiPoint:function(t){return new nc(t.points,pc(t))},MultiLineString:function(t){return new tc(t.paths,pc(t))},MultiPolygon:function(t){return new oc(t.rings,pc(t))}},Kg={Point:function(t){var e,r=t.$();return t=t.ka,"XYZ"===t?e={x:r[0],y:r[1],z:r[2]}:"XYM"===t?e={x:r[0],y:r[1],m:r[2]}:"XYZM"===t?e={x:r[0],y:r[1],z:r[2],m:r[3]}:"XY"===t?e={x:r[0],y:r[1]}:s(!1,34),e},LineString:function(t){var e=fc(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:[t.$()]}},Polygon:function(t){var e=fc(t);return{hasZ:e.hasZ,hasM:e.hasM,rings:t.$(!1)}},MultiPoint:function(t){var e=fc(t);return{hasZ:e.hasZ,hasM:e.hasM,points:t.$()}},MultiLineString:function(t){var e=fc(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:t.$()}},MultiPolygon:function(t){var e=fc(t);t=t.$(!1);for(var r=[],n=0;n<t.length;n++)for(var o=t[n].length-1;0<=o;o--)r.push(t[n][o]);return{hasZ:e.hasZ,hasM:e.hasM,rings:r}}};Jy=uc.prototype,Jy.gd=function(t,e){var r=cc(t.geometry,e),n=new bu;return this.b&&n.Nc(this.b),n.Pa(r),e&&e.zf&&t.attributes[e.zf]&&n.cc(t.attributes[e.zf]),t.attributes&&n.I(t.attributes),n},Jy.Sf=function(t,e){var r=e?e:{};if(t.features){var n,o,i=[],a=t.features;for(r.zf=t.objectIdFieldName,n=0,o=a.length;n<o;++n)i.push(this.gd(a[n],r));return i}return[this.gd(t,r)]},Jy.ci=function(t,e){return cc(t,e)},Jy.ii=function(t){return t.spatialReference&&t.spatialReference.wkid?he("EPSG:"+t.spatialReference.wkid):null},Jy.Te=function(t,e){return hc(t,qu(this,e))},Jy.md=function(t,e){e=qu(this,e);var r={},n=t.V();return n&&(r.geometry=hc(n,e)),n=t.R(),delete n[t.a],r.attributes=x(n)?{}:n,e&&e.featureProjection&&(r.spatialReference={wkid:he(e.featureProjection).hb.split(":").pop()}),r},Jy.Se=function(t,e){e=qu(this,e);var r,n,o=[];for(r=0,n=t.length;r<n;++r)o.push(this.md(t[r],e));return{features:o}},r(yc,dc),r(mc,yc),r(vc,mc),r(gc,dc),r(bc,dc),r(xc,bc),r(_c,xc),r(wc,xc),r(Tc,xc),r(Mc,dc),r(Sc,Mc),r(Ec,bc),r(kc,bc),r(Cc,bc),r(Ac,xc),r(Pc,xc),r(Lc,yc),r(Dc,xc),r(Oc,mc),r(Ic,Mc),r(jc,_e),Jy=jc.prototype,Jy.clone=function(){var t=new jc(null);return t.ti(this.f),t},Jy.Ab=function(t,e,r,n){if(n<St(this.G(),t,e))return n;var o,i,a=this.f;for(o=0,i=a.length;o<i;++o)n=a[o].Ab(t,e,r,n);return n},Jy.Hc=function(t,e){var r,n,o=this.f;for(r=0,n=o.length;r<n;++r)if(o[r].Hc(t,e))return!0;return!1},Jy.Yd=function(t){Lt(1/0,1/0,-(1/0),-(1/0),t);for(var e=this.f,r=0,n=e.length;r<n;++r)Rt(t,e[r].G());return t},Jy.pf=function(){return Fc(this.f)},Jy.Bd=function(t){if(this.o!=this.g&&(g(this.i),this.j=0,this.o=this.g),0>t||0!==this.j&&t<this.j)return this;var e=t.toString();if(this.i.hasOwnProperty(e))return this.i[e];var r,n,o=[],i=this.f,a=!1;for(r=0,n=i.length;r<n;++r){var s=i[r],l=s.Bd(t);o.push(l),l!==s&&(a=!0)}return a?(t=new jc(null),zc(t),t.f=o,Bc(t),t.s(),this.i[e]=t):(this.j=t,this)},Jy.Y=function(){return"GeometryCollection"},Jy.Ta=function(t){var e,r,n=this.f;for(e=0,r=n.length;e<r;++e)if(n[e].Ta(t))return!0;return!1},Jy.rotate=function(t,e){for(var r=this.f,n=0,o=r.length;n<o;++n)r[n].rotate(t,e);this.s()},Jy.scale=function(t,e,r){r||(r=Vt(this.G()));for(var n=this.f,o=0,i=n.length;o<i;++o)n[o].scale(t,e,r);this.s()},Jy.ti=function(t){t=Fc(t),zc(this),this.f=t,Bc(this),this.s()},Jy.sc=function(t){var e,r,n=this.f;for(e=0,r=n.length;e<r;++e)n[e].sc(t);this.s()},Jy.translate=function(t,e){var r,n,o=this.f;for(r=0,n=o.length;r<n;++r)o[r].translate(t,e);this.s()},Jy.oa=function(){zc(this),_e.prototype.oa.call(this)},r(Uc,Yu);var Zg={Point:function(t){return new We(t.coordinates)},LineString:function(t){return new $u(t.coordinates)},Polygon:function(t){return new rr(t.coordinates)},MultiPoint:function(t){return new nc(t.coordinates)},MultiLineString:function(t){return new tc(t.coordinates)},MultiPolygon:function(t){return new oc(t.coordinates)},GeometryCollection:function(t,e){var r=t.geometries.map(function(t){return Vc(t,e)});return new jc(r)}},Jg={Point:function(t){return{type:"Point",coordinates:t.$()}},LineString:function(t){return{type:"LineString",coordinates:t.$()}},Polygon:function(t,e){var r;return e&&(r=e.rightHanded),{type:"Polygon",coordinates:t.$(r)}},MultiPoint:function(t){return{type:"MultiPoint",coordinates:t.$()}},MultiLineString:function(t){return{type:"MultiLineString",coordinates:t.$()}},MultiPolygon:function(t,e){var r;return e&&(r=e.rightHanded),{type:"MultiPolygon",coordinates:t.$(r)}},GeometryCollection:function(t,e){return{type:"GeometryCollection",geometries:t.f.map(function(t){var r=om({},e);return delete r.featureProjection,Hc(t,r)})}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};Jy=Uc.prototype,Jy.gd=function(t,e){var r;r="Feature"===t.type?t:{type:"Feature",geometry:t};var n=Vc(r.geometry,e),o=new bu;return this.b&&o.Nc(this.b),o.Pa(n),void 0!==r.id&&o.cc(r.id),r.properties&&o.I(r.properties),o},Jy.Sf=function(t,e){var r;if("FeatureCollection"===t.type){r=[];var n,o,i=t.features;for(n=0,o=i.length;n<o;++n)r.push(this.gd(i[n],e))}else r=[this.gd(t,e)];return r},Jy.ci=function(t,e){return Vc(t,e)},Jy.ii=function(t){t=t.crs;var e;return t?"name"==t.type?e=he(t.properties.name):"EPSG"==t.type?e=he("EPSG:"+t.properties.code):s(!1,36):e=this.defaultDataProjection,e},Jy.md=function(t,e){e=qu(this,e);var r={type:"Feature"},n=t.f;return void 0!==n&&(r.id=n),(n=t.V())?r.geometry=Hc(n,e):r.geometry=null,n=t.R(),delete n[t.a],x(n)?r.properties=null:r.properties=n,r},Jy.Se=function(t,e){e=qu(this,e);var r,n,o=[];for(r=0,n=t.length;r<n;++r)o.push(this.md(t[r],e));return{type:"FeatureCollection",features:o}},Jy.Te=function(t,e){return Hc(t,qu(this,e))},r(Wc,Hu),Jy=Wc.prototype,Jy.Y=function(){return"xml"},Jy.bc=function(t,e){if(Mu(t))return qc(this,t,e);if(Su(t))return this.ai(t,e);if("string"==typeof t){var r=Eu(t);return qc(this,r,e)}return null},Jy.La=function(t,e){if(Mu(t))return Gc(this,t,e);if(Su(t))return this.oc(t,e);if("string"==typeof t){var r=Eu(t);return Gc(this,r,e)}return[]},Jy.hd=function(t,e){if(Mu(t))return this.u(t,e);if(Su(t)){var r=this.Ee(t,[Wu(this,t,e?e:{})]);return r?r:null}return"string"==typeof t?(r=Eu(t),this.u(r,e)):null},Jy.Wa=function(t){return Mu(t)?this.Xf(t):Su(t)?this.He(t):"string"==typeof t?(t=Eu(t),this.Xf(t)):null},Jy.Xf=function(){return this.defaultDataProjection},Jy.He=function(){return this.defaultDataProjection},Jy.Od=function(t,e){var r=this.C(t,e);return this.f.serializeToString(r)},Jy.ec=function(t,e){var r=this.a(t,e);return this.f.serializeToString(r)},Jy.od=function(t,e){var r=this.H(t,e);return this.f.serializeToString(r)},r(Yc,Wc);var $g=/^[\s\xa0]*$/;Jy=Yc.prototype,Jy.Id=function(t,e){var r=t.localName,n=null;if("FeatureCollection"==r)n="http://www.opengis.net/wfs"===t.namespaceURI?Fu([],this.b,t,e,this):Fu(null,this.b,t,e,this);else if("featureMembers"==r||"featureMember"==r){var o,i,a=e[0],s=a.featureType,l=a.featureNS;if(!s&&t.childNodes){for(s=[],l={},o=0,i=t.childNodes.length;o<i;++o){var u=t.childNodes[o];if(1===u.nodeType){var c=u.nodeName.split(":").pop();if(-1===s.indexOf(c)){var p,f="",h=0,u=u.namespaceURI;for(p in l){if(l[p]===u){f=p;break}++h}f||(f="p"+h,l[f]=u),s.push(f+":"+c)}}}"featureMember"!=r&&(a.featureType=s,a.featureNS=l)}"string"==typeof l&&(o=l,l={},l.p0=o);var d,a={},s=Array.isArray(s)?s:[s];for(d in l){for(c={},o=0,i=s.length;o<i;++o)(-1===s[o].indexOf(":")?"p0":s[o].split(":")[0])===d&&(c[s[o].split(":").pop()]="featureMembers"==r?Cu(this.Rf,this):Au(this.Rf,this));a[l[d]]=c}n="featureMember"==r?Fu(void 0,a,t,e):Fu([],a,t,e)}return null===n&&(n=[]),n},Jy.Ee=function(t,e){var r=e[0];r.srsName=t.firstElementChild.getAttribute("srsName");var n=Fu(null,this.lg,t,e,this);if(n)return Gu(n,!1,r)},Jy.Rf=function(t,e){var r,n;(n=t.getAttribute("fid"))||(n=t.getAttributeNS("http://www.opengis.net/gml","id")||"");var o,i={};for(r=t.firstElementChild;r;r=r.nextElementSibling){var a=r.localName;if(0===r.childNodes.length||1===r.childNodes.length&&(3===r.firstChild.nodeType||4===r.firstChild.nodeType)){var s=wu(r,!1);$g.test(s)&&(s=void 0),i[a]=s}else"boundedBy"!==a&&(o=a),i[a]=this.Ee(r,e)}return r=new bu(i),o&&r.Nc(o),n&&r.cc(n),r},Jy.hi=function(t,e){var r=this.De(t,e);if(r){var n=new We(null);return n.da("XYZ",r),n}},Jy.fi=function(t,e){var r=Fu([],this.cj,t,e,this);if(r)return new nc(r)},Jy.ei=function(t,e){var r=Fu([],this.bj,t,e,this);if(r){var n=new tc(null);return rc(n,r),n}},Jy.gi=function(t,e){var r=Fu([],this.dj,t,e,this);if(r){var n=new oc(null);return lc(n,r),n}},Jy.Yh=function(t,e){ju(this.gj,t,e,this)},Jy.dh=function(t,e){ju(this.$i,t,e,this)},Jy.Zh=function(t,e){ju(this.hj,t,e,this)},Jy.Fe=function(t,e){var r=this.De(t,e);if(r){var n=new $u(null);return n.da("XYZ",r),n}},Jy.Do=function(t,e){var r=Fu(null,this.Qd,t,e,this);if(r)return r},Jy.di=function(t,e){var r=this.De(t,e);if(r){var n=new Ve(null);return He(n,"XYZ",r),n}},Jy.Ge=function(t,e){var r=Fu([null],this.We,t,e,this);if(r&&r[0]){var n,o,i=new rr(null),a=r[0],s=[a.length];for(n=1,o=r.length;n<o;++n)Y(a,r[n]),s.push(a.length);return i.da("XYZ",a,s),i}},Jy.De=function(t,e){return Fu(null,this.Qd,t,e,this)},Jy.cj={"http://www.opengis.net/gml":{pointMember:Cu(Yc.prototype.Yh),pointMembers:Cu(Yc.prototype.Yh)}},Jy.bj={"http://www.opengis.net/gml":{lineStringMember:Cu(Yc.prototype.dh),lineStringMembers:Cu(Yc.prototype.dh)}},Jy.dj={"http://www.opengis.net/gml":{polygonMember:Cu(Yc.prototype.Zh),polygonMembers:Cu(Yc.prototype.Zh)}},Jy.gj={"http://www.opengis.net/gml":{Point:Cu(Yc.prototype.De)}},Jy.$i={"http://www.opengis.net/gml":{LineString:Cu(Yc.prototype.Fe)}},Jy.hj={"http://www.opengis.net/gml":{Polygon:Cu(Yc.prototype.Ge)}},Jy.Rd={"http://www.opengis.net/gml":{LinearRing:Au(Yc.prototype.Do)}},Jy.oc=function(t,e){var r={featureType:this.featureType,featureNS:this.featureNS};return e&&om(r,Wu(this,t,e)),this.Id(t,[r])||[]},Jy.He=function(t){return he(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},r(ap,Yc),Jy=ap.prototype,Jy.Ho=function(t,e){var r=Fu([],this.aj,t,e,this);if(r){var n=new tc(null);return rc(n,r),n}},Jy.Io=function(t,e){var r=Fu([],this.ej,t,e,this);if(r){var n=new oc(null);return lc(n,r),n}},Jy.Cg=function(t,e){ju(this.Xi,t,e,this)},Jy.Gi=function(t,e){ju(this.lj,t,e,this)},Jy.Lo=function(t,e){return Fu([null],this.fj,t,e,this)},Jy.Oo=function(t,e){return Fu([null],this.kj,t,e,this)},Jy.Mo=function(t,e){return Fu([null],this.We,t,e,this)},Jy.Go=function(t,e){return Fu([null],this.Qd,t,e,this)},Jy.ql=function(t,e){var r=Fu(void 0,this.Rd,t,e,this);r&&e[e.length-1].push(r)},Jy.Oj=function(t,e){var r=Fu(void 0,this.Rd,t,e,this);r&&(e[e.length-1][0]=r)},Jy.ji=function(t,e){var r=Fu([null],this.mj,t,e,this);if(r&&r[0]){var n,o,i=new rr(null),a=r[0],s=[a.length];for(n=1,o=r.length;n<o;++n)Y(a,r[n]),s.push(a.length);return i.da("XYZ",a,s),i}},Jy.$h=function(t,e){var r=Fu([null],this.Yi,t,e,this);if(r){var n=new $u(null);return n.da("XYZ",r),n}},Jy.Co=function(t,e){var r=Fu([null],this.Zi,t,e,this);return Lt(r[1][0],r[1][1],r[2][0],r[2][1])},Jy.Eo=function(t,e){for(var r,n=wu(t,!1),o=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,i=[];r=o.exec(n);)i.push(parseFloat(r[1])),n=n.substr(r[0].length);if(""===n){if(n=e[0].srsName,o="enu",n&&(o=he(n).b),"neu"===o)for(n=0,o=i.length;n<o;n+=3)r=i[n],i[n]=i[n+1],i[n+1]=r;return n=i.length,2==n&&i.push(0),0===n?void 0:i}},Jy.Vf=function(t,e){var r=wu(t,!1).replace(/^\s*|\s*$/g,""),n=e[0].srsName,o=t.parentNode.getAttribute("srsDimension"),i="enu";n&&(i=he(n).b),r=r.split(/\s+/),n=2,t.getAttribute("srsDimension")?n=tp(t.getAttribute("srsDimension")):t.getAttribute("dimension")?n=tp(t.getAttribute("dimension")):o&&(n=tp(o));for(var a,s,l=[],u=0,c=r.length;u<c;u+=n)o=parseFloat(r[u]),a=parseFloat(r[u+1]),s=3===n?parseFloat(r[u+2]):0,"en"===i.substr(0,2)?l.push(o,a,s):l.push(a,o,s);return l},Jy.Qd={"http://www.opengis.net/gml":{pos:Au(ap.prototype.Eo),posList:Au(ap.prototype.Vf)}},Jy.We={"http://www.opengis.net/gml":{interior:ap.prototype.ql,exterior:ap.prototype.Oj}},Jy.lg={"http://www.opengis.net/gml":{Point:Au(Yc.prototype.hi),MultiPoint:Au(Yc.prototype.fi),LineString:Au(Yc.prototype.Fe),MultiLineString:Au(Yc.prototype.ei),LinearRing:Au(Yc.prototype.di),Polygon:Au(Yc.prototype.Ge),MultiPolygon:Au(Yc.prototype.gi),Surface:Au(ap.prototype.ji),MultiSurface:Au(ap.prototype.Io),Curve:Au(ap.prototype.$h),MultiCurve:Au(ap.prototype.Ho),Envelope:Au(ap.prototype.Co)}},Jy.aj={"http://www.opengis.net/gml":{curveMember:Cu(ap.prototype.Cg),curveMembers:Cu(ap.prototype.Cg)}},Jy.ej={"http://www.opengis.net/gml":{surfaceMember:Cu(ap.prototype.Gi),surfaceMembers:Cu(ap.prototype.Gi)}},Jy.Xi={"http://www.opengis.net/gml":{LineString:Cu(Yc.prototype.Fe),Curve:Cu(ap.prototype.$h)}},Jy.lj={"http://www.opengis.net/gml":{Polygon:Cu(Yc.prototype.Ge),Surface:Cu(ap.prototype.ji)}},Jy.mj={"http://www.opengis.net/gml":{patches:Au(ap.prototype.Lo)}},Jy.Yi={"http://www.opengis.net/gml":{segments:Au(ap.prototype.Oo)}},Jy.Zi={"http://www.opengis.net/gml":{lowerCorner:Cu(ap.prototype.Vf),upperCorner:Cu(ap.prototype.Vf)}},Jy.fj={"http://www.opengis.net/gml":{PolygonPatch:Au(ap.prototype.Mo)}},Jy.kj={"http://www.opengis.net/gml":{LineStringSegment:Au(ap.prototype.Go)}},Jy.Ti=function(t,e,r){var n=r[r.length-1].srsName;n&&t.setAttribute("srsName",n),n=_u(t.namespaceURI,"pos"),t.appendChild(n),r=r[r.length-1].srsName,t="enu",r&&(t=he(r).b),e=e.$(),ip(n,"en"===t.substr(0,2)?e[0]+" "+e[1]:e[1]+" "+e[0])};var Qg={"http://www.opengis.net/gml":{lowerCorner:Du(ip),upperCorner:Du(ip)}};Jy=ap.prototype,Jy.zp=function(t,e,r){var n=r[r.length-1].srsName;n&&t.setAttribute("srsName",n),Bu({node:t},Qg,Yg,[e[0]+" "+e[1],e[2]+" "+e[3]],r,["lowerCorner","upperCorner"],this)},Jy.Qi=function(t,e,r){var n=r[r.length-1].srsName;n&&t.setAttribute("srsName",n),n=_u(t.namespaceURI,"posList"),t.appendChild(n),sp(n,e,r)},Jy.jj=function(t,e){var r=e[e.length-1],n=r.node,o=r.exteriorWritten;return void 0===o&&(r.exteriorWritten=!0),_u(n.namespaceURI,void 0!==o?"interior":"exterior")},Jy.Ue=function(t,e,r){var n=r[r.length-1].srsName;"PolygonPatch"!==t.nodeName&&n&&t.setAttribute("srsName",n),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName?(e=e.Zc(),Bu({node:t,srsName:n},nb,this.jj,e,r,void 0,this)):"Surface"===t.nodeName&&(n=_u(t.namespaceURI,"patches"),t.appendChild(n),t=_u(n.namespaceURI,"PolygonPatch"),n.appendChild(t),this.Ue(t,e,r))},Jy.Qe=function(t,e,r){var n=r[r.length-1].srsName;"LineStringSegment"!==t.nodeName&&n&&t.setAttribute("srsName",n),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName?(n=_u(t.namespaceURI,"posList"),t.appendChild(n),sp(n,e,r)):"Curve"===t.nodeName&&(n=_u(t.namespaceURI,"segments"),t.appendChild(n),t=_u(n.namespaceURI,"LineStringSegment"),n.appendChild(t),this.Qe(t,e,r))},Jy.Si=function(t,e,r){var n=r[r.length-1],o=n.srsName,n=n.surface;o&&t.setAttribute("srsName",o),e=e.Ad(),Bu({node:t,srsName:o,surface:n},tb,this.c,e,r,void 0,this)},Jy.Ap=function(t,e,r){var n=r[r.length-1].srsName;n&&t.setAttribute("srsName",n),e=e.re(),Bu({node:t,srsName:n},eb,Iu("pointMember"),e,r,void 0,this)},Jy.Ri=function(t,e,r){var n=r[r.length-1],o=n.srsName,n=n.curve;o&&t.setAttribute("srsName",o),e=e.Yc(),Bu({node:t,srsName:o,curve:n},rb,this.c,e,r,void 0,this)},Jy.Ui=function(t,e,r){var n=_u(t.namespaceURI,"LinearRing");t.appendChild(n),this.Qi(n,e,r)},Jy.Vi=function(t,e,r){var n=this.g(e,r);n&&(t.appendChild(n),this.Ue(n,e,r))},Jy.Bp=function(t,e,r){var n=_u(t.namespaceURI,"Point");t.appendChild(n),this.Ti(n,e,r)},Jy.Pi=function(t,e,r){var n=this.g(e,r);n&&(t.appendChild(n),this.Qe(n,e,r))},Jy.pd=function(t,e,r){var n=r[r.length-1],o=om({},n);o.node=t;var i;i=Array.isArray(e)?n.dataProjection?xe(e,n.featureProjection,n.dataProjection):e:Gu(e,!0,n),Bu(o,ob,this.g,[i],r,void 0,this)},Jy.Ni=function(t,e,r){var n=e.f;n&&t.setAttribute("fid",n);var n=r[r.length-1],o=n.featureNS,i=e.a;n.Mc||(n.Mc={},n.Mc[o]={});var a=e.R();e=[];var s,l=[];for(s in a){var u=a[s];null!==u&&(e.push(s),l.push(u),s==i||u instanceof _e?s in n.Mc[o]||(n.Mc[o][s]=Du(this.pd,this)):s in n.Mc[o]||(n.Mc[o][s]=Du(ip)))}s=om({},n),s.node=t,Bu(s,n.Mc,Iu(void 0,o),l,r,e)};var tb={"http://www.opengis.net/gml":{surfaceMember:Du(ap.prototype.Vi),polygonMember:Du(ap.prototype.Vi)}},eb={"http://www.opengis.net/gml":{pointMember:Du(ap.prototype.Bp)}},rb={"http://www.opengis.net/gml":{lineStringMember:Du(ap.prototype.Pi),curveMember:Du(ap.prototype.Pi)}},nb={"http://www.opengis.net/gml":{exterior:Du(ap.prototype.Ui),interior:Du(ap.prototype.Ui)}},ob={"http://www.opengis.net/gml":{Curve:Du(ap.prototype.Qe),MultiCurve:Du(ap.prototype.Ri),Point:Du(ap.prototype.Ti),MultiPoint:Du(ap.prototype.Ap),LineString:Du(ap.prototype.Qe),MultiLineString:Du(ap.prototype.Ri),LinearRing:Du(ap.prototype.Qi),Polygon:Du(ap.prototype.Ue),MultiPolygon:Du(ap.prototype.Si),Surface:Du(ap.prototype.Ue),MultiSurface:Du(ap.prototype.Si),Envelope:Du(ap.prototype.zp)}},ib={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};ap.prototype.c=function(t,e){return _u("http://www.opengis.net/gml",ib[e[e.length-1].node.nodeName])},ap.prototype.g=function(t,e){var r,n=e[e.length-1],o=n.multiSurface,i=n.surface,a=n.curve,n=n.multiCurve;return Array.isArray(t)?r="Envelope":(r=t.Y(),"MultiPolygon"===r&&!0===o?r="MultiSurface":"Polygon"===r&&!0===i?r="Surface":"LineString"===r&&!0===a?r="Curve":"MultiLineString"===r&&!0===n&&(r="MultiCurve")),
_u("http://www.opengis.net/gml",r)},ap.prototype.H=function(t,e){e=qu(this,e);var r=_u("http://www.opengis.net/gml","geom"),n={node:r,srsName:this.srsName,curve:this.i,surface:this.v,multiSurface:this.o,multiCurve:this.l};return e&&om(n,e),this.pd(r,t,[n]),r},ap.prototype.a=function(t,e){e=qu(this,e);var r=_u("http://www.opengis.net/gml","featureMembers");r.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var n={srsName:this.srsName,curve:this.i,surface:this.v,multiSurface:this.o,multiCurve:this.l,featureNS:this.featureNS,featureType:this.featureType};e&&om(n,e);var n=[n],o=n[n.length-1],i=o.featureType,a=o.featureNS,s={};return s[a]={},s[a][i]=Du(this.Ni,this),o=om({},o),o.node=r,Bu(o,s,Iu(i,a),t,n),r},r(lp,Yc),Jy=lp.prototype,Jy.bi=function(t,e){var r=wu(t,!1).replace(/^\s*|\s*$/g,""),n=e[0].srsName,o=t.parentNode.getAttribute("srsDimension"),i="enu";n&&(n=he(n))&&(i=n.b),r=r.split(/[\s,]+/),n=2,t.getAttribute("srsDimension")?n=tp(t.getAttribute("srsDimension")):t.getAttribute("dimension")?n=tp(t.getAttribute("dimension")):o&&(n=tp(o));for(var a,s,l=[],u=0,c=r.length;u<c;u+=n)o=parseFloat(r[u]),a=parseFloat(r[u+1]),s=3===n?parseFloat(r[u+2]):0,"en"===i.substr(0,2)?l.push(o,a,s):l.push(a,o,s);return l},Jy.Ao=function(t,e){var r=Fu([null],this.Wi,t,e,this);return Lt(r[1][0],r[1][1],r[1][3],r[1][4])},Jy.ol=function(t,e){var r=Fu(void 0,this.Rd,t,e,this);r&&e[e.length-1].push(r)},Jy.jo=function(t,e){var r=Fu(void 0,this.Rd,t,e,this);r&&(e[e.length-1][0]=r)},Jy.Qd={"http://www.opengis.net/gml":{coordinates:Au(lp.prototype.bi)}},Jy.We={"http://www.opengis.net/gml":{innerBoundaryIs:lp.prototype.ol,outerBoundaryIs:lp.prototype.jo}},Jy.Wi={"http://www.opengis.net/gml":{coordinates:Cu(lp.prototype.bi)}},Jy.lg={"http://www.opengis.net/gml":{Point:Au(Yc.prototype.hi),MultiPoint:Au(Yc.prototype.fi),LineString:Au(Yc.prototype.Fe),MultiLineString:Au(Yc.prototype.ei),LinearRing:Au(Yc.prototype.di),Polygon:Au(Yc.prototype.Ge),MultiPolygon:Au(Yc.prototype.gi),Box:Au(lp.prototype.Ao)}},r(up,Wc);var ab=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],sb={rte:dp,trk:yp,wpt:mp},lb=Nu(ab,{rte:Cu(dp),trk:Cu(yp),wpt:Cu(mp)}),ub=Nu(ab,{text:Lu(ep,"linkText"),type:Lu(ep,"linkType")}),cb=Nu(ab,{name:Lu(ep),cmt:Lu(ep),desc:Lu(ep),src:Lu(ep),link:fp,number:Lu(Qc),extensions:hp,type:Lu(ep),rtept:function(t,e){var r=Fu({},pb,t,e);if(r){var n=e[e.length-1];cp(n.flatCoordinates,n.layoutOptions,t,r)}}}),pb=Nu(ab,{ele:Lu(Jc),time:Lu(Zc)}),fb=Nu(ab,{name:Lu(ep),cmt:Lu(ep),desc:Lu(ep),src:Lu(ep),link:fp,number:Lu(Qc),type:Lu(ep),extensions:hp,trkseg:function(t,e){var r=e[e.length-1];ju(hb,t,e),r.ends.push(r.flatCoordinates.length)}}),hb=Nu(ab,{trkpt:function(t,e){var r=Fu({},db,t,e);if(r){var n=e[e.length-1];cp(n.flatCoordinates,n.layoutOptions,t,r)}}}),db=Nu(ab,{ele:Lu(Jc),time:Lu(Zc)}),yb=Nu(ab,{ele:Lu(Jc),time:Lu(Zc),magvar:Lu(Jc),geoidheight:Lu(Jc),name:Lu(ep),cmt:Lu(ep),desc:Lu(ep),src:Lu(ep),link:fp,sym:Lu(ep),type:Lu(ep),fix:Lu(ep),sat:Lu(Qc),hdop:Lu(Jc),vdop:Lu(Jc),pdop:Lu(Jc),ageofdgpsdata:Lu(Jc),dgpsid:Lu(Qc),extensions:hp});up.prototype.ai=function(t,e){if(!W(ab,t.namespaceURI))return null;var r=sb[t.localName];return r&&(r=r(t,[Wu(this,t,e)]))?(vp(this,[r]),r):null},up.prototype.oc=function(t,e){if(!W(ab,t.namespaceURI))return[];if("gpx"==t.localName){var r=Fu([],lb,t,[Wu(this,t,e)]);if(r)return vp(this,r),r}return[]};var mb=["text","type"],vb=Nu(ab,{text:Du(ip),type:Du(ip)}),gb=Nu(ab,"name cmt desc src link number type rtept".split(" ")),bb=Nu(ab,{name:Du(ip),cmt:Du(ip),desc:Du(ip),src:Du(ip),link:Du(gp),number:Du(op),type:Du(ip),rtept:Ou(Du(bp))}),xb=Nu(ab,["ele","time"]),_b=Nu(ab,"name cmt desc src link number type trkseg".split(" ")),wb=Nu(ab,{name:Du(ip),cmt:Du(ip),desc:Du(ip),src:Du(ip),link:Du(gp),number:Du(op),type:Du(ip),trkseg:Ou(Du(function(t,e,r){Bu({node:t,geometryLayout:e.ka,properties:{}},Mb,Tb,e.$(),r)}))}),Tb=Iu("trkpt"),Mb=Nu(ab,{trkpt:Du(bp)}),Sb=Nu(ab,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),Eb=Nu(ab,{ele:Du(np),time:Du(function(t,e){var r=new Date(1e3*e);t.appendChild(Gg.createTextNode(r.getUTCFullYear()+"-"+it(r.getUTCMonth()+1)+"-"+it(r.getUTCDate())+"T"+it(r.getUTCHours())+":"+it(r.getUTCMinutes())+":"+it(r.getUTCSeconds())+"Z"))}),magvar:Du(np),geoidheight:Du(np),name:Du(ip),cmt:Du(ip),desc:Du(ip),src:Du(ip),link:Du(gp),sym:Du(ip),type:Du(ip),fix:Du(ip),sat:Du(op),hdop:Du(np),vdop:Du(np),pdop:Du(np),ageofdgpsdata:Du(np),dgpsid:Du(op)}),kb={Point:"wpt",LineString:"rte",MultiLineString:"trk"},Cb=Nu(ab,{rte:Du(function(t,e,r){var n=r[0],o=e.R();t={node:t,properties:o},(e=e.V())&&(e=Gu(e,!0,n),t.geometryLayout=e.ka,o.rtept=e.$()),n=gb[r[r.length-1].node.namespaceURI],o=Ru(o,n),Bu(t,bb,Yg,o,r,n)}),trk:Du(function(t,e,r){var n=r[0],o=e.R();t={node:t,properties:o},(e=e.V())&&(e=Gu(e,!0,n),o.trkseg=e.Yc()),n=_b[r[r.length-1].node.namespaceURI],o=Ru(o,n),Bu(t,wb,Yg,o,r,n)}),wpt:Du(function(t,e,r){var n=r[0],o=r[r.length-1];o.properties=e.R(),(e=e.V())&&(e=Gu(e,!0,n),o.geometryLayout=e.ka,bp(t,e.$(),r))})});up.prototype.a=function(t,e){e=qu(this,e);var r=_u("http://www.topografix.com/GPX/1/1","gpx");return r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),r.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),r.setAttribute("version","1.1"),r.setAttribute("creator","OpenLayers 3"),Bu({node:r},Cb,xp,t,[e]),r},r(_p,Hu),Jy=_p.prototype,Jy.Y=function(){return"text"},Jy.bc=function(t,e){return this.Hd(wp(t),qu(this,e))},Jy.La=function(t,e){return this.Tf(wp(t),qu(this,e))},Jy.hd=function(t,e){return this.Jd(wp(t),qu(this,e))},Jy.Wa=function(){return this.defaultDataProjection},Jy.Od=function(t,e){return this.Re(t,qu(this,e))},Jy.ec=function(t,e){return this.Oi(t,qu(this,e))},Jy.od=function(t,e){return this.Pd(t,qu(this,e))},r(Tp,_p);var Ab=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,Pb=/^H.([A-Z]{3}).*?:(.*)/,Lb=/^HFDTE(\d{2})(\d{2})(\d{2})/,Db=/\r\n|\r|\n/;Tp.prototype.Hd=function(t,e){var r,n,o=this.b,i=t.split(Db),a={},s=[],l=2e3,u=0,c=1,p=-1;for(r=0,n=i.length;r<n;++r){var f,h=i[r];if("B"==h.charAt(0)){if(f=Ab.exec(h)){var h=parseInt(f[1],10),d=parseInt(f[2],10),y=parseInt(f[3],10),m=parseInt(f[4],10)+parseInt(f[5],10)/6e4;"S"==f[6]&&(m=-m);var v=parseInt(f[7],10)+parseInt(f[8],10)/6e4;"W"==f[9]&&(v=-v),s.push(v,m),o!=Rb&&s.push(o==Ib?parseInt(f[11],10):o==Ob?parseInt(f[12],10):0),f=Date.UTC(l,u,c,h,d,y),f<p&&(f=Date.UTC(l,u,c+1,h,d,y)),s.push(f/1e3),p=f}}else"H"==h.charAt(0)&&((f=Lb.exec(h))?(c=parseInt(f[1],10),u=parseInt(f[2],10)-1,l=2e3+parseInt(f[3],10)):(f=Pb.exec(h))&&(a[f[1]]=f[2].trim()))}return 0===s.length?null:(i=new $u(null),i.da(o==Rb?"XYM":"XYZM",s),o=new bu(Gu(i,!1,e)),o.I(a),o)},Tp.prototype.Tf=function(t,e){var r=this.Hd(t,e);return r?[r]:[]};var Ob="barometric",Ib="gps",Rb="none";r(Mp,R),Mp.prototype.H=function(){this.f=Tv,this.i.forEach(A),this.i=null,this.b("change")},Mp.prototype.u=function(){if(this.f=wv,this.g&&(this.a.width=this.g[0],this.a.height=this.g[1]),this.g=[this.a.width,this.a.height],this.i.forEach(A),this.i=null,Sp(this),!this.v&&null!==this.j){this.c.width=this.a.width,this.c.height=this.a.height;var t=this.c.getContext("2d");t.drawImage(this.a,0,0);for(var e=t.getImageData(0,0,this.a.width,this.a.height),r=e.data,n=this.j[0]/255,o=this.j[1]/255,i=this.j[2]/255,a=0,s=r.length;a<s;a+=4)r[a]*=n,r[a+1]*=o,r[a+2]*=i;t.putImageData(e,0,0)}this.b("change")},Mp.prototype.load=function(){if(this.f==xv){this.f=_v,this.i=[k(this.a,"error",this.H,this),k(this.a,"load",this.u,this)];try{this.a.src=this.o}catch(t){this.H()}}},r(Ep,Li),Jy=Ep.prototype,Jy.clone=function(){var t,e=this.Ic(1);if(this.b.f===wv)if("IMG"===e.tagName.toUpperCase())t=e.cloneNode(!0);else{t=document.createElement("canvas");var r=t.getContext("2d");t.width=e.width,t.height=e.height,r.drawImage(e,0,0)}return new Ep({anchor:this.c.slice(),anchorOrigin:this.a,anchorXUnits:this.C,anchorYUnits:this.D,crossOrigin:this.ra,color:this.f&&this.f.slice?this.f.slice():this.f||void 0,img:t?t:void 0,imgSize:t?this.b.g.slice():void 0,src:t?void 0:this.b.o,offset:this.L.slice(),offsetOrigin:this.g,size:null!==this.A?this.A.slice():void 0,opacity:this.l,scale:this.i,snapToPixel:this.u,rotation:this.o,rotateWithView:this.H})},Jy.Ac=function(){if(this.j)return this.j;var t=this.c,e=this.ac();if(this.C==Nb||this.D==Nb){if(!e)return null;t=this.c.slice(),this.C==Nb&&(t[0]*=e[0]),this.D==Nb&&(t[1]*=e[1])}if(this.a!=zb){if(!e)return null;t===this.c&&(t=this.c.slice()),this.a!=Bb&&this.a!=Fb||(t[0]=-t[0]+e[0]),this.a!=jb&&this.a!=Fb||(t[1]=-t[1]+e[1])}return this.j=t},Jy.Gn=function(){return this.f},Jy.Ic=function(){var t=this.b;return t.c?t.c:t.a},Jy.de=function(){return this.b.g},Jy.xe=function(){return this.b.f},Jy.Lf=function(){var t=this.b;if(!t.l)if(t.v){var e=t.g[0],r=t.g[1],n=Yr(e,r);n.fillRect(0,0,e,r),t.l=n.canvas}else t.l=t.a;return t.l},Jy.Jc=function(){if(this.v)return this.v;var t=this.L;if(this.g!=zb){var e=this.ac(),r=this.b.g;if(!e||!r)return null;t=t.slice(),this.g!=Bb&&this.g!=Fb||(t[0]=r[0]-e[0]-t[0]),this.g!=jb&&this.g!=Fb||(t[1]=r[1]-e[1]-t[1])}return this.v=t},Jy.Hn=function(){return this.b.o},Jy.ac=function(){return this.A?this.A:this.b.g},Jy.eh=function(t,e){return E(this.b,"change",t,e)},Jy.load=function(){this.b.load()},Jy.Ii=function(t,e){C(this.b,"change",t,e)};var Nb="fraction",jb="bottom-left",Fb="bottom-right",zb="top-left",Bb="top-right";Jy=kp.prototype,Jy.clone=function(){return new kp({font:this.g,rotation:this.j,rotateWithView:this.v,scale:this.a,text:this.Ka(),textAlign:this.l,textBaseline:this.o,fill:this.b?this.b.clone():void 0,stroke:this.f?this.f.clone():void 0,offsetX:this.c,offsetY:this.i})},Jy.dk=function(){return this.g},Jy.sk=function(){return this.c},Jy.tk=function(){return this.i},Jy.Vn=function(){return this.b},Jy.Wn=function(){return this.v},Jy.Xn=function(){return this.j},Jy.Yn=function(){return this.a},Jy.Zn=function(){return this.f},Jy.Ka=function(){return this.H},Jy.Dk=function(){return this.l},Jy.Ek=function(){return this.o},Jy.si=function(t){this.g=t},Jy.yi=function(t){this.c=t},Jy.zi=function(t){this.i=t},Jy.Sh=function(t){this.b=t},Jy.$n=function(t){this.j=t},Jy.Th=function(t){this.a=t},Jy.Uh=function(t){this.f=t},Jy.Vh=function(t){this.H=t},Jy.Bi=function(t){this.l=t},Jy.lp=function(t){this.o=t};var Ub,Vb,Hb,Wb,qb,Gb,Yb,Xb,Kb,Zb,Jb,$b,Qb,tx,ex;r(Cp,Wc);var rx=["http://www.google.com/kml/ext/2.2"],nx=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],ox={fraction:Nb,pixels:"pixels"},ix=Nu(nx,{displayName:Lu(ep),value:Lu(ep)}),ax=Nu(nx,{Data:function(t,e){var r=t.getAttribute("name");ju(ix,t,e);var n=e[e.length-1];null!==r?n[r]=n.value:null!==n.displayName&&(n[n.displayName]=n.value)},SchemaData:function(t,e){ju(Cx,t,e)}}),sx=Nu(nx,{LatLonAltBox:function(t,e){var r=Fu({},lx,t,e);if(r){var n=e[e.length-1];n.extent=[parseFloat(r.west),parseFloat(r.south),parseFloat(r.east),parseFloat(r.north)],n.altitudeMode=r.altitudeMode,n.minAltitude=parseFloat(r.minAltitude),n.maxAltitude=parseFloat(r.maxAltitude)}},Lod:function(t,e){var r=Fu({},ux,t,e);if(r){var n=e[e.length-1];n.minLodPixels=parseFloat(r.minLodPixels),n.maxLodPixels=parseFloat(r.maxLodPixels),n.minFadeExtent=parseFloat(r.minFadeExtent),n.maxFadeExtent=parseFloat(r.maxFadeExtent)}}}),lx=Nu(nx,{altitudeMode:Lu(ep),minAltitude:Lu(Jc),maxAltitude:Lu(Jc),north:Lu(Jc),south:Lu(Jc),east:Lu(Jc),west:Lu(Jc)}),ux=Nu(nx,{minLodPixels:Lu(Jc),maxLodPixels:Lu(Jc),minFadeExtent:Lu(Jc),maxFadeExtent:Lu(Jc)}),cx=Nu(nx,{extrude:Lu(Xc),altitudeMode:Lu(ep)}),px=Nu(nx,{coordinates:Au(Op)}),fx=Nu(nx,{innerBoundaryIs:function(t,e){var r=Fu(void 0,vx,t,e);r&&e[e.length-1].push(r)},outerBoundaryIs:function(t,e){var r=Fu(void 0,Mx,t,e);r&&(e[e.length-1][0]=r)}}),hx=Nu(nx,{when:function(t,e){var r=e[e.length-1].Mi,n=wu(t,!1),n=Date.parse(n);r.push(isNaN(n)?0:n)}},Nu(rx,{coord:function(t,e){var r=e[e.length-1].B,n=wu(t,!1);(n=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(n))?r.push(parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3]),0):r.push(0,0,0,0)}})),dx=Nu(nx,{coordinates:Au(Op)}),yx=Nu(nx,{href:Lu(Ip)},Nu(rx,{x:Lu(Jc),y:Lu(Jc),w:Lu(Jc),h:Lu(Jc)})),mx=Nu(nx,{Icon:Lu(function(t,e){var r=Fu({},yx,t,e);return r?r:null}),heading:Lu(Jc),hotSpot:Lu(function(t){var e=t.getAttribute("xunits"),r=t.getAttribute("yunits");return{x:parseFloat(t.getAttribute("x")),jg:ox[e],y:parseFloat(t.getAttribute("y")),kg:ox[r]}}),scale:Lu(Rp)}),vx=Nu(nx,{LinearRing:Au(Np)}),gx=Nu(nx,{color:Lu(Dp),scale:Lu(Rp)}),bx=Nu(nx,{color:Lu(Dp),width:Lu(Jc)}),xx=Nu(nx,{LineString:Cu(Fp),LinearRing:Cu(zp),MultiGeometry:Cu(Bp),Point:Cu(Up),Polygon:Cu(Vp)}),_x=Nu(rx,{Track:Cu(jp)}),wx=Nu(nx,{ExtendedData:qp,Region:Gp,Link:function(t,e){ju(Tx,t,e)},address:Lu(ep),description:Lu(ep),name:Lu(ep),open:Lu(Xc),phoneNumber:Lu(ep),visibility:Lu(Xc)}),Tx=Nu(nx,{href:Lu(Ip)}),Mx=Nu(nx,{LinearRing:Au(Np)}),Sx=Nu(nx,{Style:Lu(Hp),key:Lu(ep),styleUrl:Lu(Ip)}),Ex=Nu(nx,{ExtendedData:qp,Region:Gp,MultiGeometry:Lu(Bp,"geometry"),LineString:Lu(Fp,"geometry"),LinearRing:Lu(zp,"geometry"),Point:Lu(Up,"geometry"),Polygon:Lu(Vp,"geometry"),Style:Lu(Hp),StyleMap:function(t,e){var r=Fu(void 0,Px,t,e);if(r){var n=e[e.length-1];Array.isArray(r)?n.Style=r:"string"==typeof r?n.styleUrl=r:s(!1,38)}},address:Lu(ep),description:Lu(ep),name:Lu(ep),open:Lu(Xc),phoneNumber:Lu(ep),styleUrl:Lu(Ip),visibility:Lu(Xc)},Nu(rx,{MultiTrack:Lu(function(t,e){var r=Fu([],_x,t,e);if(r){var n=new tc(null);return rc(n,r),n}},"geometry"),Track:Lu(jp,"geometry")})),kx=Nu(nx,{color:Lu(Dp),fill:Lu(Xc),outline:Lu(Xc)}),Cx=Nu(nx,{SimpleData:function(t,e){var r=t.getAttribute("name");if(null!==r){var n=ep(t);e[e.length-1][r]=n}}}),Ax=Nu(nx,{IconStyle:function(t,e){var r=Fu({},mx,t,e);if(r){var n,o=e[e.length-1],i="Icon"in r?r.Icon:{},a=!("Icon"in r)||0<Object.keys(i).length,s=i.href;s?n=s:a&&(n=Xb);var l,u,c;(s=r.hotSpot)?(l=[s.x,s.y],u=s.jg,c=s.kg):n===Xb?(l=Wb,u=qb,c=Gb):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(n)&&(l=[.5,0],c=u=Nb);var p,s=i.x,h=i.y;void 0!==s&&void 0!==h&&(p=[s,h]);var d,s=i.w,i=i.h;void 0!==s&&void 0!==i&&(d=[s,i]);var y,i=r.heading;void 0!==i&&(y=f(i)),r=r.scale,a?(n==Xb&&(d=Yb,void 0===r&&(r=Kb)),a=new Ep({anchor:l,anchorOrigin:jb,anchorXUnits:u,anchorYUnits:c,crossOrigin:"anonymous",offset:p,offsetOrigin:jb,rotation:y,scale:r,size:d,src:n}),o.imageStyle=a):o.imageStyle=Jb}},LabelStyle:function(t,e){var r=Fu({},gx,t,e);r&&(e[e.length-1].textStyle=new kp({fill:new Ri({color:"color"in r?r.color:Vb}),scale:r.scale}))},LineStyle:function(t,e){var r=Fu({},bx,t,e);r&&(e[e.length-1].strokeStyle=new Ni({color:"color"in r?r.color:Vb,width:"width"in r?r.width:1}))},PolyStyle:function(t,e){var r=Fu({},kx,t,e);if(r){var n=e[e.length-1];n.fillStyle=new Ri({color:"color"in r?r.color:Vb});var o=r.fill;void 0!==o&&(n.fill=o),r=r.outline,void 0!==r&&(n.outline=r)}}}),Px=Nu(nx,{Pair:function(t,e){var r=Fu({},Sx,t,e);if(r){var n=r.key;n&&"normal"==n&&((n=r.styleUrl)&&(e[e.length-1]=n),(r=r.Style)&&(e[e.length-1]=r))}}});Jy=Cp.prototype,Jy.Qf=function(t,e){var r=Nu(nx,{Document:ku(this.Qf,this),Folder:ku(this.Qf,this),Placemark:Cu(this.Wf,this),Style:this.Qo.bind(this),StyleMap:this.Po.bind(this)});if(r=Fu([],r,t,e,this))return r},Jy.Wf=function(t,e){var r=Fu({geometry:null},Ex,t,e);if(r){var n=new bu,o=t.getAttribute("id");null!==o&&n.cc(o);var o=e[0],i=r.geometry;return i&&Gu(i,!1,o),n.Pa(i),delete r.geometry,this.c&&n.Df(Pp(r.Style,r.styleUrl,this.g,this.b,this.i)),delete r.Style,n.I(r),n}},Jy.Qo=function(t,e){var r=t.getAttribute("id");if(null!==r){var n=Hp(t,e);n&&(r=t.baseURI?new URL("#"+r,t.baseURI).href:"#"+r,this.b[r]=n)}},Jy.Po=function(t,e){var r=t.getAttribute("id");if(null!==r){var n=Fu(void 0,Px,t,e);n&&(r=t.baseURI?new URL("#"+r,t.baseURI).href:"#"+r,this.b[r]=n)}},Jy.ai=function(t,e){if(!W(nx,t.namespaceURI))return null;var r=this.Wf(t,[Wu(this,t,e)]);return r?r:null},Jy.oc=function(t,e){if(!W(nx,t.namespaceURI))return[];var r;if(r=t.localName,"Document"==r||"Folder"==r)return(r=this.Qf(t,[Wu(this,t,e)]))?r:[];if("Placemark"==r)return(r=this.Wf(t,[Wu(this,t,e)]))?[r]:[];if("kml"==r){r=[];var n;for(n=t.firstElementChild;n;n=n.nextElementSibling){var o=this.oc(n,e);o&&Y(r,o)}return r}return[]},Jy.Jo=function(t){return Mu(t)?Yp(this,t):Su(t)?Xp(this,t):"string"==typeof t?(t=Eu(t),Yp(this,t)):void 0},Jy.Ko=function(t){var e=[];return Mu(t)?Y(e,Kp(this,t)):Su(t)?Y(e,Zp(this,t)):"string"==typeof t&&(t=Eu(t),Y(e,Kp(this,t))),e},Jy.No=function(t){var e=[];return Mu(t)?Y(e,Jp(this,t)):Su(t)?Y(e,this.Ie(t)):"string"==typeof t&&(t=Eu(t),Y(e,Jp(this,t))),e},Jy.Ie=function(t){var e,r=[];for(e=t.firstElementChild;e;e=e.nextElementSibling)if(W(nx,e.namespaceURI)&&"Region"==e.localName){var n=Fu({},sx,e,[]);r.push(n)}for(e=t.firstElementChild;e;e=e.nextElementSibling)t=e.localName,!W(nx,e.namespaceURI)||"Document"!=t&&"Folder"!=t&&"kml"!=t||Y(r,this.Ie(e));return r};var Lx=Nu(nx,["Document","Placemark"]),Dx=Nu(nx,{Document:Du(function(t,e,r){Bu({node:t},Ox,sf,e,r,void 0,this)}),Placemark:Du(ef)}),Ox=Nu(nx,{Placemark:Du(ef)}),Ix=Nu(nx,{Data:Du(function(t,e,r){t.setAttribute("name",e.name),t={node:t},e=e.value,"object"==typeof e?(null!==e&&e.displayName&&Bu(t,Ix,Yg,[e.displayName],r,["displayName"]),null!==e&&e.value&&Bu(t,Ix,Yg,[e.value],r,["value"])):Bu(t,Ix,Yg,[e],r,["value"])}),value:Du(function(t,e){ip(t,e)}),displayName:Du(function(t,e){t.appendChild(Gg.createCDATASection(e))})}),Rx={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},Nx=Nu(nx,["href"],Nu(rx,["x","y","w","h"])),jx=Nu(nx,{href:Du(ip)},Nu(rx,{x:Du(np),y:Du(np),w:Du(np),h:Du(np)})),Fx=Nu(nx,["scale","heading","Icon","hotSpot"]),zx=Nu(nx,{Icon:Du(function(t,e,r){t={node:t};var n=Nx[r[r.length-1].node.namespaceURI],o=Ru(e,n);Bu(t,jx,Yg,o,r,n),n=Nx[rx[0]],o=Ru(e,n),Bu(t,jx,af,o,r,n)}),heading:Du(np),hotSpot:Du(function(t,e){t.setAttribute("x",e.x),t.setAttribute("y",e.y),t.setAttribute("xunits",e.jg),t.setAttribute("yunits",e.kg)}),scale:Du(of)}),Bx=Nu(nx,["color","scale"]),Ux=Nu(nx,{color:Du($p),scale:Du(of)}),Vx=Nu(nx,["color","width"]),Hx=Nu(nx,{color:Du($p),width:Du(np)}),Wx=Nu(nx,{LinearRing:Du(rf)}),qx=Nu(nx,{LineString:Du(rf),Point:Du(rf),Polygon:Du(nf),GeometryCollection:Du(Qp)}),Gx=Nu(nx,"name open visibility address phoneNumber description styleUrl Style".split(" ")),Yx=Nu(nx,{ExtendedData:Du(function(t,e,r){t={node:t};var n=e.names;e=e.values;for(var o=n.length,i=0;i<o;i++)Bu(t,Ix,e_,[{name:n[i],value:e[i]}],r)}),MultiGeometry:Du(Qp),LineString:Du(rf),LinearRing:Du(rf),Point:Du(rf),Polygon:Du(nf),Style:Du(function(t,e,r){t={node:t};var n={},o=e.f,i=e.g,a=e.a;e=e.Ka(),a instanceof Ep&&(n.IconStyle=a),e&&(n.LabelStyle=e),i&&(n.LineStyle=i),o&&(n.PolyStyle=o),e=Jx[r[r.length-1].node.namespaceURI],n=Ru(n,e),Bu(t,$x,Yg,n,r,e)}),address:Du(ip),description:Du(ip),name:Du(ip),open:Du(rp),phoneNumber:Du(ip),styleUrl:Du(ip),visibility:Du(rp)}),Xx=Nu(nx,{coordinates:Du(function(t,e,r){r=r[r.length-1];var n=r.layout;r=r.stride;var o;"XY"==n||"XYM"==n?o=2:"XYZ"==n||"XYZM"==n?o=3:s(!1,34);var i,a=e.length,l="";if(0<a){for(l+=e[0],n=1;n<o;++n)l+=","+e[n];for(i=r;i<a;i+=r)for(l+=" "+e[i],n=1;n<o;++n)l+=","+e[i+n]}ip(t,l)})}),Kx=Nu(nx,{outerBoundaryIs:Du(tf),innerBoundaryIs:Du(tf)}),Zx=Nu(nx,{color:Du($p)}),Jx=Nu(nx,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),$x=Nu(nx,{IconStyle:Du(function(t,e,r){t={node:t};var n={},o=e.ac(),i=e.de(),a={href:e.b.o};if(o){a.w=o[0],a.h=o[1];var s=e.Ac(),l=e.Jc();l&&i&&0!==l[0]&&l[1]!==o[1]&&(a.x=l[0],a.y=i[1]-(l[1]+o[1])),s&&0!==s[0]&&s[1]!==o[1]&&(n.hotSpot={x:s[0],jg:"pixels",y:o[1]-s[1],kg:"pixels"})}n.Icon=a,o=e.i,1!==o&&(n.scale=o),e=e.o,0!==e&&(n.heading=e),e=Fx[r[r.length-1].node.namespaceURI],n=Ru(n,e),Bu(t,zx,Yg,n,r,e)}),LabelStyle:Du(function(t,e,r){t={node:t};var n={},o=e.b;o&&(n.color=o.b),(e=e.a)&&1!==e&&(n.scale=e),e=Bx[r[r.length-1].node.namespaceURI],n=Ru(n,e),Bu(t,Ux,Yg,n,r,e)}),LineStyle:Du(function(t,e,r){t={node:t};var n=Vx[r[r.length-1].node.namespaceURI];e=Ru({color:e.b,width:e.f},n),Bu(t,Hx,Yg,e,r,n)}),PolyStyle:Du(function(t,e,r){Bu({node:t},Zx,Qx,[e.b],r)})}),Qx=Iu("color"),t_=Iu("coordinates"),e_=Iu("Data"),r_=Iu("ExtendedData"),n_=Iu("innerBoundaryIs"),o_=Iu("Point"),i_=Iu("LineString"),a_=Iu("LinearRing"),s_=Iu("Polygon"),l_=Iu("outerBoundaryIs");Cp.prototype.a=function(t,e){e=qu(this,e);var r=_u(nx[4],"kml");r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:gx",rx[0]),r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),r.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var n={node:r},o={};1<t.length?o.Document=t:1==t.length&&(o.Placemark=t[0]);var i=Lx[r.namespaceURI],o=Ru(o,i);return Bu(n,Dx,Yg,o,[e],i,this),r},function(){var t={},r={ma:t};!function(n){if("object"==typeof t&&"undefined"!=typeof r)r.ma=n();else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:this,o.Rp=n()}}(function(){return function t(e,r,o){function i(s,l){if(!r[s]){if(!e[s]){var u="function"==typeof n&&n;if(!l&&u)return n(s,!0);if(a)return a(s,!0);throw u=Error("Cannot find module '"+s+"'"),u.code="MODULE_NOT_FOUND",u}u=r[s]={ma:{}},e[s][0].call(u.ma,function(t){var r=e[s][1][t];return i(r?r:t)},u,u.ma,t,e,r,o)}return r[s].ma}for(var a="function"==typeof n&&n,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e,r){r.read=function(t,e,r,n,o){var i;i=8*o-n-1;var a=(1<<i)-1,s=a>>1,l=-7;o=r?o-1:0;var u=r?-1:1,c=t[e+o];for(o+=u,r=c&(1<<-l)-1,c>>=-l,l+=i;0<l;r=256*r+t[e+o],o+=u,l-=8);for(i=r&(1<<-l)-1,r>>=-l,l+=n;0<l;i=256*i+t[e+o],o+=u,l-=8);if(0===r)r=1-s;else{if(r===a)return i?NaN:1/0*(c?-1:1);i+=Math.pow(2,n),r-=s}return(c?-1:1)*i*Math.pow(2,r-n)},r.write=function(t,e,r,n,o,i){var a,s=8*i-o-1,l=(1<<s)-1,u=l>>1,c=23===o?Math.pow(2,-24)-Math.pow(2,-77):0;i=n?0:i-1;var p=n?1:-1,f=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,n=l):(n=Math.floor(Math.log(e)/Math.LN2),1>e*(a=Math.pow(2,-n))&&(n--,a*=2),e=1<=n+u?e+c/a:e+c*Math.pow(2,1-u),2<=e*a&&(n++,a/=2),n+u>=l?(e=0,n=l):1<=n+u?(e=(e*a-1)*Math.pow(2,o),n+=u):(e=e*Math.pow(2,u-1)*Math.pow(2,o),n=0));8<=o;t[r+i]=255&e,i+=p,e/=256,o-=8);for(n=n<<o|e,s+=o;0<s;t[r+i]=255&n,i+=p,n/=256,s-=8);t[r+i-p]|=128*f}},{}],2:[function(t,e){function r(t){this.gc=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.type=this.ha=0,this.length=this.gc.length}function n(t,e,r){var n,i,a=r.gc;if(i=a[r.ha++],n=(112&i)>>4,128>i)return o(t,n,e);if(i=a[r.ha++],n|=(127&i)<<3,128>i)return o(t,n,e);if(i=a[r.ha++],n|=(127&i)<<10,128>i)return o(t,n,e);if(i=a[r.ha++],n|=(127&i)<<17,128>i)return o(t,n,e);if(i=a[r.ha++],n|=(127&i)<<24,128>i)return o(t,n,e);if(i=a[r.ha++],128>i)return o(t,n|(1&i)<<31,e);throw Error("Expected varint not more than 10 bytes")}function o(t,e,r){return r?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}e.ma=r;var i=t("ieee754");r.f=0,r.g=1,r.b=2,r.a=5,r.prototype={Uf:function(t,e,r){for(r=r||this.length;this.ha<r;){var n=this.Ia(),o=n>>3,i=this.ha;this.type=7&n,t(o,e,this),this.ha===i&&this.qp(n)}return e},Fo:function(){var t=i.read(this.gc,this.ha,!0,23,4);return this.ha+=4,t},Bo:function(){var t=i.read(this.gc,this.ha,!0,52,8);return this.ha+=8,t},Ia:function(t){var e,r,o=this.gc;return r=o[this.ha++],e=127&r,128>r?e:(r=o[this.ha++],e|=(127&r)<<7,128>r?e:(r=o[this.ha++],e|=(127&r)<<14,128>r?e:(r=o[this.ha++],e|=(127&r)<<21,128>r?e:(r=o[this.ha],n(e|(15&r)<<28,t,this)))))},Ro:function(){return this.Ia(!0)},Kd:function(){var t=this.Ia();return 1===t%2?(t+1)/-2:t/2},zo:function(){return!!this.Ia()},Yf:function(){for(var t=this.Ia()+this.ha,e=this.gc,r="",n=this.ha;n<t;){var o=e[n],i=null,a=239<o?4:223<o?3:191<o?2:1;if(n+a>t)break;var s,l,u;1===a?128>o&&(i=o):2===a?(s=e[n+1],128===(192&s)&&(i=(31&o)<<6|63&s,127>=i&&(i=null))):3===a?(s=e[n+1],l=e[n+2],128===(192&s)&&128===(192&l)&&(i=(15&o)<<12|(63&s)<<6|63&l,2047>=i||55296<=i&&57343>=i)&&(i=null)):4===a&&(s=e[n+1],l=e[n+2],u=e[n+3],128===(192&s)&&128===(192&l)&&128===(192&u)&&(i=(15&o)<<18|(63&s)<<12|(63&l)<<6|63&u,65535>=i||1114112<=i))&&(i=null),null===i?(i=65533,a=1):65535<i&&(i-=65536,r+=String.fromCharCode(i>>>10&1023|55296),i=56320|1023&i),r+=String.fromCharCode(i),n+=a}return this.ha=t,r},qp:function(t){if(t&=7,t===r.f)for(;127<this.gc[this.ha++];);else if(t===r.b)this.ha=this.Ia()+this.ha;else if(t===r.a)this.ha+=4;else{if(t!==r.g)throw Error("Unimplemented type: "+t);this.ha+=8}}}},{ieee754:1}]},{},[2])(2)}),Qv=r.ma}(),function(){var t={},r={ma:t};!function(n){if("object"==typeof t&&"undefined"!=typeof r)r.ma=n();else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:this,o.Up=n()}}(function(){return function t(e,r,o){function i(s,l){if(!r[s]){if(!e[s]){var u="function"==typeof n&&n;if(!l&&u)return n(s,!0);if(a)return a(s,!0);throw u=Error("Cannot find module '"+s+"'"),u.code="MODULE_NOT_FOUND",u}u=r[s]={ma:{}},e[s][0].call(u.ma,function(t){var r=e[s][1][t];return i(r?r:t)},u,u.ma,t,e,r,o)}return r[s].ma}for(var a="function"==typeof n&&n,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e){function r(t,e){this.x=t,this.y=e}e.ma=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(t){return this.clone().oj(t)},rotate:function(t){return this.clone().yj(t)},round:function(){return this.clone().zj()},angle:function(){return Math.atan2(this.y,this.x)},oj:function(t){return this.x+=t.x,this.y+=t.y,this},yj:function(t){var e=Math.cos(t);t=Math.sin(t);var r=t*this.x+e*this.y;return this.x=e*this.x-t*this.y,this.y=r,this},zj:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.b=function(t){return t instanceof r?t:Array.isArray(t)?new r(t[0],t[1]):t}},{}],2:[function(t,e){e.ma.nj=t("./lib/vectortile.js"),e.ma.Op=t("./lib/vectortilefeature.js"),e.ma.Pp=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":3,"./lib/vectortilefeature.js":4,"./lib/vectortilelayer.js":5}],3:[function(t,e){function r(t,e,r){3===t&&(t=new n(r,r.Ia()+r.ha),t.length&&(e[t.name]=t))}var n=t("./vectortilelayer");e.ma=function(t,e){this.layers=t.Uf(r,{},e)}},{"./vectortilelayer":5}],4:[function(t,e){function r(t,e,r,o,i){this.properties={},this.extent=r,this.type=0,this.rc=t,this.Ye=-1,this.Td=o,this.Vd=i,t.Uf(n,this,e)}function n(t,e,r){if(1==t)e.id=r.Ia();else if(2==t)for(t=r.Ia()+r.ha;r.ha<t;){var n=e.Td[r.Ia()],o=e.Vd[r.Ia()];e.properties[n]=o}else 3==t?e.type=r.Ia():4==t&&(e.Ye=r.ha)}var o=t("point-geometry");e.ma=r,r.b=["Unknown","Point","LineString","Polygon"],r.prototype.fh=function(){var t=this.rc;t.ha=this.Ye;for(var e,r=t.Ia()+t.ha,n=1,i=0,a=0,s=0,l=[];t.ha<r;)if(i||(i=t.Ia(),n=7&i,i>>=3),i--,1===n||2===n)a+=t.Kd(),s+=t.Kd(),1===n&&(e&&l.push(e),e=[]),e.push(new o(a,s));else{if(7!==n)throw Error("unknown command "+n);e&&e.push(e[0].clone())}return e&&l.push(e),l},r.prototype.bbox=function(){var t=this.rc;t.ha=this.Ye;for(var e=t.Ia()+t.ha,r=1,n=0,o=0,i=0,a=1/0,s=-(1/0),l=1/0,u=-(1/0);t.ha<e;)if(n||(n=t.Ia(),r=7&n,n>>=3),n--,1===r||2===r)o+=t.Kd(),i+=t.Kd(),o<a&&(a=o),o>s&&(s=o),i<l&&(l=i),i>u&&(u=i);else if(7!==r)throw Error("unknown command "+r);return[a,l,s,u]}},{"point-geometry":1}],5:[function(t,e){function r(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this.rc=t,this.Td=[],this.Vd=[],this.Sd=[],t.Uf(n,this,e),this.length=this.Sd.length}function n(t,e,r){15===t?e.version=r.Ia():1===t?e.name=r.Yf():5===t?e.extent=r.Ia():2===t?e.Sd.push(r.ha):3===t?e.Td.push(r.Yf()):4===t&&e.Vd.push(o(r))}function o(t){for(var e=null,r=t.Ia()+t.ha;t.ha<r;)e=t.Ia()>>3,e=1===e?t.Yf():2===e?t.Fo():3===e?t.Bo():4===e?t.Ro():5===e?t.Ia():6===e?t.Kd():7===e?t.zo():null;return e}var i=t("./vectortilefeature.js");e.ma=r,r.prototype.feature=function(t){if(0>t||t>=this.Sd.length)throw Error("feature index out of bounds");return this.rc.ha=this.Sd[t],t=this.rc.Ia()+this.rc.ha,new i(this.rc,t,this.extent,this.Td,this.Vd)}},{"./vectortilefeature.js":4}]},{},[2])(2)}),tg=r.ma}(),Jy=uf.prototype,Jy.get=function(t){return this.f[t]},Jy.Kb=function(){return this.c},Jy.G=function(){return this.a||(this.a="Point"===this.g?Dt(this.b):Ot(this.b,0,this.b.length,2)),this.a},Jy.Vb=function(){return this.b},Jy.ia=uf.prototype.Vb,Jy.V=function(){return this},Jy.Tm=function(){return this.f},Jy.Bd=uf.prototype.V,Jy.pa=function(){return 2},Jy.Gc=o,Jy.Y=function(){return this.g},r(cf,Hu),cf.prototype.Y=function(){return"arraybuffer"},cf.prototype.La=function(t,e){var r,n,o,i=this.f,a=new Qv(t),a=new tg.nj(a),s=[],l=this.b;for(o in a.layers)if(!i||-1!=i.indexOf(o)){r=a.layers[o];for(var u=0,c=r.length;u<c;++u){if(l===uf){var p=r.feature(u);n=o;var f=p.fh(),h=[],d=[];pf(f,d,h);var y=p.type,m=void 0;1===y?m=1===f.length?"Point":"MultiPoint":2===y?m=1===f.length?"LineString":"MultiLineString":3===y&&(m="Polygon"),p=p.properties,p[this.a]=n,n=new this.b(m,d,h,p)}else{if(f=r.feature(u),p=o,m=e,n=new this.b,h=f.id,d=f.properties,d[this.a]=p,p=f.type,0===p)p=null;else{var f=f.fh(),y=[],v=[];pf(f,v,y);var g=void 0;1===p?g=1===f.length?new We(null):new nc(null):2===p?g=1===f.length?new $u(null):new tc(null):3===p&&(g=new rr(null)),g.da("XY",v,y),p=g}(m=Gu(p,!1,qu(this,m)))&&(d[this.g]=m),n.cc(h),n.I(d),n.Nc(this.g)}s.push(n)}}return s},cf.prototype.Wa=function(){return this.defaultDataProjection},cf.prototype.c=function(t){this.f=t},r(ff,Wc);var u_=[null],c_=Nu(u_,{nd:function(t,e){e[e.length-1].bd.push(t.getAttribute("ref"))},tag:hf}),p_=Nu(u_,{node:function(t,e){var r=e[0],n=e[e.length-1],o=t.getAttribute("id"),i=[parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))];n.jh[o]=i;var a=Fu({Nd:{}},f_,t,e);x(a.Nd)||(i=new We(i),Gu(i,!1,r),r=new bu(i),r.cc(o),r.I(a.Nd),n.features.push(r))},way:function(t,e){for(var r=e[0],n=t.getAttribute("id"),o=Fu({bd:[],Nd:{}},c_,t,e),i=e[e.length-1],a=[],s=0,l=o.bd.length;s<l;s++)Y(a,i.jh[o.bd[s]]);o.bd[0]==o.bd[o.bd.length-1]?(s=new rr(null),s.da("XY",a,[a.length])):(s=new $u(null),s.da("XY",a)),Gu(s,!1,r),r=new bu(s),r.cc(n),r.I(o.Nd),i.features.push(r)}}),f_=Nu(u_,{tag:hf});ff.prototype.oc=function(t,e){var r=Wu(this,t,e);return"osm"==t.localName&&(r=Fu({jh:{},features:[]},p_,t,[r]),r.features)?r.features:[]},yf.prototype.read=function(t){return Mu(t)?this.a(t):Su(t)?this.b(t):"string"==typeof t?(t=Eu(t),this.a(t)):null},r(mf,yf),mf.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},mf.prototype.b=function(t){return(t=Fu({},d_,t,[]))?t:null};var h_=[null,"http://www.opengis.net/ows/1.1"],d_=Nu(h_,{ServiceIdentification:Lu(function(t,e){return Fu({},E_,t,e)}),ServiceProvider:Lu(function(t,e){return Fu({},k_,t,e)}),OperationsMetadata:Lu(function(t,e){return Fu({},w_,t,e)})}),y_=Nu(h_,{DeliveryPoint:Lu(ep),City:Lu(ep),AdministrativeArea:Lu(ep),PostalCode:Lu(ep),Country:Lu(ep),ElectronicMailAddress:Lu(ep)}),m_=Nu(h_,{Value:Pu(function(t){return ep(t)})}),v_=Nu(h_,{AllowedValues:Lu(function(t,e){return Fu({},m_,t,e)})}),g_=Nu(h_,{Phone:Lu(function(t,e){return Fu({},T_,t,e)}),Address:Lu(function(t,e){return Fu({},y_,t,e)})}),b_=Nu(h_,{HTTP:Lu(function(t,e){return Fu({},x_,t,e)})}),x_=Nu(h_,{Get:Pu(function(t,e){var r=df(t);return r?Fu({href:r},M_,t,e):void 0}),Post:void 0}),__=Nu(h_,{DCP:Lu(function(t,e){return Fu({},b_,t,e)})}),w_=Nu(h_,{Operation:function(t,e){var r=t.getAttribute("name"),n=Fu({},__,t,e);n&&(e[e.length-1][r]=n);
}}),T_=Nu(h_,{Voice:Lu(ep),Facsimile:Lu(ep)}),M_=Nu(h_,{Constraint:Pu(function(t,e){var r=t.getAttribute("name");return r?Fu({name:r},v_,t,e):void 0})}),S_=Nu(h_,{IndividualName:Lu(ep),PositionName:Lu(ep),ContactInfo:Lu(function(t,e){return Fu({},g_,t,e)})}),E_=Nu(h_,{Title:Lu(ep),ServiceTypeVersion:Lu(ep),ServiceType:Lu(ep)}),k_=Nu(h_,{ProviderName:Lu(ep),ProviderSite:Lu(df),ServiceContact:Lu(function(t,e){return Fu({},S_,t,e)})});r(gf,_p),Jy=gf.prototype,Jy.Hd=function(t,e){var r=this.Jd(t,e);return new bu(r)},Jy.Tf=function(t,e){return[this.Hd(t,e)]},Jy.Jd=function(t,e){var r=Se(this.a),n=xf(t,r,this.b);return vf(n,n.length,r,n),r=Fe(n,0,n.length,r),Gu(new $u(r,this.a),!1,qu(this,e))},Jy.Re=function(t,e){var r=t.V();return r?this.Pd(r,e):(s(!1,40),"")},Jy.Oi=function(t,e){return this.Re(t[0],e)},Jy.Pd=function(t,e){t=Gu(t,!0,qu(this,e));var r=t.ia(),n=t.pa();return vf(r,r.length,n,r),bf(r,n,this.b)},r(Tf,Yu),Tf.prototype.Sf=function(t,e){if("Topology"==t.type){var r,n=null,o=null;t.transform&&(r=t.transform,n=r.scale,o=r.translate);var i=t.arcs;if(r){r=n;var a,s,l=o;for(a=0,s=i.length;a<s;++a){var u,c,p,f=i[a],h=r,d=l,y=0,m=0;for(c=0,p=f.length;c<p;++c)u=f[c],y+=u[0],m+=u[1],u[0]=y,u[1]=m,kf(u,h,d)}}for(r=[],l=b(t.objects),a=0,s=l.length;a<s;++a)"GeometryCollection"===l[a].type?(f=l[a],r.push.apply(r,Sf(f,i,n,o,e))):(f=l[a],r.push(Ef(f,i,n,o,e)));return r}return[]},Tf.prototype.Wa=function(){return this.defaultDataProjection};var C_={Point:function(t,e,r){return t=t.coordinates,e&&r&&kf(t,e,r),new We(t)},LineString:function(t,e){var r=Mf(t.arcs,e);return new $u(r)},Polygon:function(t,e){var r,n,o=[];for(r=0,n=t.arcs.length;r<n;++r)o[r]=Mf(t.arcs[r],e);return new rr(o)},MultiPoint:function(t,e,r){t=t.coordinates;var n,o;if(e&&r)for(n=0,o=t.length;n<o;++n)kf(t[n],e,r);return new nc(t)},MultiLineString:function(t,e){var r,n,o=[];for(r=0,n=t.arcs.length;r<n;++r)o[r]=Mf(t.arcs[r],e);return new tc(o)},MultiPolygon:function(t,e){var r,n,o,i,a,s,l=[];for(a=0,s=t.arcs.length;a<s;++a){for(r=t.arcs[a],n=[],o=0,i=r.length;o<i;++o)n[o]=Mf(r[o],e);l[a]=n}return new oc(l)}};r(Cf,Wc),Cf.prototype.oc=function(t,e){var r={featureType:this.i,featureNS:this.g};return om(r,Wu(this,t,e?e:{})),r=[r],this.b.b["http://www.opengis.net/gml"].featureMember=Cu(Yc.prototype.Id),(r=Fu([],this.b.b,t,r,this.b))||(r=[]),r},Cf.prototype.o=function(t){return Mu(t)?Lf(t):Su(t)?Fu({},O_,t,[]):"string"==typeof t?(t=Eu(t),Lf(t)):void 0},Cf.prototype.l=function(t){return Mu(t)?Af(this,t):Su(t)?Pf(this,t):"string"==typeof t?(t=Eu(t),Af(this,t)):void 0};var A_={"http://www.opengis.net/gml":{boundedBy:Lu(Yc.prototype.Ee,"bounds")}},P_={"http://www.opengis.net/wfs":{totalInserted:Lu(Qc),totalUpdated:Lu(Qc),totalDeleted:Lu(Qc)}},L_={"http://www.opengis.net/ogc":{FeatureId:Cu(function(t){return t.getAttribute("fid")})}},D_={"http://www.opengis.net/wfs":{Feature:function(t,e){ju(L_,t,e)}}},O_={"http://www.opengis.net/wfs":{TransactionSummary:Lu(function(t,e){return Fu({},P_,t,e)},"transactionSummary"),InsertResults:Lu(function(t,e){return Fu([],D_,t,e)},"insertIds")}},I_={"http://www.opengis.net/wfs":{PropertyName:Du(ip)}},R_={"http://www.opengis.net/wfs":{Insert:Du(function(t,e,r){var n=r[r.length-1],n=_u(n.featureNS,n.featureType);t.appendChild(n),ap.prototype.Ni(n,e,r)}),Update:Du(function(t,e,r){var n=r[r.length-1];s(void 0!==e.f,27);var o=n.featureType,i=n.featurePrefix,i=i?i:"feature",a=n.featureNS;if(t.setAttribute("typeName",i+":"+o),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+i,a),o=e.f,void 0!==o){for(var i=e.S(),a=[],l=0,u=i.length;l<u;l++){var c=e.get(i[l]);void 0!==c&&a.push({name:i[l],value:c})}Bu({node:t,srsName:n.srsName},R_,Iu("Property"),a,r),Df(t,o)}}),Delete:Du(function(t,e,r){var n=r[r.length-1];s(void 0!==e.f,26),r=n.featureType;var o=n.featurePrefix,o=o?o:"feature",n=n.featureNS;t.setAttribute("typeName",o+":"+r),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+o,n),e=e.f,void 0!==e&&Df(t,e)}),Property:Du(function(t,e,r){var n=_u("http://www.opengis.net/wfs","Name");t.appendChild(n),ip(n,e.name),void 0!==e.value&&null!==e.value&&(n=_u("http://www.opengis.net/wfs","Value"),t.appendChild(n),e.value instanceof _e?ap.prototype.pd(n,e.value,r):ip(n,e.value))}),Native:Du(function(t,e){e.yp&&t.setAttribute("vendorId",e.yp),void 0!==e.cp&&t.setAttribute("safeToIgnore",e.cp),void 0!==e.value&&ip(t,e.value)})}},N_={"http://www.opengis.net/wfs":{Query:Du(function(t,e,r){var n=r[r.length-1],o=n.featurePrefix,i=n.featureNS,a=n.propertyNames,s=n.srsName;t.setAttribute("typeName",(o?o+":":"")+e),s&&t.setAttribute("srsName",s),i&&t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+o,i),e=om({},n),e.node=t,Bu(e,I_,Iu("PropertyName"),a,r),(n=n.filter)&&(a=_u("http://www.opengis.net/ogc","Filter"),t.appendChild(a),Bu({node:a},N_,Iu(n.Nb),[n],r))})},"http://www.opengis.net/ogc":{And:Du(Of),Or:Du(Of),Not:Du(function(t,e,r){e=e.condition,Bu({node:t},N_,Iu(e.Nb),[e],r)}),BBOX:Du(function(t,e,r){r[r.length-1].srsName=e.srsName,Nf(t,e.geometryName),ap.prototype.pd(t,e.extent,r)}),Intersects:Du(function(t,e,r){r[r.length-1].srsName=e.srsName,Nf(t,e.geometryName),ap.prototype.pd(t,e.geometry,r)}),Within:Du(function(t,e,r){r[r.length-1].srsName=e.srsName,Nf(t,e.geometryName),ap.prototype.pd(t,e.geometry,r)}),PropertyIsEqualTo:Du(If),PropertyIsNotEqualTo:Du(If),PropertyIsLessThan:Du(If),PropertyIsLessThanOrEqualTo:Du(If),PropertyIsGreaterThan:Du(If),PropertyIsGreaterThanOrEqualTo:Du(If),PropertyIsNull:Du(function(t,e){Nf(t,e.b)}),PropertyIsBetween:Du(function(t,e){Nf(t,e.b);var r=_u("http://www.opengis.net/ogc","LowerBoundary");t.appendChild(r),jf(r,""+e.a),r=_u("http://www.opengis.net/ogc","UpperBoundary"),t.appendChild(r),jf(r,""+e.g)}),PropertyIsLike:Du(function(t,e){t.setAttribute("wildCard",e.i),t.setAttribute("singleChar",e.c),t.setAttribute("escapeChar",e.g),void 0!==e.a&&t.setAttribute("matchCase",e.a.toString()),Nf(t,e.b),jf(t,""+e.f)})}};Cf.prototype.v=function(t){var e=_u("http://www.opengis.net/wfs","GetFeature");e.setAttribute("service","WFS"),e.setAttribute("version","1.1.0");var r;if(t&&(t.handle&&e.setAttribute("handle",t.handle),t.outputFormat&&e.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&e.setAttribute("maxFeatures",t.maxFeatures),t.resultType&&e.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&e.setAttribute("startIndex",t.startIndex),void 0!==t.count&&e.setAttribute("count",t.count),r=t.filter,t.bbox)){s(t.geometryName,12);var n=Nc(t.geometryName,t.bbox,t.srsName);r=r?Rc(r,n):n}return e.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.c),r={node:e,srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.g,featurePrefix:t.featurePrefix,geometryName:t.geometryName,filter:r,propertyNames:t.propertyNames?t.propertyNames:[]},s(Array.isArray(t.featureTypes),11),t=t.featureTypes,r=[r],n=om({},r[r.length-1]),n.node=e,Bu(n,N_,Iu("Query"),t,r),e},Cf.prototype.A=function(t,e,r,n){var o=[],i=_u("http://www.opengis.net/wfs","Transaction");i.setAttribute("service","WFS"),i.setAttribute("version","1.1.0");var a,s;return n&&(a=n.gmlOptions?n.gmlOptions:{},n.handle&&i.setAttribute("handle",n.handle)),i.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.c),t&&(s={node:i,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:n.featurePrefix,srsName:n.srsName},om(s,a),Bu(s,R_,Iu("Insert"),t,o)),e&&(s={node:i,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:n.featurePrefix,srsName:n.srsName},om(s,a),Bu(s,R_,Iu("Update"),e,o)),r&&Bu({node:i,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:n.featurePrefix,srsName:n.srsName},R_,Iu("Delete"),r,o),n.nativeElements&&Bu({node:i,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:n.featurePrefix,srsName:n.srsName},R_,Iu("Native"),n.nativeElements,o),i},Cf.prototype.Xf=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.He(t);return null},Cf.prototype.He=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild)for(t=t.firstElementChild.firstElementChild,t=t.firstElementChild;t;t=t.nextElementSibling)if(0!==t.childNodes.length&&(1!==t.childNodes.length||3!==t.firstChild.nodeType)){var e=[{}];return this.b.Ee(t,e),he(e.pop().srsName)}return null},r(Ff,_p);var j_={Point:zf,LineString:Bf,Polygon:Uf,MultiPoint:function(t){var e=[];t=t.re();for(var r=0,n=t.length;r<n;++r)e.push("("+zf(t[r])+")");return e.join(",")},MultiLineString:function(t){var e=[];t=t.Yc();for(var r=0,n=t.length;r<n;++r)e.push("("+Bf(t[r])+")");return e.join(",")},MultiPolygon:function(t){var e=[];t=t.Ad();for(var r=0,n=t.length;r<n;++r)e.push("("+Uf(t[r])+")");return e.join(",")},GeometryCollection:function(t){var e=[];t=t.pf();for(var r=0,n=t.length;r<n;++r)e.push(Vf(t[r]));return e.join(",")}};Jy=Ff.prototype,Jy.Hd=function(t,e){var r=this.Jd(t,e);if(r){var n=new bu;return n.Pa(r),n}return null},Jy.Tf=function(t,e){var r=[],n=this.Jd(t,e);r=this.b&&"GeometryCollection"==n.Y()?n.f:[n];for(var o=[],i=0,a=r.length;i<a;++i)n=new bu,n.Pa(r[i]),o.push(n);return o},Jy.Jd=function(t,e){var r;return r=new qf(new Hf(t)),Gf(r),(r=Xf(r))?Gu(r,!1,e):null},Jy.Re=function(t,e){var r=t.V();return r?this.Pd(r,e):""},Jy.Oi=function(t,e){if(1==t.length)return this.Re(t[0],e);for(var r=[],n=0,o=t.length;n<o;++n)r.push(t[n].V());return r=new jc(r),this.Pd(r,e)},Jy.Pd=function(t,e){return Vf(Gu(t,!0,e))},Jy=qf.prototype,Jy.Of=function(){if(Yf(this,2)){var t=Kf(this);if(Yf(this,3))return t}else if($f(this))return null;throw Error(Qf(this))},Jy.Nf=function(){if(Yf(this,2)){var t=Zf(this);if(Yf(this,3))return t}else if($f(this))return[];throw Error(Qf(this))},Jy.Pf=function(){if(Yf(this,2)){var t=Jf(this);if(Yf(this,3))return t}else if($f(this))return[];throw Error(Qf(this))},Jy.mo=function(){if(Yf(this,2)){var t;if(2==this.b.type)for(t=[this.Of()];Yf(this,5);)t.push(this.Of());else t=Zf(this);if(Yf(this,3))return t}else if($f(this))return[];throw Error(Qf(this))},Jy.lo=function(){if(Yf(this,2)){var t=Jf(this);if(Yf(this,3))return t}else if($f(this))return[];throw Error(Qf(this))},Jy.no=function(){if(Yf(this,2)){for(var t=[this.Pf()];Yf(this,5);)t.push(this.Pf());if(Yf(this,3))return t}else if($f(this))return[];throw Error(Qf(this))};var F_={POINT:We,LINESTRING:$u,POLYGON:rr,MULTIPOINT:nc,MULTILINESTRING:tc,MULTIPOLYGON:oc},z_={POINT:qf.prototype.Of,LINESTRING:qf.prototype.Nf,POLYGON:qf.prototype.Pf,MULTIPOINT:qf.prototype.mo,MULTILINESTRING:qf.prototype.lo,MULTIPOLYGON:qf.prototype.no};r(th,yf),th.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},th.prototype.b=function(t){return this.version=t.getAttribute("version").trim(),(t=Fu({version:this.version},U_,t,[]))?t:null};var B_=[null,"http://www.opengis.net/wms"],U_=Nu(B_,{Service:Lu(function(t,e){return Fu({},H_,t,e)}),Capability:Lu(function(t,e){return Fu({},V_,t,e)})}),V_=Nu(B_,{Request:Lu(function(t,e){return Fu({},J_,t,e)}),Exception:Lu(function(t,e){return Fu([],Y_,t,e)}),Layer:Lu(function(t,e){return Fu({},X_,t,e)})}),H_=Nu(B_,{Name:Lu(ep),Title:Lu(ep),Abstract:Lu(ep),KeywordList:Lu(oh),OnlineResource:Lu(df),ContactInformation:Lu(function(t,e){return Fu({},W_,t,e)}),Fees:Lu(ep),AccessConstraints:Lu(ep),LayerLimit:Lu(Qc),MaxWidth:Lu(Qc),MaxHeight:Lu(Qc)}),W_=Nu(B_,{ContactPersonPrimary:Lu(function(t,e){return Fu({},q_,t,e)}),ContactPosition:Lu(ep),ContactAddress:Lu(function(t,e){return Fu({},G_,t,e)}),ContactVoiceTelephone:Lu(ep),ContactFacsimileTelephone:Lu(ep),ContactElectronicMailAddress:Lu(ep)}),q_=Nu(B_,{ContactPerson:Lu(ep),ContactOrganization:Lu(ep)}),G_=Nu(B_,{AddressType:Lu(ep),Address:Lu(ep),City:Lu(ep),StateOrProvince:Lu(ep),PostCode:Lu(ep),Country:Lu(ep)}),Y_=Nu(B_,{Format:Cu(ep)}),X_=Nu(B_,{Name:Lu(ep),Title:Lu(ep),Abstract:Lu(ep),KeywordList:Lu(oh),CRS:Pu(ep),EX_GeographicBoundingBox:Lu(function(t,e){var r=Fu({},Z_,t,e);if(r){var n=r.westBoundLongitude,o=r.southBoundLatitude,i=r.eastBoundLongitude,r=r.northBoundLatitude;return void 0===n||void 0===o||void 0===i||void 0===r?void 0:[n,o,i,r]}}),BoundingBox:Pu(function(t){var e=[$c(t.getAttribute("minx")),$c(t.getAttribute("miny")),$c(t.getAttribute("maxx")),$c(t.getAttribute("maxy"))],r=[$c(t.getAttribute("resx")),$c(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:e,res:r}}),Dimension:Pu(function(t){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:Kc(t.getAttribute("multipleValues")),nearestValue:Kc(t.getAttribute("nearestValue")),current:Kc(t.getAttribute("current")),values:ep(t)}}),Attribution:Lu(function(t,e){return Fu({},K_,t,e)}),AuthorityURL:Pu(function(t,e){var r=eh(t,e);if(r)return r.name=t.getAttribute("name"),r}),Identifier:Pu(ep),MetadataURL:Pu(function(t,e){var r=eh(t,e);if(r)return r.type=t.getAttribute("type"),r}),DataURL:Pu(eh),FeatureListURL:Pu(eh),Style:Pu(function(t,e){return Fu({},ew,t,e)}),MinScaleDenominator:Lu(Jc),MaxScaleDenominator:Lu(Jc),Layer:Pu(function(t,e){var r=e[e.length-1],n=Fu({},X_,t,e);if(n){var o=Kc(t.getAttribute("queryable"));return void 0===o&&(o=r.queryable),n.queryable=void 0!==o&&o,o=tp(t.getAttribute("cascaded")),void 0===o&&(o=r.cascaded),n.cascaded=o,o=Kc(t.getAttribute("opaque")),void 0===o&&(o=r.opaque),n.opaque=void 0!==o&&o,o=Kc(t.getAttribute("noSubsets")),void 0===o&&(o=r.noSubsets),n.noSubsets=void 0!==o&&o,(o=$c(t.getAttribute("fixedWidth")))||(o=r.fixedWidth),n.fixedWidth=o,(o=$c(t.getAttribute("fixedHeight")))||(o=r.fixedHeight),n.fixedHeight=o,["Style","CRS","AuthorityURL"].forEach(function(t){t in r&&(n[t]=(n[t]||[]).concat(r[t]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(t){t in n||(n[t]=r[t])}),n}})}),K_=Nu(B_,{Title:Lu(ep),OnlineResource:Lu(df),LogoURL:Lu(nh)}),Z_=Nu(B_,{westBoundLongitude:Lu(Jc),eastBoundLongitude:Lu(Jc),southBoundLatitude:Lu(Jc),northBoundLatitude:Lu(Jc)}),J_=Nu(B_,{GetCapabilities:Lu(rh),GetMap:Lu(rh),GetFeatureInfo:Lu(rh)}),$_=Nu(B_,{Format:Pu(ep),DCPType:Pu(function(t,e){return Fu({},Q_,t,e)})}),Q_=Nu(B_,{HTTP:Lu(function(t,e){return Fu({},tw,t,e)})}),tw=Nu(B_,{Get:Lu(eh),Post:Lu(eh)}),ew=Nu(B_,{Name:Lu(ep),Title:Lu(ep),Abstract:Lu(ep),LegendURL:Pu(nh),StyleSheetURL:Lu(eh),StyleURL:Lu(eh)}),rw=Nu(B_,{Format:Lu(ep),OnlineResource:Lu(df)}),nw=Nu(B_,{Keyword:Cu(ep)});r(ih,Wc),ih.prototype.oc=function(t,e){var r={};e&&om(r,Wu(this,t,e));var n=[r];t.setAttribute("namespaceURI",this.g);var o=t.localName,r=[];if(0!==t.childNodes.length){if("msGMLOutput"==o)for(var i=0,a=t.childNodes.length;i<a;i++){var s=t.childNodes[i];if(s.nodeType===Node.ELEMENT_NODE){var l=n[0],u=s.localName.replace("_layer","");if(!this.c||W(this.c,u)){u+="_feature",l.featureType=u,l.featureNS=this.g;var c={};c[u]=Cu(this.b.Rf,this.b),l=Nu([l.featureNS,null],c),s.setAttribute("namespaceURI",this.g),(s=Fu([],l,s,n,this.b))&&Y(r,s)}}}"FeatureCollection"==o&&(n=Fu([],this.b.b,t,[{}],this.b))&&(r=n)}return r},r(ah,yf),ah.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},ah.prototype.b=function(t){var e=t.getAttribute("version").trim(),r=this.g.b(t);return r?(r.version=e,(r=Fu(r,aw,t,[]))?r:null):null};var ow=[null,"http://www.opengis.net/wmts/1.0"],iw=[null,"http://www.opengis.net/ows/1.1"],aw=Nu(ow,{Contents:Lu(function(t,e){return Fu({},sw,t,e)})}),sw=Nu(ow,{Layer:Pu(function(t,e){return Fu({},lw,t,e)}),TileMatrixSet:Pu(function(t,e){return Fu({},yw,t,e)})}),lw=Nu(ow,{Style:Pu(function(t,e){var r=Fu({},uw,t,e);if(r){var n="true"===t.getAttribute("isDefault");return r.isDefault=n,r}}),Format:Pu(ep),TileMatrixSetLink:Pu(function(t,e){return Fu({},cw,t,e)}),Dimension:Pu(function(t,e){return Fu({},hw,t,e)}),ResourceURL:Pu(function(t){var e=t.getAttribute("format"),r=t.getAttribute("template");t=t.getAttribute("resourceType");var n={};return e&&(n.format=e),r&&(n.template=r),t&&(n.resourceType=t),n})},Nu(iw,{Title:Lu(ep),Abstract:Lu(ep),WGS84BoundingBox:Lu(function(t,e){var r=Fu([],dw,t,e);return 2!=r.length?void 0:wt(r)}),Identifier:Lu(ep)})),uw=Nu(ow,{LegendURL:Pu(function(t){var e={};return e.format=t.getAttribute("format"),e.href=df(t),e})},Nu(iw,{Title:Lu(ep),Identifier:Lu(ep)})),cw=Nu(ow,{TileMatrixSet:Lu(ep),TileMatrixSetLimits:Lu(function(t,e){return Fu([],pw,t,e)})}),pw=Nu(ow,{TileMatrixLimits:Cu(function(t,e){return Fu({},fw,t,e)})}),fw=Nu(ow,{TileMatrix:Lu(ep),MinTileRow:Lu(Qc),MaxTileRow:Lu(Qc),MinTileCol:Lu(Qc),MaxTileCol:Lu(Qc)}),hw=Nu(ow,{Default:Lu(ep),Value:Pu(ep)},Nu(iw,{Identifier:Lu(ep)})),dw=Nu(iw,{LowerCorner:Cu(sh),UpperCorner:Cu(sh)}),yw=Nu(ow,{WellKnownScaleSet:Lu(ep),TileMatrix:Pu(function(t,e){return Fu({},mw,t,e)})},Nu(iw,{SupportedCRS:Lu(ep),Identifier:Lu(ep)})),mw=Nu(ow,{TopLeftCorner:Lu(sh),ScaleDenominator:Lu(Jc),TileWidth:Lu(Qc),TileHeight:Lu(Qc),MatrixWidth:Lu(Qc),MatrixHeight:Lu(Qc)},Nu(iw,{Identifier:Lu(ep)}));r(lh,z),Jy=lh.prototype,Jy.oa=function(){this.ne(!1),z.prototype.oa.call(this)},Jy.Ql=function(){var t=this.lh();t&&(this.c=me(he("EPSG:4326"),t),this.a&&this.set(ww,this.c(this.a)))},Jy.Rl=function(){if(zm){var t=this.mh();t&&void 0===this.f?this.f=navigator.geolocation.watchPosition(this.uo.bind(this),this.vo.bind(this),this.Wg()):t||void 0===this.f||(navigator.geolocation.clearWatch(this.f),this.f=void 0)}},Jy.uo=function(t){t=t.coords,this.set(vw,t.accuracy),this.set(bw,null===t.altitude?void 0:t.altitude),this.set(xw,null===t.altitudeAccuracy?void 0:t.altitudeAccuracy),this.set(_w,null===t.heading?void 0:f(t.heading)),this.a?(this.a[0]=t.longitude,this.a[1]=t.latitude):this.a=[t.longitude,t.latitude];var e=this.c(this.a);this.set(ww,e),this.set(Mw,null===t.speed?void 0:t.speed),t=or(fv,this.a,t.accuracy),t.sc(this.c),this.set(gw,t),this.s()},Jy.vo=function(t){t.type="error",this.ne(!1),this.b(t)},Jy.Tj=function(){return this.get(vw)},Jy.Uj=function(){return this.get(gw)||null},Jy.Wj=function(){return this.get(bw)},Jy.Xj=function(){return this.get(xw)},Jy.Ol=function(){return this.get(_w)},Jy.Pl=function(){return this.get(ww)},Jy.lh=function(){return this.get(Tw)},Jy.Bk=function(){return this.get(Mw)},Jy.mh=function(){return this.get(Sw)},Jy.Wg=function(){return this.get(Ew)},Jy.nh=function(t){this.set(Tw,t)},Jy.ne=function(t){this.set(Sw,t)},Jy.Ci=function(t){this.set(Ew,t)};var vw="accuracy",gw="accuracyGeometry",bw="altitude",xw="altitudeAccuracy",_w="heading",ww="position",Tw="projection",Mw="speed",Sw="tracking",Ew="trackingOptions";r(uh,Me),Jy=uh.prototype,Jy.clone=function(){var t=new uh(null);return Ee(t,this.ka,this.B.slice()),t.s(),t},Jy.Ab=function(t,e,r,n){var o=this.B;t-=o[0];var i=e-o[1];if(e=t*t+i*i,e<n){if(0===e)for(n=0;n<this.a;++n)r[n]=o[n];else for(n=this.qe()/Math.sqrt(e),r[0]=o[0]+n*t,r[1]=o[1]+n*i,n=2;n<this.a;++n)r[n]=o[n];return r.length=this.a,e}return n},Jy.Hc=function(t,e){var r=this.B,n=t-r[0],r=e-r[1];return n*n+r*r<=ch(this)},Jy.Fd=function(){return this.B.slice(0,this.a)},Jy.Yd=function(t){var e=this.B,r=e[this.a]-e[0];return Lt(e[0]-r,e[1]-r,e[0]+r,e[1]+r,t)},Jy.qe=function(){return Math.sqrt(ch(this))},Jy.Y=function(){return"Circle"},Jy.Ta=function(t){var e=this.G();return!!Kt(t,e)&&(e=this.Fd(),t[0]<=e[0]&&t[2]>=e[0]||t[1]<=e[1]&&t[3]>=e[1]||Ft(t,this.mb,this))},Jy.nm=function(t){var e=this.a,r=t.slice();r[e]=r[0]+(this.B[e]-this.B[0]);var n;for(n=1;n<e;++n)r[e+n]=t[n];Ee(this,this.ka,r),this.s()},Jy.dg=function(t,e,r){if(t){ke(this,r,t,0),this.B||(this.B=[]),r=this.B,t=Re(r,t),r[t++]=r[0]+e;var n;for(e=1,n=this.a;e<n;++e)r[t++]=r[e];r.length=t}else Ee(this,"XY",null);this.s()},Jy.om=function(t){this.B[this.a]=this.B[0]+t,this.s()};var kw=new Ni({color:"rgba(0,0,0,0.2)"}),Cw=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];Jy=dh.prototype,Jy.Sl=function(){return this.l},Jy.qk=function(){return this.b},Jy.xk=function(){return this.a},Jy.ah=function(t){var e=t.vectorContext,r=t.frameState,n=r.extent;t=r.viewState;var o=t.center,i=t.projection,a=t.resolution;if(t=r.pixelRatio,t=a*a/(4*t*t),!this.c||!de(this.c,i)){var s=he("EPSG:4326"),u=i.G(),c=i.i,p=xe(c,s,i),f=c[2],h=c[1],d=c[0],y=p[3],m=p[2],v=p[1],p=p[0];this.i=c[3],this.g=f,this.j=h,this.f=d,this.u=y,this.A=m,this.C=v,this.D=p,this.o=ye(s,i),this.H=ye(i,s),this.v=this.H(Vt(u)),this.c=i}for(i.a&&(i=i.G(),s=Xt(i),r=r.focus[0],r<i[0]||r>i[2])&&(r=s*Math.ceil((i[0]-r)/s),n=[n[0]+r,n[1],n[2]+r,n[3]]),r=this.v[0],i=this.v[1],s=-1,c=Math.pow(this.va*a,2),f=[],h=[],a=0,u=Cw.length;a<u&&(d=Cw[a]/2,f[0]=r-d,f[1]=i-d,h[0]=r+d,h[1]=i+d,this.o(f,f),this.o(h,h),d=Math.pow(h[0]-f[0],2)+Math.pow(h[1]-f[1],2),!(d<=c));++a)s=Cw[a];if(a=s,-1==a)this.b.length=this.a.length=0;else{for(r=this.H(o),o=r[0],r=r[1],i=this.L,s=[Math.max(n[0],this.D),Math.max(n[1],this.C),Math.min(n[2],this.A),Math.min(n[3],this.u)],s=xe(s,this.c,"EPSG:4326"),c=s[3],h=s[1],o=Math.floor(o/a)*a,f=l(o,this.f,this.g),u=yh(this,f,h,c,t,n,0),s=0;f!=this.f&&s++<i;)f=Math.max(f-a,this.f),u=yh(this,f,h,c,t,n,u);for(f=l(o,this.f,this.g),s=0;f!=this.g&&s++<i;)f=Math.min(f+a,this.g),u=yh(this,f,h,c,t,n,u);for(this.b.length=u,r=Math.floor(r/a)*a,o=l(r,this.j,this.i),u=mh(this,o,t,n,0),s=0;o!=this.j&&s++<i;)o=Math.max(o-a,this.j),u=mh(this,o,t,n,u);for(o=l(r,this.j,this.i),s=0;o!=this.i&&s++<i;)o=Math.min(o+a,this.i),u=mh(this,o,t,n,u);this.a.length=u}for(e.Ma(null,this.ra),t=0,o=this.b.length;t<o;++t)a=this.b[t],e.Pb(a,null);for(t=0,o=this.a.length;t<o;++t)a=this.a[t],e.Pb(a,null)},Jy.setMap=function(t){this.l&&(this.l.K("postcompose",this.ah,this),this.l.render()),t&&(t.J("postcompose",this.ah,this),t.render()),this.l=t},r(vh,Hn),Jy=vh.prototype,Jy.oa=function(){1==this.state&&gh(this),this.a&&D(this.a),this.state=5,this.s(),Hn.prototype.oa.call(this)},Jy.ub=function(){return this.g},Jy.bb=function(){return this.l},Jy.Tl=function(){this.state=3,gh(this),this.s()},Jy.Ul=function(){this.state=this.g.naturalWidth&&this.g.naturalHeight?Xm:4,gh(this),this.s()},Jy.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.s(),this.i=[k(this.g,"error",this.Tl,this),k(this.g,"load",this.Ul,this)],this.o(this,this.l))},r(bh,Qn),bh.prototype.j=function(t,e){var r=e.target.result,n=this.v,o=this.l;o||(o=n.aa().o);var i,a,n=this.i,s=[];for(i=0,a=n.length;i<a;++i){var l=new n[i],u={featureProjection:o};try{s=l.La(r,u)}catch(t){s=null}if(s&&0<s.length)break}this.b(new wh(Aw,t,s,o))},bh.prototype.setMap=function(t){this.a&&(this.a.forEach(A),this.a=null),Qn.prototype.setMap.call(this,t),t&&(t=this.target?this.target:t.f,this.a=[E(t,"drop",xh,this),E(t,"dragenter",_h,this),E(t,"dragover",_h,this),E(t,"drop",_h,this)])};var Aw="addfeatures";r(wh,O),r(Th,yo),r(Ch,Pl),Jy=Ch.prototype,Jy.gb=function(t){var e=i(t).toString();if(Ph(this,e,t)){Ah(this,e,t);var r=t.V();r?(e=r.G(),this.a&&this.a.Da(e,t)):this.i[e]=t,this.b(new Rh(Pw,t))}this.s()},Jy.Tc=function(t){Lh(this,t),this.s()},Jy.clear=function(t){if(t){for(var e in this.v)this.v[e].forEach(A);this.c||(this.v={},this.l={},this.o={})}else if(this.a){this.a.forEach(this.$f,this);for(var r in this.i)this.$f(this.i[r])}this.c&&this.c.clear(),this.a&&this.a.clear(),this.sa.clear(),this.i={},this.b(new Rh(Dw)),this.s()},Jy.Fg=function(t,e){return this.a?this.a.forEach(t,e):this.c?this.c.forEach(t,e):void 0},Jy.Qb=function(t,e,r){return this.a?qs(this.a,t,e,r):this.c?this.c.forEach(e,r):void 0},Jy.Gg=function(t,e,r){return this.Qb(t,function(n){if(n.V().Ta(t)&&(n=e.call(r,n)))return n})},Jy.Og=function(){return this.c},Jy.we=function(){var t;return this.c?t=this.c.a:this.a&&(t=Hs(this.a),x(this.i)||Y(t,b(this.i))),t},Jy.Ng=function(t){var e=[];return Oh(this,t,function(t){e.push(t)}),e},Jy.nf=function(t){return Ws(this.a,t)},Jy.Jg=function(t,e){var r=t[0],n=t[1],o=null,i=[NaN,NaN],a=1/0,s=[-(1/0),-(1/0),1/0,1/0],l=e?e:Qt;return qs(this.a,s,function(t){if(l(t)){var e=t.V(),u=a;a=e.Ab(r,n,i,a),a<u&&(o=t,t=Math.sqrt(a),s[0]=r-t,s[1]=n-t,s[2]=r+t,s[3]=n+t)}}),o},Jy.G=function(){return this.a.G()},Jy.Mg=function(t){return t=this.l[t.toString()],void 0!==t?t:null},Jy.Kh=function(){return this.P},Jy.Lh=function(){return this.Z},Jy.Mh=function(t){t=t.target;var e=i(t).toString(),r=t.V();r?(r=r.G(),e in this.i?(delete this.i[e],this.a&&this.a.Da(r,t)):this.a&&Vs(this.a,r,t)):e in this.i||(this.a&&this.a.remove(t),this.i[e]=t),r=t.f,void 0!==r?(r=r.toString(),e in this.o?(delete this.o[e],this.l[r]=t):this.l[r]!==t&&(Ih(this,t),this.l[r]=t)):e in this.o||(Ih(this,t),this.o[e]=t),this.s(),this.b(new Rh(Lw,t))},Jy.Ed=function(t,e,r){var n=this.sa;t=this.fc(t,e);var o,i;for(o=0,i=t.length;o<i;++o){var a=t[o];qs(n,a,function(t){return kt(t.extent,a)})||(this.U.call(this,a,e,r),n.Da(a,{extent:a.slice()}))}},Jy.rb=function(t){var e=i(t).toString();e in this.i?delete this.i[e]:this.a&&this.a.remove(t),this.$f(t),this.s()},Jy.$f=function(t){var e=i(t).toString();this.v[e].forEach(A),delete this.v[e];var r=t.f;void 0!==r?delete this.l[r.toString()]:delete this.o[e],this.b(new Rh(Ow,t))},r(Rh,O);var Pw="addfeature",Lw="changefeature",Dw="clear",Ow="removefeature";r(Nh,yo),Jy=Nh.prototype,Jy.setMap=function(t){yo.prototype.setMap.call(this,t),this.Li()},Jy.Vo=function(){var t,e,r=this.j.V();this.i===Rw?(t=this.a,t.splice(-2,1),this.D(t,r)):this.i===Nw&&(t=this.a[0],t.splice(-2,1),e=this.C.V(),e.qa(t),this.D(this.a,r)),0===t.length&&(this.o=null),Gh(this)},Jy.zd=function(){var t=qh(this),e=this.a,r=t.V();this.i===Rw?(e.pop(),this.D(e,r)):this.i===Nw&&(e[0].pop(),this.D(e,r),e=r.$()),"MultiPoint"===this.U?t.Pa(new nc([e])):"MultiLineString"===this.U?t.Pa(new tc([e])):"MultiPolygon"===this.U&&t.Pa(new oc([e])),this.b(new Xh(zw,t)),this.xa&&this.xa.push(t),this.Ua&&this.Ua.gb(t)},Jy.vm=function(t){var e=t.V();this.j=t,this.a=e.$(),t=this.a[this.a.length-1],this.o=t.slice(),this.a.push(t.slice()),Gh(this),this.b(new Xh(Fw,this.j))},Jy.Qc=te,Jy.Li=function(){var t=this.v,e=this.f();t&&e||qh(this),this.sa.setMap(e?t:null)};var Iw="Point",Rw="LineString",Nw="Polygon",jw="Circle";r(Xh,O);var Fw="drawstart",zw="drawend";r(Kh,yo),Kh.prototype.setMap=function(t){this.u.setMap(t),this.L.setMap(t),yo.prototype.setMap.call(this,t)},Kh.prototype.G=function(){return this.j},Kh.prototype.i=function(t){this.j=t?t:null;var e=this.o;e?t?e.Pa(ir(t)):e.Pa(void 0):(this.o=e=new bu(t?ir(t):{}),this.u.la().gb(e)),this.b(new ad(this.j))},r(ad,O);var Bw="extentchanged";r(sd,yo),Jy=sd.prototype,Jy.Gf=function(t){var e=t.V();e&&e.Y()in this.U&&this.U[e.Y()].call(this,t,e),(e=this.v)&&e.a&&vd(this,this.sa,e),E(t,"change",this.th,this)},Jy.Ea=function(t){this.a&&!t&&(this.D.la().rb(this.a),this.a=null),yo.prototype.Ea.call(this,t)},Jy.setMap=function(t){this.D.setMap(t),yo.prototype.setMap.call(this,t)},Jy.wm=function(t){this.Gf(t.element)},Jy.th=function(t){this.o||(t=t.target,ud(this,t),this.Gf(t))},Jy.xm=function(t){ud(this,t.element)},Jy.Cm=function(t,e){var r=e.$(),r={feature:t,geometry:e,ta:[r,r]};this.i.Da(e.G(),r)},Jy.Am=function(t,e){var r,n,o,i=e.$();for(n=0,o=i.length;n<o;++n)r=i[n],r={feature:t,geometry:e,depth:[n],index:n,ta:[r,r]},this.i.Da(e.G(),r)},Jy.uh=function(t,e){var r,n,o,i,a=e.$();for(r=0,n=a.length-1;r<n;++r)o=a.slice(r,r+2),i={feature:t,geometry:e,index:r,ta:o},this.i.Da(wt(o),i)},Jy.zm=function(t,e){var r,n,o,i,a,s,l,u=e.$();for(i=0,a=u.length;i<a;++i)for(r=u[i],n=0,o=r.length-1;n<o;++n)s=r.slice(n,n+2),l={feature:t,geometry:e,depth:[i],index:n,ta:s},this.i.Da(wt(s),l)},Jy.Dm=function(t,e){var r,n,o,i,a,s,l,u=e.$();for(i=0,a=u.length;i<a;++i)for(r=u[i],n=0,o=r.length-1;n<o;++n)s=r.slice(n,n+2),l={feature:t,geometry:e,depth:[i],index:n,ta:s},this.i.Da(wt(s),l)},Jy.Bm=function(t,e){var r,n,o,i,a,s,l,u,c,p,f=e.$();for(s=0,l=f.length;s<l;++s)for(u=f[s],i=0,a=u.length;i<a;++i)for(r=u[i],n=0,o=r.length-1;n<o;++n)c=r.slice(n,n+2),p={feature:t,geometry:e,depth:[i,s],index:n,ta:c},this.i.Da(wt(c),p)},Jy.ym=function(t,e){var r,n=e.f;for(r=0;r<n.length;++r)this.U[n[r].Y()].call(this,t,n[r])},Jy.pl=function(t,e){for(var r,n=t.ta,o=t.feature,i=t.geometry,a=t.depth,s=t.index;e.length<i.pa();)e.push(0);switch(i.Y()){case"MultiLineString":r=i.$(),r[a[0]].splice(s+1,0,e);break;case"Polygon":r=i.$(),r[a[0]].splice(s+1,0,e);break;case"MultiPolygon":r=i.$(),r[a[1]][a[0]].splice(s+1,0,e);break;case"LineString":r=i.$(),r.splice(s+1,0,e);break;default:return}this.o=!0,i.qa(r),this.o=!1,r=this.i,r.remove(t),gd(this,i,s,a,1);var l={ta:[n[0],e],feature:o,geometry:i,depth:a,index:s};r.Da(wt(l.ta),l),this.j.push([l,1]),n={ta:[e,n[1]],feature:o,geometry:i,depth:a,index:s+1},r.Da(wt(n.ta),n),this.j.push([n,0]),this.L=!0},Jy.ki=function(){if(this.P&&"pointerdrag"!=this.P.type){var t=this.P;ld(this,t);var e,r,n,o,a,s,l,u,c,p=this.j,f={};for(a=p.length-1;0<=a;--a)o=p[a],u=o[0],c=i(u.feature),u.depth&&(c+="-"+u.depth.join("-")),c in f||(f[c]={}),0===o[1]?(f[c].right=u,f[c].index=u.index):1==o[1]&&(f[c].left=u,f[c].index=u.index+1);for(c in f){switch(l=f[c].right,a=f[c].left,o=f[c].index,s=o-1,u=void 0!==a?a:l,0>s&&(s=0),p=u.geometry,r=n=p.$(),e=!1,p.Y()){case"MultiLineString":2<n[u.depth[0]].length&&(n[u.depth[0]].splice(o,1),e=!0);break;case"LineString":2<n.length&&(n.splice(o,1),e=!0);break;case"MultiPolygon":r=r[u.depth[1]];case"Polygon":r=r[u.depth[0]],4<r.length&&(o==r.length-1&&(o=0),r.splice(o,1),e=!0,0===o&&(r.pop(),r.push(r[0]),s=r.length-1))}e&&(e=p,this.o=!0,e.qa(n),this.o=!1,n=[],void 0!==a&&(this.i.remove(a),n.push(a.ta[0])),void 0!==l&&(this.i.remove(l),n.push(l.ta[1])),void 0!==a&&void 0!==l&&(a={depth:u.depth,feature:u.feature,geometry:u.geometry,index:s,ta:n},this.i.Da(wt(a.ta),a)),gd(this,p,o,u.depth,-1),this.a&&(this.D.la().rb(this.a),this.a=null))}return this.b(new xd(Vw,this.u,t)),this.C=!1,!0}return!1},r(xd,O);var Uw="modifystart",Vw="modifyend";r(_d,Qn),Jy=_d.prototype,Jy.Fm=function(){return this.i.la().c},Jy.Gm=function(){return this.j},Jy.Hm=function(t){return t=i(t),this.a[t]},Jy.Jm=function(t){this.j=t},Jy.setMap=function(t){var e=this.v,r=this.i.la().c;e&&r.forEach(e.Ji,e),Qn.prototype.setMap.call(this,t),this.i.setMap(t),t&&r.forEach(t.Di,t)},Jy.Em=function(t){var e=this.v;e&&e.Di(t.element)},Jy.Im=function(t){var e=this.v;e&&e.Ji(t.element)},r(Md,O);var Hw="select";r(Sd,yo),Jy=Sd.prototype,Jy.gb=function(t,e){var r=void 0===e||e,n=i(t),o=t.V();if(o){var a=this.fa[o.Y()];a&&(this.U[n]=o.G(Pt()),a.call(this,t,o),r&&(this.D[n]=E(o,"change",this.Pk.bind(this,t),this)))}r&&(this.C[n]=E(t,B(t.a),this.Km,this))},Jy.Qj=function(t){this.gb(t)},Jy.Rj=function(t){this.rb(t)},Jy.vh=function(t){var e;t instanceof Rh?e=t.feature:t instanceof Vr&&(e=t.element),this.gb(e)},Jy.wh=function(t){var e;t instanceof Rh?e=t.feature:t instanceof Vr&&(e=t.element),this.rb(e)},Jy.Km=function(t){t=t.target,this.rb(t,!0),this.gb(t,!0)},Jy.Pk=function(t){if(this.A){var e=i(t);e in this.u||(this.u[e]=t)}else this.Ki(t)},Jy.rb=function(t,e){var r=void 0===e||e,n=i(t),o=this.U[n];if(o){var a=this.a,s=[];for(qs(a,o,function(e){t===e.feature&&s.push(e)}),o=s.length-1;0<=o;--o)a.remove(s[o]);r&&(F(this.D[n]),delete this.D[n])}r&&(F(this.C[n]),delete this.C[n])},Jy.setMap=function(t){var e,r=this.v,n=this.na;this.j?e=this.j:this.o&&(e=this.o.we()),r&&(n.forEach(F),n.length=0,e.forEach(this.Rj,this)),yo.prototype.setMap.call(this,t),t&&(this.j?n.push(E(this.j,gm,this.vh,this),E(this.j,bm,this.wh,this)):this.o&&n.push(E(this.o,Pw,this.vh,this),E(this.o,Ow,this.wh,this)),e.forEach(this.Qj,this))},Jy.Qc=te,Jy.Ki=function(t){this.rb(t,!1),this.gb(t,!1)},Jy.Lm=function(t,e){var r,n=e.f;for(r=0;r<n.length;++r)this.fa[n[r].Y()].call(this,t,n[r])},Jy.xh=function(t,e){var r,n,o,i,a=e.$();for(r=0,n=a.length-1;r<n;++r)o=a.slice(r,r+2),i={feature:t,ta:o},this.a.Da(wt(o),i)},Jy.Mm=function(t,e){var r,n,o,i,a,s,l,u=e.$();for(i=0,a=u.length;i<a;++i)for(r=u[i],n=0,o=r.length-1;n<o;++n)s=r.slice(n,n+2),l={feature:t,ta:s},this.a.Da(wt(s),l)},Jy.Nm=function(t,e){var r,n,o,i=e.$();for(n=0,o=i.length;n<o;++n)r=i[n],r={feature:t,ta:[r,r]},this.a.Da(e.G(),r)},Jy.Om=function(t,e){
var r,n,o,i,a,s,l,u,c,p,f=e.$();for(s=0,l=f.length;s<l;++s)for(u=f[s],i=0,a=u.length;i<a;++i)for(r=u[i],n=0,o=r.length-1;n<o;++n)c=r.slice(n,n+2),p={feature:t,ta:c},this.a.Da(wt(c),p)},Jy.Pm=function(t,e){var r=e.$(),r={feature:t,ta:[r,r]};this.a.Da(e.G(),r)},Jy.Qm=function(t,e){var r,n,o,i,a,s,l,u=e.$();for(i=0,a=u.length;i<a;++i)for(r=u[i],n=0,o=r.length-1;n<o;++n)s=r.slice(n,n+2),l={feature:t,ta:s},this.a.Da(wt(s),l)},r(Ad,yo),Ad.prototype.D=function(){return this.u},Ad.prototype.L=function(t){this.u=t},r(Rd,O);var Ww="translatestart",qw="translating",Gw="translateend";r(Nd,Vi);var Yw=["#00f","#0ff","#0f0","#ff0","#f00"];Jy=Nd.prototype,Jy.Ig=function(){return this.get(Xw)},Jy.Pg=function(){return this.get(Kw)},Jy.zh=function(){return this.get(Zw)},Jy.Qk=function(){for(var t=this.Pg(),e=Yr(1,256),r=e.createLinearGradient(0,0,1,256),n=1/(t.length-1),o=0,i=t.length;o<i;++o)r.addColorStop(o*n,t[o]);e.fillStyle=r,e.fillRect(0,0,1,256),this.f=e.getImageData(0,0,1,256).data},Jy.xf=function(){var t=this.zh(),e=this.Ig(),r=t+e+1,n=2*r,n=Yr(n,n);n.shadowOffsetX=n.shadowOffsetY=this.U,n.shadowBlur=e,n.shadowColor="#000",n.beginPath(),e=r-this.U,n.arc(e,e,t,0,2*Math.PI,!0),n.fill(),this.P=n.canvas.toDataURL(),this.c=Array(256),this.s()},Jy.gl=function(t){t=t.context;var e,r,n,o=t.canvas,o=t.getImageData(0,0,o.width,o.height),i=o.data;for(e=0,r=i.length;e<r;e+=4)(n=4*i[e+3])&&(i[e]=this.f[n],i[e+1]=this.f[n+1],i[e+2]=this.f[n+2]);t.putImageData(o,0,0)},Jy.ni=function(t){this.set(Xw,t)},Jy.ui=function(t){this.set(Kw,t)},Jy.Ah=function(t){this.set(Zw,t)};var Xw="blur",Kw="gradient",Zw="radius";r(Fd,Hn),Fd.prototype.oa=function(){1==this.state&&(this.kd.forEach(A),this.kd=null),Hn.prototype.oa.call(this)},Fd.prototype.ub=function(){return this.H},Fd.prototype.Ld=function(){var t=[];if(this.g.forEach(function(e){e&&e.W()==Xm&&t.push({extent:this.f.Na(e.Ca),image:e.ub()})},this),this.g.length=0,0===t.length)this.state=3;else{var e=this.o[0],r=this.l.Za(e),n="number"==typeof r?r:r[0],r="number"==typeof r?r:r[1],e=this.l.Ha(e),o=this.f.Ha(this.i),i=this.l.Na(this.o);this.H=Sl(n,r,this.A,o,this.f.G(),e,i,this.v,t,this.u,this.C),this.state=Xm}this.s()},Fd.prototype.load=function(){if(0==this.state){this.state=1,this.s();var t=0;this.kd=[],this.g.forEach(function(e){var r=e.W();if(0==r||1==r){t++;var n;n=E(e,"change",function(){var r=e.W();r!=Xm&&3!=r&&4!=r||(A(n),t--,0===t&&(this.kd.forEach(A),this.kd=null,this.Ld()))},this),this.kd.push(n)}},this),this.g.forEach(function(t){0==t.W()&&t.load()}),0===t&&setTimeout(this.Ld.bind(this),0)}},r(Wd,Xl),Wd.prototype.Wc=function(t){for(var e,r;qd(this);){e=this.a.Rc,r=e.Ca[0].toString();var n;if((n=r in t)&&(e=e.Ca,n=br(t[r],e[1],e[2])),n)break;D(this.pop())}},r(Gd,Pl),Jy=Gd.prototype,Jy.Ih=function(){return qd(this.a)},Jy.Wc=function(t,e){var r=this.Cd(t);r&&r.Wc(e)},Jy.qf=function(){return 0},Jy.Lb=function(t,e,r){return t+"/"+e+"/"+r},Jy.tf=function(){return this.sa},Jy.Va=function(){return this.tileGrid},Jy.Db=function(t){return this.tileGrid?this.tileGrid:Rr(t)},Jy.Cd=function(t){var e=this.f;return e&&!de(e,t)?null:this.a},Jy.jb=function(){return this.xa},Jy.Dd=function(t,e,r){return r=this.Db(r),e=this.jb(e),t=Mr(r.Za(t),this.l),1==e?t:Tr(t,e,this.l)},Jy.wa=function(){this.a.clear(),this.s()},Jy.ig=o,r(Zd,O),r(Jd,Gd),Jy=Jd.prototype,Jy.ib=function(){return this.tileLoadFunction},Jy.kb=function(){return this.tileUrlFunction},Jy.lb=function(){return this.urls},Jy.Jh=function(t){switch(t=t.target,t.W()){case 1:this.b(new Zd("tileloadstart",t));break;case Xm:this.b(new Zd("tileloadend",t));break;case 3:this.b(new Zd("tileloaderror",t))}},Jy.sb=function(t){this.a.clear(),this.tileLoadFunction=t,this.s()},Jy.Xa=function(t,e){this.tileUrlFunction=t,"undefined"!=typeof e?Xd(this,e):this.s()},Jy.cb=function(t){var e=this.urls=Hd(t);this.Xa(this.zc?this.zc.bind(this):Bd(e,this.tileGrid),t)},Jy.Ya=function(t){this.urls=t;var e=t.join("\n");this.Xa(this.zc?this.zc.bind(this):Bd(t,this.tileGrid),e)},Jy.ig=function(t,e,r){t=this.Lb(t,e,r),this.a.b.hasOwnProperty(t)&&this.a.get(t)},r($d,Jd),Jy=$d.prototype,Jy.Ih=function(){if(qd(this.a))return!0;for(var t in this.i)if(qd(this.i[t]))return!0;return!1},Jy.Wc=function(t,e){var r=this.Cd(t);this.a.Wc(this.a==r?e:{});for(var n in this.i){var o=this.i[n];o.Wc(o==r?e:{})}},Jy.qf=function(t){return this.f&&t&&!de(this.f,t)?0:this.rf()},Jy.rf=function(){return 0},Jy.tf=function(t){return!(this.f&&t&&!de(this.f,t))&&Jd.prototype.tf.call(this,t)},Jy.Db=function(t){var e=this.f;return!this.tileGrid||e&&!de(e,t)?(e=i(t).toString(),e in this.v||(this.v[e]=Rr(t)),this.v[e]):this.tileGrid},Jy.Cd=function(t){var e=this.f;return!e||de(e,t)?this.a:(t=i(t).toString(),t in this.i||(this.i[t]=new Wd),this.i[t])},Jy.Dc=function(t,e,r,n,o){if(this.f&&o&&!de(this.f,o)){var i=this.Cd(o);r=[t,e,r];var a;if(t=this.Lb.apply(this,r),i.b.hasOwnProperty(t)&&(a=i.get(t)),e=this.jc,a&&a.key==e)return a;var s=this.f,l=this.Db(s),u=this.Db(o),c=Kd(this,r,o);return n=new Fd(s,l,o,u,r,c,this.jb(n),this.rf(),function(t,e,r,n){return ty(this,t,e,r,n,s)}.bind(this),this.na,this.C),n.key=e,a?(n.a=a,i.replace(t,n)):i.set(t,n),n}return ty(this,t,e,r,n,o)},Jy.Hb=function(t){if(this.C!=t){this.C=t;for(var e in this.i)this.i[e].clear();this.s()}},Jy.Ib=function(t,e){var r=he(t);r&&(r=i(r).toString(),r in this.v||(this.v[r]=e))},r(ry,$d);var Jw=new zr({html:'<a class="ol-attribution-bing-tos" href="http://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'});ry.prototype.U=function(){return this.c},ry.prototype.Z=function(){return this.o},ry.prototype.fa=function(t){if(200!=t.statusCode||"OK"!=t.statusDescription||"ValidCredentials"!=t.authenticationResultCode||1!=t.resourceSets.length||1!=t.resourceSets[0].resources.length)Dl(this,"error");else{var e=t.brandLogoUri;-1==e.indexOf("https")&&(e=e.replace("http","https"));var r=t.resourceSets[0].resources[0],n=-1==this.u?r.zoomMax:this.u;t=Fr(this.f);var o=Nr({extent:t,minZoom:r.zoomMin,maxZoom:n,tileSize:(r.imageWidth==r.imageHeight?r.imageWidth:[r.imageWidth,r.imageHeight])/this.jb()});this.tileGrid=o;var i=this.P,a=this.A;if(this.tileUrlFunction=Ud(r.imageUrlSubdomains.map(function(t){var e=[0,0,0],n=r.imageUrl.replace("{subdomain}",t).replace("{culture}",i);return function(t){if(t)return Sr(t[0],t[1],-t[2]-1,e),t=n,a&&(t+="&dpi=d1&device=mobile"),t.replace("{quadkey}",Er(e))}})),r.imageryProviders){var s=me(he("EPSG:4326"),this.f);t=r.imageryProviders.map(function(t){var e=t.attribution,r={};return t.coverageAreas.forEach(function(t){var e=t.zoomMin,i=Math.min(t.zoomMax,n);t=t.bbox,t=$t([t[1],t[0],t[3],t[2]],s);var a,l;for(a=e;a<=i;++a)l=a.toString(),e=Lr(o,t,a),l in r?r[l].push(e):r[l]=[e]}),new zr({html:e,tileRanges:r})}),t.push(Jw),this.ua(t)}this.L=e,Dl(this,"ready")}},r(ny,$d),r(oy,ny),Jy=oy.prototype,Jy.$j=function(){return this.c},Jy.wp=function(t){om(this.c,t),iy(this)},Jy.fp=function(t){this.c=t||{},iy(this)},Jy.Sk=function(t,e){var r=e.target;if(!r.status||200<=r.status&&300>r.status){var n;try{n=JSON.parse(r.responseText)}catch(t){return void Dl(this,"error")}ay(this,n),this.o[t]=n,Dl(this,"ready")}else Dl(this,"error")},Jy.Rk=function(){Dl(this,"error")},r(sy,Ch),sy.prototype.Ua=function(){return this.u},sy.prototype.Ed=function(t,e,r){this.u.Ed(t,e,r),e!==this.C&&(this.clear(),this.C=e,ly(this),this.Tc(this.A))},sy.prototype.Ob=function(t){this.fa=t,this.Ja()},sy.prototype.Ja=function(){this.clear(),ly(this),this.Tc(this.A),this.s()},r(py,Ol),Jy=py.prototype,Jy.Xm=function(){return this.u},Jy.Xc=function(t,e,r,n){if(void 0===this.i)return null;e=Il(this,e);var o=this.c;if(o&&this.P==this.g&&o.resolution==e&&o.f==r&&kt(o.G(),t))return o;o={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},om(o,this.u),t=t.slice();var i=(t[0]+t[2])/2,a=(t[1]+t[3])/2;if(1!=this.C){var l=this.C*Xt(t)/2,u=this.C*Wt(t)/2;t[0]=i-l,t[1]=a-u,t[2]=i+l,t[3]=a+u}var l=e/r,u=Math.ceil(Xt(t)/l),c=Math.ceil(Wt(t)/l);return t[0]=i-l*u/2,t[2]=i+l*u/2,t[1]=a-l*c/2,t[3]=a+l*c/2,this.v[0]=u,this.v[1]=c,i=t,a=this.v,n=n.hb.split(":").pop(),o.SIZE=a[0]+","+a[1],o.BBOX=i.join(","),o.BBOXSR=n,o.IMAGESR=n,o.DPI=90*r,n=this.i,i=n.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),i==n&&s(!1,50),o=cy(i,o),this.c=new Ai(t,e,r,this.j,o,this.Z,this.l),this.P=this.g,E(this.c,"change",this.o,this),this.c},Jy.Wm=function(){return this.l},Jy.Ym=function(){return this.i},Jy.Zm=function(t){this.c=null,this.l=t,this.s()},Jy.$m=function(t){t!=this.i&&(this.i=t,this.c=null,this.s())},Jy.an=function(t){om(this.u,t),this.c=null,this.s()},r(fy,Ol),Jy=fy.prototype,Jy.cn=function(){return this.l},Jy.Xc=function(t,e,r){e=Il(this,e),r=this.fa?r:1;var n=this.i;if(n&&this.C==this.g&&n.resolution==e&&n.f==r&&kt(n.G(),t))return n;1!=this.u&&(t=t.slice(),Jt(t,this.u));var o=[Xt(t)/e*r,Wt(t)/e*r];if(void 0!==this.P){var n=this.P,i=Vt(t),a=this.na,s=Xt(t),l=Wt(t),u=o[0],c=o[1],p=.0254/this.v,o={OPERATION:this.xa?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.v,SETDISPLAYWIDTH:Math.round(o[0]),SETDISPLAYHEIGHT:Math.round(o[1]),SETVIEWSCALE:c*s>u*l?s*a/(u*p):l*a/(c*p),SETVIEWCENTERX:i[0],SETVIEWCENTERY:i[1]};om(o,this.l),n=cy(n,o),n=new Ai(t,e,r,this.j,n,this.Z,this.c),E(n,"change",this.o,this)}else n=null;return this.i=n,this.C=this.g,n},Jy.bn=function(){return this.c},Jy.en=function(t){om(this.l,t),this.s()},Jy.dn=function(t){this.i=null,this.c=t,this.s()},r(hy,Ol),hy.prototype.Xc=function(t){return Kt(t,this.c.G())?this.c:null},hy.prototype.o=function(t){if(this.c.W()==wv){var e,r,n=this.c.G(),o=this.c.a();if(this.i?(e=this.i[0],r=this.i[1]):(e=o.width,r=o.height),n=Math.ceil(Xt(n)/(Wt(n)/r)),n!=e){var n=Yr(n,r),i=n.canvas;n.drawImage(o,0,0,e,r,0,0,i.width,i.height),this.c.g=i}}Ol.prototype.o.call(this,t)},r(dy,Ol);var $w=[101,101];Jy=dy.prototype,Jy.ln=function(t,e,r,n){if(void 0!==this.l){var o=Ht(t,e,0,$w),i={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.i.LAYERS};return om(i,this.i,n),n=Math.floor((o[3]-t[1])/e),i[this.u?"I":"X"]=Math.floor((t[0]-o[0])/e),i[this.u?"J":"Y"]=n,yy(this,o,$w,1,he(r),i)}},Jy.nn=function(){return this.i},Jy.Xc=function(t,e,r,n){if(void 0===this.l)return null;e=Il(this,e),1==r||this.xa&&void 0!==this.fa||(r=1),t=t.slice();var o=(t[0]+t[2])/2,i=(t[1]+t[3])/2,a=e/r,s=Xt(t)/a,a=Wt(t)/a,l=this.c;if(l&&this.Z==this.g&&l.resolution==e&&l.f==r&&kt(l.G(),t))return l;if(1!=this.v){var l=this.v*Xt(t)/2,u=this.v*Wt(t)/2;t[0]=o-l,t[1]=i-u,t[2]=o+l,t[3]=i+u}return o={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},om(o,this.i),this.P[0]=Math.ceil(s*this.v),this.P[1]=Math.ceil(a*this.v),n=yy(this,t,this.P,r,n,o),this.c=new Ai(t,e,r,this.j,n,this.na,this.C),this.Z=this.g,E(this.c,"change",this.o,this),this.c},Jy.mn=function(){return this.C},Jy.pn=function(){return this.l},Jy.qn=function(t){this.c=null,this.C=t,this.s()},Jy.rn=function(t){t!=this.l&&(this.l=t,this.c=null,this.s())},Jy.sn=function(t){om(this.i,t),my(this),this.c=null,this.s()},r(vy,ny);var Qw=new zr({html:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'});!function(){var t={},r={ma:t};!function(n){if("object"==typeof t&&"undefined"!=typeof r)r.ma=n();else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:this,o.Sp=n()}}(function(){return function t(e,r,o){function i(s,l){if(!r[s]){if(!e[s]){var u="function"==typeof n&&n;if(!l&&u)return n(s,!0);if(a)return a(s,!0);throw u=Error("Cannot find module '"+s+"'"),u.code="MODULE_NOT_FOUND",u}u=r[s]={ma:{}},e[s][0].call(u.ma,function(t){var r=e[s][1][t];return i(r?r:t)},u,u.ma,t,e,r,o)}return r[s].ma}for(var a="function"==typeof n&&n,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e,r){t=t("./processor"),r.ij=t},{"./processor":2}],2:[function(t,e){function r(t){var e=!0;try{new ImageData(10,10)}catch(t){e=!1}return function(r){var n=r.buffers,o=r.meta,i=r.width,a=r.height,s=n.length,l=n[0].byteLength;if(r.imageOps){for(l=Array(s),r=0;r<s;++r){var u,c=l,p=r;u=new Uint8ClampedArray(n[r]);var f=i,h=a;u=e?new ImageData(u,f,h):{data:u,width:f,height:h},c[p]=u}i=t(l,o).data}else{for(i=new Uint8ClampedArray(l),a=Array(s),c=Array(s),r=0;r<s;++r)a[r]=new Uint8ClampedArray(n[r]),c[r]=[0,0,0,0];for(n=0;n<l;n+=4){for(r=0;r<s;++r)p=a[r],c[r][0]=p[n],c[r][1]=p[n+1],c[r][2]=p[n+2],c[r][3]=p[n+3];r=t(c,o),i[n]=r[0],i[n+1]=r[1],i[n+2]=r[2],i[n+3]=r[3]}}return i.buffer}}function n(t,e){var n=Object.keys(t.lib||{}).map(function(e){return"var "+e+" = "+t.lib[e].toString()+";"}).concat(["var __minion__ = ("+r.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),n=URL.createObjectURL(new Blob(n,{type:"text/javascript"})),n=new Worker(n);return n.addEventListener("message",e),n}function o(t,e){var n=r(t.operation);return{postMessage:function(t){setTimeout(function(){e({data:{buffer:n(t),meta:t.meta}})},0)}}}function i(t){this.Ze=!!t.nl;var e;e=0===t.threads?0:this.Ze?1:t.threads||1;var r=[];if(e)for(var i=0;i<e;++i)r[i]=n(t,this.sg.bind(this,i));else r[0]=o(t,this.sg.bind(this,0));this.Wd=r,this.qd=[],this.wj=t.yo||1/0,this.Ud=0,this.Sc={},this.$e=null}var a=t("./util").Hl;i.prototype.wo=function(t,e,r){this.uj({Fc:t,hh:e,Vc:r}),this.pg()},i.prototype.uj=function(t){for(this.qd.push(t);this.qd.length>this.wj;)this.qd.shift().Vc(null,null)},i.prototype.pg=function(){if(0===this.Ud&&0<this.qd.length){var t=this.$e=this.qd.shift(),e=t.Fc[0].width,r=t.Fc[0].height,n=t.Fc.map(function(t){return t.data.buffer}),o=this.Wd.length;if(this.Ud=o,1===o)this.Wd[0].postMessage({buffers:n,meta:t.hh,imageOps:this.Ze,width:e,height:r},n);else for(var i=4*Math.ceil(t.Fc[0].data.length/4/o),a=0;a<o;++a){for(var s=a*i,l=[],u=0,c=n.length;u<c;++u)l.push(n[a].slice(s,s+i));this.Wd[a].postMessage({buffers:l,meta:t.hh,imageOps:this.Ze,width:e,height:r},l)}}},i.prototype.sg=function(t,e){this.Qp||(this.Sc[t]=e.data,--this.Ud,0===this.Ud&&this.xj())},i.prototype.xj=function(){var t,e,r=this.$e,n=this.Wd.length;if(1===n)t=new Uint8ClampedArray(this.Sc[0].buffer),e=this.Sc[0].meta;else{var o=r.Fc[0].data.length;t=new Uint8ClampedArray(o),e=Array(o);for(var o=4*Math.ceil(o/4/n),i=0;i<n;++i){var s=i*o;t.set(new Uint8ClampedArray(this.Sc[i].buffer),s),e[i]=this.Sc[i].meta}}this.$e=null,this.Sc={},r.Vc(null,a(t,r.Fc[0].width,r.Fc[0].height),e),this.pg()},e.ma=i},{"./util":3}],3:[function(t,e,r){var n=!0;try{new ImageData(10,10)}catch(t){n=!1}var o=document.createElement("canvas").getContext("2d");r.Hl=function(t,e,r){return n?new ImageData(t,e,r):(e=o.createImageData(e,r),e.data.set(t),e)}},{}]},{},[1])(1)}),eg=r.ma}(),r(gy,Ol),gy.prototype.u=function(t,e){this.C=new eg.ij({operation:t,nl:this.xa===oT,yo:1,lib:e,threads:this.Ja}),this.s()},gy.prototype.U=function(t,e,r,n){r=!0;for(var o,i=0,a=this.c.length;i<a;++i)if(o=this.c[i].a.la(),"ready"!==o.W()){r=!1;break}if(!r)return null;if(t=t.slice(),!by(this,t,e))return this.l;r=this.i.canvas,o=Math.round(Xt(t)/e),i=Math.round(Wt(t)/e),o===r.width&&i===r.height||(r.width=o,r.height=i),o=om({},this.Z),o.viewState=om({},o.viewState);var i=Vt(t),a=Math.round(Xt(t)/e),s=Math.round(Wt(t)/e);return o.extent=t,o.focus=Vt(t),o.size[0]=a,o.size[1]=s,a=o.viewState,a.center=i,a.projection=n,a.resolution=e,this.l=n=new wl(t,e,1,this.j,r,this.P.bind(this,o)),this.v={extent:t,resolution:e,bp:this.g},n},gy.prototype.P=function(t,e){for(var r=this.c.length,n=Array(r),o=0;o<r;++o){var i;i=this.c[o];var a=t,s=t.layerStatesArray[o];if(i.o(a,s)){var l=a.size[0],u=a.size[1];if(tT){var c=tT.canvas;c.width!==l||c.height!==u?tT=Yr(l,u):tT.clearRect(0,0,l,u)}else tT=Yr(l,u);i.D(a,s,tT),i=tT.getImageData(0,0,l,u)}else i=null;if(!i){n=null;break}n[o]=i}n&&(r={},this.b(new wy(eT,t,r)),this.C.wo(n,r,this.na.bind(this,t,e))),Jn(t.tileQueue,16,16)},gy.prototype.na=function(t,e,r,n,o){r?e(r):n&&(this.b(new wy(rT,t,o)),by(this,t.extent,t.viewState.resolution/t.pixelRatio)||this.i.putImageData(n,0,0),e(null))};var tT=null;r(wy,O);var eT="beforeoperations",rT="afteroperations",nT="pixel",oT="image";r(Ty,ny);var iT=[new zr({html:'Map tiles by <a href="http://stamen.com/">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.'}),Qw],aT={terrain:{Bb:"jpg",opaque:!0},"terrain-background":{Bb:"jpg",opaque:!0},"terrain-labels":{Bb:"png",opaque:!1},"terrain-lines":{Bb:"png",opaque:!1},"toner-background":{Bb:"png",opaque:!0},toner:{Bb:"png",opaque:!0},"toner-hybrid":{Bb:"png",opaque:!1},"toner-labels":{Bb:"png",opaque:!1},"toner-lines":{Bb:"png",opaque:!1},"toner-lite":{Bb:"png",opaque:!0},watercolor:{Bb:"jpg",opaque:!0}},sT={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};r(My,$d),My.prototype.u=function(){return this.c},My.prototype.jb=function(t){return t},My.prototype.zc=function(t,e,r){var n=this.tileGrid;if(n||(n=this.Db(r)),!(n.b.length<=t[0])){var o=n.Na(t,this.o),i=Mr(n.Za(t[0]),this.l);1!=e&&(i=Tr(i,e,this.l)),n={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},om(n,this.c);var a=this.urls;return a?(r=r.hb.split(":").pop(),n.SIZE=i[0]+","+i[1],n.BBOX=o.join(","),n.BBOXSR=r,n.IMAGESR=r,n.DPI=Math.round(n.DPI?n.DPI*e:90*e),t=(1==a.length?a[0]:a[h((t[1]<<t[0])+t[2],a.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),t=cy(t,n)):t=void 0,t}},My.prototype.A=function(t){om(this.c,t),Xd(this,Sy(this))},r(Ey,Gd),Ey.prototype.Dc=function(t,e,r){var n=this.Lb(t,e,r);if(this.a.b.hasOwnProperty(n))return this.a.get(n);var o=Mr(this.tileGrid.Za(t));return t=[t,e,r],e=(e=Kd(this,t))?Kd(this,e).toString():"",o=new ky(t,o,e),this.a.set(n,o),o},r(ky,Hn),ky.prototype.ub=function(){if(this.g)return this.g;var t=this.i,e=Yr(t[0],t[1]);return e.strokeStyle="black",e.strokeRect(.5,.5,t[0]+.5,t[1]+.5),e.fillStyle="black",e.textAlign="center",e.textBaseline="middle",e.font="24px sans-serif",e.fillText(this.f,t[0]/2,t[1]/2),this.g=e.canvas},r(Cy,$d),Jy=Cy.prototype,Jy.vn=function(t){if(t=t.target,!t.status||200<=t.status&&300>t.status){var e;try{e=JSON.parse(t.responseText)}catch(t){return void this.ue()}this.Gh(e)}else this.ue()},Jy.tn=function(){this.ue()},Jy.Fk=function(){return this.c},Jy.Gh=function(t){var e,r=he("EPSG:4326"),n=this.f;if(void 0!==t.bounds){var o=me(r,n);e=$t(t.bounds,o)}var i=t.minzoom||0,o=t.maxzoom||22;if(this.tileGrid=n=Nr({extent:Fr(n),maxZoom:o,minZoom:i}),this.tileUrlFunction=Bd(t.tiles,n),void 0!==t.attribution&&!this.j){r=void 0!==e?e:r.G(),e={};for(var a;i<=o;++i)a=i.toString(),e[a]=[Lr(n,r,i)];this.ua([new zr({html:t.attribution,tileRanges:e})])}this.c=t,Dl(this,"ready")},Jy.ue=function(){Dl(this,"error")},r(Ay,Gd),Jy=Ay.prototype,Jy.zn=function(t){if(t=t.target,!t.status||200<=t.status&&300>t.status){var e;try{e=JSON.parse(t.responseText)}catch(t){return void this.ve()}this.Kf(e)}else this.ve()},Jy.yn=function(){this.ve()},Jy.Ck=function(){return this.i},Jy.Pj=function(t,e,r,n,o){this.tileGrid?(e=this.tileGrid.fe(t,e),Ly(this.Dc(e[0],e[1],e[2],1,this.f),t,r,n,o)):!0===o?setTimeout(function(){r.call(n,null)},0):r.call(n,null)},Jy.ve=function(){Dl(this,"error")},Jy.Kf=function(t){var e,r=he("EPSG:4326"),n=this.f;if(void 0!==t.bounds){var o=me(r,n);e=$t(t.bounds,o)}var i=t.minzoom||0,o=t.maxzoom||22;this.tileGrid=n=Nr({extent:Fr(n),maxZoom:o,minZoom:i}),this.i=t.template;var a=t.grids;if(a){if(this.o=Bd(a,n),void 0!==t.attribution){for(r=void 0!==e?e:r.G(),e={};i<=o;++i)a=i.toString(),e[a]=[Lr(n,r,i)];this.ua([new zr({html:t.attribution,tileRanges:e})])}Dl(this,"ready")}else Dl(this,"error")},Jy.Dc=function(t,e,r,n,o){var i=this.Lb(t,e,r);return this.a.b.hasOwnProperty(i)?this.a.get(i):(t=[t,e,r],e=Kd(this,t,o),n=this.o(e,n,o),n=new Py(t,void 0!==n?0:4,void 0!==n?n:"",this.tileGrid.Na(t),this.v,this.c),this.a.set(i,n),n)},Jy.ig=function(t,e,r){t=this.Lb(t,e,r),this.a.b.hasOwnProperty(t)&&this.a.get(t)},r(Py,Hn),Jy=Py.prototype,Jy.ub=function(){return null},Jy.getData=function(t){if(!this.i||!this.l)return null;var e=this.i[Math.floor((1-(t[1]-this.g[1])/(this.g[3]-this.g[1]))*this.i.length)];return"string"!=typeof e?null:(e=e.charCodeAt(Math.floor((t[0]-this.g[0])/(this.g[2]-this.g[0])*e.length)),93<=e&&e--,35<=e&&e--,e-=32,t=null,e in this.l&&(e=this.l[e],t=this.f&&e in this.f?this.f[e]:e),t)},Jy.bb=function(){return this.o},Jy.ge=function(){this.state=3,this.s()},Jy.Hh=function(t){this.i=t.grid,this.l=t.keys,this.f=t.data,this.state=4,this.s()},Jy.xn=function(t){if(t=t.target,!t.status||200<=t.status&&300>t.status){var e;try{e=JSON.parse(t.responseText)}catch(t){return void this.ge()}this.Hh(e)}else this.ge()},Jy.wn=function(){this.ge()},Jy.load=function(){this.H&&Dy(this)},r(Oy,$d),Jy=Oy.prototype,Jy.An=function(t,e,r,n){r=he(r);var o=this.tileGrid;if(o||(o=this.Db(r)),e=o.fe(t,e),!(o.b.length<=e[0])){var i=o.Ha(e[0]),a=o.Na(e,this.Z),o=Mr(o.Za(e[0]),this.l),s=this.u;return 0!==s&&(o=wr(o,s,this.l),a=Tt(a,i*s,a)),s={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.c.LAYERS},om(s,this.c,n),n=Math.floor((a[3]-t[1])/i),s[this.o?"I":"X"]=Math.floor((t[0]-a[0])/i),s[this.o?"J":"Y"]=n,Iy(this,e,o,a,1,r,s)}},Jy.rf=function(){return this.u},Jy.Lb=function(t,e,r){return this.P+$d.prototype.Lb.call(this,t,e,r)},Jy.Bn=function(){return this.c},Jy.jb=function(t){return this.U&&void 0!==this.A?t:1},Jy.zc=function(t,e,r){var n=this.tileGrid;if(n||(n=this.Db(r)),!(n.b.length<=t[0])){1==e||this.U&&void 0!==this.A||(e=1);var o=n.Ha(t[0]),i=n.Na(t,this.Z),n=Mr(n.Za(t[0]),this.l),a=this.u;return 0!==a&&(n=wr(n,a,this.l),i=Tt(i,o*a,i)),1!=e&&(n=Tr(n,e,this.l)),o={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},om(o,this.c),Iy(this,t,n,i,e,r,o)}},Jy.Ya=function(t){$d.prototype.Ya.call(this,t),Ry(this)},Jy.Cn=function(t){om(this.c,t),Ry(this),jy(this),Xd(this,Ny(this))},r(Fy,Hn),Jy=Fy.prototype,Jy.ub=function(){return-1==this.g.cg?null:this.f.canvas},Jy.Yl=function(){return this.l},Jy.bb=function(){return this.o},Jy.load=function(){0==this.state&&(this.state=1,this.s(),this.H(this,this.o),this.v(null,NaN,null))},Jy.ho=function(t,e){this.Ff(e),this.ri(t)},Jy.fo=function(){this.state=3,this.s()},Jy.ri=function(t){this.i=t,this.state=Xm,this.s()},Jy.Ff=function(t){this.j=t},Jy.wi=function(t){this.v=t},r(By,Jd),By.prototype.Dc=function(t,e,r,n,o){var i=this.Lb(t,e,r);return this.a.b.hasOwnProperty(i)?this.a.get(i):(t=[t,e,r],n=(e=Kd(this,t,o))?this.tileUrlFunction(e,n,o):void 0,n=new this.tileClass(t,void 0!==n?0:4,void 0!==n?n:"",this.c,this.tileLoadFunction),E(n,"change",this.Jh,this),this.a.set(i,n),n)},By.prototype.jb=function(t){return void 0==t?Jd.prototype.jb.call(this,t):t},By.prototype.Dd=function(t,e){var r=Mr(this.tileGrid.Za(t));return[Math.round(r[0]*e),Math.round(r[1]*e)]},r(Uy,kr),Uy.prototype.o=function(){return this.l},r(Hy,$d),Jy=Hy.prototype,Jy.bk=function(){return this.c},Jy.Dn=function(){return this.u},Jy.En=function(){return this.A},Jy.pk=function(){return this.o},Jy.Ak=function(){return this.U},Jy.Fn=function(){return this.P},Jy.Hk=function(){return this.Z},Jy.xp=function(t){om(this.c,t),Xd(this,Wy(this))};var lT="KVP";r(qy,$d),r(Gy,vh),Gy.prototype.ub=function(){if(this.f)return this.f;var t=vh.prototype.ub.call(this);if(this.state==Xm){if(256==t.width&&256==t.height)return this.f=t;var e=Yr(256,256);return e.drawImage(t,0,0),this.f=e.canvas}return t};var uT="default",cT="truncated";Yy.prototype.get=function(t){return this.f[t]||null},Yy.prototype.add=function(t,e,r,n,o){var i,a,s;for(a=0,s=this.a.length;a<s;++a)if(i=this.a[a],i.width>=e+this.b&&i.height>=r+this.b)return s={offsetX:i.x+this.b,offsetY:i.y+this.b,image:this.c},this.f[t]=s,n.call(o,this.g,i.x+this.b,i.y+this.b),t=a,e+=this.b,n=r+this.b,i.width-e>i.height-n?(r={x:i.x+e,y:i.y,width:i.width-e,height:i.height},e={x:i.x,y:i.y+n,width:e,height:i.height-n},Xy(this,t,r,e)):(r={x:i.x+e,y:i.y,width:i.width-e,height:n},e={x:i.x,y:i.y+n,width:i.width,height:i.height-n},Xy(this,t,r,e)),s;return null},Ky.prototype.add=function(t,e,r,n,i,a){return e+this.b>this.g||r+this.b>this.g?null:(n=Zy(this,!1,t,e,r,n,a))?(t=Zy(this,!0,t,e,r,void 0!==i?i:o,a),{offsetX:n.offsetX,offsetY:n.offsetY,image:n.image,yf:t.image}):null},t("ol.animation.bounce",function(t){var e=t.resolution,r=t.start?t.start:Date.now(),n=void 0!==t.duration?t.duration:1e3,o=t.easing?t.easing:_t;return function(t,i){if(i.time<r)return i.animate=!0,i.viewHints[ym]+=1,!0;if(i.time<r+n){var a=o((i.time-r)/n),s=e-i.viewState.resolution;return i.animate=!0,i.viewState.resolution+=a*s,i.viewHints[ym]+=1,!0}return!1}}),t("ol.animation.pan",function(t){var e=t.source,r=t.start?t.start:Date.now(),n=e[0],o=e[1],i=void 0!==t.duration?t.duration:1e3,a=t.easing?t.easing:bt;return function(t,e){if(e.time<r)return e.animate=!0,e.viewHints[ym]+=1,!0;if(e.time<r+i){var s=1-a((e.time-r)/i),l=n-e.viewState.center[0],u=o-e.viewState.center[1];return e.animate=!0,e.viewState.center[0]+=s*l,e.viewState.center[1]+=s*u,e.viewHints[ym]+=1,!0}return!1}}),t("ol.animation.rotate",function(t){var e=t.rotation?t.rotation:0,r=t.start?t.start:Date.now(),n=void 0!==t.duration?t.duration:1e3,o=t.easing?t.easing:bt,i=t.anchor?t.anchor:null;return function(t,a){if(a.time<r)return a.animate=!0,a.viewHints[ym]+=1,!0;if(a.time<r+n){var s=1-o((a.time-r)/n),s=(e-a.viewState.rotation)*s;if(a.animate=!0,a.viewState.rotation+=s,i){var l=a.viewState.center;l[0]-=i[0],l[1]-=i[1],ft(l,s),st(l,i)}return a.viewHints[ym]+=1,!0}return!1}}),t("ol.animation.zoom",function(t){var e=t.resolution,r=t.start?t.start:Date.now(),n=void 0!==t.duration?t.duration:1e3,o=t.easing?t.easing:bt;return function(t,i){if(i.time<r)return i.animate=!0,i.viewHints[ym]+=1,!0;if(i.time<r+n){var a=1-o((i.time-r)/n),s=e-i.viewState.resolution;return i.animate=!0,i.viewState.resolution+=a*s,i.viewHints[ym]+=1,!0}return!1}}),a.prototype.code=a.prototype.code,t("ol.Attribution",zr),zr.prototype.getHTML=zr.prototype.g,t("ol.Collection",Br),Br.prototype.clear=Br.prototype.clear,Br.prototype.extend=Br.prototype.Bf,Br.prototype.forEach=Br.prototype.forEach,Br.prototype.getArray=Br.prototype.Il,Br.prototype.item=Br.prototype.item,Br.prototype.getLength=Br.prototype.Ub,Br.prototype.insertAt=Br.prototype.ke,Br.prototype.pop=Br.prototype.pop,Br.prototype.push=Br.prototype.push,Br.prototype.remove=Br.prototype.remove,Br.prototype.removeAt=Br.prototype.Zf,Br.prototype.setAt=Br.prototype.ep,Vr.prototype.element=Vr.prototype.element,t("ol.color.asArray",Hr),t("ol.color.asString",Wr),t("ol.colorlike.asColorLike",Gr),t("ol.coordinate.add",st),t("ol.coordinate.createStringXY",function(t){return function(e){return mt(e,t)}}),t("ol.coordinate.format",ct),t("ol.coordinate.rotate",ft),t("ol.coordinate.toStringHDMS",function(t,e){return t?ut(t[1],"NS",e)+" "+ut(t[0],"EW",e):""}),t("ol.coordinate.toStringXY",mt),t("ol.DeviceOrientation",gu),gu.prototype.getAlpha=gu.prototype.Vj,gu.prototype.getBeta=gu.prototype.Yj,gu.prototype.getGamma=gu.prototype.ek,gu.prototype.getHeading=gu.prototype.Jl,gu.prototype.getTracking=gu.prototype.kh,gu.prototype.setTracking=gu.prototype.Cf,t("ol.easing.easeIn",vt),t("ol.easing.easeOut",gt),t("ol.easing.inAndOut",bt),t("ol.easing.linear",xt),t("ol.easing.upAndDown",_t),t("ol.Feature",bu),bu.prototype.clone=bu.prototype.clone,bu.prototype.getGeometry=bu.prototype.V,bu.prototype.getId=bu.prototype.Ll,bu.prototype.getGeometryName=bu.prototype.gk,bu.prototype.getStyle=bu.prototype.Ml,bu.prototype.getStyleFunction=bu.prototype.Gc,bu.prototype.setGeometry=bu.prototype.Pa,bu.prototype.setStyle=bu.prototype.Df,bu.prototype.setId=bu.prototype.cc,bu.prototype.setGeometryName=bu.prototype.Nc,t("ol.featureloader.xhr",Vu),t("ol.Geolocation",lh),lh.prototype.getAccuracy=lh.prototype.Tj,lh.prototype.getAccuracyGeometry=lh.prototype.Uj,lh.prototype.getAltitude=lh.prototype.Wj,lh.prototype.getAltitudeAccuracy=lh.prototype.Xj,lh.prototype.getHeading=lh.prototype.Ol,lh.prototype.getPosition=lh.prototype.Pl,lh.prototype.getProjection=lh.prototype.lh,lh.prototype.getSpeed=lh.prototype.Bk,lh.prototype.getTracking=lh.prototype.mh,lh.prototype.getTrackingOptions=lh.prototype.Wg,lh.prototype.setProjection=lh.prototype.nh,lh.prototype.setTracking=lh.prototype.ne,lh.prototype.setTrackingOptions=lh.prototype.Ci,t("ol.Graticule",dh),dh.prototype.getMap=dh.prototype.Sl,dh.prototype.getMeridians=dh.prototype.qk,dh.prototype.getParallels=dh.prototype.xk,dh.prototype.setMap=dh.prototype.setMap,t("ol.has.DEVICE_PIXEL_RATIO",Rm),t("ol.has.CANVAS",jm),t("ol.has.DEVICE_ORIENTATION",Fm),t("ol.has.GEOLOCATION",zm),t("ol.has.TOUCH",Bm),t("ol.has.WEBGL",km),Ai.prototype.getImage=Ai.prototype.a,Ai.prototype.load=Ai.prototype.load,vh.prototype.getImage=vh.prototype.ub,vh.prototype.load=vh.prototype.load,t("ol.inherits",r),t("ol.Kinetic",$n),t("ol.loadingstrategy.all",kh),t("ol.loadingstrategy.bbox",function(t){return[t]}),t("ol.loadingstrategy.tile",function(t){return function(e,r){var n=t.Ec(r),o=Lr(t,e,n),i=[],n=[n,0,0];for(n[1]=o.ea;n[1]<=o.ca;++n[1])for(n[2]=o.ga;n[2]<=o.ja;++n[2])i.push(t.Na(n));return i}}),t("ol.Map",Ql),Ql.prototype.addControl=Ql.prototype.Bj,Ql.prototype.addInteraction=Ql.prototype.Cj,Ql.prototype.addLayer=Ql.prototype.ug,Ql.prototype.addOverlay=Ql.prototype.vg,Ql.prototype.beforeRender=Ql.prototype.Ij,Ql.prototype.forEachFeatureAtPixel=Ql.prototype.ae,Ql.prototype.forEachLayerAtPixel=Ql.prototype.Wl,Ql.prototype.hasFeatureAtPixel=Ql.prototype.ml,Ql.prototype.getEventCoordinate=Ql.prototype.ck,Ql.prototype.getEventPixel=Ql.prototype.ce,Ql.prototype.getTarget=Ql.prototype.vf,Ql.prototype.getTargetElement=Ql.prototype.Cc,Ql.prototype.getCoordinateFromPixel=Ql.prototype.Sa,Ql.prototype.getControls=Ql.prototype.ak,Ql.prototype.getOverlays=Ql.prototype.vk,Ql.prototype.getOverlayById=Ql.prototype.uk,Ql.prototype.getInteractions=Ql.prototype.hk,Ql.prototype.getLayerGroup=Ql.prototype.Bc,Ql.prototype.getLayers=Ql.prototype.oh,Ql.prototype.getPixelFromCoordinate=Ql.prototype.Ga,Ql.prototype.getSize=Ql.prototype.nb,Ql.prototype.getView=Ql.prototype.aa,Ql.prototype.getViewport=Ql.prototype.Ik,Ql.prototype.renderSync=Ql.prototype.$o,Ql.prototype.render=Ql.prototype.render,Ql.prototype.removeControl=Ql.prototype.To,Ql.prototype.removeInteraction=Ql.prototype.Uo,Ql.prototype.removeLayer=Ql.prototype.Wo,Ql.prototype.removeOverlay=Ql.prototype.Xo,Ql.prototype.setLayerGroup=Ql.prototype.vi,Ql.prototype.setSize=Ql.prototype.eg,Ql.prototype.setTarget=Ql.prototype.ph,Ql.prototype.setView=Ql.prototype.mp,Ql.prototype.updateSize=Ql.prototype.ld,hn.prototype.originalEvent=hn.prototype.originalEvent,hn.prototype.pixel=hn.prototype.pixel,hn.prototype.coordinate=hn.prototype.coordinate,hn.prototype.dragging=hn.prototype.dragging,Zr.prototype.map=Zr.prototype.map,Zr.prototype.frameState=Zr.prototype.frameState,t("ol.Object",z),z.prototype.get=z.prototype.get,z.prototype.getKeys=z.prototype.S,z.prototype.getProperties=z.prototype.R,z.prototype.set=z.prototype.set,z.prototype.setProperties=z.prototype.I,z.prototype.unset=z.prototype.T,V.prototype.key=V.prototype.key,V.prototype.oldValue=V.prototype.oldValue,t("ol.Observable",j),t("ol.Observable.unByKey",F),j.prototype.changed=j.prototype.s,j.prototype.dispatchEvent=j.prototype.b,j.prototype.getRevision=j.prototype.M,j.prototype.on=j.prototype.J,j.prototype.once=j.prototype.N,j.prototype.un=j.prototype.K,j.prototype.unByKey=j.prototype.O,t("ol.Overlay",eu),eu.prototype.getElement=eu.prototype.be,eu.prototype.getId=eu.prototype.Xl,eu.prototype.getMap=eu.prototype.oe,eu.prototype.getOffset=eu.prototype.Tg,eu.prototype.getPosition=eu.prototype.qh,eu.prototype.getPositioning=eu.prototype.Ug,eu.prototype.setElement=eu.prototype.pi,eu.prototype.setMap=eu.prototype.setMap,eu.prototype.setOffset=eu.prototype.xi,eu.prototype.setPosition=eu.prototype.Ef,
eu.prototype.setPositioning=eu.prototype.Ai,t("ol.render.toContext",function(t,e){var r=t.canvas,n=e?e:{},o=n.pixelRatio||Rm;return(n=n.size)&&(r.width=n[0]*o,r.height=n[1]*o,r.style.width=n[0]+"px",r.style.height=n[1]+"px"),r=[0,0,r.width,r.height],n=mi(ui(),o,o),new qi(t,o,r,n,0)}),t("ol.size.toSize",Mr),Hn.prototype.getTileCoord=Hn.prototype.c,Hn.prototype.load=Hn.prototype.load,Fy.prototype.getFormat=Fy.prototype.Yl,Fy.prototype.setFeatures=Fy.prototype.ri,Fy.prototype.setProjection=Fy.prototype.Ff,Fy.prototype.setLoader=Fy.prototype.wi,t("ol.View",lr),lr.prototype.animate=lr.prototype.animate,lr.prototype.constrainCenter=lr.prototype.Zd,lr.prototype.constrainResolution=lr.prototype.constrainResolution,lr.prototype.constrainRotation=lr.prototype.constrainRotation,lr.prototype.getCenter=lr.prototype.fb,lr.prototype.calculateExtent=lr.prototype.Uc,lr.prototype.getMaxResolution=lr.prototype.Zl,lr.prototype.getMinResolution=lr.prototype.$l,lr.prototype.getProjection=lr.prototype.am,lr.prototype.getResolution=lr.prototype.Oa,lr.prototype.getResolutions=lr.prototype.bm,lr.prototype.getRotation=lr.prototype.Ra,lr.prototype.getZoom=lr.prototype.Kk,lr.prototype.fit=lr.prototype.lf,lr.prototype.centerOn=lr.prototype.Kj,lr.prototype.rotate=lr.prototype.rotate,lr.prototype.setCenter=lr.prototype.Mb,lr.prototype.setResolution=lr.prototype.Oc,lr.prototype.setRotation=lr.prototype.pe,lr.prototype.setZoom=lr.prototype.pp,t("ol.xml.getAllTextContent",wu),t("ol.xml.parse",Eu),ss.prototype.getGL=ss.prototype.bo,ss.prototype.useProgram=ss.prototype.Lc,t("ol.tilegrid.createXYZ",Nr),t("ol.tilegrid.TileGrid",kr),kr.prototype.forEachTileCoord=kr.prototype.Hg,kr.prototype.getMaxZoom=kr.prototype.Rg,kr.prototype.getMinZoom=kr.prototype.Sg;kr.prototype.getOrigin=kr.prototype.Kc;kr.prototype.getResolution=kr.prototype.Ha,kr.prototype.getResolutions=kr.prototype.Wh,kr.prototype.getTileCoordExtent=kr.prototype.Na,kr.prototype.getTileCoordForCoordAndResolution=kr.prototype.fe,kr.prototype.getTileCoordForCoordAndZ=kr.prototype.wf,kr.prototype.getTileSize=kr.prototype.Za,kr.prototype.getZForResolution=kr.prototype.Ec,t("ol.tilegrid.WMTS",Uy),Uy.prototype.getMatrixIds=Uy.prototype.o,t("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",Vy),t("ol.style.AtlasManager",Ky),t("ol.style.Circle",Ii),Ii.prototype.clone=Ii.prototype.clone,Ii.prototype.setRadius=Ii.prototype.Qa,t("ol.style.Fill",Ri),Ri.prototype.clone=Ri.prototype.clone,Ri.prototype.getColor=Ri.prototype.g,Ri.prototype.setColor=Ri.prototype.f,t("ol.style.Icon",Ep),Ep.prototype.clone=Ep.prototype.clone,Ep.prototype.getAnchor=Ep.prototype.Ac,Ep.prototype.getColor=Ep.prototype.Gn,Ep.prototype.getImage=Ep.prototype.Ic,Ep.prototype.getOrigin=Ep.prototype.Jc,Ep.prototype.getSrc=Ep.prototype.Hn,Ep.prototype.getSize=Ep.prototype.ac,Ep.prototype.load=Ep.prototype.load,t("ol.style.Image",Li),Li.prototype.getOpacity=Li.prototype.ye,Li.prototype.getRotateWithView=Li.prototype.ze,Li.prototype.getRotation=Li.prototype.Ae,Li.prototype.getScale=Li.prototype.Be,Li.prototype.getSnapToPixel=Li.prototype.ee,Li.prototype.setOpacity=Li.prototype.dd,Li.prototype.setRotation=Li.prototype.Ce,Li.prototype.setScale=Li.prototype.ed,t("ol.style.RegularShape",Di),Di.prototype.clone=Di.prototype.clone,Di.prototype.getAnchor=Di.prototype.Ac,Di.prototype.getAngle=Di.prototype.Nh,Di.prototype.getFill=Di.prototype.Oh,Di.prototype.getImage=Di.prototype.Ic,Di.prototype.getOrigin=Di.prototype.Jc,Di.prototype.getPoints=Di.prototype.Ph,Di.prototype.getRadius=Di.prototype.Qh,Di.prototype.getRadius2=Di.prototype.Vg,Di.prototype.getSize=Di.prototype.ac,Di.prototype.getStroke=Di.prototype.Rh,t("ol.style.Stroke",Ni),Ni.prototype.clone=Ni.prototype.clone,Ni.prototype.getColor=Ni.prototype.In,Ni.prototype.getLineCap=Ni.prototype.kk,Ni.prototype.getLineDash=Ni.prototype.Jn,Ni.prototype.getLineJoin=Ni.prototype.lk,Ni.prototype.getMiterLimit=Ni.prototype.rk,Ni.prototype.getWidth=Ni.prototype.Kn,Ni.prototype.setColor=Ni.prototype.Ln,Ni.prototype.setLineCap=Ni.prototype.ip,Ni.prototype.setLineDash=Ni.prototype.setLineDash,Ni.prototype.setLineJoin=Ni.prototype.jp,Ni.prototype.setMiterLimit=Ni.prototype.kp,Ni.prototype.setWidth=Ni.prototype.np,t("ol.style.Style",ji),ji.prototype.clone=ji.prototype.clone,ji.prototype.getGeometry=ji.prototype.V,ji.prototype.getGeometryFunction=ji.prototype.fk,ji.prototype.getFill=ji.prototype.Mn,ji.prototype.setFill=ji.prototype.Qn,ji.prototype.getImage=ji.prototype.Nn,ji.prototype.setImage=ji.prototype.Rn,ji.prototype.getStroke=ji.prototype.On,ji.prototype.setStroke=ji.prototype.Sn,ji.prototype.getText=ji.prototype.Ka,ji.prototype.setText=ji.prototype.Tn,ji.prototype.getZIndex=ji.prototype.Pn,ji.prototype.setGeometry=ji.prototype.Pa,ji.prototype.setZIndex=ji.prototype.Un,t("ol.style.Text",kp),kp.prototype.clone=kp.prototype.clone,kp.prototype.getFont=kp.prototype.dk,kp.prototype.getOffsetX=kp.prototype.sk,kp.prototype.getOffsetY=kp.prototype.tk,kp.prototype.getFill=kp.prototype.Vn,kp.prototype.getRotateWithView=kp.prototype.Wn,kp.prototype.getRotation=kp.prototype.Xn,kp.prototype.getScale=kp.prototype.Yn,kp.prototype.getStroke=kp.prototype.Zn,kp.prototype.getText=kp.prototype.Ka,kp.prototype.getTextAlign=kp.prototype.Dk,kp.prototype.getTextBaseline=kp.prototype.Ek,kp.prototype.setFont=kp.prototype.si,kp.prototype.setOffsetX=kp.prototype.yi,kp.prototype.setOffsetY=kp.prototype.zi,kp.prototype.setFill=kp.prototype.Sh,kp.prototype.setRotation=kp.prototype.$n,kp.prototype.setScale=kp.prototype.Th,kp.prototype.setStroke=kp.prototype.Uh,kp.prototype.setText=kp.prototype.Vh,kp.prototype.setTextAlign=kp.prototype.Bi,kp.prototype.setTextBaseline=kp.prototype.lp,t("ol.Sphere",ee),ee.prototype.geodesicArea=ee.prototype.a,ee.prototype.haversineDistance=ee.prototype.b,t("ol.source.BingMaps",ry),t("ol.source.BingMaps.TOS_ATTRIBUTION",Jw),ry.prototype.getApiKey=ry.prototype.U,ry.prototype.getImagerySet=ry.prototype.Z,t("ol.source.CartoDB",oy),oy.prototype.getConfig=oy.prototype.$j,oy.prototype.updateConfig=oy.prototype.wp,oy.prototype.setConfig=oy.prototype.fp,t("ol.source.Cluster",sy),sy.prototype.getSource=sy.prototype.Ua,sy.prototype.setDistance=sy.prototype.Ob,t("ol.source.Image",Ol),Nl.prototype.image=Nl.prototype.image,t("ol.source.ImageArcGISRest",py),py.prototype.getParams=py.prototype.Xm,py.prototype.getImageLoadFunction=py.prototype.Wm,py.prototype.getUrl=py.prototype.Ym,py.prototype.setImageLoadFunction=py.prototype.Zm,py.prototype.setUrl=py.prototype.$m,py.prototype.updateParams=py.prototype.an,t("ol.source.ImageCanvas",jl),t("ol.source.ImageMapGuide",fy),fy.prototype.getParams=fy.prototype.cn,fy.prototype.getImageLoadFunction=fy.prototype.bn,fy.prototype.updateParams=fy.prototype.en,fy.prototype.setImageLoadFunction=fy.prototype.dn,t("ol.source.ImageStatic",hy),t("ol.source.ImageVector",Fl),Fl.prototype.getSource=Fl.prototype.fn,Fl.prototype.getStyle=Fl.prototype.gn,Fl.prototype.getStyleFunction=Fl.prototype.hn,Fl.prototype.setStyle=Fl.prototype.Fh,t("ol.source.ImageWMS",dy),dy.prototype.getGetFeatureInfoUrl=dy.prototype.ln,dy.prototype.getParams=dy.prototype.nn,dy.prototype.getImageLoadFunction=dy.prototype.mn,dy.prototype.getUrl=dy.prototype.pn,dy.prototype.setImageLoadFunction=dy.prototype.qn,dy.prototype.setUrl=dy.prototype.rn,dy.prototype.updateParams=dy.prototype.sn,t("ol.source.OSM",vy),t("ol.source.OSM.ATTRIBUTION",Qw),t("ol.source.Raster",gy),gy.prototype.setOperation=gy.prototype.u,wy.prototype.extent=wy.prototype.extent,wy.prototype.resolution=wy.prototype.resolution,wy.prototype.data=wy.prototype.data,t("ol.source.Source",Pl),Pl.prototype.getAttributions=Pl.prototype.za,Pl.prototype.getLogo=Pl.prototype.ya,Pl.prototype.getProjection=Pl.prototype.Aa,Pl.prototype.getState=Pl.prototype.W,Pl.prototype.refresh=Pl.prototype.wa,Pl.prototype.setAttributions=Pl.prototype.ua,t("ol.source.Stamen",Ty),t("ol.source.Tile",Gd),Gd.prototype.getTileGrid=Gd.prototype.Va,Zd.prototype.tile=Zd.prototype.tile,t("ol.source.TileArcGISRest",My),My.prototype.getParams=My.prototype.u,My.prototype.updateParams=My.prototype.A,t("ol.source.TileDebug",Ey),t("ol.source.TileImage",$d),$d.prototype.setRenderReprojectionEdges=$d.prototype.Hb,$d.prototype.setTileGridForProjection=$d.prototype.Ib,t("ol.source.TileJSON",Cy),Cy.prototype.getTileJSON=Cy.prototype.Fk,t("ol.source.TileUTFGrid",Ay),Ay.prototype.getTemplate=Ay.prototype.Ck,Ay.prototype.forDataAtCoordinateAndResolution=Ay.prototype.Pj,t("ol.source.TileWMS",Oy),Oy.prototype.getGetFeatureInfoUrl=Oy.prototype.An,Oy.prototype.getParams=Oy.prototype.Bn,Oy.prototype.updateParams=Oy.prototype.Cn,Jd.prototype.getTileLoadFunction=Jd.prototype.ib,Jd.prototype.getTileUrlFunction=Jd.prototype.kb,Jd.prototype.getUrls=Jd.prototype.lb,Jd.prototype.setTileLoadFunction=Jd.prototype.sb,Jd.prototype.setTileUrlFunction=Jd.prototype.Xa,Jd.prototype.setUrl=Jd.prototype.cb,Jd.prototype.setUrls=Jd.prototype.Ya,t("ol.source.Vector",Ch),Ch.prototype.addFeature=Ch.prototype.gb,Ch.prototype.addFeatures=Ch.prototype.Tc,Ch.prototype.clear=Ch.prototype.clear,Ch.prototype.forEachFeature=Ch.prototype.Fg,Ch.prototype.forEachFeatureInExtent=Ch.prototype.Qb,Ch.prototype.forEachFeatureIntersectingExtent=Ch.prototype.Gg,Ch.prototype.getFeaturesCollection=Ch.prototype.Og,Ch.prototype.getFeatures=Ch.prototype.we,Ch.prototype.getFeaturesAtCoordinate=Ch.prototype.Ng,Ch.prototype.getFeaturesInExtent=Ch.prototype.nf,Ch.prototype.getClosestFeatureToCoordinate=Ch.prototype.Jg,Ch.prototype.getExtent=Ch.prototype.G,Ch.prototype.getFeatureById=Ch.prototype.Mg,Ch.prototype.getFormat=Ch.prototype.Kh,Ch.prototype.getUrl=Ch.prototype.Lh;Ch.prototype.removeFeature=Ch.prototype.rb;Rh.prototype.feature=Rh.prototype.feature,t("ol.source.VectorTile",By),t("ol.source.WMTS",Hy),Hy.prototype.getDimensions=Hy.prototype.bk,Hy.prototype.getFormat=Hy.prototype.Dn,Hy.prototype.getLayer=Hy.prototype.En,Hy.prototype.getMatrixSet=Hy.prototype.pk,Hy.prototype.getRequestEncoding=Hy.prototype.Ak,Hy.prototype.getStyle=Hy.prototype.Fn,Hy.prototype.getVersion=Hy.prototype.Hk,Hy.prototype.updateDimensions=Hy.prototype.xp,t("ol.source.WMTS.optionsFromCapabilities",function(t,e){var r,n,o,i=X(t.Contents.Layer,function(t){return t.Identifier==e.layer}),a=t.Contents.TileMatrixSet;r=1<i.TileMatrixSetLink.length?"projection"in e?J(i.TileMatrixSetLink,function(t){var r=X(a,function(e){return e.Identifier==t.TileMatrixSet}).SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"),n=he(r),o=he(e.projection);return n&&o?de(n,o):r==e.projection}):J(i.TileMatrixSetLink,function(t){return t.TileMatrixSet==e.matrixSet}):0,0>r&&(r=0),n=i.TileMatrixSetLink[r].TileMatrixSet,o=i.TileMatrixSetLink[r].TileMatrixSetLimits;var s=i.Format[0];"format"in e&&(s=e.format),r=J(i.Style,function(t){return"style"in e?t.Title==e.style:t.isDefault}),0>r&&(r=0),r=i.Style[r].Identifier;var l={};"Dimension"in i&&i.Dimension.forEach(function(t){var e=t.Identifier,r=t.Default;void 0===r&&(r=t.Value[0]),l[e]=r});var u,c=X(t.Contents.TileMatrixSet,function(t){return t.Identifier==n});u=he("projection"in e?e.projection:c.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var p,f,h=i.WGS84BoundingBox;void 0!==h&&(f=he("EPSG:4326").G(),f=h[0]==f[0]&&h[2]==f[2],p=xe(h,"EPSG:4326",u),(h=u.G())&&(kt(h,p)||(p=void 0))),o=Vy(c,p,o);var d=[],c=e.requestEncoding,c=void 0!==c?c:"";if("OperationsMetadata"in t&&"GetTile"in t.OperationsMetadata){p=t.OperationsMetadata.GetTile.DCP.HTTP.Get;for(var h=0,y=p.length;h<y;++h){var m=X(p[h].Constraint,function(t){return"GetEncoding"==t.name}).AllowedValues.Value;if(""===c&&(c=m[0]),c!==lT)break;W(m,lT)&&d.push(p[h].href)}}return 0===d.length&&(c="REST",i.ResourceURL.forEach(function(t){"tile"===t.resourceType&&(s=t.format,d.push(t.template))})),{urls:d,layer:e.layer,matrixSet:n,format:s,projection:u,requestEncoding:c,tileGrid:o,style:r,dimensions:l,wrapX:f}}),t("ol.source.XYZ",ny),t("ol.source.Zoomify",qy),ii.prototype.vectorContext=ii.prototype.vectorContext,ii.prototype.frameState=ii.prototype.frameState,ii.prototype.context=ii.prototype.context,ii.prototype.glContext=ii.prototype.glContext,uf.prototype.get=uf.prototype.get,uf.prototype.getExtent=uf.prototype.G,uf.prototype.getGeometry=uf.prototype.V,uf.prototype.getProperties=uf.prototype.Tm,uf.prototype.getType=uf.prototype.Y,t("ol.render.VectorContext",Wi),yl.prototype.setStyle=yl.prototype.Gd,yl.prototype.drawGeometry=yl.prototype.tc,yl.prototype.drawFeature=yl.prototype.jf,qi.prototype.drawCircle=qi.prototype.hc,qi.prototype.setStyle=qi.prototype.Gd,qi.prototype.drawGeometry=qi.prototype.tc,qi.prototype.drawFeature=qi.prototype.jf,t("ol.proj.common.add",oi),t("ol.proj.METERS_PER_UNIT",lm),t("ol.proj.setProj4",function(t){um=t}),t("ol.proj.getPointResolution",ie),t("ol.proj.addEquivalentProjections",ae),t("ol.proj.addProjection",le),t("ol.proj.addCoordinateTransforms",pe),t("ol.proj.fromLonLat",function(t,e){return be(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}),t("ol.proj.toLonLat",function(t,e){return be(t,void 0!==e?e:"EPSG:3857","EPSG:4326")}),t("ol.proj.get",he),t("ol.proj.equivalent",de),t("ol.proj.getTransform",ye),t("ol.proj.transform",be),t("ol.proj.transformExtent",xe),t("ol.proj.Projection",re),re.prototype.getCode=re.prototype.Zj,re.prototype.getExtent=re.prototype.G,re.prototype.getUnits=re.prototype.Eb,re.prototype.getMetersPerUnit=re.prototype.ic,re.prototype.getWorldExtent=re.prototype.Jk,re.prototype.isGlobal=re.prototype.rl,re.prototype.setGlobal=re.prototype.hp,re.prototype.setExtent=re.prototype.Sm,re.prototype.setWorldExtent=re.prototype.op,re.prototype.setGetPointResolution=re.prototype.gp,t("ol.proj.Units.METERS_PER_UNIT",lm),t("ol.layer.Base",Jo),Jo.prototype.getExtent=Jo.prototype.G,Jo.prototype.getMaxResolution=Jo.prototype.Wb,Jo.prototype.getMinResolution=Jo.prototype.Xb,Jo.prototype.getOpacity=Jo.prototype.Yb,Jo.prototype.getVisible=Jo.prototype.Fb,Jo.prototype.getZIndex=Jo.prototype.Zb,Jo.prototype.setExtent=Jo.prototype.kc,Jo.prototype.setMaxResolution=Jo.prototype.pc,Jo.prototype.setMinResolution=Jo.prototype.qc,Jo.prototype.setOpacity=Jo.prototype.lc,Jo.prototype.setVisible=Jo.prototype.mc,Jo.prototype.setZIndex=Jo.prototype.nc,t("ol.layer.Group",Qo),Qo.prototype.getLayers=Qo.prototype.cd,Qo.prototype.setLayers=Qo.prototype.yh,t("ol.layer.Heatmap",Nd),Nd.prototype.getBlur=Nd.prototype.Ig,Nd.prototype.getGradient=Nd.prototype.Pg,Nd.prototype.getRadius=Nd.prototype.zh,Nd.prototype.setBlur=Nd.prototype.ni,Nd.prototype.setGradient=Nd.prototype.ui,Nd.prototype.setRadius=Nd.prototype.Ah,t("ol.layer.Image",Ei),Ei.prototype.getSource=Ei.prototype.la,t("ol.layer.Layer",ai),ai.prototype.getSource=ai.prototype.la,ai.prototype.setMap=ai.prototype.setMap,ai.prototype.setSource=ai.prototype.Pc,t("ol.layer.Tile",ki),ki.prototype.getPreload=ki.prototype.f,ki.prototype.getSource=ki.prototype.la,ki.prototype.setPreload=ki.prototype.l,ki.prototype.getUseInterimTilesOnError=ki.prototype.c,ki.prototype.setUseInterimTilesOnError=ki.prototype.C,t("ol.layer.Vector",Vi),Vi.prototype.getSource=Vi.prototype.la,Vi.prototype.getStyle=Vi.prototype.D,Vi.prototype.getStyleFunction=Vi.prototype.L,Vi.prototype.setStyle=Vi.prototype.l,t("ol.layer.VectorTile",Hi),Hi.prototype.getPreload=Hi.prototype.f,Hi.prototype.getUseInterimTilesOnError=Hi.prototype.c,Hi.prototype.setPreload=Hi.prototype.P,Hi.prototype.setUseInterimTilesOnError=Hi.prototype.U,t("ol.interaction.DoubleClickZoom",no),t("ol.interaction.DoubleClickZoom.handleEvent",oo),t("ol.interaction.DragAndDrop",bh),t("ol.interaction.DragAndDrop.handleEvent",Qt),wh.prototype.features=wh.prototype.features,wh.prototype.file=wh.prototype.file,wh.prototype.projection=wh.prototype.projection,t("ol.interaction.DragBox",Ao),Ao.prototype.getGeometry=Ao.prototype.V,Io.prototype.coordinate=Io.prototype.coordinate,Io.prototype.mapBrowserEvent=Io.prototype.mapBrowserEvent,t("ol.interaction.DragPan",go),t("ol.interaction.DragRotate",wo),t("ol.interaction.DragRotateAndZoom",Th),t("ol.interaction.DragZoom",Ro),t("ol.interaction.Draw",Nh),t("ol.interaction.Draw.handleEvent",Fh),Nh.prototype.removeLastPoint=Nh.prototype.Vo,Nh.prototype.finishDrawing=Nh.prototype.zd,Nh.prototype.extend=Nh.prototype.vm,t("ol.interaction.Draw.createRegularPolygon",function(t,e){return function(r,n){var o=r[0],i=r[1],a=Math.sqrt(dt(o,i)),s=n?n:ar(new uh(o),t);return sr(s,o,a,e?e:Math.atan((i[1]-o[1])/(i[0]-o[0]))),s}}),t("ol.interaction.Draw.createBox",function(){return function(t,e){var r=wt(t),n=e||new rr(null);return n.qa([[Bt(r),Ut(r),Yt(r),Gt(r),Bt(r)]]),n}}),Xh.prototype.feature=Xh.prototype.feature,t("ol.interaction.Extent",Kh),Kh.prototype.getExtent=Kh.prototype.G,Kh.prototype.setExtent=Kh.prototype.i,ad.prototype.extent_=ad.prototype.b,t("ol.interaction.defaults",Zo),t("ol.interaction.Interaction",Qn),Qn.prototype.getActive=Qn.prototype.f,Qn.prototype.getMap=Qn.prototype.c,Qn.prototype.setActive=Qn.prototype.Ea,t("ol.interaction.KeyboardPan",No),t("ol.interaction.KeyboardPan.handleEvent",jo),t("ol.interaction.KeyboardZoom",Fo),t("ol.interaction.KeyboardZoom.handleEvent",zo),t("ol.interaction.Modify",sd),t("ol.interaction.Modify.handleEvent",md),sd.prototype.removePoint=sd.prototype.ki,xd.prototype.features=xd.prototype.features,xd.prototype.mapBrowserEvent=xd.prototype.mapBrowserEvent,t("ol.interaction.MouseWheelZoom",Bo),t("ol.interaction.MouseWheelZoom.handleEvent",Uo),Bo.prototype.setMouseAnchor=Bo.prototype.P,t("ol.interaction.PinchRotate",Vo),t("ol.interaction.PinchZoom",Go),t("ol.interaction.Pointer",yo),t("ol.interaction.Pointer.handleEvent",vo),t("ol.interaction.Select",_d),_d.prototype.getFeatures=_d.prototype.Fm,_d.prototype.getHitTolerance=_d.prototype.Gm,_d.prototype.getLayer=_d.prototype.Hm,t("ol.interaction.Select.handleEvent",wd),_d.prototype.setHitTolerance=_d.prototype.Jm,_d.prototype.setMap=_d.prototype.setMap,Md.prototype.selected=Md.prototype.selected,Md.prototype.deselected=Md.prototype.deselected,Md.prototype.mapBrowserEvent=Md.prototype.mapBrowserEvent,t("ol.interaction.Snap",Sd),Sd.prototype.addFeature=Sd.prototype.gb,Sd.prototype.removeFeature=Sd.prototype.rb,t("ol.interaction.Translate",Ad),Ad.prototype.getHitTolerance=Ad.prototype.D,Ad.prototype.setHitTolerance=Ad.prototype.L,Rd.prototype.features=Rd.prototype.features,Rd.prototype.coordinate=Rd.prototype.coordinate,t("ol.geom.Circle",uh),uh.prototype.clone=uh.prototype.clone,uh.prototype.getCenter=uh.prototype.Fd,uh.prototype.getRadius=uh.prototype.qe,uh.prototype.getType=uh.prototype.Y,uh.prototype.intersectsExtent=uh.prototype.Ta,uh.prototype.setCenter=uh.prototype.nm,uh.prototype.setCenterAndRadius=uh.prototype.dg,uh.prototype.setRadius=uh.prototype.om,uh.prototype.transform=uh.prototype.ob,t("ol.geom.Geometry",_e),_e.prototype.getClosestPoint=_e.prototype.Cb,_e.prototype.intersectsCoordinate=_e.prototype.mb,_e.prototype.getExtent=_e.prototype.G,_e.prototype.rotate=_e.prototype.rotate,_e.prototype.scale=_e.prototype.scale,_e.prototype.simplify=_e.prototype.Jb,_e.prototype.transform=_e.prototype.ob,t("ol.geom.GeometryCollection",jc),jc.prototype.clone=jc.prototype.clone,jc.prototype.getGeometries=jc.prototype.pf,jc.prototype.getType=jc.prototype.Y,jc.prototype.intersectsExtent=jc.prototype.Ta,jc.prototype.setGeometries=jc.prototype.ti,jc.prototype.applyTransform=jc.prototype.sc,jc.prototype.translate=jc.prototype.translate,t("ol.geom.LinearRing",Ve),Ve.prototype.clone=Ve.prototype.clone,Ve.prototype.getArea=Ve.prototype.rm,Ve.prototype.getCoordinates=Ve.prototype.$,Ve.prototype.getType=Ve.prototype.Y,Ve.prototype.setCoordinates=Ve.prototype.qa;t("ol.geom.LineString",$u);$u.prototype.appendCoordinate=$u.prototype.Dj,$u.prototype.clone=$u.prototype.clone,$u.prototype.forEachSegment=$u.prototype.Sj,$u.prototype.getCoordinateAtM=$u.prototype.pm,$u.prototype.getCoordinates=$u.prototype.$,$u.prototype.getCoordinateAt=$u.prototype.Kg,$u.prototype.getLength=$u.prototype.qm,$u.prototype.getType=$u.prototype.Y,$u.prototype.intersectsExtent=$u.prototype.Ta,$u.prototype.setCoordinates=$u.prototype.qa,t("ol.geom.MultiLineString",tc),tc.prototype.appendLineString=tc.prototype.Ej,tc.prototype.clone=tc.prototype.clone,tc.prototype.getCoordinateAtM=tc.prototype.sm,tc.prototype.getCoordinates=tc.prototype.$,tc.prototype.getLineString=tc.prototype.mk,tc.prototype.getLineStrings=tc.prototype.Yc,tc.prototype.getType=tc.prototype.Y,tc.prototype.intersectsExtent=tc.prototype.Ta,tc.prototype.setCoordinates=tc.prototype.qa,t("ol.geom.MultiPoint",nc),nc.prototype.appendPoint=nc.prototype.Gj,nc.prototype.clone=nc.prototype.clone,nc.prototype.getCoordinates=nc.prototype.$,nc.prototype.getPoint=nc.prototype.yk,nc.prototype.getPoints=nc.prototype.re,nc.prototype.getType=nc.prototype.Y,nc.prototype.intersectsExtent=nc.prototype.Ta,nc.prototype.setCoordinates=nc.prototype.qa,t("ol.geom.MultiPolygon",oc),oc.prototype.appendPolygon=oc.prototype.Hj,oc.prototype.clone=oc.prototype.clone,oc.prototype.getArea=oc.prototype.tm,oc.prototype.getCoordinates=oc.prototype.$,oc.prototype.getInteriorPoints=oc.prototype.jk,oc.prototype.getPolygon=oc.prototype.zk,oc.prototype.getPolygons=oc.prototype.Ad,oc.prototype.getType=oc.prototype.Y,oc.prototype.intersectsExtent=oc.prototype.Ta,oc.prototype.setCoordinates=oc.prototype.qa,t("ol.geom.Point",We),We.prototype.clone=We.prototype.clone,We.prototype.getCoordinates=We.prototype.$,We.prototype.getType=We.prototype.Y,We.prototype.intersectsExtent=We.prototype.Ta,We.prototype.setCoordinates=We.prototype.qa,t("ol.geom.Polygon",rr),rr.prototype.appendLinearRing=rr.prototype.Fj,rr.prototype.clone=rr.prototype.clone,rr.prototype.getArea=rr.prototype.um,rr.prototype.getCoordinates=rr.prototype.$,rr.prototype.getInteriorPoint=rr.prototype.ik,rr.prototype.getLinearRingCount=rr.prototype.nk,rr.prototype.getLinearRing=rr.prototype.Qg,rr.prototype.getLinearRings=rr.prototype.Zc,rr.prototype.getType=rr.prototype.Y,rr.prototype.intersectsExtent=rr.prototype.Ta,rr.prototype.setCoordinates=rr.prototype.qa,t("ol.geom.Polygon.circular",or),t("ol.geom.Polygon.fromExtent",ir),t("ol.geom.Polygon.fromCircle",ar),t("ol.geom.SimpleGeometry",Me),Me.prototype.getFirstCoordinate=Me.prototype.Rb,Me.prototype.getLastCoordinate=Me.prototype.Sb,Me.prototype.getLayout=Me.prototype.Tb,Me.prototype.applyTransform=Me.prototype.sc,Me.prototype.translate=Me.prototype.translate,t("ol.format.EsriJSON",uc),uc.prototype.readFeature=uc.prototype.bc,uc.prototype.readFeatures=uc.prototype.La,uc.prototype.readGeometry=uc.prototype.hd,uc.prototype.readProjection=uc.prototype.Wa,uc.prototype.writeGeometry=uc.prototype.od,uc.prototype.writeGeometryObject=uc.prototype.Te,uc.prototype.writeFeature=uc.prototype.Od,uc.prototype.writeFeatureObject=uc.prototype.md,uc.prototype.writeFeatures=uc.prototype.ec,uc.prototype.writeFeaturesObject=uc.prototype.Se,t("ol.format.Feature",Hu),t("ol.format.GeoJSON",Uc),Uc.prototype.readFeature=Uc.prototype.bc,Uc.prototype.readFeatures=Uc.prototype.La,Uc.prototype.readGeometry=Uc.prototype.hd,Uc.prototype.readProjection=Uc.prototype.Wa,Uc.prototype.writeFeature=Uc.prototype.Od,Uc.prototype.writeFeatureObject=Uc.prototype.md,Uc.prototype.writeFeatures=Uc.prototype.ec,Uc.prototype.writeFeaturesObject=Uc.prototype.Se,Uc.prototype.writeGeometry=Uc.prototype.od,Uc.prototype.writeGeometryObject=Uc.prototype.Te,t("ol.format.GML",ap),ap.prototype.writeFeatures=ap.prototype.ec,ap.prototype.writeFeaturesNode=ap.prototype.a,t("ol.format.GML2",lp),t("ol.format.GML3",ap),ap.prototype.writeGeometryNode=ap.prototype.H,ap.prototype.writeFeatures=ap.prototype.ec,ap.prototype.writeFeaturesNode=ap.prototype.a,Yc.prototype.readFeatures=Yc.prototype.La,t("ol.format.GPX",up),up.prototype.readFeature=up.prototype.bc,up.prototype.readFeatures=up.prototype.La,up.prototype.readProjection=up.prototype.Wa,up.prototype.writeFeatures=up.prototype.ec,up.prototype.writeFeaturesNode=up.prototype.a,t("ol.format.IGC",Tp),Tp.prototype.readFeature=Tp.prototype.bc,Tp.prototype.readFeatures=Tp.prototype.La,Tp.prototype.readProjection=Tp.prototype.Wa,t("ol.format.KML",Cp),Cp.prototype.readFeature=Cp.prototype.bc,Cp.prototype.readFeatures=Cp.prototype.La,Cp.prototype.readName=Cp.prototype.Jo,Cp.prototype.readNetworkLinks=Cp.prototype.Ko,Cp.prototype.readRegion=Cp.prototype.No,Cp.prototype.readRegionFromNode=Cp.prototype.Ie,Cp.prototype.readProjection=Cp.prototype.Wa,Cp.prototype.writeFeatures=Cp.prototype.ec,Cp.prototype.writeFeaturesNode=Cp.prototype.a,t("ol.format.MVT",cf),cf.prototype.readFeatures=cf.prototype.La,cf.prototype.readProjection=cf.prototype.Wa,cf.prototype.setLayers=cf.prototype.c,t("ol.format.OSMXML",ff),ff.prototype.readFeatures=ff.prototype.La,ff.prototype.readProjection=ff.prototype.Wa,t("ol.format.Polyline",gf),t("ol.format.Polyline.encodeDeltas",bf),t("ol.format.Polyline.decodeDeltas",xf),t("ol.format.Polyline.encodeFloats",_f),t("ol.format.Polyline.decodeFloats",wf),gf.prototype.readFeature=gf.prototype.bc,gf.prototype.readFeatures=gf.prototype.La,gf.prototype.readGeometry=gf.prototype.hd,gf.prototype.readProjection=gf.prototype.Wa,gf.prototype.writeGeometry=gf.prototype.od,t("ol.format.TopoJSON",Tf),Tf.prototype.readFeatures=Tf.prototype.La,Tf.prototype.readProjection=Tf.prototype.Wa,t("ol.format.WFS",Cf),Cf.prototype.readFeatures=Cf.prototype.La,Cf.prototype.readTransactionResponse=Cf.prototype.o,Cf.prototype.readFeatureCollectionMetadata=Cf.prototype.l,Cf.prototype.writeGetFeature=Cf.prototype.v,Cf.prototype.writeTransaction=Cf.prototype.A,Cf.prototype.readProjection=Cf.prototype.Wa,t("ol.format.WKT",Ff),Ff.prototype.readFeature=Ff.prototype.bc,Ff.prototype.readFeatures=Ff.prototype.La,Ff.prototype.readGeometry=Ff.prototype.hd,Ff.prototype.writeFeature=Ff.prototype.Od,Ff.prototype.writeFeatures=Ff.prototype.ec,Ff.prototype.writeGeometry=Ff.prototype.od,t("ol.format.WMSCapabilities",th),th.prototype.read=th.prototype.read,t("ol.format.WMSGetFeatureInfo",ih),ih.prototype.readFeatures=ih.prototype.La,t("ol.format.WMTSCapabilities",ah),ah.prototype.read=ah.prototype.read,t("ol.format.filter.And",vc),t("ol.format.filter.Bbox",gc),t("ol.format.filter.Comparison",bc),t("ol.format.filter.ComparisonBinary",xc),t("ol.format.filter.EqualTo",_c),t("ol.format.filter.Filter",dc),t("ol.format.filter.GreaterThan",wc),t("ol.format.filter.GreaterThanOrEqualTo",Tc),t("ol.format.filter.and",Rc),t("ol.format.filter.or",function(t,e){return new Oc(t,e)}),t("ol.format.filter.not",function(t){return new Lc(t)}),t("ol.format.filter.bbox",Nc),t("ol.format.filter.intersects",function(t,e,r){return new Sc(t,e,r)}),t("ol.format.filter.within",function(t,e,r){return new Ic(t,e,r)}),t("ol.format.filter.equalTo",function(t,e,r){return new _c(t,e,r)}),t("ol.format.filter.notEqualTo",function(t,e,r){return new Dc(t,e,r)}),t("ol.format.filter.lessThan",function(t,e){return new Ac(t,e)}),t("ol.format.filter.lessThanOrEqualTo",function(t,e){return new Pc(t,e)}),t("ol.format.filter.greaterThan",function(t,e){return new wc(t,e)}),t("ol.format.filter.greaterThanOrEqualTo",function(t,e){return new Tc(t,e)}),t("ol.format.filter.isNull",function(t){return new Cc(t)}),t("ol.format.filter.between",function(t,e,r){return new Ec(t,e,r)}),t("ol.format.filter.like",function(t,e,r,n,o,i){return new kc(t,e,r,n,o,i)}),t("ol.format.filter.Intersects",Sc),t("ol.format.filter.IsBetween",Ec),t("ol.format.filter.IsLike",kc),t("ol.format.filter.IsNull",Cc),t("ol.format.filter.LessThan",Ac),t("ol.format.filter.LessThanOrEqualTo",Pc),t("ol.format.filter.Not",Lc),t("ol.format.filter.NotEqualTo",Dc),t("ol.format.filter.Or",Oc),t("ol.format.filter.Spatial",Mc),t("ol.format.filter.Within",Ic),t("ol.extent.boundingExtent",wt),t("ol.extent.buffer",Tt),t("ol.extent.containsCoordinate",Et),t("ol.extent.containsExtent",kt),t("ol.extent.containsXY",Ct),t("ol.extent.createEmpty",Pt),t("ol.extent.equals",It);t("ol.extent.extend",Rt);t("ol.extent.getBottomLeft",Bt),t("ol.extent.getBottomRight",Ut),t("ol.extent.getCenter",Vt),t("ol.extent.getHeight",Wt),t("ol.extent.getIntersection",qt),t("ol.extent.getSize",function(t){return[t[2]-t[0],t[3]-t[1]]}),t("ol.extent.getTopLeft",Gt),t("ol.extent.getTopRight",Yt),t("ol.extent.getWidth",Xt),t("ol.extent.intersects",Kt),t("ol.extent.isEmpty",Zt),t("ol.extent.applyTransform",$t),t("ol.events.condition.altKeyOnly",function(t){return t=t.originalEvent,t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}),t("ol.events.condition.altShiftKeysOnly",io),t("ol.events.condition.always",Qt),t("ol.events.condition.click",function(t){return"click"==t.type}),t("ol.events.condition.never",te),t("ol.events.condition.pointerMove",so),t("ol.events.condition.singleClick",lo),t("ol.events.condition.doubleClick",function(t){return"dblclick"==t.type}),t("ol.events.condition.noModifierKeys",uo),t("ol.events.condition.platformModifierKeyOnly",function(t){return t=t.originalEvent,!t.altKey&&(Im?t.metaKey:t.ctrlKey)&&!t.shiftKey}),t("ol.events.condition.shiftKeyOnly",co),t("ol.events.condition.targetNotEditable",po),t("ol.events.condition.mouseOnly",fo),t("ol.events.condition.primaryAction",ho),O.prototype.type=O.prototype.type,O.prototype.target=O.prototype.target,O.prototype.preventDefault=O.prototype.preventDefault,O.prototype.stopPropagation=O.prototype.stopPropagation,t("ol.control.Attribution",$r),t("ol.control.Attribution.render",Qr),$r.prototype.getCollapsible=$r.prototype.dm,$r.prototype.setCollapsible=$r.prototype.gm,$r.prototype.setCollapsed=$r.prototype.fm,$r.prototype.getCollapsed=$r.prototype.cm,t("ol.control.Control",Jr),Jr.prototype.getMap=Jr.prototype.i,Jr.prototype.setMap=Jr.prototype.setMap,Jr.prototype.setTarget=Jr.prototype.c,t("ol.control.FullScreen",en),t("ol.control.defaults",un),t("ol.control.MousePosition",cn),t("ol.control.MousePosition.render",pn),cn.prototype.getCoordinateFormat=cn.prototype.Lg,cn.prototype.getProjection=cn.prototype.rh,cn.prototype.setCoordinateFormat=cn.prototype.oi,cn.prototype.setProjection=cn.prototype.sh,t("ol.control.OverviewMap",iu),t("ol.control.OverviewMap.render",au),iu.prototype.getCollapsible=iu.prototype.jm,iu.prototype.setCollapsible=iu.prototype.mm,iu.prototype.setCollapsed=iu.prototype.lm,iu.prototype.getCollapsed=iu.prototype.im,iu.prototype.getOverviewMap=iu.prototype.wk,t("ol.control.Rotate",an),t("ol.control.Rotate.render",sn),t("ol.control.ScaleLine",cu),cu.prototype.getUnits=cu.prototype.Eb,t("ol.control.ScaleLine.render",pu),cu.prototype.setUnits=cu.prototype.D,t("ol.control.Zoom",ln),t("ol.control.ZoomSlider",hu),t("ol.control.ZoomSlider.render",du),t("ol.control.ZoomToExtent",vu),z.prototype.changed=z.prototype.s,z.prototype.dispatchEvent=z.prototype.b,z.prototype.getRevision=z.prototype.M,z.prototype.on=z.prototype.J,z.prototype.once=z.prototype.N,z.prototype.un=z.prototype.K,z.prototype.unByKey=z.prototype.O,Br.prototype.get=Br.prototype.get,Br.prototype.getKeys=Br.prototype.S,Br.prototype.getProperties=Br.prototype.R,Br.prototype.set=Br.prototype.set,Br.prototype.setProperties=Br.prototype.I,Br.prototype.unset=Br.prototype.T,Br.prototype.changed=Br.prototype.s,Br.prototype.dispatchEvent=Br.prototype.b,Br.prototype.getRevision=Br.prototype.M,Br.prototype.on=Br.prototype.J,Br.prototype.once=Br.prototype.N,Br.prototype.un=Br.prototype.K,Br.prototype.unByKey=Br.prototype.O,Vr.prototype.type=Vr.prototype.type,Vr.prototype.target=Vr.prototype.target,Vr.prototype.preventDefault=Vr.prototype.preventDefault,Vr.prototype.stopPropagation=Vr.prototype.stopPropagation,gu.prototype.get=gu.prototype.get,gu.prototype.getKeys=gu.prototype.S,gu.prototype.getProperties=gu.prototype.R,gu.prototype.set=gu.prototype.set,gu.prototype.setProperties=gu.prototype.I,gu.prototype.unset=gu.prototype.T,gu.prototype.changed=gu.prototype.s,gu.prototype.dispatchEvent=gu.prototype.b,gu.prototype.getRevision=gu.prototype.M,gu.prototype.on=gu.prototype.J,gu.prototype.once=gu.prototype.N,gu.prototype.un=gu.prototype.K,gu.prototype.unByKey=gu.prototype.O,bu.prototype.get=bu.prototype.get,bu.prototype.getKeys=bu.prototype.S,bu.prototype.getProperties=bu.prototype.R,bu.prototype.set=bu.prototype.set,bu.prototype.setProperties=bu.prototype.I,
bu.prototype.unset=bu.prototype.T,bu.prototype.changed=bu.prototype.s,bu.prototype.dispatchEvent=bu.prototype.b,bu.prototype.getRevision=bu.prototype.M,bu.prototype.on=bu.prototype.J,bu.prototype.once=bu.prototype.N,bu.prototype.un=bu.prototype.K,bu.prototype.unByKey=bu.prototype.O,lh.prototype.get=lh.prototype.get,lh.prototype.getKeys=lh.prototype.S,lh.prototype.getProperties=lh.prototype.R,lh.prototype.set=lh.prototype.set,lh.prototype.setProperties=lh.prototype.I,lh.prototype.unset=lh.prototype.T,lh.prototype.changed=lh.prototype.s,lh.prototype.dispatchEvent=lh.prototype.b,lh.prototype.getRevision=lh.prototype.M,lh.prototype.on=lh.prototype.J,lh.prototype.once=lh.prototype.N,lh.prototype.un=lh.prototype.K,lh.prototype.unByKey=lh.prototype.O,vh.prototype.getTileCoord=vh.prototype.c,Ql.prototype.get=Ql.prototype.get,Ql.prototype.getKeys=Ql.prototype.S,Ql.prototype.getProperties=Ql.prototype.R,Ql.prototype.set=Ql.prototype.set,Ql.prototype.setProperties=Ql.prototype.I,Ql.prototype.unset=Ql.prototype.T,Ql.prototype.changed=Ql.prototype.s,Ql.prototype.dispatchEvent=Ql.prototype.b,Ql.prototype.getRevision=Ql.prototype.M,Ql.prototype.on=Ql.prototype.J,Ql.prototype.once=Ql.prototype.N,Ql.prototype.un=Ql.prototype.K,Ql.prototype.unByKey=Ql.prototype.O,Zr.prototype.type=Zr.prototype.type,Zr.prototype.target=Zr.prototype.target,Zr.prototype.preventDefault=Zr.prototype.preventDefault,Zr.prototype.stopPropagation=Zr.prototype.stopPropagation,hn.prototype.map=hn.prototype.map,hn.prototype.frameState=hn.prototype.frameState,hn.prototype.type=hn.prototype.type,hn.prototype.target=hn.prototype.target,hn.prototype.preventDefault=hn.prototype.preventDefault,hn.prototype.stopPropagation=hn.prototype.stopPropagation,dn.prototype.originalEvent=dn.prototype.originalEvent,dn.prototype.pixel=dn.prototype.pixel,dn.prototype.coordinate=dn.prototype.coordinate,dn.prototype.dragging=dn.prototype.dragging,dn.prototype.preventDefault=dn.prototype.preventDefault,dn.prototype.stopPropagation=dn.prototype.stopPropagation,dn.prototype.map=dn.prototype.map,dn.prototype.frameState=dn.prototype.frameState,dn.prototype.type=dn.prototype.type,dn.prototype.target=dn.prototype.target,V.prototype.type=V.prototype.type,V.prototype.target=V.prototype.target,V.prototype.preventDefault=V.prototype.preventDefault,V.prototype.stopPropagation=V.prototype.stopPropagation,eu.prototype.get=eu.prototype.get,eu.prototype.getKeys=eu.prototype.S,eu.prototype.getProperties=eu.prototype.R,eu.prototype.set=eu.prototype.set,eu.prototype.setProperties=eu.prototype.I,eu.prototype.unset=eu.prototype.T,eu.prototype.changed=eu.prototype.s,eu.prototype.dispatchEvent=eu.prototype.b,eu.prototype.getRevision=eu.prototype.M,eu.prototype.on=eu.prototype.J,eu.prototype.once=eu.prototype.N,eu.prototype.un=eu.prototype.K,eu.prototype.unByKey=eu.prototype.O,Fy.prototype.getTileCoord=Fy.prototype.c,lr.prototype.get=lr.prototype.get,lr.prototype.getKeys=lr.prototype.S,lr.prototype.getProperties=lr.prototype.R,lr.prototype.set=lr.prototype.set,lr.prototype.setProperties=lr.prototype.I,lr.prototype.unset=lr.prototype.T,lr.prototype.changed=lr.prototype.s,lr.prototype.dispatchEvent=lr.prototype.b,lr.prototype.getRevision=lr.prototype.M,lr.prototype.on=lr.prototype.J,lr.prototype.once=lr.prototype.N,lr.prototype.un=lr.prototype.K,lr.prototype.unByKey=lr.prototype.O,Uy.prototype.forEachTileCoord=Uy.prototype.Hg,Uy.prototype.getMaxZoom=Uy.prototype.Rg,Uy.prototype.getMinZoom=Uy.prototype.Sg,Uy.prototype.getOrigin=Uy.prototype.Kc,Uy.prototype.getResolution=Uy.prototype.Ha,Uy.prototype.getResolutions=Uy.prototype.Wh,Uy.prototype.getTileCoordExtent=Uy.prototype.Na;Uy.prototype.getTileCoordForCoordAndResolution=Uy.prototype.fe;Uy.prototype.getTileCoordForCoordAndZ=Uy.prototype.wf,Uy.prototype.getTileSize=Uy.prototype.Za,Uy.prototype.getZForResolution=Uy.prototype.Ec,Di.prototype.getOpacity=Di.prototype.ye,Di.prototype.getRotateWithView=Di.prototype.ze,Di.prototype.getRotation=Di.prototype.Ae,Di.prototype.getScale=Di.prototype.Be,Di.prototype.getSnapToPixel=Di.prototype.ee,Di.prototype.setOpacity=Di.prototype.dd,Di.prototype.setRotation=Di.prototype.Ce,Di.prototype.setScale=Di.prototype.ed,Ii.prototype.getAngle=Ii.prototype.Nh,Ii.prototype.getFill=Ii.prototype.Oh,Ii.prototype.getPoints=Ii.prototype.Ph,Ii.prototype.getRadius=Ii.prototype.Qh,Ii.prototype.getRadius2=Ii.prototype.Vg,Ii.prototype.getStroke=Ii.prototype.Rh,Ii.prototype.getOpacity=Ii.prototype.ye,Ii.prototype.getRotateWithView=Ii.prototype.ze,Ii.prototype.getRotation=Ii.prototype.Ae,Ii.prototype.getScale=Ii.prototype.Be,Ii.prototype.getSnapToPixel=Ii.prototype.ee,Ii.prototype.setOpacity=Ii.prototype.dd,Ii.prototype.setRotation=Ii.prototype.Ce,Ii.prototype.setScale=Ii.prototype.ed,Ep.prototype.getOpacity=Ep.prototype.ye,Ep.prototype.getRotateWithView=Ep.prototype.ze,Ep.prototype.getRotation=Ep.prototype.Ae,Ep.prototype.getScale=Ep.prototype.Be,Ep.prototype.getSnapToPixel=Ep.prototype.ee,Ep.prototype.setOpacity=Ep.prototype.dd,Ep.prototype.setRotation=Ep.prototype.Ce,Ep.prototype.setScale=Ep.prototype.ed,Pl.prototype.get=Pl.prototype.get,Pl.prototype.getKeys=Pl.prototype.S,Pl.prototype.getProperties=Pl.prototype.R,Pl.prototype.set=Pl.prototype.set,Pl.prototype.setProperties=Pl.prototype.I,Pl.prototype.unset=Pl.prototype.T,Pl.prototype.changed=Pl.prototype.s,Pl.prototype.dispatchEvent=Pl.prototype.b,Pl.prototype.getRevision=Pl.prototype.M,Pl.prototype.on=Pl.prototype.J,Pl.prototype.once=Pl.prototype.N,Pl.prototype.un=Pl.prototype.K,Pl.prototype.unByKey=Pl.prototype.O,Gd.prototype.getAttributions=Gd.prototype.za,Gd.prototype.getLogo=Gd.prototype.ya,Gd.prototype.getProjection=Gd.prototype.Aa,Gd.prototype.getState=Gd.prototype.W,Gd.prototype.refresh=Gd.prototype.wa,Gd.prototype.setAttributions=Gd.prototype.ua,Gd.prototype.get=Gd.prototype.get,Gd.prototype.getKeys=Gd.prototype.S,Gd.prototype.getProperties=Gd.prototype.R,Gd.prototype.set=Gd.prototype.set,Gd.prototype.setProperties=Gd.prototype.I,Gd.prototype.unset=Gd.prototype.T,Gd.prototype.changed=Gd.prototype.s,Gd.prototype.dispatchEvent=Gd.prototype.b,Gd.prototype.getRevision=Gd.prototype.M,Gd.prototype.on=Gd.prototype.J,Gd.prototype.once=Gd.prototype.N,Gd.prototype.un=Gd.prototype.K,Gd.prototype.unByKey=Gd.prototype.O,Jd.prototype.getTileGrid=Jd.prototype.Va,Jd.prototype.refresh=Jd.prototype.wa,Jd.prototype.getAttributions=Jd.prototype.za,Jd.prototype.getLogo=Jd.prototype.ya,Jd.prototype.getProjection=Jd.prototype.Aa,Jd.prototype.getState=Jd.prototype.W,Jd.prototype.setAttributions=Jd.prototype.ua,Jd.prototype.get=Jd.prototype.get,Jd.prototype.getKeys=Jd.prototype.S,Jd.prototype.getProperties=Jd.prototype.R,Jd.prototype.set=Jd.prototype.set,Jd.prototype.setProperties=Jd.prototype.I,Jd.prototype.unset=Jd.prototype.T,Jd.prototype.changed=Jd.prototype.s,Jd.prototype.dispatchEvent=Jd.prototype.b,Jd.prototype.getRevision=Jd.prototype.M,Jd.prototype.on=Jd.prototype.J,Jd.prototype.once=Jd.prototype.N,Jd.prototype.un=Jd.prototype.K,Jd.prototype.unByKey=Jd.prototype.O,$d.prototype.getTileLoadFunction=$d.prototype.ib,$d.prototype.getTileUrlFunction=$d.prototype.kb,$d.prototype.getUrls=$d.prototype.lb,$d.prototype.setTileLoadFunction=$d.prototype.sb,$d.prototype.setTileUrlFunction=$d.prototype.Xa,$d.prototype.setUrl=$d.prototype.cb,$d.prototype.setUrls=$d.prototype.Ya,$d.prototype.getTileGrid=$d.prototype.Va,$d.prototype.refresh=$d.prototype.wa,$d.prototype.getAttributions=$d.prototype.za,$d.prototype.getLogo=$d.prototype.ya,$d.prototype.getProjection=$d.prototype.Aa,$d.prototype.getState=$d.prototype.W,$d.prototype.setAttributions=$d.prototype.ua,$d.prototype.get=$d.prototype.get,$d.prototype.getKeys=$d.prototype.S,$d.prototype.getProperties=$d.prototype.R,$d.prototype.set=$d.prototype.set,$d.prototype.setProperties=$d.prototype.I,$d.prototype.unset=$d.prototype.T,$d.prototype.changed=$d.prototype.s,$d.prototype.dispatchEvent=$d.prototype.b,$d.prototype.getRevision=$d.prototype.M,$d.prototype.on=$d.prototype.J,$d.prototype.once=$d.prototype.N,$d.prototype.un=$d.prototype.K,$d.prototype.unByKey=$d.prototype.O,ry.prototype.setRenderReprojectionEdges=ry.prototype.Hb,ry.prototype.setTileGridForProjection=ry.prototype.Ib,ry.prototype.getTileLoadFunction=ry.prototype.ib,ry.prototype.getTileUrlFunction=ry.prototype.kb,ry.prototype.getUrls=ry.prototype.lb,ry.prototype.setTileLoadFunction=ry.prototype.sb,ry.prototype.setTileUrlFunction=ry.prototype.Xa,ry.prototype.setUrl=ry.prototype.cb,ry.prototype.setUrls=ry.prototype.Ya,ry.prototype.getTileGrid=ry.prototype.Va,ry.prototype.refresh=ry.prototype.wa,ry.prototype.getAttributions=ry.prototype.za,ry.prototype.getLogo=ry.prototype.ya,ry.prototype.getProjection=ry.prototype.Aa,ry.prototype.getState=ry.prototype.W,ry.prototype.setAttributions=ry.prototype.ua,ry.prototype.get=ry.prototype.get,ry.prototype.getKeys=ry.prototype.S,ry.prototype.getProperties=ry.prototype.R,ry.prototype.set=ry.prototype.set,ry.prototype.setProperties=ry.prototype.I,ry.prototype.unset=ry.prototype.T,ry.prototype.changed=ry.prototype.s,ry.prototype.dispatchEvent=ry.prototype.b,ry.prototype.getRevision=ry.prototype.M,ry.prototype.on=ry.prototype.J,ry.prototype.once=ry.prototype.N,ry.prototype.un=ry.prototype.K,ry.prototype.unByKey=ry.prototype.O,ny.prototype.setRenderReprojectionEdges=ny.prototype.Hb,ny.prototype.setTileGridForProjection=ny.prototype.Ib,ny.prototype.getTileLoadFunction=ny.prototype.ib,ny.prototype.getTileUrlFunction=ny.prototype.kb,ny.prototype.getUrls=ny.prototype.lb,ny.prototype.setTileLoadFunction=ny.prototype.sb,ny.prototype.setTileUrlFunction=ny.prototype.Xa,ny.prototype.setUrl=ny.prototype.cb,ny.prototype.setUrls=ny.prototype.Ya,ny.prototype.getTileGrid=ny.prototype.Va,ny.prototype.refresh=ny.prototype.wa,ny.prototype.getAttributions=ny.prototype.za,ny.prototype.getLogo=ny.prototype.ya,ny.prototype.getProjection=ny.prototype.Aa,ny.prototype.getState=ny.prototype.W,ny.prototype.setAttributions=ny.prototype.ua,ny.prototype.get=ny.prototype.get,ny.prototype.getKeys=ny.prototype.S,ny.prototype.getProperties=ny.prototype.R,ny.prototype.set=ny.prototype.set,ny.prototype.setProperties=ny.prototype.I,ny.prototype.unset=ny.prototype.T,ny.prototype.changed=ny.prototype.s,ny.prototype.dispatchEvent=ny.prototype.b,ny.prototype.getRevision=ny.prototype.M,ny.prototype.on=ny.prototype.J,ny.prototype.once=ny.prototype.N,ny.prototype.un=ny.prototype.K,ny.prototype.unByKey=ny.prototype.O,oy.prototype.setRenderReprojectionEdges=oy.prototype.Hb,oy.prototype.setTileGridForProjection=oy.prototype.Ib,oy.prototype.getTileLoadFunction=oy.prototype.ib,oy.prototype.getTileUrlFunction=oy.prototype.kb,oy.prototype.getUrls=oy.prototype.lb,oy.prototype.setTileLoadFunction=oy.prototype.sb,oy.prototype.setTileUrlFunction=oy.prototype.Xa,oy.prototype.setUrl=oy.prototype.cb,oy.prototype.setUrls=oy.prototype.Ya,oy.prototype.getTileGrid=oy.prototype.Va,oy.prototype.refresh=oy.prototype.wa,oy.prototype.getAttributions=oy.prototype.za,oy.prototype.getLogo=oy.prototype.ya,oy.prototype.getProjection=oy.prototype.Aa,oy.prototype.getState=oy.prototype.W,oy.prototype.setAttributions=oy.prototype.ua,oy.prototype.get=oy.prototype.get,oy.prototype.getKeys=oy.prototype.S,oy.prototype.getProperties=oy.prototype.R,oy.prototype.set=oy.prototype.set,oy.prototype.setProperties=oy.prototype.I,oy.prototype.unset=oy.prototype.T,oy.prototype.changed=oy.prototype.s,oy.prototype.dispatchEvent=oy.prototype.b,oy.prototype.getRevision=oy.prototype.M,oy.prototype.on=oy.prototype.J,oy.prototype.once=oy.prototype.N,oy.prototype.un=oy.prototype.K,oy.prototype.unByKey=oy.prototype.O,Ch.prototype.getAttributions=Ch.prototype.za;Ch.prototype.getLogo=Ch.prototype.ya;Ch.prototype.getProjection=Ch.prototype.Aa,Ch.prototype.getState=Ch.prototype.W,Ch.prototype.refresh=Ch.prototype.wa,Ch.prototype.setAttributions=Ch.prototype.ua,Ch.prototype.get=Ch.prototype.get,Ch.prototype.getKeys=Ch.prototype.S,Ch.prototype.getProperties=Ch.prototype.R,Ch.prototype.set=Ch.prototype.set,Ch.prototype.setProperties=Ch.prototype.I,Ch.prototype.unset=Ch.prototype.T,Ch.prototype.changed=Ch.prototype.s,Ch.prototype.dispatchEvent=Ch.prototype.b,Ch.prototype.getRevision=Ch.prototype.M,Ch.prototype.on=Ch.prototype.J,Ch.prototype.once=Ch.prototype.N,Ch.prototype.un=Ch.prototype.K,Ch.prototype.unByKey=Ch.prototype.O,sy.prototype.addFeature=sy.prototype.gb,sy.prototype.addFeatures=sy.prototype.Tc,sy.prototype.clear=sy.prototype.clear,sy.prototype.forEachFeature=sy.prototype.Fg,sy.prototype.forEachFeatureInExtent=sy.prototype.Qb,sy.prototype.forEachFeatureIntersectingExtent=sy.prototype.Gg,sy.prototype.getFeaturesCollection=sy.prototype.Og,sy.prototype.getFeatures=sy.prototype.we,sy.prototype.getFeaturesAtCoordinate=sy.prototype.Ng,sy.prototype.getFeaturesInExtent=sy.prototype.nf,sy.prototype.getClosestFeatureToCoordinate=sy.prototype.Jg,sy.prototype.getExtent=sy.prototype.G,sy.prototype.getFeatureById=sy.prototype.Mg,sy.prototype.getFormat=sy.prototype.Kh,sy.prototype.getUrl=sy.prototype.Lh,sy.prototype.removeFeature=sy.prototype.rb,sy.prototype.getAttributions=sy.prototype.za,sy.prototype.getLogo=sy.prototype.ya,sy.prototype.getProjection=sy.prototype.Aa,sy.prototype.getState=sy.prototype.W,sy.prototype.refresh=sy.prototype.wa,sy.prototype.setAttributions=sy.prototype.ua,sy.prototype.get=sy.prototype.get,sy.prototype.getKeys=sy.prototype.S,sy.prototype.getProperties=sy.prototype.R,sy.prototype.set=sy.prototype.set,sy.prototype.setProperties=sy.prototype.I,sy.prototype.unset=sy.prototype.T,sy.prototype.changed=sy.prototype.s,sy.prototype.dispatchEvent=sy.prototype.b,sy.prototype.getRevision=sy.prototype.M,sy.prototype.on=sy.prototype.J,sy.prototype.once=sy.prototype.N,sy.prototype.un=sy.prototype.K,sy.prototype.unByKey=sy.prototype.O,Ol.prototype.getAttributions=Ol.prototype.za,Ol.prototype.getLogo=Ol.prototype.ya,Ol.prototype.getProjection=Ol.prototype.Aa,Ol.prototype.getState=Ol.prototype.W,Ol.prototype.refresh=Ol.prototype.wa,Ol.prototype.setAttributions=Ol.prototype.ua,Ol.prototype.get=Ol.prototype.get,Ol.prototype.getKeys=Ol.prototype.S,Ol.prototype.getProperties=Ol.prototype.R,Ol.prototype.set=Ol.prototype.set,Ol.prototype.setProperties=Ol.prototype.I,Ol.prototype.unset=Ol.prototype.T,Ol.prototype.changed=Ol.prototype.s,Ol.prototype.dispatchEvent=Ol.prototype.b,Ol.prototype.getRevision=Ol.prototype.M,Ol.prototype.on=Ol.prototype.J,Ol.prototype.once=Ol.prototype.N,Ol.prototype.un=Ol.prototype.K,Ol.prototype.unByKey=Ol.prototype.O,Nl.prototype.type=Nl.prototype.type,Nl.prototype.target=Nl.prototype.target,Nl.prototype.preventDefault=Nl.prototype.preventDefault,Nl.prototype.stopPropagation=Nl.prototype.stopPropagation,py.prototype.getAttributions=py.prototype.za,py.prototype.getLogo=py.prototype.ya,py.prototype.getProjection=py.prototype.Aa,py.prototype.getState=py.prototype.W,py.prototype.refresh=py.prototype.wa,py.prototype.setAttributions=py.prototype.ua,py.prototype.get=py.prototype.get,py.prototype.getKeys=py.prototype.S,py.prototype.getProperties=py.prototype.R,py.prototype.set=py.prototype.set,py.prototype.setProperties=py.prototype.I,py.prototype.unset=py.prototype.T,py.prototype.changed=py.prototype.s,py.prototype.dispatchEvent=py.prototype.b,py.prototype.getRevision=py.prototype.M,py.prototype.on=py.prototype.J,py.prototype.once=py.prototype.N,py.prototype.un=py.prototype.K,py.prototype.unByKey=py.prototype.O,jl.prototype.getAttributions=jl.prototype.za,jl.prototype.getLogo=jl.prototype.ya,jl.prototype.getProjection=jl.prototype.Aa,jl.prototype.getState=jl.prototype.W,jl.prototype.refresh=jl.prototype.wa,jl.prototype.setAttributions=jl.prototype.ua,jl.prototype.get=jl.prototype.get,jl.prototype.getKeys=jl.prototype.S,jl.prototype.getProperties=jl.prototype.R,jl.prototype.set=jl.prototype.set,jl.prototype.setProperties=jl.prototype.I,jl.prototype.unset=jl.prototype.T,jl.prototype.changed=jl.prototype.s,jl.prototype.dispatchEvent=jl.prototype.b,jl.prototype.getRevision=jl.prototype.M,jl.prototype.on=jl.prototype.J,jl.prototype.once=jl.prototype.N,jl.prototype.un=jl.prototype.K,jl.prototype.unByKey=jl.prototype.O,fy.prototype.getAttributions=fy.prototype.za,fy.prototype.getLogo=fy.prototype.ya,fy.prototype.getProjection=fy.prototype.Aa,fy.prototype.getState=fy.prototype.W,fy.prototype.refresh=fy.prototype.wa,fy.prototype.setAttributions=fy.prototype.ua,fy.prototype.get=fy.prototype.get,fy.prototype.getKeys=fy.prototype.S,fy.prototype.getProperties=fy.prototype.R,fy.prototype.set=fy.prototype.set,fy.prototype.setProperties=fy.prototype.I,fy.prototype.unset=fy.prototype.T,fy.prototype.changed=fy.prototype.s,fy.prototype.dispatchEvent=fy.prototype.b,fy.prototype.getRevision=fy.prototype.M,fy.prototype.on=fy.prototype.J,fy.prototype.once=fy.prototype.N,fy.prototype.un=fy.prototype.K,fy.prototype.unByKey=fy.prototype.O,hy.prototype.getAttributions=hy.prototype.za,hy.prototype.getLogo=hy.prototype.ya,hy.prototype.getProjection=hy.prototype.Aa,hy.prototype.getState=hy.prototype.W,hy.prototype.refresh=hy.prototype.wa,hy.prototype.setAttributions=hy.prototype.ua,hy.prototype.get=hy.prototype.get,hy.prototype.getKeys=hy.prototype.S,hy.prototype.getProperties=hy.prototype.R,hy.prototype.set=hy.prototype.set,hy.prototype.setProperties=hy.prototype.I,hy.prototype.unset=hy.prototype.T,hy.prototype.changed=hy.prototype.s,hy.prototype.dispatchEvent=hy.prototype.b,hy.prototype.getRevision=hy.prototype.M,hy.prototype.on=hy.prototype.J,hy.prototype.once=hy.prototype.N,hy.prototype.un=hy.prototype.K,hy.prototype.unByKey=hy.prototype.O,Fl.prototype.getAttributions=Fl.prototype.za,Fl.prototype.getLogo=Fl.prototype.ya,Fl.prototype.getProjection=Fl.prototype.Aa,Fl.prototype.getState=Fl.prototype.W,Fl.prototype.refresh=Fl.prototype.wa,Fl.prototype.setAttributions=Fl.prototype.ua,Fl.prototype.get=Fl.prototype.get,Fl.prototype.getKeys=Fl.prototype.S,Fl.prototype.getProperties=Fl.prototype.R,Fl.prototype.set=Fl.prototype.set,Fl.prototype.setProperties=Fl.prototype.I,Fl.prototype.unset=Fl.prototype.T,Fl.prototype.changed=Fl.prototype.s,Fl.prototype.dispatchEvent=Fl.prototype.b,Fl.prototype.getRevision=Fl.prototype.M,Fl.prototype.on=Fl.prototype.J,Fl.prototype.once=Fl.prototype.N,Fl.prototype.un=Fl.prototype.K,Fl.prototype.unByKey=Fl.prototype.O,dy.prototype.getAttributions=dy.prototype.za,dy.prototype.getLogo=dy.prototype.ya,dy.prototype.getProjection=dy.prototype.Aa,dy.prototype.getState=dy.prototype.W,dy.prototype.refresh=dy.prototype.wa,dy.prototype.setAttributions=dy.prototype.ua,dy.prototype.get=dy.prototype.get,dy.prototype.getKeys=dy.prototype.S,dy.prototype.getProperties=dy.prototype.R,dy.prototype.set=dy.prototype.set,dy.prototype.setProperties=dy.prototype.I,dy.prototype.unset=dy.prototype.T,dy.prototype.changed=dy.prototype.s,dy.prototype.dispatchEvent=dy.prototype.b,dy.prototype.getRevision=dy.prototype.M,dy.prototype.on=dy.prototype.J,dy.prototype.once=dy.prototype.N,dy.prototype.un=dy.prototype.K,dy.prototype.unByKey=dy.prototype.O,vy.prototype.setRenderReprojectionEdges=vy.prototype.Hb,vy.prototype.setTileGridForProjection=vy.prototype.Ib,vy.prototype.getTileLoadFunction=vy.prototype.ib,vy.prototype.getTileUrlFunction=vy.prototype.kb,vy.prototype.getUrls=vy.prototype.lb,vy.prototype.setTileLoadFunction=vy.prototype.sb,vy.prototype.setTileUrlFunction=vy.prototype.Xa,vy.prototype.setUrl=vy.prototype.cb,vy.prototype.setUrls=vy.prototype.Ya,vy.prototype.getTileGrid=vy.prototype.Va,vy.prototype.refresh=vy.prototype.wa;vy.prototype.getAttributions=vy.prototype.za;vy.prototype.getLogo=vy.prototype.ya,vy.prototype.getProjection=vy.prototype.Aa,vy.prototype.getState=vy.prototype.W,vy.prototype.setAttributions=vy.prototype.ua,vy.prototype.get=vy.prototype.get,vy.prototype.getKeys=vy.prototype.S,vy.prototype.getProperties=vy.prototype.R,vy.prototype.set=vy.prototype.set,vy.prototype.setProperties=vy.prototype.I,vy.prototype.unset=vy.prototype.T,vy.prototype.changed=vy.prototype.s,vy.prototype.dispatchEvent=vy.prototype.b,vy.prototype.getRevision=vy.prototype.M,vy.prototype.on=vy.prototype.J,vy.prototype.once=vy.prototype.N,vy.prototype.un=vy.prototype.K,vy.prototype.unByKey=vy.prototype.O,gy.prototype.getAttributions=gy.prototype.za,gy.prototype.getLogo=gy.prototype.ya,gy.prototype.getProjection=gy.prototype.Aa,gy.prototype.getState=gy.prototype.W,gy.prototype.refresh=gy.prototype.wa,gy.prototype.setAttributions=gy.prototype.ua,gy.prototype.get=gy.prototype.get,gy.prototype.getKeys=gy.prototype.S,gy.prototype.getProperties=gy.prototype.R,gy.prototype.set=gy.prototype.set,gy.prototype.setProperties=gy.prototype.I,gy.prototype.unset=gy.prototype.T,gy.prototype.changed=gy.prototype.s,gy.prototype.dispatchEvent=gy.prototype.b,gy.prototype.getRevision=gy.prototype.M,gy.prototype.on=gy.prototype.J,gy.prototype.once=gy.prototype.N,gy.prototype.un=gy.prototype.K,gy.prototype.unByKey=gy.prototype.O,wy.prototype.type=wy.prototype.type,wy.prototype.target=wy.prototype.target,wy.prototype.preventDefault=wy.prototype.preventDefault,wy.prototype.stopPropagation=wy.prototype.stopPropagation,Ty.prototype.setRenderReprojectionEdges=Ty.prototype.Hb,Ty.prototype.setTileGridForProjection=Ty.prototype.Ib,Ty.prototype.getTileLoadFunction=Ty.prototype.ib,Ty.prototype.getTileUrlFunction=Ty.prototype.kb,Ty.prototype.getUrls=Ty.prototype.lb,Ty.prototype.setTileLoadFunction=Ty.prototype.sb,Ty.prototype.setTileUrlFunction=Ty.prototype.Xa,Ty.prototype.setUrl=Ty.prototype.cb,Ty.prototype.setUrls=Ty.prototype.Ya,Ty.prototype.getTileGrid=Ty.prototype.Va,Ty.prototype.refresh=Ty.prototype.wa,Ty.prototype.getAttributions=Ty.prototype.za,Ty.prototype.getLogo=Ty.prototype.ya,Ty.prototype.getProjection=Ty.prototype.Aa,Ty.prototype.getState=Ty.prototype.W,Ty.prototype.setAttributions=Ty.prototype.ua,Ty.prototype.get=Ty.prototype.get,Ty.prototype.getKeys=Ty.prototype.S,Ty.prototype.getProperties=Ty.prototype.R,Ty.prototype.set=Ty.prototype.set,Ty.prototype.setProperties=Ty.prototype.I,Ty.prototype.unset=Ty.prototype.T,Ty.prototype.changed=Ty.prototype.s,Ty.prototype.dispatchEvent=Ty.prototype.b,Ty.prototype.getRevision=Ty.prototype.M,Ty.prototype.on=Ty.prototype.J,Ty.prototype.once=Ty.prototype.N,Ty.prototype.un=Ty.prototype.K,Ty.prototype.unByKey=Ty.prototype.O,Zd.prototype.type=Zd.prototype.type,Zd.prototype.target=Zd.prototype.target,Zd.prototype.preventDefault=Zd.prototype.preventDefault,Zd.prototype.stopPropagation=Zd.prototype.stopPropagation,My.prototype.setRenderReprojectionEdges=My.prototype.Hb,My.prototype.setTileGridForProjection=My.prototype.Ib,My.prototype.getTileLoadFunction=My.prototype.ib,My.prototype.getTileUrlFunction=My.prototype.kb,My.prototype.getUrls=My.prototype.lb,My.prototype.setTileLoadFunction=My.prototype.sb,My.prototype.setTileUrlFunction=My.prototype.Xa,My.prototype.setUrl=My.prototype.cb,My.prototype.setUrls=My.prototype.Ya,My.prototype.getTileGrid=My.prototype.Va,My.prototype.refresh=My.prototype.wa,My.prototype.getAttributions=My.prototype.za,My.prototype.getLogo=My.prototype.ya,My.prototype.getProjection=My.prototype.Aa,My.prototype.getState=My.prototype.W,My.prototype.setAttributions=My.prototype.ua,My.prototype.get=My.prototype.get,My.prototype.getKeys=My.prototype.S,My.prototype.getProperties=My.prototype.R,My.prototype.set=My.prototype.set,My.prototype.setProperties=My.prototype.I,My.prototype.unset=My.prototype.T,My.prototype.changed=My.prototype.s,My.prototype.dispatchEvent=My.prototype.b,My.prototype.getRevision=My.prototype.M,My.prototype.on=My.prototype.J,My.prototype.once=My.prototype.N,My.prototype.un=My.prototype.K,My.prototype.unByKey=My.prototype.O,Ey.prototype.getTileGrid=Ey.prototype.Va,Ey.prototype.refresh=Ey.prototype.wa,Ey.prototype.getAttributions=Ey.prototype.za,Ey.prototype.getLogo=Ey.prototype.ya,Ey.prototype.getProjection=Ey.prototype.Aa,Ey.prototype.getState=Ey.prototype.W,Ey.prototype.setAttributions=Ey.prototype.ua,Ey.prototype.get=Ey.prototype.get,Ey.prototype.getKeys=Ey.prototype.S,Ey.prototype.getProperties=Ey.prototype.R,Ey.prototype.set=Ey.prototype.set,Ey.prototype.setProperties=Ey.prototype.I,Ey.prototype.unset=Ey.prototype.T,Ey.prototype.changed=Ey.prototype.s,Ey.prototype.dispatchEvent=Ey.prototype.b,Ey.prototype.getRevision=Ey.prototype.M,Ey.prototype.on=Ey.prototype.J,Ey.prototype.once=Ey.prototype.N,Ey.prototype.un=Ey.prototype.K,Ey.prototype.unByKey=Ey.prototype.O,Cy.prototype.setRenderReprojectionEdges=Cy.prototype.Hb,Cy.prototype.setTileGridForProjection=Cy.prototype.Ib,Cy.prototype.getTileLoadFunction=Cy.prototype.ib,Cy.prototype.getTileUrlFunction=Cy.prototype.kb,Cy.prototype.getUrls=Cy.prototype.lb,Cy.prototype.setTileLoadFunction=Cy.prototype.sb,Cy.prototype.setTileUrlFunction=Cy.prototype.Xa,Cy.prototype.setUrl=Cy.prototype.cb,Cy.prototype.setUrls=Cy.prototype.Ya,Cy.prototype.getTileGrid=Cy.prototype.Va,Cy.prototype.refresh=Cy.prototype.wa,Cy.prototype.getAttributions=Cy.prototype.za,Cy.prototype.getLogo=Cy.prototype.ya,Cy.prototype.getProjection=Cy.prototype.Aa,Cy.prototype.getState=Cy.prototype.W,Cy.prototype.setAttributions=Cy.prototype.ua,Cy.prototype.get=Cy.prototype.get,Cy.prototype.getKeys=Cy.prototype.S,Cy.prototype.getProperties=Cy.prototype.R,Cy.prototype.set=Cy.prototype.set,Cy.prototype.setProperties=Cy.prototype.I,Cy.prototype.unset=Cy.prototype.T,Cy.prototype.changed=Cy.prototype.s,Cy.prototype.dispatchEvent=Cy.prototype.b,Cy.prototype.getRevision=Cy.prototype.M,Cy.prototype.on=Cy.prototype.J,Cy.prototype.once=Cy.prototype.N,Cy.prototype.un=Cy.prototype.K,Cy.prototype.unByKey=Cy.prototype.O,Ay.prototype.getTileGrid=Ay.prototype.Va,Ay.prototype.refresh=Ay.prototype.wa,Ay.prototype.getAttributions=Ay.prototype.za,Ay.prototype.getLogo=Ay.prototype.ya,Ay.prototype.getProjection=Ay.prototype.Aa,Ay.prototype.getState=Ay.prototype.W,Ay.prototype.setAttributions=Ay.prototype.ua,Ay.prototype.get=Ay.prototype.get,Ay.prototype.getKeys=Ay.prototype.S,Ay.prototype.getProperties=Ay.prototype.R,Ay.prototype.set=Ay.prototype.set,Ay.prototype.setProperties=Ay.prototype.I,Ay.prototype.unset=Ay.prototype.T,Ay.prototype.changed=Ay.prototype.s,Ay.prototype.dispatchEvent=Ay.prototype.b,Ay.prototype.getRevision=Ay.prototype.M,Ay.prototype.on=Ay.prototype.J,Ay.prototype.once=Ay.prototype.N,Ay.prototype.un=Ay.prototype.K,Ay.prototype.unByKey=Ay.prototype.O,Oy.prototype.setRenderReprojectionEdges=Oy.prototype.Hb,Oy.prototype.setTileGridForProjection=Oy.prototype.Ib,Oy.prototype.getTileLoadFunction=Oy.prototype.ib,Oy.prototype.getTileUrlFunction=Oy.prototype.kb,Oy.prototype.getUrls=Oy.prototype.lb,Oy.prototype.setTileLoadFunction=Oy.prototype.sb,Oy.prototype.setTileUrlFunction=Oy.prototype.Xa,Oy.prototype.setUrl=Oy.prototype.cb,Oy.prototype.setUrls=Oy.prototype.Ya,Oy.prototype.getTileGrid=Oy.prototype.Va,Oy.prototype.refresh=Oy.prototype.wa,Oy.prototype.getAttributions=Oy.prototype.za,Oy.prototype.getLogo=Oy.prototype.ya,Oy.prototype.getProjection=Oy.prototype.Aa,Oy.prototype.getState=Oy.prototype.W,Oy.prototype.setAttributions=Oy.prototype.ua,Oy.prototype.get=Oy.prototype.get,Oy.prototype.getKeys=Oy.prototype.S,Oy.prototype.getProperties=Oy.prototype.R,Oy.prototype.set=Oy.prototype.set,Oy.prototype.setProperties=Oy.prototype.I,Oy.prototype.unset=Oy.prototype.T,Oy.prototype.changed=Oy.prototype.s,Oy.prototype.dispatchEvent=Oy.prototype.b,Oy.prototype.getRevision=Oy.prototype.M,Oy.prototype.on=Oy.prototype.J,Oy.prototype.once=Oy.prototype.N,Oy.prototype.un=Oy.prototype.K,Oy.prototype.unByKey=Oy.prototype.O;Rh.prototype.type=Rh.prototype.type;return Rh.prototype.target=Rh.prototype.target,Rh.prototype.preventDefault=Rh.prototype.preventDefault,Rh.prototype.stopPropagation=Rh.prototype.stopPropagation,By.prototype.getTileLoadFunction=By.prototype.ib,By.prototype.getTileUrlFunction=By.prototype.kb,By.prototype.getUrls=By.prototype.lb,By.prototype.setTileLoadFunction=By.prototype.sb,By.prototype.setTileUrlFunction=By.prototype.Xa,By.prototype.setUrl=By.prototype.cb,By.prototype.setUrls=By.prototype.Ya,By.prototype.getTileGrid=By.prototype.Va,By.prototype.refresh=By.prototype.wa,By.prototype.getAttributions=By.prototype.za,By.prototype.getLogo=By.prototype.ya,By.prototype.getProjection=By.prototype.Aa,By.prototype.getState=By.prototype.W,By.prototype.setAttributions=By.prototype.ua,By.prototype.get=By.prototype.get,By.prototype.getKeys=By.prototype.S,By.prototype.getProperties=By.prototype.R,By.prototype.set=By.prototype.set,By.prototype.setProperties=By.prototype.I,By.prototype.unset=By.prototype.T,By.prototype.changed=By.prototype.s,By.prototype.dispatchEvent=By.prototype.b,By.prototype.getRevision=By.prototype.M,By.prototype.on=By.prototype.J,By.prototype.once=By.prototype.N,By.prototype.un=By.prototype.K,By.prototype.unByKey=By.prototype.O,Hy.prototype.setRenderReprojectionEdges=Hy.prototype.Hb,Hy.prototype.setTileGridForProjection=Hy.prototype.Ib,Hy.prototype.getTileLoadFunction=Hy.prototype.ib,Hy.prototype.getTileUrlFunction=Hy.prototype.kb,Hy.prototype.getUrls=Hy.prototype.lb,Hy.prototype.setTileLoadFunction=Hy.prototype.sb,Hy.prototype.setTileUrlFunction=Hy.prototype.Xa,Hy.prototype.setUrl=Hy.prototype.cb,Hy.prototype.setUrls=Hy.prototype.Ya,Hy.prototype.getTileGrid=Hy.prototype.Va,Hy.prototype.refresh=Hy.prototype.wa,Hy.prototype.getAttributions=Hy.prototype.za,Hy.prototype.getLogo=Hy.prototype.ya,Hy.prototype.getProjection=Hy.prototype.Aa,Hy.prototype.getState=Hy.prototype.W,Hy.prototype.setAttributions=Hy.prototype.ua,Hy.prototype.get=Hy.prototype.get,Hy.prototype.getKeys=Hy.prototype.S,Hy.prototype.getProperties=Hy.prototype.R,Hy.prototype.set=Hy.prototype.set,Hy.prototype.setProperties=Hy.prototype.I,Hy.prototype.unset=Hy.prototype.T,Hy.prototype.changed=Hy.prototype.s,Hy.prototype.dispatchEvent=Hy.prototype.b,Hy.prototype.getRevision=Hy.prototype.M,Hy.prototype.on=Hy.prototype.J,Hy.prototype.once=Hy.prototype.N,Hy.prototype.un=Hy.prototype.K,Hy.prototype.unByKey=Hy.prototype.O,qy.prototype.setRenderReprojectionEdges=qy.prototype.Hb,qy.prototype.setTileGridForProjection=qy.prototype.Ib,qy.prototype.getTileLoadFunction=qy.prototype.ib,qy.prototype.getTileUrlFunction=qy.prototype.kb,qy.prototype.getUrls=qy.prototype.lb,qy.prototype.setTileLoadFunction=qy.prototype.sb,qy.prototype.setTileUrlFunction=qy.prototype.Xa,qy.prototype.setUrl=qy.prototype.cb,qy.prototype.setUrls=qy.prototype.Ya,qy.prototype.getTileGrid=qy.prototype.Va,qy.prototype.refresh=qy.prototype.wa,qy.prototype.getAttributions=qy.prototype.za,qy.prototype.getLogo=qy.prototype.ya,qy.prototype.getProjection=qy.prototype.Aa,qy.prototype.getState=qy.prototype.W,qy.prototype.setAttributions=qy.prototype.ua,qy.prototype.get=qy.prototype.get,qy.prototype.getKeys=qy.prototype.S,qy.prototype.getProperties=qy.prototype.R,qy.prototype.set=qy.prototype.set,qy.prototype.setProperties=qy.prototype.I,qy.prototype.unset=qy.prototype.T,qy.prototype.changed=qy.prototype.s,qy.prototype.dispatchEvent=qy.prototype.b,qy.prototype.getRevision=qy.prototype.M,qy.prototype.on=qy.prototype.J,qy.prototype.once=qy.prototype.N,qy.prototype.un=qy.prototype.K,qy.prototype.unByKey=qy.prototype.O,Fd.prototype.getTileCoord=Fd.prototype.c,Fd.prototype.load=Fd.prototype.load,$i.prototype.changed=$i.prototype.s,$i.prototype.dispatchEvent=$i.prototype.b,$i.prototype.getRevision=$i.prototype.M,$i.prototype.on=$i.prototype.J,$i.prototype.once=$i.prototype.N,$i.prototype.un=$i.prototype.K,$i.prototype.unByKey=$i.prototype.O,bl.prototype.changed=bl.prototype.s,bl.prototype.dispatchEvent=bl.prototype.b,bl.prototype.getRevision=bl.prototype.M,bl.prototype.on=bl.prototype.J,bl.prototype.once=bl.prototype.N,bl.prototype.un=bl.prototype.K,bl.prototype.unByKey=bl.prototype.O,Bl.prototype.changed=Bl.prototype.s,Bl.prototype.dispatchEvent=Bl.prototype.b,Bl.prototype.getRevision=Bl.prototype.M,Bl.prototype.on=Bl.prototype.J,Bl.prototype.once=Bl.prototype.N,Bl.prototype.un=Bl.prototype.K,Bl.prototype.unByKey=Bl.prototype.O,Gl.prototype.changed=Gl.prototype.s,Gl.prototype.dispatchEvent=Gl.prototype.b,Gl.prototype.getRevision=Gl.prototype.M,Gl.prototype.on=Gl.prototype.J,Gl.prototype.once=Gl.prototype.N,Gl.prototype.un=Gl.prototype.K,
Gl.prototype.unByKey=Gl.prototype.O,Yl.prototype.changed=Yl.prototype.s,Yl.prototype.dispatchEvent=Yl.prototype.b,Yl.prototype.getRevision=Yl.prototype.M,Yl.prototype.on=Yl.prototype.J,Yl.prototype.once=Yl.prototype.N,Yl.prototype.un=Yl.prototype.K,Yl.prototype.unByKey=Yl.prototype.O,aa.prototype.changed=aa.prototype.s,aa.prototype.dispatchEvent=aa.prototype.b,aa.prototype.getRevision=aa.prototype.M,aa.prototype.on=aa.prototype.J,aa.prototype.once=aa.prototype.N,aa.prototype.un=aa.prototype.K,aa.prototype.unByKey=aa.prototype.O,ca.prototype.changed=ca.prototype.s,ca.prototype.dispatchEvent=ca.prototype.b,ca.prototype.getRevision=ca.prototype.M,ca.prototype.on=ca.prototype.J,ca.prototype.once=ca.prototype.N,ca.prototype.un=ca.prototype.K,ca.prototype.unByKey=ca.prototype.O,pa.prototype.changed=pa.prototype.s,pa.prototype.dispatchEvent=pa.prototype.b,pa.prototype.getRevision=pa.prototype.M,pa.prototype.on=pa.prototype.J,pa.prototype.once=pa.prototype.N,pa.prototype.un=pa.prototype.K,pa.prototype.unByKey=pa.prototype.O,fa.prototype.changed=fa.prototype.s,fa.prototype.dispatchEvent=fa.prototype.b,fa.prototype.getRevision=fa.prototype.M,fa.prototype.on=fa.prototype.J,fa.prototype.once=fa.prototype.N,fa.prototype.un=fa.prototype.K,fa.prototype.unByKey=fa.prototype.O,za.prototype.changed=za.prototype.s,za.prototype.dispatchEvent=za.prototype.b,za.prototype.getRevision=za.prototype.M,za.prototype.on=za.prototype.J,za.prototype.once=za.prototype.N,za.prototype.un=za.prototype.K,za.prototype.unByKey=za.prototype.O,Ba.prototype.changed=Ba.prototype.s,Ba.prototype.dispatchEvent=Ba.prototype.b,Ba.prototype.getRevision=Ba.prototype.M,Ba.prototype.on=Ba.prototype.J,Ba.prototype.once=Ba.prototype.N,Ba.prototype.un=Ba.prototype.K,Ba.prototype.unByKey=Ba.prototype.O,ii.prototype.type=ii.prototype.type,ii.prototype.target=ii.prototype.target,ii.prototype.preventDefault=ii.prototype.preventDefault,ii.prototype.stopPropagation=ii.prototype.stopPropagation,Tn.prototype.type=Tn.prototype.type,Tn.prototype.target=Tn.prototype.target,Tn.prototype.preventDefault=Tn.prototype.preventDefault,Tn.prototype.stopPropagation=Tn.prototype.stopPropagation,Jo.prototype.get=Jo.prototype.get,Jo.prototype.getKeys=Jo.prototype.S,Jo.prototype.getProperties=Jo.prototype.R,Jo.prototype.set=Jo.prototype.set,Jo.prototype.setProperties=Jo.prototype.I,Jo.prototype.unset=Jo.prototype.T,Jo.prototype.changed=Jo.prototype.s,Jo.prototype.dispatchEvent=Jo.prototype.b,Jo.prototype.getRevision=Jo.prototype.M,Jo.prototype.on=Jo.prototype.J,Jo.prototype.once=Jo.prototype.N,Jo.prototype.un=Jo.prototype.K,Jo.prototype.unByKey=Jo.prototype.O,Qo.prototype.getExtent=Qo.prototype.G,Qo.prototype.getMaxResolution=Qo.prototype.Wb,Qo.prototype.getMinResolution=Qo.prototype.Xb,Qo.prototype.getOpacity=Qo.prototype.Yb,Qo.prototype.getVisible=Qo.prototype.Fb,Qo.prototype.getZIndex=Qo.prototype.Zb,Qo.prototype.setExtent=Qo.prototype.kc,Qo.prototype.setMaxResolution=Qo.prototype.pc,Qo.prototype.setMinResolution=Qo.prototype.qc,Qo.prototype.setOpacity=Qo.prototype.lc,Qo.prototype.setVisible=Qo.prototype.mc,Qo.prototype.setZIndex=Qo.prototype.nc,Qo.prototype.get=Qo.prototype.get,Qo.prototype.getKeys=Qo.prototype.S,Qo.prototype.getProperties=Qo.prototype.R,Qo.prototype.set=Qo.prototype.set,Qo.prototype.setProperties=Qo.prototype.I,Qo.prototype.unset=Qo.prototype.T,Qo.prototype.changed=Qo.prototype.s,Qo.prototype.dispatchEvent=Qo.prototype.b,Qo.prototype.getRevision=Qo.prototype.M,Qo.prototype.on=Qo.prototype.J,Qo.prototype.once=Qo.prototype.N,Qo.prototype.un=Qo.prototype.K,Qo.prototype.unByKey=Qo.prototype.O,ai.prototype.getExtent=ai.prototype.G,ai.prototype.getMaxResolution=ai.prototype.Wb,ai.prototype.getMinResolution=ai.prototype.Xb,ai.prototype.getOpacity=ai.prototype.Yb,ai.prototype.getVisible=ai.prototype.Fb,ai.prototype.getZIndex=ai.prototype.Zb,ai.prototype.setExtent=ai.prototype.kc,ai.prototype.setMaxResolution=ai.prototype.pc,ai.prototype.setMinResolution=ai.prototype.qc,ai.prototype.setOpacity=ai.prototype.lc,ai.prototype.setVisible=ai.prototype.mc,ai.prototype.setZIndex=ai.prototype.nc,ai.prototype.get=ai.prototype.get,ai.prototype.getKeys=ai.prototype.S,ai.prototype.getProperties=ai.prototype.R,ai.prototype.set=ai.prototype.set,ai.prototype.setProperties=ai.prototype.I,ai.prototype.unset=ai.prototype.T,ai.prototype.changed=ai.prototype.s,ai.prototype.dispatchEvent=ai.prototype.b,ai.prototype.getRevision=ai.prototype.M,ai.prototype.on=ai.prototype.J,ai.prototype.once=ai.prototype.N,ai.prototype.un=ai.prototype.K,ai.prototype.unByKey=ai.prototype.O,Vi.prototype.setMap=Vi.prototype.setMap,Vi.prototype.setSource=Vi.prototype.Pc,Vi.prototype.getExtent=Vi.prototype.G,Vi.prototype.getMaxResolution=Vi.prototype.Wb,Vi.prototype.getMinResolution=Vi.prototype.Xb,Vi.prototype.getOpacity=Vi.prototype.Yb,Vi.prototype.getVisible=Vi.prototype.Fb,Vi.prototype.getZIndex=Vi.prototype.Zb,Vi.prototype.setExtent=Vi.prototype.kc,Vi.prototype.setMaxResolution=Vi.prototype.pc,Vi.prototype.setMinResolution=Vi.prototype.qc,Vi.prototype.setOpacity=Vi.prototype.lc,Vi.prototype.setVisible=Vi.prototype.mc,Vi.prototype.setZIndex=Vi.prototype.nc,Vi.prototype.get=Vi.prototype.get,Vi.prototype.getKeys=Vi.prototype.S,Vi.prototype.getProperties=Vi.prototype.R,Vi.prototype.set=Vi.prototype.set,Vi.prototype.setProperties=Vi.prototype.I,Vi.prototype.unset=Vi.prototype.T,Vi.prototype.changed=Vi.prototype.s,Vi.prototype.dispatchEvent=Vi.prototype.b,Vi.prototype.getRevision=Vi.prototype.M,Vi.prototype.on=Vi.prototype.J,Vi.prototype.once=Vi.prototype.N,Vi.prototype.un=Vi.prototype.K,Vi.prototype.unByKey=Vi.prototype.O,Nd.prototype.getSource=Nd.prototype.la,Nd.prototype.getStyle=Nd.prototype.D,Nd.prototype.getStyleFunction=Nd.prototype.L,Nd.prototype.setStyle=Nd.prototype.l,Nd.prototype.setMap=Nd.prototype.setMap,Nd.prototype.setSource=Nd.prototype.Pc,Nd.prototype.getExtent=Nd.prototype.G,Nd.prototype.getMaxResolution=Nd.prototype.Wb,Nd.prototype.getMinResolution=Nd.prototype.Xb,Nd.prototype.getOpacity=Nd.prototype.Yb,Nd.prototype.getVisible=Nd.prototype.Fb,Nd.prototype.getZIndex=Nd.prototype.Zb,Nd.prototype.setExtent=Nd.prototype.kc,Nd.prototype.setMaxResolution=Nd.prototype.pc,Nd.prototype.setMinResolution=Nd.prototype.qc,Nd.prototype.setOpacity=Nd.prototype.lc,Nd.prototype.setVisible=Nd.prototype.mc,Nd.prototype.setZIndex=Nd.prototype.nc,Nd.prototype.get=Nd.prototype.get,Nd.prototype.getKeys=Nd.prototype.S,Nd.prototype.getProperties=Nd.prototype.R,Nd.prototype.set=Nd.prototype.set,Nd.prototype.setProperties=Nd.prototype.I,Nd.prototype.unset=Nd.prototype.T,Nd.prototype.changed=Nd.prototype.s,Nd.prototype.dispatchEvent=Nd.prototype.b,Nd.prototype.getRevision=Nd.prototype.M,Nd.prototype.on=Nd.prototype.J,Nd.prototype.once=Nd.prototype.N,Nd.prototype.un=Nd.prototype.K,Nd.prototype.unByKey=Nd.prototype.O,Ei.prototype.setMap=Ei.prototype.setMap,Ei.prototype.setSource=Ei.prototype.Pc,Ei.prototype.getExtent=Ei.prototype.G,Ei.prototype.getMaxResolution=Ei.prototype.Wb,Ei.prototype.getMinResolution=Ei.prototype.Xb,Ei.prototype.getOpacity=Ei.prototype.Yb,Ei.prototype.getVisible=Ei.prototype.Fb,Ei.prototype.getZIndex=Ei.prototype.Zb,Ei.prototype.setExtent=Ei.prototype.kc,Ei.prototype.setMaxResolution=Ei.prototype.pc,Ei.prototype.setMinResolution=Ei.prototype.qc,Ei.prototype.setOpacity=Ei.prototype.lc,Ei.prototype.setVisible=Ei.prototype.mc,Ei.prototype.setZIndex=Ei.prototype.nc,Ei.prototype.get=Ei.prototype.get,Ei.prototype.getKeys=Ei.prototype.S,Ei.prototype.getProperties=Ei.prototype.R,Ei.prototype.set=Ei.prototype.set,Ei.prototype.setProperties=Ei.prototype.I,Ei.prototype.unset=Ei.prototype.T,Ei.prototype.changed=Ei.prototype.s,Ei.prototype.dispatchEvent=Ei.prototype.b,Ei.prototype.getRevision=Ei.prototype.M,Ei.prototype.on=Ei.prototype.J,Ei.prototype.once=Ei.prototype.N,Ei.prototype.un=Ei.prototype.K,Ei.prototype.unByKey=Ei.prototype.O,ki.prototype.setMap=ki.prototype.setMap,ki.prototype.setSource=ki.prototype.Pc,ki.prototype.getExtent=ki.prototype.G,ki.prototype.getMaxResolution=ki.prototype.Wb,ki.prototype.getMinResolution=ki.prototype.Xb,ki.prototype.getOpacity=ki.prototype.Yb,ki.prototype.getVisible=ki.prototype.Fb,ki.prototype.getZIndex=ki.prototype.Zb,ki.prototype.setExtent=ki.prototype.kc,ki.prototype.setMaxResolution=ki.prototype.pc,ki.prototype.setMinResolution=ki.prototype.qc,ki.prototype.setOpacity=ki.prototype.lc,ki.prototype.setVisible=ki.prototype.mc,ki.prototype.setZIndex=ki.prototype.nc,ki.prototype.get=ki.prototype.get,ki.prototype.getKeys=ki.prototype.S,ki.prototype.getProperties=ki.prototype.R,ki.prototype.set=ki.prototype.set,ki.prototype.setProperties=ki.prototype.I,ki.prototype.unset=ki.prototype.T,ki.prototype.changed=ki.prototype.s,ki.prototype.dispatchEvent=ki.prototype.b,ki.prototype.getRevision=ki.prototype.M,ki.prototype.on=ki.prototype.J,ki.prototype.once=ki.prototype.N,ki.prototype.un=ki.prototype.K,ki.prototype.unByKey=ki.prototype.O,Hi.prototype.getSource=Hi.prototype.la,Hi.prototype.getStyle=Hi.prototype.D,Hi.prototype.getStyleFunction=Hi.prototype.L,Hi.prototype.setStyle=Hi.prototype.l,Hi.prototype.setMap=Hi.prototype.setMap,Hi.prototype.setSource=Hi.prototype.Pc,Hi.prototype.getExtent=Hi.prototype.G,Hi.prototype.getMaxResolution=Hi.prototype.Wb,Hi.prototype.getMinResolution=Hi.prototype.Xb,Hi.prototype.getOpacity=Hi.prototype.Yb,Hi.prototype.getVisible=Hi.prototype.Fb,Hi.prototype.getZIndex=Hi.prototype.Zb,Hi.prototype.setExtent=Hi.prototype.kc,Hi.prototype.setMaxResolution=Hi.prototype.pc,Hi.prototype.setMinResolution=Hi.prototype.qc,Hi.prototype.setOpacity=Hi.prototype.lc,Hi.prototype.setVisible=Hi.prototype.mc,Hi.prototype.setZIndex=Hi.prototype.nc,Hi.prototype.get=Hi.prototype.get,Hi.prototype.getKeys=Hi.prototype.S,Hi.prototype.getProperties=Hi.prototype.R,Hi.prototype.set=Hi.prototype.set,Hi.prototype.setProperties=Hi.prototype.I,Hi.prototype.unset=Hi.prototype.T,Hi.prototype.changed=Hi.prototype.s,Hi.prototype.dispatchEvent=Hi.prototype.b,Hi.prototype.getRevision=Hi.prototype.M,Hi.prototype.on=Hi.prototype.J,Hi.prototype.once=Hi.prototype.N,Hi.prototype.un=Hi.prototype.K,Hi.prototype.unByKey=Hi.prototype.O,Qn.prototype.get=Qn.prototype.get,Qn.prototype.getKeys=Qn.prototype.S,Qn.prototype.getProperties=Qn.prototype.R,Qn.prototype.set=Qn.prototype.set,Qn.prototype.setProperties=Qn.prototype.I,Qn.prototype.unset=Qn.prototype.T,Qn.prototype.changed=Qn.prototype.s,Qn.prototype.dispatchEvent=Qn.prototype.b,Qn.prototype.getRevision=Qn.prototype.M,Qn.prototype.on=Qn.prototype.J,Qn.prototype.once=Qn.prototype.N,Qn.prototype.un=Qn.prototype.K,Qn.prototype.unByKey=Qn.prototype.O,no.prototype.getActive=no.prototype.f,no.prototype.getMap=no.prototype.c,no.prototype.setActive=no.prototype.Ea,no.prototype.get=no.prototype.get,no.prototype.getKeys=no.prototype.S,no.prototype.getProperties=no.prototype.R,no.prototype.set=no.prototype.set,no.prototype.setProperties=no.prototype.I,no.prototype.unset=no.prototype.T,no.prototype.changed=no.prototype.s,no.prototype.dispatchEvent=no.prototype.b,no.prototype.getRevision=no.prototype.M,no.prototype.on=no.prototype.J,no.prototype.once=no.prototype.N,no.prototype.un=no.prototype.K,no.prototype.unByKey=no.prototype.O,bh.prototype.getActive=bh.prototype.f,bh.prototype.getMap=bh.prototype.c,bh.prototype.setActive=bh.prototype.Ea,bh.prototype.get=bh.prototype.get,bh.prototype.getKeys=bh.prototype.S,bh.prototype.getProperties=bh.prototype.R,bh.prototype.set=bh.prototype.set,bh.prototype.setProperties=bh.prototype.I,bh.prototype.unset=bh.prototype.T,bh.prototype.changed=bh.prototype.s,bh.prototype.dispatchEvent=bh.prototype.b,bh.prototype.getRevision=bh.prototype.M,bh.prototype.on=bh.prototype.J,bh.prototype.once=bh.prototype.N,bh.prototype.un=bh.prototype.K,bh.prototype.unByKey=bh.prototype.O,wh.prototype.type=wh.prototype.type,wh.prototype.target=wh.prototype.target,wh.prototype.preventDefault=wh.prototype.preventDefault,wh.prototype.stopPropagation=wh.prototype.stopPropagation,yo.prototype.getActive=yo.prototype.f,yo.prototype.getMap=yo.prototype.c,yo.prototype.setActive=yo.prototype.Ea,yo.prototype.get=yo.prototype.get,yo.prototype.getKeys=yo.prototype.S,yo.prototype.getProperties=yo.prototype.R,yo.prototype.set=yo.prototype.set,yo.prototype.setProperties=yo.prototype.I,yo.prototype.unset=yo.prototype.T,yo.prototype.changed=yo.prototype.s,yo.prototype.dispatchEvent=yo.prototype.b,yo.prototype.getRevision=yo.prototype.M,yo.prototype.on=yo.prototype.J,yo.prototype.once=yo.prototype.N,yo.prototype.un=yo.prototype.K,yo.prototype.unByKey=yo.prototype.O,Ao.prototype.getActive=Ao.prototype.f,Ao.prototype.getMap=Ao.prototype.c,Ao.prototype.setActive=Ao.prototype.Ea,Ao.prototype.get=Ao.prototype.get,Ao.prototype.getKeys=Ao.prototype.S,Ao.prototype.getProperties=Ao.prototype.R,Ao.prototype.set=Ao.prototype.set,Ao.prototype.setProperties=Ao.prototype.I,Ao.prototype.unset=Ao.prototype.T,Ao.prototype.changed=Ao.prototype.s,Ao.prototype.dispatchEvent=Ao.prototype.b,Ao.prototype.getRevision=Ao.prototype.M,Ao.prototype.on=Ao.prototype.J,Ao.prototype.once=Ao.prototype.N,Ao.prototype.un=Ao.prototype.K,Ao.prototype.unByKey=Ao.prototype.O,Io.prototype.type=Io.prototype.type,Io.prototype.target=Io.prototype.target,Io.prototype.preventDefault=Io.prototype.preventDefault,Io.prototype.stopPropagation=Io.prototype.stopPropagation,go.prototype.getActive=go.prototype.f,go.prototype.getMap=go.prototype.c,go.prototype.setActive=go.prototype.Ea,go.prototype.get=go.prototype.get,go.prototype.getKeys=go.prototype.S,go.prototype.getProperties=go.prototype.R,go.prototype.set=go.prototype.set,go.prototype.setProperties=go.prototype.I,go.prototype.unset=go.prototype.T,go.prototype.changed=go.prototype.s,go.prototype.dispatchEvent=go.prototype.b,go.prototype.getRevision=go.prototype.M,go.prototype.on=go.prototype.J,go.prototype.once=go.prototype.N,go.prototype.un=go.prototype.K,go.prototype.unByKey=go.prototype.O,wo.prototype.getActive=wo.prototype.f,wo.prototype.getMap=wo.prototype.c,wo.prototype.setActive=wo.prototype.Ea,wo.prototype.get=wo.prototype.get,wo.prototype.getKeys=wo.prototype.S,wo.prototype.getProperties=wo.prototype.R,wo.prototype.set=wo.prototype.set,wo.prototype.setProperties=wo.prototype.I,wo.prototype.unset=wo.prototype.T,wo.prototype.changed=wo.prototype.s,wo.prototype.dispatchEvent=wo.prototype.b,wo.prototype.getRevision=wo.prototype.M,wo.prototype.on=wo.prototype.J,wo.prototype.once=wo.prototype.N,wo.prototype.un=wo.prototype.K,wo.prototype.unByKey=wo.prototype.O,Th.prototype.getActive=Th.prototype.f,Th.prototype.getMap=Th.prototype.c,Th.prototype.setActive=Th.prototype.Ea,Th.prototype.get=Th.prototype.get,Th.prototype.getKeys=Th.prototype.S,Th.prototype.getProperties=Th.prototype.R,Th.prototype.set=Th.prototype.set,Th.prototype.setProperties=Th.prototype.I,Th.prototype.unset=Th.prototype.T,Th.prototype.changed=Th.prototype.s,Th.prototype.dispatchEvent=Th.prototype.b,Th.prototype.getRevision=Th.prototype.M,Th.prototype.on=Th.prototype.J,Th.prototype.once=Th.prototype.N,Th.prototype.un=Th.prototype.K,Th.prototype.unByKey=Th.prototype.O,Ro.prototype.getGeometry=Ro.prototype.V,Ro.prototype.getActive=Ro.prototype.f,Ro.prototype.getMap=Ro.prototype.c,Ro.prototype.setActive=Ro.prototype.Ea,Ro.prototype.get=Ro.prototype.get,Ro.prototype.getKeys=Ro.prototype.S,Ro.prototype.getProperties=Ro.prototype.R,Ro.prototype.set=Ro.prototype.set,Ro.prototype.setProperties=Ro.prototype.I,Ro.prototype.unset=Ro.prototype.T,Ro.prototype.changed=Ro.prototype.s,Ro.prototype.dispatchEvent=Ro.prototype.b,Ro.prototype.getRevision=Ro.prototype.M,Ro.prototype.on=Ro.prototype.J,Ro.prototype.once=Ro.prototype.N,Ro.prototype.un=Ro.prototype.K,Ro.prototype.unByKey=Ro.prototype.O,Nh.prototype.getActive=Nh.prototype.f,Nh.prototype.getMap=Nh.prototype.c,Nh.prototype.setActive=Nh.prototype.Ea,Nh.prototype.get=Nh.prototype.get,Nh.prototype.getKeys=Nh.prototype.S,Nh.prototype.getProperties=Nh.prototype.R,Nh.prototype.set=Nh.prototype.set,Nh.prototype.setProperties=Nh.prototype.I,Nh.prototype.unset=Nh.prototype.T,Nh.prototype.changed=Nh.prototype.s,Nh.prototype.dispatchEvent=Nh.prototype.b,Nh.prototype.getRevision=Nh.prototype.M,Nh.prototype.on=Nh.prototype.J,Nh.prototype.once=Nh.prototype.N,Nh.prototype.un=Nh.prototype.K,Nh.prototype.unByKey=Nh.prototype.O,Xh.prototype.type=Xh.prototype.type,Xh.prototype.target=Xh.prototype.target,Xh.prototype.preventDefault=Xh.prototype.preventDefault,Xh.prototype.stopPropagation=Xh.prototype.stopPropagation,Kh.prototype.getActive=Kh.prototype.f,Kh.prototype.getMap=Kh.prototype.c,Kh.prototype.setActive=Kh.prototype.Ea,Kh.prototype.get=Kh.prototype.get,Kh.prototype.getKeys=Kh.prototype.S,Kh.prototype.getProperties=Kh.prototype.R,Kh.prototype.set=Kh.prototype.set,Kh.prototype.setProperties=Kh.prototype.I,Kh.prototype.unset=Kh.prototype.T,Kh.prototype.changed=Kh.prototype.s,Kh.prototype.dispatchEvent=Kh.prototype.b,Kh.prototype.getRevision=Kh.prototype.M,Kh.prototype.on=Kh.prototype.J,Kh.prototype.once=Kh.prototype.N,Kh.prototype.un=Kh.prototype.K,Kh.prototype.unByKey=Kh.prototype.O,ad.prototype.type=ad.prototype.type,ad.prototype.target=ad.prototype.target,ad.prototype.preventDefault=ad.prototype.preventDefault,ad.prototype.stopPropagation=ad.prototype.stopPropagation,No.prototype.getActive=No.prototype.f,No.prototype.getMap=No.prototype.c,No.prototype.setActive=No.prototype.Ea,No.prototype.get=No.prototype.get,No.prototype.getKeys=No.prototype.S,No.prototype.getProperties=No.prototype.R,No.prototype.set=No.prototype.set,No.prototype.setProperties=No.prototype.I,No.prototype.unset=No.prototype.T,No.prototype.changed=No.prototype.s,No.prototype.dispatchEvent=No.prototype.b,No.prototype.getRevision=No.prototype.M,No.prototype.on=No.prototype.J,No.prototype.once=No.prototype.N,No.prototype.un=No.prototype.K,No.prototype.unByKey=No.prototype.O,Fo.prototype.getActive=Fo.prototype.f,Fo.prototype.getMap=Fo.prototype.c,Fo.prototype.setActive=Fo.prototype.Ea,Fo.prototype.get=Fo.prototype.get,Fo.prototype.getKeys=Fo.prototype.S,Fo.prototype.getProperties=Fo.prototype.R,Fo.prototype.set=Fo.prototype.set,Fo.prototype.setProperties=Fo.prototype.I,Fo.prototype.unset=Fo.prototype.T,Fo.prototype.changed=Fo.prototype.s,Fo.prototype.dispatchEvent=Fo.prototype.b,Fo.prototype.getRevision=Fo.prototype.M,Fo.prototype.on=Fo.prototype.J,Fo.prototype.once=Fo.prototype.N,Fo.prototype.un=Fo.prototype.K,Fo.prototype.unByKey=Fo.prototype.O,sd.prototype.getActive=sd.prototype.f,sd.prototype.getMap=sd.prototype.c,sd.prototype.setActive=sd.prototype.Ea,sd.prototype.get=sd.prototype.get,sd.prototype.getKeys=sd.prototype.S,sd.prototype.getProperties=sd.prototype.R,sd.prototype.set=sd.prototype.set,sd.prototype.setProperties=sd.prototype.I,sd.prototype.unset=sd.prototype.T,sd.prototype.changed=sd.prototype.s,sd.prototype.dispatchEvent=sd.prototype.b,sd.prototype.getRevision=sd.prototype.M,sd.prototype.on=sd.prototype.J,sd.prototype.once=sd.prototype.N,sd.prototype.un=sd.prototype.K,sd.prototype.unByKey=sd.prototype.O,xd.prototype.type=xd.prototype.type,xd.prototype.target=xd.prototype.target,xd.prototype.preventDefault=xd.prototype.preventDefault,xd.prototype.stopPropagation=xd.prototype.stopPropagation,Bo.prototype.getActive=Bo.prototype.f,Bo.prototype.getMap=Bo.prototype.c,Bo.prototype.setActive=Bo.prototype.Ea,Bo.prototype.get=Bo.prototype.get,Bo.prototype.getKeys=Bo.prototype.S,Bo.prototype.getProperties=Bo.prototype.R,Bo.prototype.set=Bo.prototype.set,Bo.prototype.setProperties=Bo.prototype.I,Bo.prototype.unset=Bo.prototype.T,Bo.prototype.changed=Bo.prototype.s,Bo.prototype.dispatchEvent=Bo.prototype.b,Bo.prototype.getRevision=Bo.prototype.M,Bo.prototype.on=Bo.prototype.J,Bo.prototype.once=Bo.prototype.N,Bo.prototype.un=Bo.prototype.K,Bo.prototype.unByKey=Bo.prototype.O,Vo.prototype.getActive=Vo.prototype.f,Vo.prototype.getMap=Vo.prototype.c,Vo.prototype.setActive=Vo.prototype.Ea,Vo.prototype.get=Vo.prototype.get,Vo.prototype.getKeys=Vo.prototype.S,Vo.prototype.getProperties=Vo.prototype.R,Vo.prototype.set=Vo.prototype.set,Vo.prototype.setProperties=Vo.prototype.I,Vo.prototype.unset=Vo.prototype.T,Vo.prototype.changed=Vo.prototype.s,Vo.prototype.dispatchEvent=Vo.prototype.b,Vo.prototype.getRevision=Vo.prototype.M,Vo.prototype.on=Vo.prototype.J,Vo.prototype.once=Vo.prototype.N,Vo.prototype.un=Vo.prototype.K,Vo.prototype.unByKey=Vo.prototype.O,Go.prototype.getActive=Go.prototype.f,Go.prototype.getMap=Go.prototype.c,Go.prototype.setActive=Go.prototype.Ea,Go.prototype.get=Go.prototype.get,Go.prototype.getKeys=Go.prototype.S,Go.prototype.getProperties=Go.prototype.R,Go.prototype.set=Go.prototype.set,Go.prototype.setProperties=Go.prototype.I,Go.prototype.unset=Go.prototype.T,Go.prototype.changed=Go.prototype.s,Go.prototype.dispatchEvent=Go.prototype.b,Go.prototype.getRevision=Go.prototype.M,Go.prototype.on=Go.prototype.J,Go.prototype.once=Go.prototype.N,Go.prototype.un=Go.prototype.K,Go.prototype.unByKey=Go.prototype.O,_d.prototype.getActive=_d.prototype.f,_d.prototype.getMap=_d.prototype.c,_d.prototype.setActive=_d.prototype.Ea,_d.prototype.get=_d.prototype.get,_d.prototype.getKeys=_d.prototype.S,_d.prototype.getProperties=_d.prototype.R,_d.prototype.set=_d.prototype.set,_d.prototype.setProperties=_d.prototype.I,_d.prototype.unset=_d.prototype.T,_d.prototype.changed=_d.prototype.s,_d.prototype.dispatchEvent=_d.prototype.b,_d.prototype.getRevision=_d.prototype.M,_d.prototype.on=_d.prototype.J,_d.prototype.once=_d.prototype.N,_d.prototype.un=_d.prototype.K,_d.prototype.unByKey=_d.prototype.O,Md.prototype.type=Md.prototype.type,Md.prototype.target=Md.prototype.target,Md.prototype.preventDefault=Md.prototype.preventDefault,Md.prototype.stopPropagation=Md.prototype.stopPropagation,Sd.prototype.getActive=Sd.prototype.f,Sd.prototype.getMap=Sd.prototype.c,Sd.prototype.setActive=Sd.prototype.Ea,Sd.prototype.get=Sd.prototype.get,Sd.prototype.getKeys=Sd.prototype.S,Sd.prototype.getProperties=Sd.prototype.R,Sd.prototype.set=Sd.prototype.set,Sd.prototype.setProperties=Sd.prototype.I,Sd.prototype.unset=Sd.prototype.T,Sd.prototype.changed=Sd.prototype.s,Sd.prototype.dispatchEvent=Sd.prototype.b,Sd.prototype.getRevision=Sd.prototype.M,Sd.prototype.on=Sd.prototype.J,Sd.prototype.once=Sd.prototype.N,Sd.prototype.un=Sd.prototype.K,Sd.prototype.unByKey=Sd.prototype.O,Ad.prototype.getActive=Ad.prototype.f,Ad.prototype.getMap=Ad.prototype.c,Ad.prototype.setActive=Ad.prototype.Ea,Ad.prototype.get=Ad.prototype.get,Ad.prototype.getKeys=Ad.prototype.S,Ad.prototype.getProperties=Ad.prototype.R,Ad.prototype.set=Ad.prototype.set,Ad.prototype.setProperties=Ad.prototype.I,Ad.prototype.unset=Ad.prototype.T,Ad.prototype.changed=Ad.prototype.s,Ad.prototype.dispatchEvent=Ad.prototype.b,Ad.prototype.getRevision=Ad.prototype.M,Ad.prototype.on=Ad.prototype.J,Ad.prototype.once=Ad.prototype.N,Ad.prototype.un=Ad.prototype.K,Ad.prototype.unByKey=Ad.prototype.O,Rd.prototype.type=Rd.prototype.type,Rd.prototype.target=Rd.prototype.target,Rd.prototype.preventDefault=Rd.prototype.preventDefault,Rd.prototype.stopPropagation=Rd.prototype.stopPropagation,_e.prototype.get=_e.prototype.get,_e.prototype.getKeys=_e.prototype.S,_e.prototype.getProperties=_e.prototype.R,_e.prototype.set=_e.prototype.set,_e.prototype.setProperties=_e.prototype.I,_e.prototype.unset=_e.prototype.T,_e.prototype.changed=_e.prototype.s,_e.prototype.dispatchEvent=_e.prototype.b,_e.prototype.getRevision=_e.prototype.M,_e.prototype.on=_e.prototype.J,_e.prototype.once=_e.prototype.N,_e.prototype.un=_e.prototype.K,_e.prototype.unByKey=_e.prototype.O,Me.prototype.getClosestPoint=Me.prototype.Cb,Me.prototype.intersectsCoordinate=Me.prototype.mb,Me.prototype.getExtent=Me.prototype.G,Me.prototype.rotate=Me.prototype.rotate,Me.prototype.scale=Me.prototype.scale,Me.prototype.simplify=Me.prototype.Jb,Me.prototype.transform=Me.prototype.ob,Me.prototype.get=Me.prototype.get,Me.prototype.getKeys=Me.prototype.S,Me.prototype.getProperties=Me.prototype.R,Me.prototype.set=Me.prototype.set,Me.prototype.setProperties=Me.prototype.I,Me.prototype.unset=Me.prototype.T,Me.prototype.changed=Me.prototype.s,Me.prototype.dispatchEvent=Me.prototype.b,Me.prototype.getRevision=Me.prototype.M,Me.prototype.on=Me.prototype.J,Me.prototype.once=Me.prototype.N,Me.prototype.un=Me.prototype.K,Me.prototype.unByKey=Me.prototype.O,uh.prototype.getFirstCoordinate=uh.prototype.Rb,uh.prototype.getLastCoordinate=uh.prototype.Sb,uh.prototype.getLayout=uh.prototype.Tb,uh.prototype.rotate=uh.prototype.rotate,uh.prototype.scale=uh.prototype.scale,uh.prototype.getClosestPoint=uh.prototype.Cb,uh.prototype.intersectsCoordinate=uh.prototype.mb,uh.prototype.getExtent=uh.prototype.G,uh.prototype.simplify=uh.prototype.Jb,uh.prototype.get=uh.prototype.get,uh.prototype.getKeys=uh.prototype.S,uh.prototype.getProperties=uh.prototype.R,uh.prototype.set=uh.prototype.set,uh.prototype.setProperties=uh.prototype.I,uh.prototype.unset=uh.prototype.T,uh.prototype.changed=uh.prototype.s,uh.prototype.dispatchEvent=uh.prototype.b,uh.prototype.getRevision=uh.prototype.M,uh.prototype.on=uh.prototype.J,uh.prototype.once=uh.prototype.N,uh.prototype.un=uh.prototype.K,uh.prototype.unByKey=uh.prototype.O,jc.prototype.getClosestPoint=jc.prototype.Cb,jc.prototype.intersectsCoordinate=jc.prototype.mb,jc.prototype.getExtent=jc.prototype.G,jc.prototype.rotate=jc.prototype.rotate,jc.prototype.scale=jc.prototype.scale,jc.prototype.simplify=jc.prototype.Jb,jc.prototype.transform=jc.prototype.ob,jc.prototype.get=jc.prototype.get,jc.prototype.getKeys=jc.prototype.S,jc.prototype.getProperties=jc.prototype.R,jc.prototype.set=jc.prototype.set,jc.prototype.setProperties=jc.prototype.I,jc.prototype.unset=jc.prototype.T,jc.prototype.changed=jc.prototype.s,jc.prototype.dispatchEvent=jc.prototype.b,jc.prototype.getRevision=jc.prototype.M,jc.prototype.on=jc.prototype.J,jc.prototype.once=jc.prototype.N,jc.prototype.un=jc.prototype.K,jc.prototype.unByKey=jc.prototype.O,Ve.prototype.getFirstCoordinate=Ve.prototype.Rb,Ve.prototype.getLastCoordinate=Ve.prototype.Sb,Ve.prototype.getLayout=Ve.prototype.Tb,Ve.prototype.rotate=Ve.prototype.rotate,Ve.prototype.scale=Ve.prototype.scale,Ve.prototype.getClosestPoint=Ve.prototype.Cb,Ve.prototype.intersectsCoordinate=Ve.prototype.mb,Ve.prototype.getExtent=Ve.prototype.G,Ve.prototype.simplify=Ve.prototype.Jb,Ve.prototype.transform=Ve.prototype.ob,Ve.prototype.get=Ve.prototype.get,Ve.prototype.getKeys=Ve.prototype.S,Ve.prototype.getProperties=Ve.prototype.R,Ve.prototype.set=Ve.prototype.set,Ve.prototype.setProperties=Ve.prototype.I,Ve.prototype.unset=Ve.prototype.T,Ve.prototype.changed=Ve.prototype.s,Ve.prototype.dispatchEvent=Ve.prototype.b,Ve.prototype.getRevision=Ve.prototype.M,Ve.prototype.on=Ve.prototype.J,Ve.prototype.once=Ve.prototype.N,Ve.prototype.un=Ve.prototype.K,Ve.prototype.unByKey=Ve.prototype.O,$u.prototype.getFirstCoordinate=$u.prototype.Rb,$u.prototype.getLastCoordinate=$u.prototype.Sb,$u.prototype.getLayout=$u.prototype.Tb,$u.prototype.rotate=$u.prototype.rotate,$u.prototype.scale=$u.prototype.scale,$u.prototype.getClosestPoint=$u.prototype.Cb,$u.prototype.intersectsCoordinate=$u.prototype.mb,$u.prototype.getExtent=$u.prototype.G,$u.prototype.simplify=$u.prototype.Jb,$u.prototype.transform=$u.prototype.ob,$u.prototype.get=$u.prototype.get,$u.prototype.getKeys=$u.prototype.S,$u.prototype.getProperties=$u.prototype.R,$u.prototype.set=$u.prototype.set,$u.prototype.setProperties=$u.prototype.I,$u.prototype.unset=$u.prototype.T,$u.prototype.changed=$u.prototype.s,$u.prototype.dispatchEvent=$u.prototype.b,$u.prototype.getRevision=$u.prototype.M,$u.prototype.on=$u.prototype.J,$u.prototype.once=$u.prototype.N,$u.prototype.un=$u.prototype.K,$u.prototype.unByKey=$u.prototype.O,tc.prototype.getFirstCoordinate=tc.prototype.Rb,tc.prototype.getLastCoordinate=tc.prototype.Sb,tc.prototype.getLayout=tc.prototype.Tb,tc.prototype.rotate=tc.prototype.rotate,tc.prototype.scale=tc.prototype.scale,tc.prototype.getClosestPoint=tc.prototype.Cb,tc.prototype.intersectsCoordinate=tc.prototype.mb,tc.prototype.getExtent=tc.prototype.G,tc.prototype.simplify=tc.prototype.Jb,tc.prototype.transform=tc.prototype.ob,tc.prototype.get=tc.prototype.get,tc.prototype.getKeys=tc.prototype.S,tc.prototype.getProperties=tc.prototype.R,tc.prototype.set=tc.prototype.set,tc.prototype.setProperties=tc.prototype.I,tc.prototype.unset=tc.prototype.T,tc.prototype.changed=tc.prototype.s,tc.prototype.dispatchEvent=tc.prototype.b,tc.prototype.getRevision=tc.prototype.M,tc.prototype.on=tc.prototype.J,tc.prototype.once=tc.prototype.N,tc.prototype.un=tc.prototype.K,tc.prototype.unByKey=tc.prototype.O,nc.prototype.getFirstCoordinate=nc.prototype.Rb,nc.prototype.getLastCoordinate=nc.prototype.Sb,nc.prototype.getLayout=nc.prototype.Tb,nc.prototype.rotate=nc.prototype.rotate,nc.prototype.scale=nc.prototype.scale,nc.prototype.getClosestPoint=nc.prototype.Cb,nc.prototype.intersectsCoordinate=nc.prototype.mb,nc.prototype.getExtent=nc.prototype.G,nc.prototype.simplify=nc.prototype.Jb,nc.prototype.transform=nc.prototype.ob,nc.prototype.get=nc.prototype.get,nc.prototype.getKeys=nc.prototype.S,nc.prototype.getProperties=nc.prototype.R,nc.prototype.set=nc.prototype.set,nc.prototype.setProperties=nc.prototype.I,nc.prototype.unset=nc.prototype.T,nc.prototype.changed=nc.prototype.s,nc.prototype.dispatchEvent=nc.prototype.b,nc.prototype.getRevision=nc.prototype.M,nc.prototype.on=nc.prototype.J,nc.prototype.once=nc.prototype.N,nc.prototype.un=nc.prototype.K,nc.prototype.unByKey=nc.prototype.O,oc.prototype.getFirstCoordinate=oc.prototype.Rb,oc.prototype.getLastCoordinate=oc.prototype.Sb,oc.prototype.getLayout=oc.prototype.Tb,oc.prototype.rotate=oc.prototype.rotate,oc.prototype.scale=oc.prototype.scale,oc.prototype.getClosestPoint=oc.prototype.Cb,oc.prototype.intersectsCoordinate=oc.prototype.mb,oc.prototype.getExtent=oc.prototype.G,oc.prototype.simplify=oc.prototype.Jb,oc.prototype.transform=oc.prototype.ob,oc.prototype.get=oc.prototype.get,oc.prototype.getKeys=oc.prototype.S,oc.prototype.getProperties=oc.prototype.R,oc.prototype.set=oc.prototype.set,oc.prototype.setProperties=oc.prototype.I,oc.prototype.unset=oc.prototype.T,oc.prototype.changed=oc.prototype.s,oc.prototype.dispatchEvent=oc.prototype.b,oc.prototype.getRevision=oc.prototype.M,oc.prototype.on=oc.prototype.J,oc.prototype.once=oc.prototype.N,oc.prototype.un=oc.prototype.K,oc.prototype.unByKey=oc.prototype.O,We.prototype.getFirstCoordinate=We.prototype.Rb,We.prototype.getLastCoordinate=We.prototype.Sb,We.prototype.getLayout=We.prototype.Tb,We.prototype.rotate=We.prototype.rotate,We.prototype.scale=We.prototype.scale,We.prototype.getClosestPoint=We.prototype.Cb,We.prototype.intersectsCoordinate=We.prototype.mb,We.prototype.getExtent=We.prototype.G,We.prototype.simplify=We.prototype.Jb,We.prototype.transform=We.prototype.ob,We.prototype.get=We.prototype.get,We.prototype.getKeys=We.prototype.S,We.prototype.getProperties=We.prototype.R,We.prototype.set=We.prototype.set,We.prototype.setProperties=We.prototype.I,We.prototype.unset=We.prototype.T,We.prototype.changed=We.prototype.s,We.prototype.dispatchEvent=We.prototype.b,We.prototype.getRevision=We.prototype.M,We.prototype.on=We.prototype.J,We.prototype.once=We.prototype.N,We.prototype.un=We.prototype.K,We.prototype.unByKey=We.prototype.O,rr.prototype.getFirstCoordinate=rr.prototype.Rb,rr.prototype.getLastCoordinate=rr.prototype.Sb,rr.prototype.getLayout=rr.prototype.Tb,rr.prototype.rotate=rr.prototype.rotate,rr.prototype.scale=rr.prototype.scale,rr.prototype.getClosestPoint=rr.prototype.Cb,rr.prototype.intersectsCoordinate=rr.prototype.mb,rr.prototype.getExtent=rr.prototype.G,rr.prototype.simplify=rr.prototype.Jb,rr.prototype.transform=rr.prototype.ob,rr.prototype.get=rr.prototype.get,rr.prototype.getKeys=rr.prototype.S,rr.prototype.getProperties=rr.prototype.R,rr.prototype.set=rr.prototype.set,rr.prototype.setProperties=rr.prototype.I,rr.prototype.unset=rr.prototype.T,rr.prototype.changed=rr.prototype.s,rr.prototype.dispatchEvent=rr.prototype.b,rr.prototype.getRevision=rr.prototype.M,
rr.prototype.on=rr.prototype.J,rr.prototype.once=rr.prototype.N,rr.prototype.un=rr.prototype.K,rr.prototype.unByKey=rr.prototype.O,ap.prototype.readFeatures=ap.prototype.La,lp.prototype.readFeatures=lp.prototype.La,ap.prototype.readFeatures=ap.prototype.La,Jr.prototype.get=Jr.prototype.get,Jr.prototype.getKeys=Jr.prototype.S,Jr.prototype.getProperties=Jr.prototype.R,Jr.prototype.set=Jr.prototype.set,Jr.prototype.setProperties=Jr.prototype.I,Jr.prototype.unset=Jr.prototype.T,Jr.prototype.changed=Jr.prototype.s,Jr.prototype.dispatchEvent=Jr.prototype.b,Jr.prototype.getRevision=Jr.prototype.M,Jr.prototype.on=Jr.prototype.J,Jr.prototype.once=Jr.prototype.N,Jr.prototype.un=Jr.prototype.K,Jr.prototype.unByKey=Jr.prototype.O,$r.prototype.getMap=$r.prototype.i,$r.prototype.setMap=$r.prototype.setMap,$r.prototype.setTarget=$r.prototype.c,$r.prototype.get=$r.prototype.get,$r.prototype.getKeys=$r.prototype.S,$r.prototype.getProperties=$r.prototype.R,$r.prototype.set=$r.prototype.set,$r.prototype.setProperties=$r.prototype.I,$r.prototype.unset=$r.prototype.T,$r.prototype.changed=$r.prototype.s,$r.prototype.dispatchEvent=$r.prototype.b,$r.prototype.getRevision=$r.prototype.M,$r.prototype.on=$r.prototype.J,$r.prototype.once=$r.prototype.N,$r.prototype.un=$r.prototype.K,$r.prototype.unByKey=$r.prototype.O,en.prototype.getMap=en.prototype.i,en.prototype.setMap=en.prototype.setMap,en.prototype.setTarget=en.prototype.c,en.prototype.get=en.prototype.get,en.prototype.getKeys=en.prototype.S,en.prototype.getProperties=en.prototype.R,en.prototype.set=en.prototype.set,en.prototype.setProperties=en.prototype.I,en.prototype.unset=en.prototype.T,en.prototype.changed=en.prototype.s,en.prototype.dispatchEvent=en.prototype.b,en.prototype.getRevision=en.prototype.M,en.prototype.on=en.prototype.J,en.prototype.once=en.prototype.N,en.prototype.un=en.prototype.K,en.prototype.unByKey=en.prototype.O,cn.prototype.getMap=cn.prototype.i,cn.prototype.setMap=cn.prototype.setMap,cn.prototype.setTarget=cn.prototype.c,cn.prototype.get=cn.prototype.get,cn.prototype.getKeys=cn.prototype.S,cn.prototype.getProperties=cn.prototype.R,cn.prototype.set=cn.prototype.set,cn.prototype.setProperties=cn.prototype.I,cn.prototype.unset=cn.prototype.T,cn.prototype.changed=cn.prototype.s,cn.prototype.dispatchEvent=cn.prototype.b,cn.prototype.getRevision=cn.prototype.M,cn.prototype.on=cn.prototype.J,cn.prototype.once=cn.prototype.N,cn.prototype.un=cn.prototype.K,cn.prototype.unByKey=cn.prototype.O,iu.prototype.getMap=iu.prototype.i,iu.prototype.setMap=iu.prototype.setMap,iu.prototype.setTarget=iu.prototype.c,iu.prototype.get=iu.prototype.get,iu.prototype.getKeys=iu.prototype.S,iu.prototype.getProperties=iu.prototype.R,iu.prototype.set=iu.prototype.set,iu.prototype.setProperties=iu.prototype.I,iu.prototype.unset=iu.prototype.T,iu.prototype.changed=iu.prototype.s,iu.prototype.dispatchEvent=iu.prototype.b,iu.prototype.getRevision=iu.prototype.M,iu.prototype.on=iu.prototype.J,iu.prototype.once=iu.prototype.N,iu.prototype.un=iu.prototype.K,iu.prototype.unByKey=iu.prototype.O,an.prototype.getMap=an.prototype.i,an.prototype.setMap=an.prototype.setMap,an.prototype.setTarget=an.prototype.c,an.prototype.get=an.prototype.get,an.prototype.getKeys=an.prototype.S,an.prototype.getProperties=an.prototype.R,an.prototype.set=an.prototype.set,an.prototype.setProperties=an.prototype.I,an.prototype.unset=an.prototype.T,an.prototype.changed=an.prototype.s,an.prototype.dispatchEvent=an.prototype.b,an.prototype.getRevision=an.prototype.M,an.prototype.on=an.prototype.J,an.prototype.once=an.prototype.N,an.prototype.un=an.prototype.K,an.prototype.unByKey=an.prototype.O,cu.prototype.getMap=cu.prototype.i,cu.prototype.setMap=cu.prototype.setMap,cu.prototype.setTarget=cu.prototype.c,cu.prototype.get=cu.prototype.get,cu.prototype.getKeys=cu.prototype.S,cu.prototype.getProperties=cu.prototype.R,cu.prototype.set=cu.prototype.set,cu.prototype.setProperties=cu.prototype.I,cu.prototype.unset=cu.prototype.T,cu.prototype.changed=cu.prototype.s,cu.prototype.dispatchEvent=cu.prototype.b,cu.prototype.getRevision=cu.prototype.M,cu.prototype.on=cu.prototype.J,cu.prototype.once=cu.prototype.N,cu.prototype.un=cu.prototype.K,cu.prototype.unByKey=cu.prototype.O,ln.prototype.getMap=ln.prototype.i,ln.prototype.setMap=ln.prototype.setMap,ln.prototype.setTarget=ln.prototype.c,ln.prototype.get=ln.prototype.get,ln.prototype.getKeys=ln.prototype.S,ln.prototype.getProperties=ln.prototype.R,ln.prototype.set=ln.prototype.set,ln.prototype.setProperties=ln.prototype.I,ln.prototype.unset=ln.prototype.T,ln.prototype.changed=ln.prototype.s,ln.prototype.dispatchEvent=ln.prototype.b,ln.prototype.getRevision=ln.prototype.M,ln.prototype.on=ln.prototype.J,ln.prototype.once=ln.prototype.N,ln.prototype.un=ln.prototype.K,ln.prototype.unByKey=ln.prototype.O,hu.prototype.getMap=hu.prototype.i,hu.prototype.setMap=hu.prototype.setMap,hu.prototype.setTarget=hu.prototype.c,hu.prototype.get=hu.prototype.get,hu.prototype.getKeys=hu.prototype.S,hu.prototype.getProperties=hu.prototype.R,hu.prototype.set=hu.prototype.set,hu.prototype.setProperties=hu.prototype.I,hu.prototype.unset=hu.prototype.T,hu.prototype.changed=hu.prototype.s,hu.prototype.dispatchEvent=hu.prototype.b,hu.prototype.getRevision=hu.prototype.M,hu.prototype.on=hu.prototype.J,hu.prototype.once=hu.prototype.N,hu.prototype.un=hu.prototype.K,hu.prototype.unByKey=hu.prototype.O,vu.prototype.getMap=vu.prototype.i,vu.prototype.setMap=vu.prototype.setMap,vu.prototype.setTarget=vu.prototype.c,vu.prototype.get=vu.prototype.get,vu.prototype.getKeys=vu.prototype.S,vu.prototype.getProperties=vu.prototype.R,vu.prototype.set=vu.prototype.set,vu.prototype.setProperties=vu.prototype.I,vu.prototype.unset=vu.prototype.T,vu.prototype.changed=vu.prototype.s,vu.prototype.dispatchEvent=vu.prototype.b,vu.prototype.getRevision=vu.prototype.M,vu.prototype.on=vu.prototype.J,vu.prototype.once=vu.prototype.N,vu.prototype.un=vu.prototype.K,vu.prototype.unByKey=vu.prototype.O,tm.ol})}).call(e,function(){return this}())},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={isAppearSupported:function(t){return t.transitionName&&t.transitionAppear||t.animation.appear},isEnterSupported:function(t){return t.transitionName&&t.transitionEnter||t.animation.enter},isLeaveSupported:function(t){return t.transitionName&&t.transitionLeave||t.animation.leave},allowAppearCallback:function(t){return t.transitionAppear||t.animation.appear},allowEnterCallback:function(t){return t.transitionEnter||t.animation.enter},allowLeaveCallback:function(t){return t.transitionLeave||t.animation.leave}};e.default=r,t.exports=e.default},60,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(6),i=n(o),a=r(1),s=n(a),l=s.default.createClass({displayName:"LazyRenderBox",propTypes:{children:a.PropTypes.any,className:a.PropTypes.string,visible:a.PropTypes.bool,hiddenClassName:a.PropTypes.string},shouldComponentUpdate:function(t){return t.hiddenClassName||t.visible},render:function(){var t=this.props,e=t.hiddenClassName,r=t.visible,n=(0,i.default)(t,["hiddenClassName","visible"]);return e||s.default.Children.count(n.children)>1?(!r&&e&&(n.className+=" "+e),s.default.createElement("div",n)):s.default.Children.only(n.children)}});e.default=l,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(65),b=n(g),x={active:v.default.PropTypes.bool,href:v.default.PropTypes.string,title:v.default.PropTypes.node,target:v.default.PropTypes.string},_={active:!1},w=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.active,r=t.href,n=t.title,o=t.target,a=t.className,l=(0,s.default)(t,["active","href","title","target","className"]),u={href:r,title:n,target:o};return v.default.createElement("li",{className:(0,y.default)(a,{active:e})},e?v.default.createElement("span",l):v.default.createElement(b.default,(0,i.default)({},l,u)))},e}(v.default.Component);w.propTypes=x,w.defaultProps=_,e.default=w,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(202),b=n(g),x=r(160),_=n(x),w=r(12),T={vertical:v.default.PropTypes.bool,justified:v.default.PropTypes.bool,block:(0,b.default)(v.default.PropTypes.bool,function(t){var e=t.block,r=t.vertical;return e&&!r?new Error("`block` requires `vertical` to be set to have any effect"):null})},M={block:!1,justified:!1,vertical:!1},S=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t,e=this.props,r=e.block,n=e.justified,o=e.vertical,a=e.className,l=(0,s.default)(e,["block","justified","vertical","className"]),u=(0,w.splitBsProps)(l),c=u[0],p=u[1],f=(0,i.default)({},(0,w.getClassSet)(c),(t={},t[(0,w.prefix)(c)]=!o,t[(0,w.prefix)(c,"vertical")]=o,t[(0,w.prefix)(c,"justified")]=n,t[(0,w.prefix)(_.default.defaultProps,"block")]=r,t));return v.default.createElement("div",(0,i.default)({},p,{className:(0,y.default)(a,f)}))},e}(v.default.Component);S.propTypes=T,S.defaultProps=M,e.default=(0,w.bsClass)("btn-group",S),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(15),b=n(g),x=r(1130),_=n(x),w={direction:v.default.PropTypes.oneOf(["prev","next"]),onAnimateOutEnd:v.default.PropTypes.func,active:v.default.PropTypes.bool,animateIn:v.default.PropTypes.bool,animateOut:v.default.PropTypes.bool,index:v.default.PropTypes.number},T={active:!1,animateIn:!1,animateOut:!1},M=function(t){function e(r,n){(0,u.default)(this,e);var o=(0,p.default)(this,t.call(this,r,n));return o.handleAnimateOutEnd=o.handleAnimateOutEnd.bind(o),o.state={direction:null},o.isUnmounted=!1,o}return(0,h.default)(e,t),e.prototype.componentWillReceiveProps=function(t){this.props.active!==t.active&&this.setState({direction:null})},e.prototype.componentDidUpdate=function(t){var e=this,r=this.props.active,n=t.active;!r&&n&&_.default.addEndEventListener(b.default.findDOMNode(this),this.handleAnimateOutEnd),r!==n&&setTimeout(function(){return e.startAnimation()},20)},e.prototype.componentWillUnmount=function(){this.isUnmounted=!0},e.prototype.handleAnimateOutEnd=function(){this.isUnmounted||this.props.onAnimateOutEnd&&this.props.onAnimateOutEnd(this.props.index)},e.prototype.startAnimation=function(){this.isUnmounted||this.setState({direction:"prev"===this.props.direction?"right":"left"})},e.prototype.render=function(){var t=this.props,e=t.direction,r=t.active,n=t.animateIn,o=t.animateOut,a=t.className,l=(0,s.default)(t,["direction","active","animateIn","animateOut","className"]);delete l.onAnimateOutEnd,delete l.index;var u={item:!0,active:r&&!n||o};return e&&r&&n&&(u[e]=!0),this.state.direction&&(n||o)&&(u[this.state.direction]=!0),v.default.createElement("div",(0,i.default)({},l,{className:(0,y.default)(a,u)}))},e}(v.default.Component);M.propTypes=w,M.defaultProps=T,e.default=M,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=r(11),v=n(m),g=r(160),b=n(g),x=r(65),_=n(x),w=r(12),T={noCaret:y.default.PropTypes.bool,open:y.default.PropTypes.bool,title:y.default.PropTypes.string,useAnchor:y.default.PropTypes.bool},M={open:!1,useAnchor:!1,bsRole:"toggle"},S=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.noCaret,r=t.open,n=t.useAnchor,o=t.bsClass,a=t.className,l=t.children,u=(0,s.default)(t,["noCaret","open","useAnchor","bsClass","className","children"]);delete u.bsRole;var c=n?_.default:b.default,p=!e;return y.default.createElement(c,(0,i.default)({},u,{role:"button",className:(0,v.default)(a,o),"aria-haspopup":!0,"aria-expanded":r}),l||u.title,p&&" ",p&&y.default.createElement("span",{className:"caret"}))},e}(y.default.Component);S.propTypes=T,S.defaultProps=M,e.default=(0,w.bsClass)("dropdown-toggle",S),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(23),b=n(g),x=r(12),_={fluid:v.default.PropTypes.bool,componentClass:b.default},w={componentClass:"div",fluid:!1},T=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.fluid,r=t.componentClass,n=t.className,o=(0,s.default)(t,["fluid","componentClass","className"]),a=(0,x.splitBsProps)(o),l=a[0],u=a[1],c=(0,x.prefix)(l,e&&"fluid");return v.default.createElement(r,(0,i.default)({},u,{className:(0,y.default)(n,c)}))},e}(v.default.Component);T.propTypes=_,T.defaultProps=w,e.default=(0,x.bsClass)("container",T),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(118),i=n(o),a=r(5),s=n(a),l=r(6),u=n(l),c=r(2),p=n(c),f=r(4),h=n(f),d=r(3),y=n(d),m=r(11),v=n(m),g=r(1),b=n(g),x=r(12),_=r(38),w={active:b.default.PropTypes.any,disabled:b.default.PropTypes.any,header:b.default.PropTypes.node,listItem:b.default.PropTypes.bool,onClick:b.default.PropTypes.func,href:b.default.PropTypes.string,type:b.default.PropTypes.string},T={listItem:!1},M=function(t){function e(){return(0,p.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,y.default)(e,t),e.prototype.renderHeader=function(t,e){return b.default.isValidElement(t)?(0,g.cloneElement)(t,{className:(0,v.default)(t.props.className,e)}):b.default.createElement("h4",{className:e},t)},e.prototype.render=function(){var t=this.props,e=t.active,r=t.disabled,n=t.className,o=t.header,i=t.listItem,a=t.children,l=(0,u.default)(t,["active","disabled","className","header","listItem","children"]),c=(0,x.splitBsProps)(l),p=c[0],f=c[1],h=(0,s.default)({},(0,x.getClassSet)(p),{active:e,disabled:r}),d=void 0;return f.href?d="a":f.onClick?(d="button",f.type=f.type||"button"):d=i?"li":"span",f.className=(0,v.default)(n,h),o?b.default.createElement(d,f,this.renderHeader(o,(0,x.prefix)(p,"heading")),b.default.createElement("p",{className:(0,x.prefix)(p,"text")},a)):b.default.createElement(d,f,a)},e}(b.default.Component);M.propTypes=w,M.defaultProps=T,e.default=(0,x.bsClass)("list-group-item",(0,x.bsStyles)((0,i.default)(_.State),M)),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(23),b=n(g),x=r(12),_={componentClass:b.default},w={componentClass:"div"},T=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,r=t.className,n=(0,s.default)(t,["componentClass","className"]),o=(0,x.splitBsProps)(n),a=o[0],l=o[1],u=(0,x.getClassSet)(a);return v.default.createElement(e,(0,i.default)({},l,{className:(0,y.default)(r,u)}))},e}(v.default.Component);T.propTypes=_,T.defaultProps=w,e.default=(0,x.bsClass)("modal-body",T),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(23),b=n(g),x=r(12),_={componentClass:b.default},w={componentClass:"div"},T=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,r=t.className,n=(0,s.default)(t,["componentClass","className"]),o=(0,x.splitBsProps)(n),a=o[0],l=o[1],u=(0,x.getClassSet)(a);return v.default.createElement(e,(0,i.default)({},l,{className:(0,y.default)(r,u)}))},e}(v.default.Component);T.propTypes=_,T.defaultProps=w,e.default=(0,x.bsClass)("modal-footer",T),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(12),b=r(34),x=n(b),_={"aria-label":v.default.PropTypes.string,closeButton:v.default.PropTypes.bool,onHide:v.default.PropTypes.func},w={"aria-label":"Close",closeButton:!1},T={$bs_modal:v.default.PropTypes.shape({onHide:v.default.PropTypes.func})},M=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t["aria-label"],r=t.closeButton,n=t.onHide,o=t.className,a=t.children,l=(0,s.default)(t,["aria-label","closeButton","onHide","className","children"]),u=this.context.$bs_modal,c=(0,g.splitBsProps)(l),p=c[0],f=c[1],h=(0,g.getClassSet)(p);return v.default.createElement("div",(0,i.default)({},f,{className:(0,y.default)(o,h)}),r&&v.default.createElement("button",{type:"button",className:"close","aria-label":e,onClick:(0,x.default)(u&&u.onHide,n)},v.default.createElement("span",{"aria-hidden":"true"},"×")),a)},e}(v.default.Component);M.propTypes=_,M.defaultProps=w,M.contextTypes=T,e.default=(0,g.bsClass)("modal-header",M),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(23),b=n(g),x=r(12),_={componentClass:b.default},w={componentClass:"h4"},T=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,r=t.className,n=(0,s.default)(t,["componentClass","className"]),o=(0,x.splitBsProps)(n),a=o[0],l=o[1],u=(0,x.getClassSet)(a);return v.default.createElement(e,(0,i.default)({},l,{className:(0,y.default)(r,u)}))},e}(v.default.Component);T.propTypes=_,T.defaultProps=w,e.default=(0,x.bsClass)("modal-title",T),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(39),v=n(m),g=r(1),b=n(g),x=r(15),_=n(x),w=r(202),T=n(w),M=r(66),S=(n(M),r(12)),E=r(34),k=n(E),C=r(50),A=n(C),P={activeKey:b.default.PropTypes.any,activeHref:b.default.PropTypes.string,stacked:b.default.PropTypes.bool,justified:(0,T.default)(b.default.PropTypes.bool,function(t){var e=t.justified,r=t.navbar;return e&&r?Error("justified navbar `Nav`s are not supported"):null}),onSelect:b.default.PropTypes.func,role:b.default.PropTypes.string,navbar:b.default.PropTypes.bool,pullRight:b.default.PropTypes.bool,pullLeft:b.default.PropTypes.bool},L={justified:!1,pullRight:!1,pullLeft:!1,stacked:!1},D={$bs_navbar:b.default.PropTypes.shape({bsClass:b.default.PropTypes.string,onSelect:b.default.PropTypes.func}),$bs_tabContainer:b.default.PropTypes.shape({activeKey:b.default.PropTypes.any,onSelect:b.default.PropTypes.func.isRequired,getTabId:b.default.PropTypes.func.isRequired,getPaneId:b.default.PropTypes.func.isRequired})},O=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.componentDidUpdate=function(){var t=this;if(this._needsRefocus){this._needsRefocus=!1;var e=this.props.children,r=this.getActiveProps(),n=r.activeKey,o=r.activeHref,i=A.default.find(e,function(e){return t.isActive(e,n,o)}),a=A.default.toArray(e),s=a.indexOf(i),l=_.default.findDOMNode(this).children,u=l&&l[s];u&&u.firstChild&&u.firstChild.focus()}},e.prototype.handleTabKeyDown=function(t,e){var r=void 0;switch(e.keyCode){case v.default.codes.left:case v.default.codes.up:r=this.getNextActiveChild(-1);break;case v.default.codes.right:case v.default.codes.down:r=this.getNextActiveChild(1);break;default:return}e.preventDefault(),t&&r&&r.props.eventKey&&t(r.props.eventKey),this._needsRefocus=!0},e.prototype.getNextActiveChild=function(t){var e=this,r=this.props.children,n=r.filter(function(t){return t.props.eventKey&&!t.props.disabled}),o=this.getActiveProps(),i=o.activeKey,a=o.activeHref,s=A.default.find(r,function(t){return e.isActive(t,i,a)}),l=n.indexOf(s);if(l===-1)return n[0];var u=l+t,c=n.length;return u>=c?u=0:u<0&&(u=c-1),n[u]},e.prototype.getActiveProps=function(){var t=this.context.$bs_tabContainer;return t?t:this.props},e.prototype.isActive=function(t,e,r){var n=t.props;return!!(n.active||null!=e&&n.eventKey===e||r&&n.href===r)||n.active},e.prototype.getTabProps=function(t,e,r,n,o){var i=this;if(!e&&"tablist"!==r)return null;var a=t.props,s=a.id,l=a["aria-controls"],u=a.eventKey,c=a.role,p=a.onKeyDown,f=a.tabIndex;return e&&(s=e.getTabId(u),l=e.getPaneId(u)),"tablist"===r&&(c=c||"tab",p=(0,k.default)(function(t){return i.handleTabKeyDown(o,t)},p),f=n?f:-1),{id:s,role:c,onKeyDown:p,"aria-controls":l,tabIndex:f}},e.prototype.render=function(){var t,e=this,r=this.props,n=r.stacked,o=r.justified,a=r.onSelect,l=r.role,u=r.navbar,c=r.pullRight,p=r.pullLeft,f=r.className,h=r.children,d=(0,s.default)(r,["stacked","justified","onSelect","role","navbar","pullRight","pullLeft","className","children"]),m=this.context.$bs_tabContainer,v=l||(m?"tablist":null),x=this.getActiveProps(),_=x.activeKey,w=x.activeHref;delete d.activeKey,delete d.activeHref;var T=(0,S.splitBsProps)(d),M=T[0],E=T[1],C=(0,i.default)({},(0,S.getClassSet)(M),(t={},t[(0,S.prefix)(M,"stacked")]=n,t[(0,S.prefix)(M,"justified")]=o,t)),P=null!=u?u:this.context.$bs_navbar,L=void 0,D=void 0;if(P){var O=this.context.$bs_navbar||{bsClass:"navbar"};C[(0,S.prefix)(O,"nav")]=!0,D=(0,S.prefix)(O,"right"),L=(0,S.prefix)(O,"left")}else D="pull-right",L="pull-left";return C[D]=c,C[L]=p,b.default.createElement("ul",(0,i.default)({},E,{role:v,className:(0,y.default)(f,C)}),A.default.map(h,function(t){var r=e.isActive(t,_,w),n=(0,k.default)(t.props.onSelect,a,P&&P.onSelect,m&&m.onSelect);return(0,g.cloneElement)(t,(0,i.default)({},e.getTabProps(t,m,v,r,n),{active:r,activeKey:_,activeHref:w,onSelect:n}))}))},e}(b.default.Component);O.propTypes=P,O.defaultProps=L,O.contextTypes=D,e.default=(0,S.bsClass)("nav",(0,S.bsStyles)(["tabs","pills"],O)),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(65),b=n(g),x=r(34),_=n(x),w={active:v.default.PropTypes.bool,disabled:v.default.PropTypes.bool,role:v.default.PropTypes.string,href:v.default.PropTypes.string,onClick:v.default.PropTypes.func,onSelect:v.default.PropTypes.func,eventKey:v.default.PropTypes.any},T={active:!1,disabled:!1},M=function(t){function e(r,n){(0,u.default)(this,e);var o=(0,p.default)(this,t.call(this,r,n));return o.handleClick=o.handleClick.bind(o),o}return(0,h.default)(e,t),e.prototype.handleClick=function(t){this.props.onSelect&&(t.preventDefault(),this.props.disabled||this.props.onSelect(this.props.eventKey,t))},e.prototype.render=function(){var t=this.props,e=t.active,r=t.disabled,n=t.onClick,o=t.className,a=t.style,l=(0,s.default)(t,["active","disabled","onClick","className","style"]);return delete l.onSelect,delete l.eventKey,delete l.activeKey,delete l.activeHref,l.role?"tab"===l.role&&(l["aria-selected"]=e):"#"===l.href&&(l.role="button"),v.default.createElement("li",{role:"presentation",className:(0,y.default)(o,{active:e,disabled:r}),style:a},v.default.createElement(b.default,(0,i.default)({},l,{disabled:r,onClick:(0,_.default)(n,this.handleClick)})))},e}(v.default.Component);M.propTypes=w,M.defaultProps=T,e.default=M,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(12),b={$bs_navbar:v.default.PropTypes.shape({bsClass:v.default.PropTypes.string})},x=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,r=t.children,n=(0,s.default)(t,["className","children"]),o=this.context.$bs_navbar||{bsClass:"navbar"},a=(0,g.prefix)(o,"brand");return v.default.isValidElement(r)?v.default.cloneElement(r,{className:(0,y.default)(r.props.className,e,a)}):v.default.createElement("span",(0,i.default)({},n,{className:(0,y.default)(e,a)}),r)},e}(v.default.Component);x.contextTypes=b,e.default=x,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(6),i=n(o),a=r(2),s=n(a),l=r(4),u=n(l),c=r(3),p=n(c),f=r(5),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(1203),b=n(g),x=r(23),_=n(x),w=r(194),T=n(w),M=(0,h.default)({},b.default.propTypes,{show:v.default.PropTypes.bool,rootClose:v.default.PropTypes.bool,onHide:v.default.PropTypes.func,animation:v.default.PropTypes.oneOfType([v.default.PropTypes.bool,_.default]),onEnter:v.default.PropTypes.func,onEntering:v.default.PropTypes.func,onEntered:v.default.PropTypes.func,onExit:v.default.PropTypes.func,onExiting:v.default.PropTypes.func,onExited:v.default.PropTypes.func,placement:v.default.PropTypes.oneOf(["top","right","bottom","left"])}),S={animation:T.default,rootClose:!1,show:!1,placement:"right"},E=function(t){function e(){return(0,s.default)(this,e),(0,u.default)(this,t.apply(this,arguments))}return(0,p.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.animation,r=t.children,n=(0,i.default)(t,["animation","children"]),o=e===!0?T.default:e||null,a=void 0;return a=o?r:(0,m.cloneElement)(r,{className:(0,y.default)(r.props.className,"in")}),v.default.createElement(b.default,(0,h.default)({},n,{transition:o}),a)},e}(v.default.Component);E.propTypes=M,E.defaultProps=S,e.default=E,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(65),b=n(g),x=r(34),_=n(x),w={disabled:v.default.PropTypes.bool,previous:v.default.PropTypes.bool,next:v.default.PropTypes.bool,onClick:v.default.PropTypes.func,onSelect:v.default.PropTypes.func,eventKey:v.default.PropTypes.any},T={disabled:!1,previous:!1,next:!1},M=function(t){function e(r,n){(0,u.default)(this,e);var o=(0,p.default)(this,t.call(this,r,n));return o.handleSelect=o.handleSelect.bind(o),o}return(0,h.default)(e,t),e.prototype.handleSelect=function(t){var e=this.props,r=e.disabled,n=e.onSelect,o=e.eventKey;(n||r)&&t.preventDefault(),r||n&&n(o,t)},e.prototype.render=function(){var t=this.props,e=t.disabled,r=t.previous,n=t.next,o=t.onClick,a=t.className,l=t.style,u=(0,s.default)(t,["disabled","previous","next","onClick","className","style"]);return delete u.onSelect,delete u.eventKey,v.default.createElement("li",{className:(0,y.default)(a,{disabled:e,previous:r,next:n}),style:l},v.default.createElement(b.default,(0,i.default)({},u,{disabled:e,onClick:(0,_.default)(o,this.handleSelect)})))},e}(v.default.Component);M.propTypes=w,M.defaultProps=T,e.default=M,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(143),s=n(a),l=r(6),u=n(l),c=r(2),p=n(c),f=r(4),h=n(f),d=r(3),y=n(d),m=r(11),v=n(m),g=r(1),b=n(g),x=r(12),_=r(34),w=n(_),T=r(50),M=n(T),S={accordion:b.default.PropTypes.bool,activeKey:b.default.PropTypes.any,defaultActiveKey:b.default.PropTypes.any,onSelect:b.default.PropTypes.func,role:b.default.PropTypes.string},E={accordion:!1},k=function(t){function e(r,n){(0,p.default)(this,e);var o=(0,h.default)(this,t.call(this,r,n));return o.handleSelect=o.handleSelect.bind(o),o.state={activeKey:r.defaultActiveKey},o}return(0,y.default)(e,t),e.prototype.handleSelect=function(t,e){e.preventDefault(),this.props.onSelect&&this.props.onSelect(t,e),this.state.activeKey===t&&(t=null),this.setState({activeKey:t})},e.prototype.render=function(){var t=this,e=this.props,r=e.accordion,n=e.activeKey,o=e.className,a=e.children,l=(0,u.default)(e,["accordion","activeKey","className","children"]),c=(0,x.splitBsPropsAndOmit)(l,["defaultActiveKey","onSelect"]),p=c[0],f=c[1],h=void 0;r&&(h=null!=n?n:this.state.activeKey,f.role=f.role||"tablist");var d=(0,x.getClassSet)(p);return b.default.createElement("div",(0,i.default)({},f,{className:(0,v.default)(o,d)}),M.default.map(a,function(e){var n={bsStyle:e.props.bsStyle||p.bsStyle};return r&&(0,s.default)(n,{headerRole:"tab",panelRole:"tabpanel",collapsible:!0,expanded:e.props.eventKey===h,onSelect:(0,w.default)(t.handleSelect,e.props.onSelect)}),(0,g.cloneElement)(e,n)}))},e}(b.default.Component);k.propTypes=S,k.defaultProps=E,e.default=(0,x.bsClass)("panel-group",k),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(23),b=n(g),x=r(66),_=(n(x),r(12)),w=r(34),T=n(w),M=r(194),S=n(M),E={eventKey:m.PropTypes.any,animation:m.PropTypes.oneOfType([m.PropTypes.bool,b.default]),id:m.PropTypes.string,"aria-labelledby":m.PropTypes.string,bsClass:v.default.PropTypes.string,onEnter:m.PropTypes.func,onEntering:m.PropTypes.func,onEntered:m.PropTypes.func,onExit:m.PropTypes.func,onExiting:m.PropTypes.func,onExited:m.PropTypes.func,mountOnEnter:v.default.PropTypes.bool,unmountOnExit:m.PropTypes.bool},k={$bs_tabContainer:m.PropTypes.shape({getTabId:m.PropTypes.func,getPaneId:m.PropTypes.func}),$bs_tabContent:m.PropTypes.shape({bsClass:m.PropTypes.string,animation:m.PropTypes.oneOfType([m.PropTypes.bool,b.default]),activeKey:m.PropTypes.any,mountOnEnter:m.PropTypes.bool,unmountOnExit:m.PropTypes.bool,onPaneEnter:m.PropTypes.func.isRequired,onPaneExited:m.PropTypes.func.isRequired,exiting:m.PropTypes.bool.isRequired})},C={$bs_tabContainer:m.PropTypes.oneOf([null])},A=function(t){function e(r,n){(0,u.default)(this,e);var o=(0,p.default)(this,t.call(this,r,n));return o.handleEnter=o.handleEnter.bind(o),o.handleExited=o.handleExited.bind(o),o.in=!1,o}return(0,h.default)(e,t),e.prototype.getChildContext=function(){return{$bs_tabContainer:null}},e.prototype.componentDidMount=function(){this.shouldBeIn()&&this.handleEnter()},e.prototype.componentDidUpdate=function(){this.in?this.shouldBeIn()||this.handleExited():this.shouldBeIn()&&this.handleEnter()},e.prototype.componentWillUnmount=function(){this.in&&this.handleExited()},e.prototype.handleEnter=function(){var t=this.context.$bs_tabContent;t&&(this.in=t.onPaneEnter(this,this.props.eventKey))},e.prototype.handleExited=function(){var t=this.context.$bs_tabContent;t&&(t.onPaneExited(this),this.in=!1)},e.prototype.getAnimation=function(){if(null!=this.props.animation)return this.props.animation;var t=this.context.$bs_tabContent;return t&&t.animation},e.prototype.isActive=function(){var t=this.context.$bs_tabContent,e=t&&t.activeKey;return this.props.eventKey===e},e.prototype.shouldBeIn=function(){return this.getAnimation()&&this.isActive()},e.prototype.render=function(){var t=this.props,e=t.eventKey,r=t.className,n=t.onEnter,o=t.onEntering,a=t.onEntered,l=t.onExit,u=t.onExiting,c=t.onExited,p=t.mountOnEnter,f=t.unmountOnExit,h=(0,s.default)(t,["eventKey","className","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit"]),d=this.context,m=d.$bs_tabContent,g=d.$bs_tabContainer,b=(0,
_.splitBsPropsAndOmit)(h,["animation"]),x=b[0],w=b[1],M=this.isActive(),E=this.getAnimation(),k=null!=p?p:m&&m.mountOnEnter,C=null!=f?f:m&&m.unmountOnExit;if(!M&&!E&&C)return null;var A=E===!0?S.default:E||null;m&&(x.bsClass=(0,_.prefix)(m,"pane"));var P=(0,i.default)({},(0,_.getClassSet)(x),{active:M});g&&(w.id=g.getPaneId(e),w["aria-labelledby"]=g.getTabId(e));var L=v.default.createElement("div",(0,i.default)({},w,{role:"tabpanel","aria-hidden":!M,className:(0,y.default)(r,P)}));if(A){var D=m&&m.exiting;return v.default.createElement(A,{in:M&&!D,onEnter:(0,T.default)(this.handleEnter,n),onEntering:o,onEntered:a,onExit:l,onExiting:u,onExited:(0,T.default)(this.handleExited,c),mountOnEnter:k,unmountOnExit:C},L)}return L},e}(v.default.Component);A.propTypes=E,A.contextTypes=k,A.childContextTypes=C,e.default=(0,_.bsClass)("tab-pane",A),t.exports=e.default},function(t,e){"use strict";function r(t){return""+t.charAt(0).toUpperCase()+t.slice(1)}e.__esModule=!0,e.default=r,t.exports=e.default},,,,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(15),s=n(a),l=r(299),u=n(l),c=r(162),p=n(c),f=r(298),h=n(f),d=i.default.createClass({displayName:"Portal",propTypes:{container:i.default.PropTypes.oneOfType([u.default,i.default.PropTypes.func])},componentDidMount:function(){this._renderOverlay()},componentDidUpdate:function(){this._renderOverlay()},componentWillReceiveProps:function(t){this._overlayTarget&&t.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,h.default)(t.container,(0,p.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},componentWillUnmount:function(){this._unrenderOverlay(),this._unmountOverlayTarget()},_mountOverlayTarget:function(){this._overlayTarget||(this._overlayTarget=document.createElement("div"),this._portalContainerNode=(0,h.default)(this.props.container,(0,p.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},_unmountOverlayTarget:function(){this._overlayTarget&&(this._portalContainerNode.removeChild(this._overlayTarget),this._overlayTarget=null),this._portalContainerNode=null},_renderOverlay:function(){var t=this.props.children?i.default.Children.only(this.props.children):null;null!==t?(this._mountOverlayTarget(),this._overlayInstance=s.default.unstable_renderSubtreeIntoContainer(this,t,this._overlayTarget)):(this._unrenderOverlay(),this._unmountOverlayTarget())},_unrenderOverlay:function(){this._overlayTarget&&(s.default.unmountComponentAtNode(this._overlayTarget),this._overlayInstance=null)},render:function(){return null},getMountNode:function(){return this._overlayTarget},getOverlayDOMNode:function(){if(!this.isMounted())throw new Error("getOverlayDOMNode(): A component must be mounted to have a DOM node.");return this._overlayInstance?s.default.findDOMNode(this._overlayInstance):null}});e.default=d,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return 0===t.button}function l(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=r(129),p=n(c),f=r(1),h=n(f),d=r(15),y=n(d),m=r(480),v=n(m),g=r(162),b=n(g),x=27,_=function(t){function e(t,r){o(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));return n.handleMouseCapture=function(t){n.preventMouseRootClose=l(t)||!s(t)||(0,p.default)(y.default.findDOMNode(n),t.target)},n.handleMouse=function(t){!n.preventMouseRootClose&&n.props.onRootClose&&n.props.onRootClose(t)},n.handleKeyUp=function(t){t.keyCode===x&&n.props.onRootClose&&n.props.onRootClose(t)},n.preventMouseRootClose=!1,n}return a(e,t),u(e,[{key:"componentDidMount",value:function(){this.props.disabled||this.addEventListeners()}},{key:"componentDidUpdate",value:function(t){!this.props.disabled&&t.disabled?this.addEventListeners():this.props.disabled&&!t.disabled&&this.removeEventListeners()}},{key:"componentWillUnmount",value:function(){this.props.disabled||this.removeEventListeners()}},{key:"addEventListeners",value:function(){var t=this.props.event,e=(0,b.default)(this);this.documentMouseCaptureListener=(0,v.default)(e,t,this.handleMouseCapture,!0),this.documentMouseListener=(0,v.default)(e,t,this.handleMouse),this.documentKeyupListener=(0,v.default)(e,"keyup",this.handleKeyUp)}},{key:"removeEventListeners",value:function(){this.documentMouseCaptureListener&&this.documentMouseCaptureListener.remove(),this.documentMouseListener&&this.documentMouseListener.remove(),this.documentKeyupListener&&this.documentKeyupListener.remove()}},{key:"render",value:function(){return this.props.children}}]),e}(h.default.Component);_.displayName="RootCloseWrapper",_.propTypes={onRootClose:h.default.PropTypes.func,children:h.default.PropTypes.element,disabled:h.default.PropTypes.bool,event:h.default.PropTypes.oneOf(["click","mousedown"])},_.defaultProps={event:"click"},e.default=_,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(){}Object.defineProperty(e,"__esModule",{value:!0}),e.EXITING=e.ENTERED=e.ENTERING=e.EXITED=e.UNMOUNTED=void 0;var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),p=r(11),f=n(p),h=r(177),d=n(h),y=r(366),m=n(y),v=r(1),g=n(v),b=r(15),x=n(b),_=m.default.end,w=e.UNMOUNTED=0,T=e.EXITED=1,M=e.ENTERING=2,S=e.ENTERED=3,E=e.EXITING=4,k=function(t){function e(t,r){i(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r)),o=void 0;return n.nextStatus=null,t.in?t.transitionAppear?(o=T,n.nextStatus=M):o=S:o=t.unmountOnExit||t.mountOnEnter?w:T,n.state={status:o},n.nextCallback=null,n}return s(e,t),c(e,[{key:"componentDidMount",value:function(){this.updateStatus()}},{key:"componentWillReceiveProps",value:function(t){var e=this.state.status;t.in?(e===w&&this.setState({status:T}),e!==M&&e!==S&&(this.nextStatus=M)):e!==M&&e!==S||(this.nextStatus=E)}},{key:"componentDidUpdate",value:function(){this.updateStatus()}},{key:"componentWillUnmount",value:function(){this.cancelNextCallback()}},{key:"updateStatus",value:function(){var t=this;if(null!==this.nextStatus){this.cancelNextCallback();var e=x.default.findDOMNode(this);this.nextStatus===M?(this.props.onEnter(e),this.safeSetState({status:M},function(){t.props.onEntering(e),t.onTransitionEnd(e,function(){t.safeSetState({status:S},function(){t.props.onEntered(e)})})})):(this.props.onExit(e),this.safeSetState({status:E},function(){t.props.onExiting(e),t.onTransitionEnd(e,function(){t.safeSetState({status:T},function(){t.props.onExited(e)})})})),this.nextStatus=null}else this.props.unmountOnExit&&this.state.status===T&&this.setState({status:w})}},{key:"cancelNextCallback",value:function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)}},{key:"safeSetState",value:function(t,e){this.setState(t,this.setNextCallback(e))}},{key:"setNextCallback",value:function(t){var e=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,e.nextCallback=null,t(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback}},{key:"onTransitionEnd",value:function(t,e){this.setNextCallback(e),t?((0,d.default)(t,_,this.nextCallback),setTimeout(this.nextCallback,this.props.timeout)):setTimeout(this.nextCallback,0)}},{key:"render",value:function(){var t=this.state.status;if(t===w)return null;var r=this.props,n=r.children,i=r.className,a=o(r,["children","className"]);Object.keys(e.propTypes).forEach(function(t){return delete a[t]});var s=void 0;t===T?s=this.props.exitedClassName:t===M?s=this.props.enteringClassName:t===S?s=this.props.enteredClassName:t===E&&(s=this.props.exitingClassName);var l=g.default.Children.only(n);return g.default.cloneElement(l,u({},a,{className:(0,f.default)(l.props.className,i,s)}))}}]),e}(g.default.Component);k.propTypes={in:g.default.PropTypes.bool,mountOnEnter:g.default.PropTypes.bool,unmountOnExit:g.default.PropTypes.bool,transitionAppear:g.default.PropTypes.bool,timeout:g.default.PropTypes.number,exitedClassName:g.default.PropTypes.string,exitingClassName:g.default.PropTypes.string,enteredClassName:g.default.PropTypes.string,enteringClassName:g.default.PropTypes.string,onEnter:g.default.PropTypes.func,onEntering:g.default.PropTypes.func,onEntered:g.default.PropTypes.func,onExit:g.default.PropTypes.func,onExiting:g.default.PropTypes.func,onExited:g.default.PropTypes.func},k.displayName="Transition",k.defaultProps={in:!1,unmountOnExit:!1,transitionAppear:!1,timeout:5e3,onEnter:l,onEntering:l,onEntered:l,onExit:l,onExiting:l,onExited:l},e.default=k},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,n){return(0,i.default)(t,e,r,n),{remove:function(){(0,s.default)(t,e,r,n)}}};var o=r(177),i=n(o),a=r(256),s=n(a);t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){return t&&"body"===t.tagName.toLowerCase()}function i(t){var e=(0,c.default)(t),r=(0,l.default)(e),n=r.innerWidth;if(!n){var o=e.documentElement.getBoundingClientRect();n=o.right-Math.abs(o.left)}return e.body.clientWidth<n}function a(t){var e=(0,l.default)(t);return e||o(t)?i(t):t.scrollHeight>t.clientHeight}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var s=r(178),l=n(s),u=r(128),c=n(u);t.exports=e.default},,,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";e.__esModule=!0;var n=function(t,e){!(arguments.length>2&&void 0!==arguments[2])||arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t};e.default=n},,,,,function(t,e){"use strict";function r(){return!1}function n(){return!0}function o(){this.timeStamp=Date.now(),this.target=void 0,this.currentTarget=void 0}Object.defineProperty(e,"__esModule",{value:!0}),o.prototype={isEventObject:1,constructor:o,isDefaultPrevented:r,isPropagationStopped:r,isImmediatePropagationStopped:r,preventDefault:function(){this.isDefaultPrevented=n},stopPropagation:function(){this.isPropagationStopped=n},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=n,this.stopPropagation()},halt:function(t){t?this.stopImmediatePropagation():this.stopPropagation(),this.preventDefault()}},e.default=o,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){return null===t||void 0===t}function i(){return f}function a(){return h}function s(t){var e=t.type,r="function"==typeof t.stopPropagation||"boolean"==typeof t.cancelBubble;u.default.call(this),this.nativeEvent=t;var n=a;"defaultPrevented"in t?n=t.defaultPrevented?i:a:"getPreventDefault"in t?n=t.getPreventDefault()?i:a:"returnValue"in t&&(n=t.returnValue===h?i:a),this.isDefaultPrevented=n;var o=[],s=void 0,l=void 0,c=void 0,p=d.concat();for(y.forEach(function(t){e.match(t.reg)&&(p=p.concat(t.props),t.fix&&o.push(t.fix))}),l=p.length;l;)c=p[--l],this[c]=t[c];for(!this.target&&r&&(this.target=t.srcElement||document),this.target&&3===this.target.nodeType&&(this.target=this.target.parentNode),l=o.length;l;)(s=o[--l])(this,t);this.timeStamp=t.timeStamp||Date.now()}Object.defineProperty(e,"__esModule",{value:!0});var l=r(505),u=n(l),c=r(27),p=n(c),f=!0,h=!1,d=["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","shiftKey","target","timeStamp","view","type"],y=[{reg:/^key/,props:["char","charCode","key","keyCode","which"],fix:function(t,e){o(t.which)&&(t.which=o(e.charCode)?e.keyCode:e.charCode),void 0===t.metaKey&&(t.metaKey=t.ctrlKey)}},{reg:/^touch/,props:["touches","changedTouches","targetTouches"]},{reg:/^hashchange$/,props:["newURL","oldURL"]},{reg:/^gesturechange$/i,props:["rotation","scale"]},{reg:/^(mousewheel|DOMMouseScroll)$/,props:[],fix:function(t,e){var r=void 0,n=void 0,o=void 0,i=e.wheelDelta,a=e.axis,s=e.wheelDeltaY,l=e.wheelDeltaX,u=e.detail;i&&(o=i/120),u&&(o=0-(u%3===0?u/3:u)),void 0!==a&&(a===t.HORIZONTAL_AXIS?(n=0,r=0-o):a===t.VERTICAL_AXIS&&(r=0,n=o)),void 0!==s&&(n=s/120),void 0!==l&&(r=-1*l/120),r||n||(n=o),void 0!==r&&(t.deltaX=r),void 0!==n&&(t.deltaY=n),void 0!==o&&(t.delta=o)}},{reg:/^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,props:["buttons","clientX","clientY","button","offsetX","relatedTarget","which","fromElement","toElement","offsetY","pageX","pageY","screenX","screenY"],fix:function(t,e){var r=void 0,n=void 0,i=void 0,a=t.target,s=e.button;return a&&o(t.pageX)&&!o(e.clientX)&&(r=a.ownerDocument||document,n=r.documentElement,i=r.body,t.pageX=e.clientX+(n&&n.scrollLeft||i&&i.scrollLeft||0)-(n&&n.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||i&&i.scrollTop||0)-(n&&n.clientTop||i&&i.clientTop||0)),t.which||void 0===s||(1&s?t.which=1:2&s?t.which=3:4&s?t.which=2:t.which=0),!t.relatedTarget&&t.fromElement&&(t.relatedTarget=t.fromElement===a?t.toElement:t.fromElement),t}}],m=u.default.prototype;(0,p.default)(s.prototype,m,{constructor:s,preventDefault:function(){var t=this.nativeEvent;t.preventDefault?t.preventDefault():t.returnValue=h,m.preventDefault.call(this)},stopPropagation:function(){var t=this.nativeEvent;t.stopPropagation?t.stopPropagation():t.cancelBubble=f,m.stopPropagation.call(this)}}),e.default=s,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=r(155),v=n(m),g=r(392),b=n(g),x=r(87),_=r(426),w=n(_),T=r(75),M=function(t){function e(t){(0,s.default)(this,e);var r=(0,p.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t));return r.state={open:!1},r._onSelectRow=r._onSelectRow.bind(r),r._onInputChange=r._onInputChange.bind(r),r.state={inputContent:""},r}return(0,h.default)(e,t),(0,u.default)(e,[{key:"_onRemoveFacet",value:function(t){this.props.removeFacetKeyValue(t.key,t.value),this.props.fetchPavicsDatasets()}},{key:"_onSelectRow",value:function(t){t.target.checked?this.props.addFacetKeyValue(this.props.criteriaName,t.target.value):this.props.removeFacetKeyValue(this.props.criteriaName,t.target.value),this.props.fetchPavicsDatasets()}},{key:"_formatRows",value:function(){var t=this,e=[];return e=this.state.inputContent.length>0?this.props.variables.values.filter(function(e){return e.toLowerCase().indexOf(t.state.inputContent.toLowerCase())!==-1}):this.props.variables.values,e.map(function(t){return[t]})}},{key:"_onInputChange",value:function(t){var e=t.target.value;this.setState({inputContent:e})}},{key:"render",value:function(){var t=this;return y.default.createElement(T.Col,{sm:12,md:6,lg:6},y.default.createElement(x.List,null,y.default.createElement(x.ListItem,{nestedListStyle:{position:"absolute",zIndex:"9999",width:"100%",maxHeight:"150px",overflowY:"scroll",opacity:"1",background:"white",transform:"scaleY(1)",transformOrigin:"left top 0px",transition:"transform 500ms cubic-bezier(0.23, 1, 0.32, 1) 0ms, opacity 500ms cubic-bezier(0.23, 1, 0.32, 1) 0ms",boxShadow:"rgba(0, 0, 0, 0.117647) 0px 1px 6px, rgba(0, 0, 0, 0.117647) 0px 1px 4px",borderRadius:"2px"},primaryText:this.props.criteriaName.toLowerCase().replace(/\b[a-z]/g,function(t){return t.toUpperCase()}),leftIcon:y.default.createElement(w.default,null),initiallyOpen:!1,primaryTogglesNestedList:!0,nestedItems:this._formatRows().map(function(e,r){var n=!1;return t.props.selectedFacets.map(function(t){t.value===e[0]&&(n=!0)}),y.default.createElement(x.ListItem,{key:r,primaryText:e,leftCheckbox:y.default.createElement(v.default,{value:e,checked:n,onCheck:t._onSelectRow})})})})),y.default.createElement("div",null,this.props.selectedFacets.map(function(e,r){return e.key===t.props.criteriaName?y.default.createElement(b.default,{key:r+1,onRequestDelete:function(){return t._onRemoveFacet(e)},style:{marginBottom:"5px",width:"100%"},labelStyle:{width:"95%"}},e.value):null})))}}]),e}(y.default.Component);M.propTypes={criteriaName:y.default.PropTypes.string.isRequired,variables:y.default.PropTypes.object.isRequired,selectedFacets:y.default.PropTypes.array.isRequired,addFacetKeyValue:y.default.PropTypes.func.isRequired,removeFacetKeyValue:y.default.PropTypes.func.isRequired,fetchEsgfDatasets:y.default.PropTypes.func.isRequired,fetchPavicsDatasets:y.default.PropTypes.func.isRequired},e.default=M},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(507),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(117),a=o(i),s=r(8),l=o(s),u=r(2),c=o(u),p=r(7),f=o(p),h=r(4),d=o(h),y=r(3),m=o(y),v=r(1),g=o(v),b=r(837),x=n(b),_=r(36),w=n(_),T=r(142),M=o(T),S=r(408),E=r(75),k=r(25),C=o(k),A=r(131),P=o(A),L=r(42),D=o(L),O=r(421),I=o(O),R=r(157),N=o(R),j=function(t){function e(){(0,c.default)(this,e);var t=(0,d.default)(this,(e.__proto__||(0,l.default)(e)).call(this));return t._onHideInformationPanel=t._onHideInformationPanel.bind(t),t}return(0,m.default)(e,t),(0,f.default)(e,[{key:"_onHideInformationPanel",value:function(){this.props.onToggleMapPanel(w.VISUALIZE_INFO_PANEL)}},{key:"render",value:function(){var t=this,e=null;return this.props.currentScalarValue.isFetching?e=g.default.createElement(M.default,{name:"informations"}):this.props.currentScalarValue.data&&this.props.currentScalarValue.data.variable?e=g.default.createElement(S.Table,{selectable:!1,className:x.Table},g.default.createElement(S.TableHeader,{adjustForCheckbox:!1,displaySelectAll:!1},g.default.createElement(S.TableRow,null,g.default.createElement(S.TableHeaderColumn,null,"Key"),g.default.createElement(S.TableHeaderColumn,null,"Value"))),g.default.createElement(S.TableBody,{displayRowCheckbox:!1},(0,a.default)(this.props.currentScalarValue.data.variable).map(function(e,r){if("_indices"===e){var n=t.props.currentScalarValue.data.variable[e];return g.default.createElement(S.TableRow,{key:r},g.default.createElement(S.TableRowColumn,null,"indices"),g.default.createElement(S.TableRowColumn,null,"lat: ",n.lat,", lon: ",n.lon,", time: ",n.time))}return"value"===e?g.default.createElement(S.TableRow,{key:r},g.default.createElement(S.TableRowColumn,null,e),g.default.createElement(S.TableRowColumn,null,t.props.currentScalarValue.data.variable[e].toExponential())):g.default.createElement(S.TableRow,{key:r},g.default.createElement(S.TableRowColumn,null,e),g.default.createElement(S.TableRowColumn,null,t.props.currentScalarValue.data.variable[e]))}))):this.props.currentScalarValue.data&&this.props.currentScalarValue.data._dimensions||(e=g.default.createElement(E.Alert,{bsStyle:"info",style:{marginTop:20}},"A dataset must first be selected. Then a point must be clicked on the map with the map controls mode 'Point scalar values' activated for scalar value to be calculated.")),g.default.createElement(C.default,{className:x.InformationPanel},g.default.createElement(P.default,{title:"Point Informations",iconElementLeft:g.default.createElement(D.default,null,g.default.createElement(I.default,null)),iconElementRight:g.default.createElement(D.default,null,g.default.createElement(N.default,{onTouchTap:function(e){return t._onHideInformationPanel()}}))}),g.default.createElement("div",{className:x.Content},e))}}]),e}(g.default.Component);j.propTypes={onToggleMapPanel:g.default.PropTypes.func.isRequired,currentScalarValue:g.default.PropTypes.object.isRequired},e.default=j},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(509),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=o(i),s=r(8),l=o(s),u=r(2),c=o(u),p=r(7),f=o(p),h=r(4),d=o(h),y=r(3),m=o(y),v=r(1),g=o(v),b=r(838),x=n(b),_=r(36),w=n(_),T=r(87),M=r(410),S=r(189),E=o(S),k=r(88),C=o(k),A=r(399),P=o(A),L=r(188),D=r(186),O=o(D),I=r(25),R=o(I),N=r(89),j=o(N),F=r(74),z=o(F),B=r(131),U=o(B),V=r(42),H=o(V),W=r(428),q=o(W),G=r(157),Y=o(G),X=function(t){function e(t){(0,c.default)(this,e);var r=(0,d.default)(this,(e.__proto__||(0,l.default)(e)).call(this,t));return r.availableColorPalettes=[{url:"http://pluvier.crim.ca:8080/ncWMS2/wms?REQUEST=GetLegendGraphic&PALETTE=seq-Blues&COLORBARONLY=true&WIDTH=200&HEIGHT=20&VERTICAL=false",name:"default-scalar/seq-Blues"},{url:"http://pluvier.crim.ca:8080/ncWMS2/wms?REQUEST=GetLegendGraphic&PALETTE=div-BuRd&COLORBARONLY=true&WIDTH=200&HEIGHT=20&VERTICAL=false",name:"default-scalar/div-BuRd"}],r._onHideLayerSwitcherPanel=r._onHideLayerSwitcherPanel.bind(r),r.setSelectedShapefile=r.setSelectedShapefile.bind(r),r.setSelectedBaseMap=r.setSelectedBaseMap.bind(r),r.setSelectedDatasetLayer=r.setSelectedDatasetLayer.bind(r),r.setDatasetLayerOpacity=r.setDatasetLayerOpacity.bind(r),r.setSelectedColorPalette=r.setSelectedColorPalette.bind(r),r.resetDatasetLayer=r.resetDatasetLayer.bind(r),r.resetShapefile=r.resetShapefile.bind(r),r.props.selectColorPalette(r.availableColorPalettes[0]),r}return(0,m.default)(e,t),(0,f.default)(e,[{key:"componentDidMount",value:function(){this.props.fetchShapefiles(),this.setSelectedBaseMap(null,"Aerial")}},{key:"_onHideLayerSwitcherPanel",value:function(){this.props.onToggleMapPanel(w.VISUALIZE_LAYER_SWITCHER_PANEL)}},{key:"setSelectedShapefile",value:function(t,e){this.props.resetSelectedRegions(),this.props.selectShapefile(e)}},{key:"setSelectedBaseMap",value:function(t,e){this.props.selectBasemap(e)}},{key:"setSelectedDatasetLayer",value:function(t,e){var r=this.props.currentVisualizedDatasetLayers.find(function(t){return t.dataset_id===e});this.props.selectDatasetLayer((0,a.default)({},r,{opacity:this.props.selectedDatasetLayer.opacity}))}},{key:"setDatasetLayerOpacity",value:function(t,e){this.props.selectDatasetLayer((0,a.default)({},this.props.selectedDatasetLayer,{opacity:e}))}},{key:"setSelectedColorPalette",value:function(t,e,r){this.props.selectColorPalette(r)}},{key:"resetShapefile",value:function(){this.props.selectShapefile({}),this.props.resetSelectedRegions()}},{key:"resetDatasetLayer",value:function(){this.props.selectDatasetLayer({})}},{key:"makeShapefileList",value:function(){var t=this;return g.default.createElement(T.List,{style:{height:"302px",overflowY:"auto"},className:x.layers},g.default.createElement(T.ListItem,{initiallyOpen:!0,primaryTogglesNestedList:!0,primaryText:"Public",nestedItems:this.props.publicShapeFiles.map(function(e,r){return g.default.createElement(T.ListItem,{primaryText:e.title,key:r,leftCheckbox:g.default.createElement(L.RadioButtonGroup,{name:"selectedShapeFile",valueSelected:t.props.selectedShapefile,onChange:t.setSelectedShapefile},g.default.createElement(L.RadioButton,{value:e}))})})}),g.default.createElement(T.ListItem,{primaryTogglesNestedList:!0,primaryText:"Private (TODO)"}))}},{key:"makeBaseMapsList",value:function(){var t=this;return g.default.createElement(T.List,{style:{height:"350px",overflowY:"auto"},className:x.layers},g.default.createElement(T.ListItem,{initiallyOpen:!0,primaryTogglesNestedList:!0,primaryText:"Bing",nestedItems:this.props.baseMaps.map(function(e,r){return g.default.createElement(T.ListItem,{primaryText:e,key:r,leftCheckbox:g.default.createElement(L.RadioButtonGroup,{name:"selectedBaseMap",f:!0,valueSelected:t.props.selectedBasemap,onChange:t.setSelectedBaseMap},g.default.createElement(L.RadioButton,{value:e}))})})}))}},{key:"makeDatasetsList",value:function(){var t=this;return g.default.createElement(T.List,{style:{height:"225px",overflowY:"auto"},className:x.layers},this.props.currentVisualizedDatasetLayers.map(function(e,r){return g.default.createElement(T.ListItem,{key:r,primaryText:e.dataset_id,leftCheckbox:g.default.createElement(L.RadioButtonGroup,{name:"selectedDatasetLayer",valueSelected:t.props.selectedDatasetLayer.dataset_id,onChange:t.setSelectedDatasetLayer},g.default.createElement(L.RadioButton,{value:e.dataset_id}))})}))}},{key:"makeSlider",value:function(){return isNaN(this.props.selectedDatasetLayer.opacity)&&this.setDatasetLayerOpacity(null,.8),g.default.createElement("div",{style:{padding:"0 15px"}},g.default.createElement("div",{style:{textAlign:"center"}},"opacity: ",Math.floor(100*this.props.selectedDatasetLayer.opacity),"%"),g.default.createElement(P.default,{disabled:!this.props.selectedDatasetLayer.dataset_id,sliderStyle:{margin:"0"},step:.05,onChange:this.setDatasetLayerOpacity,value:this.props.selectedDatasetLayer.opacity}))}},{key:"makeColorPalettesSelect",value:function(){return g.default.createElement(E.default,{selectedMenuItemStyle:{color:"inherit"},floatingLabelText:"Color Palette",value:this.props.selectedColorPalette,onChange:this.setSelectedColorPalette},this.availableColorPalettes.map(function(t,e){return g.default.createElement(C.default,{key:e,value:t,primaryText:g.default.createElement("div",{style:{background:"url("+t.url+") center no-repeat",padding:"0 0 0 10px"}},t.name)})}))}},{key:"render",value:function(){var t=this;return g.default.createElement("div",{className:x.LayerSwitcher},g.default.createElement("div",{className:x.Tabs},g.default.createElement(U.default,{title:"Layer Switcher",iconElementLeft:g.default.createElement(H.default,null,g.default.createElement(q.default,null)),iconElementRight:g.default.createElement(H.default,null,g.default.createElement(Y.default,{onTouchTap:function(e){return t._onHideLayerSwitcherPanel()}}))}),g.default.createElement(M.Tabs,null,g.default.createElement(M.Tab,{style:{height:"100%"},icon:g.default.createElement(O.default,{className:"material-icons"},"satellite"),label:"Datasets"},g.default.createElement(R.default,{zDepth:2},g.default.createElement("div",{style:{width:"65%",display:"inline-block",padding:"0 15px"}},this.makeColorPalettesSelect()),g.default.createElement("div",{style:{width:"35%",display:"inline-block"}},g.default.createElement(j.default,null,g.default.createElement(z.default,{style:{marginLeft:"10px"},onClick:this.resetDatasetLayer,label:"Reset"}))),this.makeSlider(),this.makeDatasetsList())),g.default.createElement(M.Tab,{icon:g.default.createElement(O.default,{className:"material-icons"},"local_library"),label:"Shape Files"},g.default.createElement(R.default,{zDepth:2},g.default.createElement(j.default,null,g.default.createElement(z.default,{onClick:this.resetShapefile,label:"Reset"})),this.makeShapefileList())),g.default.createElement(M.Tab,{style:{height:"100%"},icon:g.default.createElement(O.default,{className:"material-icons"},"map"),label:"Base Maps"},g.default.createElement(R.default,{zDepth:2},this.makeBaseMapsList())))))}}]),e}(g.default.Component);X.propTypes={onToggleMapPanel:g.default.PropTypes.func.isRequired,fetchShapefiles:g.default.PropTypes.func.isRequired,selectColorPalette:g.default.PropTypes.func.isRequired,selectDatasetLayer:g.default.PropTypes.func.isRequired,selectShapefile:g.default.PropTypes.func.isRequired,selectBasemap:g.default.PropTypes.func.isRequired,currentVisualizedDatasetLayers:g.default.PropTypes.array.isRequired,selectedColorPalette:g.default.PropTypes.object.isRequired,selectedDatasetLayer:g.default.PropTypes.object.isRequired,selectedShapefile:g.default.PropTypes.object.isRequired,resetSelectedRegions:g.default.PropTypes.func.isRequired,selectedBasemap:g.default.PropTypes.string.isRequired,publicShapeFiles:g.default.PropTypes.array.isRequired,baseMaps:g.default.PropTypes.array.isRequired},e.default=X},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(511),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Loader=void 0;var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=r(839),v=n(m),g=r(398),b=n(g),x=e.Loader=function(t){function e(t){return(0,s.default)(this,e),(0,p.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t))}return(0,h.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){return y.default.createElement("div",{className:v.default.Loader},y.default.createElement(b.default,{size:40,left:0,top:0,status:"loading",style:{display:"inline-block",position:"relative"}}))}}]),e}(d.Component);x.propTypes={name:d.PropTypes.string.isRequired},e.default=x},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(8),a=o(i),s=r(2),l=o(s),u=r(7),c=o(u),p=r(4),f=o(p),h=r(3),d=o(h),y=r(1),m=o(y),v=r(840),g=n(v),b=r(36),x=n(b),_=r(25),w=o(_),T=r(184),M=o(T),S=r(188),E=r(131),k=o(E),C=r(42),A=o(C),P=r(429),L=o(P),D=r(157),O=o(D),I=function(t){function e(t){(0,l.default)(this,e);var r=(0,f.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t));return r._onHideMapControlsPanel=r._onHideMapControlsPanel.bind(r),r}return(0,d.default)(e,t),(0,c.default)(e,[{key:"_onHideMapControlsPanel",value:function(){this.props.onToggleMapPanel(x.VISUALIZE_MAP_CONTROLS_PANEL)}},{key:"render",value:function(){var t=this;return m.default.createElement(w.default,{className:g.MapControls},m.default.createElement(k.default,{title:"Map Controls",iconElementLeft:m.default.createElement(A.default,null,m.default.createElement(L.default,null)),iconElementRight:m.default.createElement(A.default,null,m.default.createElement(O.default,{onTouchTap:function(e){return t._onHideMapControlsPanel()}}))}),m.default.createElement("h4",null,"Mouse Click Mode"),m.default.createElement(M.default,null),m.default.createElement(S.RadioButtonGroup,{
style:{marginTop:"10px"},onChange:this.props.selectMapManipulationMode,name:"map-manipulation-mode",defaultSelected:x.VISUALIZE_MODE_VISUALIZE},m.default.createElement(S.RadioButton,{value:x.VISUALIZE_MODE_VISUALIZE,label:"Point scalar values"}),m.default.createElement(S.RadioButton,{value:x.VISUALIZE_MODE_JOB_MANAGEMENT,label:"Region Selection"})))}}]),e}(m.default.Component);I.propTypes={onToggleMapPanel:m.default.PropTypes.func.isRequired,selectMapManipulationMode:m.default.PropTypes.func.isRequired},e.default=I},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(514),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=o(i),s=r(117),l=o(s),u=r(8),c=o(u),p=r(2),f=o(p),h=r(7),d=o(h),y=r(4),m=o(y),v=r(3),g=o(v),b=r(1),x=o(b),_=r(841),w=o(_),T=r(436),M=o(T),S=r(183),E=o(S),k=r(36),C=n(k),A="AtXX65CBBfZXBxm6oMyf_5idMAMI7W6a5GuZ5acVcrYi6lCQayiiBz7_aMHB7JR7",P=-10,L=1,D=10,O=100,I="selectedRegions",R="dataset_layer",N=function(t){function e(t){(0,f.default)(this,e);var r=(0,m.default)(this,(e.__proto__||(0,c.default)(e)).call(this,t));return r.config={polygons:{text:"normal",align:"center",baseline:"middle",rotation:0,font:"inherit",weight:"bold",size:"10px",offsetX:0,offsetY:0,color:"blue",outline:"white",outlineWidth:3,maxreso:1200}},r.layers=[],r.datasetSource=null,r.map=null,r.view=null,r.state={dialogTitle:"",dialogContent:"",dialogOpened:!1},r.handleMapClick=r.handleMapClick.bind(r),r.handleClose=r.handleClose.bind(r),r.createPolygonStyleFunction=r.createPolygonStyleFunction.bind(r),r.createTextStyle=r.createTextStyle.bind(r),r}return(0,g.default)(e,t),(0,d.default)(e,[{key:"addTileWMSLayer",value:function(t,e,r,n,o){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=new M.default.layer.Tile({visible:i,title:e,opacity:n,source:r,extent:o});this.layers[e]=a,this.map.getLayers().insertAt(t,a),console.log("addTileWMSLayer:",a)}},{key:"addBingLayer",value:function(t,e){var r=new M.default.layer.Tile({visible:!0,preload:1/0,source:new M.default.source.BingMaps({key:A,imagerySet:e})});this.map.getLayers().insertAt(P,r),this.layers[t]=r}},{key:"getLayer",value:function(t){return void 0!==this.layers[t]?this.layers[t]:null}},{key:"initMap",value:function(){this.view=new M.default.View({center:[-10997148,8569099],zoom:4}),this.map=new M.default.Map({controls:[],layers:[],target:"map",renderer:"canvas",view:this.view})}},{key:"createVectorLayer",value:function(t){var e=new M.default.source.Vector({format:new M.default.format.GeoJSON}),r=new M.default.layer.Vector({source:e,style:this.createPolygonStyleFunction(),opacity:1});return r.set("nameId",t),r}},{key:"handleSelectRegionClick",value:function(t){var e=this,r=this.map.getCoordinateFromPixel(t.pixel),n=M.default.coordinate.add(r,[-1e-5,-1e-5]),o=M.default.coordinate.add(r,[1e-5,1e-5]),i=void 0,a=void 0;n[0]<o[0]?(i=n[0],a=o[0]):(i=o[0],a=n[0]);var s=void 0,l=void 0;n[1]<o[1]?(s=n[1],l=o[1]):(s=o[1],l=n[1]);var u=[i,s,a,l],c="http://pluvier.crim.ca:8087/geoserver/wfs?service=WFS&"+("version=1.1.0&request=GetFeature&typename="+this.props.selectedShapefile.wmsParams.LAYERS+"&")+"outputFormat=application/json&srsname=EPSG:3857&bbox="+u.join(",")+",EPSG:3857";fetch(c).then(function(t){return t.json()},function(t){return console.log(t)}).then(function(t){console.log("selected regions before click:",e.props.selectedRegions);var r=t.features[0].id;if(e.props.selectedRegions.indexOf(r)!==-1){console.log("removing feature",r),e.props.unselectRegion(r);var n=e.layers[I].getSource().getFeatures().find(function(t){return t.f===r});e.layers[I].getSource().removeFeature(n)}else{console.log("adding feature",r),e.props.selectRegion(r);var o=new M.default.format.GeoJSON,i=o.readFeatures(t,{featureProjection:"EPSG:3857"});console.log("adding feature named",i[0].name),console.log("received response:",t),console.log("received feature:",i),e.layers[I].getSource().addFeatures(i)}},function(t){return console.log(t)})}},{key:"stringDivider",value:function(t,e,r){for(var n="";t.length>0;)n+=t.substring(0,e)+r,t=t.substring(e);return n}},{key:"getText",value:function(t,e,r){var n=r.text.value,o=r.maxreso.value,i=t.f;return e>o?i="":"hide"===n?i="":"shorten"===n?i=i.trunc(12):"wrap"===n&&(i=this.stringDivider(i,16,"\n")),i}},{key:"createTextStyle",value:function(t,e,r){var n=r.align,o=r.baseline,i=r.size,a=parseInt(r.offsetX,10),s=parseInt(r.offsetY,10),l=r.weight,u=parseFloat(r.rotation),c=l+" "+i+" "+r.font,p=r.color,f=r.outline,h=parseInt(r.outlineWidth,10);return new M.default.style.Text({textAlign:n,textBaseline:o,font:c,text:this.getText(t,e,r),fill:new M.default.style.Fill({color:p}),stroke:new M.default.style.Stroke({color:f,width:h}),offsetX:a,offsetY:s,rotation:u})}},{key:"createPolygonStyleFunction",value:function(){var t=this;return function(e,r){var n=new M.default.style.Fill({color:"rgba(0,255,255,0.5)"}),o=new M.default.style.Stroke({color:"rgba(255,255,255,0.5)"}),i=new M.default.style.Style({stroke:o,fill:n,text:t.createTextStyle(e,r,t.config.polygons)});return[i]}}},{key:"getScalarValue",value:function(t){var e=this.map.getCoordinateFromPixel(t.pixel),r=M.default.proj.transform(e,"EPSG:3857","EPSG:4326");console.log("scalar value from coosrindates",r),console.log("selected dataset:",this.props.selectedDatasetLayer);var n=this.props.selectedDatasetLayer.opendap_urls[0],o=r[0],i=r[1],a=this.props.currentDateTime.substr(0,this.props.currentDateTime.length-5),s=this.props.selectedDatasetLayer.variable[0];this.props.fetchScalarValue(n,i,o,a,s)}},{key:"handleMapClick",value:function(t){switch(console.log("handling map click:",t),this.props.mapManipulationMode){case C.VISUALIZE_MODE_JOB_MANAGEMENT:return this.props.selectedShapefile.title?(console.log("selected shapefile:",this.props.selectedShapefile),this.handleSelectRegionClick(t)):void console.log("choose a shapefile first");case C.VISUALIZE_MODE_VISUALIZE:return this.props.selectedDatasetLayer.dataset_id?(console.log("selected dataset:",this.props.selectedDatasetLayer),this.getScalarValue(t)):void console.log("choose a dataset first")}}},{key:"componentDidMount",value:function(){this.initMap(),this.map.addEventListener("click",this.handleMapClick);var t=this.createVectorLayer(I);this.map.getLayers().insertAt(O,t),this.layers[I]=t}},{key:"componentWillUnmount",value:function(){}},{key:"componentWillReceiveProps",value:function(t){t.currentDateTime&&t.currentDateTime!==this.props.currentDateTime&&this.datasetSource&&(this.datasetSource.updateParams({TIME:t.currentDateTime}),console.log("Openlayers time changed "+t.currentDateTime),this.datasetSource.setTileLoadFunction(this.datasetSource.getTileLoadFunction()),this.datasetSource.changed())}},{key:"setBasemap",value:function(t){console.log("change base map:",this.props.selectedBasemap);var e=this.getLayer(t.selectedBasemap);this.map.removeLayer(e),this.addBingLayer(this.props.selectedBasemap,this.props.selectedBasemap)}},{key:"setShapefile",value:function(t){var e=this.props.selectedShapefile;console.log("change shapefile:",e),this.layers[I].getSource().clear(),this.map.removeLayer(this.layers[t.selectedShapefile.title]);var r=new M.default.source.TileWMS({url:e.wmsUrl,params:e.wmsParams});this.addTileWMSLayer(D,e.title,r,.4)}},{key:"findDimension",value:function(t,e){for(var r=0;r<t.length;r++)if(t[r].name===e)return t[r]}},{key:"setDatasetLayer",value:function(t){var e=this;console.log("setting new dataset layer",this.props.selectedDatasetLayer);var r=this.props.selectedDatasetLayer.wms_url,n=new M.default.format.WMSCapabilities,o={};fetch(r).then(function(t){return t.text()},function(t){return console.log(t)}).then(function(t){o=n.read(t),console.log("wms capabilities:",o);var r=o.Service.OnlineResource,i=o.Capability.Layer.Layer[0].Layer[0],a=i.Name,s={ABOVEMAXCOLOR:"extend",TRANSPARENT:"TRUE",STYLES:"default-scalar/seq-Blues",LAYERS:a,EPSG:"4326",LOGSCALE:!1,crossOrigin:"anonymous",BGCOLOR:"transparent",SRS:"EPSG:4326",TIME:""};if(i.Dimension){var l=e.findDimension(i.Dimension,"time"),u=l.values.substring(0,24);e.props.fetchWMSLayerTimesteps(r,a,u),e.props.setCurrentDateTime(u)}e.map.removeLayer(e.layers[R]),e.datasetSource=new M.default.source.TileWMS({url:r,params:s}),e.addTileWMSLayer(L,R,e.datasetSource,e.props.selectedDatasetLayer.opacity),e.props.setSelectedDatasetCapabilities(o),e.props.fetchWMSLayerDetails(r,a)},function(t){return console.log(t)})}},{key:"updateColorPalette",value:function(){this.layers[R]?(console.log("changing color palette:",this.props.selectedColorPalette.name),this.datasetSource.updateParams({STYLES:this.props.selectedColorPalette.name})):console.log("select a dataset first")}},{key:"componentDidUpdate",value:function(t,e){this.props.selectedColorPalette!==t.selectedColorPalette&&this.updateColorPalette(),this.props.selectedBasemap!==t.selectedBasemap&&this.setBasemap(t),this.props.selectedShapefile!==t.selectedShapefile&&this.setShapefile(t),this.props.selectedDatasetLayer===t.selectedDatasetLayer||this.props.selectedDatasetLayer.capabilities||(this.props.selectedDatasetLayer.opacity!==t.selectedDatasetLayer.opacity&&this.props.selectedDatasetLayer.opacity>0?this.layers[R].setOpacity(this.props.selectedDatasetLayer.opacity):0===(0,l.default)(this.props.selectedDatasetLayer).length&&this.props.selectedDatasetLayer.constructor===Object?this.map.removeLayer(this.layers[R]):this.setDatasetLayer(this.props.selectedDatasetLayer))}},{key:"handleClose",value:function(){this.setState((0,a.default)({},this.state,{dialogContent:"",dialogOpened:!1}))}},{key:"render",value:function(){return x.default.createElement("div",{className:w.default.OLComponent},x.default.createElement("div",{id:"map",className:"map",style:{width:"100%",height:"100%",position:"fixed"}},x.default.createElement("div",{id:"popup",className:"ol-popup"})),x.default.createElement(E.default,{title:this.state.dialogTitle,modal:!1,onRequestClose:this.handleClose,open:this.state.dialogOpened},x.default.createElement("div",null,this.state.dialogContent)))}}]),e}(x.default.Component);N.propTypes={currentDateTime:x.default.PropTypes.string.isRequired,mapManipulationMode:x.default.PropTypes.string.isRequired,setCurrentDateTime:x.default.PropTypes.func.isRequired,selectedRegions:x.default.PropTypes.array.isRequired,selectedColorPalette:x.default.PropTypes.object.isRequired,selectedDatasetLayer:x.default.PropTypes.object.isRequired,selectedShapefile:x.default.PropTypes.object.isRequired,selectedBasemap:x.default.PropTypes.string.isRequired,selectedDatasetCapabilities:x.default.PropTypes.object.isRequired,setSelectedDatasetCapabilities:x.default.PropTypes.func.isRequired,selectRegion:x.default.PropTypes.func.isRequired,unselectRegion:x.default.PropTypes.func.isRequired,capabilities:x.default.PropTypes.object,dataset:x.default.PropTypes.object,layer:x.default.PropTypes.object.isRequired,fetchWMSLayerDetails:x.default.PropTypes.func.isRequired,fetchWMSLayerTimesteps:x.default.PropTypes.func.isRequired,fetchPlotlyData:x.default.PropTypes.func.isRequired,fetchScalarValue:x.default.PropTypes.func.isRequired},e.default=N},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(516),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(143),i=n(o),a=r(8),s=n(a),l=r(2),u=n(l),c=r(7),p=n(c),f=r(4),h=n(f),d=r(3),y=n(d),m=r(1),v=n(m),g=r(984),b=r(430),x=n(b),_=r(431),w=n(_),T={pagination:{borderTop:"1px solid rgb(224, 224, 224)",display:"flex",alignItems:"center",justifyContent:"flex-end"},elements:{display:"flex",alignItems:"center",height:56,marginLeft:16},pageSelect:{marginLeft:0},label:{color:"#999",fontWeight:300,fontSize:12},select:{width:100,textAlign:"right"},underline:{display:"none"}},M=function(t){function e(t,r){(0,u.default)(this,e);var n=(0,h.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t,r));return n.state={selectedPerPageOptionIndex:n.props.initialPerPageOptionIndex,currentPageIndex:1},n.handleChangePerPage=n.handleChangePerPage.bind(n),n.handleChangePage=n.handleChangePage.bind(n),n}return(0,y.default)(e,t),(0,p.default)(e,[{key:"handleChangePage",value:function(t){this.setState({currentPageIndex:t}),this.onChange(t,this.props.perPageOptions[this.state.selectedPerPageOptionIndex])}},{key:"handleChangePerPage",value:function(t){var e=Math.ceil(this.props.total/this.props.perPageOptions[t]),r=this.state.currentPageIndex;r>e&&(r=e),this.setState({selectedPerPageOptionIndex:t,currentPageIndex:r}),this.onChange(r,this.props.perPageOptions[t])}},{key:"onChange",value:function(t,e){"function"==typeof this.props.onChange&&this.props.onChange(t,e)}},{key:"getToFromText",value:function(){if("function"==typeof this.props.toFrom)return this.props.toFrom(this.state.currentPageIndex,this.props.perPageOptions[this.state.selectedPerPageOptionIndex]);var t=this.state.currentPageIndex*this.props.perPageOptions[this.state.selectedPerPageOptionIndex];t>this.props.total&&(t=this.props.total);var e=(this.state.currentPageIndex-1)*this.props.perPageOptions[this.state.selectedPerPageOptionIndex]+1;return e>t&&(e=t),{to:t,from:e}}},{key:"render",value:function(){for(var t=this,e=this.props,r=e.total,n=e.texts,o=e.perPageOptions,a=this.state,s=a.selectedPerPageOptionIndex,l=a.currentPageIndex,u=[],c=Math.ceil(r/o[s]),p=1;p<=c;p++)u.push(p);var f=this.getToFromText(),h=f.to,d=f.from,y=n.showing.replace("{total}",r).replace("{from}",d).replace("{to}",h);return v.default.createElement("div",{style:T.pagination},v.default.createElement("div",{style:(0,i.default)({},T.elements,T.pageSelect)},v.default.createElement("div",{style:T.label},n.page+" "),v.default.createElement(g.SelectField,{onChange:function(e,r,n){return t.handleChangePage(n)},disabled:!r,value:l,style:T.select,underlineStyle:T.underline},u.map(function(t){return v.default.createElement(g.MenuItem,{primaryText:t,value:t,key:"page-"+t})}))),v.default.createElement("div",{style:T.elements},v.default.createElement("div",{style:T.label},n.perPageOptions+" "),v.default.createElement(g.SelectField,{onChange:function(e,r,n){return t.handleChangePerPage(n)},disabled:!r,value:s,style:T.select,underlineStyle:T.underline},o.map(function(t,e){return v.default.createElement(g.MenuItem,{key:e,value:e,primaryText:t})}))),v.default.createElement("div",{style:T.elements},v.default.createElement("div",{style:T.label},""+y),v.default.createElement(g.IconButton,{disabled:1===l||!r,onTouchTap:function(e){return t.handleChangePage(l-1,e)}},v.default.createElement(x.default,null)),v.default.createElement(g.IconButton,{disabled:l===c||!r,onTouchTap:function(e){return t.handleChangePage(l+1,e)}},v.default.createElement(w.default,null))))}}]),e}(m.Component);M.defaultProps={total:0,perPageOptions:[10],texts:{page:"Page: ",perPageOptions:"Per Page: ",showing:"Showing {from} to {to} of {total}"},initialPerPageOptionIndex:0},M.propTypes={onChange:v.default.PropTypes.func,total:v.default.PropTypes.number.isRequired,perPageOptions:v.default.PropTypes.array,texts:v.default.PropTypes.shape({page:v.default.PropTypes.string.isRequired,perPageOptions:v.default.PropTypes.string.isRequired,showing:v.default.PropTypes.string.isRequired}),toFrom:v.default.PropTypes.any,initialPerPageOptionIndex:v.default.PropTypes.number},e.default=M},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=r(257),v=n(m),g=function(t){function e(){return(0,s.default)(this,e),(0,p.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,h.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){return y.default.createElement("div",{className:v.default.Panel},this.props.children)}}]),e}(y.default.Component);e.default=g},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=r(307),v=r(257),g=n(v),b=function(t){function e(){return(0,s.default)(this,e),(0,p.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,h.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(m.ToggleButton,{onClick:this.props.onClick,icon:this.props.icon}),this.props.panelIsActive?y.default.createElement("span",{className:g.default.header},this.props.children):null)}}]),e}(y.default.Component);b.propTypes={onClick:y.default.PropTypes.func.isRequired,icon:y.default.PropTypes.string.isRequired,panelIsActive:y.default.PropTypes.bool.isRequired,children:y.default.PropTypes.any},e.default=b},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleButton=void 0;var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=r(257),v=n(m),g=e.ToggleButton=function(t){function e(){return(0,s.default)(this,e),(0,p.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,h.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){return y.default.createElement("a",{onClick:this.props.onClick,className:v.default.ToggleButton,href:"#"},y.default.createElement("i",{className:v.default.toggleIcon+" glyphicon "+this.props.icon}))}}]),e}(y.default.Component);g.propTypes={icon:y.default.PropTypes.string.isRequired,onClick:y.default.PropTypes.func.isRequired},e.default=g},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.PieMenu=void 0;var i=r(8),a=o(i),s=r(2),l=o(s),u=r(7),c=o(u),p=r(4),f=o(p),h=r(3),d=o(h),y=r(1),m=o(y),v=(r(75),r(36)),g=n(v),b=r(842),x=o(b),_=r(423),w=o(_),T=r(422),M=o(T),S=r(428),E=o(S),k=r(429),C=o(k),A=r(421),P=o(A),L=r(90),D={height:"70px",width:"70px",padding:"20px 15px 0 0"},O=e.PieMenu=function(t){function e(t){(0,l.default)(this,e);var r=(0,f.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t));return r._onClick=r._onClick.bind(r),r._toggleInfoPanel=r._toggleInfoPanel.bind(r),r._toggleMapControlsPanel=r._toggleMapControlsPanel.bind(r),r._toggleLayerSwitcherPanel=r._toggleLayerSwitcherPanel.bind(r),r._toggleChartPanel=r._toggleChartPanel.bind(r),r._toggleTimeSliderPanel=r._toggleTimeSliderPanel.bind(r),r}return(0,d.default)(e,t),(0,c.default)(e,[{key:"_onClick",value:function(t){console.log(t)}},{key:"_toggleInfoPanel",value:function(){this.props.onToggleMapPanel(g.VISUALIZE_INFO_PANEL)}},{key:"_toggleMapControlsPanel",value:function(){this.props.onToggleMapPanel(g.VISUALIZE_MAP_CONTROLS_PANEL)}},{key:"_toggleLayerSwitcherPanel",value:function(){this.props.onToggleMapPanel(g.VISUALIZE_LAYER_SWITCHER_PANEL)}},{key:"_toggleChartPanel",value:function(){this.props.onToggleMapPanel(g.VISUALIZE_CHART_PANEL)}},{key:"_toggleTimeSliderPanel",value:function(){this.props.onToggleMapPanel(g.VISUALIZE_TIME_SLIDER_PANEL)}},{key:"render",value:function(){return m.default.createElement("div",{className:x.default.PieMenu},m.default.createElement("nav",{className:x.default.radialnav},m.default.createElement("ul",{className:x.default.menu},m.default.createElement("li",null,m.default.createElement("a",{href:"#",onClick:this._toggleInfoPanel,className:this.props.mapPanelStatus[g.VISUALIZE_INFO_PANEL]?x.default.IsOpen:""},m.default.createElement(P.default,{color:L.white,style:D}))),m.default.createElement("li",null,m.default.createElement("a",{href:"#",onClick:this._toggleChartPanel,className:this.props.mapPanelStatus[g.VISUALIZE_CHART_PANEL]?x.default.IsOpen:""},m.default.createElement(M.default,{color:L.white,style:D}))),m.default.createElement("li",null,m.default.createElement("a",{href:"#",onClick:this._toggleLayerSwitcherPanel,className:this.props.mapPanelStatus[g.VISUALIZE_LAYER_SWITCHER_PANEL]?x.default.IsOpen:""},m.default.createElement(E.default,{color:L.white,style:D}))),m.default.createElement("li",null,m.default.createElement("a",{href:"#",onClick:this._toggleTimeSliderPanel,className:this.props.mapPanelStatus[g.VISUALIZE_TIME_SLIDER_PANEL]?x.default.IsOpen:""},m.default.createElement(w.default,{color:L.white,style:D}))),m.default.createElement("li",null,m.default.createElement("a",{href:"#",onClick:this._toggleMapControlsPanel,className:this.props.mapPanelStatus[g.VISUALIZE_MAP_CONTROLS_PANEL]?x.default.IsOpen:""},m.default.createElement(C.default,{color:L.white,style:D}))))))}}]),e}(m.default.Component);O.propTypes={mapPanelStatus:m.default.PropTypes.object.isRequired,onToggleMapPanel:m.default.PropTypes.func.isRequired}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=r(258),v=n(m),g=function(t){function e(){return(0,s.default)(this,e),(0,p.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,h.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){return y.default.createElement("div",{className:v.default.SectionalContent},y.default.createElement("div",{className:this.props.showContent?v.default.ShownContent:v.default.HiddenContent},this.props.currentContent))}}]),e}(y.default.Component);g.propTypes={currentContent:y.default.PropTypes.object,showContent:y.default.PropTypes.bool.isRequired},e.default=g},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(8),a=o(i),s=r(2),l=o(s),u=r(7),c=o(u),p=r(4),f=o(p),h=r(3),d=o(h),y=r(1),m=o(y),v=r(258),g=o(v),b=r(75),x=r(36),_=n(x),w=r(999),T=o(w),M=r(1e3),S=o(M),E=r(1005),k=o(E),C=r(1007),A=o(C),P=r(90),L=function(t){function e(){var t,r,n,o;(0,l.default)(this,e);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return r=n=(0,f.default)(this,(t=e.__proto__||(0,a.default)(e)).call.apply(t,[this].concat(s))),n.search=function(){_.PLATFORM_SECTION_SEARCH_DATASETS!==n.props.section?n.props.goToSection(_.PLATFORM_SECTION_SEARCH_DATASETS):n.props.goToSection("")},n.experience=function(){_.PLATFORM_SECTION_EXPERIENCE_MANAGEMENT!==n.props.section?n.props.goToSection(_.PLATFORM_SECTION_EXPERIENCE_MANAGEMENT):n.props.goToSection("")},n.monitor=function(){_.PLATFORM_SECTION_MONITOR!==n.props.section?n.props.goToSection(_.PLATFORM_SECTION_MONITOR):n.props.goToSection("")},n.workflows=function(){_.PLATFORM_SECTION_WORKFLOWS!==n.props.section?n.props.goToSection(_.PLATFORM_SECTION_WORKFLOWS):n.props.goToSection(""),n.props.chooseStep(_.WORKFLOW_STEP_PROCESS)},n.account=function(){_.PLATFORM_SECTION_ACCOUNT_MANAGEMENT!==n.props.section?n.props.goToSection(_.PLATFORM_SECTION_ACCOUNT_MANAGEMENT):n.props.goToSection("")},o=r,(0,f.default)(n,o)}return(0,d.default)(e,t),(0,c.default)(e,[{key:"tooltip",value:function(t){return m.default.createElement(b.Tooltip,{id:"tooltip"},t)}},{key:"render",value:function(){return m.default.createElement("div",{className:g.default.SectionalMenu},m.default.createElement("nav",null,m.default.createElement(b.OverlayTrigger,{placement:"left",overlay:this.tooltip("Search Datasets"),delay:10},m.default.createElement("a",{onClick:this.search,title:"Search Datasets",className:this.props.section===_.PLATFORM_SECTION_SEARCH_DATASETS?g.default.active:""},m.default.createElement(A.default,{color:P.white}))),m.default.createElement(b.OverlayTrigger,{placement:"left",overlay:this.tooltip("Experience Management"),delay:10},m.default.createElement("a",{onClick:this.experience,title:"Experience Management",className:this.props.section===_.PLATFORM_SECTION_EXPERIENCE_MANAGEMENT?g.default.active:""},m.default.createElement(S.default,{color:P.white}))),m.default.createElement(b.OverlayTrigger,{placement:"left",overlay:this.tooltip("Workflow Wizard"),delay:10},m.default.createElement("a",{onClick:this.workflows,title:"Workflow Wizard",className:this.props.section===_.PLATFORM_SECTION_WORKFLOWS?g.default.active:""},m.default.createElement(k.default,{color:P.white}))),m.default.createElement(b.OverlayTrigger,{placement:"left",overlay:this.tooltip("Workboard"),delay:10},m.default.createElement("a",{onClick:this.monitor,title:"Workboard",className:this.props.section===_.PLATFORM_SECTION_MONITOR?g.default.active:""},m.default.createElement(b.Glyphicon,{glyph:"tasks"}))),m.default.createElement(b.OverlayTrigger,{placement:"left",overlay:this.tooltip("Account Management"),delay:10},m.default.createElement("a",{onClick:this.account,title:"Account Management",className:this.props.section===_.PLATFORM_SECTION_ACCOUNT_MANAGEMENT?g.default.active:""},m.default.createElement(T.default,{color:P.white})))))}}]),e}(m.default.Component);L.propTypes={chooseStep:m.default.PropTypes.func.isRequired,goToSection:m.default.PropTypes.func.isRequired,section:m.default.PropTypes.string.isRequired},e.default=L},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=r(258),v=n(m),g=r(308),b=function(t){function e(){return(0,s.default)(this,e),(0,p.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,h.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){return y.default.createElement("div",{className:v.default.SectionalPanel+this.props.showContent?v.default.Shown:v.default.Hidden},y.default.createElement("div",{className:this.props.showContent?v.default.Shown:v.default.Hidden},y.default.createElement(g.SectionalMenu,{section:this.props.section,goToSection:this.props.goToSection,chooseStep:this.props.chooseStep}),y.default.createElement(g.SectionalContent,{showContent:this.props.showContent,currentContent:this.props.currentContent})))}}]),e}(y.default.Component);b.propTypes={chooseStep:y.default.PropTypes.func.isRequired,goToSection:y.default.PropTypes.func.isRequired,section:y.default.PropTypes.string.isRequired,currentContent:y.default.PropTypes.object,showContent:y.default.PropTypes.bool.isRequired},e.default=b},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=function(t){function e(){return(0,s.default)(this,e),(0,p.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,h.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){return y.default.createElement("tr",null,y.default.createElement("td",null,y.default.createElement("input",{checked:this.props.checked?"checked":"",type:"checkbox",value:this.props.value,onChange:this.props.onChangeCb})),this.props.fields.map(function(t,e){return y.default.createElement("td",{key:e},t)}))}}]),e}(y.default.Component);m.propTypes={fields:y.default.PropTypes.array.isRequired,onChangeCb:y.default.PropTypes.func.isRequired,value:y.default.PropTypes.string.isRequired,checked:y.default.PropTypes.bool.isRequired},e.default=m},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=r(369),v=n(m),g=function(t){function e(){return(0,s.default)(this,e),(0,p.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,h.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){return y.default.createElement("div",{className:v.default.Table},y.default.createElement("table",null,this.props.children))}}]),e}(y.default.Component);e.default=g},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=r(309),v=n(m),g=r(369),b=n(g),x=function(t){function e(){return(0,s.default)(this,e),(0,p.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,h.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){var t=this;return y.default.createElement("tbody",{className:b.default.overflowable},this.props.rows.map(function(e,r){return y.default.createElement(v.default,{key:r,selected:t.props.selectedIndex===r,fields:e})}))}}]),e}(y.default.Component);x.propTypes={rows:y.default.PropTypes.array.isRequired,selectedIndex:y.default.PropTypes.number.isRequired},e.default=x},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=function(t){function e(){return(0,s.default)(this,e),(0,p.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,h.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){return y.default.createElement("thead",null,y.default.createElement("tr",null,this.props.fields.map(function(t,e){return y.default.createElement("th",{key:e},t)})))}}]),e}(y.default.Component);m.propTypes={fields:y.default.PropTypes.array.isRequired},e.default=m},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SelectableTableRow=e.TableRow=e.TableBody=e.TableHeader=void 0;var o=r(527),i=n(o),a=r(529),s=n(a),l=r(309),u=n(l),c=r(526),p=n(c),f=r(528),h=n(f);e.TableHeader=s.default,e.TableBody=h.default,e.TableRow=u.default,e.SelectableTableRow=p.default,e.default=i.default},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(212),a=o(i),s=r(8),l=o(s),u=r(2),c=o(u),p=r(7),f=o(p),h=r(4),d=o(h),y=r(3),m=o(y),v=r(1),g=o(v),b=r(1040),x=o(b),_=r(843),w=o(_),T=r(36),M=n(T),S=r(142),E=o(S),k=r(25),C=o(k),A=r(131),P=o(A),L=r(42),D=o(L),O=r(422),I=o(O),R=r(157),N=o(R),j=r(182),F=r(75),z={title:"",margin:{l:60,r:20,b:50,t:20,pad:4},paper_bgcolor:"inherit",plot_bgcolor:"inherit",height:351,width:550},B=function(t){function e(t){(0,c.default)(this,e);var r=(0,d.default)(this,(e.__proto__||(0,l.default)(e)).call(this,t));return r._bindRef=r._bindRef.bind(r),r._onHideChartPanel=r._onHideChartPanel.bind(r),r}return(0,m.default)(e,t),(0,f.default)(e,[{key:"componentWillReceiveProps",value:function(t){if(t.currentScalarValue.data&&t.currentScalarValue.data.variable&&t.currentScalarValue.data!==this.props.currentScalarValue.data&&this.props.selectedDatasetLayer&&this.props.selectedDatasetLayer.opendap_urls.length){var e=this.props.selectedDatasetLayer.opendap_urls[0],r=t.currentScalarValue.data.variable;this.props.fetchPlotlyData(e,r.name,0,1e9,r._indices.lat,r._indices.lat+1,r._indices.lon,r._indices.lon+1)}if(t.plotlyData.data&&t.plotlyData.data!==this.props.plotlyData.data){this.container.data=t.plotlyData.data,this.container.layout=JSON.parse((0,a.default)(t.plotlyData.layout));for(var n in z)z.hasOwnProperty(n)&&(this.container.layout[n]=z[n]);
x.default.redraw(this.container),x.default.Plots.resize(this.container)}}},{key:"componentDidMount",value:function(){var t=JSON.parse((0,a.default)(this.props.plotlyData.layout));for(var e in z)z.hasOwnProperty(e)&&(t[e]=z[e]);x.default.plot(this.container,this.props.plotlyData.data,t,{displayModeBar:!1})}},{key:"_onHideChartPanel",value:function(){this.props.onToggleMapPanel(M.VISUALIZE_CHART_PANEL)}},{key:"_bindRef",value:function(t){this.container=t}},{key:"render",value:function(){var t=this,e=null;return this.props.currentScalarValue.data&&this.props.currentScalarValue.data._dimensions&&this.props.plotlyData.layout&&this.props.plotlyData.layout.title?e=g.default.createElement(j.Card,null,g.default.createElement(j.CardHeader,{title:this.props.plotlyData.layout.title.split("/")[this.props.plotlyData.layout.title.split("/").length-1],subtitle:"Latitude: "+this.props.currentScalarValue.data._dimensions.lat.value+" / Longitude: "+this.props.currentScalarValue.data._dimensions.lon.value})):this.props.plotlyData.isFetching||this.props.currentScalarValue.isFetching?e=g.default.createElement(E.default,{name:"chart"}):this.props.currentScalarValue.data&&this.props.currentScalarValue.data._dimensions||(e=g.default.createElement(F.Alert,{bsStyle:"info",style:{marginTop:20}},"A dataset must first be selected. Then a point must be clicked on the map with the map controls mode 'Point scalar values' activated for chart to be loaded.")),g.default.createElement(C.default,{className:w.default.TimeSeriesChart},g.default.createElement(P.default,{title:"Time Series Chart",iconElementLeft:g.default.createElement(D.default,null,g.default.createElement(I.default,null)),iconElementRight:g.default.createElement(D.default,null,g.default.createElement(N.default,{onTouchTap:function(e){return t._onHideChartPanel()}}))}),g.default.createElement("div",{className:w.default.Chart},e,g.default.createElement("div",{className:!this.props.plotlyData.isFetching&&!this.props.currentScalarValue.isFetching||this.props.currentScalarValue.data&&this.props.currentScalarValue.data._dimensions?"":"hidden"},g.default.createElement("div",{id:"plotly",ref:this._bindRef}))))}}]),e}(g.default.Component);B.propTypes={currentScalarValue:g.default.PropTypes.object.isRequired,selectedDatasetLayer:g.default.PropTypes.object.isRequired,onToggleMapPanel:g.default.PropTypes.func.isRequired,plotlyData:g.default.PropTypes.object.isRequired,fetchPlotlyData:g.default.PropTypes.func.isRequired},e.default=B},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(531),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=r(74),v=n(m),g=r(1003),b=n(g),x=function(t){function e(){return(0,s.default)(this,e),(0,p.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,h.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){return y.default.createElement(v.default,{onClick:this.props.executeProcess,icon:y.default.createElement(b.default,null),label:"Execute process"})}}]),e}(y.default.Component);x.propTypes={executeProcess:y.default.PropTypes.func.isRequired},e.default=x},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=r(961),v=r(542),g=n(v),b=r(540),x=n(b),_=r(536),w=n(_),T=r(538),M=n(T),S=r(74),E=n(S),k=r(1022),C=n(k),A=function(t){function e(){return(0,s.default)(this,e),(0,p.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,h.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){var t={color:"white"};return y.default.createElement(m.Stepper,{activeStep:this.props.stepIndex,orientation:"vertical"},y.default.createElement(m.Step,null,y.default.createElement(m.StepLabel,{style:t},"Select WPS Provider"),y.default.createElement(m.StepContent,null,y.default.createElement(g.default,{selectWpsProvider:this.props.selectWpsProvider,providers:this.props.providers}))),y.default.createElement(m.Step,null,y.default.createElement(m.StepLabel,{style:t},"Select WPS Process"),y.default.createElement(m.StepContent,null,y.default.createElement(E.default,{label:"Back",onClick:this.props.getLastStep,icon:y.default.createElement(C.default,null)}),y.default.createElement(x.default,{processes:this.props.processes,chooseProcess:this.props.chooseProcess,fetchProcessInputs:this.props.fetchProcessInputs,selectedProvider:this.props.selectedProvider}))),y.default.createElement(m.Step,null,y.default.createElement(m.StepLabel,{style:t},"Input Parameters"),y.default.createElement(m.StepContent,null,y.default.createElement("div",null,y.default.createElement(E.default,{label:"Back",onClick:this.props.getLastStep,icon:y.default.createElement(C.default,null)}),y.default.createElement(w.default,{process:this.props.selectedProcess}),0===this.props.selectedProcessInputs.length?null:y.default.createElement(M.default,{selectedRegions:this.props.selectedRegions,selectedDatasetLayer:this.props.selectedDatasetLayer,selectedShapefile:this.props.selectedShapefile,goToSection:this.props.goToSection,executeProcess:this.props.executeProcess,handleSelectedProcessValueChange:this.props.handleSelectedProcessValueChange,selectedProcess:this.props.selectedProcess,selectedProcessInputs:this.props.selectedProcessInputs,selectedProcessValues:this.props.selectedProcessValues,selectedProvider:this.props.selectedProvider})))))}}]),e}(y.default.Component);A.propTypes={stepIndex:y.default.PropTypes.number.isRequired,processes:y.default.PropTypes.array.isRequired,chooseProcess:y.default.PropTypes.func.isRequired,fetchProcessInputs:y.default.PropTypes.func.isRequired,selectWpsProvider:y.default.PropTypes.func.isRequired,providers:y.default.PropTypes.object.isRequired,selectedProvider:y.default.PropTypes.string.isRequired,getLastStep:y.default.PropTypes.func.isRequired,selectedProcessInputs:y.default.PropTypes.array.isRequired,executeProcess:y.default.PropTypes.func.isRequired,goToSection:y.default.PropTypes.func.isRequired,handleSelectedProcessValueChange:y.default.PropTypes.func.isRequired,selectedProcessValues:y.default.PropTypes.object.isRequired,selectedProcess:y.default.PropTypes.object.isRequired,selectedShapefile:y.default.PropTypes.object.isRequired,selectedDatasetLayer:y.default.PropTypes.object.isRequired,selectedRegions:y.default.PropTypes.array.isRequired},e.default=A},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=r(182),v=function(t){function e(){return(0,s.default)(this,e),(0,p.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,h.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){var t={margin:"10px 0"};return y.default.createElement(m.Card,{style:t},y.default.createElement(m.CardHeader,{title:this.props.process.title}),y.default.createElement(m.CardText,null,y.default.createElement("p",null,"label: ",this.props.process.id),y.default.createElement("p",null,this.props.process.description)))}}]),e}(y.default.Component);v.propTypes={process:y.default.PropTypes.object.isRequired},e.default=v},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(535),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(79),i=n(o),a=r(5),s=n(a),l=r(8),u=n(l),c=r(2),p=n(c),f=r(7),h=n(f),d=r(4),y=n(d),m=r(3),v=n(m),g=r(1),b=n(g),x=r(75),_=r(310),w=r(25),T=n(w),M=r(844),S=n(M),E="//www.w3.org/TR/xmlschema-2/#boolean",k="//www.w3.org/TR/xmlschema-2/#string",C="ComplexData",A="LABEL_NETCDF",P="LABEL_SHAPEFILE",L="LABEL_FEATURE_IDS",D=function(t){function e(t){(0,p.default)(this,e);var r=(0,y.default)(this,(e.__proto__||(0,u.default)(e)).call(this,t));return r.state={formData:{}},r.execute=r.execute.bind(r),r.handleChange=r.handleChange.bind(r),r.makePostRequest=r.makePostRequest.bind(r),r}return(0,v.default)(e,t),(0,h.default)(e,[{key:"componentWillReceiveProps",value:function(t){console.log("form will receive props",t),t.selectedDatasetLayer.urls&&this.state.formData[A]!==t.selectedDatasetLayer.urls[0]&&this.setState((0,s.default)({},this.state,{formData:(0,s.default)({},this.state.formData,(0,i.default)({},A,t.selectedDatasetLayer.urls[0]))})),t.selectedShapefile.wmsParams?this.state.formData[P]!==t.selectedShapefile.wmsParams.LAYERS&&this.setState((0,s.default)({},this.state,{formData:(0,s.default)({},this.state.formData,(0,i.default)({},P,t.selectedShapefile.wmsParams?t.selectedShapefile.wmsParams.LAYERS:""))})):this.setState((0,s.default)({},this.state,{formData:(0,s.default)({},this.state.formData,(0,i.default)({},P,""))}));var e=t.selectedRegions.join(", ");this.state.formData[L]!==e&&this.setState((0,s.default)({},this.state,{formData:(0,s.default)({},this.state.formData,(0,i.default)({},L,e))}))}},{key:"makePostRequest",value:function(t,e,r,n){var o=new XMLHttpRequest;o.onload=function(){void 0!==r&&r(o.responseText,n)},o.open("POST",t),o.setRequestHeader("accept","text/html"),o.send(e)}},{key:"handleChange",value:function(t){var e=t.target;this.setState((0,s.default)({},this.state,{formData:(0,s.default)({},this.state.formData,(0,i.default)({},e.id,e.value))}))}},{key:"execute",value:function(){var t=new FormData(document.querySelector("#process-form")),e="https://pluvier.crim.ca:8443/processes/execute?wps="+this.props.selectedProvider+"&process="+this.props.selectedProcess.identifier;this.makePostRequest(e,t,function(t){console.log(t)})}},{key:"makeInput",value:function(t){switch(t.dataType){case E:return b.default.createElement("div",null,b.default.createElement(x.FormControl,{bsClass:S.default.checkbox,id:t.name,type:"checkbox",name:t.name}),b.default.createElement("p",null,t.description));case C:return b.default.createElement("div",null,b.default.createElement("input",{type:"hidden",name:"__start__",value:"resource:sequence"}),b.default.createElement(x.FormControl,{name:"resource",id:A,type:"text",onChange:this.handleChange,value:this.state.formData[A]}),b.default.createElement("input",{type:"hidden",name:"__end__",value:"resource:sequence"}),b.default.createElement("p",null,t.description));case k:return"typename"===t.name?b.default.createElement("div",null,b.default.createElement(x.FormControl,{id:P,type:"text",name:t.name,onChange:this.handleChange,value:this.state.formData[P]}),b.default.createElement("p",null,t.description)):"featureids"===t.name?b.default.createElement("div",null,b.default.createElement(x.FormControl,{id:L,type:"text",name:t.name,onChange:this.handleChange,value:this.state.formData[L]}),b.default.createElement("p",null,t.description)):b.default.createElement("div",null,b.default.createElement(x.FormControl,{id:t.name,type:"text",name:t.name,value:this.state.formData[t.name],onChange:this.handleChange}),b.default.createElement("p",null,t.description));default:return b.default.createElement("div",null,b.default.createElement(x.FormControl,{id:t.name,type:"text",name:t.name,value:this.state.formData[t.name],onChange:this.handleChange}),b.default.createElement("p",null,t.description))}}},{key:"render",value:function(){var t=this,e={height:"450px",overflowY:"auto",margin:"10px 0",overflowX:"hidden"};return b.default.createElement(x.Form,{id:"process-form",horizontal:!0},b.default.createElement(T.default,{zDepth:2,style:e},b.default.createElement("input",{type:"hidden",name:"_charset_",value:"UTF-8"}),b.default.createElement("input",{type:"hidden",name:"__formid__",value:"deform"}),b.default.createElement("input",{type:"hidden",name:"_async_check",value:"true"}),this.props.selectedProcessInputs.map(function(e,r){return b.default.createElement(x.Col,{sm:12},b.default.createElement(x.FormGroup,{key:r},b.default.createElement(x.Col,{sm:2},e.title),b.default.createElement(x.Col,{sm:10},t.makeInput(e))))})),b.default.createElement(_.ExecuteButton,{executeProcess:this.execute}),b.default.createElement("input",{type:"hidden",name:"submit",value:"submit"}))}}]),e}(b.default.Component);D.propTypes={selectedProcess:b.default.PropTypes.object.isRequired,selectedProcessInputs:b.default.PropTypes.array.isRequired,selectedProcessValues:b.default.PropTypes.object.isRequired,handleSelectedProcessValueChange:b.default.PropTypes.func.isRequired,executeProcess:b.default.PropTypes.func.isRequired,selectedProvider:b.default.PropTypes.string.isRequired,goToSection:b.default.PropTypes.func.isRequired,selectedShapefile:b.default.PropTypes.object.isRequired,selectedDatasetLayer:b.default.PropTypes.object.isRequired,selectedRegions:b.default.PropTypes.array.isRequired},e.default=D},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(537),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=r(182),v=r(74),g=n(v),b=function(t){function e(){return(0,s.default)(this,e),(0,p.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,h.default)(e,t),(0,u.default)(e,[{key:"makeChooseProcessCallback",value:function(t){var e=this;return function(){e.props.chooseProcess(t),e.props.fetchProcessInputs(e.props.selectedProvider,t.identifier)}}},{key:"render",value:function(){var t=this,e={height:"450px",overflowY:"auto",margin:"10px 0"};return y.default.createElement("div",null,y.default.createElement("div",{style:e},this.props.processes.map(function(e,r){return y.default.createElement(m.Card,{key:r},y.default.createElement(m.CardHeader,{title:e.title}),y.default.createElement(m.CardText,null,e.description),y.default.createElement(m.CardActions,null,y.default.createElement(g.default,{primary:!0,label:"Select Process",onClick:t.makeChooseProcessCallback(e)})))})))}}]),e}(y.default.Component);b.propTypes={processes:y.default.PropTypes.array.isRequired,chooseProcess:y.default.PropTypes.func.isRequired,fetchProcessInputs:y.default.PropTypes.func.isRequired,selectedProvider:y.default.PropTypes.string.isRequired},e.default=b},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(539),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=r(87),v=r(25),g=n(v),b=function(t){function e(){return(0,s.default)(this,e),(0,p.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,h.default)(e,t),(0,u.default)(e,[{key:"makeChangeProviderCallback",value:function(t){var e=this;return function(){e.props.selectWpsProvider(t)}}},{key:"render",value:function(){var t=this;return y.default.createElement(g.default,{zDepth:2},y.default.createElement(m.List,null,this.props.providers.items.map(function(e,r){return y.default.createElement(m.ListItem,{key:r,onClick:t.makeChangeProviderCallback(e.identifier)},e.title)})))}}]),e}(y.default.Component);b.propTypes={selectWpsProvider:y.default.PropTypes.func.isRequired,providers:y.default.PropTypes.object.isRequired},e.default=b},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(541),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.AccountManagement=void 0;var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=r(140),v=r(25),g=n(v),b=r(845),x=n(b),_=e.AccountManagement=function(t){function e(t){return(0,s.default)(this,e),(0,p.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t))}return(0,h.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){return y.default.createElement("div",{className:x.default.AccountManagement,style:{margin:20}},y.default.createElement(g.default,null,"AccountManagement (TODO)"))}}]),e}(y.default.Component);_.propTypes={};var w=function(t){return{}},T=function(t){return{}};e.default=(0,m.connect)(w,T)(_)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(543),i=n(o);e.default=i.default},,function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ExperienceManagement=void 0;var i=r(5),a=o(i),s=r(8),l=o(s),u=r(2),c=o(u),p=r(7),f=o(p),h=r(4),d=o(h),y=r(3),m=o(y),v=r(1),g=o(v),b=r(140),x=(r(163),r(846)),_=o(x),w=r(36),T=n(w),M=r(210),S=o(M),E=r(87),k=r(90),C=r(89),A=o(C),P=r(25),L=o(P),D=r(266),O=o(D),I=r(88),R=o(I),N=r(42),j=o(N),F=r(425),z=o(F),B=r(427),U=o(B),V=r(1002),H=o(V),W=r(432),q=o(W),G=r(1018),Y=o(G),X=r(1029),K=o(X),Z=r(424),J=o(Z),$=r(426),Q=o($),tt=r(1008),et=o(tt),rt=r(1021),nt=o(rt),ot=r(1006),it=o(ot),at=r(434),st=o(at),lt=e.ExperienceManagement=function(t){function e(t){(0,c.default)(this,e);var r=(0,d.default)(this,(e.__proto__||(0,l.default)(e)).call(this,t));return r.handleNestedListToggle=function(t){r.setState({open:t.state.open})},r._onVisualizeLayer=r._onVisualizeLayer.bind(r),r._onCriteriasPageChanged=r._onCriteriasPageChanged.bind(r),r._onDatasetsPageChanged=r._onDatasetsPageChanged.bind(r),r._onRelaunchSearch=r._onRelaunchSearch.bind(r),r._onRestoreSearchCriteria=r._onRestoreSearchCriteria.bind(r),r._onRemoveSearchCriteria=r._onRemoveSearchCriteria.bind(r),r.state={open:!1,datasetsPageNumber:1,datasetsNumberPerPage:T.PER_PAGE_OPTIONS[T.PER_PAGE_INITIAL_INDEX],criteriasPageNumber:1,criteriasNumberPerPage:T.PER_PAGE_OPTIONS[T.PER_PAGE_INITIAL_INDEX]},r}return(0,m.default)(e,t),(0,f.default)(e,[{key:"_onCriteriasPageChanged",value:function(t,e){this.setState({criteriasPageNumber:t,criteriasNumberPerPage:e})}},{key:"_onDatasetsPageChanged",value:function(t,e){this.setState({datasetsPageNumber:t,datasetsNumberPerPage:e})}},{key:"_onVisualizeLayer",value:function(t,e,r,n){e.wms_url=r,e.currentWmsIndex=n,this.props.addDatasetLayersToVisualize([e]),this.props.selectDatasetLayer((0,a.default)({},e,{opacity:.8}))}},{key:"onReloadSearchCriteria",value:function(t){var e=this;this.props.goToSection(T.PLATFORM_SECTION_SEARCH_DATASETS),this.props.removeAllFacetKeyValue(),t.criterias.forEach(function(t){e.props.addFacetKeyValue(t.key,t.value)})}},{key:"_onRelaunchSearch",value:function(t){this.onReloadSearchCriteria(t),this.props.fetchPavicsDatasets()}},{key:"_onRestoreSearchCriteria",value:function(t){this.onReloadSearchCriteria(t),this.props.restorePavicsDatasets(t)}},{key:"_onRemoveSearchCriteria",value:function(t){this.props.removeSearchCriteriasFromProject(t)}},{key:"render",value:function(){var t=this,e=(this.state.datasetsPageNumber-1)*this.state.datasetsNumberPerPage,r=this.props.currentProjectDatasets.slice(e,e+this.state.datasetsNumberPerPage),n=(this.state.criteriasPageNumber-1)*this.state.criteriasNumberPerPage,o=this.props.currentProjectSearchCriterias.slice(n,n+this.state.criteriasNumberPerPage);return g.default.createElement("div",{className:_.default.ExperienceManagement,style:{margin:20}},g.default.createElement(L.default,null,g.default.createElement(E.List,null,g.default.createElement(A.default,null,"Current project dataset(s)"),r.map(function(e,r){var n=g.default.createElement(Y.default,null);return t.props.currentVisualizedDatasetLayers.find(function(t){return t.dataset_id===e.dataset_id})&&(n=g.default.createElement(K.default,null)),g.default.createElement(E.ListItem,{key:r,primaryText:e.dataset_id,secondaryText:g.default.createElement("p",null,g.default.createElement("span",{style:{color:k.darkBlack}},e.variable_long_name[0]),g.default.createElement("br",null),g.default.createElement("strong",null,"Keywords: "),e.keywords.join(", ")),secondaryTextLines:2,leftIcon:n,initiallyOpen:!1,primaryTogglesNestedList:!1,nestedItems:e.wms_urls.map(function(n,o){var i="/",a=n.substr(n.lastIndexOf(i)+i.length),s=g.default.createElement(J.default,null),l=!1;return t.props.currentVisualizedDatasetLayers.find(function(t){return t.wms_url===n})&&(s=g.default.createElement(U.default,null),l=!0),g.default.createElement(E.ListItem,{style:{width:"98%"},key:o,primaryText:a,leftIcon:s,rightIconButton:g.default.createElement(O.default,{iconButtonElement:g.default.createElement(j.default,{touch:!0,tooltip:"Actions",tooltipPosition:"bottom-left"},g.default.createElement(q.default,{color:k.grey400}))},g.default.createElement(R.default,{primaryText:"Visualize",disabled:l,onTouchTap:function(r){t._onVisualizeLayer(r,e,n,o)},leftIcon:g.default.createElement(U.default,null)}),g.default.createElement(R.default,{primaryText:"Download",onTouchTap:function(t){return window.open(e.opendap_urls[r],"_blank")},leftIcon:g.default.createElement(z.default,null)}),g.default.createElement(R.default,{primaryText:"Remove (TODO)",onTouchTap:function(t){return alert("remove "+a)},leftIcon:g.default.createElement(H.default,null)}),g.default.createElement(R.default,{primaryText:"Share (TODO)",onTouchTap:function(t){return alert("share "+a)},leftIcon:g.default.createElement(st.default,null)}))})})})})),g.default.createElement(S.default,{total:this.props.currentProjectDatasets.length,initialPerPageOptionIndex:T.PER_PAGE_INITIAL_INDEX,perPageOptions:T.PER_PAGE_OPTIONS,onChange:this._onDatasetsPageChanged})),g.default.createElement(L.default,{style:{marginTop:20}},g.default.createElement(E.List,null,g.default.createElement(A.default,null,"Manage search criteria(s)"),o.map(function(e,r){return g.default.createElement(E.ListItem,{key:r,primaryText:e.name,secondaryText:g.default.createElement("p",null,g.default.createElement("span",{style:{color:k.darkBlack}},e.results.length," results on ",e.date.toString()),g.default.createElement("br",null),g.default.createElement("strong",null,"Facets: "),g.default.createElement("span",null,e.criterias.map(function(t,r){return g.default.createElement("span",{key:r},t.key+"="+t.value+(r+1===e.criterias.length?"":", "))}))),secondaryTextLines:2,leftIcon:g.default.createElement(Q.default,null),rightIconButton:g.default.createElement(O.default,{iconButtonElement:g.default.createElement(j.default,{touch:!0,tooltip:"Actions",tooltipPosition:"bottom-left"},g.default.createElement(q.default,{color:k.grey400}))},g.default.createElement(R.default,{primaryText:"Rename (TODO)",onTouchTap:function(t){return alert("rename "+e.name)},leftIcon:g.default.createElement(nt.default,null)}),g.default.createElement(R.default,{primaryText:"Restore results",onTouchTap:function(r){return t._onRestoreSearchCriteria(e)},leftIcon:g.default.createElement(it.default,null)}),g.default.createElement(R.default,{primaryText:"Relaunch search",onTouchTap:function(r){return t._onRelaunchSearch(e)},leftIcon:g.default.createElement(et.default,null)}),g.default.createElement(R.default,{primaryText:"Remove",onTouchTap:function(r){return t._onRemoveSearchCriteria(e)},leftIcon:g.default.createElement(H.default,null)}))})})),g.default.createElement(S.default,{total:this.props.currentProjectSearchCriterias.length,initialPerPageOptionIndex:T.PER_PAGE_INITIAL_INDEX,perPageOptions:T.PER_PAGE_OPTIONS,onChange:this._onCriteriasPageChanged})))}}]),e}(g.default.Component);lt.propTypes={currentProjectDatasets:g.default.PropTypes.array.isRequired,currentProjectSearchCriterias:g.default.PropTypes.array.isRequired,currentVisualizedDatasetLayers:g.default.PropTypes.array.isRequired,addDatasetLayersToVisualize:g.default.PropTypes.func.isRequired,removeSearchCriteriasFromProject:g.default.PropTypes.func.isRequired,selectDatasetLayer:g.default.PropTypes.func.isRequired,goToSection:g.default.PropTypes.func.isRequired,addFacetKeyValue:g.default.PropTypes.func.isRequired,removeAllFacetKeyValue:g.default.PropTypes.func.isRequired,fetchPavicsDatasets:g.default.PropTypes.func.isRequired,restorePavicsDatasets:g.default.PropTypes.func.isRequired};var ut=function(t){return{}},ct=function(t){return{}};e.default=(0,b.connect)(ut,ct)(lt)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(546),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(8),a=o(i),s=r(2),l=o(s),u=r(7),c=o(u),p=r(4),f=o(p),h=r(3),d=o(h),y=r(1),m=o(y),v=r(36),g=n(v),b=r(142),x=o(b),_=r(210),w=o(_),T=r(87),M=r(89),S=o(M),E=r(25),k=o(E),C=r(266),A=o(C),P=r(88),L=o(P),D=r(90),O=r(42),I=o(O),R=r(434),N=o(R),j=r(432),F=o(j),z=r(427),B=o(z),U=r(74),V=o(U),H=r(433),W=o(H),q=r(424),G=o(q),Y=r(425),X=o(Y),K=r(1013),Z=o(K),J={color:"#4caf50"},$={color:"#f44336"},Q={color:"#03a9f4"},tt=function(t){function e(t){(0,l.default)(this,e);var r=(0,f.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t));return r.state={pageNumber:1,numberPerPage:g.PER_PAGE_OPTIONS[g.PER_PAGE_INITIAL_INDEX]},r.props.fetchWPSJobs(),r._onRefreshResults=r._onRefreshResults.bind(r),r._onPageChanged=r._onPageChanged.bind(r),r._onVisualiseDataset=r._onVisualiseDataset.bind(r),r}return(0,d.default)(e,t),(0,c.default)(e,[{key:"_onRefreshResults",value:function(){this.setState({pageNumber:1}),this.props.fetchWPSJobs()}},{key:"_onPageChanged",value:function(t,e){this.setState({pageNumber:t,numberPerPage:e})}},{key:"_onVisualiseDataset",value:function(t){var e="http://hirondelle.crim.ca:8080/ncWMS2/wms?SERVICE=WMS&REQUEST=GetCapabilities&VERSION=1.3.0&DATASET=outputs/wps_outputs/",r=t.indexOf("flyingpigeon"),n=t.substring(r,t.length);this.props.addDatasetLayersToVisualize([{wms_url:e+n,dataset_id:n}])}},{key:"render",value:function(){var t=this,e=void 0;if(this.props.monitor.jobs.isFetching)e=m.default.createElement(k.default,{style:{marginTop:20}},m.default.createElement(x.default,{name:"wps jobs"}));else if(this.props.monitor.jobs.items.length){var r=(this.state.pageNumber-1)*this.state.numberPerPage,n=this.props.monitor.jobs.items.slice(r,r+this.state.numberPerPage);e=m.default.createElement("div",null,m.default.createElement(k.default,{style:{marginTop:20}},m.default.createElement(T.List,null,m.default.createElement(S.default,null,"Launched Jobs"),n.map(function(e,r){var n=null,o="";try{o=e.response_to_json["wps:ExecuteResponse"]["wps:ProcessOutputs"][0]["wps:Output"][1]["wps:Reference"][0].$.href,console.log(o)}catch(t){}switch(e.status){case g.JOB_SUCCESS_STATUS:n=m.default.createElement("strong",{style:J},"COMPLETED");break;case g.JOB_FAILED_STATUS:n=m.default.createElement("strong",{style:$},"FAILED");break;default:n=m.default.createElement("strong",{style:Q},"IN PROGRESS (",e.progress?e.progress:0,"%)")}return m.default.createElement(T.ListItem,{key:r,primaryText:e.title+": "+e.abstract,secondaryText:m.default.createElement("p",null,m.default.createElement("span",{style:{color:D.darkBlack}},"Launched on ",m.default.createElement("strong",null,e.created)," using service ",m.default.createElement("strong",null,e.service),"."),m.default.createElement("br",null),m.default.createElement("strong",null,"Status: "),n),secondaryTextLines:2,rightIconButton:m.default.createElement(A.default,{iconButtonElement:m.default.createElement(I.default,{touch:!0,tooltipPosition:"bottom-left"},m.default.createElement(F.default,{color:D.grey400}))},m.default.createElement(L.default,{primaryText:"Show XML Status File",onTouchTap:function(t){return window.open(e.status_location,"_blank")},leftIcon:m.default.createElement(G.default,null)}),m.default.createElement(L.default,{primaryText:"Visualize",disabled:e.status!==g.JOB_SUCCESS_STATUS,onTouchTap:function(e){return t._onVisualiseDataset(o)},leftIcon:m.default.createElement(B.default,null)}),m.default.createElement(L.default,{primaryText:"Download",disabled:e.status!==g.JOB_SUCCESS_STATUS,onTouchTap:function(t){return window.open(o,"_blank")},leftIcon:m.default.createElement(X.default,null)}),m.default.createElement(L.default,{primaryText:"Share (TODO)",disabled:e.status!==g.JOB_SUCCESS_STATUS,onTouchTap:function(t){return alert("share: launch crawler")},leftIcon:m.default.createElement(N.default,null)}),m.default.createElement(L.default,{primaryText:"Add to current project (TODO)",disabled:e.status!==g.JOB_SUCCESS_STATUS,onTouchTap:function(t){return alert("add to current project")},leftIcon:m.default.createElement(Z.default,null)}))})})),m.default.createElement(w.default,{total:this.props.monitor.jobs.items.length,initialPerPageOptionIndex:g.PER_PAGE_INITIAL_INDEX,perPageOptions:g.PER_PAGE_OPTIONS,onChange:this._onPageChanged})))}else e=m.default.createElement(k.default,{style:{marginTop:20}},m.default.createElement(T.List,null,m.default.createElement(S.default,null,"No results found.")));return m.default.createElement("div",null,m.default.createElement("div",{className:"container"},e,m.default.createElement(V.default,{onClick:function(e){return t._onRefreshResults()},label:"Refresh",icon:m.default.createElement(W.default,null),style:{marginTop:20}})))}}]),e}(m.default.Component);tt.propTypes={addDatasetLayersToVisualize:m.default.PropTypes.func.isRequired,fetchWPSJobs:m.default.PropTypes.func.isRequired,monitor:m.default.PropTypes.object.isRequired,fetchVisualizableData:m.default.PropTypes.func.isRequired},e.default=tt},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(548),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SearchCatalog=void 0;var o=r(212),i=n(o),a=r(8),s=n(a),l=r(2),u=n(l),c=r(7),p=n(c),f=r(4),h=n(f),d=r(3),y=n(d),m=r(1),v=n(m),g=r(142),b=n(g),x=r(311),_=n(x),w=r(508),T=n(w),M=r(75),S=r(189),E=n(S),k=r(88),C=n(k),A=r(25),P=n(A),L=r(89),D=n(L),O=r(87),I=r(74),R=n(I),N=r(109),j=n(N),F=r(433),z=n(F),B=r(1017),U=n(B),V=e.SearchCatalog=function(t){function e(t){(0,u.default)(this,e);var r=(0,h.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t));return r.state={type:"dataset",confirmation:null,searchCriteriasName:"",selectedKey:"",criteriaKeys:["project","model","variable","frequency"]},r._onAddCriteriaKey=r._onAddCriteriaKey.bind(r),r._onLoadSavedCriteria=r._onLoadSavedCriteria.bind(r),r._ResetCriterias=r._ResetCriterias.bind(r),r._SaveCriterias=r._SaveCriterias.bind(r),r._onChangeSearchType=r._onChangeSearchType.bind(r),r._onSetSearchCriteriasName=r._onSetSearchCriteriasName.bind(r),r}return(0,y.default)(e,t),(0,p.default)(e,[{key:"_onChangeSearchType",value:function(t){alert("TODO: refetch Catalog API with type="+t),this.setState({type:t})}},{key:"_onLoadSavedCriteria",value:function(t){var e=this,r=this.props.currentProjectSearchCriterias.find(function(e){return e.name===t});this.setState({selectedSavedCriteria:t}),this.props.removeAllFacetKeyValue(),r.criterias.forEach(function(t){e.props.addFacetKeyValue(t.key,t.value)}),this._onSetSearchCriteriasName=this._onSetSearchCriteriasName.bind(this)}},{key:"_onAddCriteriaKey",value:function(t){var e=JSON.parse((0,i.default)(this.state.criteriaKeys));
e.push(t),this.setState({criteriaKeys:e,confirmation:null,searchCriteriasName:""})}},{key:"_onSetSearchCriteriasName",value:function(t){this.setState({searchCriteriasName:t})}},{key:"_ResetCriterias",value:function(){this.setState({criteriaKeys:["project","model","variable","frequency"],confirmation:null,searchCriteriasName:""}),this.props.removeAllFacetKeyValue(),this.props.fetchPavicsDatasets()}},{key:"_SaveCriterias",value:function(){var t=this;this.state.searchCriteriasName.length&&this.props.selectedFacets.length?this.props.currentProjectSearchCriterias.find(function(e){return e.name===t.state.searchCriteriasName})?this.setState({confirmation:v.default.createElement(M.Alert,{bsStyle:"danger",style:{marginTop:20}},"Search criteria(s) already exists with the same name. Please specify another name.")}):(this.props.addSearchCriteriasToProject({name:this.state.searchCriteriasName,date:new Date,criterias:this.props.selectedFacets,results:this.props.pavicsDatasets.items}),this.setState({confirmation:v.default.createElement(M.Alert,{bsStyle:"info",style:{marginTop:20}},"Search criteria(s) was saved with success. ",v.default.createElement("br",null),"Navigate to 'Experience Management' section to manage saved search criteria(s).")})):this.setState({confirmation:v.default.createElement(M.Alert,{bsStyle:"danger",style:{marginTop:20}},"You need to specify a name and at least one criteria to be able to save the current search criteria(s).")})}},{key:"_mainComponent",value:function(){var t=this,e=void 0;return e=this.props.facets.isFetching?v.default.createElement(b.default,{name:"facets"}):0===this.props.facets.items.length?v.default.createElement(P.default,{style:{marginTop:20}},v.default.createElement(O.List,null,v.default.createElement(D.default,null,"No facets found."))):v.default.createElement("div",null,v.default.createElement(P.default,null,v.default.createElement("div",{className:"container"},v.default.createElement(M.Row,null,v.default.createElement(M.Col,{sm:12,md:4,lg:4},v.default.createElement(E.default,{style:{width:"95%"},fullWidth:!0,floatingLabelText:"Load criteria(s)",value:this.state.selectedSavedCriteria,onChange:function(e,r,n){return t._onLoadSavedCriteria(n)}},this.props.currentProjectSearchCriterias.map(function(t,e){return v.default.createElement(C.default,{key:e,value:t.name,primaryText:t.name})}))),v.default.createElement(M.Col,{sm:12,md:4,lg:4},v.default.createElement(E.default,{style:{width:"95%"},value:this.state.type,floatingLabelText:"Type (TODO)",onChange:function(e,r,n){return t._onChangeSearchType(n)}},v.default.createElement(C.default,{value:"dataset",primaryText:"Dataset"}),v.default.createElement(C.default,{value:"file",primaryText:"File"}))),v.default.createElement(M.Col,{sm:12,md:4,lg:4},v.default.createElement(E.default,{style:{width:"95%"},floatingLabelText:"Add additional criteria",value:this.state.selectedKey,onChange:function(e,r,n){return t._onAddCriteriaKey(n)}},this.props.facets.items.map(function(e,r){return t.state.criteriaKeys.includes(e.key)?null:v.default.createElement(C.default,{key:r,value:e.key,primaryText:e.key})})))),v.default.createElement(M.Row,{style:{marginBottom:15}},this.state.criteriaKeys.map(function(e,r){return v.default.createElement(T.default,{key:r,criteriaName:e,variables:t.props.facets.items.find(function(t){return t.key===e}),menuStyle:"HERE!!!!",selectedFacets:t.props.selectedFacets,addFacetKeyValue:t.props.addFacetKeyValue,removeFacetKeyValue:t.props.removeFacetKeyValue,fetchPavicsDatasets:t.props.fetchPavicsDatasets,fetchEsgfDatasets:t.props.fetchEsgfDatasets})})),v.default.createElement(M.Col,null,v.default.createElement(j.default,{hintText:"Define a name",fullWidth:!0,onChange:function(e,r){return t._onSetSearchCriteriasName(r)},floatingLabelText:"Search Criteria(s) Name"})))),v.default.createElement(R.default,{onClick:this._SaveCriterias,label:"Save search criteria(s)",icon:v.default.createElement(U.default,null),disabled:!this.props.selectedFacets.length,style:{marginTop:20}}),v.default.createElement(R.default,{onClick:this._ResetCriterias,label:"Reset",icon:v.default.createElement(z.default,null),disabled:!this.props.selectedFacets.length,style:{marginTop:20,marginLeft:20}}),this.state.confirmation,v.default.createElement(_.default,{clickTogglePanel:this.props.clickTogglePanel,addDatasetsToProject:this.props.addDatasetsToProject,pavicsDatasets:this.props.pavicsDatasets}))}},{key:"render",value:function(){return v.default.createElement("div",{style:{margin:20}},this._mainComponent())}}]),e}(v.default.Component);V.propTypes={currentProjectSearchCriterias:v.default.PropTypes.array.isRequired,clickTogglePanel:v.default.PropTypes.func.isRequired,addSearchCriteriasToProject:v.default.PropTypes.func.isRequired,addDatasetsToProject:v.default.PropTypes.func.isRequired,addFacetKeyValue:v.default.PropTypes.func.isRequired,removeFacetKeyValue:v.default.PropTypes.func.isRequired,removeAllFacetKeyValue:v.default.PropTypes.func.isRequired,fetchFacets:v.default.PropTypes.func.isRequired,fetchDataset:v.default.PropTypes.func.isRequired,fetchEsgfDatasets:v.default.PropTypes.func.isRequired,fetchPavicsDatasets:v.default.PropTypes.func.isRequired,esgfDatasets:v.default.PropTypes.object.isRequired,pavicsDatasets:v.default.PropTypes.object.isRequired,facets:v.default.PropTypes.object.isRequired,selectedFacets:v.default.PropTypes.array.isRequired,panelControls:v.default.PropTypes.object.isRequired},e.default=V},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(550),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SearchCatalogResults=void 0;var i=r(8),a=o(i),s=r(2),l=o(s),u=r(7),c=o(u),p=r(4),f=o(p),h=r(3),d=o(h),y=r(1),m=o(y),v=r(36),g=n(v),b=r(142),x=o(b),_=r(210),w=o(_),T=r(75),M=r(87),S=r(155),E=o(S),k=r(89),C=o(k),A=r(25),P=o(A),L=r(90),D=r(42),O=o(D),I=r(1004),R=o(I),N=r(74),j=o(N),F=r(1016),z=o(F),B=e.SearchCatalogResults=function(t){function e(t){(0,l.default)(this,e);var r=(0,f.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t));return r._onAddCheckedDatasetsToProject=r._onAddCheckedDatasetsToProject.bind(r),r._onCheckedDataset=r._onCheckedDataset.bind(r),r._onPageChanged=r._onPageChanged.bind(r),r.state={checkedDatasets:[],confirm:!1,pageNumber:1,numberPerPage:g.PER_PAGE_OPTIONS[g.PER_PAGE_INITIAL_INDEX]},r}return(0,d.default)(e,t),(0,c.default)(e,[{key:"_onPageChanged",value:function(t,e){this.setState({pageNumber:t,numberPerPage:e})}},{key:"_onCheckedDataset",value:function(t){var e=this.props.pavicsDatasets.items.find(function(e){return e.dataset_id===t.target.value}),r=this.state.checkedDatasets.findIndex(function(e){return e.dataset_id===t.target.value}),n=this.state.checkedDatasets;e&&(t.target.checked?r===-1&&this.setState({checkedDatasets:n.concat([e]),confirm:!1}):(r>-1&&(n.splice(r,1),this.setState({checkedDatasets:n})),this.setState({confirm:!1})))}},{key:"_onAddCheckedDatasetsToProject",value:function(){this.props.addDatasetsToProject(this.state.checkedDatasets),this.setState({checkedDatasets:[],confirm:!0})}},{key:"render",value:function(){var t=this,e=void 0;if(this.props.pavicsDatasets.isFetching)e=m.default.createElement(P.default,{style:{marginTop:20}},m.default.createElement(x.default,{name:"datasets"}));else{var r=null;if(this.props.pavicsDatasets.archive&&(r=m.default.createElement(T.Alert,{bsStyle:"warning",style:{margin:20}},"These are ",m.default.createElement("strong",null,"ARCHIVED")," results from a request made on ",this.props.pavicsDatasets.requestedAt.toString())),this.props.pavicsDatasets.items.length){var n=(this.state.pageNumber-1)*this.state.numberPerPage,o=this.props.pavicsDatasets.items.slice(n,n+this.state.numberPerPage),i=null;this.state.confirm&&(i=m.default.createElement(T.Alert,{bsStyle:"info",style:{marginTop:20}},"Dataset(s) added to current project with success. Navigate to 'Experience Management' section to see selected dataset(s).")),e=m.default.createElement("div",null,m.default.createElement(P.default,{style:{marginTop:20}},m.default.createElement(M.List,null,r,m.default.createElement(C.default,{inset:!0},"Found ",m.default.createElement("strong",null,this.props.pavicsDatasets.items.length)," results"),o.map(function(e,r){return m.default.createElement(M.ListItem,{key:r,leftCheckbox:m.default.createElement(E.default,{value:e.dataset_id,onCheck:t._onCheckedDataset}),primaryText:e.dataset_id,secondaryText:m.default.createElement("p",null,m.default.createElement("span",{style:{color:L.darkBlack}},e.variable_long_name[0]),m.default.createElement("br",null),m.default.createElement("strong",null,"Keywords: "),e.keywords.join(", ")),secondaryTextLines:2,rightIconButton:m.default.createElement(O.default,{touch:!0,tooltip:m.default.createElement("div",null,m.default.createElement("strong",null,"Dataset: "),e.dataset_id,m.default.createElement("br",null),m.default.createElement("strong",null,"Subject: "),e.subject,m.default.createElement("br",null),m.default.createElement("strong",null,"Category: "),e.category,m.default.createElement("br",null),m.default.createElement("strong",null,"Experiment: "),e.experiment,m.default.createElement("br",null),m.default.createElement("strong",null,"Variable: "),e.variable.join(", "),m.default.createElement("br",null),m.default.createElement("strong",null,"Project: "),e.project,m.default.createElement("br",null),m.default.createElement("strong",null,"Institute: "),e.institute,m.default.createElement("br",null),m.default.createElement("strong",null,"Model: "),e.model,m.default.createElement("br",null),m.default.createElement("strong",null,"Units: "),e.units.join(", "),m.default.createElement("br",null),m.default.createElement("strong",null,"Frequency: "),e.frequency,m.default.createElement("br",null),m.default.createElement("strong",null,"Content type: "),e.content_type,m.default.createElement("br",null)),tooltipPosition:"bottom-left"},m.default.createElement(R.default,{color:L.grey400}))})})),m.default.createElement(w.default,{total:this.props.pavicsDatasets.items.length,initialPerPageOptionIndex:g.PER_PAGE_INITIAL_INDEX,perPageOptions:g.PER_PAGE_OPTIONS,onChange:this._onPageChanged})),m.default.createElement(j.default,{disabled:!this.state.checkedDatasets.length,onClick:this._onAddCheckedDatasetsToProject,icon:m.default.createElement(z.default,null),label:"Add selection(s)",style:{marginTop:"20px"}}),i)}else e=this.props.pavicsDatasets.receivedAt?m.default.createElement(P.default,{style:{marginTop:20}},m.default.createElement(M.List,null,r,m.default.createElement(C.default,null,"No results found."))):m.default.createElement(P.default,{style:{marginTop:20}},m.default.createElement(M.List,null,m.default.createElement(C.default,null,"Select at least one facet to launch dataset's search")))}return m.default.createElement("div",null,e)}}]),e}(m.default.Component);B.propTypes={clickTogglePanel:m.default.PropTypes.func.isRequired,addDatasetsToProject:m.default.PropTypes.func.isRequired,pavicsDatasets:m.default.PropTypes.object.isRequired},e.default=B},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.TimeSlider=void 0;var i=r(117),a=o(i),s=r(8),l=o(s),u=r(2),c=o(u),p=r(7),f=o(p),h=r(4),d=o(h),y=r(3),m=o(y),v=r(1),g=o(v),b=r(140),x=r(36),_=n(x),w=r(847),T=o(w),M=r(1054),S=o(M),E=r(75),k=r(25),C=o(k),A=r(131),P=o(A),L=r(184),D=(o(L),r(89)),O=(o(D),r(189)),I=o(O),R=r(88),N=o(R),j=r(74),F=o(j),z=r(109),B=o(z),U=r(42),V=o(U),H=r(423),W=o(H),q=r(1012),G=o(q),Y=r(1011),X=o(Y),K=r(1014),Z=o(K),J=r(1015),$=o(J),Q=r(1009),tt=o(Q),et=r(1010),rt=o(et),nt=r(157),ot=o(nt);r(836);var it=1e5,at="fast-backward",st="fast-forward",lt="pause",ut="play",ct="step-backward",pt="step-forward",ft="day",ht="hour",dt="minute",yt="month",mt="year",vt={disabled:!0,maxDatetime:"2020-12-31T00:00:00.000Z",minDatetime:"1900-01-01T00:00:00.000Z",currentDate:"1900-01-01",currentMonthDay:"01-01",currentTime:"00:00:00.000Z",currentYear:1900,firstDay:1,firstMonth:1,firstYear:1900,lastDay:31,lastYear:2020,lastMonth:12,isPlaying:!1,marksYears:{1900:"1900",1940:"1940",1980:"1980",2020:"2020"},stepLength:1,stepGranularity:ft,stepSpeed:5e3,timesteps:["00:00:00.000Z"]},gt=e.TimeSlider=function(t){function e(t){(0,c.default)(this,e);var r=(0,d.default)(this,(e.__proto__||(0,l.default)(e)).call(this,t));return r._onChangedCurrentDate=r._onChangedCurrentDate.bind(r),r._onChangedStepGranularity=r._onChangedStepGranularity.bind(r),r._onChangedStepLength=r._onChangedStepLength.bind(r),r._onChangedStepSpeed=r._onChangedStepSpeed.bind(r),r._onChangedMonthSlider=r._onChangedMonthSlider.bind(r),r._onChangedYearSlider=r._onChangedYearSlider.bind(r),r._onHideTimeSliderPanel=r._onHideTimeSliderPanel.bind(r),r._onSelectedTime=r._onSelectedTime.bind(r),r.state=vt,r}return(0,m.default)(e,t),(0,f.default)(e,[{key:"componentWillReceiveProps",value:function(t){t.currentDateTime&&t.currentDateTime!==this.props.currentDateTime&&this.setState({currentDate:t.currentDateTime.substring(0,10),currentMonthDay:t.currentDateTime.substring(5,10),currentTime:t.currentDateTime.substring(11,24),currentYear:t.currentDateTime.substring(0,4)}),t.selectedDatasetLayer&&t.selectedDatasetLayer!==this.props.selectedDatasetLayer&&!t.selectedDatasetLayer.dataset_id&&this.setState(vt)}},{key:"componentDidUpdate",value:function(t,e){this.props.selectedWMSLayerDetails&&this.props.selectedWMSLayerDetails.data&&this.props.selectedWMSLayerDetails.data!==t.selectedWMSLayerDetails.data&&(this.props.selectedWMSLayerDetails.isFetching||this.props.selectedWMSLayerTimesteps.isFetching||(this.props.selectedWMSLayerDetails.data.datesWithData?(this.changeGlobalRange(),this.changeTimesteps(),this.setState({disabled:!1})):this.setState(vt))),this.props.selectedWMSLayerTimesteps&&this.props.selectedWMSLayerTimesteps.data&&this.props.selectedWMSLayerTimesteps.data!==t.selectedWMSLayerTimesteps.data&&(this.props.selectedWMSLayerDetails.isFetching||this.props.selectedWMSLayerTimesteps.isFetching||this.props.selectedWMSLayerDetails.data.datesWithData&&(this.changeGlobalRange(),this.changeTimesteps()))}},{key:"_onHideTimeSliderPanel",value:function(){this.props.onToggleMapPanel(_.VISUALIZE_TIME_SLIDER_PANEL)}},{key:"findDimension",value:function(t,e){for(var r=0;r<t.length;r++)if(t[r].name===e)return t[r]}},{key:"parseTimeDimensionString",value:function(t){for(var e={},r=0,n=t.length;r!==n;r++){var o=t[r].substr(0,4);e[o]=!0}return(0,a.default)(e)}},{key:"changeGlobalRange",value:function(){var t=this.props.selectedWMSLayerDetails.data,e=this.props.selectedWMSLayerTimesteps.data.timesteps,r=(0,a.default)(t.datesWithData)[0],n=t.datesWithData[r],o=(0,a.default)(n)[0],i=n[o][0],s=parseInt(o)+1,l=parseInt(i);s=s<10?"0"+s:s.toString(),l=l<10?"0"+l:l.toString(),this.setState({minDatetime:r+"-"+s+"-"+l+"T"+e[0],maxDatetime:t.nearestTimeIso});var u={},c=[];for(var p in t.datesWithData)c.push(parseInt(p));c.sort();var f=parseInt(c[0]),h=parseInt(c[c.length-1]);if(c<=10)c.forEach(function(t){u[t]=t});else{u[f]=f;var d=h-f,y=0;y=d<=200?d<=75?d<=40?5:10:25:100;for(var m=!1,v=0,g=0;!m;)(f+v)%y===0&&(m=!0,g=f+v),v++;for(var b=g;b<h;)u[b]=b,b+=y;u[h]=h}this.setState({currentDate:this.props.currentDateTime.substring(0,10),currentMonthDay:this.props.currentDateTime.substring(5,10),currentTime:""+this.props.currentDateTime.substring(11,24),currentYear:f,firstYear:f,lastYear:h,marksYears:u})}},{key:"changeTimesteps",value:function(){var t=this.props.selectedWMSLayerDetails.data.datesWithData,e=this.props.selectedWMSLayerTimesteps.data.timesteps,r=1,n=ft;if(e.length)e.length>24?(n=dt,r=Math.round(60/(Math.round(e.length)/24))):e.length>=2&&e.length<24?(n=ht,r=Math.round(24/e.length)):(n=ft,r=1);else{var o=t[(0,a.default)(t)[0]];if((0,a.default)(o).length<12)n=yt,r=Math.round(12/(0,a.default)(o).length);else{var i=o[(0,a.default)(o)[0]];i.length<30?(n=ft,r=Math.round(30/i.length)):(n=mt,r=1)}}var s=this.state.currentTime;e&&e.length&&(s=e[0]),this.setState({stepLength:r,stepGranularity:n,timesteps:e,currentTime:s}),console.log("current time is now "+s)}},{key:"changeCurrentDateTime",value:function(){var t=this.state.currentYear+"-"+this.state.currentMonthDay+"T"+this.state.currentTime;this.props.currentDateTime!==t&&this.props.setCurrentDateTime(t)}},{key:"render",value:function(){var t=this,e={};return e[new Date(this.state.currentYear,1,1).valueOf()/it]="Jan",e[new Date(this.state.currentYear,2,1).valueOf()/it]="Feb",e[new Date(this.state.currentYear,3,1).valueOf()/it]="Mar",e[new Date(this.state.currentYear,4,1).valueOf()/it]="Apr",e[new Date(this.state.currentYear,5,1).valueOf()/it]="May",e[new Date(this.state.currentYear,6,1).valueOf()/it]="Jun",e[new Date(this.state.currentYear,7,1).valueOf()/it]="Jul",e[new Date(this.state.currentYear,8,1).valueOf()/it]="Aug",e[new Date(this.state.currentYear,9,1).valueOf()/it]="Sept",e[new Date(this.state.currentYear,10,1).valueOf()/it]="Oct",e[new Date(this.state.currentYear,11,1).valueOf()/it]="Nov",e[new Date(this.state.currentYear,12,1).valueOf()/it]="Dec",g.default.createElement(C.default,{className:T.default.TimeSlider},g.default.createElement(P.default,{title:"Temporal Slider",iconElementLeft:g.default.createElement(V.default,null,g.default.createElement(W.default,null)),iconElementRight:g.default.createElement(V.default,null,g.default.createElement(ot.default,{onTouchTap:function(e){return t._onHideTimeSliderPanel()}}))}),g.default.createElement("div",{className:"container"},g.default.createElement(E.Row,null,g.default.createElement(E.Col,{md:4,lg:4},g.default.createElement(B.default,{disabled:this.state.disabled,value:this.state.currentDate,hintText:"Format 9999-99-99",fullWidth:!0,onChange:function(e,r){return t._onChangedCurrentDate(r)},floatingLabelText:"Current Date"})),g.default.createElement(E.Col,{md:4,lg:4},g.default.createElement(I.default,{disabled:this.state.disabled,value:this.state.currentTime,fullWidth:!0,floatingLabelText:"Time",onChange:function(e,r,n){return t._onSelectedTime(n)}},this.state.timesteps&&this.state.timesteps.length?this.state.timesteps.map(function(t){return g.default.createElement(N.default,{key:t,value:t,primaryText:t.substring(0,8)})}):g.default.createElement(N.default,{value:"00:00:00.000Z",primaryText:"00:00:00"}))),g.default.createElement(E.Col,{md:4,lg:4},g.default.createElement(B.default,{disabled:!0,value:this.props.currentDateTime.substring(0,10)+" "+this.props.currentDateTime.substring(11,19),hintText:"Format 9999-99-99 00:00:00",fullWidth:!0,floatingLabelText:"Current Datetime"}))),g.default.createElement(E.Row,null,g.default.createElement(E.Col,{sm:12},g.default.createElement(S.default,{disabled:this.state.disabled,tipFormatter:function(t){var e=new Date(t*it);return(0===e.getMonth()?"12":e.getMonth())+"/"+e.getDate()},className:T.default.SliderMonths,min:new Date(this.state.currentYear,1,1).valueOf()/it,max:new Date(this.state.currentYear,12,31).valueOf()/it,marks:e,included:!1,range:!1,value:new Date(this.state.currentYear,this.state.currentMonthDay.substring(0,2),this.state.currentMonthDay.substring(3,5)).valueOf()/it,onChange:this._onChangedMonthSlider}))),g.default.createElement(E.Row,null,g.default.createElement(E.Col,{sm:12},g.default.createElement(S.default,{className:T.default.SliderYears,disabled:this.state.disabled,min:this.state.firstYear,max:this.state.lastYear,marks:this.state.marksYears,range:!1,included:!1,value:this.state.currentYear,defaultValue:1900,onChange:this._onChangedYearSlider}))),g.default.createElement(E.Row,{className:T.default.StepControls},g.default.createElement(E.Col,{md:4,lg:4},g.default.createElement(B.default,{disabled:this.state.disabled,type:"number",value:this.state.stepLength,onChange:function(e,r){return t._onChangedStepLength(r)},hintText:"Number",fullWidth:!0,floatingLabelText:"Timestep Length"})),g.default.createElement(E.Col,{md:4,lg:4},g.default.createElement(I.default,{disabled:this.state.disabled,value:this.state.stepGranularity,fullWidth:!0,floatingLabelText:"Timestep Granularity Level",onChange:function(e,r,n){return t._onChangedStepGranularity(n)}},g.default.createElement(N.default,{value:dt,primaryText:"minute(s)"}),g.default.createElement(N.default,{value:ht,primaryText:"hour(s)"}),g.default.createElement(N.default,{value:ft,primaryText:"day(s)"}),g.default.createElement(N.default,{value:yt,primaryText:"month(s)"}),g.default.createElement(N.default,{value:mt,primaryText:"year(s)"}))),g.default.createElement(E.Col,{md:4,lg:4},g.default.createElement(I.default,{disabled:this.state.disabled,value:this.state.stepSpeed,fullWidth:!0,floatingLabelText:"Play Speed Level",onChange:function(e,r,n){return t._onChangedStepSpeed(n)}},g.default.createElement(N.default,{value:1e4,primaryText:"super slow"}),g.default.createElement(N.default,{value:5e3,primaryText:"slow"}),g.default.createElement(N.default,{value:3e3,primaryText:"medium"}),g.default.createElement(N.default,{value:1e3,primaryText:"fast"})))),g.default.createElement(E.Row,null,g.default.createElement(E.Col,{sm:12},g.default.createElement(F.default,{disabled:this.state.minDatetime===this.props.currentDateTime||this.state.disabled,primary:!0,icon:g.default.createElement(rt.default,null),style:{margin:"0 5px 0 5px",width:"13%"},onClick:this._onClickedStepControls.bind(this,at)}),g.default.createElement(F.default,{disabled:this.state.minDatetime===this.props.currentDateTime||this.state.disabled,primary:!0,icon:g.default.createElement($.default,null),style:{margin:"0 5px 0 5px",width:"13%"},onClick:this._onClickedStepControls.bind(this,ct)}),g.default.createElement(F.default,{disabled:this.state.disabled,primary:!0,icon:g.default.createElement(G.default,null),style:{margin:"0 5px 0 5px",width:"19%"},onClick:this._onClickedStepControls.bind(this,ut)}),g.default.createElement(F.default,{disabled:this.state.disabled,primary:!0,icon:g.default.createElement(X.default,null),style:{margin:"0 5px 0 5px",width:"19%"},onClick:this._onClickedStepControls.bind(this,lt)}),g.default.createElement(F.default,{disabled:this.state.maxDatetime===this.props.currentDateTime||this.state.disabled,primary:!0,icon:g.default.createElement(Z.default,null),style:{margin:"0 5px 0 5px",width:"13%"},onClick:this._onClickedStepControls.bind(this,pt)}),g.default.createElement(F.default,{disabled:this.state.maxDatetime===this.props.currentDateTime||this.state.disabled,primary:!0,icon:g.default.createElement(tt.default,null),style:{margin:"0 5px 0 5px",width:"13%"},onClick:this._onClickedStepControls.bind(this,st)})))))}},{key:"_onChangedMonthSlider",value:function(t){var e=this;if(t[0]){var r=[new Date(t[0]*it),new Date(t[1]*it)];console.log("["+((0===r[0].getMonth()?"12":r[0].getMonth())+"-"+r[0].getDate())+", "+((0===r[1].getMonth()?"12":r[1].getMonth())+"-"+r[1].getDate())+"]")}else{var n=new Date(t*it),o=n.getMonth(),i=n.getDate(),a=(0===o?"12":o<10?"0"+o:o)+"-"+(i<10?"0"+i:i);a===this.state.currentMonthDay&&this.state.currentYear+"-"+a===this.state.currentDate||this.setState({currentMonthDay:a,currentDate:this.state.currentYear+"-"+a},function(){return e.changeCurrentDateTime()})}}},{key:"_onChangedYearSlider",value:function(t){var e=this;t[0]||this.setState({currentYear:t,currentDate:t+"-"+this.state.currentMonthDay},function(){return e.changeCurrentDateTime()})}},{key:"_onChangedCurrentDate",value:function(t){var e=this;this.setState({currentDate:t}),10===t.length&&this.setState({currentYear:t.substring(0,4),currentMonthDay:t.substring(5,10)},function(){return e.changeCurrentDateTime()})}},{key:"_onChangedStepLength",value:function(t){this.setState({stepLength:t})}},{key:"_onChangedStepGranularity",value:function(t){this.setState({stepGranularity:t})}},{key:"_onChangedStepSpeed",value:function(t){this.setState({stepSpeed:t})}},{key:"_onSelectedTime",value:function(t){var e=this;this.setState({currentTime:t},function(){return e.changeCurrentDateTime()})}},{key:"_onClickedStepControls",value:function(t){switch(t){case at:this.dispatchCurrentDateTime(this.state.minDatetime);break;case st:this.dispatchCurrentDateTime(this.state.maxDatetime);break;case lt:this.setState({isPlaying:!1});break;case ut:this.setState({isPlaying:!0}),this.playLoop(!0);break;case ct:this.moveOneStep(!1);break;case pt:this.moveOneStep(!0)}}},{key:"playLoop",value:function(t){var e=this;setTimeout(function(){e.moveOneStep(!0),console.log("looping"),e.state.isPlaying&&e.playLoop(!1)},t?0:this.state.stepSpeed)}},{key:"dispatchCurrentDateTime",value:function(t){var e=this;this.setState({currentDate:t.substring(0,10),currentMonthDay:t.substring(5,10),currentTime:t.substring(11,24),currentYear:t.substring(0,4)},function(){return e.changeCurrentDateTime()})}},{key:"moveOneStep",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=new Date(this.props.currentDateTime),r=parseInt(this.state.stepLength);switch(this.state.stepGranularity){case dt:t?e.setMinutes(e.getMinutes()+r):e.setMinutes(e.getMinutes()-r);break;case ht:t?e.setHours(e.getHours()+r):e.setHours(e.getHours()-r);break;case ft:t?e.setHours(e.getHours()+24*r):e.setHours(e.getHours()-24*r);break;case yt:t?e.setMonth(e.getMonth()+r):e.setMonth(e.getMonth()-r);break;case mt:t?e.setFullYear(e.getFullYear()+r):e.setFullYear(e.getFullYear()-r)}var n=e.toISOString();t&&e.valueOf()<=new Date(this.state.maxDatetime).valueOf()?this.dispatchCurrentDateTime(n):!t&&e.valueOf()>=new Date(this.state.minDatetime).valueOf()?this.dispatchCurrentDateTime(n):t?(this.dispatchCurrentDateTime(this.state.maxDatetime),console.log("New step forward request is out of dataset range (too late). Targeted MAX dataset date.")):(this.dispatchCurrentDateTime(this.state.minDatetime),console.log("New step backward request is out of dataset range (too early). Targeted MIN dataset date."))}}]),e}(g.default.Component);gt.propTypes={monthsRange:g.default.PropTypes.bool.isRequired,yearsRange:g.default.PropTypes.bool.isRequired,currentDateTime:g.default.PropTypes.string.isRequired,selectedDatasetLayer:g.default.PropTypes.object.isRequired,selectedDatasetCapabilities:g.default.PropTypes.object.isRequired,selectedWMSLayerDetails:g.default.PropTypes.object.isRequired,selectedWMSLayerTimesteps:g.default.PropTypes.object.isRequired,setCurrentDateTime:g.default.PropTypes.func.isRequired,onToggleMapPanel:g.default.PropTypes.func.isRequired};var bt=function(t){return{}},xt=function(t){return{}};e.default=(0,b.connect)(bt,xt)(gt)},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(8),a=o(i),s=r(2),l=o(s),u=r(7),c=o(u),p=r(4),f=o(p),h=r(3),d=o(h),y=r(1),m=o(y),v=r(307),g=o(v),b=r(530),x=o(b),_=r(36),w=n(_),T=function(t){function e(t){(0,l.default)(this,e);var r=(0,f.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t));return r.togglePanel=function(){var t=!r.props.panelControls[w.PANEL_CLIMATE_INDICATORS].show;r.props.clickTogglePanel(w.PANEL_CLIMATE_INDICATORS,t)},r.props.fetchClimateIndicators(),r.togglePanel=r.togglePanel.bind(r),r}return(0,d.default)(e,t),(0,c.default)(e,[{key:"formatRows",value:function(){return 0===this.props.climateIndicators.items.length?[]:this.props.climateIndicators.items.map(function(t,e){return[m.default.createElement("input",{type:"radio",name:"climate-indicator",key:e}),t.value]})}},{key:"render",value:function(){return m.default.createElement(g.default,null,m.default.createElement(v.PanelHeader,{onClick:this.togglePanel,icon:"glyphicon-list",panelIsActive:this.props.panelControls[w.PANEL_CLIMATE_INDICATORS].show},"Climate Indicators"),this.props.panelControls[w.PANEL_CLIMATE_INDICATORS].show?m.default.createElement(x.default,null,m.default.createElement(b.TableHeader,{fields:["","Indicator Name"]}),m.default.createElement(b.TableBody,{rows:this.formatRows(),selectedIndex:-1})):null)}}]),e}(m.default.Component);T.propTypes={fetchClimateIndicators:m.default.PropTypes.func.isRequired,climateIndicators:m.default.PropTypes.object.isRequired,clickTogglePanel:m.default.PropTypes.func.isRequired,panelControls:m.default.PropTypes.object.isRequired},e.default=T},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(8),a=o(i),s=r(2),l=o(s),u=r(7),c=o(u),p=r(4),f=o(p),h=r(3),d=o(h),y=r(1),m=o(y),v=r(848),g=o(v),b=r(517),x=o(b),_=r(522),w=r(312),T=o(w),M=r(510),S=o(M),E=r(512),k=o(E),C=r(532),A=o(C),P=r(515),L=o(P),D=r(36),O=n(D),I=function(t){function e(t){(0,l.default)(this,e);var r=(0,f.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t));console.log(t),r._onToggleMapPanel=r._onToggleMapPanel.bind(r),r.setOLComponentReference=r.setOLComponentReference.bind(r);var n={};return n[O.VISUALIZE_INFO_PANEL]=!1,n[O.VISUALIZE_MAP_CONTROLS_PANEL]=!0,n[O.VISUALIZE_CHART_PANEL]=!1,n[O.VISUALIZE_LAYER_SWITCHER_PANEL]=!0,n[O.VISUALIZE_TIME_SLIDER_PANEL]=!0,r.state={mapPanelStatus:n,OLComponentReference:{}},r.props.fetchFacets(),r}return(0,d.default)(e,t),(0,c.default)(e,[{key:"_onToggleMapPanel",value:function(t){var e=this.state.mapPanelStatus;e[t]=!e[t],this.setState({mapPanelStatus:e,OLComponentReference:this.state.OLComponentReference}),console.log(t)}},{key:"setOLComponentReference",value:function(t){this.setState({mapPanelStatus:this.state.mapPanelStatus,OLComponentReference:t})}},{key:"render",value:function(){var t=this,e=function(e,r){t.props.selectMapManipulationMode(r)};return m.default.createElement("div",null,m.default.createElement("div",{className:g.default.Visualize},m.default.createElement("div",{className:g.default.mapContainer},m.default.createElement(x.default,{selectRegion:this.props.selectRegion,unselectRegion:this.props.unselectRegion,currentDateTime:this.props.currentDateTime,fetchPlotlyData:this.props.fetchPlotlyData,fetchScalarValue:this.props.fetchScalarValue,fetchWMSLayerDetails:this.props.fetchWMSLayerDetails,fetchWMSLayerTimesteps:this.props.fetchWMSLayerTimesteps,layer:this.props.layer,mapManipulationMode:this.props.mapManipulationMode,selectedBasemap:this.props.selectedBasemap,selectedColorPalette:this.props.selectedColorPalette,selectedDatasetCapabilities:this.props.selectedDatasetCapabilities,selectedDatasetLayer:this.props.selectedDatasetLayer,selectedRegions:this.props.selectedRegions,selectedShapefile:this.props.selectedShapefile,setCurrentDateTime:this.props.setCurrentDateTime,setSelectedDatasetCapabilities:this.props.setSelectedDatasetCapabilities,ref:this.setOLComponentReference})),m.default.createElement(_.PieMenu,{mapPanelStatus:this.state.mapPanelStatus,onToggleMapPanel:this._onToggleMapPanel}),m.default.createElement("div",{className:g.default.left},this.state.mapPanelStatus[O.VISUALIZE_INFO_PANEL]?m.default.createElement("div",{className:g.default.panel},m.default.createElement(S.default,{onToggleMapPanel:this._onToggleMapPanel,currentScalarValue:this.props.currentScalarValue})):null,this.state.mapPanelStatus[O.VISUALIZE_CHART_PANEL]?m.default.createElement("div",{className:g.default.panel},m.default.createElement(A.default,{currentScalarValue:this.props.currentScalarValue,selectedDatasetLayer:this.props.selectedDatasetLayer,onToggleMapPanel:this._onToggleMapPanel,plotlyData:this.props.plotlyData,fetchPlotlyData:this.props.fetchPlotlyData
})):null,this.state.mapPanelStatus[O.VISUALIZE_LAYER_SWITCHER_PANEL]?m.default.createElement("div",{className:g.default.panel},m.default.createElement(k.default,{resetSelectedRegions:this.props.resetSelectedRegions,onToggleMapPanel:this._onToggleMapPanel,selectColorPalette:this.props.selectColorPalette,selectedColorPalette:this.props.selectedColorPalette,fetchShapefiles:this.props.fetchShapefiles,selectDatasetLayer:this.props.selectDatasetLayer,selectShapefile:this.props.selectShapefile,selectBasemap:this.props.selectBasemap,currentVisualizedDatasetLayers:this.props.currentVisualizedDatasetLayers,selectedDatasetLayer:this.props.selectedDatasetLayer,selectedShapefile:this.props.selectedShapefile,selectedBasemap:this.props.selectedBasemap,publicShapeFiles:this.props.publicShapeFiles,baseMaps:this.props.baseMaps})):null,this.state.mapPanelStatus[O.VISUALIZE_TIME_SLIDER_PANEL]?m.default.createElement("div",{className:g.default.panel},m.default.createElement(T.default,{selectedWMSLayerDetails:this.props.selectedWMSLayerDetails,selectedWMSLayerTimesteps:this.props.selectedWMSLayerTimesteps,setCurrentDateTime:this.props.setCurrentDateTime,selectedDatasetLayer:this.props.selectedDatasetLayer,selectedDatasetCapabilities:this.props.selectedDatasetCapabilities,currentDateTime:this.props.currentDateTime,monthsRange:!1,yearsRange:!1,onToggleMapPanel:this._onToggleMapPanel})):null,this.state.mapPanelStatus[O.VISUALIZE_MAP_CONTROLS_PANEL]?m.default.createElement("div",{className:g.default.panel,style:{clear:"left"}},m.default.createElement(L.default,{onToggleMapPanel:this._onToggleMapPanel,selectMapManipulationMode:e})):null)))}}]),e}(m.default.Component);I.propTypes={selectMapManipulationMode:m.default.PropTypes.func.isRequired,selectedDatasetCapabilities:m.default.PropTypes.object.isRequired,selectedDatasetLayer:m.default.PropTypes.object.isRequired,currentScalarValue:m.default.PropTypes.object.isRequired,currentVisualizedDatasetLayers:m.default.PropTypes.array.isRequired,fetchShapefiles:m.default.PropTypes.func.isRequired,selectedShapefile:m.default.PropTypes.object.isRequired,selectedBasemap:m.default.PropTypes.string.isRequired,selectDatasetLayer:m.default.PropTypes.func.isRequired,selectShapefile:m.default.PropTypes.func.isRequired,selectBasemap:m.default.PropTypes.func.isRequired,fetchFacets:m.default.PropTypes.func.isRequired,fetchPlotlyData:m.default.PropTypes.func.isRequired,panelControls:m.default.PropTypes.object.isRequired,plotlyData:m.default.PropTypes.object.isRequired,publicShapeFiles:m.default.PropTypes.array.isRequired,mapManipulationMode:m.default.PropTypes.string.isRequired,baseMaps:m.default.PropTypes.array.isRequired,currentDateTime:m.default.PropTypes.string.isRequired,fetchScalarValue:m.default.PropTypes.func.isRequired,fetchWMSLayerDetails:m.default.PropTypes.func.isRequired,fetchWMSLayerTimesteps:m.default.PropTypes.func.isRequired,selectedWMSLayerTimesteps:m.default.PropTypes.object.isRequired,selectedWMSLayerDetails:m.default.PropTypes.object.isRequired,setCurrentDateTime:m.default.PropTypes.func.isRequired,setSelectedDatasetCapabilities:m.default.PropTypes.func.isRequired,selectedRegions:m.default.PropTypes.array.isRequired,selectedColorPalette:m.default.PropTypes.object.isRequired,selectColorPalette:m.default.PropTypes.func.isRequired,selectRegion:m.default.PropTypes.func.isRequired,unselectRegion:m.default.PropTypes.func.isRequired,resetSelectedRegions:m.default.PropTypes.func.isRequired},e.default=I},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Visualize=e.ClimateIndicators=void 0;var o=r(554),i=n(o),a=r(555),s=n(a);e.ClimateIndicators=i.default,e.Visualize=s.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=r(310),v=n(m),g=function(t){function e(t){(0,s.default)(this,e);var r=(0,p.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t));return r.props.fetchProviders(),r.props.selectedProvider&&r.props.fetchProcesses(r.props.selectedProvider),r}return(0,h.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){return y.default.createElement(v.default,{selectedRegions:this.props.selectedRegions,selectedDatasetLayer:this.props.selectedDatasetLayer,selectedShapefile:this.props.selectedShapefile,stepIndex:this.props.stepIndex,processes:this.props.processes,chooseProcess:this.props.chooseProcess,fetchProcessInputs:this.props.fetchProcessInputs,selectWpsProvider:this.props.selectWpsProvider,providers:this.props.providers,selectedProvider:this.props.selectedProvider,getLastStep:this.props.getLastStep,selectedProcess:this.props.selectedProcess,selectedProcessValues:this.props.selectedProcessValues,selectedProcessInputs:this.props.selectedProcessInputs,goToSection:this.props.goToSection,executeProcess:this.props.executeProcess,handleSelectedProcessValueChange:this.props.handleSelectedProcessValueChange})}}]),e}(y.default.Component);g.propTypes={processes:y.default.PropTypes.array.isRequired,chooseProcess:y.default.PropTypes.func.isRequired,stepIndex:y.default.PropTypes.number.isRequired,selectedProcess:y.default.PropTypes.object.isRequired,selectedProvider:y.default.PropTypes.string.isRequired,selectedProcessInputs:y.default.PropTypes.array.isRequired,selectedProcessValues:y.default.PropTypes.object.isRequired,executeProcess:y.default.PropTypes.func.isRequired,handleSelectedProcessValueChange:y.default.PropTypes.func.isRequired,fetchProviders:y.default.PropTypes.func.isRequired,fetchProcesses:y.default.PropTypes.func.isRequired,fetchProcessInputs:y.default.PropTypes.func.isRequired,selectWpsProvider:y.default.PropTypes.func.isRequired,providers:y.default.PropTypes.object.isRequired,goToSection:y.default.PropTypes.func.isRequired,getLastStep:y.default.PropTypes.func.isRequired,selectedShapefile:y.default.PropTypes.object.isRequired,selectedDatasetLayer:y.default.PropTypes.object.isRequired,selectedRegions:y.default.PropTypes.array.isRequired},e.default=g},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(557),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.WorkflowWizard=e.Visualize=e.TimeSlider=e.ProcessMonitoring=e.ClimateIndicators=e.SearchCatalogResults=e.SearchCatalog=e.ExperienceManagement=e.AccountManagement=void 0;var o=r(544),i=n(o),a=r(547),s=n(a),l=r(551),u=n(l),c=r(311),p=n(c),f=r(312),h=n(f),d=r(556),y=r(558),m=n(y),v=r(549),g=n(v);e.AccountManagement=i.default,e.ExperienceManagement=s.default,e.SearchCatalog=u.default,e.SearchCatalogResults=p.default,e.ClimateIndicators=d.ClimateIndicators,e.ProcessMonitoring=g.default,e.TimeSlider=h.default,e.Visualize=d.Visualize,e.WorkflowWizard=m.default,e.default=function(){throw new Error("you must import a specific container")}},,,function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=o(i),s=r(8),l=o(s),u=r(2),c=o(u),p=r(7),f=o(p),h=r(4),d=o(h),y=r(3),m=o(y),v=r(1),g=o(v),b=r(140),x=r(420),_=o(x),w=r(313),T=n(w),M=r(36),S=n(M),E=r(559),k=r(308),C=function(t){function e(){return(0,c.default)(this,e),(0,d.default)(this,(e.__proto__||(0,l.default)(e)).apply(this,arguments))}return(0,m.default)(e,t),(0,f.default)(e,[{key:"makeSection",value:function(){switch(this.props.platform.section){case S.PLATFORM_SECTION_SEARCH_DATASETS:return g.default.createElement("div",null,g.default.createElement(E.SearchCatalog,this.props));case S.PLATFORM_SECTION_EXPERIENCE_MANAGEMENT:return g.default.createElement(E.ExperienceManagement,this.props);case S.PLATFORM_SECTION_WORKFLOWS:return g.default.createElement(E.WorkflowWizard,this.props);case S.PLATFORM_SECTION_MONITOR:return g.default.createElement(E.ProcessMonitoring,{addDatasetLayersToVisualize:this.props.addDatasetLayersToVisualize,fetchWPSJobs:this.props.fetchWPSJobs,monitor:this.props.monitor,fetchVisualizableData:this.props.fetchVisualizableData});case S.PLATFORM_SECTION_ACCOUNT_MANAGEMENT:return g.default.createElement(E.AccountManagement,this.props);default:return null}}},{key:"render",value:function(){return g.default.createElement(_.default,null,g.default.createElement("div",null,g.default.createElement(E.Visualize,this.props),g.default.createElement(k.SectionalPanel,{section:this.props.platform.section,goToSection:this.props.goToSection,chooseStep:this.props.chooseStep,showContent:null!==this.makeSection(),currentContent:this.makeSection()})))}}]),e}(g.default.Component);C.propTypes={addDatasetLayersToVisualize:g.default.PropTypes.func.isRequired,chooseStep:g.default.PropTypes.func.isRequired,goToSection:g.default.PropTypes.func.isRequired,platform:g.default.PropTypes.object.isRequired,fetchWPSJobs:g.default.PropTypes.func.isRequired,monitor:g.default.PropTypes.object.isRequired,fetchVisualizableData:g.default.PropTypes.func.isRequired};var A=(0,a.default)({},T),P=function(t){return(0,a.default)({},t.pavics.workflowWizard,t.pavics.visualize,{platform:t.pavics.platform,monitor:t.pavics.monitor})};e.default=(0,b.connect)(P,A)(C)},,,,function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i,a=r(79),s=o(a),l=r(36),u=n(l),c={workflowWizard:{selectedProcess:{url:"",identifier:"",description:"",title:""},stepIndex:0,selectedProcessInputs:[],selectedProcessValues:{},currentStep:u.WORKFLOW_STEP_PROCESS,processes:[],providers:{items:[]},selectedProvider:""},platform:{section:""},monitor:{jobs:{requestedAt:null,receivedAt:null,isFetching:!1,items:[],error:null}},visualize:{mapManipulationMode:u.VISUALIZE_MODE_VISUALIZE,selectedColorPalette:{url:"",name:""},selectedShapefile:{},selectedBasemap:"",selectedDatasetLayer:{opacity:.8},publicShapeFiles:[],baseMaps:["Aerial","Road","AerialWithLabels"],layer:{},selectedFacets:[],selectedRegions:[],currentDateTime:"1900-01-01T00:00:00.000Z",currentProjectSearchCriterias:[],currentProjectDatasets:[],currentScalarValue:{requestedAt:null,receivedAt:null,isFetching:!1,data:{},error:null},currentVisualizedDatasetLayers:[],selectedDatasetCapabilities:{},selectedWMSLayerDetails:{requestedAt:null,receivedAt:null,isFetching:!1,data:{},error:null},selectedWMSLayerTimesteps:{requestedAt:null,receivedAt:null,isFetching:!1,data:{},error:null},facets:{requestedAt:null,receivedAt:null,isFetching:!1,items:[],error:null},climateIndicators:{requestedAt:null,receivedAt:null,isFetching:!1,items:[],error:null},esgfDatasets:{requestedAt:null,receivedAt:null,isFetching:!1,items:[],error:null},pavicsDatasets:{requestedAt:null,receivedAt:null,isFetching:!1,items:[],error:null},plotlyData:{isFetching:!1,receivedAt:null,requestedAt:null,data:[],layout:{},error:null},panelControls:(i={},(0,s.default)(i,u.PANEL_SEARCH_CATALOG,{show:!0}),(0,s.default)(i,u.PANEL_DATASET_DETAILS,{show:!1}),(0,s.default)(i,u.PANEL_DATASET_WMS_LAYERS,{show:!1}),(0,s.default)(i,u.PANEL_CLIMATE_INDICATORS,{show:!1}),(0,s.default)(i,u.PANEL_PLOTLY,{show:!1}),i)}};e.default=c},,function(t,e,r){t.exports={default:r(580),__esModule:!0}},,,,,function(t,e){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function n(t){return 3*t.length/4-r(t)}function o(t){var e,n,o,i,a,s,l=t.length;a=r(t),s=new c(3*l/4-a),o=a>0?l-4:l;var p=0;for(e=0,n=0;e<o;e+=4,n+=3)i=u[t.charCodeAt(e)]<<18|u[t.charCodeAt(e+1)]<<12|u[t.charCodeAt(e+2)]<<6|u[t.charCodeAt(e+3)],s[p++]=i>>16&255,s[p++]=i>>8&255,s[p++]=255&i;return 2===a?(i=u[t.charCodeAt(e)]<<2|u[t.charCodeAt(e+1)]>>4,s[p++]=255&i):1===a&&(i=u[t.charCodeAt(e)]<<10|u[t.charCodeAt(e+1)]<<4|u[t.charCodeAt(e+2)]>>2,s[p++]=i>>8&255,s[p++]=255&i),s}function i(t){return l[t>>18&63]+l[t>>12&63]+l[t>>6&63]+l[63&t]}function a(t,e,r){for(var n,o=[],a=e;a<r;a+=3)n=(t[a]<<16)+(t[a+1]<<8)+t[a+2],o.push(i(n));return o.join("")}function s(t){for(var e,r=t.length,n=r%3,o="",i=[],s=16383,u=0,c=r-n;u<c;u+=s)i.push(a(t,u,u+s>c?c:u+s));return 1===n?(e=t[r-1],o+=l[e>>2],o+=l[e<<4&63],o+="=="):2===n&&(e=(t[r-2]<<8)+t[r-1],o+=l[e>>10],o+=l[e>>4&63],o+=l[e<<2&63],o+="="),i.push(o),i.join("")}e.byteLength=n,e.toByteArray=o,e.fromByteArray=s;for(var l=[],u=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,h=p.length;f<h;++f)l[f]=p[f],u[p.charCodeAt(f)]=f;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(t,e,r){/*!
	 * Bowser - a browser detector
	 * https://github.com/ded/bowser
	 * MIT License | (c) Dustin Diaz 2015
	 */
!function(e,n,o){"undefined"!=typeof t&&t.exports?t.exports=o():r(1271)(n,o)}(this,"bowser",function(){function t(t){function e(e){var r=t.match(e);return r&&r.length>1&&r[1]||""}function r(e){var r=t.match(e);return r&&r.length>1&&r[2]||""}var n,o=e(/(ipod|iphone|ipad)/i).toLowerCase(),i=/like android/i.test(t),s=!i&&/android/i.test(t),l=/nexus\s*[0-6]\s*/i.test(t),u=!l&&/nexus\s*[0-9]+/i.test(t),c=/CrOS/.test(t),p=/silk/i.test(t),f=/sailfish/i.test(t),h=/tizen/i.test(t),d=/(web|hpw)os/i.test(t),y=/windows phone/i.test(t),m=(/SamsungBrowser/i.test(t),!y&&/windows/i.test(t)),v=!o&&!p&&/macintosh/i.test(t),g=!s&&!f&&!h&&!d&&/linux/i.test(t),b=e(/edge\/(\d+(\.\d+)?)/i),x=e(/version\/(\d+(\.\d+)?)/i),_=/tablet/i.test(t),w=!_&&/[^-]mobi/i.test(t),T=/xbox/i.test(t);/opera/i.test(t)?n={name:"Opera",opera:a,version:x||e(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr|opios/i.test(t)?n={name:"Opera",opera:a,version:e(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||x}:/SamsungBrowser/i.test(t)?n={name:"Samsung Internet for Android",samsungBrowser:a,version:x||e(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(t)?n={name:"Opera Coast",coast:a,version:x||e(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(t)?n={name:"Yandex Browser",yandexbrowser:a,version:x||e(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?n={name:"UC Browser",ucbrowser:a,version:e(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?n={name:"Maxthon",maxthon:a,version:e(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?n={name:"Epiphany",epiphany:a,version:e(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?n={name:"Puffin",puffin:a,version:e(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?n={name:"Sleipnir",sleipnir:a,version:e(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?n={name:"K-Meleon",kMeleon:a,version:e(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:y?(n={name:"Windows Phone",windowsphone:a},b?(n.msedge=a,n.version=b):(n.msie=a,n.version=e(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?n={name:"Internet Explorer",msie:a,version:e(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?n={name:"Chrome",chromeos:a,chromeBook:a,chrome:a,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(t)?n={name:"Microsoft Edge",msedge:a,version:b}:/vivaldi/i.test(t)?n={name:"Vivaldi",vivaldi:a,version:e(/vivaldi\/(\d+(\.\d+)?)/i)||x}:f?n={name:"Sailfish",sailfish:a,version:e(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?n={name:"SeaMonkey",seamonkey:a,version:e(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(n={name:"Firefox",firefox:a,version:e(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(n.firefoxos=a)):p?n={name:"Amazon Silk",silk:a,version:e(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?n={name:"PhantomJS",phantom:a,version:e(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?n={name:"SlimerJS",slimer:a,version:e(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?n={name:"BlackBerry",blackberry:a,version:x||e(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:d?(n={name:"WebOS",webos:a,version:x||e(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(n.touchpad=a)):/bada/i.test(t)?n={name:"Bada",bada:a,version:e(/dolfin\/(\d+(\.\d+)?)/i)}:h?n={name:"Tizen",tizen:a,version:e(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||x}:/qupzilla/i.test(t)?n={name:"QupZilla",qupzilla:a,version:e(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||x}:/chromium/i.test(t)?n={name:"Chromium",chromium:a,version:e(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||x}:/chrome|crios|crmo/i.test(t)?n={name:"Chrome",chrome:a,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?n={name:"Android",version:x}:/safari|applewebkit/i.test(t)?(n={name:"Safari",safari:a},x&&(n.version=x)):o?(n={name:"iphone"==o?"iPhone":"ipad"==o?"iPad":"iPod"},x&&(n.version=x)):n=/googlebot/i.test(t)?{name:"Googlebot",googlebot:a,version:e(/googlebot\/(\d+(\.\d+))/i)||x}:{name:e(/^(.*)\/(.*) /),version:r(/^(.*)\/(.*) /)},!n.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(n.name=n.name||"Blink",n.blink=a):(n.name=n.name||"Webkit",n.webkit=a),!n.version&&x&&(n.version=x)):!n.opera&&/gecko\//i.test(t)&&(n.name=n.name||"Gecko",n.gecko=a,n.version=n.version||e(/gecko\/(\d+(\.\d+)?)/i)),n.windowsphone||n.msedge||!s&&!n.silk?n.windowsphone||n.msedge||!o?v?n.mac=a:T?n.xbox=a:m?n.windows=a:g&&(n.linux=a):(n[o]=a,n.ios=a):n.android=a;var M="";n.windowsphone?M=e(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):o?(M=e(/os (\d+([_\s]\d+)*) like mac os x/i),M=M.replace(/[_\s]/g,".")):s?M=e(/android[ \/-](\d+(\.\d+)*)/i):n.webos?M=e(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):n.blackberry?M=e(/rim\stablet\sos\s(\d+(\.\d+)*)/i):n.bada?M=e(/bada\/(\d+(\.\d+)*)/i):n.tizen&&(M=e(/tizen[\/\s](\d+(\.\d+)*)/i)),M&&(n.osversion=M);var S=M.split(".")[0];return _||u||"ipad"==o||s&&(3==S||S>=4&&!w)||n.silk?n.tablet=a:(w||"iphone"==o||"ipod"==o||s||l||n.blackberry||n.webos||n.bada)&&(n.mobile=a),n.msedge||n.msie&&n.version>=10||n.yandexbrowser&&n.version>=15||n.vivaldi&&n.version>=1||n.chrome&&n.version>=20||n.samsungBrowser&&n.version>=4||n.firefox&&n.version>=20||n.safari&&n.version>=6||n.opera&&n.version>=10||n.ios&&n.osversion&&n.osversion.split(".")[0]>=6||n.blackberry&&n.version>=10.1||n.chromium&&n.version>=20?n.a=a:n.msie&&n.version<10||n.chrome&&n.version<20||n.firefox&&n.version<20||n.safari&&n.version<6||n.opera&&n.version<10||n.ios&&n.osversion&&n.osversion.split(".")[0]<6||n.chromium&&n.version<20?n.c=a:n.x=a,n}function e(t){return t.split(".").length}function r(t,e){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(r=0;r<t.length;r++)n.push(e(t[r]));return n}function n(t){for(var n=Math.max(e(t[0]),e(t[1])),o=r(t,function(t){var o=n-e(t);return t+=new Array(o+1).join(".0"),r(t.split("."),function(t){return new Array(20-t.length).join("0")+t}).reverse()});--n>=0;){if(o[0][n]>o[1][n])return 1;if(o[0][n]!==o[1][n])return-1;if(0===n)return 0}}function o(e,r,o){var i=s;"string"==typeof r&&(o=r,r=void 0),void 0===r&&(r=!1),o&&(i=t(o));var a=""+i.version;for(var l in e)if(e.hasOwnProperty(l)&&i[l]){if("string"!=typeof e[l])throw new Error("Browser version in the minVersion map should be a string: "+l+": "+String(e));return n([a,e[l]])<0}return r}function i(t,e,r){return!o(t,e,r)}var a=!0,s=t("undefined"!=typeof navigator?navigator.userAgent||"":"");return s.test=function(t){for(var e=0;e<t.length;++e){var r=t[e];if("string"==typeof r&&r in s)return!0}return!1},s.isUnsupportedBrowser=o,s.compareVersions=n,s.check=i,s._detect=t,s})},function(t,e,r){(function(t){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function n(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function o(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=a.prototype):(null===t&&(t=new a(e)),t.length=e),t}function a(t,e,r){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,e,r)}function s(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?h(t,e,r,n):"string"==typeof e?p(t,e,r):d(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e,r,n){return l(e),e<=0?i(t,e):void 0!==r?"string"==typeof n?i(t,e).fill(r,n):i(t,e).fill(r):i(t,e)}function c(t,e){if(l(e),t=i(t,e<0?0:0|y(e)),!a.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function p(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!a.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|v(e,r);t=i(t,n);var o=t.write(e,r);return o!==n&&(t=t.slice(0,o)),t}function f(t,e){var r=e.length<0?0:0|y(e.length);t=i(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function h(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),a.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=a.prototype):t=f(t,e),t}function d(t,e){if(a.isBuffer(e)){var r=0|y(e.length);return t=i(t,r),0===t.length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||Z(e.length)?i(t,0):f(t,e);if("Buffer"===e.type&&Q(e.data))return f(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function m(t){return+t!=t&&(t=0),a.alloc(+t)}function v(t,e){if(a.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return X(t).length;default:if(n)return q(t).length;e=(""+e).toLowerCase(),n=!0}}function g(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,r);case"utf8":case"utf-8":return A(this,e,r);case"ascii":return L(this,e,r);case"latin1":case"binary":return D(this,e,r);case"base64":return C(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function x(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=a.from(e,n)),a.isBuffer(e))return 0===e.length?-1:_(t,e,r,n,o);if("number"==typeof e)return e&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):_(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function _(t,e,r,n,o){function i(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,s=t.length,l=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,r/=2}var u;if(o){var c=-1;for(u=r;u<s;u++)if(i(t,u)===i(e,c===-1?0:u-c)){if(c===-1&&(c=u),u-c+1===l)return c*a}else c!==-1&&(u-=u-c),c=-1}else for(r+l>s&&(r=s-l),u=r;u>=0;u--){for(var p=!0,f=0;f<l;f++)if(i(t,u+f)!==i(e,f)){p=!1;break}if(p)return u}return-1}function w(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n),n>o&&(n=o)):n=o;var i=e.length;if(i%2!==0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[r+a]=s}return a}function T(t,e,r,n){return K(q(e,t.length-r),t,r,n)}function M(t,e,r,n){return K(G(e),t,r,n)}function S(t,e,r,n){return M(t,e,r,n)}function E(t,e,r,n){return K(X(e),t,r,n)}function k(t,e,r,n){return K(Y(e,t.length-r),t,r,n)}function C(t,e,r){return 0===e&&r===t.length?J.fromByteArray(t):J.fromByteArray(t.slice(e,r))}function A(t,e,r){r=Math.min(t.length,r);for(var n=[],o=e;o<r;){var i=t[o],a=null,s=i>239?4:i>223?3:i>191?2:1;if(o+s<=r){var l,u,c,p;switch(s){case 1:i<128&&(a=i);break;case 2:l=t[o+1],128===(192&l)&&(p=(31&i)<<6|63&l,p>127&&(a=p));break;case 3:l=t[o+1],u=t[o+2],128===(192&l)&&128===(192&u)&&(p=(15&i)<<12|(63&l)<<6|63&u,p>2047&&(p<55296||p>57343)&&(a=p));break;case 4:l=t[o+1],u=t[o+2],c=t[o+3],128===(192&l)&&128===(192&u)&&128===(192&c)&&(p=(15&i)<<18|(63&l)<<12|(63&u)<<6|63&c,p>65535&&p<1114112&&(a=p))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),o+=s}return P(n)}function P(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=tt));return r}function L(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function D(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function O(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=e;i<r;++i)o+=W(t[i]);return o}function I(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function R(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,r,n,o,i){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function j(t,e,r,n){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-r,2);o<i;++o)t[r+o]=(e&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function F(t,e,r,n){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-r,4);o<i;++o)t[r+o]=e>>>8*(n?o:3-o)&255}function z(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(t,e,r,n,o){return o||z(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),$.write(t,e,r,n,23,4),r+4}function U(t,e,r,n,o){return o||z(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),$.write(t,e,r,n,52,8),r+8}function V(t){if(t=H(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function H(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function W(t){return t<16?"0"+t.toString(16):t.toString(16)}function q(t,e){e=e||1/0;for(var r,n=t.length,o=null,i=[],a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function G(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function Y(t,e){for(var r,n,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}function X(t){return J.toByteArray(V(t))}function K(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}function Z(t){return t!==t}var J=r(573),$=r(869),Q=r(896);e.Buffer=a,e.SlowBuffer=m,e.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:n(),e.kMaxLength=o(),a.poolSize=8192,a._augment=function(t){return t.__proto__=a.prototype,t},a.from=function(t,e,r){return s(null,t,e,r)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(t,e,r){return u(null,t,e,r)},a.allocUnsafe=function(t){return c(null,t)},a.allocUnsafeSlow=function(t){return c(null,t)},a.isBuffer=function(t){return!(null==t||!t._isBuffer)},a.compare=function(t,e){if(!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Q(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=a.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){var i=t[r];if(!a.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o),o+=i.length}return n},a.byteLength=v,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)b(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},a.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):g.apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t,e,r,n,o){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,o>>>=0,this===t)return 0;for(var i=o-n,s=r-e,l=Math.min(i,s),u=this.slice(n,o),c=t.slice(e,r),p=0;p<l;++p)if(u[p]!==c[p]){i=u[p],s=c[p];break}return i<s?-1:s<i?1:0},a.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},a.prototype.indexOf=function(t,e,r){return x(this,t,e,r,!0)},a.prototype.lastIndexOf=function(t,e,r){return x(this,t,e,r,!1)},a.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return w(this,t,e,r);case"utf8":case"utf-8":return T(this,t,e,r);case"ascii":return M(this,t,e,r);case"latin1":case"binary":return S(this,t,e,r);case"base64":return E(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;a.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t);var n;if(a.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=a.prototype;else{var o=e-t;n=new a(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},a.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},a.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},a.prototype.readUInt8=function(t,e){return e||R(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return e||R(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return e||R(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*e)),n},a.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=e,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},a.prototype.readInt8=function(t,e){return e||R(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},a.prototype.readInt16LE=function(t,e){e||R(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(t,e){e||R(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(t,e){return e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return e||R(t,4,this.length),$.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return e||R(t,4,this.length),$.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return e||R(t,8,this.length),$.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return e||R(t,8,this.length),$.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){var o=Math.pow(2,8*r)-1;N(this,t,e,r,o,0)}var i=1,a=0;for(this[e]=255&t;++a<r&&(i*=256);)this[e+a]=t/i&255;return e+r},a.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){var o=Math.pow(2,8*r)-1;N(this,t,e,r,o,0)}var i=r-1,a=1;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+r},a.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,1,255,0),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},a.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},a.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):F(this,t,e,!0),e+4},a.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},a.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);N(this,t,e,r,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<r&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+r},a.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);N(this,t,e,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+r},a.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,1,127,-128),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},a.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},a.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):F(this,t,e,!0),e+4},a.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},a.prototype.writeFloatLE=function(t,e,r){return B(this,t,e,!0,r)},a.prototype.writeFloatBE=function(t,e,r){return B(this,t,e,!1,r)},a.prototype.writeDoubleLE=function(t,e,r){return U(this,t,e,!0,r)},a.prototype.writeDoubleBE=function(t,e,r){return U(this,t,e,!1,r)},a.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o,i=n-r;if(this===t&&r<e&&e<n)for(o=i-1;o>=0;--o)t[o+e]=this[o+r];else if(i<1e3||!a.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},a.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);var i;if("number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var s=a.isBuffer(t)?t:q(new a(t,n).toString()),l=s.length;for(i=0;i<r-e;++i)this[i+e]=s[i%l]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,function(){return this}())},function(t,e,r){function n(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}try{var o=r(318)}catch(t){var o=r(318)}var i=/\s+/,a=Object.prototype.toString;t.exports=function(t){return new n(t)},n.prototype.add=function(t){if(this.list)return this.list.add(t),this;var e=this.array(),r=o(e,t);return~r||e.push(t),this.el.className=e.join(" "),this},n.prototype.remove=function(t){if("[object RegExp]"==a.call(t))return this.removeMatching(t);if(this.list)return this.list.remove(t),this;var e=this.array(),r=o(e,t);return~r&&e.splice(r,1),this.el.className=e.join(" "),this},n.prototype.removeMatching=function(t){for(var e=this.array(),r=0;r<e.length;r++)t.test(e[r])&&this.remove(e[r]);return this},n.prototype.toggle=function(t,e){return this.list?("undefined"!=typeof e?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this):("undefined"!=typeof e?e?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this)},n.prototype.array=function(){var t=this.el.getAttribute("class")||"",e=t.replace(/^\s+|\s+$/g,""),r=e.split(i);return""===r[0]&&r.shift(),r},n.prototype.has=n.prototype.contains=function(t){return this.list?this.list.contains(t):!!~o(this.array(),t)}},,function(t,e,r){r(165),r(614),t.exports=r(32).Array.from},function(t,e,r){r(229),r(165),t.exports=r(612)},function(t,e,r){r(229),r(165),t.exports=r(613)},function(t,e,r){var n=r(32),o=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},,,,function(t,e,r){r(624),t.exports=r(32).Object.entries},,function(t,e,r){r(620),t.exports=r(32).Object.keys},,function(t,e,r){r(625),t.exports=r(32).Object.values},,,,,,[1322,81,146],,,[1323,122,53],,[1324,93],,[1325,53],,,,,,,,,,function(t,e,r){var n=r(93),o=r(332);t.exports=r(32).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},function(t,e,r){var n=r(319),o=r(53)("iterator"),i=r(122);t.exports=r(32).isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||i.hasOwnProperty(n(e))}},[1328,216,61,147,600,598,331,595,332,602],,,,,,[1329,147,96,328],,,,[1330,61,329],[1331,61,329],,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){"use strict";function r(){var t=document.createElement("div"),e=t.style;"AnimationEvent"in window||delete i.animationend.animation,"TransitionEvent"in window||delete i.transitionend.transition;for(var r in i)if(i.hasOwnProperty(r)){var n=i[r];for(var o in n)if(o in e){a.push(n[o]);break}}}function n(t,e,r){t.addEventListener(e,r,!1)}function o(t,e,r){t.removeEventListener(e,r,!1)}Object.defineProperty(e,"__esModule",{value:!0});var i={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},a=[];"undefined"!=typeof window&&"undefined"!=typeof document&&r();var s={addEndEventListener:function(t,e){return 0===a.length?void window.setTimeout(e,0):void a.forEach(function(r){n(t,r,e)})},endEvents:a,removeEndEventListener:function(t,e){0!==a.length&&a.forEach(function(r){o(t,r,e)})}};e.default=s,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){for(var r=window.getComputedStyle(t,null),n="",o=0;o<d.length&&!(n=r.getPropertyValue(d[o]+e));o++);return n}function i(t){if(f){var e=parseFloat(o(t,"transition-delay"))||0,r=parseFloat(o(t,"transition-duration"))||0,n=parseFloat(o(t,"animation-delay"))||0,i=parseFloat(o(t,"animation-duration"))||0,a=Math.max(r+e,i+n);t.rcEndAnimTimeout=setTimeout(function(){t.rcEndAnimTimeout=null,t.rcEndListener&&t.rcEndListener()},1e3*a+200)}}function a(t){t.rcEndAnimTimeout&&(clearTimeout(t.rcEndAnimTimeout),t.rcEndAnimTimeout=null)}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=r(808),u=n(l),c=r(576),p=n(c),f=0!==u.default.endEvents.length,h=["Webkit","Moz","O","ms"],d=["-webkit-","-moz-","-o-","ms-",""],y=function(t,e,r){var n="object"===("undefined"==typeof e?"undefined":s(e)),o=n?e.name:e,l=n?e.active:e+"-active",c=r,f=void 0,h=void 0,d=(0,p.default)(t);return r&&"[object Object]"===Object.prototype.toString.call(r)&&(c=r.end,f=r.start,h=r.active),t.rcEndListener&&t.rcEndListener(),t.rcEndListener=function(e){e&&e.target!==t||(t.rcAnimTimeout&&(clearTimeout(t.rcAnimTimeout),t.rcAnimTimeout=null),a(t),d.remove(o),d.remove(l),u.default.removeEndEventListener(t,t.rcEndListener),t.rcEndListener=null,c&&c())},u.default.addEndEventListener(t,t.rcEndListener),f&&f(),d.add(o),t.rcAnimTimeout=setTimeout(function(){t.rcAnimTimeout=null,d.add(l),h&&setTimeout(h,0),i(t)},30),{stop:function(){t.rcEndListener&&t.rcEndListener()}}};y.style=function(t,e,r){t.rcEndListener&&t.rcEndListener(),t.rcEndListener=function(e){e&&e.target!==t||(t.rcAnimTimeout&&(clearTimeout(t.rcAnimTimeout),t.rcAnimTimeout=null),a(t),u.default.removeEndEventListener(t,t.rcEndListener),t.rcEndListener=null,r&&r())},u.default.addEndEventListener(t,t.rcEndListener),t.rcAnimTimeout=setTimeout(function(){for(var r in e)e.hasOwnProperty(r)&&(t.style[r]=e[r]);t.rcAnimTimeout=null,i(t)},0)},y.setTransition=function(t,e,r){var n=e,o=r;void 0===r&&(o=n,n=""),n=n||"",h.forEach(function(e){t.style[e+"Transition"+n]=o})},y.isCssAnimationSupported=f,e.default=y,t.exports=e.default},,,,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r,n){var o=a.default.clone(t),i={width:e.width,height:e.height};return n.adjustX&&o.left<r.left&&(o.left=r.left),n.resizeWidth&&o.left>=r.left&&o.left+i.width>r.right&&(i.width-=o.left+i.width-r.right),n.adjustX&&o.left+i.width>r.right&&(o.left=Math.max(r.right-i.width,r.left)),n.adjustY&&o.top<r.top&&(o.top=r.top),n.resizeHeight&&o.top>=r.top&&o.top+i.height>r.bottom&&(i.height-=o.top+i.height-r.bottom),n.adjustY&&o.top+i.height>r.bottom&&(o.top=Math.max(r.bottom-i.height,r.top)),a.default.mix(o,i)}Object.defineProperty(e,"__esModule",{value:!0});var i=r(151),a=n(i);e.default=o,t.exports=e.default},function(t,e){"use strict";function r(t,e){var r=e.charAt(0),n=e.charAt(1),o=t.width,i=t.height,a=void 0,s=void 0;return a=t.left,s=t.top,"c"===r?s+=i/2:"b"===r&&(s+=i),"c"===n?a+=o/2:"r"===n&&(a+=o),{left:a,top:s}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r,n,o){var i=void 0,s=void 0,l=void 0,u=void 0;return i={left:t.left,top:t.top},l=(0,a.default)(e,r[1]),u=(0,a.default)(t,r[0]),s=[u.left-l.left,u.top-l.top],{left:i.left-s[0]+n[0]-o[0],top:i.top-s[1]+n[1]-o[1]}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(814),a=n(i);e.default=o,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=void 0,r=void 0,n=void 0;if(a.default.isWindow(t)||9===t.nodeType){var o=a.default.getWindow(t);e={left:a.default.getWindowScrollLeft(o),top:a.default.getWindowScrollTop(o)},r=a.default.viewportWidth(o),n=a.default.viewportHeight(o)}else e=a.default.offset(t),r=a.default.outerWidth(t),n=a.default.outerHeight(t);return e.width=r,e.height=n,e}Object.defineProperty(e,"__esModule",{value:!0});var i=r(151),a=n(i);e.default=o,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){for(var e={left:0,right:1/0,top:0,bottom:1/0},r=(0,l.default)(t),n=void 0,o=void 0,i=void 0,s=t.ownerDocument,u=s.defaultView||s.parentWindow,c=s.body,p=s.documentElement;r;){if(navigator.userAgent.indexOf("MSIE")!==-1&&0===r.clientWidth||r===c||r===p||"visible"===a.default.css(r,"overflow")){if(r===c||r===p)break}else{var f=a.default.offset(r);f.left+=r.clientLeft,f.top+=r.clientTop,e.top=Math.max(e.top,f.top),e.right=Math.min(e.right,f.left+r.clientWidth),e.bottom=Math.min(e.bottom,f.top+r.clientHeight),e.left=Math.max(e.left,f.left)}r=(0,l.default)(r)}return n=a.default.getWindowScrollLeft(u),o=a.default.getWindowScrollTop(u),e.left=Math.max(e.left,n),e.top=Math.max(e.top,o),i={width:a.default.viewportWidth(u),height:a.default.viewportHeight(u)},e.right=Math.min(e.right,n+i.width),e.bottom=Math.min(e.bottom,o+i.height),e.top>=0&&e.left>=0&&e.bottom>e.top&&e.right>e.left?e:null}Object.defineProperty(e,"__esModule",{value:!0});var i=r(151),a=n(i),s=r(361),l=n(s);e.default=o,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){return t.left<r.left||t.left+e.width>r.right}function i(t,e,r){return t.top<r.top||t.top+e.height>r.bottom}function a(t,e,r){return t.left>r.right||t.left+e.width<r.left}function s(t,e,r){return t.top>r.bottom||t.top+e.height<r.top}function l(t,e,r){var n=[];return d.default.each(t,function(t){n.push(t.replace(e,function(t){return r[t]}))}),n}function u(t,e){return t[e]=-t[e],t}function c(t,e){var r=void 0;return r=/%$/.test(t)?parseInt(t.substring(0,t.length-1),10)/100*e:parseInt(t,10),r||0}function p(t,e){t[0]=c(t[0],e.width),t[1]=c(t[1],e.height)}function f(t,e,r){var n=r.points,c=r.offset||[0,0],f=r.targetOffset||[0,0],h=r.overflow,y=r.target||e,m=r.source||t;c=[].concat(c),f=[].concat(f),h=h||{};var v={},b=0,_=(0,g.default)(m),T=(0,w.default)(m),S=(0,w.default)(y);p(c,T),p(f,S);var E=(0,M.default)(T,S,n,c,f),k=d.default.merge(T,E);if(_&&(h.adjustX||h.adjustY)){if(h.adjustX&&o(E,T,_)){var C=l(n,/[lr]/gi,{l:"r",r:"l"}),A=u(c,0),P=u(f,0),L=(0,M.default)(T,S,C,A,P);a(L,T,_)||(b=1,n=C,c=A,f=P)}if(h.adjustY&&i(E,T,_)){var D=l(n,/[tb]/gi,{t:"b",b:"t"}),O=u(c,1),I=u(f,1),R=(0,M.default)(T,S,D,O,I);s(R,T,_)||(b=1,n=D,c=O,f=I)}b&&(E=(0,M.default)(T,S,n,c,f),d.default.mix(k,E)),v.adjustX=h.adjustX&&o(E,T,_),v.adjustY=h.adjustY&&i(E,T,_),(v.adjustX||v.adjustY)&&(k=(0,x.default)(E,T,_,v))}return k.width!==T.width&&d.default.css(m,"width",d.default.width(m)+k.width-T.width),k.height!==T.height&&d.default.css(m,"height",d.default.height(m)+k.height-T.height),d.default.offset(m,{left:k.left,top:k.top},{useCssRight:r.useCssRight,useCssBottom:r.useCssBottom,useCssTransform:r.useCssTransform}),{points:n,offset:c,targetOffset:f,overflow:v}}Object.defineProperty(e,"__esModule",{value:!0});var h=r(151),d=n(h),y=r(361),m=n(y),v=r(817),g=n(v),b=r(813),x=n(b),_=r(816),w=n(_),T=r(815),M=n(T);f.__getOffsetParent=m.default,f.__getVisibleRectForElement=g.default,e.default=f,t.exports=e.default},function(t,e){"use strict";function r(){if(void 0!==c)return c;c="";var t=document.createElement("p").style,e="Transform";for(var r in p)r+e in t&&(c=r);return c}function n(){return r()?r()+"TransitionProperty":"transitionProperty"}function o(){return r()?r()+"Transform":"transform"}function i(t,e){var r=n();r&&(t.style[r]=e,"transitionProperty"!==r&&(t.style.transitionProperty=e))}function a(t,e){var r=o();r&&(t.style[r]=e,"transform"!==r&&(t.style.transform=e))}function s(t){return t.style.transitionProperty||t.style[n()]}function l(t){var e=window.getComputedStyle(t,null),r=e.getPropertyValue("transform")||e.getPropertyValue(o());if(r&&"none"!==r){var n=r.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(n[12]||n[4],0),y:parseFloat(n[13]||n[5],0)}}return{x:0,y:0}}function u(t,e){var r=window.getComputedStyle(t,null),n=r.getPropertyValue("transform")||r.getPropertyValue(o());if(n&&"none"!==n){var i=void 0,s=n.match(f);if(s)s=s[1],i=s.split(",").map(function(t){return parseFloat(t,10)}),i[4]=e.x,i[5]=e.y,a(t,"matrix("+i.join(",")+")");else{var l=n.match(h)[1];i=l.split(",").map(function(t){return parseFloat(t,10)}),i[12]=e.x,
i[13]=e.y,a(t,"matrix3d("+i.join(",")+")")}}else a(t,"translateX("+e.x+"px) translateY("+e.y+"px) translateZ(0)")}Object.defineProperty(e,"__esModule",{value:!0}),e.getTransformName=o,e.setTransitionProperty=i,e.getTransitionProperty=s,e.getTransformXY=l,e.setTransformXY=u;var c=void 0,p={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"},f=/matrix\((.*)\)/,h=/matrix3d\((.*)\)/},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){t.classList?t.classList.add(e):(0,a.default)(t)||(t.className=t.className+" "+e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(363),a=n(i);t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.hasClass=e.removeClass=e.addClass=void 0;var o=r(820),i=n(o),a=r(822),s=n(a),l=r(363),u=n(l);e.addClass=i.default,e.removeClass=s.default,e.hasClass=u.default,e.default={addClass:i.default,removeClass:s.default,hasClass:u.default}},function(t,e){"use strict";t.exports=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){return function(r){var n=r.currentTarget,o=r.target,i=(0,l.default)(n,t);i.some(function(t){return(0,a.default)(t,o)})&&e.call(this,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(129),a=n(i),s=r(828),l=n(s);t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.listen=e.filter=e.off=e.on=void 0;var o=r(177),i=n(o),a=r(256),s=n(a),l=r(823),u=n(l),c=r(825),p=n(c);e.on=i.default,e.off=s.default,e.filter=u.default,e.listen=p.default,e.default={on:i.default,off:s.default,filter:u.default,listen:p.default}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(86),i=n(o),a=r(177),s=n(a),l=r(256),u=n(l),c=function(){};i.default&&(c=function(t,e,r,n){return(0,s.default)(t,e,r,n),function(){(0,u.default)(t,e,r,n)}}),e.default=c,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){return t.nodeName&&t.nodeName.toLowerCase()}function i(t){for(var e=(0,s.default)(t),r=t&&t.offsetParent;r&&"html"!==o(t)&&"static"===(0,u.default)(r,"position");)r=r.offsetParent;return r||e.documentElement}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var a=r(128),s=n(a),l=r(179),u=n(l);t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){return t.nodeName&&t.nodeName.toLowerCase()}function i(t,e){var r,n={top:0,left:0};return"fixed"===(0,m.default)(t,"position")?r=t.getBoundingClientRect():(e=e||(0,c.default)(t),r=(0,l.default)(t),"html"!==o(e)&&(n=(0,l.default)(e)),n.top+=parseInt((0,m.default)(e,"borderTopWidth"),10)-(0,f.default)(e)||0,n.left+=parseInt((0,m.default)(e,"borderLeftWidth"),10)-(0,d.default)(e)||0),a({},r,{top:r.top-n.top-(parseInt((0,m.default)(t,"marginTop"),10)||0),left:r.left-n.left-(parseInt((0,m.default)(t,"marginLeft"),10)||0)})}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};e.default=i;var s=r(364),l=n(s),u=r(826),c=n(u),p=r(365),f=n(p),h=r(829),d=n(h),y=r(179),m=n(y);t.exports=e.default},function(t,e){"use strict";function r(t,e){var r,i="#"===e[0],a="."===e[0],s=i||a?e.slice(1):e,l=n.test(s);return l?i?(t=t.getElementById?t:document,(r=t.getElementById(s))?[r]:[]):o(t.getElementsByClassName&&a?t.getElementsByClassName(s):t.getElementsByTagName(e)):o(t.querySelectorAll(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n=/^[\w-]*$/,o=Function.prototype.bind.call(Function.prototype.call,[].slice);t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=(0,a.default)(t);return void 0===e?r?"pageXOffset"in r?r.pageXOffset:r.document.documentElement.scrollLeft:t.scrollLeft:void(r?r.scrollTo(e,"pageYOffset"in r?r.pageYOffset:r.document.documentElement.scrollTop):t.scrollLeft=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(178),a=n(i);t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){if(!t)throw new TypeError("No Element passed to `getComputedStyle()`");var e=t.ownerDocument;return"defaultView"in e?e.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):window.getComputedStyle(t,null):{getPropertyValue:function(e){var r=t.style;e=(0,a.default)(e),"float"==e&&(e="styleFloat");var n=t.currentStyle[e]||null;if(null==n&&r&&r[e]&&(n=r[e]),l.test(n)&&!s.test(e)){var o=r.left,i=t.runtimeStyle,u=i&&i.left;u&&(i.left=t.currentStyle.left),r.left="fontSize"===e?"1em":n,n=r.pixelLeft+"px",r.left=o,u&&(i.left=u)}return n}}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(367),a=n(i),s=/^(top|right|bottom|left)$/,l=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;t.exports=e.default},function(t,e){"use strict";function r(t,e){return"removeProperty"in t.style?t.style.removeProperty(e):t.style.removeAttribute(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e){"use strict";function r(t){return!(!t||!n.test(t))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;t.exports=e.default},function(t,e){"use strict";function r(t){return t.replace(n,function(t,e){return e.toUpperCase()})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n=/-(.)/g;t.exports=e.default},function(t,e){"use strict";function r(t){return t.replace(n,"-$1").toLowerCase()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n=/([A-Z])/g;t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){return(0,a.default)(t).replace(s,"-ms-")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(834),a=n(i),s=/^ms-/;t.exports=e.default},849,function(t,e){t.exports={InformationPanel:"InformationPanel__InformationPanel___KAGvi",Content:"InformationPanel__Content___1XG6n",Empty:"InformationPanel__Empty___3lNx0"}},function(t,e){t.exports={LayerSwitcher:"LayerSwitcher__LayerSwitcher___pTsDF",Tabs:"LayerSwitcher__Tabs___2Dmln",layers:"LayerSwitcher__layers___1QWyK"}},function(t,e){t.exports={Loader:"Loader__Loader___3Jsph"}},function(t,e){t.exports={MapControls:"MapControls__MapControls___2LKQr"}},function(t,e){t.exports={OLComponent:"OLComponent__OLComponent___2K5rq","ol-box":"OLComponent__ol-box___1KUnB","ol-mouse-position":"OLComponent__ol-mouse-position___2CEV6","ol-scale-line":"OLComponent__ol-scale-line___3XWG4","ol-scale-line-inner":"OLComponent__ol-scale-line-inner___1odJz","ol-overlay-container":"OLComponent__ol-overlay-container___328Us","ol-unsupported":"OLComponent__ol-unsupported___1u5gt","ol-viewport":"OLComponent__ol-viewport___2BxN1","ol-unselectable":"OLComponent__ol-unselectable___3tVc1","ol-control":"OLComponent__ol-control___3wF2T","ol-zoom":"OLComponent__ol-zoom___2j_uD","ol-rotate":"OLComponent__ol-rotate___R5UPg","ol-hidden":"OLComponent__ol-hidden___KUYF4","ol-zoom-extent":"OLComponent__ol-zoom-extent___2rypr","ol-full-screen":"OLComponent__ol-full-screen___2ulQs","ol-compass":"OLComponent__ol-compass___3DIi4","ol-touch":"OLComponent__ol-touch___3rDVk","ol-zoom-in":"OLComponent__ol-zoom-in___2zvcM","ol-zoom-out":"OLComponent__ol-zoom-out___1fKkI","ol-attribution":"OLComponent__ol-attribution___OGIhw","ol-collapsed":"OLComponent__ol-collapsed___2G1H7","ol-logo-only":"OLComponent__ol-logo-only___2bFP7","ol-uncollapsible":"OLComponent__ol-uncollapsible___2ryYX","ol-zoomslider":"OLComponent__ol-zoomslider___1NXGn","ol-overviewmap":"OLComponent__ol-overviewmap___1w8E2","ol-overviewmap-map":"OLComponent__ol-overviewmap-map___KGbgi","ol-overviewmap-box":"OLComponent__ol-overviewmap-box___U1BAW","ol-popup":"OLComponent__ol-popup___p9aG6","ol-popup-closer":"OLComponent__ol-popup-closer___ZJUoM","draw-point":"OLComponent__draw-point___15i_I","layer-switcher":"OLComponent__layer-switcher___3mirE",shown:"OLComponent__shown___1Qkyc",panel:"OLComponent__panel___2AFxb",group:"OLComponent__group___3LFov",layer:"OLComponent__layer___1uEsp",touch:"OLComponent__touch___3_RHA"}},function(t,e){t.exports={PieMenu:"PieMenu__PieMenu___2wD1I",CustomGlyphIcon:"PieMenu__CustomGlyphIcon___iRPoH",IsOpen:"PieMenu__IsOpen___3uikx",radialnav:"PieMenu__radialnav___2aNhc",ellipsis:"PieMenu__ellipsis___1vJQQ",active:"PieMenu__active___16uqT",menu:"PieMenu__menu___3fi8C",submenu:"PieMenu__submenu___2bnAU"}},function(t,e){t.exports={TimeSeriesChart:"TimeSeriesChart__TimeSeriesChart___1lmU0",Chart:"TimeSeriesChart__Chart___gFYQd",Empty:"TimeSeriesChart__Empty___1DT15",hidden:"TimeSeriesChart__hidden___pK-OS"}},function(t,e){t.exports={WorkflowWizard:"WorkflowWizard__WorkflowWizard___pNNnm",clickable:"WorkflowWizard__clickable___3g9zi",checkbox:"WorkflowWizard__checkbox___3IzOK"}},function(t,e){t.exports={AccountManagement:"AccountManagement__AccountManagement___1Via3"}},function(t,e){t.exports={ExperienceManagement:"ExperienceManagement__ExperienceManagement___2FSsg"}},function(t,e){t.exports={TimeSlider:"TimeSlider__TimeSlider___KhlD4",SliderYears:"TimeSlider__SliderYears___2XNsJ",StepControls:"TimeSlider__StepControls___3Q_Zx",InlineFormGroup:"TimeSlider__InlineFormGroup___6tkxl"}},function(t,e){t.exports={Visualize:"Visualize__Visualize___1VwDj",hidden:"Visualize__hidden___1zbJi",mapContainer:"Visualize__mapContainer___19Sj5",panel:"Visualize__panel___h-x6u",left:"Visualize__left___2F1Bn",frontComponents:"Visualize__frontComponents___jA511",topLeftComponents:"Visualize__topLeftComponents___3yqae",topRightComponents:"Visualize__topRightComponents___1Kc7A"}},,,,,,,,,,,,,,,,,,,,,function(t,e){e.read=function(t,e,r,n,o){var i,a,s=8*o-n-1,l=(1<<s)-1,u=l>>1,c=-7,p=r?o-1:0,f=r?-1:1,h=t[e+p];for(p+=f,i=h&(1<<-c)-1,h>>=-c,c+=s;c>0;i=256*i+t[e+p],p+=f,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=n;c>0;a=256*a+t[e+p],p+=f,c-=8);if(0===i)i=1-u;else{if(i===l)return a?NaN:(h?-1:1)*(1/0);a+=Math.pow(2,n),i-=u}return(h?-1:1)*a*Math.pow(2,i-n)},e.write=function(t,e,r,n,o,i){var a,s,l,u=8*i-o-1,c=(1<<u)-1,p=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),e+=a+p>=1?f/l:f*Math.pow(2,1-p),e*l>=2&&(a++,l/=2),a+p>=c?(s=0,a=c):a+p>=1?(s=(e*l-1)*Math.pow(2,o),a+=p):(s=e*Math.pow(2,p-1)*Math.pow(2,o),a=0));o>=8;t[r+h]=255&s,h+=d,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;t[r+h]=255&a,h+=d,a/=256,u-=8);t[r+h-d]|=128*y}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments[2],n=arguments[3];Object.keys(e).forEach(function(o){var i=t[o];Array.isArray(i)?[].concat(e[o]).forEach(function(e){t[o].indexOf(e)===-1&&t[o].splice(i.indexOf(r),n?0:1,e)}):t[o]=e[o]})}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=r(891),l=n(s),u=r(892),c=n(u),p=r(893),f=n(p),h=r(263),d=n(h),y=r(382),m=n(y),v=r(881),g=n(v),b=r(877),x=n(b),_=r(871),w=n(_),T=r(880),M=n(T),S=r(875),E=n(S),k=r(872),C=n(k),A=r(878),P=n(A),L=r(876),D=n(L),O=r(879),I=n(O),R=r(873),N=n(R),j=r(874),F=n(j),z=[x.default,w.default,M.default,E.default,P.default,D.default,I.default,N.default,F.default,C.default],B=function(){function t(){var e=this,r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,t);var n="undefined"!=typeof navigator?navigator.userAgent:void 0;if(this._userAgent=r.userAgent||n,this._keepUnprefixed=r.keepUnprefixed||!1,this._browserInfo=(0,c.default)(this._userAgent),!this._browserInfo||!this._browserInfo.prefix)return this._usePrefixAllFallback=!0,!1;this.cssPrefix=this._browserInfo.prefix.css,this.jsPrefix=this._browserInfo.prefix.inline,this.prefixedKeyframes=(0,f.default)(this._browserInfo);var i=this._browserInfo.browser&&g.default[this._browserInfo.browser];i?(this._requiresPrefix=Object.keys(i).filter(function(t){return i[t]>=e._browserInfo.version}).reduce(function(t,e){return t[e]=!0,t},{}),this._hasPropsRequiringPrefix=Object.keys(this._requiresPrefix).length>0):this._usePrefixAllFallback=!0}return a(t,[{key:"prefix",value:function(t){var e=this;return this._usePrefixAllFallback?(0,l.default)(t):this._hasPropsRequiringPrefix?(Object.keys(t).forEach(function(r){var n=t[r];n instanceof Object&&!Array.isArray(n)?t[r]=e.prefix(n):e._requiresPrefix[r]&&(t[e.jsPrefix+(0,d.default)(r)]=n,e._keepUnprefixed||delete t[r])}),Object.keys(t).forEach(function(r){[].concat(t[r]).forEach(function(n){z.forEach(function(o){i(t,o({property:r,value:n,styles:t,browserInfo:e._browserInfo,prefix:{js:e.jsPrefix,css:e.cssPrefix,keyframes:e.prefixedKeyframes},keepUnprefixed:e._keepUnprefixed,requiresPrefix:e._requiresPrefix}),n,e._keepUnprefixed)})})}),(0,m.default)(t)):t}}],[{key:"prefixAll",value:function(t){return(0,l.default)(t)}}]),t}();e.default=B,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t){var e=t.property,r=t.value,n=t.browserInfo,i=n.browser,a=n.version,l=t.prefix.css,u=t.keepUnprefixed;if("string"==typeof r&&r.indexOf("calc(")>-1&&("firefox"===i&&a<15||"chrome"===i&&a<25||"safari"===i&&a<6.1||"ios_saf"===i&&a<7))return o({},e,(0,s.default)(r.replace(/calc\(/g,l+"calc("),r,u))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var a=r(73),s=n(a);t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=t.property,r=t.value,n=t.browserInfo,o=n.browser,i=n.version,l=t.prefix.css,u=t.keepUnprefixed;if("display"===e&&s[r]&&("chrome"===o&&i<29&&i>20||("safari"===o||"ios_saf"===o)&&i<9&&i>6||"opera"===o&&(15==i||16==i)))return{display:(0,a.default)(l+r,r,u)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(73),a=n(i),s={flex:!0,"inline-flex":!0};t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t){var e=t.property,r=t.value,n=t.styles,i=t.browserInfo,a=i.browser,c=i.version,p=t.prefix.css,f=t.keepUnprefixed;if((u[e]||"display"===e&&"string"==typeof r&&r.indexOf("flex")>-1)&&("ie_mob"===a||"ie"===a)&&10==c){if(f||Array.isArray(n[e])||delete n[e],"display"===e&&l[r])return{display:(0,s.default)(p+l[r],r,f)};if(u[e])return o({},u[e],l[r]||r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var a=r(73),s=n(a),l={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end",flex:"flexbox","inline-flex":"inline-flexbox"},u={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msPreferredSize"};t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t){var e=t.property,r=t.value,n=t.styles,i=t.browserInfo,a=i.browser,c=i.version,f=t.prefix.css,h=t.keepUnprefixed;if((p.indexOf(e)>-1||"display"===e&&"string"==typeof r&&r.indexOf("flex")>-1)&&("firefox"===a&&c<22||"chrome"===a&&c<21||("safari"===a||"ios_saf"===a)&&c<=6.1||"android"===a&&c<4.4||"and_uc"===a)){if(h||Array.isArray(n[e])||delete n[e],"flexDirection"===e&&"string"==typeof r)return{WebkitBoxOrient:r.indexOf("column")>-1?"vertical":"horizontal",WebkitBoxDirection:r.indexOf("reverse")>-1?"reverse":"normal"};if("display"===e&&l[r])return{display:(0,s.default)(f+l[r],r,h)};if(u[e])return o({},u[e],l[r]||r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var a=r(73),s=n(a),l={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple",flex:"box","inline-flex":"inline-box"},u={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"},c=["alignContent","alignSelf","order","flexGrow","flexShrink","flexBasis","flexDirection"],p=Object.keys(u).concat(c);t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=t.property,r=t.value,n=t.browserInfo.browser,o=t.prefix.css,i=t.keepUnprefixed;if("cursor"===e&&s[r]&&("firefox"===n||"chrome"===n||"safari"===n||"opera"===n))return{cursor:(0,a.default)(o+r,r,i)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(73),a=n(i),s={grab:!0,grabbing:!0};t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t){var e=t.property,r=t.value,n=t.browserInfo,i=n.browser,a=n.version,u=t.prefix.css,c=t.keepUnprefixed;if("string"==typeof r&&null!==r.match(l)&&("firefox"===i&&a<16||"chrome"===i&&a<26||("safari"===i||"ios_saf"===i)&&a<7||("opera"===i||"op_mini"===i)&&a<12.1||"android"===i&&a<4.4||"and_uc"===i))return o({},e,(0,s.default)(u+r,r,c))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var a=r(73),s=n(a),l=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t){var e=t.property,r=t.value,n=t.browserInfo.browser,i=t.prefix.css,a=t.keepUnprefixed;if("position"===e&&"sticky"===r&&("safari"===n||"ios_saf"===n))return o({},e,(0,s.default)(i+r,r,a))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var a=r(73),s=n(a);t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t){var e=t.property,r=t.value,n=t.prefix.css,i=t.keepUnprefixed;if(l[e]&&u[r])return o({},e,(0,s.default)(n+r,r,i))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var a=r(73),s=n(a),l={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},u={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t){var e=t.property,r=t.value,n=t.prefix.css,i=t.requiresPrefix,s=t.keepUnprefixed,u=(0,c.default)(e);if("string"==typeof r&&p[u]){var f=function(){var t=Object.keys(i).map(function(t){return(0,l.default)(t)}),a=r.split(/,(?![^()]*(?:\([^()]*\))?\))/g);return t.forEach(function(t){a.forEach(function(e,r){e.indexOf(t)>-1&&"order"!==t&&(a[r]=e.replace(t,n+t)+(s?","+e:""))})}),{v:o({},e,a.join(","))}}();if("object"===("undefined"==typeof f?"undefined":a(f)))return f.v}}Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.default=i;var s=r(380),l=n(s),u=r(895),c=n(u),p={transition:!0,transitionProperty:!0};t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=t.property,r=t.value,n=t.browserInfo,o=n.browser,i=n.version,l=t.prefix.css,u=t.keepUnprefixed;if("cursor"===e&&s[r]&&("firefox"===o&&i<24||"chrome"===o&&i<37||"safari"===o&&i<9||"opera"===o&&i<24))return{cursor:(0,a.default)(l+r,r,u)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(73),a=n(i),s={"zoom-in":!0,"zoom-out":!0};t.exports=e.default},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={chrome:{transform:35,transformOrigin:35,transformOriginX:35,transformOriginY:35,backfaceVisibility:35,perspective:35,perspectiveOrigin:35,transformStyle:35,transformOriginZ:35,animation:42,animationDelay:42,animationDirection:42,animationFillMode:42,animationDuration:42,animationIterationCount:42,animationName:42,animationPlayState:42,animationTimingFunction:42,appearance:55,userSelect:55,fontKerning:32,textEmphasisPosition:55,textEmphasis:55,textEmphasisStyle:55,textEmphasisColor:55,boxDecorationBreak:55,clipPath:55,maskImage:55,maskMode:55,maskRepeat:55,maskPosition:55,maskClip:55,maskOrigin:55,maskSize:55,maskComposite:55,mask:55,maskBorderSource:55,maskBorderMode:55,maskBorderSlice:55,maskBorderWidth:55,maskBorderOutset:55,maskBorderRepeat:55,maskBorder:55,maskType:55,textDecorationStyle:55,textDecorationSkip:55,textDecorationLine:55,textDecorationColor:55,filter:52,fontFeatureSettings:47,breakAfter:49,breakBefore:49,breakInside:49,columnCount:49,columnFill:49,columnGap:49,columnRule:49,columnRuleColor:49,columnRuleStyle:49,columnRuleWidth:49,columns:49,columnSpan:49,columnWidth:49},safari:{flex:8,flexBasis:8,flexDirection:8,flexGrow:8,flexFlow:8,flexShrink:8,flexWrap:8,alignContent:8,alignItems:8,alignSelf:8,justifyContent:8,order:8,transition:6,transitionDelay:6,transitionDuration:6,transitionProperty:6,transitionTimingFunction:6,transform:8,transformOrigin:8,transformOriginX:8,transformOriginY:8,backfaceVisibility:8,perspective:8,perspectiveOrigin:8,transformStyle:8,transformOriginZ:8,animation:8,animationDelay:8,animationDirection:8,animationFillMode:8,animationDuration:8,animationIterationCount:8,animationName:8,animationPlayState:8,animationTimingFunction:8,appearance:10,userSelect:10,backdropFilter:10,fontKerning:9,scrollSnapType:10,scrollSnapPointsX:10,scrollSnapPointsY:10,scrollSnapDestination:10,scrollSnapCoordinate:10,textEmphasisPosition:7,textEmphasis:7,textEmphasisStyle:7,textEmphasisColor:7,boxDecorationBreak:10,clipPath:10,maskImage:10,maskMode:10,maskRepeat:10,maskPosition:10,maskClip:10,maskOrigin:10,maskSize:10,maskComposite:10,mask:10,maskBorderSource:10,maskBorderMode:10,maskBorderSlice:10,maskBorderWidth:10,maskBorderOutset:10,maskBorderRepeat:10,maskBorder:10,maskType:10,textDecorationStyle:10,textDecorationSkip:10,textDecorationLine:10,textDecorationColor:10,shapeImageThreshold:10,shapeImageMargin:10,shapeImageOutside:10,filter:9,hyphens:10,flowInto:10,flowFrom:10,breakBefore:8,breakAfter:8,breakInside:8,regionFragment:10,columnCount:8,columnFill:8,columnGap:8,columnRule:8,columnRuleColor:8,columnRuleStyle:8,columnRuleWidth:8,columns:8,columnSpan:8,columnWidth:8},firefox:{appearance:51,userSelect:51,boxSizing:28,textAlignLast:48,textDecorationStyle:35,textDecorationSkip:35,textDecorationLine:35,textDecorationColor:35,tabSize:51,hyphens:42,fontFeatureSettings:33,breakAfter:51,breakBefore:51,breakInside:51,columnCount:51,columnFill:51,columnGap:51,columnRule:51,columnRuleColor:51,columnRuleStyle:51,columnRuleWidth:51,columns:51,columnSpan:51,columnWidth:51},opera:{flex:16,flexBasis:16,flexDirection:16,flexGrow:16,flexFlow:16,flexShrink:16,flexWrap:16,alignContent:16,alignItems:16,alignSelf:16,justifyContent:16,order:16,transform:22,transformOrigin:22,transformOriginX:22,transformOriginY:22,backfaceVisibility:22,perspective:22,perspectiveOrigin:22,transformStyle:22,transformOriginZ:22,animation:29,animationDelay:29,animationDirection:29,animationFillMode:29,animationDuration:29,animationIterationCount:29,animationName:29,animationPlayState:29,animationTimingFunction:29,appearance:41,userSelect:41,fontKerning:19,textEmphasisPosition:41,textEmphasis:41,textEmphasisStyle:41,textEmphasisColor:41,boxDecorationBreak:41,clipPath:41,maskImage:41,maskMode:41,maskRepeat:41,maskPosition:41,maskClip:41,maskOrigin:41,maskSize:41,maskComposite:41,mask:41,maskBorderSource:41,maskBorderMode:41,maskBorderSlice:41,maskBorderWidth:41,maskBorderOutset:41,maskBorderRepeat:41,maskBorder:41,maskType:41,textDecorationStyle:41,textDecorationSkip:41,textDecorationLine:41,textDecorationColor:41,filter:39,fontFeatureSettings:34,breakAfter:36,breakBefore:36,breakInside:36,columnCount:36,columnFill:36,columnGap:36,columnRule:36,columnRuleColor:36,columnRuleStyle:36,columnRuleWidth:36,columns:36,columnSpan:36,columnWidth:36},ie:{flex:10,flexDirection:10,flexFlow:10,flexWrap:10,transform:9,transformOrigin:9,transformOriginX:9,transformOriginY:9,userSelect:11,wrapFlow:11,wrapThrough:11,wrapMargin:11,scrollSnapType:11,scrollSnapPointsX:11,scrollSnapPointsY:11,scrollSnapDestination:11,scrollSnapCoordinate:11,touchAction:10,hyphens:11,flowInto:11,flowFrom:11,breakBefore:11,breakAfter:11,breakInside:11,regionFragment:11,gridTemplateColumns:11,gridTemplateRows:11,gridTemplateAreas:11,gridTemplate:11,gridAutoColumns:11,gridAutoRows:11,gridAutoFlow:11,grid:11,gridRowStart:11,gridColumnStart:11,gridRowEnd:11,gridRow:11,gridColumn:11,gridColumnEnd:11,gridColumnGap:11,gridRowGap:11,gridArea:11,gridGap:11,textSizeAdjust:11},edge:{userSelect:14,wrapFlow:14,wrapThrough:14,wrapMargin:14,scrollSnapType:14,scrollSnapPointsX:14,scrollSnapPointsY:14,scrollSnapDestination:14,scrollSnapCoordinate:14,hyphens:14,flowInto:14,flowFrom:14,breakBefore:14,breakAfter:14,breakInside:14,regionFragment:14,gridTemplateColumns:14,gridTemplateRows:14,gridTemplateAreas:14,gridTemplate:14,gridAutoColumns:14,gridAutoRows:14,gridAutoFlow:14,grid:14,gridRowStart:14,gridColumnStart:14,gridRowEnd:14,gridRow:14,gridColumn:14,gridColumnEnd:14,gridColumnGap:14,gridRowGap:14,gridArea:14,gridGap:14},ios_saf:{flex:8.1,flexBasis:8.1,flexDirection:8.1,flexGrow:8.1,flexFlow:8.1,flexShrink:8.1,flexWrap:8.1,alignContent:8.1,alignItems:8.1,alignSelf:8.1,justifyContent:8.1,order:8.1,transition:6,transitionDelay:6,transitionDuration:6,transitionProperty:6,transitionTimingFunction:6,transform:8.1,transformOrigin:8.1,transformOriginX:8.1,transformOriginY:8.1,backfaceVisibility:8.1,perspective:8.1,perspectiveOrigin:8.1,transformStyle:8.1,transformOriginZ:8.1,animation:8.1,animationDelay:8.1,animationDirection:8.1,animationFillMode:8.1,animationDuration:8.1,animationIterationCount:8.1,animationName:8.1,animationPlayState:8.1,animationTimingFunction:8.1,appearance:9.3,userSelect:9.3,backdropFilter:9.3,fontKerning:9.3,scrollSnapType:9.3,scrollSnapPointsX:9.3,scrollSnapPointsY:9.3,scrollSnapDestination:9.3,scrollSnapCoordinate:9.3,boxDecorationBreak:9.3,clipPath:9.3,maskImage:9.3,maskMode:9.3,maskRepeat:9.3,maskPosition:9.3,maskClip:9.3,maskOrigin:9.3,maskSize:9.3,maskComposite:9.3,mask:9.3,maskBorderSource:9.3,maskBorderMode:9.3,maskBorderSlice:9.3,maskBorderWidth:9.3,maskBorderOutset:9.3,maskBorderRepeat:9.3,maskBorder:9.3,maskType:9.3,textSizeAdjust:9.3,textDecorationStyle:9.3,textDecorationSkip:9.3,textDecorationLine:9.3,textDecorationColor:9.3,shapeImageThreshold:9.3,shapeImageMargin:9.3,shapeImageOutside:9.3,filter:9,hyphens:9.3,flowInto:9.3,flowFrom:9.3,breakBefore:8.1,breakAfter:8.1,breakInside:8.1,regionFragment:9.3,columnCount:8.1,columnFill:8.1,columnGap:8.1,columnRule:8.1,columnRuleColor:8.1,columnRuleStyle:8.1,columnRuleWidth:8.1,columns:8.1,columnSpan:8.1,columnWidth:8.1},android:{flex:4.2,flexBasis:4.2,flexDirection:4.2,flexGrow:4.2,flexFlow:4.2,flexShrink:4.2,flexWrap:4.2,alignContent:4.2,alignItems:4.2,alignSelf:4.2,justifyContent:4.2,order:4.2,transition:4.2,transitionDelay:4.2,transitionDuration:4.2,transitionProperty:4.2,transitionTimingFunction:4.2,transform:4.4,transformOrigin:4.4,transformOriginX:4.4,transformOriginY:4.4,backfaceVisibility:4.4,perspective:4.4,perspectiveOrigin:4.4,transformStyle:4.4,transformOriginZ:4.4,animation:4.4,animationDelay:4.4,animationDirection:4.4,animationFillMode:4.4,animationDuration:4.4,animationIterationCount:4.4,animationName:4.4,animationPlayState:4.4,animationTimingFunction:4.4,appearance:51,userSelect:51,fontKerning:4.4,textEmphasisPosition:51,textEmphasis:51,textEmphasisStyle:51,textEmphasisColor:51,boxDecorationBreak:51,clipPath:51,maskImage:51,maskMode:51,maskRepeat:51,maskPosition:51,maskClip:51,maskOrigin:51,maskSize:51,maskComposite:51,mask:51,maskBorderSource:51,maskBorderMode:51,maskBorderSlice:51,maskBorderWidth:51,maskBorderOutset:51,maskBorderRepeat:51,maskBorder:51,maskType:51,filter:51,fontFeatureSettings:4.4,breakAfter:51,breakBefore:51,breakInside:51,columnCount:51,columnFill:51,columnGap:51,columnRule:51,columnRuleColor:51,columnRuleStyle:51,columnRuleWidth:51,columns:51,columnSpan:51,columnWidth:51},and_chr:{appearance:51,userSelect:51,textEmphasisPosition:51,textEmphasis:51,textEmphasisStyle:51,textEmphasisColor:51,boxDecorationBreak:51,clipPath:51,maskImage:51,maskMode:51,maskRepeat:51,maskPosition:51,maskClip:51,maskOrigin:51,maskSize:51,maskComposite:51,mask:51,maskBorderSource:51,maskBorderMode:51,maskBorderSlice:51,maskBorderWidth:51,maskBorderOutset:51,maskBorderRepeat:51,maskBorder:51,maskType:51,textDecorationStyle:51,textDecorationSkip:51,textDecorationLine:51,textDecorationColor:51,filter:51},and_uc:{flex:9.9,flexBasis:9.9,flexDirection:9.9,flexGrow:9.9,flexFlow:9.9,flexShrink:9.9,flexWrap:9.9,alignContent:9.9,alignItems:9.9,alignSelf:9.9,justifyContent:9.9,order:9.9,transition:9.9,transitionDelay:9.9,transitionDuration:9.9,transitionProperty:9.9,transitionTimingFunction:9.9,transform:9.9,transformOrigin:9.9,transformOriginX:9.9,transformOriginY:9.9,backfaceVisibility:9.9,perspective:9.9,perspectiveOrigin:9.9,transformStyle:9.9,transformOriginZ:9.9,animation:9.9,animationDelay:9.9,animationDirection:9.9,animationFillMode:9.9,animationDuration:9.9,animationIterationCount:9.9,animationName:9.9,animationPlayState:9.9,animationTimingFunction:9.9,appearance:9.9,userSelect:9.9,fontKerning:9.9,textEmphasisPosition:9.9,textEmphasis:9.9,textEmphasisStyle:9.9,textEmphasisColor:9.9,maskImage:9.9,maskMode:9.9,maskRepeat:9.9,maskPosition:9.9,maskClip:9.9,maskOrigin:9.9,maskSize:9.9,maskComposite:9.9,mask:9.9,maskBorderSource:9.9,maskBorderMode:9.9,maskBorderSlice:9.9,maskBorderWidth:9.9,maskBorderOutset:9.9,maskBorderRepeat:9.9,maskBorder:9.9,maskType:9.9,textSizeAdjust:9.9,filter:9.9,hyphens:9.9,flowInto:9.9,flowFrom:9.9,breakBefore:9.9,breakAfter:9.9,breakInside:9.9,regionFragment:9.9,fontFeatureSettings:9.9,columnCount:9.9,columnFill:9.9,columnGap:9.9,columnRule:9.9,columnRuleColor:9.9,columnRuleStyle:9.9,columnRuleWidth:9.9,columns:9.9,columnSpan:9.9,columnWidth:9.9},op_mini:{}},t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if("string"==typeof e&&!(0,l.default)(e)&&e.indexOf("calc(")>-1)return(0,a.default)(t,e,function(t,e){return e.replace(/calc\(/g,t+"calc(")})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(181),a=n(i),s=r(264),l=n(s);t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if("cursor"===t&&s[e])return(0,
a.default)(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(181),a=n(i),s={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};t.exports=e.default},function(t,e){"use strict";function r(t,e){if("display"===t&&n[e])return{display:["-webkit-box","-moz-box","-ms-"+e+"box","-webkit-"+e,e]}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n={flex:!0,"inline-flex":!0};t.exports=e.default},function(t,e){"use strict";function r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n(t,e){if(i[t])return r({},i[t],o[e]||e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var o={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end"},i={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msPreferredSize"};t.exports=e.default},function(t,e){"use strict";function r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n(t,e){return"flexDirection"===t&&"string"==typeof e?{WebkitBoxOrient:e.indexOf("column")>-1?"vertical":"horizontal",WebkitBoxDirection:e.indexOf("reverse")>-1?"reverse":"normal"}:i[t]?r({},i[t],o[e]||e):void 0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var o={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},i={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"};t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if("string"==typeof e&&!(0,l.default)(e)&&null!==e.match(u))return(0,a.default)(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(181),a=n(i),s=r(264),l=n(s),u=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;t.exports=e.default},function(t,e){"use strict";function r(t,e){if("position"===t&&"sticky"===e)return{position:["-webkit-sticky","sticky"]}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(s[t]&&l[e])return(0,a.default)(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(181),a=n(i),s={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},l={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t,e){if("string"==typeof e&&y[t]){var r,n=a(e),i=n.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(t){return null===t.match(/-moz-|-ms-/)}).join(",");return t.indexOf("Webkit")>-1?o({},t,i):(r={},o(r,"Webkit"+(0,c.default)(t),i),o(r,t,n),r)}}function a(t){if((0,f.default)(t))return t;var e=t.split(/,(?![^()]*(?:\([^()]*\))?\))/g);return e.forEach(function(t,r){e[r]=Object.keys(d.default).reduce(function(e,r){var n="-"+r.toLowerCase()+"-";return Object.keys(d.default[r]).forEach(function(r){var o=(0,l.default)(r);t.indexOf(o)>-1&&"order"!==o&&(e=t.replace(o,n+o)+","+e)}),e},t)}),e.join(",")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var s=r(380),l=n(s),u=r(263),c=n(u),p=r(264),f=n(p),h=r(381),d=n(h),y={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0};t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){return Object.keys(t).forEach(function(e){var r=t[e];r instanceof Object&&!Array.isArray(r)?t[e]=o(r):Object.keys(s.default).forEach(function(n){var o=s.default[n];o[e]&&(t[n+(0,u.default)(e)]=r)})}),Object.keys(t).forEach(function(e){[].concat(t[e]).forEach(function(r,n){P.forEach(function(n){return i(t,n(e,r))})})}),(0,p.default)(t)}function i(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];Object.keys(e).forEach(function(r){var n=t[r];Array.isArray(n)?[].concat(e[r]).forEach(function(e){var o=n.indexOf(e);o>-1&&t[r].splice(o,1),t[r].push(e)}):t[r]=e[r]})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var a=r(381),s=n(a),l=r(263),u=n(l),c=r(382),p=n(c),f=r(888),h=n(f),d=r(882),y=n(d),m=r(883),v=n(m),g=r(884),b=n(g),x=r(889),_=n(x),w=r(887),T=n(w),M=r(890),S=n(M),E=r(885),k=n(E),C=r(886),A=n(C),P=[h.default,y.default,v.default,_.default,T.default,S.default,k.default,A.default,b.default];t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(574),i=n(o),a={Webkit:["chrome","safari","ios","android","phantom","opera","webos","blackberry","bada","tizen","chromium","vivaldi"],Moz:["firefox","seamonkey","sailfish"],ms:["msie","msedge"]},s={chrome:[["chrome"],["chromium"]],safari:[["safari"]],firefox:[["firefox"]],edge:[["msedge"]],opera:[["opera"],["vivaldi"]],ios_saf:[["ios","mobile"],["ios","tablet"]],ie:[["msie"]],op_mini:[["opera","mobile"],["opera","tablet"]],and_uc:[["android","mobile"],["android","tablet"]],android:[["android","mobile"],["android","tablet"]]},l=function(t){if(t.firefox)return"firefox";var e="";return Object.keys(s).forEach(function(r){s[r].forEach(function(n){var o=0;n.forEach(function(e){t[e]&&(o+=1)}),n.length===o&&(e=r)})}),e};e.default=function(t){if(!t)return!1;var e=i.default._detect(t);return Object.keys(a).forEach(function(t){a[t].forEach(function(r){e[r]&&(e.prefix={inline:t,css:"-"+t.toLowerCase()+"-"})})}),e.browser=l(e),e.version=e.version?parseFloat(e.version):parseInt(parseFloat(e.osversion),10),e.osversion=parseFloat(e.osversion),"ios_saf"===e.browser&&e.version>e.osversion&&(e.version=e.osversion,e.safari=!0),"android"===e.browser&&e.chrome&&e.version>37&&(e.browser="and_chr"),"android"===e.browser&&e.osversion<5&&(e.version=e.osversion),e},t.exports=e.default},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.browser,r=t.version,n=t.prefix,o="keyframes";return("chrome"===e&&r<43||("safari"===e||"ios_saf"===e)&&r<9||"opera"===e&&r<30||"android"===e&&r<=4.4||"and_uc"===e)&&(o=n.css+o),o},t.exports=e.default},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return null!==t.match(/^(Webkit|Moz|O|ms)/)},t.exports=e.default},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.replace(/^(ms|Webkit|Moz|O)/,"");return e.charAt(0).toLowerCase()+e.slice(1)},t.exports=e.default},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){(function(t,r){function n(t,e){return t.set(e[0],e[1]),t}function o(t,e){return t.add(e),t}function i(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function a(t,e){for(var r=-1,n=t?t.length:0;++r<n&&e(t[r],r,t)!==!1;);return t}function s(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}function l(t,e,r,n){var o=-1,i=t?t.length:0;for(n&&i&&(r=t[++o]);++o<i;)r=e(r,t[o],o,t);return r}function u(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function c(t){return function(e){return t(e)}}function p(t,e){return null==t?void 0:t[e]}function f(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function h(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function d(t,e){return function(r){return t(e(r))}}function y(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}function m(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function v(){this.__data__=or?or(null):{}}function g(t){return this.has(t)&&delete this.__data__[t]}function b(t){var e=this.__data__;if(or){var r=e[t];return r===Vt?void 0:r}return Fe.call(e,t)?e[t]:void 0}function x(t){var e=this.__data__;return or?void 0!==e[t]:Fe.call(e,t)}function _(t,e){var r=this.__data__;return r[t]=or&&void 0===e?Vt:e,this}function w(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function T(){this.__data__=[]}function M(t){var e=this.__data__,r=H(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Xe.call(e,r,1),!0}function S(t){var e=this.__data__,r=H(e,t);return r<0?void 0:e[r][1]}function E(t){return H(this.__data__,t)>-1}function k(t,e){var r=this.__data__,n=H(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}function C(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function A(){this.__data__={hash:new m,map:new(tr||w),string:new m}}function P(t){return yt(this,t).delete(t)}function L(t){return yt(this,t).get(t)}function D(t){return yt(this,t).has(t)}function O(t,e){return yt(this,t).set(t,e),this}function I(t){this.__data__=new w(t)}function R(){this.__data__=new w}function N(t){return this.__data__.delete(t)}function j(t){return this.__data__.get(t)}function F(t){return this.__data__.has(t)}function z(t,e){var r=this.__data__;if(r instanceof w){var n=r.__data__;if(!tr||n.length<Ut-1)return n.push([t,e]),this;r=this.__data__=new C(n)}return r.set(t,e),this}function B(t,e){var r=dr(t)||Ct(t)?u(t.length,String):[],n=r.length,o=!!n;for(var i in t)!e&&!Fe.call(t,i)||o&&("length"==i||xt(i,n))||r.push(i);return r}function U(t,e,r){(void 0===r||kt(t[e],r))&&("number"!=typeof e||void 0!==r||e in t)||(t[e]=r)}function V(t,e,r){var n=t[e];Fe.call(t,e)&&kt(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function H(t,e){for(var r=t.length;r--;)if(kt(t[r][0],e))return r;return-1}function W(t,e){return t&&pt(e,jt(e),t)}function q(t,e,r,n,o,i,s){var l;if(n&&(l=i?n(t,o,i,s):n(t)),void 0!==l)return l;if(!Ot(t))return t;var u=dr(t);if(u){if(l=vt(t),!e)return ct(t,l)}else{var c=hr(t),p=c==Kt||c==Zt;if(yr(t))return rt(t,e);if(c==Qt||c==Wt||p&&!i){if(f(t))return i?t:{};if(l=gt(p?{}:t),!e)return ft(t,W(l,t))}else{if(!we[c])return i?t:{};l=bt(t,c,q,e)}}s||(s=new I);var h=s.get(t);if(h)return h;if(s.set(t,l),!u)var d=r?dt(t):jt(t);return a(d||t,function(o,i){d&&(i=o,o=t[i]),V(l,i,q(o,e,r,n,i,t,s))}),l}function G(t){return Ot(t)?Ge(t):{}}function Y(t,e,r){var n=e(t);return dr(t)?n:s(n,r(t))}function X(t){return Be.call(t)}function K(t){if(!Ot(t)||Tt(t))return!1;var e=Lt(t)||f(t)?Ue:be;return e.test(Et(t))}function Z(t){return It(t)&&Dt(t.length)&&!!_e[Be.call(t)]}function J(t){if(!Mt(t))return Je(t);var e=[];for(var r in Object(t))Fe.call(t,r)&&"constructor"!=r&&e.push(r);return e}function $(t){if(!Ot(t))return St(t);var e=Mt(t),r=[];for(var n in t)("constructor"!=n||!e&&Fe.call(t,n))&&r.push(n);return r}function Q(t,e,r,n,o){if(t!==e){if(!dr(e)&&!mr(e))var i=$(e);a(i||e,function(a,s){if(i&&(s=a,a=e[s]),Ot(a))o||(o=new I),tt(t,e,s,r,Q,n,o);else{var l=n?n(t[s],a,s+"",t,e,o):void 0;void 0===l&&(l=a),U(t,s,l)}})}}function tt(t,e,r,n,o,i,a){var s=t[r],l=e[r],u=a.get(l);if(u)return void U(t,r,u);var c=i?i(s,l,r+"",t,e,a):void 0,p=void 0===c;p&&(c=l,dr(l)||mr(l)?dr(s)?c=s:Pt(s)?c=ct(s):(p=!1,c=q(l,!0)):Rt(l)||Ct(l)?Ct(s)?c=Nt(s):!Ot(s)||n&&Lt(s)?(p=!1,c=q(l,!0)):c=s:p=!1),p&&(a.set(l,c),o(c,l,n,i,a),a.delete(l)),U(t,r,c)}function et(t,e){return e=$e(void 0===e?t.length-1:e,0),function(){for(var r=arguments,n=-1,o=$e(r.length-e,0),a=Array(o);++n<o;)a[n]=r[e+n];n=-1;for(var s=Array(e+1);++n<e;)s[n]=r[n];return s[e]=a,i(t,this,s)}}function rt(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}function nt(t){var e=new t.constructor(t.byteLength);return new We(e).set(new We(t)),e}function ot(t,e){var r=e?nt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}function it(t,e,r){var o=e?r(h(t),!0):h(t);return l(o,n,new t.constructor)}function at(t){var e=new t.constructor(t.source,ge.exec(t));return e.lastIndex=t.lastIndex,e}function st(t,e,r){var n=e?r(y(t),!0):y(t);return l(n,o,new t.constructor)}function lt(t){return pr?Object(pr.call(t)):{}}function ut(t,e){var r=e?nt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function ct(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function pt(t,e,r,n){r||(r={});for(var o=-1,i=e.length;++o<i;){var a=e[o],s=n?n(r[a],t[a],a,r,t):void 0;V(r,a,void 0===s?t[a]:s)}return r}function ft(t,e){return pt(t,fr(t),e)}function ht(t){return et(function(e,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&_t(r[0],r[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++n<o;){var s=r[n];s&&t(e,s,n,i)}return e})}function dt(t){return Y(t,jt,fr)}function yt(t,e){var r=t.__data__;return wt(e)?r["string"==typeof e?"string":"hash"]:r.map}function mt(t,e){var r=p(t,e);return K(r)?r:void 0}function vt(t){var e=t.length,r=t.constructor(e);return e&&"string"==typeof t[0]&&Fe.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function gt(t){return"function"!=typeof t.constructor||Mt(t)?{}:G(qe(t))}function bt(t,e,r,n){var o=t.constructor;switch(e){case ae:return nt(t);case Gt:case Yt:return new o(+t);case se:return ot(t,n);case le:case ue:case ce:case pe:case fe:case he:case de:case ye:case me:return ut(t,n);case Jt:return it(t,n,r);case $t:case ne:return new o(t);case ee:return at(t);case re:return st(t,n,r);case oe:return lt(t)}}function xt(t,e){return e=null==e?Ht:e,!!e&&("number"==typeof t||xe.test(t))&&t>-1&&t%1==0&&t<e}function _t(t,e,r){if(!Ot(r))return!1;var n=typeof e;return!!("number"==n?At(r)&&xt(e,r.length):"string"==n&&e in r)&&kt(r[e],t)}function wt(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Tt(t){return!!Ne&&Ne in t}function Mt(t){var e=t&&t.constructor,r="function"==typeof e&&e.prototype||Ie;return t===r}function St(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}function Et(t){if(null!=t){try{return je.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function kt(t,e){return t===e||t!==t&&e!==e}function Ct(t){return Pt(t)&&Fe.call(t,"callee")&&(!Ye.call(t,"callee")||Be.call(t)==Wt)}function At(t){return null!=t&&Dt(t.length)&&!Lt(t)}function Pt(t){return It(t)&&At(t)}function Lt(t){var e=Ot(t)?Be.call(t):"";return e==Kt||e==Zt}function Dt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ht}function Ot(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function It(t){return!!t&&"object"==typeof t}function Rt(t){if(!It(t)||Be.call(t)!=Qt||f(t))return!1;var e=qe(t);if(null===e)return!0;var r=Fe.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&je.call(r)==ze}function Nt(t){return pt(t,Ft(t))}function jt(t){return At(t)?B(t):J(t)}function Ft(t){return At(t)?B(t,!0):$(t)}function zt(){return[]}function Bt(){return!1}var Ut=200,Vt="__lodash_hash_undefined__",Ht=9007199254740991,Wt="[object Arguments]",qt="[object Array]",Gt="[object Boolean]",Yt="[object Date]",Xt="[object Error]",Kt="[object Function]",Zt="[object GeneratorFunction]",Jt="[object Map]",$t="[object Number]",Qt="[object Object]",te="[object Promise]",ee="[object RegExp]",re="[object Set]",ne="[object String]",oe="[object Symbol]",ie="[object WeakMap]",ae="[object ArrayBuffer]",se="[object DataView]",le="[object Float32Array]",ue="[object Float64Array]",ce="[object Int8Array]",pe="[object Int16Array]",fe="[object Int32Array]",he="[object Uint8Array]",de="[object Uint8ClampedArray]",ye="[object Uint16Array]",me="[object Uint32Array]",ve=/[\\^$.*+?()[\]{}|]/g,ge=/\w*$/,be=/^\[object .+?Constructor\]$/,xe=/^(?:0|[1-9]\d*)$/,_e={};_e[le]=_e[ue]=_e[ce]=_e[pe]=_e[fe]=_e[he]=_e[de]=_e[ye]=_e[me]=!0,_e[Wt]=_e[qt]=_e[ae]=_e[Gt]=_e[se]=_e[Yt]=_e[Xt]=_e[Kt]=_e[Jt]=_e[$t]=_e[Qt]=_e[ee]=_e[re]=_e[ne]=_e[ie]=!1;var we={};we[Wt]=we[qt]=we[ae]=we[se]=we[Gt]=we[Yt]=we[le]=we[ue]=we[ce]=we[pe]=we[fe]=we[Jt]=we[$t]=we[Qt]=we[ee]=we[re]=we[ne]=we[oe]=we[he]=we[de]=we[ye]=we[me]=!0,we[Xt]=we[Kt]=we[ie]=!1;var Te="object"==typeof t&&t&&t.Object===Object&&t,Me="object"==typeof self&&self&&self.Object===Object&&self,Se=Te||Me||Function("return this")(),Ee="object"==typeof e&&e&&!e.nodeType&&e,ke=Ee&&"object"==typeof r&&r&&!r.nodeType&&r,Ce=ke&&ke.exports===Ee,Ae=Ce&&Te.process,Pe=function(){try{return Ae&&Ae.binding("util")}catch(t){}}(),Le=Pe&&Pe.isTypedArray,De=Array.prototype,Oe=Function.prototype,Ie=Object.prototype,Re=Se["__core-js_shared__"],Ne=function(){var t=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),je=Oe.toString,Fe=Ie.hasOwnProperty,ze=je.call(Object),Be=Ie.toString,Ue=RegExp("^"+je.call(Fe).replace(ve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=Ce?Se.Buffer:void 0,He=Se.Symbol,We=Se.Uint8Array,qe=d(Object.getPrototypeOf,Object),Ge=Object.create,Ye=Ie.propertyIsEnumerable,Xe=De.splice,Ke=Object.getOwnPropertySymbols,Ze=Ve?Ve.isBuffer:void 0,Je=d(Object.keys,Object),$e=Math.max,Qe=mt(Se,"DataView"),tr=mt(Se,"Map"),er=mt(Se,"Promise"),rr=mt(Se,"Set"),nr=mt(Se,"WeakMap"),or=mt(Object,"create"),ir=Et(Qe),ar=Et(tr),sr=Et(er),lr=Et(rr),ur=Et(nr),cr=He?He.prototype:void 0,pr=cr?cr.valueOf:void 0;m.prototype.clear=v,m.prototype.delete=g,m.prototype.get=b,m.prototype.has=x,m.prototype.set=_,w.prototype.clear=T,w.prototype.delete=M,w.prototype.get=S,w.prototype.has=E,w.prototype.set=k,C.prototype.clear=A,C.prototype.delete=P,C.prototype.get=L,C.prototype.has=D,C.prototype.set=O,I.prototype.clear=R,I.prototype.delete=N,I.prototype.get=j,I.prototype.has=F,I.prototype.set=z;var fr=Ke?d(Ke,Object):zt,hr=X;(Qe&&hr(new Qe(new ArrayBuffer(1)))!=se||tr&&hr(new tr)!=Jt||er&&hr(er.resolve())!=te||rr&&hr(new rr)!=re||nr&&hr(new nr)!=ie)&&(hr=function(t){var e=Be.call(t),r=e==Qt?t.constructor:void 0,n=r?Et(r):void 0;if(n)switch(n){case ir:return se;case ar:return Jt;case sr:return te;case lr:return re;case ur:return ie}return e});var dr=Array.isArray,yr=Ze||Bt,mr=Le?c(Le):Z,vr=ht(function(t,e,r){Q(t,e,r)});r.exports=vr}).call(e,function(){return this}(),r(504)(t))},function(t,e){(function(e){function r(t,e,r){function n(e){var r=y,n=m;return y=m=void 0,M=e,g=t.apply(n,r)}function i(t){return M=t,b=setTimeout(c,e),S?n(t):g}function a(t){var r=t-x,n=t-M,o=e-r;return E?w(o,v-n):o}function u(t){var r=t-x,n=t-M;return void 0===x||r>=e||r<0||E&&n>=v}function c(){var t=T();return u(t)?p(t):void(b=setTimeout(c,a(t)))}function p(t){return b=void 0,k&&y?n(t):(y=m=void 0,g)}function f(){void 0!==b&&clearTimeout(b),M=0,y=x=m=b=void 0}function h(){return void 0===b?g:p(T())}function d(){var t=T(),r=u(t);if(y=arguments,m=this,x=t,r){if(void 0===b)return i(x);if(E)return b=setTimeout(c,e),n(x)}return void 0===b&&(b=setTimeout(c,e)),g}var y,m,v,g,b,x,M=0,S=!1,E=!1,k=!0;if("function"!=typeof t)throw new TypeError(l);return e=s(e)||0,o(r)&&(S=!!r.leading,E="maxWait"in r,v=E?_(s(r.maxWait)||0,e):v,k="trailing"in r?!!r.trailing:k),d.cancel=f,d.flush=h,d}function n(t,e,n){var i=!0,a=!0;if("function"!=typeof t)throw new TypeError(l);return o(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),r(t,e,{leading:i,maxWait:e,trailing:a})}function o(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function i(t){return!!t&&"object"==typeof t}function a(t){return"symbol"==typeof t||i(t)&&x.call(t)==c}function s(t){if("number"==typeof t)return t;if(a(t))return u;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(p,"");var r=h.test(t);return r||d.test(t)?y(t.slice(2),r?2:8):f.test(t)?u:+t}var l="Expected a function",u=NaN,c="[object Symbol]",p=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,d=/^0o[0-7]+$/i,y=parseInt,m="object"==typeof e&&e&&e.Object===Object&&e,v="object"==typeof self&&self&&self.Object===Object&&self,g=m||v||Function("return this")(),b=Object.prototype,x=b.toString,_=Math.max,w=Math.min,T=function(){return g.Date.now()};t.exports=n}).call(e,function(){return this}())},,,,,,,,,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.muiTheme,n=r.appBar,o=r.button.iconButtonSize,i=r.zIndex,a=36,s={root:{position:"relative",zIndex:i.appBar,width:"100%",display:"flex",backgroundColor:n.color,paddingLeft:n.padding,paddingRight:n.padding},title:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",margin:0,paddingTop:0,letterSpacing:0,fontSize:24,fontWeight:n.titleFontWeight,color:n.textColor,height:n.height,lineHeight:n.height+"px"},mainElement:{boxFlex:1,flex:"1"},iconButtonStyle:{marginTop:(n.height-o)/2,marginRight:8,marginLeft:-16},iconButtonIconStyle:{fill:n.textColor,color:n.textColor},flatButton:{color:n.textColor,marginTop:(o-a)/2+1}};return s}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(117),l=n(s),u=r(6),c=n(u),p=r(8),f=n(p),h=r(2),d=n(h),y=r(7),m=n(y),v=r(4),g=n(v),b=r(3),x=n(b);e.getStyles=o;var _=r(10),w=n(_),T=r(1),M=n(T),S=r(42),E=n(S),k=r(1028),C=n(k),A=r(25),P=n(A),L=r(58),D=(n(L),r(43)),O=(n(D),function(t){function e(){var t,r,n,o;(0,d.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,g.default)(this,(t=e.__proto__||(0,f.default)(e)).call.apply(t,[this].concat(a))),n.handleTouchTapLeftIconButton=function(t){n.props.onLeftIconButtonTouchTap&&n.props.onLeftIconButtonTouchTap(t)},n.handleTouchTapRightIconButton=function(t){n.props.onRightIconButtonTouchTap&&n.props.onRightIconButtonTouchTap(t)},n.handleTitleTouchTap=function(t){n.props.onTitleTouchTap&&n.props.onTitleTouchTap(t)},o=r,(0,g.default)(n,o)}return(0,x.default)(e,t),(0,m.default)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this.props,e=t.title,r=t.titleStyle,n=t.iconStyleLeft,i=t.iconStyleRight,s=(t.onTitleTouchTap,t.showMenuIconButton),u=t.iconElementLeft,p=t.iconElementRight,f=t.iconClassNameLeft,h=t.iconClassNameRight,d=(t.onLeftIconButtonTouchTap,t.onRightIconButtonTouchTap,t.className),y=t.style,m=t.zDepth,v=t.children,g=(0,c.default)(t,["title","titleStyle","iconStyleLeft","iconStyleRight","onTitleTouchTap","showMenuIconButton","iconElementLeft","iconElementRight","iconClassNameLeft","iconClassNameRight","onLeftIconButtonTouchTap","onRightIconButtonTouchTap","className","style","zDepth","children"]),b=this.context.muiTheme.prepareStyles,x=o(this.props,this.context),_=void 0,S=void 0,k="string"==typeof e||e instanceof String?"h1":"div",A=M.default.createElement(k,{onTouchTap:this.handleTitleTouchTap,style:b((0,w.default)(x.title,x.mainElement,r))},e),L=(0,w.default)({},x.iconButtonStyle,n);if(s)if(u){var D={};if("IconButton"===u.type.muiName){var O=u.props.children,I=O&&O.props&&O.props.color?null:x.iconButtonIconStyle;D.iconStyle=(0,w.default)({},I,u.props.iconStyle)}!u.props.onTouchTap&&this.props.onLeftIconButtonTouchTap&&(D.onTouchTap=this.handleTouchTapLeftIconButton),_=M.default.createElement("div",{style:b(L)},(0,l.default)(D).length>0?(0,T.cloneElement)(u,D):u)}else _=M.default.createElement(E.default,{style:L,iconStyle:x.iconButtonIconStyle,iconClassName:f,onTouchTap:this.handleTouchTapLeftIconButton},f?"":M.default.createElement(C.default,{style:(0,w.default)({},x.iconButtonIconStyle)}));var R=(0,w.default)({},x.iconButtonStyle,{marginRight:-16,marginLeft:"auto"},i);if(p){var N={};switch(p.type.muiName){case"IconMenu":case"IconButton":var j=p.props.children,F=j&&j.props&&j.props.color?null:x.iconButtonIconStyle;N.iconStyle=(0,w.default)({},F,p.props.iconStyle);break;case"FlatButton":N.style=(0,w.default)({},x.flatButton,p.props.style)}!p.props.onTouchTap&&this.props.onRightIconButtonTouchTap&&(N.onTouchTap=this.handleTouchTapRightIconButton),S=M.default.createElement("div",{style:b(R)},(0,l.default)(N).length>0?(0,T.cloneElement)(p,N):p)}else h&&(S=M.default.createElement(E.default,{style:R,iconStyle:x.iconButtonIconStyle,iconClassName:h,onTouchTap:this.handleTouchTapRightIconButton}));return M.default.createElement(P.default,(0,a.default)({},g,{rounded:!1,className:d,style:(0,w.default)({},x.root,y),zDepth:m}),_,A,S,v)}}]),e}(T.Component));O.muiName="AppBar",O.defaultProps={showMenuIconButton:!0,title:"",zDepth:1},O.contextTypes={muiTheme:T.PropTypes.object.isRequired},e.default=O},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){var n=r.anchorEl,o=t.fullWidth,i={root:{display:"inline-block",position:"relative",width:o?"100%":256},menu:{width:"100%"},list:{display:"block",width:o?"100%":256},innerDiv:{overflow:"hidden"}};return n&&o&&(i.popover={width:n.clientWidth}),i}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(68),l=n(s),u=r(6),c=n(u),p=r(8),f=n(p),h=r(2),d=n(h),y=r(7),m=n(y),v=r(4),g=n(v),b=r(3),x=n(b),_=r(10),w=n(_),T=r(1),M=n(T),S=r(15),E=n(S),k=r(39),C=n(k),A=r(109),P=n(A),L=r(396),D=n(L),O=r(88),I=n(O),R=r(184),N=n(R),j=r(133),F=n(j),z=r(58),B=(n(z),function(t){function e(){var t,r,n,o;(0,d.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,g.default)(this,(t=e.__proto__||(0,f.default)(e)).call.apply(t,[this].concat(a))),n.state={anchorEl:null,focusTextField:!0,open:!1,searchText:void 0},n.handleRequestClose=function(){n.state.focusTextField||n.close()},n.handleMouseDown=function(t){t.preventDefault()},n.handleItemTouchTap=function(t,e){var r=n.props.dataSource,o=parseInt(e.key,10),i=r[o],a=n.chosenRequestText(i);n.setState({searchText:a},function(){n.props.onUpdateInput(a,n.props.dataSource,{source:"touchTap"}),n.timerTouchTapCloseId=setTimeout(function(){n.timerTouchTapCloseId=null,n.close(),n.props.onNewRequest(i,o)},n.props.menuCloseDelay)})},n.chosenRequestText=function(t){return"string"==typeof t?t:t[n.props.dataSourceConfig.text]},n.handleEscKeyDown=function(){n.close()},n.handleKeyDown=function(t){switch(n.props.onKeyDown&&n.props.onKeyDown(t),(0,C.default)(t)){case"enter":n.close();var e=n.state.searchText;""!==e&&n.props.onNewRequest(e,-1);break;case"esc":n.close();break;case"down":t.preventDefault(),n.setState({open:!0,focusTextField:!1,anchorEl:E.default.findDOMNode(n.refs.searchTextField)})}},n.handleChange=function(t){var e=t.target.value;e!==n.state.searchText&&n.setState({searchText:e,open:!0,anchorEl:E.default.findDOMNode(n.refs.searchTextField)},function(){n.props.onUpdateInput(e,n.props.dataSource,{source:"change"})})},n.handleBlur=function(t){n.state.focusTextField&&null===n.timerTouchTapCloseId&&(n.timerBlurClose=setTimeout(function(){n.close()},0)),n.props.onBlur&&n.props.onBlur(t)},n.handleFocus=function(t){!n.state.open&&n.props.openOnFocus&&n.setState({open:!0,anchorEl:E.default.findDOMNode(n.refs.searchTextField)}),n.setState({focusTextField:!0}),n.props.onFocus&&n.props.onFocus(t)},o=r,(0,g.default)(n,o)}return(0,x.default)(e,t),(0,m.default)(e,[{key:"componentWillMount",value:function(){this.requestsList=[],this.setState({open:this.props.open,searchText:this.props.searchText}),this.timerTouchTapCloseId=null}},{key:"componentWillReceiveProps",value:function(t){this.props.searchText!==t.searchText&&this.setState({searchText:t.searchText})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerTouchTapCloseId),clearTimeout(this.timerBlurClose)}},{key:"close",value:function(){this.setState({open:!1,anchorEl:null}),this.props.onClose&&this.props.onClose()}},{key:"blur",value:function(){this.refs.searchTextField.blur()}},{key:"focus",value:function(){this.refs.searchTextField.focus()}},{key:"render",value:function(){var t=this,e=this.props,r=e.anchorOrigin,n=e.animated,i=e.animation,s=e.dataSource,u=(e.dataSourceConfig,e.disableFocusRipple),p=e.errorStyle,f=e.floatingLabelText,h=e.filter,d=e.fullWidth,y=e.style,m=e.hintText,v=e.maxSearchResults,g=(e.menuCloseDelay,e.textFieldStyle),b=e.menuStyle,x=e.menuProps,_=e.listStyle,T=e.targetOrigin,S=(e.onClose,e.onNewRequest,e.onUpdateInput,e.openOnFocus,e.popoverProps),E=(e.searchText,(0,c.default)(e,["anchorOrigin","animated","animation","dataSource","dataSourceConfig","disableFocusRipple","errorStyle","floatingLabelText","filter","fullWidth","style","hintText","maxSearchResults","menuCloseDelay","textFieldStyle","menuStyle","menuProps","listStyle","targetOrigin","onClose","onNewRequest","onUpdateInput","openOnFocus","popoverProps","searchText"])),k=S||{},C=k.style,A=(0,c.default)(k,["style"]),L=this.state,O=L.open,R=L.anchorEl,j=L.searchText,z=L.focusTextField,B=this.context.muiTheme.prepareStyles,U=o(this.props,this.context,this.state),V=[];s.every(function(e,r){switch("undefined"==typeof e?"undefined":(0,l.default)(e)){case"string":h(j,e,e)&&V.push({text:e,value:M.default.createElement(I.default,{innerDivStyle:U.innerDiv,value:e,primaryText:e,disableFocusRipple:u,key:r})});break;case"object":if(e&&"string"==typeof e[t.props.dataSourceConfig.text]){var n=e[t.props.dataSourceConfig.text];if(!t.props.filter(j,n,e))break;var o=e[t.props.dataSourceConfig.value];!o.type||o.type.muiName!==I.default.muiName&&o.type.muiName!==N.default.muiName?V.push({text:n,value:M.default.createElement(I.default,{innerDivStyle:U.innerDiv,primaryText:n,disableFocusRipple:u,key:r})}):V.push({text:n,value:M.default.cloneElement(o,{key:r,disableFocusRipple:u})})}}return!(v&&v>0&&V.length===v)}),this.requestsList=V;var H=O&&V.length>0&&M.default.createElement(D.default,(0,a.default)({},x,{ref:"menu",autoWidth:!1,disableAutoFocus:z,onEscKeyDown:this.handleEscKeyDown,initiallyKeyboardFocused:!0,onItemTouchTap:this.handleItemTouchTap,onMouseDown:this.handleMouseDown,style:(0,w.default)(U.menu,b),listStyle:(0,w.default)(U.list,_)}),V.map(function(t){return t.value}));return M.default.createElement("div",{style:B((0,w.default)(U.root,y))},M.default.createElement(P.default,(0,a.default)({},E,{ref:"searchTextField",autoComplete:"off",value:j,onChange:this.handleChange,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,floatingLabelText:f,hintText:m,fullWidth:d,multiLine:!1,errorStyle:p,style:g})),M.default.createElement(F.default,(0,a.default)({style:(0,w.default)({},U.popover,C),canAutoPosition:!1,anchorOrigin:r,targetOrigin:T,open:O,anchorEl:R,useLayerForClickAway:!1,onRequestClose:this.handleRequestClose,animated:n,animation:i},A),H))}}]),e}(T.Component));B.defaultProps={anchorOrigin:{vertical:"bottom",horizontal:"left"},animated:!0,dataSourceConfig:{text:"text",value:"value"},disableFocusRipple:!0,filter:function(t,e){return""!==t&&e.indexOf(t)!==-1},fullWidth:!1,open:!1,openOnFocus:!1,onUpdateInput:function(){},onNewRequest:function(){},searchText:"",menuCloseDelay:300,targetOrigin:{vertical:"top",horizontal:"left"}},B.contextTypes={muiTheme:T.PropTypes.object.isRequired},B.levenshteinDistance=function(t,e){for(var r=[],n=void 0,o=void 0,i=0;i<=e.length;i++)for(var a=0;a<=t.length;a++)o=i&&a?t.charAt(a-1)===e.charAt(i-1)?n:Math.min(r[a],r[a-1],n)+1:i+a,n=r[a],r[a]=o;return r.pop()},B.noFilter=function(){return!0},B.defaultFilter=B.caseSensitiveFilter=function(t,e){return""!==t&&e.indexOf(t)!==-1},B.caseInsensitiveFilter=function(t,e){return e.toLowerCase().indexOf(t.toLowerCase())!==-1},B.levenshteinDistanceFilter=function(t){if(void 0===t)return B.levenshteinDistance;if("number"!=typeof t)throw"Error: AutoComplete.levenshteinDistanceFilter is a filter generator, not a filter!";return function(e,r){return B.levenshteinDistance(e,r)<t}},B.fuzzyFilter=function(t,e){var r=e.toLowerCase();t=t.toLowerCase();for(var n=0,o=0;o<e.length;o++)r[o]===t[n]&&(n+=1);return n===t.length},B.Item=I.default,B.Divider=N.default,e.default=B},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(908),i=n(o);e.default=i.default},function(t,e,r){
"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=t.backgroundColor,n=t.color,o=t.size,i=e.muiTheme.avatar,a={root:{color:n||i.color,backgroundColor:r||i.backgroundColor,userSelect:"none",display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:o/2,borderRadius:"50%",height:o,width:o},icon:{color:n||i.color,width:.6*o,height:.6*o,fontSize:.6*o,margin:.2*o}};return a}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=function(t){function e(){return(0,f.default)(this,e),(0,m.default)(this,(e.__proto__||(0,c.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){var t=this.props,e=(t.backgroundColor,t.icon),r=t.src,n=t.style,i=t.className,s=(0,l.default)(t,["backgroundColor","icon","src","style","className"]),u=this.context.muiTheme.prepareStyles,c=o(this.props,this.context);return r?w.default.createElement("img",(0,a.default)({style:u((0,x.default)(c.root,n))},s,{src:r,className:i})):w.default.createElement("div",(0,a.default)({},s,{style:u((0,x.default)(c.root,n)),className:i}),e&&w.default.cloneElement(e,{color:c.icon.color,style:(0,x.default)(c.icon,e.props.style)}),this.props.children)}}]),e}(_.Component);T.muiName="Avatar",T.defaultProps={size:40},T.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=T},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=t.primary,n=t.secondary,o=e.muiTheme.badge,i=void 0,a=void 0;r?(i=o.primaryColor,a=o.primaryTextColor):n?(i=o.secondaryColor,a=o.secondaryTextColor):(i=o.color,a=o.textColor);var s=12,l=Math.floor(2*s);return{root:{position:"relative",display:"inline-block",padding:l+"px "+l+"px "+s+"px "+s+"px"},badge:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",top:0,right:0,fontWeight:o.fontWeight,fontSize:s,width:l,height:l,borderRadius:"50%",backgroundColor:i,color:a}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=function(t){function e(){return(0,f.default)(this,e),(0,m.default)(this,(e.__proto__||(0,c.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){var t=this.props,e=t.badgeContent,r=t.badgeStyle,n=t.children,i=(t.primary,t.secondary,t.style),s=(0,l.default)(t,["badgeContent","badgeStyle","children","primary","secondary","style"]),u=this.context.muiTheme.prepareStyles,c=o(this.props,this.context);return w.default.createElement("div",(0,a.default)({},s,{style:u((0,x.default)({},c.root,i))}),n,w.default.createElement("span",{style:u((0,x.default)({},c.badge,r))},e))}}]),e}(_.Component);T.defaultProps={primary:!1,secondary:!1},T.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=T},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(911),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.muiTheme.bottomNavigation,n={root:{position:"relative",width:"100%",display:"flex",justifyContent:"center",backgroundColor:r.backgroundColor,height:r.height},item:{flex:"1"}};return n}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(10),c=n(u),p=r(1),f=n(p),h=function(t,e){var r=t.children,n=t.style,i=t.selectedIndex,s=(0,l.default)(t,["children","style","selectedIndex"]),u=e.muiTheme.prepareStyles,h=o(t,e),d=p.Children.map(r,function(t,e){return(0,p.cloneElement)(t,{style:(0,c.default)({},h.item,t.props.style),selected:e===i})});return f.default.createElement("div",(0,a.default)({},s,{style:u((0,c.default)({},h.root,n))}),d)};h.contextTypes={muiTheme:p.PropTypes.object.isRequired},e.default=h},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BottomNavigationItem=e.BottomNavigation=void 0;var o=r(913),i=n(o),a=r(385),s=n(a);e.BottomNavigation=i.default,e.BottomNavigationItem=s.default,e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(6),s=n(a),l=r(8),u=n(l),c=r(2),p=n(c),f=r(7),h=n(f),d=r(4),y=n(d),m=r(3),v=n(m),g=r(10),b=n(g),x=r(1),_=n(x),w=r(25),T=n(w),M=r(387),S=n(M),E=function(t){function e(){var t,r,n,o;(0,p.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,y.default)(this,(t=e.__proto__||(0,u.default)(e)).call.apply(t,[this].concat(a))),n.state={expanded:null},n.handleExpanding=function(t){t.preventDefault();var e=!n.state.expanded;null===n.props.expanded&&n.setState({expanded:e}),n.props.onExpandChange&&n.props.onExpandChange(e)},o=r,(0,y.default)(n,o)}return(0,v.default)(e,t),(0,h.default)(e,[{key:"componentWillMount",value:function(){this.setState({expanded:null===this.props.expanded?this.props.initiallyExpanded===!0:this.props.expanded})}},{key:"componentWillReceiveProps",value:function(t){null!==t.expanded&&this.setState({expanded:t.expanded})}},{key:"render",value:function(){var t=this,e=this.props,r=e.style,n=e.containerStyle,o=e.children,a=(e.expandable,e.expanded,e.initiallyExpanded,e.onExpandChange,(0,s.default)(e,["style","containerStyle","children","expandable","expanded","initiallyExpanded","onExpandChange"])),l=void 0,u=this.state.expanded,c=_.default.Children.map(o,function(e){var r=!1,n=void 0,o={},i=e;return e&&e.props?u!==!1||e.props.expandable!==!0?(e.props.actAsExpander===!0&&(r=!0,o.onTouchTap=t.handleExpanding,o.style=(0,b.default)({cursor:"pointer"},e.props.style)),e.props.showExpandableButton===!0&&(r=!0,n=_.default.createElement(S.default,{closeIcon:e.props.closeIcon,expanded:u,onExpanding:t.handleExpanding,openIcon:e.props.openIcon})),r&&(i=_.default.cloneElement(e,o,e.props.children,n)),l=i,i):void 0:null},this),p=l&&("CardText"===l.type.muiName||"CardTitle"===l.type.muiName),f=(0,b.default)({zIndex:1},r),h=(0,b.default)({paddingBottom:p?8:0},n);return _.default.createElement(T.default,(0,i.default)({},a,{style:f}),_.default.createElement("div",{style:h},c))}}]),e}(x.Component);E.defaultProps={expandable:!1,expanded:null,initiallyExpanded:!1},e.default=E},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.muiTheme.checkbox,n=24;return{icon:{height:n,width:n},check:{position:"absolute",opacity:0,transform:"scale(0)",transitionOrigin:"50% 50%",transition:E.default.easeOut("450ms","opacity","0ms")+", "+E.default.easeOut("0ms","transform","450ms"),fill:r.checkedColor},checkWhenSwitched:{opacity:1,transform:"scale(1)",transition:E.default.easeOut("0ms","opacity","0ms")+", "+E.default.easeOut("800ms","transform","0ms")},checkWhenDisabled:{fill:r.disabledColor},box:{position:"absolute",opacity:1,fill:r.boxColor,transition:E.default.easeOut("1000ms","opacity","200ms")},boxWhenSwitched:{opacity:0,transition:E.default.easeOut("650ms","opacity","150ms"),fill:r.checkedColor},boxWhenDisabled:{fill:t.checked?"transparent":r.disabledColor},label:{color:t.disabled?r.labelDisabledColor:r.labelColor}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=r(274),M=n(T),S=r(17),E=n(S),k=r(1030),C=n(k),A=r(1031),P=n(A),L=function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.state={switched:!1},n.handleStateChange=function(t){n.setState({switched:t})},n.handleCheck=function(t,e){n.props.onCheck&&n.props.onCheck(t,e)},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"componentWillMount",value:function(){var t=this.props,e=t.checked,r=t.defaultChecked,n=t.valueLink;(e||r||n&&n.value)&&this.setState({switched:!0})}},{key:"componentWillReceiveProps",value:function(t){this.props.checked!==t.checked&&this.setState({switched:t.checked})}},{key:"isChecked",value:function(){return this.refs.enhancedSwitch.isSwitched()}},{key:"setChecked",value:function(t){this.refs.enhancedSwitch.setSwitched(t)}},{key:"render",value:function(){var t=this.props,e=t.iconStyle,r=(t.onCheck,t.checkedIcon),n=t.uncheckedIcon,i=(0,l.default)(t,["iconStyle","onCheck","checkedIcon","uncheckedIcon"]),s=o(this.props,this.context),u=(0,x.default)(s.box,this.state.switched&&s.boxWhenSwitched,e,this.props.disabled&&s.boxWhenDisabled),c=(0,x.default)(s.check,this.state.switched&&s.checkWhenSwitched,e,this.props.disabled&&s.checkWhenDisabled),p=r?w.default.cloneElement(r,{style:(0,x.default)(c,r.props.style)}):w.default.createElement(P.default,{style:c}),f=n?w.default.cloneElement(n,{style:(0,x.default)(u,n.props.style)}):w.default.createElement(C.default,{style:u}),h=w.default.createElement("div",null,f,p),d=this.state.switched?c.fill:u.fill,y=(0,x.default)(s.icon,e),m=(0,x.default)(s.label,this.props.labelStyle),v={ref:"enhancedSwitch",inputType:"checkbox",switched:this.state.switched,switchElement:h,rippleColor:d,iconStyle:y,onSwitch:this.handleCheck,labelStyle:m,onParentShouldUpdate:this.handleStateChange,labelPosition:this.props.labelPosition};return w.default.createElement(M.default,(0,a.default)({},i,v))}}]),e}(_.Component);L.defaultProps={labelPosition:"right",disabled:!1},L.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=L},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){var n=e.muiTheme.chip,o=t.backgroundColor||n.backgroundColor,i=(0,S.emphasize)(o,.08),a=(0,S.emphasize)(o,.12);return{avatar:{marginRight:-4},deleteIcon:{color:r.deleteHovered?(0,S.fade)(n.deleteIconColor,.4):n.deleteIconColor,cursor:"pointer",margin:"4px 4px 0px -8px"},label:{color:t.labelColor||n.textColor,fontSize:n.fontSize,fontWeight:n.fontWeight,lineHeight:"32px",paddingLeft:12,paddingRight:12,userSelect:"none",whiteSpace:"nowrap"},root:{backgroundColor:r.clicked?a:r.focused||r.hovered?i:o,borderRadius:16,boxShadow:r.clicked?n.shadow:null,cursor:t.onTouchTap?"pointer":"default",display:"flex",whiteSpace:"nowrap",width:"fit-content"}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=r(39),M=n(T),S=r(91),E=r(57),k=n(E),C=r(1024),A=n(C),P=function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.state={clicked:!1,deleteHovered:!1,focused:!1,hovered:!1},n.handleBlur=function(t){n.setState({clicked:!1,focused:!1}),n.props.onBlur(t)},n.handleFocus=function(t){(n.props.onTouchTap||n.props.onRequestDelete)&&n.setState({focused:!0}),n.props.onFocus(t)},n.handleKeyboardFocus=function(t,e){e?(n.handleFocus(),n.props.onFocus(t)):n.handleBlur(),n.props.onKeyboardFocus(t,e)},n.handleKeyDown=function(t){"backspace"===(0,M.default)(t)&&(t.preventDefault(),n.props.onRequestDelete&&n.props.onRequestDelete(t)),n.props.onKeyDown(t)},n.handleMouseDown=function(t){0===t.button&&(t.stopPropagation(),n.props.onTouchTap&&n.setState({clicked:!0})),n.props.onMouseDown(t)},n.handleMouseEnter=function(t){n.props.onTouchTap&&n.setState({hovered:!0}),n.props.onMouseEnter(t)},n.handleMouseEnterDeleteIcon=function(){n.setState({deleteHovered:!0})},n.handleMouseLeave=function(t){n.setState({clicked:!1,hovered:!1}),n.props.onMouseLeave(t)},n.handleMouseLeaveDeleteIcon=function(){n.setState({deleteHovered:!1})},n.handleMouseUp=function(t){n.setState({clicked:!1}),n.props.onMouseUp(t)},n.handleTouchTapDeleteIcon=function(t){t.stopPropagation(),n.props.onRequestDelete(t)},n.handleTouchEnd=function(t){n.setState({clicked:!1}),n.props.onTouchEnd(t)},n.handleTouchStart=function(t){t.stopPropagation(),n.props.onTouchTap&&n.setState({clicked:!0}),n.props.onTouchStart(t)},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){var t={onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp,onTouchEnd:this.handleTouchEnd,onTouchStart:this.handleTouchStart,onKeyboardFocus:this.handleKeyboardFocus},e=this.context.muiTheme.prepareStyles,r=o(this.props,this.context,this.state),n=this.props,i=n.children,s=n.style,u=n.className,c=n.labelStyle,p=(n.labelColor,n.backgroundColor,n.onRequestDelete,(0,l.default)(n,["children","style","className","labelStyle","labelColor","backgroundColor","onRequestDelete"])),f=this.props.onRequestDelete,h=null,d=f?w.default.createElement(A.default,{color:r.deleteIcon.color,style:r.deleteIcon,onTouchTap:this.handleTouchTapDeleteIcon,onMouseEnter:this.handleMouseEnterDeleteIcon,onMouseLeave:this.handleMouseLeaveDeleteIcon}):null,y=i,m=w.default.Children.count(y);return m>1&&(y=w.default.Children.toArray(y),w.default.isValidElement(y[0])&&"Avatar"===y[0].type.muiName&&(h=y.shift(),h=w.default.cloneElement(h,{style:(0,x.default)(r.avatar,h.props.style),size:32}))),w.default.createElement(k.default,(0,a.default)({},p,t,{className:u,containerElement:"div",disableTouchRipple:!0,disableFocusRipple:!0,style:(0,x.default)(r.root,s)}),h,w.default.createElement("span",{style:e((0,x.default)(r.label,c))},y),d)}}]),e}(_.Component);P.defaultProps={onBlur:function(){},onFocus:function(){},onKeyDown:function(){},onKeyboardFocus:function(){},onMouseDown:function(){},onMouseEnter:function(){},onMouseLeave:function(){},onMouseUp:function(){},onTouchEnd:function(){},onTouchStart:function(){}},P.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=P},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){var n=Math.min(Math.max(e,t),r);return n/(r-e)}function i(t,e){return t*Math.PI*(e.size-e.thickness)}function a(t,e){var r=t.max,n=t.min,a=t.size,s=t.value,l=e.muiTheme.baseTheme.palette,u={root:{position:"relative",display:"inline-block",width:a,height:a},wrapper:{width:a,height:a,display:"inline-block",transition:C.default.create("transform","20s",null,"linear"),transitionTimingFunction:"linear"},svg:{width:a,height:a,position:"relative"},path:{stroke:t.color||l.primary1Color,strokeLinecap:"round",transition:C.default.create("all","1.5s",null,"ease-in-out")}};if("determinate"===t.mode){var c=o(s,n,r);u.path.transition=C.default.create("all","0.3s",null,"linear"),u.path.strokeDasharray=i(c,t)+", "+i(1,t)}return u}Object.defineProperty(e,"__esModule",{value:!0});var s=r(5),l=n(s),u=r(6),c=n(u),p=r(8),f=n(p),h=r(2),d=n(h),y=r(7),m=n(y),v=r(4),g=n(v),b=r(3),x=n(b),_=r(10),w=n(_),T=r(1),M=n(T),S=r(110),E=n(S),k=r(17),C=n(k),A=function(t){function e(){return(0,d.default)(this,e),(0,g.default)(this,(e.__proto__||(0,f.default)(e)).apply(this,arguments))}return(0,x.default)(e,t),(0,m.default)(e,[{key:"componentDidMount",value:function(){this.scalePath(this.refs.path),this.rotateWrapper(this.refs.wrapper)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.scalePathTimer),clearTimeout(this.rotateWrapperTimer)}},{key:"scalePath",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;"indeterminate"===this.props.mode&&(r%=3,0===r?(t.style.strokeDasharray=i(0,this.props)+", "+i(1,this.props),t.style.strokeDashoffset=0,t.style.transitionDuration="0ms"):1===r?(t.style.strokeDasharray=i(.7,this.props)+", "+i(1,this.props),t.style.strokeDashoffset=i(-.3,this.props),t.style.transitionDuration="750ms"):(t.style.strokeDasharray=i(.7,this.props)+", "+i(1,this.props),t.style.strokeDashoffset=i(-1,this.props),t.style.transitionDuration="850ms"),this.scalePathTimer=setTimeout(function(){return e.scalePath(t,r+1)},r?750:250))}},{key:"rotateWrapper",value:function(t){var e=this;"indeterminate"===this.props.mode&&(E.default.set(t.style,"transform","rotate(0deg)"),E.default.set(t.style,"transitionDuration","0ms"),setTimeout(function(){E.default.set(t.style,"transform","rotate(1800deg)"),E.default.set(t.style,"transitionDuration","10s"),E.default.set(t.style,"transitionTimingFunction","linear")},50),this.rotateWrapperTimer=setTimeout(function(){return e.rotateWrapper(t)},10050))}},{key:"render",value:function(){var t=this.props,e=t.style,r=t.innerStyle,n=t.size,o=t.thickness,i=(0,c.default)(t,["style","innerStyle","size","thickness"]),s=this.context.muiTheme.prepareStyles,u=a(this.props,this.context);return M.default.createElement("div",(0,l.default)({},i,{style:s((0,w.default)(u.root,e))}),M.default.createElement("div",{ref:"wrapper",style:s((0,w.default)(u.wrapper,r))},M.default.createElement("svg",{viewBox:"0 0 "+n+" "+n,style:s(u.svg)},M.default.createElement("circle",{ref:"path",style:s(u.path),cx:n/2,cy:n/2,r:(n-o)/2,fill:"none",strokeWidth:o,strokeMiterlimit:"20"}))))}}]),e}(T.Component);A.defaultProps={mode:"indeterminate",value:0,min:0,max:100,size:40,thickness:3.5},A.contextTypes={muiTheme:T.PropTypes.object.isRequired},e.default=A},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(918),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(119),y=n(d),m=r(1),v=n(m),g=r(77),b=n(g),x=r(39),_=n(x),w=r(17),T=n(w),M=r(921),S=n(M),E=r(922),k=n(E),C=r(924),A=n(C),P=r(923),L=n(P),D=r(925),O=n(D),I=r(276),R=n(I),N=r(132),j=[].concat((0,y.default)(Array(7))),F=function(t){function e(){var t,r,n,o;(0,s.default)(this,e);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return r=n=(0,p.default)(this,(t=e.__proto__||(0,i.default)(e)).call.apply(t,[this].concat(l))),n.state={displayDate:void 0,displayMonthDay:!0,selectedDate:void 0,transitionDirection:"left",transitionEnter:!0},n.handleTouchTapDay=function(t,e){n.setSelectedDate(e),n.props.onTouchTapDay&&n.props.onTouchTapDay(t,e)},n.handleMonthChange=function(t){n.setState({transitionDirection:t>=0?"left":"right",displayDate:(0,N.addMonths)(n.state.displayDate,t)})},n.handleTouchTapYear=function(t,e){var r=(0,N.cloneDate)(n.state.selectedDate);r.setFullYear(e),n.setSelectedDate(r,t),n.handleTouchTapDateDisplayMonthDay()},n.handleTouchTapDateDisplayMonthDay=function(){n.setState({displayMonthDay:!0})},n.handleTouchTapDateDisplayYear=function(){n.setState({displayMonthDay:!1})},n.handleWindowKeyDown=function(t){if(n.props.open)switch((0,_.default)(t)){case"up":t.altKey&&t.shiftKey?n.addSelectedYears(-1):t.shiftKey?n.addSelectedMonths(-1):n.addSelectedDays(-7);break;case"down":t.altKey&&t.shiftKey?n.addSelectedYears(1):t.shiftKey?n.addSelectedMonths(1):n.addSelectedDays(7);break;case"right":t.altKey&&t.shiftKey?n.addSelectedYears(1):t.shiftKey?n.addSelectedMonths(1):n.addSelectedDays(1);break;case"left":t.altKey&&t.shiftKey?n.addSelectedYears(-1):t.shiftKey?n.addSelectedMonths(-1):n.addSelectedDays(-1)}},o=r,(0,p.default)(n,o)}return(0,h.default)(e,t),(0,u.default)(e,[{key:"componentWillMount",value:function(){this.setState({displayDate:(0,N.getFirstDayOfMonth)(this.props.initialDate),selectedDate:this.props.initialDate})}},{key:"componentWillReceiveProps",value:function(t){if(t.initialDate!==this.props.initialDate){var e=t.initialDate||new Date;this.setState({displayDate:(0,N.getFirstDayOfMonth)(e),selectedDate:e})}}},{key:"getSelectedDate",value:function(){return this.state.selectedDate}},{key:"isSelectedDateDisabled",value:function(){return!!this.state.displayMonthDay&&this.refs.calendar.isSelectedDateDisabled()}},{key:"addSelectedDays",value:function(t){this.setSelectedDate((0,N.addDays)(this.state.selectedDate,t))}},{key:"addSelectedMonths",value:function(t){this.setSelectedDate((0,N.addMonths)(this.state.selectedDate,t))}},{key:"addSelectedYears",value:function(t){this.setSelectedDate((0,N.addYears)(this.state.selectedDate,t))}},{key:"setDisplayDate",value:function(t,e){var r=(0,N.getFirstDayOfMonth)(t),n=r>this.state.displayDate?"left":"right";r!==this.state.displayDate&&this.setState({displayDate:r,transitionDirection:n,selectedDate:e||this.state.selectedDate})}},{key:"setSelectedDate",value:function(t){var e=t;(0,N.isBeforeDate)(t,this.props.minDate)?e=this.props.minDate:(0,N.isAfterDate)(t,this.props.maxDate)&&(e=this.props.maxDate);var r=(0,N.getFirstDayOfMonth)(e);r!==this.state.displayDate?this.setDisplayDate(r,e):this.setState({selectedDate:e})}},{key:"getToolbarInteractions",value:function(){return{prevMonth:(0,N.monthDiff)(this.state.displayDate,this.props.minDate)>0,nextMonth:(0,N.monthDiff)(this.state.displayDate,this.props.maxDate)<0}}},{key:"yearSelector",value:function(){if(!this.props.disableYearSelection)return v.default.createElement(A.default,{key:"years",DateTimeFormat:this.props.DateTimeFormat,locale:this.props.locale,onTouchTapYear:this.handleTouchTapYear,selectedDate:this.state.selectedDate,minDate:this.props.minDate,maxDate:this.props.maxDate})}},{key:"render",value:function(){var t=this.context.muiTheme.prepareStyles,e=this.getToolbarInteractions(),r="landscape"===this.props.mode,n=this.context.muiTheme.datePicker.calendarTextColor,o={root:{color:n,userSelect:"none",width:r?479:310},calendar:{display:"flex",flexDirection:"column"},calendarContainer:{display:"flex",alignContent:"space-between",justifyContent:"space-between",flexDirection:"column",fontSize:12,fontWeight:400,padding:"0px 8px",transition:T.default.easeOut()},yearContainer:{display:"flex",justifyContent:"space-between",flexDirection:"column",height:272,marginTop:10,overflow:"hidden",width:310},weekTitle:{display:"flex",flexDirection:"row",justifyContent:"space-between",fontWeight:"500",height:20,lineHeight:"15px",opacity:"0.5",textAlign:"center"},weekTitleDay:{width:42},transitionSlide:{height:214}},i=t(o.weekTitleDay),a=this.props,s=a.minDate,l=a.maxDate,u=a.cancelLabel,c=a.DateTimeFormat,p=a.firstDayOfWeek,f=a.locale,h=a.okLabel,d=a.onTouchTapCancel,y=a.onTouchTapOk;return v.default.createElement("div",{style:t(o.root)},v.default.createElement(b.default,{target:"window",onKeyDown:this.handleWindowKeyDown}),v.default.createElement(O.default,{DateTimeFormat:c,disableYearSelection:this.props.disableYearSelection,onTouchTapMonthDay:this.handleTouchTapDateDisplayMonthDay,onTouchTapYear:this.handleTouchTapDateDisplayYear,locale:f,monthDaySelected:this.state.displayMonthDay,mode:this.props.mode,selectedDate:this.state.selectedDate}),v.default.createElement("div",{style:t(o.calendar)},this.state.displayMonthDay&&v.default.createElement("div",{style:t(o.calendarContainer)},v.default.createElement(L.default,{DateTimeFormat:c,locale:f,displayDate:this.state.displayDate,onMonthChange:this.handleMonthChange,prevMonth:e.prevMonth,nextMonth:e.nextMonth}),v.default.createElement("div",{style:t(o.weekTitle)},j.map(function(t,e){return v.default.createElement("span",{key:e,style:i},(0,N.localizedWeekday)(c,f,e,p))})),v.default.createElement(R.default,{direction:this.state.transitionDirection,style:o.transitionSlide},v.default.createElement(k.default,{DateTimeFormat:c,locale:f,displayDate:this.state.displayDate,firstDayOfWeek:this.props.firstDayOfWeek,key:this.state.displayDate.toDateString(),minDate:s,maxDate:l,onTouchTapDay:this.handleTouchTapDay,ref:"calendar",selectedDate:this.state.selectedDate,shouldDisableDate:this.props.shouldDisableDate}))),!this.state.displayMonthDay&&v.default.createElement("div",{style:t(o.yearContainer)},this.yearSelector()),h&&v.default.createElement(S.default,{autoOk:this.props.autoOk,cancelLabel:u,okLabel:h,onTouchTapCancel:d,onTouchTapOk:y})))}}]),e}(m.Component);F.defaultProps={DateTimeFormat:N.dateTimeFormat,disableYearSelection:!1,initialDate:new Date,locale:"en-US",minDate:(0,N.addYears)(new Date,-100),maxDate:(0,N.addYears)(new Date,100)},F.contextTypes={muiTheme:m.PropTypes.object.isRequired},e.default=F},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=r(185),v=n(m),g=function(t){function e(){return(0,s.default)(this,e),(0,p.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,h.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){var t=this.props,e=t.cancelLabel,r=t.okLabel,n={root:{display:"flex",flexDirection:"row",justifyContent:"flex-end",margin:0,maxHeight:48,padding:0},flatButtons:{fontsize:14,margin:"4px 8px 8px 0px",maxHeight:36,minWidth:64,padding:0}};return y.default.createElement("div",{style:n.root},y.default.createElement(v.default,{label:e,onTouchTap:this.props.onTouchTapCancel,primary:!0,style:n.flatButtons}),!this.props.autoOk&&y.default.createElement(v.default,{disabled:void 0!==this.refs.calendar&&this.refs.calendar.isSelectedDateDisabled(),label:r,onTouchTap:this.props.onTouchTapOk,primary:!0,style:n.flatButtons}))}}]),e}(d.Component);e.default=g},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=r(132),v=r(928),g=n(v),b={root:{display:"flex",flexDirection:"column",justifyContent:"flex-start",fontWeight:400,height:228,lineHeight:2,position:"relative",textAlign:"center",MozPaddingStart:0},week:{display:"flex",flexDirection:"row",justifyContent:"space-around",height:34,marginBottom:2}},x=function(t){function e(){var t,r,n,o;(0,s.default)(this,e);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return r=n=(0,p.default)(this,(t=e.__proto__||(0,i.default)(e)).call.apply(t,[this].concat(l))),n.handleTouchTapDay=function(t,e){n.props.onTouchTapDay&&n.props.onTouchTapDay(t,e)},o=r,(0,p.default)(n,o)}return(0,h.default)(e,t),(0,u.default)(e,[{key:"isSelectedDateDisabled",value:function(){return this.selectedDateDisabled}},{key:"shouldDisableDate",value:function(t){if(null===t)return!1;var e=!(0,m.isBetweenDates)(t,this.props.minDate,this.props.maxDate);return!e&&this.props.shouldDisableDate&&(e=this.props.shouldDisableDate(t)),e}},{key:"getWeekElements",value:function(){var t=this,e=(0,m.getWeekArray)(this.props.displayDate,this.props.firstDayOfWeek);return e.map(function(e,r){return y.default.createElement("div",{key:r,style:b.week},t.getDayElements(e,r))},this)}},{key:"getDayElements",value:function(t,e){var r=this,n=this.props,o=n.DateTimeFormat,i=n.locale,a=n.selectedDate;return t.map(function(t,n){var s=(0,m.isEqualDate)(a,t),l=r.shouldDisableDate(t),u=!l&&s;return s&&(r.selectedDateDisabled=l),y.default.createElement(g.default,{DateTimeFormat:o,locale:i,date:t,disabled:l,key:"db"+(e+n),onTouchTap:r.handleTouchTapDay,selected:u})},this)}},{key:"render",value:function(){return y.default.createElement("div",{style:b.root},this.getWeekElements())}}]),e}(d.Component);e.default=x},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=r(42),v=n(m),g=r(430),b=n(g),x=r(431),_=n(x),w=r(276),T=n(w),M={root:{display:"flex",justifyContent:"space-between",backgroundColor:"inherit",height:48},titleDiv:{fontSize:14,fontWeight:"500",textAlign:"center",width:"100%"},titleText:{height:"inherit",paddingTop:12}},S=function(t){function e(){var t,r,n,o;(0,s.default)(this,e);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return r=n=(0,p.default)(this,(t=e.__proto__||(0,i.default)(e)).call.apply(t,[this].concat(l))),n.state={transitionDirection:"up"},n.handleTouchTapPrevMonth=function(){n.props.onMonthChange&&n.props.onMonthChange(-1)},n.handleTouchTapNextMonth=function(){n.props.onMonthChange&&n.props.onMonthChange(1)},o=r,(0,p.default)(n,o)}return(0,h.default)(e,t),(0,u.default)(e,[{key:"componentWillReceiveProps",value:function(t){if(t.displayDate!==this.props.displayDate){var e=t.displayDate>this.props.displayDate?"left":"right";this.setState({transitionDirection:e})}}},{key:"render",value:function(){var t=this.props,e=t.DateTimeFormat,r=t.locale,n=t.displayDate,o=new e(r,{month:"long",year:"numeric"}).format(n);return y.default.createElement("div",{style:M.root},y.default.createElement(v.default,{disabled:!this.props.prevMonth,onTouchTap:this.handleTouchTapPrevMonth},y.default.createElement(b.default,null)),y.default.createElement(T.default,{direction:this.state.transitionDirection,style:M.titleDiv},y.default.createElement("div",{key:o,style:M.titleText},o)),y.default.createElement(v.default,{disabled:!this.props.nextMonth,onTouchTap:this.handleTouchTapNextMonth},y.default.createElement(_.default,null)))}}]),e}(d.Component);S.defaultProps={nextMonth:!0,prevMonth:!0},e.default=S},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(8),s=n(a),l=r(2),u=n(l),c=r(7),p=n(c),f=r(4),h=n(f),d=r(3),y=n(d),m=r(1),v=n(m),g=r(15),b=n(g),x=r(929),_=n(x),w=r(132),T=function(t){function e(){var t,r,n,o;(0,u.default)(this,e);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,h.default)(this,(t=e.__proto__||(0,s.default)(e)).call.apply(t,[this].concat(a))),n.handleTouchTapYear=function(t,e){n.props.onTouchTapYear&&n.props.onTouchTapYear(t,e)},o=r,(0,h.default)(n,o)}return(0,y.default)(e,t),(0,p.default)(e,[{key:"componentDidMount",value:function(){this.scrollToSelectedYear()}},{key:"componentDidUpdate",value:function(){this.scrollToSelectedYear()}},{key:"getYears",value:function(){for(var t=this.props,e=t.DateTimeFormat,r=t.locale,n=t.minDate,o=t.maxDate,a=t.selectedDate,s=n.getFullYear(),l=o.getFullYear(),u=[],c=(0,w.cloneDate)(a),p=s;p<=l;p++){c.setFullYear(p);var f=a.getFullYear()===p,h={};f&&(h.ref="selectedYearButton");var d=new e(r,{year:"numeric"}).format(c),y=v.default.createElement(_.default,(0,i.default)({key:"yb"+p,onTouchTap:this.handleTouchTapYear,selected:f,year:p},h),d);u.push(y)}return u}},{key:"scrollToSelectedYear",value:function(){if(void 0!==this.refs.selectedYearButton){var t=b.default.findDOMNode(this),e=b.default.findDOMNode(this.refs.selectedYearButton),r=t.clientHeight,n=e.clientHeight||32,o=e.offsetTop+n/2-r/2;t.scrollTop=o}}},{key:"render",value:function(){var t=this.context.muiTheme,e=t.prepareStyles,r=t.datePicker.calendarYearBackgroundColor,n={root:{backgroundColor:r,height:"inherit",lineHeight:"35px",overflowX:"hidden",overflowY:"scroll",position:"relative"},child:{display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"100%"}};return v.default.createElement("div",{style:e(n.root)},v.default.createElement("div",{style:e(n.child)},this.getYears()))}}]),e}(m.Component);T.contextTypes={muiTheme:m.PropTypes.object.isRequired},e.default=T},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){var n=e.muiTheme.datePicker,o=r.selectedYear,i="landscape"===t.mode,a={root:{width:i?165:"100%",height:i?330:"auto",float:i?"left":"none",fontWeight:700,display:"inline-block",backgroundColor:n.selectColor,borderTopLeftRadius:2,borderTopRightRadius:i?0:2,borderBottomLeftRadius:i?2:0,color:n.textColor,padding:20,boxSizing:"border-box"},monthDay:{display:"block",fontSize:36,lineHeight:"36px",height:"landscape"===t.mode?"100%":38,
opacity:o?.7:1,transition:w.default.easeOut(),width:"100%",fontWeight:"500"},monthDayTitle:{cursor:o?"pointer":"default",width:"100%",display:"block"},year:{margin:0,fontSize:16,fontWeight:"500",lineHeight:"16px",height:16,opacity:o?1:.7,transition:w.default.easeOut(),marginBottom:10},yearTitle:{cursor:t.disableYearSelection?"not-allowed":o?"default":"pointer"}};return a}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(1),x=n(b),_=r(17),w=n(_),T=r(276),M=n(T),S=function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.state={selectedYear:!1,transitionDirection:"up"},n.handleTouchTapMonthDay=function(){n.props.onTouchTapMonthDay&&n.state.selectedYear&&n.props.onTouchTapMonthDay(),n.setState({selectedYear:!1})},n.handleTouchTapYear=function(){!n.props.onTouchTapYear||n.props.disableYearSelection||n.state.selectedYear||n.props.onTouchTapYear(),n.props.disableYearSelection||n.setState({selectedYear:!0})},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"componentWillMount",value:function(){this.props.monthDaySelected||this.setState({selectedYear:!0})}},{key:"componentWillReceiveProps",value:function(t){if(t.selectedDate!==this.props.selectedDate){var e=t.selectedDate>this.props.selectedDate?"up":"down";this.setState({transitionDirection:e})}void 0!==t.monthDaySelected&&this.setState({selectedYear:!t.monthDaySelected})}},{key:"render",value:function(){var t=this.props,e=t.DateTimeFormat,r=(t.disableYearSelection,t.locale),n=(t.mode,t.monthDaySelected,t.onTouchTapMonthDay,t.onTouchTapYear,t.selectedDate),i=t.style,s=(0,l.default)(t,["DateTimeFormat","disableYearSelection","locale","mode","monthDaySelected","onTouchTapMonthDay","onTouchTapYear","selectedDate","style"]),u=this.context.muiTheme.prepareStyles,c=o(this.props,this.context,this.state),p=new e(r,{year:"numeric"}).format(n),f=new e(r,{month:"short",weekday:"short",day:"2-digit"}).format(n);return x.default.createElement("div",(0,a.default)({},s,{style:u(c.root,i)}),x.default.createElement(M.default,{style:c.year,direction:this.state.transitionDirection},x.default.createElement("div",{key:p,style:c.yearTitle,onTouchTap:this.handleTouchTapYear},p)),x.default.createElement(M.default,{style:c.monthDay,direction:this.state.transitionDirection},x.default.createElement("div",{key:f,onTouchTap:this.handleTouchTapMonthDay,style:c.monthDayTitle},f)))}}]),e}(b.Component);S.defaultProps={disableYearSelection:!1,monthDaySelected:!0},S.contextTypes={muiTheme:b.PropTypes.object.isRequired},e.default=S},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(6),s=n(a),l=r(8),u=n(l),c=r(2),p=n(c),f=r(7),h=n(f),d=r(4),y=n(d),m=r(3),v=n(m),g=r(10),b=n(g),x=r(1),_=n(x),w=r(132),T=r(927),M=n(T),S=r(109),E=n(S),k=function(t){function e(){var t,r,n,o;(0,p.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,y.default)(this,(t=e.__proto__||(0,u.default)(e)).call.apply(t,[this].concat(a))),n.state={date:void 0},n.handleAccept=function(t){n.isControlled()||n.setState({date:t}),n.props.onChange&&n.props.onChange(null,t)},n.handleFocus=function(t){t.target.blur(),n.props.onFocus&&n.props.onFocus(t)},n.handleTouchTap=function(t){n.props.onTouchTap&&n.props.onTouchTap(t),n.props.disabled||setTimeout(function(){n.openDialog()},0)},n.formatDate=function(t){if(n.props.locale){var e=n.props.DateTimeFormat||w.dateTimeFormat;return new e(n.props.locale,{day:"numeric",month:"numeric",year:"numeric"}).format(t)}return(0,w.formatIso)(t)},o=r,(0,y.default)(n,o)}return(0,v.default)(e,t),(0,h.default)(e,[{key:"componentWillMount",value:function(){this.setState({date:this.isControlled()?this.getControlledDate():this.props.defaultDate})}},{key:"componentWillReceiveProps",value:function(t){if(this.isControlled()){var e=this.getControlledDate(t);(0,w.isEqualDate)(this.state.date,e)||this.setState({date:e})}}},{key:"getDate",value:function(){return this.state.date}},{key:"openDialog",value:function(){void 0!==this.state.date?this.setState({dialogDate:this.getDate()},this.refs.dialogWindow.show):this.setState({dialogDate:new Date},this.refs.dialogWindow.show)}},{key:"focus",value:function(){this.openDialog()}},{key:"isControlled",value:function(){return this.props.hasOwnProperty("value")}},{key:"getControlledDate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(t.value instanceof Date)return t.value}},{key:"render",value:function(){var t=this.props,e=t.DateTimeFormat,r=t.autoOk,n=t.cancelLabel,o=t.className,a=t.container,l=(t.defaultDate,t.dialogContainerStyle),u=t.disableYearSelection,c=t.firstDayOfWeek,p=t.formatDate,f=t.locale,h=t.maxDate,d=t.minDate,y=t.mode,m=t.okLabel,v=t.onDismiss,g=(t.onFocus,t.onShow),x=(t.onTouchTap,t.shouldDisableDate),w=t.style,T=t.textFieldStyle,S=(0,s.default)(t,["DateTimeFormat","autoOk","cancelLabel","className","container","defaultDate","dialogContainerStyle","disableYearSelection","firstDayOfWeek","formatDate","locale","maxDate","minDate","mode","okLabel","onDismiss","onFocus","onShow","onTouchTap","shouldDisableDate","style","textFieldStyle"]),k=this.context.muiTheme.prepareStyles,C=p||this.formatDate;return _.default.createElement("div",{className:o,style:k((0,b.default)({},w))},_.default.createElement(E.default,(0,i.default)({},S,{onFocus:this.handleFocus,onTouchTap:this.handleTouchTap,ref:"input",style:T,value:this.state.date?C(this.state.date):""})),_.default.createElement(M.default,{DateTimeFormat:e,autoOk:r,cancelLabel:n,container:a,containerStyle:l,disableYearSelection:u,firstDayOfWeek:c,initialDate:this.state.dialogDate,locale:f,maxDate:h,minDate:d,mode:y,okLabel:m,onAccept:this.handleAccept,onShow:g,onDismiss:v,ref:"dialogWindow",shouldDisableDate:x}))}}]),e}(x.Component);k.defaultProps={autoOk:!1,container:"dialog",disabled:!1,disableYearSelection:!1,firstDayOfWeek:1,style:{}},k.contextTypes={muiTheme:x.PropTypes.object.isRequired},e.default=k},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(6),s=n(a),l=r(8),u=n(l),c=r(2),p=n(c),f=r(7),h=n(f),d=r(4),y=n(d),m=r(3),v=n(m),g=r(10),b=n(g),x=r(1),_=n(x),w=r(77),T=n(w),M=r(39),S=n(M),E=r(920),k=n(E),C=r(183),A=n(C),P=r(133),L=n(P),D=r(270),O=n(D),I=r(132),R=function(t){function e(){var t,r,n,o;(0,p.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,y.default)(this,(t=e.__proto__||(0,u.default)(e)).call.apply(t,[this].concat(a))),n.state={open:!1},n.show=function(){n.props.onShow&&!n.state.open&&n.props.onShow(),n.setState({open:!0})},n.dismiss=function(){n.props.onDismiss&&n.state.open&&n.props.onDismiss(),n.setState({open:!1})},n.handleTouchTapDay=function(){n.props.autoOk&&setTimeout(n.handleTouchTapOk,300)},n.handleTouchTapCancel=function(){n.dismiss()},n.handleRequestClose=function(){n.dismiss()},n.handleTouchTapOk=function(){n.props.onAccept&&!n.refs.calendar.isSelectedDateDisabled()&&n.props.onAccept(n.refs.calendar.getSelectedDate()),n.setState({open:!1})},n.handleWindowKeyUp=function(t){switch((0,S.default)(t)){case"enter":n.handleTouchTapOk()}},o=r,(0,y.default)(n,o)}return(0,v.default)(e,t),(0,h.default)(e,[{key:"render",value:function(){var t=this.props,e=t.DateTimeFormat,r=t.autoOk,n=t.cancelLabel,o=t.container,a=t.containerStyle,l=t.disableYearSelection,u=t.initialDate,c=t.firstDayOfWeek,p=t.locale,f=t.maxDate,h=t.minDate,d=t.mode,y=t.okLabel,m=(t.onAccept,t.onDismiss,t.onShow,t.shouldDisableDate),v=(t.style,t.animation),g=(0,s.default)(t,["DateTimeFormat","autoOk","cancelLabel","container","containerStyle","disableYearSelection","initialDate","firstDayOfWeek","locale","maxDate","minDate","mode","okLabel","onAccept","onDismiss","onShow","shouldDisableDate","style","animation"]),x=this.state.open,w={dialogContent:{width:"landscape"===d?479:310},dialogBodyContent:{padding:0,minHeight:"landscape"===d?330:434,minWidth:"landscape"===d?479:310}},M="inline"===o?L.default:A.default;return _.default.createElement("div",(0,i.default)({},g,{ref:"root"}),_.default.createElement(M,{anchorEl:this.refs.root,animation:v||O.default,bodyStyle:w.dialogBodyContent,contentStyle:w.dialogContent,ref:"dialog",repositionOnUpdate:!0,open:x,onRequestClose:this.handleRequestClose,style:(0,b.default)(w.dialogBodyContent,a)},_.default.createElement(T.default,{target:"window",onKeyUp:this.handleWindowKeyUp}),_.default.createElement(k.default,{autoOk:r,DateTimeFormat:e,cancelLabel:n,disableYearSelection:l,firstDayOfWeek:c,initialDate:u,locale:p,onTouchTapDay:this.handleTouchTapDay,maxDate:f,minDate:h,mode:d,open:x,ref:"calendar",onTouchTapCancel:this.handleTouchTapCancel,onTouchTapOk:this.handleTouchTapOk,okLabel:y,shouldDisableDate:m})))}}]),e}(x.Component);R.defaultProps={DateTimeFormat:I.dateTimeFormat,cancelLabel:"Cancel",container:"dialog",locale:"en-US",okLabel:"OK"},R.contextTypes={muiTheme:x.PropTypes.object.isRequired},e.default=R},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){var n=t.date,o=t.disabled,i=t.selected,a=r.hover,s=e.muiTheme,l=s.baseTheme,u=s.datePicker,c=l.palette.textColor,p=0,f="scale(0)";return a||i?(c=u.selectTextColor,p=i?1:.6,f="scale(1)"):(0,T.isEqualDate)(n,new Date)&&(c=u.color),{root:{boxSizing:"border-box",fontWeight:"400",opacity:o&&"0.4",padding:"4px 0px",position:"relative",WebkitTapHighlightColor:"rgba(0,0,0,0)",width:42},label:{color:c,fontWeight:"400",position:"relative"},buttonState:{backgroundColor:u.selectColor,borderRadius:"50%",height:34,left:4,opacity:p,position:"absolute",top:0,transform:f,transition:w.default.easeOut(),width:34}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(1),x=n(b),_=r(17),w=n(_),T=r(132),M=r(57),S=n(M),E=function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.state={hover:!1},n.handleMouseEnter=function(){n.props.disabled||n.setState({hover:!0})},n.handleMouseLeave=function(){n.props.disabled||n.setState({hover:!1})},n.handleTouchTap=function(t){!n.props.disabled&&n.props.onTouchTap&&n.props.onTouchTap(t,n.props.date)},n.handleKeyboardFocus=function(t,e){!n.props.disabled&&n.props.onKeyboardFocus&&n.props.onKeyboardFocus(t,e,n.props.date)},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){var t=this.props,e=t.DateTimeFormat,r=t.date,n=t.disabled,i=t.locale,s=(t.onTouchTap,t.selected,(0,l.default)(t,["DateTimeFormat","date","disabled","locale","onTouchTap","selected"])),u=this.context.muiTheme.prepareStyles,c=o(this.props,this.context,this.state);return r?x.default.createElement(S.default,(0,a.default)({},s,{disabled:n,disableFocusRipple:!0,disableTouchRipple:!0,onKeyboardFocus:this.handleKeyboardFocus,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTouchTap:this.handleTouchTap,style:c.root}),x.default.createElement("div",{style:u(c.buttonState)}),x.default.createElement("span",{style:u(c.label)},new e(i,{day:"numeric"}).format(r))):x.default.createElement("span",{style:u(c.root)})}}]),e}(b.Component);E.defaultProps={selected:!1,disabled:!1},E.contextTypes={muiTheme:b.PropTypes.object.isRequired},e.default=E},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){var n=t.selected,o=t.year,i=e.muiTheme,a=i.baseTheme,s=i.datePicker,l=r.hover;return{root:{boxSizing:"border-box",color:o===(new Date).getFullYear()&&s.color,display:"block",fontSize:14,margin:"0 auto",position:"relative",textAlign:"center",lineHeight:"inherit",WebkitTapHighlightColor:"rgba(0,0,0,0)"},label:{alignSelf:"center",color:l||n?s.color:a.palette.textColor,fontSize:n?26:17,fontWeight:l?450:n?500:400,position:"relative",top:-1}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(1),x=n(b),_=r(57),w=n(_),T=function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.state={hover:!1},n.handleMouseEnter=function(){n.setState({hover:!0})},n.handleMouseLeave=function(){n.setState({hover:!1})},n.handleTouchTap=function(t){n.props.onTouchTap&&n.props.onTouchTap(t,n.props.year)},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){var t=this.props,e=t.children,r=(t.className,t.onTouchTap,t.selected,t.year,(0,l.default)(t,["children","className","onTouchTap","selected","year"])),n=this.context.muiTheme.prepareStyles,i=o(this.props,this.context,this.state);return x.default.createElement(w.default,(0,a.default)({},r,{disableFocusRipple:!0,disableTouchRipple:!0,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTouchTap:this.handleTouchTap,style:i.root}),x.default.createElement("span",{style:n(i.label)},e))}}]),e}(b.Component);T.defaultProps={selected:!1},T.contextTypes={muiTheme:b.PropTypes.object.isRequired},e.default=T},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(926),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=t.autoScrollBodyContent,n=t.open,o=e.muiTheme,i=o.baseTheme,a=i.spacing,s=i.palette,l=o.dialog,u=o.zIndex,c=a.desktopGutter,p="1px solid "+s.borderColor;return{root:{position:"fixed",boxSizing:"border-box",WebkitTapHighlightColor:"rgba(0,0,0,0)",zIndex:u.dialog,top:0,left:n?0:-1e4,width:"100%",height:"100%",transition:n?P.default.easeOut("0ms","left","0ms"):P.default.easeOut("0ms","left","450ms")},content:{boxSizing:"border-box",WebkitTapHighlightColor:"rgba(0,0,0,0)",transition:P.default.easeOut(),position:"relative",width:"75%",maxWidth:12*a.desktopKeylineIncrement,margin:"0 auto",zIndex:u.dialog},actionsContainer:{boxSizing:"border-box",WebkitTapHighlightColor:"rgba(0,0,0,0)",padding:8,width:"100%",textAlign:"right",marginTop:r?-1:0,borderTop:r?p:"none"},overlay:{zIndex:u.dialogOverlay},title:{margin:0,padding:c+"px "+c+"px 20px "+c+"px",color:s.textColor,fontSize:l.titleFontSize,lineHeight:"32px",fontWeight:400,marginBottom:r?-1:0,borderBottom:r?p:"none"},body:{fontSize:l.bodyFontSize,color:l.bodyColor,padding:(t.title?0:c)+"px "+c+"px "+c+"px",boxSizing:"border-box",overflowY:r?"auto":"hidden"}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=r(15),M=n(T),S=r(77),E=n(S),k=r(39),C=n(k),A=r(17),P=n(A),L=r(416),D=n(L),O=r(417),I=n(O),R=r(25),N=n(R),j=r(159),F=n(j),z=function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.state={style:{}},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"componentWillUnmount",value:function(){clearTimeout(this.enterTimeout),clearTimeout(this.leaveTimeout)}},{key:"componentWillEnter",value:function(t){this.componentWillAppear(t)}},{key:"componentWillAppear",value:function(t){var e=this.context.muiTheme.baseTheme.spacing;this.setState({style:{opacity:1,transform:"translate(0, "+e.desktopKeylineIncrement+"px)"}}),this.enterTimeout=setTimeout(t,450)}},{key:"componentWillLeave",value:function(t){this.setState({style:{opacity:0,transform:"translate(0, 0)"}}),this.leaveTimeout=setTimeout(t,450)}},{key:"render",value:function(){var t=this.props,e=t.style,r=t.children,n=(0,l.default)(t,["style","children"]),o=this.context.muiTheme.prepareStyles;return w.default.createElement("div",(0,a.default)({},n,{style:o((0,x.default)({},this.state.style,e))}),r)}}]),e}(_.Component);z.contextTypes={muiTheme:_.PropTypes.object.isRequired};var B=function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.handleTouchTapOverlay=function(){n.requestClose(!1)},n.handleKeyUp=function(t){"esc"===(0,C.default)(t)&&n.requestClose(!1)},n.handleResize=function(){n.positionDialog()},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"componentDidMount",value:function(){this.positionDialog()}},{key:"componentDidUpdate",value:function(){this.positionDialog()}},{key:"positionDialog",value:function(){var t=this.props,e=t.actions,r=t.autoDetectWindowHeight,n=t.autoScrollBodyContent,i=t.bodyStyle,a=t.open,s=t.repositionOnUpdate,l=t.title;if(a){var u=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c=M.default.findDOMNode(this),p=M.default.findDOMNode(this.refs.dialogWindow),f=M.default.findDOMNode(this.refs.dialogContent),h=16;p.style.height="",f.style.height="";var d=p.offsetHeight,y=(u-d)/2-64;if(y<h&&(y=h),!s&&c.style.paddingTop||(c.style.paddingTop=y+"px"),r||n){var m=o(this.props,this.context);m.body=(0,x.default)(m.body,i);var v=u-128;l&&(v-=f.previousSibling.offsetHeight),w.default.Children.count(e)&&(v-=f.nextSibling.offsetHeight),f.style.maxHeight=v+"px"}}}},{key:"requestClose",value:function(t){!t&&this.props.modal||this.props.onRequestClose&&this.props.onRequestClose(!!t)}},{key:"render",value:function(){var t=this.props,e=t.actions,r=t.actionsContainerClassName,n=t.actionsContainerStyle,i=t.bodyClassName,a=t.bodyStyle,s=t.children,l=t.className,u=t.contentClassName,c=t.contentStyle,p=t.overlayClassName,f=t.overlayStyle,h=t.open,d=t.titleClassName,y=t.titleStyle,m=t.title,v=t.style,g=this.context.muiTheme.prepareStyles,b=o(this.props,this.context);b.root=(0,x.default)(b.root,v),b.content=(0,x.default)(b.content,c),b.body=(0,x.default)(b.body,a),b.actionsContainer=(0,x.default)(b.actionsContainer,n),b.overlay=(0,x.default)(b.overlay,f),b.title=(0,x.default)(b.title,y);var _=w.default.Children.count(e)>0&&w.default.createElement("div",{className:r,style:g(b.actionsContainer)},w.default.Children.toArray(e)),T=m;return w.default.isValidElement(m)?T=w.default.cloneElement(m,{className:m.props.className||d,style:g((0,x.default)(b.title,m.props.style))}):"string"==typeof m&&(T=w.default.createElement("h3",{className:d,style:g(b.title)},m)),w.default.createElement("div",{className:l,style:g(b.root)},h&&w.default.createElement(E.default,{target:"window",onKeyUp:this.handleKeyUp,onResize:this.handleResize}),w.default.createElement(F.default,{component:"div",ref:"dialogWindow",transitionAppear:!0,transitionAppearTimeout:450,transitionEnter:!0,transitionEnterTimeout:450},h&&w.default.createElement(z,{className:u,style:b.content},w.default.createElement(N.default,{zDepth:4},T,w.default.createElement("div",{ref:"dialogContent",className:i,style:g(b.body)},s),_))),w.default.createElement(D.default,{show:h,className:p,style:b.overlay,onTouchTap:this.handleTouchTapOverlay}))}}]),e}(_.Component);B.contextTypes={muiTheme:_.PropTypes.object.isRequired};var U=function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.renderLayer=function(){return w.default.createElement(B,n.props)},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){return w.default.createElement(I.default,{render:this.renderLayer,open:!0,useLayerForClickAway:!1})}}]),e}(_.Component);U.contextTypes={muiTheme:_.PropTypes.object.isRequired},U.defaultProps={autoDetectWindowHeight:!0,autoScrollBodyContent:!1,modal:!1,repositionOnUpdate:!0},e.default=U},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(6),s=n(a),l=r(10),u=n(l),c=r(1),p=n(c),f=function(t,e){var r=t.inset,n=t.style,o=(0,s.default)(t,["inset","style"]),a=e.muiTheme,l=a.baseTheme,c=a.prepareStyles,f={root:{margin:0,marginTop:-1,marginLeft:r?72:0,height:1,border:"none",backgroundColor:l.palette.borderColor}};return p.default.createElement("hr",(0,i.default)({},o,{style:c((0,u.default)(f.root,n))}))};f.muiName="Divider",f.defaultProps={inset:!1},f.contextTypes={muiTheme:c.PropTypes.object.isRequired},e.default=f},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(10),y=n(d),m=r(1),v=n(m),g=r(15),b=n(g),x=r(77),_=n(x),w=r(39),T=n(w),M=r(110),S=n(M),E=r(17),k=n(E),C=r(416),A=n(C),P=r(25),L=n(P),D=r(58),O=(n(D),null),I=function(t){function e(){var t,r,n,o;(0,s.default)(this,e);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return r=n=(0,p.default)(this,(t=e.__proto__||(0,i.default)(e)).call.apply(t,[this].concat(l))),n.handleTouchTapOverlay=function(t){t.preventDefault(),n.close("clickaway")},n.handleKeyUp=function(t){n.state.open&&!n.props.docked&&"esc"===(0,T.default)(t)&&n.close("escape")},n.onBodyTouchStart=function(t){var e=n.props.swipeAreaWidth,r=t.touches[0].pageX,o=t.touches[0].pageY;if(null!==e&&!n.state.open)if(n.props.openSecondary){if(r<document.body.offsetWidth-e)return}else if(r>e)return;(n.state.open||O===n.onBodyTouchStart&&!n.props.disableSwipeToOpen)&&(n.maybeSwiping=!0,n.touchStartX=r,n.touchStartY=o,document.body.addEventListener("touchmove",n.onBodyTouchMove),document.body.addEventListener("touchend",n.onBodyTouchEnd),document.body.addEventListener("touchcancel",n.onBodyTouchEnd))},n.onBodyTouchMove=function(t){var e=t.touches[0].pageX,r=t.touches[0].pageY;if(n.state.swiping)t.preventDefault(),n.setPosition(n.getTranslateX(e));else if(n.maybeSwiping){var o=Math.abs(e-n.touchStartX),i=Math.abs(r-n.touchStartY),a=10;o>a&&i<=a?(n.swipeStartX=e,n.setState({swiping:n.state.open?"closing":"opening"}),n.setPosition(n.getTranslateX(e))):o<=a&&i>a&&n.onBodyTouchEnd()}},n.onBodyTouchEnd=function(t){if(n.state.swiping){var e=t.changedTouches[0].pageX,r=n.getTranslateX(e)/n.getMaxTranslateX();n.maybeSwiping=!1;var o=n.state.swiping;n.setState({swiping:null}),r>.5?"opening"===o?n.setPosition(n.getMaxTranslateX()):n.close("swipe"):"opening"===o?n.open("swipe"):n.setPosition(0)}else n.maybeSwiping=!1;document.body.removeEventListener("touchmove",n.onBodyTouchMove),document.body.removeEventListener("touchend",n.onBodyTouchEnd),document.body.removeEventListener("touchcancel",n.onBodyTouchEnd)},o=r,(0,p.default)(n,o)}return(0,h.default)(e,t),(0,u.default)(e,[{key:"componentWillMount",value:function(){this.maybeSwiping=!1,this.touchStartX=null,this.touchStartY=null,this.swipeStartX=null,this.setState({open:null!==this.props.open?this.props.open:this.props.docked,swiping:null})}},{key:"componentDidMount",value:function(){this.enableSwipeHandling()}},{key:"componentWillReceiveProps",value:function(t){null!==t.open?this.setState({open:t.open}):this.props.docked!==t.docked&&this.setState({open:t.docked})}},{key:"componentDidUpdate",value:function(){this.enableSwipeHandling()}},{key:"componentWillUnmount",value:function(){this.disableSwipeHandling()}},{key:"getStyles",value:function(){var t=this.context.muiTheme,e=t.drawer,r=this.getTranslateMultiplier()*(this.state.open?0:this.getMaxTranslateX()),n={root:{height:"100%",width:this.props.width||e.width,position:"fixed",zIndex:t.zIndex.drawer,left:0,top:0,transform:"translate("+r+"px, 0)",transition:!this.state.swiping&&k.default.easeOut(null,"transform",null),backgroundColor:e.color,overflow:"auto",WebkitOverflowScrolling:"touch"},overlay:{zIndex:t.zIndex.drawerOverlay,pointerEvents:this.state.open?"auto":"none"},rootWhenOpenRight:{left:"auto",right:0}};return n}},{key:"shouldShow",value:function(){return this.state.open||!!this.state.swiping}},{key:"close",value:function(t){return null===this.props.open&&this.setState({open:!1}),this.props.onRequestChange&&this.props.onRequestChange(!1,t),this}},{key:"open",value:function(t){return null===this.props.open&&this.setState({open:!0}),this.props.onRequestChange&&this.props.onRequestChange(!0,t),this}},{key:"getMaxTranslateX",value:function(){var t=this.props.width||this.context.muiTheme.drawer.width;return t+10}},{key:"getTranslateMultiplier",value:function(){return this.props.openSecondary?1:-1}},{key:"enableSwipeHandling",value:function(){this.props.docked?this.disableSwipeHandling():(document.body.addEventListener("touchstart",this.onBodyTouchStart),O||(O=this.onBodyTouchStart))}},{key:"disableSwipeHandling",value:function(){document.body.removeEventListener("touchstart",this.onBodyTouchStart),O===this.onBodyTouchStart&&(O=null)}},{key:"setPosition",value:function(t){var e=b.default.findDOMNode(this.refs.clickAwayableElement),r="translate("+this.getTranslateMultiplier()*t+"px, 0)";this.refs.overlay.setOpacity(1-t/this.getMaxTranslateX()),S.default.set(e.style,"transform",r)}},{key:"getTranslateX",value:function(t){return Math.min(Math.max("closing"===this.state.swiping?this.getTranslateMultiplier()*(t-this.swipeStartX):this.getMaxTranslateX()-this.getTranslateMultiplier()*(this.swipeStartX-t),0),this.getMaxTranslateX())}},{key:"render",value:function(){var t=this.props,e=t.children,r=t.className,n=t.containerClassName,o=t.containerStyle,i=t.docked,a=t.openSecondary,s=t.overlayClassName,l=t.overlayStyle,u=t.style,c=t.zDepth,p=this.getStyles(),f=void 0;return i||(f=v.default.createElement(A.default,{ref:"overlay",show:this.shouldShow(),className:s,style:(0,y.default)(p.overlay,l),transitionEnabled:!this.state.swiping,onTouchTap:this.handleTouchTapOverlay})),v.default.createElement("div",{className:r,style:u},v.default.createElement(_.default,{target:"window",onKeyUp:this.handleKeyUp}),f,v.default.createElement(L.default,{ref:"clickAwayableElement",zDepth:c,rounded:!1,transitionEnabled:!this.state.swiping,className:n,style:(0,y.default)(p.root,a&&p.rootWhenOpenRight,o)},e))}}]),e}(m.Component);I.defaultProps={disableSwipeToOpen:!1,docked:!0,open:null,openSecondary:!1,swipeAreaWidth:30,width:null,zDepth:2},I.contextTypes={muiTheme:m.PropTypes.object.isRequired},e.default=I},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(933),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=t.disabled,n=e.muiTheme.baseTheme.spacing,o=e.muiTheme.baseTheme.palette,i=e.muiTheme.dropDownMenu.accentColor;return{control:{cursor:r?"not-allowed":"pointer",height:"100%",position:"relative",width:"100%"},icon:{fill:i,position:"absolute",right:n.desktopGutterLess,top:(n.iconSize-24)/2+n.desktopGutterMini/2},iconChildren:{fill:"inherit"},label:{color:r?o.disabledColor:o.textColor,lineHeight:n.desktopToolbarHeight+"px",overflow:"hidden",opacity:1,position:"relative",paddingLeft:n.desktopGutter,paddingRight:2*n.iconSize+n.desktopGutterMini,textOverflow:"ellipsis",top:0,whiteSpace:"nowrap"},labelWhenOpen:{opacity:0,top:n.desktopToolbarHeight/8},root:{display:"inline-block",fontSize:n.desktopDropDownMenuFontSize,height:n.desktopSubheaderHeight,fontFamily:e.muiTheme.baseTheme.fontFamily,outline:"none",position:"relative",transition:E.default.easeOut()},rootWhenOpen:{opacity:1},underline:{borderTop:"solid 1px "+i,bottom:1,left:0,margin:"-1px "+n.desktopGutter+"px",right:0,position:"absolute"}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=r(15),M=n(T),S=r(17),E=n(S),k=r(1023),C=n(k),A=r(187),P=n(A),L=r(988),D=n(L),O=r(133),I=n(O),R=r(270),N=n(R),j=r(39),F=n(j),z=r(191),B=n(z),U=r(42),V=n(U),H={vertical:"top",horizontal:"left"},W=function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.state={open:!1},n.rootNode=void 0,n.arrowNode=void 0,n.handleTouchTapControl=function(t){t.preventDefault(),n.props.disabled||n.setState({open:!n.state.open,anchorEl:n.rootNode})},n.handleRequestCloseMenu=function(){n.close(!1)},n.handleEscKeyDownMenu=function(){n.close(!0)},n.handleKeyDown=function(t){switch((0,F.default)(t)){case"up":case"down":case"space":case"enter":t.preventDefault(),n.setState({open:!0,anchorEl:n.rootNode})}},n.handleItemTouchTap=function(t,e,r){t.persist(),n.setState({open:!1},function(){n.props.onChange&&n.props.onChange(t,r,e.props.value),n.close(B.default.isKeyboard(t))})},n.close=function(t){n.setState({open:!1},function(){if(n.props.onClose&&n.props.onClose(),t){var e=n.arrowNode,r=M.default.findDOMNode(e);r.focus(),e.setKeyboardFocus(!0)}})},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"componentDidMount",value:function(){var t=this;this.props.autoWidth&&this.setWidth(),this.props.openImmediately&&setTimeout(function(){return t.setState({open:!0,anchorEl:t.rootNode})},0)}},{key:"componentWillReceiveProps",value:function(){this.props.autoWidth&&this.setWidth()}},{key:"getInputNode",value:function(){var t=this,e=this.rootNode;return e.focus=function(){t.props.disabled||t.setState({open:!t.state.open,anchorEl:t.rootNode})},e}},{key:"setWidth",value:function(){var t=this.rootNode;this.props.style&&this.props.style.hasOwnProperty("width")||(t.style.width="auto")}},{key:"render",value:function(){var t=this,e=this.props,r=e.animated,n=e.animation,i=e.autoWidth,s=e.children,u=e.className,c=e.iconStyle,p=e.labelStyle,f=e.listStyle,h=e.maxHeight,d=e.menuStyle,y=(e.onClose,e.openImmediately,e.menuItemStyle),m=e.selectedMenuItemStyle,v=e.style,g=e.underlineStyle,b=e.value,_=(0,l.default)(e,["animated","animation","autoWidth","children","className","iconStyle","labelStyle","listStyle","maxHeight","menuStyle","onClose","openImmediately","menuItemStyle","selectedMenuItemStyle","style","underlineStyle","value"]),T=this.state,M=T.anchorEl,S=T.open,E=this.context.muiTheme.prepareStyles,k=o(this.props,this.context),A="";w.default.Children.forEach(s,function(t){t&&b===t.props.value&&(A=t.props.label||t.props.primaryText)});var L=void 0;return L=M&&!i?(0,x.default)({width:M.clientWidth},d):d,w.default.createElement("div",(0,a.default)({},_,{ref:function(e){t.rootNode=e},className:u,style:E((0,x.default)({},k.root,S&&k.rootWhenOpen,v))}),w.default.createElement(D.default,{style:k.control,onTouchTap:this.handleTouchTapControl},w.default.createElement("div",{style:E((0,x.default)({},k.label,S&&k.labelWhenOpen,p))},A),w.default.createElement(V.default,{tabIndex:this.props.disabled?-1:void 0,onKeyDown:this.handleKeyDown,ref:function(e){t.arrowNode=e},style:(0,x.default)({},k.icon,c),iconStyle:k.iconChildren},w.default.createElement(C.default,null)),w.default.createElement("div",{style:E((0,x.default)({},k.underline,g))})),w.default.createElement(I.default,{anchorOrigin:H,anchorEl:M,animation:n||N.default,open:S,animated:r,onRequestClose:this.handleRequestCloseMenu},w.default.createElement(P.default,{maxHeight:h,desktop:!0,value:b,onEscKeyDown:this.handleEscKeyDownMenu,style:L,listStyle:f,onItemTouchTap:this.handleItemTouchTap,menuItemStyle:y,
selectedMenuItemStyle:m},s)))}}]),e}(_.Component);W.muiName="DropDownMenu",W.defaultProps={animated:!0,autoWidth:!0,disabled:!1,openImmediately:!1,maxHeight:500},W.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=W},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(6),s=n(a),l=r(8),u=n(l),c=r(2),p=n(c),f=r(7),h=n(f),d=r(4),y=n(d),m=r(3),v=n(m),g=r(10),b=n(g),x=r(1),_=n(x),w=r(17),T=n(w),M=r(158),S=r(91),E=r(57),k=n(E),C=r(937),A=n(C),P=function(t){function e(){var t,r,n,o;(0,p.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,y.default)(this,(t=e.__proto__||(0,u.default)(e)).call.apply(t,[this].concat(a))),n.state={hovered:!1,isKeyboardFocused:!1,touch:!1},n.handleKeyboardFocus=function(t,e){n.setState({isKeyboardFocused:e}),n.props.onKeyboardFocus(t,e)},n.handleMouseEnter=function(t){n.state.touch||n.setState({hovered:!0}),n.props.onMouseEnter(t)},n.handleMouseLeave=function(t){n.setState({hovered:!1}),n.props.onMouseLeave(t)},n.handleTouchStart=function(t){n.setState({touch:!0}),n.props.onTouchStart(t)},o=r,(0,y.default)(n,o)}return(0,v.default)(e,t),(0,h.default)(e,[{key:"componentWillReceiveProps",value:function(t){t.disabled&&this.setState({hovered:!1})}},{key:"render",value:function(){var t=this.props,e=t.children,r=t.disabled,n=t.hoverColor,o=t.backgroundColor,a=t.icon,l=t.label,u=t.labelStyle,c=t.labelPosition,p=t.primary,f=t.rippleColor,h=t.secondary,d=t.style,y=(0,s.default)(t,["children","disabled","hoverColor","backgroundColor","icon","label","labelStyle","labelPosition","primary","rippleColor","secondary","style"]),m=this.context.muiTheme,v=m.button,g=v.height,x=v.minWidth,w=v.textTransform,E=m.flatButton,C=E.buttonFilterColor,P=E.color,L=E.disabledTextColor,D=E.fontSize,O=E.fontWeight,I=E.primaryTextColor,R=E.secondaryTextColor,N=E.textColor,j=E.textTransform,F=void 0===j?w||"uppercase":j,z=r?L:p?I:h?R:N,B=(0,S.fade)(C,.2),U=C,V=n||B,H=f||U,W=o||P,q=(this.state.hovered||this.state.isKeyboardFocused)&&!r,G=(0,b.default)({},{height:g,lineHeight:g+"px",minWidth:x,color:z,transition:T.default.easeOut(),borderRadius:2,userSelect:"none",overflow:"hidden",backgroundColor:q?V:W,padding:0,margin:0,textAlign:"center"},d),Y=void 0,X={};if(a){var K=(0,b.default)({verticalAlign:"middle",marginLeft:l&&"before"!==c?12:0,marginRight:l&&"before"===c?12:0},a.props.style);Y=_.default.cloneElement(a,{color:a.props.color||G.color,style:K}),"before"===c?X.paddingRight=8:X.paddingLeft=8}var Z=(0,b.default)({letterSpacing:0,textTransform:F,fontWeight:O,fontSize:D},X,u),J=l?_.default.createElement(A.default,{label:l,style:Z}):void 0,$="before"===c?{labelElement:J,iconCloned:Y,children:e}:{children:e,iconCloned:Y,labelElement:J},Q=(0,M.createChildFragment)($);return _.default.createElement(k.default,(0,i.default)({},y,{disabled:r,focusRippleColor:H,focusRippleOpacity:.3,onKeyboardFocus:this.handleKeyboardFocus,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onTouchStart:this.handleTouchStart,style:G,touchRippleColor:H,touchRippleOpacity:.3}),Q)}}]),e}(x.Component);P.muiName="FlatButton",P.defaultProps={disabled:!1,labelStyle:{},labelPosition:"after",onKeyboardFocus:function(){},onMouseEnter:function(){},onMouseLeave:function(){},onTouchStart:function(){},primary:!1,secondary:!1},P.contextTypes={muiTheme:x.PropTypes.object.isRequired},e.default=P},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.muiTheme.baseTheme;return{root:{position:"relative",paddingLeft:r.spacing.desktopGutterLess,paddingRight:r.spacing.desktopGutterLess,verticalAlign:"middle"}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(8),a=n(i),s=r(2),l=n(s),u=r(7),c=n(u),p=r(4),f=n(p),h=r(3),d=n(h),y=r(10),m=n(y),v=r(1),g=n(v),b=function(t){function e(){return(0,l.default)(this,e),(0,f.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,d.default)(e,t),(0,c.default)(e,[{key:"render",value:function(){var t=this.props,e=t.label,r=t.style,n=this.context.muiTheme.prepareStyles,i=o(this.props,this.context);return g.default.createElement("span",{style:n((0,m.default)(i.root,r))},e)}}]),e}(v.Component);b.contextTypes={muiTheme:v.PropTypes.object.isRequired},e.default=b},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.muiTheme.floatingActionButton,n=t.backgroundColor||r.color,o=r.iconColor;return t.disabled?(n=t.disabledColor||r.disabledColor,o=r.disabledTextColor):t.secondary&&(n=r.secondaryColor,o=r.secondaryIconColor),{root:{transition:M.default.easeOut(),display:"inline-block",backgroundColor:"transparent"},container:{backgroundColor:n,transition:M.default.easeOut(),height:r.buttonSize,width:r.buttonSize,padding:0,overflow:"hidden",borderRadius:"50%",textAlign:"center",verticalAlign:"bottom"},containerWhenMini:{height:r.miniSize,width:r.miniSize},overlay:{transition:M.default.easeOut(),top:0},overlayWhenHovered:{backgroundColor:(0,S.fade)(o,.4)},icon:{height:r.buttonSize,lineHeight:r.buttonSize+"px",fill:o,color:o},iconWhenMini:{height:r.miniSize,lineHeight:r.miniSize+"px"}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=r(17),M=n(T),S=r(91),E=r(57),k=n(E),C=r(186),A=n(C),P=r(25),L=n(P),D=r(158),O=r(43),I=(n(O),r(58)),R=(n(I),function(t){function e(){var t,r,n,i;(0,f.default)(this,e);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(s))),n.state={hovered:!1,touch:!1,zDepth:void 0},n.handleMouseDown=function(t){0===t.button&&n.setState({zDepth:n.props.zDepth+1}),n.props.onMouseDown&&n.props.onMouseDown(t)},n.handleMouseUp=function(t){n.setState({zDepth:n.props.zDepth}),n.props.onMouseUp&&n.props.onMouseUp(t)},n.handleMouseLeave=function(t){n.refs.container.isKeyboardFocused()||n.setState({zDepth:n.props.zDepth,hovered:!1}),n.props.onMouseLeave&&n.props.onMouseLeave(t)},n.handleMouseEnter=function(t){n.refs.container.isKeyboardFocused()||n.state.touch||n.setState({hovered:!0}),n.props.onMouseEnter&&n.props.onMouseEnter(t)},n.handleTouchStart=function(t){n.setState({touch:!0,zDepth:n.props.zDepth+1}),n.props.onTouchStart&&n.props.onTouchStart(t)},n.handleTouchEnd=function(t){n.setState({touch:!0,zDepth:n.props.zDepth}),n.props.onTouchEnd&&n.props.onTouchEnd(t)},n.handleKeyboardFocus=function(t,e){e&&!n.props.disabled?(n.setState({zDepth:n.props.zDepth+1}),n.refs.overlay.style.backgroundColor=(0,S.fade)(o(n.props,n.context).icon.color,.4)):n.state.hovered||(n.setState({zDepth:n.props.zDepth}),n.refs.overlay.style.backgroundColor="transparent")},i=r,(0,m.default)(n,i)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"componentWillMount",value:function(){this.setState({zDepth:this.props.disabled?0:this.props.zDepth})}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(t){var e={};t.disabled!==this.props.disabled&&(e.zDepth=t.disabled?0:this.props.zDepth),t.disabled&&(e.hovered=!1),this.setState(e)}},{key:"render",value:function(){var t=this.props,e=(t.backgroundColor,t.className),r=t.children,n=t.disabled,i=t.mini,s=(t.secondary,t.iconStyle),u=t.iconClassName,c=(t.zDepth,(0,l.default)(t,["backgroundColor","className","children","disabled","mini","secondary","iconStyle","iconClassName","zDepth"])),p=this.context.muiTheme.prepareStyles,f=o(this.props,this.context),h=void 0;u&&(h=w.default.createElement(A.default,{className:u,style:(0,x.default)({},f.icon,i&&f.iconWhenMini,s)}));var d=void 0;r&&(d=(0,D.extendChildren)(r,function(t){return{style:(0,x.default)({},f.icon,i&&f.iconWhenMini,s,t.props.style)}}));var y=n?null:{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onKeyboardFocus:this.handleKeyboardFocus};return w.default.createElement(L.default,{className:e,style:(0,x.default)(f.root,this.props.style),zDepth:this.state.zDepth,circle:!0},w.default.createElement(k.default,(0,a.default)({},c,y,{ref:"container",disabled:n,style:(0,x.default)(f.container,this.props.mini&&f.containerWhenMini,s),focusRippleColor:f.icon.color,touchRippleColor:f.icon.color}),w.default.createElement("div",{ref:"overlay",style:p((0,x.default)(f.overlay,this.state.hovered&&!this.props.disabled&&f.overlayWhenHovered))},h,d)))}}]),e}(_.Component));R.defaultProps={disabled:!1,mini:!1,secondary:!1,zDepth:2},R.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=R},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(938),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){var n=t.color,o=t.hoverColor,i=e.muiTheme.baseTheme,a=n||i.palette.textColor,s=o||a;return{root:{color:r.hovered?s:a,position:"relative",fontSize:i.spacing.iconSize,display:"inline-block",userSelect:"none",transition:M.default.easeOut()}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=r(17),M=n(T),S=function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.state={hovered:!1},n.handleMouseLeave=function(t){void 0!==n.props.hoverColor&&n.setState({hovered:!1}),n.props.onMouseLeave&&n.props.onMouseLeave(t)},n.handleMouseEnter=function(t){void 0!==n.props.hoverColor&&n.setState({hovered:!0}),n.props.onMouseEnter&&n.props.onMouseEnter(t)},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){var t=this.props,e=(t.hoverColor,t.onMouseLeave,t.onMouseEnter,t.style),r=(0,l.default)(t,["hoverColor","onMouseLeave","onMouseEnter","style"]),n=this.context.muiTheme.prepareStyles,i=o(this.props,this.context,this.state);return w.default.createElement("span",(0,a.default)({},r,{onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,style:n((0,x.default)(i.root,e))}))}}]),e}(_.Component);S.muiName="FontIcon",S.defaultProps={onMouseEnter:function(){},onMouseLeave:function(){}},S.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=S},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){return{root:{display:"flex",flexWrap:"wrap",margin:-t.padding/2},item:{boxSizing:"border-box",padding:t.padding/2}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=function(t){function e(){return(0,f.default)(this,e),(0,m.default)(this,(e.__proto__||(0,c.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){var t=this.props,e=t.cols,r=t.padding,n=t.cellHeight,i=t.children,s=t.style,u=(0,l.default)(t,["cols","padding","cellHeight","children","style"]),c=this.context.muiTheme.prepareStyles,p=o(this.props,this.context),f=(0,x.default)(p.root,s),h=w.default.Children.map(i,function(t){if(w.default.isValidElement(t)&&"Subheader"===t.type.muiName)return t;var o=t.props.cols||1,i=t.props.rows||1,a=(0,x.default)({},p.item,{width:100/e*o+"%",height:"auto"===n?"auto":n*i+r});return w.default.createElement("div",{style:c(a)},t)});return w.default.createElement("div",(0,a.default)({style:c(f)},u),h)}}]),e}(_.Component);T.defaultProps={cols:2,padding:4,cellHeight:180},T.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=T},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GridTile=e.GridList=void 0;var o=r(941),i=n(o),a=r(394),s=n(a);e.GridList=i.default,e.GridTile=s.default,e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.muiTheme.baseTheme;return{root:{boxSizing:"border-box",overflow:"visible",transition:M.default.easeOut(),padding:r.spacing.iconSize/2,width:2*r.spacing.iconSize,height:2*r.spacing.iconSize,fontSize:0},tooltip:{boxSizing:"border-box"},disabled:{color:r.palette.disabledColor,fill:r.palette.disabledColor,cursor:"not-allowed"}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=r(17),M=n(T),S=r(58),E=(n(S),r(57)),k=n(E),C=r(186),A=n(C),P=r(418),L=n(P),D=r(158),O=function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.state={hovered:!1,isKeyboardFocused:!1,touch:!1,tooltipShown:!1},n.handleBlur=function(t){n.hideTooltip(),n.props.onBlur&&n.props.onBlur(t)},n.handleFocus=function(t){n.showTooltip(),n.props.onFocus&&n.props.onFocus(t)},n.handleMouseLeave=function(t){n.button.isKeyboardFocused()||n.hideTooltip(),n.setState({hovered:!1}),n.props.onMouseLeave&&n.props.onMouseLeave(t)},n.handleMouseOut=function(t){n.props.disabled&&n.hideTooltip(),n.props.onMouseOut&&n.props.onMouseOut(t)},n.handleMouseEnter=function(t){n.showTooltip(),n.state.touch||n.setState({hovered:!0}),n.props.onMouseEnter&&n.props.onMouseEnter(t)},n.handleTouchStart=function(t){n.setState({touch:!0}),n.props.onTouchStart&&n.props.onTouchStart(t)},n.handleKeyboardFocus=function(t,e){var r=n.props,o=r.disabled,i=r.onFocus,a=r.onBlur,s=r.onKeyboardFocus;e&&!o?(n.showTooltip(),i&&i(t)):(n.hideTooltip(),a&&a(t)),n.setState({isKeyboardFocused:e}),s&&s(t,e)},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"componentWillReceiveProps",value:function(t){t.disabled&&this.setState({hovered:!1})}},{key:"setKeyboardFocus",value:function(){this.button.setKeyboardFocus()}},{key:"showTooltip",value:function(){this.props.tooltip&&this.setState({tooltipShown:!0})}},{key:"hideTooltip",value:function(){this.props.tooltip&&this.setState({tooltipShown:!1})}},{key:"render",value:function(){var t=this,e=this.props,r=e.disabled,n=e.hoveredStyle,i=e.disableTouchRipple,s=e.children,u=e.iconClassName,c=e.style,p=e.tooltip,f=e.tooltipPosition,h=e.tooltipStyles,d=e.touch,y=e.iconStyle,m=(0,l.default)(e,["disabled","hoveredStyle","disableTouchRipple","children","iconClassName","style","tooltip","tooltipPosition","tooltipStyles","touch","iconStyle"]),v=void 0,g=o(this.props,this.context),b=f.split("-"),_=(this.state.hovered||this.state.isKeyboardFocused)&&!r,T=(0,x.default)(g.root,c,_?n:{}),M=p?w.default.createElement(L.default,{label:p,show:this.state.tooltipShown,touch:d,style:(0,x.default)(g.tooltip,h),verticalPosition:b[0],horizontalPosition:b[1]}):null;if(u){var S=y.iconHoverColor,E=(0,l.default)(y,["iconHoverColor"]);v=w.default.createElement(A.default,{className:u,hoverColor:r?null:S,style:(0,x.default)({},r&&g.disabled,E),color:this.context.muiTheme.baseTheme.palette.textColor},s)}var C=r?(0,x.default)({},y,g.disabled):y;return w.default.createElement(k.default,(0,a.default)({ref:function(e){return t.button=e}},m,{centerRipple:!0,disabled:r,onTouchStart:this.handleTouchStart,style:T,disableTouchRipple:i,onBlur:this.handleBlur,onFocus:this.handleFocus,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onMouseOut:this.handleMouseOut,onKeyboardFocus:this.handleKeyboardFocus}),M,v,(0,D.extendChildren)(s,{style:C}))}}]),e}(_.Component);O.muiName="IconButton",O.defaultProps={disabled:!1,disableTouchRipple:!1,iconStyle:{},tooltipPosition:"bottom-center",touch:!1},O.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=O},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(6),s=n(a),l=r(8),u=n(l),c=r(2),p=n(c),f=r(7),h=n(f),d=r(4),y=n(d),m=r(3),v=n(m),g=r(10),b=n(g),x=r(1),_=n(x),w=r(15),T=n(w),M=r(191),S=n(M),E=r(58),k=(n(E),r(187)),C=n(k),A=r(133),P=n(A),L=r(43),D=(n(L),function(t){function e(){var t,r,n,o;(0,p.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,y.default)(this,(t=e.__proto__||(0,u.default)(e)).call.apply(t,[this].concat(a))),n.state={menuInitiallyKeyboardFocused:!1,open:!1},n.handleItemTouchTap=function(t,e){0===n.props.touchTapCloseDelay||e.props.hasOwnProperty("menuItems")||!function(){var e=S.default.isKeyboard(t);n.timerCloseId=setTimeout(function(){n.close(e?"enter":"itemTap",e)},n.props.touchTapCloseDelay)}(),n.props.onItemTouchTap(t,e)},n.handleRequestClose=function(t){n.close(t)},n.handleEscKeyDownMenu=function(t){n.close("escape",t)},o=r,(0,y.default)(n,o)}return(0,v.default)(e,t),(0,h.default)(e,[{key:"componentWillReceiveProps",value:function(t){null!=t.open&&this.setState({open:t.open,anchorEl:this.refs.iconMenuContainer})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerCloseId)}},{key:"isOpen",value:function(){return this.state.open}},{key:"close",value:function(t,e){var r=this;this.state.open&&(null!==this.props.open?this.props.onRequestChange(!1,t):this.setState({open:!1},function(){if(e){var t=r.refs.iconButton;T.default.findDOMNode(t).focus(),t.setKeyboardFocus()}}))}},{key:"open",value:function(t,e){return null!==this.props.open?(this.props.onRequestChange(!0,t),this.setState({menuInitiallyKeyboardFocused:S.default.isKeyboard(e),anchorEl:e.currentTarget})):(this.setState({open:!0,menuInitiallyKeyboardFocused:S.default.isKeyboard(e),anchorEl:e.currentTarget}),void e.preventDefault())}},{key:"render",value:function(){var t=this,e=this.props,r=e.anchorOrigin,n=e.className,o=e.animated,a=e.animation,l=e.iconButtonElement,u=e.iconStyle,c=(e.onItemTouchTap,e.onKeyboardFocus),p=e.onMouseDown,f=e.onMouseLeave,h=e.onMouseEnter,d=e.onMouseUp,y=(e.onRequestChange,e.onTouchTap),m=e.listStyle,v=e.menuStyle,g=e.style,x=e.targetOrigin,w=(e.touchTapCloseDelay,e.useLayerForClickAway),T=(0,s.default)(e,["anchorOrigin","className","animated","animation","iconButtonElement","iconStyle","onItemTouchTap","onKeyboardFocus","onMouseDown","onMouseLeave","onMouseEnter","onMouseUp","onRequestChange","onTouchTap","listStyle","menuStyle","style","targetOrigin","touchTapCloseDelay","useLayerForClickAway"]),M=this.context.muiTheme.prepareStyles,E=this.state,k=E.open,A=E.anchorEl,L={root:{display:"inline-block",position:"relative"},menu:{position:"relative"}},D=(0,b.default)(L.root,g),O=(0,b.default)(L.menu,v),I={onKeyboardFocus:c,onTouchTap:function(e){t.open(S.default.isKeyboard(e)?"keyboard":"iconTap",e),l.props.onTouchTap&&l.props.onTouchTap(e)},ref:"iconButton"};(u||l.props.iconStyle)&&(I.iconStyle=u?(0,b.default)({},u,l.props.iconStyle):l.props.iconStyle);var R=_.default.cloneElement(l,I),N=_.default.createElement(C.default,(0,i.default)({},T,{initiallyKeyboardFocused:this.state.menuInitiallyKeyboardFocused,onEscKeyDown:this.handleEscKeyDownMenu,onItemTouchTap:this.handleItemTouchTap,style:O,listStyle:m}),this.props.children);return _.default.createElement("div",{ref:"iconMenuContainer",className:n,onMouseDown:p,onMouseLeave:f,onMouseEnter:h,onMouseUp:d,onTouchTap:y,style:M(D)},R,_.default.createElement(P.default,{anchorOrigin:r,targetOrigin:x,open:k,anchorEl:A,childContextTypes:this.constructor.childContextTypes,useLayerForClickAway:w,onRequestClose:this.handleRequestClose,animated:o,animation:a,context:this.context},N))}}]),e}(x.Component));D.muiName="IconMenu",D.defaultProps={anchorOrigin:{vertical:"top",horizontal:"left"},animated:!0,multiple:!1,open:null,onItemTouchTap:function(){},onKeyboardFocus:function(){},onMouseDown:function(){},onMouseLeave:function(){},onMouseEnter:function(){},onMouseUp:function(){},onRequestChange:function(){},onTouchTap:function(){},targetOrigin:{vertical:"top",horizontal:"left"},touchTapCloseDelay:200,useLayerForClickAway:!1},D.contextTypes={muiTheme:x.PropTypes.object.isRequired},e.default=D},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){var n=Math.min(Math.max(e,t),r),o=r-e,i=Math.round((n-e)/o*1e4)/1e4;return 100*i}function i(t,e){var r=t.max,n=t.min,i=t.value,a=e.muiTheme.baseTheme.palette,s={root:{position:"relative",height:4,display:"block",width:"100%",backgroundColor:a.primary3Color,borderRadius:2,margin:0,overflow:"hidden"},bar:{height:"100%"},barFragment1:{},barFragment2:{}};return"indeterminate"===t.mode?(s.barFragment1={position:"absolute",backgroundColor:t.color||a.primary1Color,top:0,left:0,bottom:0,transition:S.default.create("all","840ms",null,"cubic-bezier(0.650, 0.815, 0.735, 0.395)")},s.barFragment2={position:"absolute",backgroundColor:t.color||a.primary1Color,top:0,left:0,bottom:0,transition:S.default.create("all","840ms",null,"cubic-bezier(0.165, 0.840, 0.440, 1.000)")}):(s.bar.backgroundColor=t.color||a.primary1Color,s.bar.transition=S.default.create("width",".3s",null,"linear"),s.bar.width=o(i,n,r)+"%"),s}Object.defineProperty(e,"__esModule",{value:!0});var a=r(5),s=n(a),l=r(6),u=n(l),c=r(8),p=n(c),f=r(2),h=n(f),d=r(7),y=n(d),m=r(4),v=n(m),g=r(3),b=n(g),x=r(10),_=n(x),w=r(1),T=n(w),M=r(17),S=n(M),E=function(t){function e(){return(0,h.default)(this,e),(0,v.default)(this,(e.__proto__||(0,p.default)(e)).apply(this,arguments))}return(0,b.default)(e,t),(0,y.default)(e,[{key:"componentDidMount",value:function(){var t=this;this.timers={},this.timers.bar1=this.barUpdate("bar1",0,this.refs.bar1,[[-35,100],[100,-90]]),this.timers.bar2=setTimeout(function(){t.barUpdate("bar2",0,t.refs.bar2,[[-200,100],[107,-8]])},850)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timers.bar1),clearTimeout(this.timers.bar2)}},{key:"barUpdate",value:function(t,e,r,n){var o=this;if("indeterminate"===this.props.mode){e=e||0,e%=4;var i=this.context.muiTheme.isRtl?"left":"right",a=this.context.muiTheme.isRtl?"right":"left";0===e?(r.style[a]=n[0][0]+"%",r.style[i]=n[0][1]+"%"):1===e?r.style.transitionDuration="840ms":2===e?(r.style[a]=n[1][0]+"%",r.style[i]=n[1][1]+"%"):3===e&&(r.style.transitionDuration="0ms"),this.timers[t]=setTimeout(function(){return o.barUpdate(t,e+1,r,n)},420)}}},{key:"render",value:function(){var t=this.props,e=t.style,r=(0,u.default)(t,["style"]),n=this.context.muiTheme.prepareStyles,o=i(this.props,this.context);return T.default.createElement("div",(0,s.default)({},r,{style:n((0,_.default)(o.root,e))}),T.default.createElement("div",{style:n(o.bar)},T.default.createElement("div",{ref:"bar1",style:n(o.barFragment1)}),T.default.createElement("div",{ref:"bar2",style:n(o.barFragment2)})))}}]),e}(w.Component);E.defaultProps={mode:"indeterminate",value:0,min:0,max:100},E.contextTypes={muiTheme:w.PropTypes.object.isRequired},e.default=E},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(945),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(267),s=n(a),l=function(t){var e=t.children,r=t.open,n=t.nestedLevel,a=t.style;return r?i.default.createElement(s.default,{style:a},o.Children.map(e,function(t){return(0,o.isValidElement)(t)?(0,o.cloneElement)(t,{nestedLevel:n+1}):t})):null};e.default=l},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.HotKeyHolder=void 0;var o=r(2),i=n(o),a=r(7),s=n(a);e.HotKeyHolder=function(){function t(){var e=this;(0,i.default)(this,t),this.clear=function(){e.timerId=null,e.lastKeys=null}}return(0,s.default)(t,[{key:"append",value:function(t){return clearTimeout(this.timerId),this.timerId=setTimeout(this.clear,500),this.lastKeys=(this.lastKeys||"")+t}}]),t}()},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=t.rounded,n=t.circle,o=t.transitionEnabled,i=t.zDepth,a=e.muiTheme,s=a.baseTheme,l=a.paper;return{root:{color:l.color,backgroundColor:l.backgroundColor,transition:o&&S.default.easeOut(),boxSizing:"border-box",fontFamily:s.fontFamily,WebkitTapHighlightColor:"rgba(0,0,0,0)",boxShadow:l.zDepthShadows[i-1],borderRadius:n?"50%":r?"2px":"0px"}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=r(58),M=(n(T),r(17)),S=n(M),E=function(t){function e(){return(0,f.default)(this,e),(0,m.default)(this,(e.__proto__||(0,c.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){var t=this.props,e=t.children,r=(t.circle,t.rounded,t.style),n=(t.transitionEnabled,t.zDepth,(0,l.default)(t,["children","circle","rounded","style","transitionEnabled","zDepth"])),i=this.context.muiTheme.prepareStyles,s=o(this.props,this.context);return w.default.createElement("div",(0,a.default)({},n,{style:i((0,x.default)(s.root,r))}),e)}}]),e}(_.Component);E.defaultProps={circle:!1,rounded:!0,transitionEnabled:!0,zDepth:1},E.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=E},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){var n=t.targetOrigin,o=r.open,i=e.muiTheme,a=n.horizontal.replace("middle","vertical");return{root:{position:"fixed",zIndex:i.zIndex.popover,opacity:o?1:0,transform:o?"scale(1, 1)":"scale(0, 0)",transformOrigin:a+" "+n.vertical,transition:g.default.easeOut("250ms",["transform","opacity"]),maxHeight:"100%"},horizontal:{maxHeight:"100%",overflowY:"auto",transform:o?"scaleX(1)":"scaleX(0)",opacity:o?1:0,transformOrigin:a+" "+n.vertical,transition:g.default.easeOut("250ms",["transform","opacity"])},vertical:{opacity:o?1:0,transform:o?"scaleY(1)":"scaleY(0)",transformOrigin:a+" "+n.vertical,transition:g.default.easeOut("500ms",["transform","opacity"])}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(8),a=n(i),s=r(2),l=n(s),u=r(7),c=n(u),p=r(4),f=n(p),h=r(3),d=n(h),y=r(10),m=n(y),v=r(17),g=n(v),b=r(1),x=n(b),_=r(58),w=(n(_),r(25)),T=n(w),M=function(t){function e(){var t,r,n,o;(0,l.default)(this,e);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return r=n=(0,f.default)(this,(t=e.__proto__||(0,a.default)(e)).call.apply(t,[this].concat(s))),n.state={open:!1},o=r,(0,f.default)(n,o)}return(0,d.default)(e,t),(0,c.default)(e,[{key:"componentDidMount",value:function(){this.setState({open:!0})}},{key:"componentWillReceiveProps",value:function(t){this.setState({open:t.open})}},{key:"render",value:function(){var t=this.props,e=t.className,r=t.style,n=t.zDepth,i=this.context.muiTheme.prepareStyles,a=o(this.props,this.context,this.state);return x.default.createElement(T.default,{style:(0,m.default)(a.root,r),zDepth:n,className:e},x.default.createElement("div",{style:i(a.horizontal)},x.default.createElement("div",{style:i(a.vertical)},this.props.children)))}}]),e}(b.Component);M.defaultProps={style:{},zDepth:1},M.contextTypes={muiTheme:b.PropTypes.object.isRequired},e.default=M},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.PopoverAnimationVertical=e.Popover=void 0;var o=r(133),i=n(o),a=r(270),s=n(a);e.Popover=i.default,e.PopoverAnimationVertical=s.default,e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.muiTheme.radioButton;return{icon:{height:r.size,width:r.size},target:{transition:M.default.easeOut(),position:"absolute",opacity:1,transform:"scale(1)",fill:r.borderColor},fill:{position:"absolute",opacity:1,transform:"scale(0)",transformOrigin:"50% 50%",transition:M.default.easeOut(),fill:r.checkedColor},targetWhenChecked:{opacity:0,transform:"scale(0)"},fillWhenChecked:{opacity:1,transform:"scale(1)"},targetWhenDisabled:{fill:r.disabledColor},fillWhenDisabled:{fill:r.disabledColor},label:{color:t.disabled?r.labelDisabledColor:r.labelColor},ripple:{color:t.checked?r.checkedColor:r.borderColor}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=r(17),M=n(T),S=r(274),E=n(S),k=r(1033),C=n(k),A=r(1032),P=n(A),L=function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.handleSwitch=function(t){n.props.onCheck&&n.props.onCheck(t,n.props.value)},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"isChecked",value:function(){return this.refs.enhancedSwitch.isSwitched()}},{key:"setChecked",value:function(t){this.refs.enhancedSwitch.setSwitched(t)}},{key:"getValue",value:function(){return this.refs.enhancedSwitch.getValue()}},{key:"render",value:function(){var t=this.props,e=t.checkedIcon,r=t.checked,n=t.iconStyle,i=t.labelStyle,s=t.labelPosition,u=(t.onCheck,t.uncheckedIcon),c=t.disabled,p=(0,l.default)(t,["checkedIcon","checked","iconStyle","labelStyle","labelPosition","onCheck","uncheckedIcon","disabled"]),f=o(this.props,this.context),h=(0,x.default)(f.target,r&&f.targetWhenChecked,n,c&&f.targetWhenDisabled),d=(0,x.default)(f.fill,r&&f.fillWhenChecked,n,c&&f.fillWhenDisabled),y=w.default.isValidElement(u)?w.default.cloneElement(u,{style:(0,x.default)(h,u.props.style)}):w.default.createElement(C.default,{style:h}),m=w.default.isValidElement(e)?w.default.cloneElement(e,{style:(0,x.default)(d,e.props.style)}):w.default.createElement(P.default,{style:d}),v=(0,x.default)(f.icon,n),g=(0,x.default)(f.label,i);return w.default.createElement(E.default,(0,a.default)({},p,{ref:"enhancedSwitch",inputType:"radio",checked:r,switched:r,disabled:c,rippleColor:f.ripple.color,iconStyle:v,labelStyle:g,labelPosition:s,onSwitch:this.handleSwitch,switchElement:w.default.createElement("div",null,y,m)}))}}]),e}(_.Component);L.defaultProps={checked:!1,disabled:!1,labelPosition:"right"},L.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=L},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){var n=e.muiTheme,o=n.baseTheme,i=n.button,a=n.raisedButton,s=t.disabled,l=t.disabledBackgroundColor,u=t.disabledLabelColor,c=t.fullWidth,p=t.icon,f=t.label,h=t.labelPosition,d=t.primary,y=t.secondary,m=t.style,v=d||y?.4:.08,g=a.color,b=a.textColor;s?(g=l||a.disabledColor,b=u||a.disabledTextColor):d?(g=a.primaryColor,b=a.primaryTextColor):y?(g=a.secondaryColor,b=a.secondaryTextColor):(t.backgroundColor&&(g=t.backgroundColor),t.labelColor&&(b=t.labelColor));var x=m&&m.height||i.height,_=2;return{root:{display:"inline-block",transition:M.default.easeOut(),minWidth:c?"100%":i.minWidth},button:{height:x,lineHeight:x+"px",width:"100%",padding:0,borderRadius:_,transition:M.default.easeOut(),backgroundColor:g,textAlign:"center"},label:{position:"relative",opacity:1,fontSize:a.fontSize,letterSpacing:0,textTransform:a.textTransform||i.textTransform||"uppercase",fontWeight:a.fontWeight,margin:0,userSelect:"none",paddingLeft:p&&"before"!==h?8:o.spacing.desktopGutterLess,paddingRight:p&&"before"===h?8:o.spacing.desktopGutterLess,color:b},icon:{verticalAlign:"middle",marginLeft:f&&"before"!==h?12:0,marginRight:f&&"before"===h?12:0},overlay:{height:x,borderRadius:_,backgroundColor:(r.keyboardFocused||r.hovered)&&!s&&(0,S.fade)(b,v),transition:M.default.easeOut(),top:0},ripple:{
color:b,opacity:d||y?.16:.1}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=r(17),M=n(T),S=r(91),E=r(158),k=r(57),C=n(k),A=r(25),P=n(A),L=function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.state={hovered:!1,keyboardFocused:!1,touched:!1,initialZDepth:0,zDepth:0},n.handleMouseDown=function(t){0===t.button&&n.setState({zDepth:n.state.initialZDepth+1}),n.props.onMouseDown&&n.props.onMouseDown(t)},n.handleMouseUp=function(t){n.setState({zDepth:n.state.initialZDepth}),n.props.onMouseUp&&n.props.onMouseUp(t)},n.handleMouseLeave=function(t){n.state.keyboardFocused||n.setState({zDepth:n.state.initialZDepth,hovered:!1}),n.props.onMouseLeave&&n.props.onMouseLeave(t)},n.handleMouseEnter=function(t){n.state.keyboardFocused||n.state.touched||n.setState({hovered:!0}),n.props.onMouseEnter&&n.props.onMouseEnter(t)},n.handleTouchStart=function(t){n.setState({touched:!0,zDepth:n.state.initialZDepth+1}),n.props.onTouchStart&&n.props.onTouchStart(t)},n.handleTouchEnd=function(t){n.setState({touched:!0,zDepth:n.state.initialZDepth}),n.props.onTouchEnd&&n.props.onTouchEnd(t)},n.handleKeyboardFocus=function(t,e){var r=e&&!n.props.disabled?n.state.initialZDepth+1:n.state.initialZDepth;n.setState({zDepth:r,keyboardFocused:e})},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"componentWillMount",value:function(){var t=this.props.disabled?0:1;this.setState({zDepth:t,initialZDepth:t})}},{key:"componentWillReceiveProps",value:function(t){var e=t.disabled?0:1,r={zDepth:e,initialZDepth:e};t.disabled&&(r.hovered=!1),this.setState(r)}},{key:"render",value:function(){var t=this.props,e=(t.backgroundColor,t.buttonStyle),r=t.children,n=t.className,i=t.disabled,s=(t.disabledBackgroundColor,t.disabledLabelColor,t.fullWidth,t.icon),u=t.label,c=(t.labelColor,t.labelPosition),p=t.labelStyle,f=t.overlayStyle,h=(t.primary,t.rippleStyle),d=(t.secondary,t.style),y=(0,l.default)(t,["backgroundColor","buttonStyle","children","className","disabled","disabledBackgroundColor","disabledLabelColor","fullWidth","icon","label","labelColor","labelPosition","labelStyle","overlayStyle","primary","rippleStyle","secondary","style"]),m=this.context.muiTheme.prepareStyles,v=o(this.props,this.context,this.state),g=(0,x.default)({},v.ripple,h),b=i?{}:{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onKeyboardFocus:this.handleKeyboardFocus},T=u&&w.default.createElement("span",{style:m((0,x.default)(v.label,p))},u),M=s&&(0,_.cloneElement)(s,{color:s.props.color||v.label.color,style:(0,x.default)(v.icon,s.props.style)}),S="before"===c?{labelElement:T,iconCloned:M,children:r}:{children:r,iconCloned:M,labelElement:T},k=(0,E.createChildFragment)(S);return w.default.createElement(P.default,{className:n,style:(0,x.default)(v.root,d),zDepth:this.state.zDepth},w.default.createElement(C.default,(0,a.default)({},y,b,{ref:"container",disabled:i,style:(0,x.default)(v.button,e),focusRippleColor:g.color,touchRippleColor:g.color,focusRippleOpacity:g.opacity,touchRippleOpacity:g.opacity}),w.default.createElement("div",{ref:"overlay",style:m((0,x.default)(v.overlay,f))},k)))}}]),e}(_.Component);L.muiName="RaisedButton",L.defaultProps={disabled:!1,labelPosition:"after",fullWidth:!1,primary:!1,secondary:!1},L.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=L},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=.1*t.size;return{root:{position:"absolute",zIndex:2,width:t.size,height:t.size,padding:e,top:-1e4,left:-1e4,transform:"translate("+(1e4+t.left)+"px, "+(1e4+t.top)+"px)",opacity:"hide"===t.status?0:1,transition:"hide"===t.status?C.default.create("all",".3s","ease-out"):"none"}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(6),a=n(i),s=r(214),l=n(s),u=r(5),c=n(u),p=r(8),f=n(p),h=r(2),d=n(h),y=r(7),m=n(y),v=r(4),g=n(v),b=r(3),x=n(b),_=r(10),w=n(_),T=r(1),M=n(T),S=r(110),E=n(S),k=r(17),C=n(k),A=r(25),P=n(A),L=32,D=function(t){function e(){return(0,d.default)(this,e),(0,g.default)(this,(e.__proto__||(0,f.default)(e)).apply(this,arguments))}return(0,x.default)(e,t),(0,m.default)(e,[{key:"componentDidMount",value:function(){this.scalePath(this.refs.path,0),this.rotateWrapper(this.refs.wrapper)}},{key:"componentDidUpdate",value:function(){clearTimeout(this.scalePathTimer),clearTimeout(this.rotateWrapperTimer),clearTimeout(this.rotateWrapperSecondTimer),this.scalePath(this.refs.path,0),this.rotateWrapper(this.refs.wrapper)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.scalePathTimer),clearTimeout(this.rotateWrapperTimer),clearTimeout(this.rotateWrapperSecondTimer)}},{key:"renderChildren",value:function(){var t=this.context.muiTheme.prepareStyles,e=this.getPaperSize(),r=null;if("ready"!==this.props.status){var n=this.getCircleStyle(e);r=M.default.createElement("div",{ref:"wrapper",style:t({transition:C.default.create("transform","20s",null,"linear"),width:"100%",height:"100%"})},M.default.createElement("svg",{style:{width:e,height:e},viewBox:"0 0 "+L+" "+L},M.default.createElement("circle",(0,c.default)({ref:"path",style:t((0,w.default)(n.style,{transition:C.default.create("all","1.5s",null,"ease-in-out")}))},n.attr))))}else{var o=this.getCircleStyle(e),i=this.getPolygonStyle(e);r=M.default.createElement("svg",{style:{width:e,height:e},viewBox:"0 0 "+L+" "+L},M.default.createElement("circle",(0,c.default)({style:t(o.style)},o.attr)),M.default.createElement("polygon",(0,c.default)({style:t(i.style)},i.attr)))}return r}},{key:"getTheme",value:function(){return this.context.muiTheme.refreshIndicator}},{key:"getPaddingSize",value:function(){var t=.1*this.props.size;return t}},{key:"getPaperSize",value:function(){return this.props.size-2*this.getPaddingSize()}},{key:"getCircleAttr",value:function(){return{radiu:L/2-5,originX:L/2,originY:L/2,strokeWidth:3}}},{key:"getArcDeg",value:function(){var t=this.props.percentage/100,e=120*t,r=410*t;return[e,r]}},{key:"getFactor",value:function(){var t=this.props.percentage/100,e=Math.min(1,t/.4);return e}},{key:"getCircleStyle",value:function(){var t="loading"===this.props.status,e=t?1:this.getFactor(),r=this.getCircleAttr(),n=2*Math.PI*r.radiu,o=this.getArcDeg(),i=(0,l.default)(o,2),a=i[0],s=i[1],u=(s-a)*n/360,c=-a*n/360,p=this.getTheme();return{style:{strokeDasharray:u+", "+(n-u),strokeDashoffset:c,stroke:t||100===this.props.percentage?this.props.loadingColor||p.loadingStrokeColor:this.props.color||p.strokeColor,strokeLinecap:"round",opacity:e,strokeWidth:r.strokeWidth*e,fill:"none"},attr:{cx:r.originX,cy:r.originY,r:r.radiu}}}},{key:"getPolygonStyle",value:function(){var t=this.getFactor(),e=this.getCircleAttr(),r=e.originX+e.radiu,n=e.originY,o=7*e.strokeWidth/4*t,i=r-o+","+n+" "+(r+o)+","+n+" "+r+","+(n+o),a=this.getArcDeg(),s=(0,l.default)(a,2),u=s[1],c=this.getTheme();return{style:{fill:100===this.props.percentage?this.props.loadingColor||c.loadingStrokeColor:this.props.color||c.strokeColor,transform:"rotate("+u+"deg)",transformOrigin:e.originX+"px "+e.originY+"px",opacity:t},attr:{points:i}}}},{key:"scalePath",value:function(t,e){var r=this;if("loading"===this.props.status){var n=(e||0)%3,o=this.getCircleAttr(),i=2*Math.PI*o.radiu,a=.64*i,s=void 0,l=void 0,u=void 0;0===n?(s="1, 200",l=0,u="0ms"):1===n?(s=a+", 200",l=-15,u="750ms"):(s=a+", 200",l=-(i-1),u="850ms"),E.default.set(t.style,"strokeDasharray",s),E.default.set(t.style,"strokeDashoffset",l),E.default.set(t.style,"transitionDuration",u),this.scalePathTimer=setTimeout(function(){return r.scalePath(t,n+1)},n?750:250)}}},{key:"rotateWrapper",value:function(t){var e=this;"loading"===this.props.status&&(E.default.set(t.style,"transform",null),E.default.set(t.style,"transform","rotate(0deg)"),E.default.set(t.style,"transitionDuration","0ms"),this.rotateWrapperSecondTimer=setTimeout(function(){E.default.set(t.style,"transform","rotate(1800deg)"),E.default.set(t.style,"transitionDuration","10s"),E.default.set(t.style,"transitionTimingFunction","linear")},50),this.rotateWrapperTimer=setTimeout(function(){return e.rotateWrapper(t)},10050))}},{key:"render",value:function(){var t=this.props,e=t.style,r=(t.top,t.left,t.percentage,t.status,t.loadingColor,(0,a.default)(t,["style","top","left","percentage","status","loadingColor"])),n=o(this.props,this.context);return M.default.createElement(P.default,(0,c.default)({circle:!0,style:(0,w.default)(n.root,e)},r),this.renderChildren())}}]),e}(T.Component);D.defaultProps={percentage:0,size:40,status:"hide"},D.contextTypes={muiTheme:T.PropTypes.object.isRequired},e.default=D},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){return{label:{paddingLeft:0,top:t.floatingLabelText?6:-4},icon:{right:0,top:t.floatingLabelText?8:0},hideDropDownUnderline:{borderTop:"none"},dropDownMenu:{display:"block"}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=r(109),M=n(T),S=r(393),E=n(S),k=function(t){function e(){return(0,f.default)(this,e),(0,m.default)(this,(e.__proto__||(0,c.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){var t=this.props,e=t.autoWidth,r=t.children,n=t.style,i=t.labelStyle,s=t.iconStyle,u=t.id,c=t.underlineDisabledStyle,p=t.underlineFocusStyle,f=t.menuItemStyle,h=t.selectedMenuItemStyle,d=t.underlineStyle,y=t.errorStyle,m=t.disabled,v=t.floatingLabelFixed,g=t.floatingLabelText,b=t.floatingLabelStyle,_=t.hintStyle,T=t.hintText,S=t.fullWidth,k=t.errorText,C=t.listStyle,A=t.maxHeight,P=t.menuStyle,L=t.onFocus,D=t.onBlur,O=t.onChange,I=t.value,R=(0,l.default)(t,["autoWidth","children","style","labelStyle","iconStyle","id","underlineDisabledStyle","underlineFocusStyle","menuItemStyle","selectedMenuItemStyle","underlineStyle","errorStyle","disabled","floatingLabelFixed","floatingLabelText","floatingLabelStyle","hintStyle","hintText","fullWidth","errorText","listStyle","maxHeight","menuStyle","onFocus","onBlur","onChange","value"]),N=o(this.props,this.context);return w.default.createElement(M.default,(0,a.default)({},R,{style:n,disabled:m,floatingLabelFixed:v,floatingLabelText:g,floatingLabelStyle:b,hintStyle:_,hintText:T||g?T:" ",fullWidth:S,errorText:k,underlineStyle:d,errorStyle:y,onFocus:L,onBlur:D,id:u,underlineDisabledStyle:c,underlineFocusStyle:p}),w.default.createElement(E.default,{disabled:m,style:(0,x.default)(N.dropDownMenu,P),labelStyle:(0,x.default)(N.label,i),iconStyle:(0,x.default)(N.icon,s),menuItemStyle:f,selectedMenuItemStyle:h,underlineStyle:N.hideDropDownUnderline,listStyle:C,autoWidth:e,value:I,onChange:O,maxHeight:A},r))}}]),e}(_.Component);k.defaultProps={autoWidth:!1,disabled:!1,fullWidth:!1},k.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=k},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){var n=(t-e)/(r-e);return isNaN(n)&&(n=0),n}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(79),x=n(b),_=r(10),w=n(_),T=r(1),M=n(T),S=r(39),E=n(S),k=r(43),C=(n(k),r(17)),A=n(C),P=r(275),L=n(P),D=r(1036),O=(n(D),{x:"height","x-reverse":"height",y:"width","y-reverse":"width"}),I={x:"top","x-reverse":"top",y:"left","y-reverse":"left"},R={x:"width","x-reverse":"width",y:"height","y-reverse":"height"},N={x:"marginRight","x-reverse":"marginLeft",y:"marginTop","y-reverse":"marginBottom"},j={x:"marginLeft","x-reverse":"marginRight",y:"marginBottom","y-reverse":"marginTop"},F={x:"left","x-reverse":"right",y:"bottom","y-reverse":"top"},z={x:"clientWidth","x-reverse":"clientWidth",y:"clientHeight","y-reverse":"clientHeight"},B={x:"clientX","x-reverse":"clientX",y:"clientY","y-reverse":"clientY"},U={x:"right","x-reverse":"left",y:"top","y-reverse":"bottom"},V=function(t){return"x-reverse"===t||"y"===t},H=function(t,e,r){var n,i,a,s,l,u,c=t.axis,p=t.disabled,f=t.max,h=t.min,d=e.muiTheme.slider,y=d.handleColorZero,m=d.handleFillColor,v=d.handleSize,g=d.handleSizeDisabled,b=d.handleSizeActive,_=d.trackSize,T=d.trackColor,M=d.trackColorSelected,S=d.rippleColor,E=d.selectionColor,k=v/2,C=_+g/2,P=p?" - "+C+"px":"",L=o(r.value,h,f),D={slider:(n={touchCallout:"none",userSelect:"none",cursor:"default"},(0,x.default)(n,O[c],b),(0,x.default)(n,R[c],"100%"),(0,x.default)(n,"position","relative"),(0,x.default)(n,"marginTop",24),(0,x.default)(n,"marginBottom",48),n),track:(i={position:"absolute"},(0,x.default)(i,I[c],(b-_)/2),(0,x.default)(i,F[c],0),(0,x.default)(i,R[c],"100%"),(0,x.default)(i,O[c],_),i),filledAndRemaining:(a={position:"absolute"},(0,x.default)(a,I,0),(0,x.default)(a,O[c],"100%"),(0,x.default)(a,"transition",A.default.easeOut(null,"margin")),a),handle:(s={boxSizing:"border-box",position:"absolute",cursor:"pointer",pointerEvents:"inherit"},(0,x.default)(s,I[c],0),(0,x.default)(s,F[c],0===L?"0%":100*L+"%"),(0,x.default)(s,"zIndex",1),(0,x.default)(s,"margin",{x:_/2+"px 0 0 0","x-reverse":_/2+"px 0 0 0",y:"0 0 0 "+_/2+"px","y-reverse":"0 0 0 "+_/2+"px"}[c]),(0,x.default)(s,"width",v),(0,x.default)(s,"height",v),(0,x.default)(s,"backgroundColor",E),(0,x.default)(s,"backgroundClip","padding-box"),(0,x.default)(s,"border","0px solid transparent"),(0,x.default)(s,"borderRadius","50%"),(0,x.default)(s,"transform",{x:"translate(-50%, -50%)","x-reverse":"translate(50%, -50%)",y:"translate(-50%, 50%)","y-reverse":"translate(-50%, -50%)"}[c]),(0,x.default)(s,"transition",A.default.easeOut("450ms","background")+", "+A.default.easeOut("450ms","border-color")+", "+A.default.easeOut("450ms","width")+", "+A.default.easeOut("450ms","height")),(0,x.default)(s,"overflow","visible"),(0,x.default)(s,"outline","none"),s),handleWhenDisabled:{boxSizing:"content-box",cursor:"not-allowed",backgroundColor:T,width:g,height:g,border:"none"},handleWhenPercentZero:{border:_+"px solid "+y,backgroundColor:m,boxShadow:"none"},handleWhenPercentZeroAndDisabled:{cursor:"not-allowed",width:g,height:g},handleWhenPercentZeroAndFocused:{border:_+"px solid "+M},handleWhenActive:{width:b,height:b},ripple:{height:v,width:v,overflow:"visible"},rippleWhenPercentZero:{top:-_,left:-_},rippleInner:{height:"300%",width:"300%",top:-v,left:-v},rippleColor:{fill:0===L?y:S}};return D.filled=(0,w.default)({},D.filledAndRemaining,(l={},(0,x.default)(l,F[c],0),(0,x.default)(l,"backgroundColor",p?T:E),(0,x.default)(l,N[c],k),(0,x.default)(l,R[c],"calc("+100*L+"%"+P+")"),l)),D.remaining=(0,w.default)({},D.filledAndRemaining,(u={},(0,x.default)(u,U[c],0),(0,x.default)(u,"backgroundColor",!r.hovered&&!r.focused||p?T:M),(0,x.default)(u,j[c],k),(0,x.default)(u,R[c],"calc("+100*(1-L)+"%"+P+")"),u)),D},W=function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.state={active:!1,dragging:!1,focused:!1,hovered:!1,value:0},n.track=null,n.handle=null,n.handleKeyDown=function(t){var e=n.props,r=e.axis,o=e.min,i=e.max,a=e.step,s=void 0;switch((0,E.default)(t)){case"page down":case"down":s="y-reverse"===r?"increase":"decrease";break;case"left":s="x-reverse"===r?"increase":"decrease";break;case"page up":case"up":s="y-reverse"===r?"decrease":"increase";break;case"right":s="x-reverse"===r?"decrease":"increase";break;case"home":s="min";break;case"end":s="max"}if(s){var l=void 0;switch(t.preventDefault(),s){case"decrease":l=n.state.value-a;break;case"increase":l=n.state.value+a;break;case"min":l=o;break;case"max":l=i}l=parseFloat(l.toFixed(5)),l>i?l=i:l<o&&(l=o),n.state.value!==l&&(n.setState({value:l}),n.props.onChange&&n.props.onChange(t,l))}},n.handleDragMouseMove=function(t){n.onDragUpdate(t,"mouse")},n.handleTouchMove=function(t){n.onDragUpdate(t,"touch")},n.handleMouseEnd=function(t){document.removeEventListener("mousemove",n.handleDragMouseMove),document.removeEventListener("mouseup",n.handleMouseEnd),n.onDragStop(t)},n.handleTouchEnd=function(t){document.removeEventListener("touchmove",n.handleTouchMove),document.removeEventListener("touchup",n.handleTouchEnd),document.removeEventListener("touchend",n.handleTouchEnd),document.removeEventListener("touchcancel",n.handleTouchEnd),n.onDragStop(t)},n.handleTouchStart=function(t){if(!n.props.disabled){var e=void 0;e=V(n.props.axis)?n.getTrackOffset()-t.touches[0][B[n.props.axis]]:t.touches[0][B[n.props.axis]]-n.getTrackOffset(),n.setValueFromPosition(t,e),document.addEventListener("touchmove",n.handleTouchMove),document.addEventListener("touchup",n.handleTouchEnd),document.addEventListener("touchend",n.handleTouchEnd),document.addEventListener("touchcancel",n.handleTouchEnd),n.onDragStart(t),t.preventDefault()}},n.handleFocus=function(t){n.setState({focused:!0}),n.props.onFocus&&n.props.onFocus(t)},n.handleBlur=function(t){n.setState({focused:!1,active:!1}),n.props.onBlur&&n.props.onBlur(t)},n.handleMouseDown=function(t){if(!n.props.disabled){var e=void 0;e=V(n.props.axis)?n.getTrackOffset()-t[B[n.props.axis]]:t[B[n.props.axis]]-n.getTrackOffset(),n.setValueFromPosition(t,e),document.addEventListener("mousemove",n.handleDragMouseMove),document.addEventListener("mouseup",n.handleMouseEnd),t.preventDefault(),n.handle.focus(),n.onDragStart(t)}},n.handleMouseUp=function(){n.props.disabled||n.setState({active:!1})},n.handleMouseEnter=function(){n.setState({hovered:!0})},n.handleMouseLeave=function(){n.setState({hovered:!1})},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"componentWillMount",value:function(){var t=this.props,e=t.value,r=t.defaultValue,n=t.min,o=t.max,i=e;void 0===i&&(i=void 0!==r?r:n),i>o?i=o:i<n&&(i=n),this.setState({value:i})}},{key:"componentWillReceiveProps",value:function(t){void 0===t.value||this.state.dragging||this.setState({value:t.value})}},{key:"getValue",value:function(){return this.state.value}},{key:"clearValue",value:function(){this.setState({value:this.props.min})}},{key:"getTrackOffset",value:function(){return this.track.getBoundingClientRect()[F[this.props.axis]]}},{key:"onDragStart",value:function(t){this.setState({dragging:!0,active:!0}),this.props.onDragStart&&this.props.onDragStart(t)}},{key:"onDragUpdate",value:function(t,e){var r=this;this.dragRunning||(this.dragRunning=!0,requestAnimationFrame(function(){r.dragRunning=!1;var n="touch"===e?t.touches[0]:t,o=void 0;o=V(r.props.axis)?r.getTrackOffset()-n[B[r.props.axis]]:n[B[r.props.axis]]-r.getTrackOffset(),r.props.disabled||r.setValueFromPosition(t,o)}))}},{key:"onDragStop",value:function(t){this.setState({dragging:!1,active:!1}),this.props.onDragStop&&this.props.onDragStop(t)}},{key:"setValueFromPosition",value:function(t,e){var r=this.track[z[this.props.axis]];e<0?e=0:e>r&&(e=r);var n=this.props,o=n.step,i=n.min,a=n.max,s=void 0;s=e/r*(a-i),s=Math.round(s/o)*o+i,s=parseFloat(s.toFixed(5)),s>a?s=a:s<i&&(s=i),this.state.value!==s&&(this.setState({value:s}),this.props.onChange&&this.props.onChange(t,s))}},{key:"render",value:function(){var t=this,e=this.props,r=(e.axis,e.description),n=e.disabled,i=e.disableFocusRipple,s=e.error,u=e.max,c=e.min,p=e.name,f=(e.onBlur,e.onChange,e.onDragStart,e.onDragStop,e.onFocus,e.required),h=e.sliderStyle,d=e.step,y=e.style,m=(0,l.default)(e,["axis","description","disabled","disableFocusRipple","error","max","min","name","onBlur","onChange","onDragStart","onDragStop","onFocus","required","sliderStyle","step","style"]),v=this.state,g=v.active,b=v.focused,x=v.hovered,_=v.value,T=this.context.muiTheme.prepareStyles,S=H(this.props,this.context,this.state),E=o(_,c,u),k={};k=0===E?(0,w.default)({},S.handle,S.handleWhenPercentZero,g&&S.handleWhenActive,(x||b)&&!n&&S.handleWhenPercentZeroAndFocused,n&&S.handleWhenPercentZeroAndDisabled):(0,w.default)({},S.handle,g&&S.handleWhenActive,n&&S.handleWhenDisabled);var C=(0,w.default)({},S.ripple,0===E&&S.rippleWhenPercentZero);return M.default.createElement("div",(0,a.default)({},m,{style:T((0,w.default)({},y))}),M.default.createElement("span",null,r),M.default.createElement("span",null,s),M.default.createElement("div",{style:T((0,w.default)({},S.slider,h)),onFocus:this.handleFocus,onBlur:this.handleBlur,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart,onKeyDown:!n&&this.handleKeyDown},M.default.createElement("div",{ref:function(e){return t.track=e},style:T(S.track)},M.default.createElement("div",{style:T(S.filled)}),M.default.createElement("div",{style:T(S.remaining)}),M.default.createElement("div",{ref:function(e){return t.handle=e},style:T(k),tabIndex:0},!n&&!i&&M.default.createElement(L.default,{style:C,innerStyle:S.rippleInner,show:(x||b)&&!g,color:S.rippleColor.fill})))),M.default.createElement("input",{type:"hidden",name:p,value:_,required:f,min:c,max:u,step:d}))}}]),e}(T.Component);W.defaultProps={axis:"x",disabled:!1,disableFocusRipple:!1,max:1,min:0,required:!0,step:.01,style:{}},W.contextTypes={muiTheme:T.PropTypes.object.isRequired},e.default=W},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){var n=e.muiTheme,o=n.baseTheme.spacing.desktopSubheaderHeight,i=n.zIndex,a=r.open,s={root:{position:"fixed",left:"50%",display:"flex",bottom:0,zIndex:i.snackbar,visibility:a?"visible":"hidden",transform:a?"translate(-50%, 0)":"translate(-50%, "+o+"px)",transition:M.default.easeOut("400ms","transform")+", "+M.default.easeOut("400ms","visibility")}};return s}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=r(17),M=n(T),S=r(273),E=n(S),k=r(958),C=n(k),A=function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.componentClickAway=function(){n.timerTransitionId||(null!==n.props.open&&n.props.onRequestClose?n.props.onRequestClose("clickaway"):n.setState({open:!1}))},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"componentWillMount",value:function(){this.setState({open:this.props.open,message:this.props.message,action:this.props.action})}},{key:"componentDidMount",value:function(){this.state.open&&(this.setAutoHideTimer(),this.setTransitionTimer())}},{key:"componentWillReceiveProps",value:function(t){var e=this;if(this.props.open&&t.open&&(t.message!==this.props.message||t.action!==this.props.action))this.setState({open:!1}),clearTimeout(this.timerOneAtTheTimeId),this.timerOneAtTheTimeId=setTimeout(function(){e.setState({message:t.message,action:t.action,open:!0})},400);else{var r=t.open;this.setState({open:null!==r?r:this.state.open,message:t.message,action:t.action})}}},{key:"componentDidUpdate",value:function(t,e){e.open!==this.state.open&&(this.state.open?(this.setAutoHideTimer(),this.setTransitionTimer()):clearTimeout(this.timerAutoHideId))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerAutoHideId),clearTimeout(this.timerTransitionId),clearTimeout(this.timerOneAtTheTimeId)}},{key:"setAutoHideTimer",value:function(){var t=this,e=this.props.autoHideDuration;e>0&&(clearTimeout(this.timerAutoHideId),this.timerAutoHideId=setTimeout(function(){null!==t.props.open&&t.props.onRequestClose?t.props.onRequestClose("timeout"):t.setState({open:!1})},e))}},{key:"setTransitionTimer",value:function(){var t=this;this.timerTransitionId=setTimeout(function(){t.timerTransitionId=void 0},400)}},{key:"render",value:function(){var t=this.props,e=(t.autoHideDuration,t.contentStyle),r=t.bodyStyle,n=(t.message,t.onRequestClose,t.onActionTouchTap),i=t.style,s=(0,l.default)(t,["autoHideDuration","contentStyle","bodyStyle","message","onRequestClose","onActionTouchTap","style"]),u=this.state,c=u.action,p=u.message,f=u.open,h=this.context.muiTheme.prepareStyles,d=o(this.props,this.context,this.state);return w.default.createElement(E.default,{onClickAway:f?this.componentClickAway:null},w.default.createElement("div",(0,a.default)({},s,{style:h((0,x.default)(d.root,i))}),w.default.createElement(C.default,{action:c,contentStyle:e,message:p,open:f,onActionTouchTap:n,style:r})))}}]),e}(_.Component);A.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=A},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=t.open,n=t.width,o=e.muiTheme,i=o.baseTheme,a=i.spacing,s=a.desktopGutter,l=a.desktopSubheaderHeight,u=i.fontFamily,c=o.snackbar,p=c.backgroundColor,f=c.textColor,h=c.actionColor,m=n===y.SMALL,v={root:{fontFamily:u,backgroundColor:p,padding:"0 "+s+"px",height:l,lineHeight:l+"px",borderRadius:m?0:2,maxWidth:m?"inherit":568,minWidth:m?"inherit":288,width:m?"calc(100vw - "+2*s+"px)":"auto",flexGrow:m?1:0},content:{fontSize:14,color:f,opacity:r?1:0,transition:r?d.default.easeOut("500ms","opacity","100ms"):d.default.easeOut("400ms","opacity")},action:{color:h,float:"right",marginTop:6,marginRight:-16,marginLeft:s,backgroundColor:"transparent"}};return v}Object.defineProperty(e,"__esModule",{value:!0}),e.SnackbarBody=void 0;var i=r(5),a=n(i),s=r(6),l=n(s),u=r(10),c=n(u),p=r(1),f=n(p),h=r(17),d=n(h),y=r(1039),m=n(y),v=r(185),g=n(v),b=e.SnackbarBody=function(t,e){var r=t.action,n=t.contentStyle,i=t.message,s=(t.open,t.onActionTouchTap),u=t.style,p=(0,l.default)(t,["action","contentStyle","message","open","onActionTouchTap","style"]),h=e.muiTheme.prepareStyles,d=o(t,e),y=r&&f.default.createElement(g.default,{style:d.action,label:r,onTouchTap:s});return f.default.createElement("div",(0,a.default)({},p,{style:h((0,c.default)(d.root,u))}),f.default.createElement("div",{style:h((0,c.default)(d.content,n))},f.default.createElement("span",null,i),y))};b.contextTypes={muiTheme:p.PropTypes.object.isRequired},e.default=(0,m.default)()(b)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(957),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.PlainStepConnector=void 0;var o=r(1),i=n(o),a=r(14),s=n(a),l=({style:o.PropTypes.object},{muiTheme:o.PropTypes.object.isRequired,stepper:o.PropTypes.object}),u=function(t,e){var r=e.muiTheme,n=e.stepper,o={wrapper:{flex:"1 1 auto"},line:{display:"block",borderColor:r.stepper.connectorLineColor}};"horizontal"===n.orientation?(o.line.marginLeft=-6,o.line.borderTopStyle="solid",o.line.borderTopWidth=1):"vertical"===n.orientation&&(o.wrapper.marginLeft=25,o.line.borderLeftStyle="solid",o.line.borderLeftWidth=1,o.line.minHeight=28);var a=r.prepareStyles;return i.default.createElement("div",{style:a(o.wrapper)},i.default.createElement("span",{style:a(o.line)}))};u.contextTypes=l,e.PlainStepConnector=u,e.default=(0,s.default)(u)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Stepper=e.StepLabel=e.StepContent=e.StepButton=e.Step=void 0;var o=r(400),i=n(o),a=r(401),s=n(a),l=r(402),u=n(l),c=r(271),p=n(c),f=r(403),h=n(f);e.Step=i.default,e.StepButton=s.default,e.StepContent=u.default,e.StepLabel=p.default,e.Stepper=h.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(6),s=n(a),l=r(10),u=n(l),c=r(1),p=n(c),f=function(t,e){var r=t.children,n=t.inset,o=t.style,a=(0,s.default)(t,["children","inset","style"]),l=e.muiTheme,c=l.prepareStyles,f=l.subheader,h={root:{boxSizing:"border-box",color:f.color,fontSize:14,fontWeight:f.fontWeight,lineHeight:"48px",paddingLeft:n?72:16,width:"100%"}};return p.default.createElement("div",(0,i.default)({},a,{style:c((0,u.default)(h.root,o))}),r)};f.muiName="Subheader",f.defaultProps={inset:!1},f.contextTypes={muiTheme:c.PropTypes.object.isRequired},e.default=f},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(6),s=n(a),l=r(8),u=n(l),c=r(2),p=n(c),f=r(7),h=n(f),d=r(4),y=n(d),m=r(3),v=n(m),g=r(10),b=n(g),x=r(1),_=n(x),w=r(17),T=n(w),M=function(t){function e(){var t,r,n,o;(0,p.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,y.default)(this,(t=e.__proto__||(0,u.default)(e)).call.apply(t,[this].concat(a))),n.state={hovered:!1},n.handleMouseLeave=function(t){n.setState({hovered:!1}),n.props.onMouseLeave(t)},n.handleMouseEnter=function(t){n.setState({hovered:!0}),n.props.onMouseEnter(t)},o=r,(0,y.default)(n,o)}return(0,v.default)(e,t),(0,h.default)(e,[{key:"render",value:function(){var t=this.props,e=t.children,r=t.color,n=t.hoverColor,o=(t.onMouseEnter,t.onMouseLeave,t.style),a=t.viewBox,l=(0,s.default)(t,["children","color","hoverColor","onMouseEnter","onMouseLeave","style","viewBox"]),u=this.context.muiTheme,c=u.svgIcon,p=u.prepareStyles,f=r?r:"currentColor",h=n?n:f,d=(0,b.default)({display:"inline-block",color:c.color,fill:this.state.hovered?h:f,height:24,width:24,userSelect:"none",transition:T.default.easeOut()},o);return _.default.createElement("svg",(0,i.default)({},l,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,style:p(d),viewBox:a}),e)}}]),e}(x.Component);M.muiName="SvgIcon",M.defaultProps={onMouseEnter:function(){},onMouseLeave:function(){},viewBox:"0 0 24 24"},M.contextTypes={muiTheme:x.PropTypes.object.isRequired},e.default=M},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.muiTheme,n=r.baseTheme,o=r.table;return{root:{backgroundColor:o.backgroundColor,width:"100%",borderCollapse:"collapse",borderSpacing:0,tableLayout:"fixed",fontFamily:n.fontFamily},bodyTable:{height:t.fixedHeader||t.fixedFooter?t.height:"auto",overflowX:"hidden",overflowY:"auto"},tableWrapper:{height:t.fixedHeader||t.fixedFooter?"auto":t.height,overflow:"auto"}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(8),a=n(i),s=r(2),l=n(s),u=r(7),c=n(u),p=r(4),f=n(p),h=r(3),d=n(h),y=r(10),m=n(y),v=r(1),g=n(v),b=r(43),x=(n(b),function(t){function e(){var t,r,n,o;(0,l.default)(this,e);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return r=n=(0,f.default)(this,(t=e.__proto__||(0,a.default)(e)).call.apply(t,[this].concat(s))),n.state={allRowsSelected:!1},n.onCellClick=function(t,e,r){n.props.onCellClick&&n.props.onCellClick(t,e,r)},n.onCellHover=function(t,e,r){n.props.onCellHover&&n.props.onCellHover(t,e,r)},n.onCellHoverExit=function(t,e,r){n.props.onCellHoverExit&&n.props.onCellHoverExit(t,e,r)},n.onRowHover=function(t){n.props.onRowHover&&n.props.onRowHover(t)},n.onRowHoverExit=function(t){n.props.onRowHoverExit&&n.props.onRowHoverExit(t)},n.onRowSelection=function(t){n.state.allRowsSelected&&n.setState({allRowsSelected:!1}),n.props.onRowSelection&&n.props.onRowSelection(t)},n.onSelectAll=function(){n.props.onRowSelection&&(n.state.allRowsSelected?n.props.onRowSelection("none"):n.props.onRowSelection("all")),n.setState({allRowsSelected:!n.state.allRowsSelected})},o=r,(0,f.default)(n,o)}return(0,d.default)(e,t),(0,c.default)(e,[{key:"componentWillMount",value:function(){this.props.allRowsSelected&&this.setState({allRowsSelected:!0})}},{key:"isScrollbarVisible",value:function(){var t=this.refs.tableDiv.clientHeight,e=this.refs.tableBody.clientHeight;return e>t}},{
key:"createTableHeader",value:function(t){return g.default.cloneElement(t,{enableSelectAll:t.props.enableSelectAll&&this.props.selectable&&this.props.multiSelectable,onSelectAll:this.onSelectAll,selectAllSelected:this.state.allRowsSelected})}},{key:"createTableBody",value:function(t){return g.default.cloneElement(t,{allRowsSelected:this.state.allRowsSelected,multiSelectable:this.props.multiSelectable,onCellClick:this.onCellClick,onCellHover:this.onCellHover,onCellHoverExit:this.onCellHoverExit,onRowHover:this.onRowHover,onRowHoverExit:this.onRowHoverExit,onRowSelection:this.onRowSelection,selectable:this.props.selectable,style:(0,m.default)({height:this.props.height},t.props.style)})}},{key:"createTableFooter",value:function(t){return t}},{key:"render",value:function(){var t=this,e=this.props,r=e.children,n=e.className,i=e.fixedFooter,a=e.fixedHeader,s=e.style,l=e.wrapperStyle,u=e.headerStyle,c=e.bodyStyle,p=e.footerStyle,f=this.context.muiTheme.prepareStyles,h=o(this.props,this.context),d=void 0,y=void 0,v=void 0;if(g.default.Children.forEach(r,function(e){if(g.default.isValidElement(e)){var r=e.type.muiName;"TableBody"===r?v=t.createTableBody(e):"TableHeader"===r?d=t.createTableHeader(e):"TableFooter"===r&&(y=t.createTableFooter(e))}}),!v&&!d)return null;var b=(0,m.default)(h.root,s),x=void 0,_=void 0,w=void 0,T=void 0;return a?x=g.default.createElement("div",{style:f((0,m.default)({},u))},g.default.createElement("table",{className:n,style:b},d)):w=d,void 0!==y&&(i?_=g.default.createElement("div",{style:f((0,m.default)({},p))},g.default.createElement("table",{className:n,style:f(b)},y)):T=y),g.default.createElement("div",{style:f((0,m.default)(h.tableWrapper,l))},x,g.default.createElement("div",{style:f((0,m.default)(h.bodyTable,c)),ref:"tableDiv"},g.default.createElement("table",{className:n,style:b,ref:"tableBody"},w,T,v)),_)}}]),e}(v.Component));x.defaultProps={allRowsSelected:!1,fixedFooter:!0,fixedHeader:!0,height:"inherit",multiSelectable:!1,selectable:!0},x.contextTypes={muiTheme:v.PropTypes.object.isRequired},e.default=x},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.muiTheme.inkBar;return{root:{left:t.left,width:t.width,bottom:0,display:"block",backgroundColor:t.color||r.backgroundColor,height:2,marginTop:-2,position:"relative",transition:x.default.easeOut("1s","left")}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(8),a=n(i),s=r(2),l=n(s),u=r(7),c=n(u),p=r(4),f=n(p),h=r(3),d=n(h),y=r(10),m=n(y),v=r(1),g=n(v),b=r(17),x=n(b),_=function(t){function e(){return(0,l.default)(this,e),(0,f.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,d.default)(e,t),(0,c.default)(e,[{key:"render",value:function(){var t=this.props.style,e=this.context.muiTheme.prepareStyles,r=o(this.props,this.context);return g.default.createElement("div",{style:e((0,m.default)(r.root,t))})}}]),e}(v.Component);_.contextTypes={muiTheme:v.PropTypes.object.isRequired},e.default=_},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(10),i=n(o),a=r(1),s=n(a),l={width:"100%",position:"relative",textAlign:"initial"},u=function(t){var e=t.children,r=t.selected,n=t.style,o=(0,i.default)({},l,n);return r||(o.height=0,o.overflow="hidden"),s.default.createElement("div",{style:o},e)};e.default=u},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.muiTheme.tabs;return{tabItemContainer:{width:"100%",backgroundColor:r.backgroundColor,whiteSpace:"nowrap",display:"flex"}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=r(43),M=(n(T),r(966)),S=n(M),E=r(965),k=n(E),C=function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.state={selectedIndex:0},n.handleTabTouchTap=function(t,e,r){var o=n.getValueLink(n.props),i=r.props.index;(o.value&&o.value!==t||n.state.selectedIndex!==i)&&o.requestChange(t,e,r),n.setState({selectedIndex:i}),r.props.onActive&&r.props.onActive(r)},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"componentWillMount",value:function(){var t=this.getValueLink(this.props),e=this.props.initialSelectedIndex;this.setState({selectedIndex:void 0!==t.value?this.getSelectedIndex(this.props):e<this.getTabCount()?e:0})}},{key:"componentWillReceiveProps",value:function(t,e){var r=this.getValueLink(t),n={muiTheme:e.muiTheme||this.context.muiTheme};void 0!==r.value&&(n.selectedIndex=this.getSelectedIndex(t)),this.setState(n)}},{key:"getTabs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,e=[];return _.Children.forEach(t.children,function(t){(0,_.isValidElement)(t)&&e.push(t)}),e}},{key:"getTabCount",value:function(){return this.getTabs().length}},{key:"getValueLink",value:function(t){return t.valueLink||{value:t.value,requestChange:t.onChange}}},{key:"getSelectedIndex",value:function(t){var e=this.getValueLink(t),r=-1;return this.getTabs(t).forEach(function(t,n){e.value===t.props.value&&(r=n)}),r}},{key:"getSelected",value:function(t,e){var r=this.getValueLink(this.props);return r.value?r.value===t.props.value:this.state.selectedIndex===e}},{key:"render",value:function(){var t=this,e=this.props,r=e.contentContainerClassName,n=e.contentContainerStyle,i=(e.initialSelectedIndex,e.inkBarStyle),s=(e.onChange,e.style),u=e.tabItemContainerStyle,c=e.tabTemplate,p=e.tabTemplateStyle,f=(0,l.default)(e,["contentContainerClassName","contentContainerStyle","initialSelectedIndex","inkBarStyle","onChange","style","tabItemContainerStyle","tabTemplate","tabTemplateStyle"]),h=this.context.muiTheme.prepareStyles,d=o(this.props,this.context),y=this.getValueLink(this.props),m=(y.value,[]),v=100/this.getTabCount(),g=this.getTabs().map(function(e,r){return m.push(e.props.children?(0,_.createElement)(c||S.default,{key:r,selected:t.getSelected(e,r),style:p},e.props.children):void 0),(0,_.cloneElement)(e,{key:r,index:r,selected:t.getSelected(e,r),width:v+"%",onTouchTap:t.handleTabTouchTap})}),b=this.state.selectedIndex!==-1?w.default.createElement(k.default,{left:v*this.state.selectedIndex+"%",width:v+"%",style:i}):null,T=u?u.width:"100%";return w.default.createElement("div",(0,a.default)({style:h((0,x.default)({},s))},f),w.default.createElement("div",{style:h((0,x.default)(d.tabItemContainer,u))},g),w.default.createElement("div",{style:{width:T}},b),w.default.createElement("div",{style:h((0,x.default)({},n)),className:r},m))}}]),e}(_.Component);C.defaultProps={initialSelectedIndex:0,onChange:function(){}},C.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=C},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){return{root:{position:"relative"},textarea:{height:r.height,width:"100%",resize:"none",font:"inherit",padding:0,cursor:"inherit"},shadow:{resize:"none",overflow:"hidden",visibility:"hidden",position:"absolute",height:"initial"}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=r(77),M=n(T),S=24,E=function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.state={height:null},n.handleResize=function(t){n.syncHeightWithShadow(void 0,t)},n.handleChange=function(t){n.syncHeightWithShadow(t.target.value),n.props.hasOwnProperty("valueLink")&&n.props.valueLink.requestChange(t.target.value),n.props.onChange&&n.props.onChange(t)},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"componentWillMount",value:function(){this.setState({height:this.props.rows*S})}},{key:"componentDidMount",value:function(){this.syncHeightWithShadow()}},{key:"componentWillReceiveProps",value:function(t){t.value!==this.props.value&&this.syncHeightWithShadow(t.value)}},{key:"getInputNode",value:function(){return this.refs.input}},{key:"setValue",value:function(t){this.getInputNode().value=t,this.syncHeightWithShadow(t)}},{key:"syncHeightWithShadow",value:function(t,e){var r=this.refs.shadow;void 0!==t&&(r.value=t);var n=r.scrollHeight;void 0!==n&&(this.props.rowsMax>=this.props.rows&&(n=Math.min(this.props.rowsMax*S,n)),n=Math.max(n,S),this.state.height!==n&&(this.setState({height:n}),this.props.onHeightChange&&this.props.onHeightChange(e,n)))}},{key:"render",value:function(){var t=this.props,e=(t.onChange,t.onHeightChange,t.rows,t.rowsMax,t.shadowStyle),r=t.style,n=t.textareaStyle,i=(t.valueLink,(0,l.default)(t,["onChange","onHeightChange","rows","rowsMax","shadowStyle","style","textareaStyle","valueLink"])),s=this.context.muiTheme.prepareStyles,u=o(this.props,this.context,this.state),c=(0,x.default)(u.root,r),p=(0,x.default)(u.textarea,n),f=(0,x.default)({},p,u.shadow,e);return this.props.hasOwnProperty("valueLink")&&(i.value=this.props.valueLink.value),w.default.createElement("div",{style:s(c)},w.default.createElement(M.default,{target:"window",onResize:this.handleResize}),w.default.createElement("textarea",{ref:"shadow",style:s(f),tabIndex:"-1",rows:this.props.rows,defaultValue:this.props.defaultValue,readOnly:!0,value:this.props.value,valueLink:this.props.valueLink}),w.default.createElement("textarea",(0,a.default)({},i,{ref:"input",rows:this.props.rows,style:s(p),onChange:this.handleChange})))}}]),e}(_.Component);E.defaultProps={rows:1},E.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=E},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){return""!==t&&void 0!==t&&null!==t}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=r(15),M=n(T),S=r(116),E=n(S),k=r(17),C=n(k),A=r(968),P=n(A),L=r(970),D=n(L),O=r(971),I=n(O),R=r(972),N=n(R),j=r(43),F=(n(j),function(t,e,r){var n=e.muiTheme,o=n.baseTheme,i=n.textField,a=i.floatingLabelColor,s=i.focusColor,l=i.textColor,u=i.disabledTextColor,c=i.backgroundColor,p=i.errorColor,f={root:{fontSize:16,lineHeight:"24px",width:t.fullWidth?"100%":256,height:24*(t.rows-1)+(t.floatingLabelText?72:48),display:"inline-block",position:"relative",backgroundColor:c,fontFamily:o.fontFamily,transition:C.default.easeOut("200ms","height"),cursor:t.disabled?"not-allowed":"auto"},error:{position:"relative",bottom:2,fontSize:12,lineHeight:"12px",color:p,transition:C.default.easeOut()},floatingLabel:{color:t.disabled?u:a,pointerEvents:"none"},input:{padding:0,position:"relative",width:"100%",border:"none",outline:"none",backgroundColor:"rgba(0,0,0,0)",color:t.disabled?u:l,cursor:"inherit",font:"inherit",WebkitTapHighlightColor:"rgba(0,0,0,0)"},inputNative:{appearance:"textfield"}};return f.textarea=(0,x.default)({},f.input,{marginTop:t.floatingLabelText?36:12,marginBottom:t.floatingLabelText?-36:-12,boxSizing:"border-box",font:"inherit"}),f.input.height="100%",r.isFocused&&(f.floatingLabel.color=s),t.floatingLabelText&&(f.input.boxSizing="border-box",t.multiLine||(f.input.marginTop=14),r.errorText&&(f.error.bottom=t.multiLine?3:f.error.fontSize+3)),r.errorText&&r.isFocused&&(f.floatingLabel.color=f.error.color),f}),z=function(t){function e(){var t,r,n,i;(0,f.default)(this,e);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(s))),n.state={isFocused:!1,errorText:void 0,hasValue:!1},n.handleInputBlur=function(t){n.setState({isFocused:!1}),n.props.onBlur&&n.props.onBlur(t)},n.handleInputChange=function(t){n.setState({hasValue:o(t.target.value)}),n.props.onChange&&n.props.onChange(t,t.target.value)},n.handleInputFocus=function(t){n.props.disabled||(n.setState({isFocused:!0}),n.props.onFocus&&n.props.onFocus(t))},n.handleHeightChange=function(t,e){var r=e+24;n.props.floatingLabelText&&(r+=24),M.default.findDOMNode(n).style.height=r+"px"},i=r,(0,m.default)(n,i)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"componentWillMount",value:function(){var t=this.props,e=t.children,r=t.name,n=t.hintText,i=t.floatingLabelText,a=(t.id,e?e.props:this.props);this.setState({errorText:this.props.errorText,hasValue:o(a.value)||o(a.defaultValue)});var s=r+"-"+n+"-"+i+"-"+Math.floor(65535*Math.random());this.uniqueId=s.replace(/[^A-Za-z0-9-]/gi,"")}},{key:"componentWillReceiveProps",value:function(t){if(t.errorText!==this.props.errorText&&this.setState({errorText:t.errorText}),t.children&&t.children.props&&(t=t.children.props),t.hasOwnProperty("value")){var e=o(t.value);this.setState({hasValue:e})}}},{key:"shouldComponentUpdate",value:function(t,e,r){return!(0,E.default)(this.props,t)||!(0,E.default)(this.state,e)||!(0,E.default)(this.context,r)}},{key:"blur",value:function(){this.input&&this.getInputNode().blur()}},{key:"focus",value:function(){this.input&&this.getInputNode().focus()}},{key:"select",value:function(){this.input&&this.getInputNode().select()}},{key:"getValue",value:function(){return this.input?this.getInputNode().value:void 0}},{key:"getInputNode",value:function(){return this.props.children||this.props.multiLine?this.input.getInputNode():M.default.findDOMNode(this.input)}},{key:"_isControlled",value:function(){return this.props.hasOwnProperty("value")}},{key:"render",value:function(){var t=this,e=this.props,r=e.children,n=e.className,o=e.disabled,i=e.errorStyle,s=(e.errorText,e.floatingLabelFixed),u=e.floatingLabelFocusStyle,c=e.floatingLabelShrinkStyle,p=e.floatingLabelStyle,f=e.floatingLabelText,h=(e.fullWidth,e.hintText),d=e.hintStyle,y=e.id,m=e.inputStyle,v=e.multiLine,g=(e.onBlur,e.onChange,e.onFocus,e.style),b=e.type,_=e.underlineDisabledStyle,T=e.underlineFocusStyle,M=e.underlineShow,S=e.underlineStyle,E=e.rows,k=e.rowsMax,C=e.textareaStyle,A=(0,l.default)(e,["children","className","disabled","errorStyle","errorText","floatingLabelFixed","floatingLabelFocusStyle","floatingLabelShrinkStyle","floatingLabelStyle","floatingLabelText","fullWidth","hintText","hintStyle","id","inputStyle","multiLine","onBlur","onChange","onFocus","style","type","underlineDisabledStyle","underlineFocusStyle","underlineShow","underlineStyle","rows","rowsMax","textareaStyle"]),L=this.context.muiTheme.prepareStyles,O=F(this.props,this.context,this.state),R=y||this.uniqueId,j=this.state.errorText&&w.default.createElement("div",{style:L((0,x.default)(O.error,i))},this.state.errorText),z=f&&w.default.createElement(I.default,{muiTheme:this.context.muiTheme,style:(0,x.default)(O.floatingLabel,p,this.state.isFocused?u:null),shrinkStyle:c,htmlFor:R,shrink:this.state.hasValue||this.state.isFocused||s,disabled:o},f),B={id:R,ref:function(e){return t.input=e},disabled:this.props.disabled,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus},U=(0,x.default)(O.input,m),V=void 0;V=r?w.default.cloneElement(r,(0,a.default)({},B,r.props,{style:(0,x.default)(U,r.props.style)})):v?w.default.createElement(P.default,(0,a.default)({style:U,textareaStyle:(0,x.default)(O.textarea,O.inputNative,C),rows:E,rowsMax:k},A,B,{onHeightChange:this.handleHeightChange})):w.default.createElement("input",(0,a.default)({type:b,style:L((0,x.default)(O.inputNative,U))},A,B));var H={};return r&&(H=A),w.default.createElement("div",(0,a.default)({},H,{className:n,style:L((0,x.default)(O.root,g))}),z,h?w.default.createElement(D.default,{muiTheme:this.context.muiTheme,show:!(this.state.hasValue||f&&!this.state.isFocused)||!this.state.hasValue&&f&&s&&!this.state.isFocused,style:d,text:h}):null,V,M?w.default.createElement(N.default,{disabled:o,disabledStyle:_,error:!!this.state.errorText,errorStyle:i,focus:this.state.isFocused,focusStyle:T,muiTheme:this.context.muiTheme,style:S}):null,j)}}]),e}(_.Component);z.defaultProps={disabled:!1,floatingLabelFixed:!1,multiLine:!1,fullWidth:!1,type:"text",underlineShow:!0,rows:1},z.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=z},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=t.muiTheme.textField.hintColor,r=t.show;return{root:{position:"absolute",opacity:r?1:0,color:e,transition:c.default.easeOut(),bottom:12}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(10),a=n(i),s=r(1),l=n(s),u=r(17),c=n(u),p=function(t){var e=t.muiTheme.prepareStyles,r=t.style,n=t.text,i=o(t);return l.default.createElement("div",{style:e((0,a.default)(i.root,r))},n)};p.defaultProps={show:!0},e.default=p},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){var e={position:"absolute",lineHeight:"22px",top:38,transition:c.default.easeOut(),zIndex:1,transform:"scale(1) translate(0, 0)",transformOrigin:"left top",pointerEvents:"auto",userSelect:"none"},r=t.shrink?(0,a.default)({transform:"scale(0.75) translate(0, -28px)",pointerEvents:"none"},t.shrinkStyle):null;return{root:(0,a.default)(e,t.style,r)}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(10),a=n(i),s=r(1),l=n(s),u=r(17),c=n(u),p=function(t){var e=t.muiTheme,r=t.className,n=t.children,i=t.htmlFor,a=t.onTouchTap,s=e.prepareStyles,u=o(t);return l.default.createElement("label",{className:r,style:s(u.root),htmlFor:i,onTouchTap:a},n)};p.defaultProps={disabled:!1,shrink:!1},e.default=p},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(10),i=n(o),a=r(1),s=n(a),l=r(17),u=n(l),c=({disabled:a.PropTypes.bool,disabledStyle:a.PropTypes.object,error:a.PropTypes.bool,errorStyle:a.PropTypes.object,focus:a.PropTypes.bool,focusStyle:a.PropTypes.object,muiTheme:a.PropTypes.object.isRequired,style:a.PropTypes.object},{disabled:!1,disabledStyle:{},error:!1,errorStyle:{},focus:!1,focusStyle:{},style:{}}),p=function(t){var e=t.disabled,r=t.disabledStyle,n=t.error,o=t.errorStyle,a=t.focus,l=t.focusStyle,c=t.muiTheme,p=t.style,f=o.color,h=c.prepareStyles,d=c.textField,y=d.borderColor,m=d.disabledTextColor,v=d.errorColor,g=d.focusColor,b={root:{borderTop:"none",borderLeft:"none",borderRight:"none",borderBottom:"solid 1px",borderColor:y,bottom:8,boxSizing:"content-box",margin:0,position:"absolute",width:"100%"},disabled:{borderBottom:"dotted 2px",borderColor:m},focus:{borderBottom:"solid 2px",borderColor:g,transform:"scaleX(0)",transition:u.default.easeOut()},error:{borderColor:f?f:v,transform:"scaleX(1)"}},x=(0,i.default)({},b.root,p),_=(0,i.default)({},x,b.focus,l);return e&&(x=(0,i.default)({},x,b.disabled,r)),a&&(_=(0,i.default)({},_,{transform:"scaleX(1)"})),n&&(_=(0,i.default)({},_,b.error)),s.default.createElement("div",null,s.default.createElement("hr",{style:h(x)}),s.default.createElement("hr",{style:h(_)}))};p.defaultProps=c,e.default=p},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=r(976),v=n(m),g=r(974),b=n(g),x=r(975),_=n(x),w=function(t){function e(){var t,r,n,o;(0,s.default)(this,e);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return r=n=(0,p.default)(this,(t=e.__proto__||(0,i.default)(e)).call.apply(t,[this].concat(l))),n.state={selectedTime:null,mode:"hour"},n.setMode=function(t){setTimeout(function(){n.setState({mode:t})},100)},n.handleSelectAffix=function(t){if(t!==n.getAffix()){var e=n.state.selectedTime.getHours();return"am"===t?void n.handleChangeHours(e-12,t):void n.handleChangeHours(e+12,t)}},n.handleChangeHours=function(t,e){var r=new Date(n.state.selectedTime),o=void 0;"string"==typeof e&&(o=e,e=void 0),o||(o=n.getAffix()),"pm"===o&&t<12&&(t+=12),r.setHours(t),n.setState({selectedTime:r}),e&&setTimeout(function(){n.setState({mode:"minute"});var t=n.props.onChangeHours;t&&t(r)},100)},n.handleChangeMinutes=function(t,e){var r=new Date(n.state.selectedTime);r.setMinutes(t),n.setState({selectedTime:r});var o=n.props.onChangeMinutes;o&&e&&setTimeout(function(){o(r)},0)},o=r,(0,p.default)(n,o)}return(0,h.default)(e,t),(0,u.default)(e,[{key:"componentWillMount",value:function(){this.setState({selectedTime:this.props.initialTime||new Date})}},{key:"getAffix",value:function(){if("ampm"!==this.props.format)return"";var t=this.state.selectedTime.getHours();return t<12?"am":"pm"}},{key:"getSelectedTime",value:function(){return this.state.selectedTime}},{key:"render",value:function(){var t=null,e=this.context.muiTheme,r=e.prepareStyles,n=e.timePicker,o={root:{userSelect:"none"},container:{height:280,padding:10,position:"relative",boxSizing:"content-box"},circle:{position:"absolute",top:20,width:260,height:260,borderRadius:"100%",backgroundColor:n.clockCircleColor}};return t="hour"===this.state.mode?y.default.createElement(b.default,{key:"hours",format:this.props.format,onChange:this.handleChangeHours,initialHours:this.state.selectedTime.getHours()}):y.default.createElement(_.default,{key:"minutes",onChange:this.handleChangeMinutes,initialMinutes:this.state.selectedTime.getMinutes()}),y.default.createElement("div",{style:r(o.root)},y.default.createElement(v.default,{selectedTime:this.state.selectedTime,mode:this.state.mode,format:this.props.format,affix:this.getAffix(),onSelectAffix:this.handleSelectAffix,onSelectHour:this.setMode.bind(this,"hour"),onSelectMin:this.setMode.bind(this,"minute")}),y.default.createElement("div",{style:r(o.container)},y.default.createElement("div",{style:r(o.circle)}),t))}}]),e}(d.Component);w.defaultProps={initialTime:new Date},w.contextTypes={muiTheme:d.PropTypes.object.isRequired},e.default=w},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=r(15),v=n(m),g=r(411),b=n(g),x=r(412),_=n(x),w=r(156),T=function(t){function e(){var t,r,n,o;(0,s.default)(this,e);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return r=n=(0,p.default)(this,(t=e.__proto__||(0,i.default)(e)).call.apply(t,[this].concat(l))),n.handleUp=function(t){t.preventDefault(),n.setClock(t.nativeEvent,!0)},n.handleMove=function(t){t.preventDefault(),1===n.isMousePressed(t)&&n.setClock(t.nativeEvent,!1)},n.handleTouchMove=function(t){t.preventDefault(),n.setClock(t.changedTouches[0],!1)},n.handleTouchEnd=function(t){t.preventDefault(),n.setClock(t.changedTouches[0],!0)},o=r,(0,p.default)(n,o)}return(0,h.default)(e,t),(0,u.default)(e,[{key:"componentDidMount",value:function(){var t=v.default.findDOMNode(this.refs.mask);this.center={x:t.offsetWidth/2,y:t.offsetHeight/2},this.basePoint={x:this.center.x,y:0}}},{key:"isMousePressed",value:function(t){return"undefined"==typeof t.buttons?t.nativeEvent.which:t.buttons}},{key:"setClock",value:function(t,e){if("undefined"==typeof t.offsetX){var r=(0,w.getTouchEventOffsetValues)(t);t.offsetX=r.offsetX,t.offsetY=r.offsetY}var n=this.getHours(t.offsetX,t.offsetY);this.props.onChange(n,e)}},{key:"getHours",value:function(t,e){var r=30,n=t-this.center.x,o=e-this.center.y,i=this.basePoint.x-this.center.x,a=this.basePoint.y-this.center.y,s=Math.atan2(i,a)-Math.atan2(n,o),l=(0,w.rad2deg)(s);l=Math.round(l/r)*r,l%=360;var u=Math.floor(l/r)||0,c=Math.pow(n,2)+Math.pow(o,2),p=Math.sqrt(c);return u=u||12,"24hr"===this.props.format?p<90&&(u+=12,u%=24):u%=12,u}},{key:"getSelected",value:function(){var t=this.props.initialHours;return"ampm"===this.props.format&&(t%=12,t=t||12),t}},{key:"getHourNumbers",value:function(){for(var t=this,e={pointerEvents:"none"},r="ampm"===this.props.format?12:24,n=[],o=1;o<=r;o++)n.push(o%24);return n.map(function(r){var n=t.getSelected()===r;return y.default.createElement(b.default,{key:r,style:e,isSelected:n,type:"hour",value:r})})}},{key:"render",value:function(){var t={root:{height:"100%",width:"100%",borderRadius:"100%",position:"relative",pointerEvents:"none",boxSizing:"border-box"},hitMask:{height:"100%",width:"100%",pointerEvents:"auto"}},e=this.context.muiTheme.prepareStyles,r=this.getSelected(),n=this.getHourNumbers();return y.default.createElement("div",{ref:"clock",style:e(t.root)},y.default.createElement(_.default,{hasSelected:!0,value:r,type:"hour"}),n,y.default.createElement("div",{ref:"mask",style:e(t.hitMask),onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onMouseUp:this.handleUp,onMouseMove:this.handleMove}))}}]),e}(d.Component);T.defaultProps={initialHours:(new Date).getHours(),onChange:function(){},format:"ampm"},T.contextTypes={muiTheme:d.PropTypes.object.isRequired},e.default=T},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=r(411),v=n(m),g=r(412),b=n(g),x=r(156),_=function(t){function e(){var t,r,n,o;(0,s.default)(this,e);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return r=n=(0,p.default)(this,(t=e.__proto__||(0,i.default)(e)).call.apply(t,[this].concat(l))),n.handleUp=function(t){t.preventDefault(),n.setClock(t.nativeEvent,!0)},n.handleMove=function(t){t.preventDefault(),1===n.isMousePressed(t)&&n.setClock(t.nativeEvent,!1)},n.handleTouch=function(t){t.preventDefault(),n.setClock(t.changedTouches[0],"touchend"===t.type)},o=r,(0,p.default)(n,o)}return(0,h.default)(e,t),(0,u.default)(e,[{key:"componentDidMount",value:function(){var t=this.refs.mask;this.center={x:t.offsetWidth/2,y:t.offsetHeight/2},this.basePoint={x:this.center.x,y:0}}},{key:"isMousePressed",value:function(t){return"undefined"==typeof t.buttons?t.nativeEvent.which:t.buttons}},{key:"setClock",value:function(t,e){if("undefined"==typeof t.offsetX){var r=(0,x.getTouchEventOffsetValues)(t);t.offsetX=r.offsetX,t.offsetY=r.offsetY}var n=this.getMinutes(t.offsetX,t.offsetY);this.props.onChange(n,e)}},{key:"getMinutes",value:function(t,e){var r=6,n=t-this.center.x,o=e-this.center.y,i=this.basePoint.x-this.center.x,a=this.basePoint.y-this.center.y,s=Math.atan2(i,a)-Math.atan2(n,o),l=(0,x.rad2deg)(s);l=Math.round(l/r)*r,l%=360;var u=Math.floor(l/r)||0;return u}},{key:"getMinuteNumbers",value:function(){for(var t=[],e=0;e<12;e++)t.push(5*e);var r=this.props.initialMinutes,n=!1,o=t.map(function(t){var e=r===t;return e&&(n=!0),y.default.createElement(v.default,{key:t,isSelected:e,type:"minute",value:t})});return{numbers:o,hasSelected:n,selected:r}}},{key:"render",value:function(){var t={root:{height:"100%",width:"100%",borderRadius:"100%",position:"relative",pointerEvents:"none",boxSizing:"border-box"},hitMask:{height:"100%",width:"100%",pointerEvents:"auto"}},e=this.context.muiTheme.prepareStyles,r=this.getMinuteNumbers();return y.default.createElement("div",{ref:"clock",style:e(t.root)},y.default.createElement(b.default,{value:r.selected,type:"minute",hasSelected:r.hasSelected}),r.numbers,y.default.createElement("div",{ref:"mask",style:e(t.hitMask),onTouchMove:this.handleTouch,onTouchEnd:this.handleTouch,onMouseUp:this.handleUp,onMouseMove:this.handleMove}))}}]),e}(d.Component);_.defaultProps={initialMinutes:(new Date).getMinutes(),onChange:function(){}},_.contextTypes={muiTheme:d.PropTypes.object.isRequired},e.default=_},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(214),s=n(a),l=r(6),u=n(l),c=r(8),p=n(c),f=r(2),h=n(f),d=r(7),y=n(d),m=r(4),v=n(m),g=r(3),b=n(g),x=r(10),_=n(x),w=r(1),T=n(w),M=function(t){function e(){var t,r,n,o;(0,h.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,v.default)(this,(t=e.__proto__||(0,p.default)(e)).call.apply(t,[this].concat(a))),n.state={transitionDirection:"up"},o=r,(0,v.default)(n,o)}return(0,b.default)(e,t),(0,y.default)(e,[{key:"componentWillReceiveProps",value:function(t){if(t.selectedTime!==this.props.selectedTime){var e=t.selectedTime>this.props.selectedTime?"up":"down";this.setState({transitionDirection:e})}}},{key:"sanitizeTime",value:function(){var t=this.props.selectedTime.getHours(),e=this.props.selectedTime.getMinutes().toString();return"ampm"===this.props.format&&(t%=12,t=t||12),t=t.toString(),t.length<2&&(t="0"+t),e.length<2&&(e="0"+e),[t,e]}},{key:"render",value:function(){var t=this.props,e=t.affix,r=t.format,n=t.mode,o=t.onSelectAffix,a=t.onSelectHour,l=t.onSelectMin,c=(t.selectedTime,(0,u.default)(t,["affix","format","mode","onSelectAffix","onSelectHour","onSelectMin","selectedTime"])),p=this.context.muiTheme,f=p.prepareStyles,h=p.timePicker,d={root:{padding:"14px 0",borderTopLeftRadius:2,borderTopRightRadius:2,backgroundColor:h.headerColor,color:h.textColor},text:{margin:"6px 0",lineHeight:"58px",height:58,fontSize:58,display:"flex",justifyContent:"center",alignItems:"baseline"},time:{margin:"0 10px"},affix:{flex:1,position:"relative",lineHeight:"17px",height:17,fontSize:17},affixTop:{position:"absolute",top:-20,left:0},clickable:{cursor:"pointer"},inactive:{opacity:.7}},y=this.sanitizeTime(),m=(0,s.default)(y,2),v=m[0],g=m[1],b=[];return"ampm"===r&&(b=[T.default.createElement("div",{key:"pm",style:f((0,_.default)({},d.clickable,"pm"===e?{}:d.inactive)),onTouchTap:function(){return o("pm")}},"PM"),T.default.createElement("div",{key:"am",style:f((0,_.default)({},d.affixTop,d.clickable,"am"===e?{}:d.inactive)),onTouchTap:function(){return o("am")}},"AM")]),T.default.createElement("div",(0,i.default)({},c,{style:f(d.root)}),T.default.createElement("div",{style:f(d.text)},T.default.createElement("div",{style:f((0,_.default)({},d.affix))}),T.default.createElement("div",{style:f(d.time)},T.default.createElement("span",{style:f((0,_.default)({},d.clickable,"hour"===n?{}:d.inactive)),onTouchTap:a},v),T.default.createElement("span",null,":"),T.default.createElement("span",{style:f((0,_.default)({},d.clickable,"minute"===n?{}:d.inactive)),onTouchTap:l},g)),T.default.createElement("div",{style:f((0,_.default)({},d.affix))},b)))}}]),e}(w.Component);M.defaultProps={affix:"",mode:"hour"},M.contextTypes={muiTheme:w.PropTypes.object.isRequired},e.default=M},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(6),s=n(a),l=r(8),u=n(l),c=r(2),p=n(c),f=r(7),h=n(f),d=r(4),y=n(d),m=r(3),v=n(m),g=r(10),b=n(g),x=r(1),_=n(x),w=r(978),T=n(w),M=r(109),S=n(M),E=r(156),k=new Date;k.setHours(0),k.setMinutes(0),k.setSeconds(0),k.setMilliseconds(0);var C=function(t){function e(){var t,r,n,o;(0,p.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,y.default)(this,(t=e.__proto__||(0,u.default)(e)).call.apply(t,[this].concat(a))),n.state={time:null,dialogTime:new Date},n.handleAcceptDialog=function(t){n.setState({time:t}),n.props.onChange&&n.props.onChange(null,t)},n.handleFocusInput=function(t){t.target.blur(),n.props.onFocus&&n.props.onFocus(t)},n.handleTouchTapInput=function(t){t.preventDefault(),n.props.disabled||n.openDialog(),n.props.onTouchTap&&n.props.onTouchTap(t)},o=r,(0,y.default)(n,o)}return(0,v.default)(e,t),(0,h.default)(e,[{key:"componentWillMount",value:function(){this.setState({time:this.isControlled()?this.getControlledTime():this.props.defaultTime})}},{key:"componentWillReceiveProps",value:function(t){t.value!==this.props.value&&this.setState({time:this.getControlledTime(t)})}},{key:"focus",value:function(){this.openDialog()}},{key:"openDialog",value:function(){this.setState({dialogTime:this.state.time}),this.refs.dialogWindow.show()}},{key:"isControlled",value:function(){return null!==this.props.value}},{key:"getControlledTime",value:function(){
var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,e=null;return t.value instanceof Date&&(e=t.value),e}},{key:"render",value:function(){var t=this.props,e=t.autoOk,r=t.cancelLabel,n=(t.defaultTime,t.dialogBodyStyle),o=t.dialogStyle,a=t.format,l=t.okLabel,u=(t.onFocus,t.onTouchTap,t.onShow),c=t.onDismiss,p=t.pedantic,f=t.style,h=t.textFieldStyle,d=(0,s.default)(t,["autoOk","cancelLabel","defaultTime","dialogBodyStyle","dialogStyle","format","okLabel","onFocus","onTouchTap","onShow","onDismiss","pedantic","style","textFieldStyle"]),y=this.context.muiTheme.prepareStyles,m=this.state.time;return _.default.createElement("div",{style:y((0,b.default)({},f))},_.default.createElement(S.default,(0,i.default)({},d,{style:h,ref:"input",value:m===k?null:(0,E.formatTime)(m,a,p),onFocus:this.handleFocusInput,onTouchTap:this.handleTouchTapInput})),_.default.createElement(T.default,{ref:"dialogWindow",bodyStyle:n,initialTime:this.state.dialogTime,onAccept:this.handleAcceptDialog,onShow:u,onDismiss:c,format:a,okLabel:l,cancelLabel:r,autoOk:e,style:o}))}}]),e}(x.Component);C.defaultProps={autoOk:!1,cancelLabel:"Cancel",defaultTime:null,disabled:!1,format:"ampm",okLabel:"OK",pedantic:!1,style:{},value:null},C.contextTypes={muiTheme:x.PropTypes.object.isRequired},e.default=C},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(6),s=n(a),l=r(8),u=n(l),c=r(2),p=n(c),f=r(7),h=n(f),d=r(4),y=n(d),m=r(3),v=n(m),g=r(10),b=n(g),x=r(1),_=n(x),w=r(77),T=n(w),M=r(39),S=n(M),E=r(973),k=n(E),C=r(183),A=n(C),P=r(185),L=n(P),D=function(t){function e(){var t,r,n,o;(0,p.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,y.default)(this,(t=e.__proto__||(0,u.default)(e)).call.apply(t,[this].concat(a))),n.state={open:!1},n.handleRequestClose=function(){n.dismiss()},n.handleTouchTapCancel=function(){n.dismiss()},n.handleTouchTapOK=function(){n.props.onAccept&&n.props.onAccept(n.refs.clock.getSelectedTime()),n.setState({open:!1})},n.handleKeyUp=function(t){switch((0,S.default)(t)){case"enter":n.handleTouchTapOK()}},o=r,(0,y.default)(n,o)}return(0,v.default)(e,t),(0,h.default)(e,[{key:"show",value:function(){this.props.onShow&&!this.state.open&&this.props.onShow(),this.setState({open:!0})}},{key:"dismiss",value:function(){this.props.onDismiss&&this.state.open&&this.props.onDismiss(),this.setState({open:!1})}},{key:"render",value:function(){var t=this.props,e=t.bodyStyle,r=t.initialTime,n=(t.onAccept,t.format),o=t.autoOk,a=t.okLabel,l=t.cancelLabel,u=t.style,c=(0,s.default)(t,["bodyStyle","initialTime","onAccept","format","autoOk","okLabel","cancelLabel","style"]),p={root:{fontSize:14,color:this.context.muiTheme.timePicker.clockColor},dialogContent:{width:280},body:{padding:0}},f=[_.default.createElement(L.default,{key:0,label:l,primary:!0,onTouchTap:this.handleTouchTapCancel}),_.default.createElement(L.default,{key:1,label:a,primary:!0,onTouchTap:this.handleTouchTapOK})],h=o===!0?this.handleTouchTapOK:void 0,d=this.state.open;return _.default.createElement(A.default,(0,i.default)({},c,{style:(0,b.default)(p.root,u),bodyStyle:(0,b.default)(p.body,e),actions:f,contentStyle:p.dialogContent,repositionOnUpdate:!1,open:d,onRequestClose:this.handleRequestClose}),d&&_.default.createElement(T.default,{target:"window",onKeyUp:this.handleKeyUp}),d&&_.default.createElement(k.default,{ref:"clock",format:n,initialTime:r,onChangeMinutes:h}))}}]),e}(x.Component);D.defaultProps={okLabel:"OK",cancelLabel:"Cancel"},D.contextTypes={muiTheme:x.PropTypes.object.isRequired},e.default=D},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(977),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){var n=t.disabled,o=t.elementStyle,i=t.trackSwitchedStyle,a=t.thumbSwitchedStyle,s=t.trackStyle,l=t.thumbStyle,u=t.iconStyle,c=t.rippleStyle,p=t.labelStyle,f=e.muiTheme,h=f.baseTheme,d=f.toggle,y=20,m=36,v={icon:{width:36,padding:"4px 0px 6px 2px"},ripple:{top:-10,left:-10,color:r.switched?d.thumbOnColor:h.palette.textColor},toggleElement:{width:m},track:{transition:M.default.easeOut(),width:"100%",height:14,borderRadius:30,backgroundColor:d.trackOffColor},thumb:{transition:M.default.easeOut(),position:"absolute",top:1,left:0,width:y,height:y,lineHeight:"24px",borderRadius:"50%",backgroundColor:d.thumbOffColor},trackWhenSwitched:{backgroundColor:d.trackOnColor},thumbWhenSwitched:{backgroundColor:d.thumbOnColor,left:"100%"},trackWhenDisabled:{backgroundColor:d.trackDisabledColor},thumbWhenDisabled:{backgroundColor:d.thumbDisabledColor},label:{color:n?d.labelDisabledColor:d.labelColor,width:"calc(100% - "+(m+10)+"px)"}};return(0,x.default)(v.track,s,r.switched&&v.trackWhenSwitched,r.switched&&i,n&&v.trackWhenDisabled),(0,x.default)(v.thumb,l,r.switched&&v.thumbWhenSwitched,r.switched&&a,n&&v.thumbWhenDisabled),r.switched&&(v.thumb.marginLeft=0-v.thumb.width),(0,x.default)(v.icon,u),(0,x.default)(v.ripple,c),(0,x.default)(v.label,p),(0,x.default)(v.toggleElement,o),v}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=r(17),M=n(T),S=r(25),E=n(S),k=r(274),C=n(k),A=function(t){function e(){var t,r,n,o;(0,f.default)(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,m.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(a))),n.state={switched:!1},n.handleStateChange=function(t){n.setState({switched:t})},n.handleToggle=function(t,e){n.props.onToggle&&n.props.onToggle(t,e)},o=r,(0,m.default)(n,o)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"componentWillMount",value:function(){var t=this.props,e=t.toggled,r=t.defaultToggled,n=t.valueLink;(e||r||n&&n.value)&&this.setState({switched:!0})}},{key:"isToggled",value:function(){return this.refs.enhancedSwitch.isSwitched()}},{key:"setToggled",value:function(t){this.refs.enhancedSwitch.setSwitched(t)}},{key:"render",value:function(){var t=this.props,e=t.defaultToggled,r=(t.elementStyle,t.onToggle,t.trackSwitchedStyle,t.thumbSwitchedStyle,t.toggled),n=(0,l.default)(t,["defaultToggled","elementStyle","onToggle","trackSwitchedStyle","thumbSwitchedStyle","toggled"]),i=this.context.muiTheme.prepareStyles,s=o(this.props,this.context,this.state),u=w.default.createElement("div",{style:i((0,x.default)({},s.toggleElement))},w.default.createElement("div",{style:i((0,x.default)({},s.track))}),w.default.createElement(E.default,{style:s.thumb,circle:!0,zDepth:1})),c={ref:"enhancedSwitch",inputType:"checkbox",switchElement:u,rippleStyle:s.ripple,rippleColor:s.ripple.color,iconStyle:s.icon,trackStyle:s.track,thumbStyle:s.thumb,labelStyle:s.label,switched:this.state.switched,onSwitch:this.handleToggle,onParentShouldUpdate:this.handleStateChange,labelPosition:this.props.labelPosition};return this.props.hasOwnProperty("toggled")?c.checked=r:this.props.hasOwnProperty("defaultToggled")&&(c.defaultChecked=e),w.default.createElement(C.default,(0,a.default)({},n,c))}}]),e}(_.Component);A.defaultProps={defaultToggled:!1,disabled:!1,labelPosition:"left"},A.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=A},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(980),i=n(o);e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=t.noGutter,n=e.muiTheme,o=n.baseTheme,i=n.toolbar;return{root:{boxSizing:"border-box",WebkitTapHighlightColor:"rgba(0,0,0,0)",backgroundColor:i.backgroundColor,height:i.height,padding:r?0:"0px "+o.spacing.desktopGutter+"px",display:"flex",justifyContent:"space-between"}}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=n(i),s=r(6),l=n(s),u=r(8),c=n(u),p=r(2),f=n(p),h=r(7),d=n(h),y=r(4),m=n(y),v=r(3),g=n(v),b=r(10),x=n(b),_=r(1),w=n(_),T=function(t){function e(){return(0,f.default)(this,e),(0,m.default)(this,(e.__proto__||(0,c.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){var t=this.props,e=t.children,r=t.className,n=(t.noGutter,t.style),i=(0,l.default)(t,["children","className","noGutter","style"]),s=this.context.muiTheme.prepareStyles,u=o(this.props,this.context);return w.default.createElement("div",(0,a.default)({},i,{className:r,style:s((0,x.default)({},u.root,n))}),e)}}]),e}(_.Component);T.defaultProps={noGutter:!1},T.contextTypes={muiTheme:_.PropTypes.object.isRequired},e.default=T},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ToolbarTitle=e.ToolbarSeparator=e.ToolbarGroup=e.Toolbar=void 0;var o=r(982),i=n(o),a=r(413),s=n(a),l=r(414),u=n(l),c=r(415),p=n(c);e.Toolbar=i.default,e.ToolbarGroup=s.default,e.ToolbarSeparator=u.default,e.ToolbarTitle=p.default,e.default=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ToolbarTitle=e.ToolbarSeparator=e.ToolbarGroup=e.Toolbar=e.Toggle=e.TimePicker=e.TextField=e.TableRowColumn=e.TableRow=e.TableHeaderColumn=e.TableHeader=e.TableFooter=e.TableBody=e.Table=e.Tab=e.Tabs=e.Snackbar=e.Stepper=e.StepLabel=e.StepContent=e.StepButton=e.Step=e.SvgIcon=e.Subheader=e.Slider=e.SelectField=e.RefreshIndicator=e.RaisedButton=e.RadioButtonGroup=e.RadioButton=e.Popover=e.Paper=e.MuiThemeProvider=e.MenuItem=e.Menu=e.makeSelectable=e.ListItem=e.List=e.LinearProgress=e.IconMenu=e.IconButton=e.GridTile=e.GridList=e.FontIcon=e.FloatingActionButton=e.FlatButton=e.DropDownMenu=e.Drawer=e.Divider=e.Dialog=e.DatePicker=e.CircularProgress=e.Chip=e.Checkbox=e.CardText=e.CardTitle=e.CardMedia=e.CardHeader=e.CardActions=e.Card=e.BottomNavigationItem=e.BottomNavigation=e.Badge=e.Avatar=e.AutoComplete=e.AppBar=void 0;var o=r(131),i=n(o),a=r(909),s=n(a),l=r(384),u=n(l),c=r(912),p=n(c),f=r(914),h=n(f),d=r(385),y=n(d),m=r(182),v=n(m),g=r(386),b=n(g),x=r(388),_=n(x),w=r(389),T=n(w),M=r(391),S=n(M),E=r(390),k=n(E),C=r(155),A=n(C),P=r(392),L=n(P),D=r(919),O=n(D),I=r(930),R=n(I),N=r(183),j=n(N),F=r(184),z=n(F),B=r(934),U=n(B),V=r(393),H=n(V),W=r(185),q=n(W),G=r(939),Y=n(G),X=r(186),K=n(X),Z=r(942),J=n(Z),$=r(394),Q=n($),tt=r(42),et=n(tt),rt=r(266),nt=n(rt),ot=r(946),it=n(ot),at=r(87),st=n(at),lt=r(268),ut=n(lt),ct=r(395),pt=n(ct),ft=r(396),ht=n(ft),dt=r(88),yt=n(dt),mt=r(420),vt=n(mt),gt=r(25),bt=n(gt),xt=r(951),_t=n(xt),wt=r(188),Tt=n(wt),Mt=r(397),St=n(Mt),Et=r(74),kt=n(Et),Ct=r(398),At=n(Ct),Pt=r(189),Lt=n(Pt),Dt=r(399),Ot=n(Dt),It=r(89),Rt=n(It),Nt=r(13),jt=n(Nt),Ft=r(400),zt=n(Ft),Bt=r(401),Ut=n(Bt),Vt=r(402),Ht=n(Vt),Wt=r(271),qt=n(Wt),Gt=r(403),Yt=n(Gt),Xt=r(959),Kt=n(Xt),Zt=r(410),Jt=n(Zt),$t=r(409),Qt=n($t),te=r(408),ee=n(te),re=r(404),ne=n(re),oe=r(405),ie=n(oe),ae=r(406),se=n(ae),le=r(272),ue=n(le),ce=r(407),pe=n(ce),fe=r(190),he=n(fe),de=r(109),ye=n(de),me=r(979),ve=n(me),ge=r(981),be=n(ge),xe=r(983),_e=n(xe),we=r(413),Te=n(we),Me=r(414),Se=n(Me),Ee=r(415),ke=n(Ee);e.AppBar=i.default,e.AutoComplete=s.default,e.Avatar=u.default,e.Badge=p.default,e.BottomNavigation=h.default,e.BottomNavigationItem=y.default,e.Card=v.default,e.CardActions=b.default,e.CardHeader=_.default,e.CardMedia=T.default,e.CardTitle=S.default,e.CardText=k.default,e.Checkbox=A.default,e.Chip=L.default,e.CircularProgress=O.default,e.DatePicker=R.default,e.Dialog=j.default,e.Divider=z.default,e.Drawer=U.default,e.DropDownMenu=H.default,e.FlatButton=q.default,e.FloatingActionButton=Y.default,e.FontIcon=K.default,e.GridList=J.default,e.GridTile=Q.default,e.IconButton=et.default,e.IconMenu=nt.default,e.LinearProgress=it.default,e.List=st.default,e.ListItem=ut.default,e.makeSelectable=pt.default,e.Menu=ht.default,e.MenuItem=yt.default,e.MuiThemeProvider=vt.default,e.Paper=bt.default,e.Popover=_t.default,e.RadioButton=Tt.default,e.RadioButtonGroup=St.default,e.RaisedButton=kt.default,e.RefreshIndicator=At.default,e.SelectField=Lt.default,e.Slider=Ot.default,e.Subheader=Rt.default,e.SvgIcon=jt.default,e.Step=zt.default,e.StepButton=Ut.default,e.StepContent=Ht.default,e.StepLabel=qt.default,e.Stepper=Yt.default,e.Snackbar=Kt.default,e.Tabs=Jt.default,e.Tab=Qt.default,e.Table=ee.default,e.TableBody=ne.default,e.TableFooter=ie.default,e.TableHeader=se.default,e.TableHeaderColumn=ue.default,e.TableRow=pe.default,e.TableRowColumn=he.default,e.TextField=ye.default,e.TimePicker=ve.default,e.Toggle=be.default,e.Toolbar=_e.default,e.ToolbarGroup=Te.default,e.ToolbarSeparator=Se.default,e.ToolbarTitle=ke.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=n(o),a=r(2),s=n(a),l=r(7),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=null,m=0,v=function(t){function e(){var t,r,n,o;(0,s.default)(this,e);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return r=n=(0,p.default)(this,(t=e.__proto__||(0,i.default)(e)).call.apply(t,[this].concat(l))),n.locked=!1,o=r,(0,p.default)(n,o)}return(0,h.default)(e,t),(0,u.default)(e,[{key:"componentDidMount",value:function(){this.props.lock===!0&&this.preventScrolling()}},{key:"componentWillReceiveProps",value:function(t){this.props.lock!==t.lock&&(t.lock?this.preventScrolling():this.allowScrolling())}},{key:"componentWillUnmount",value:function(){this.allowScrolling()}},{key:"preventScrolling",value:function(){if(this.locked!==!0&&(m+=1,this.locked=!0,1===m)){var t=document.getElementsByTagName("body")[0];y=t.style.overflow,t.style.overflow="hidden"}}},{key:"allowScrolling",value:function(){if(this.locked===!0&&(m-=1,this.locked=!1),0===m&&null!==y){var t=document.getElementsByTagName("body")[0];t.style.overflow=y||"",y=null}}},{key:"render",value:function(){return null}}]),e}(d.Component);e.default=v},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(6),i=n(o),a=r(8),s=n(a),l=r(2),u=n(l),c=r(7),p=n(c),f=r(4),h=n(f),d=r(3),y=n(d),m=r(10),v=n(m),g=r(1),b=n(g),x={box:{boxSizing:"border-box"}},_=function(t){function e(){return(0,u.default)(this,e),(0,h.default)(this,(e.__proto__||(0,s.default)(e)).apply(this,arguments))}return(0,y.default)(e,t),(0,p.default)(e,[{key:"render",value:function(){var t=this.props,e=t.beforeStyle,r=t.afterStyle,n=(t.beforeElementType,t.afterElementType,t.elementType,(0,i.default)(t,["beforeStyle","afterStyle","beforeElementType","afterElementType","elementType"])),o=this.context.muiTheme.prepareStyles,a=void 0,s=void 0;e&&(a=b.default.createElement(this.props.beforeElementType,{style:o((0,v.default)({},x.box,e)),key:"::before"})),r&&(s=b.default.createElement(this.props.afterElementType,{style:o((0,v.default)({},x.box,r)),key:"::after"}));var l=[a,this.props.children,s],u=n;return u.style=o((0,v.default)({},this.props.style)),b.default.createElement(this.props.elementType,u,l)}}]),e}(g.Component);_.defaultProps={beforeElementType:"div",afterElementType:"div",elementType:"div"},_.contextTypes={muiTheme:g.PropTypes.object.isRequired},e.default=_},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(6),s=n(a),l=r(8),u=n(l),c=r(2),p=n(c),f=r(7),h=n(f),d=r(4),y=n(d),m=r(3),v=n(m),g=r(10),b=n(g),x=r(1),_=n(x),w=r(15),T=n(w),M=r(116),S=n(M),E=r(110),k=n(E),C=r(17),A=n(C),P=function(t){function e(){return(0,p.default)(this,e),(0,y.default)(this,(e.__proto__||(0,u.default)(e)).apply(this,arguments))}return(0,v.default)(e,t),(0,h.default)(e,[{key:"shouldComponentUpdate",value:function(t){return!(0,S.default)(this.props,t)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.enterTimer),clearTimeout(this.leaveTimer)}},{key:"componentWillAppear",value:function(t){this.initializeAnimation(t)}},{key:"componentWillEnter",value:function(t){this.initializeAnimation(t)}},{key:"componentDidAppear",value:function(){this.animate()}},{key:"componentDidEnter",value:function(){this.animate()}},{key:"componentWillLeave",value:function(t){var e=T.default.findDOMNode(this).style;e.opacity=0;var r=this.props.aborted?0:2e3;this.enterTimer=setTimeout(t,r)}},{key:"animate",value:function(){var t=T.default.findDOMNode(this).style,e=A.default.easeOut("2s","opacity")+", "+A.default.easeOut("1s","transform");k.default.set(t,"transition",e),k.default.set(t,"transform","scale(1)")}},{key:"initializeAnimation",value:function(t){var e=T.default.findDOMNode(this).style;e.opacity=this.props.opacity,k.default.set(e,"transform","scale(0)"),this.leaveTimer=setTimeout(t,0)}},{key:"render",value:function(){var t=this.props,e=(t.aborted,t.color),r=(t.opacity,t.style),n=(t.touchGenerated,(0,s.default)(t,["aborted","color","opacity","style","touchGenerated"])),o=this.context.muiTheme.prepareStyles,a=(0,b.default)({position:"absolute",top:0,left:0,height:"100%",width:"100%",borderRadius:"50%",backgroundColor:e},r);return _.default.createElement("div",(0,i.default)({},n,{style:o(a)}))}}]),e}(x.Component);P.defaultProps={opacity:.1,aborted:!1},P.contextTypes={muiTheme:x.PropTypes.object.isRequired},e.default=P},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(6),s=n(a),l=r(1),u=n(l),c=r(986),p=n(c),f={before:{content:"' '",display:"table"},after:{content:"' '",clear:"both",display:"table"}},h=function(t){var e=t.style,r=t.children,n=(0,s.default)(t,["style","children"]);return u.default.createElement(p.default,(0,i.default)({},n,{beforeStyle:f.before,afterStyle:f.after,style:e}),r)};h.muiName="ClearFix",e.default=h},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(6),s=n(a),l=r(8),u=n(l),c=r(2),p=n(c),f=r(7),h=n(f),d=r(4),y=n(d),m=r(3),v=n(m),g=r(10),b=n(g),x=r(1),_=n(x),w=r(159),T=n(w),M=r(990),S=n(M),E=function(t){function e(){return(0,p.default)(this,e),(0,y.default)(this,(e.__proto__||(0,u.default)(e)).apply(this,arguments))}return(0,v.default)(e,t),(0,h.default)(e,[{key:"renderChildren",value:function(t){var e=this.props,r=e.enterDelay,n=e.transitionDelay,o=e.transitionDuration;return _.default.Children.map(t,function(t){return _.default.createElement(S.default,{enterDelay:r,transitionDelay:n,transitionDuration:o,key:t.key},t)},this)}},{key:"render",value:function(){var t=this.props,e=t.children,r=(t.enterDelay,t.loading),n=t.open,o=t.style,a=(t.transitionDelay,t.transitionDuration,(0,s.default)(t,["children","enterDelay","loading","open","style","transitionDelay","transitionDuration"])),l=this.context.muiTheme.prepareStyles,u=(0,b.default)({},{position:"relative",overflow:"hidden",height:"auto"},o),c=r?[]:this.renderChildren(e);return _.default.createElement(T.default,(0,i.default)({style:l(u),component:"div"},a),n&&c)}}]),e}(x.Component);E.defaultProps={enterDelay:0,transitionDelay:0,transitionDuration:450,loading:!1,open:!1},E.contextTypes={muiTheme:x.PropTypes.object.isRequired},e.default=E},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(6),s=n(a),l=r(8),u=n(l),c=r(2),p=n(c),f=r(7),h=n(f),d=r(4),y=n(d),m=r(3),v=n(m),g=r(10),b=n(g),x=r(1),_=n(x),w=r(15),T=n(w),M=r(17),S=n(M),E=function(t){return t.offsetHeight},k=function(t){function e(){return(0,p.default)(this,e),(0,y.default)(this,(e.__proto__||(0,u.default)(e)).apply(this,arguments))}return(0,v.default)(e,t),(0,h.default)(e,[{key:"componentWillUnmount",value:function(){clearTimeout(this.enterTimer),clearTimeout(this.enteredTimer),clearTimeout(this.leaveTimer)}},{key:"componentWillAppear",value:function(t){this.open(),t()}},{key:"componentDidAppear",value:function(){this.setAutoHeight()}},{key:"componentWillEnter",value:function(t){var e=this,r=this.props,n=r.enterDelay,o=r.transitionDelay,i=r.transitionDuration,a=T.default.findDOMNode(this);a.style.height=0,this.enterTimer=setTimeout(function(){return e.open()},n),this.enteredTimer=setTimeout(function(){return t()},n+o+i)}},{key:"componentDidEnter",value:function(){this.setAutoHeight()}},{key:"componentWillLeave",value:function(t){var e=this.props,r=e.transitionDelay,n=e.transitionDuration,o=T.default.findDOMNode(this);o.style.height=this.refs.wrapper.clientHeight+"px",E(o),o.style.transitionDuration=n+"ms",o.style.height=0,this.leaveTimer=setTimeout(function(){return t()},r+n)}},{key:"setAutoHeight",value:function(){var t=T.default.findDOMNode(this),e=t.style;e.transitionDuration=0,e.height="auto"}},{key:"open",value:function(){var t=T.default.findDOMNode(this);t.style.height=this.refs.wrapper.clientHeight+"px"}},{key:"render",value:function(){var t=this.props,e=t.children,r=(t.enterDelay,t.style),n=t.transitionDelay,o=t.transitionDuration,a=(0,s.default)(t,["children","enterDelay","style","transitionDelay","transitionDuration"]),l=this.context.muiTheme.prepareStyles,u=(0,b.default)({position:"relative",height:0,width:"100%",top:0,left:0,overflow:"hidden",transition:S.default.easeOut(o+"ms",["height"],n+"ms")},r);return _.default.createElement("div",(0,i.default)({},a,{style:l(u)}),_.default.createElement("div",{ref:"wrapper"},e))}}]),e}(x.Component);k.defaultProps={enterDelay:0,transitionDelay:0,transitionDuration:450},k.contextTypes={muiTheme:x.PropTypes.object.isRequired},e.default=k},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(6),s=n(a),l=r(8),u=n(l),c=r(2),p=n(c),f=r(7),h=n(f),d=r(4),y=n(d),m=r(3),v=n(m),g=r(10),b=n(g),x=r(1),_=n(x),w=r(159),T=n(w),M=r(992),S=n(M),E=function(t){function e(){return(0,p.default)(this,e),(0,y.default)(this,(e.__proto__||(0,u.default)(e)).apply(this,arguments))}return(0,v.default)(e,t),(0,h.default)(e,[{key:"render",value:function(){var t=this.props,e=t.children,r=t.childStyle,n=t.enterDelay,o=t.maxScale,a=t.minScale,l=t.style,u=(0,s.default)(t,["children","childStyle","enterDelay","maxScale","minScale","style"]),c=this.context.muiTheme.prepareStyles,p=(0,b.default)({},{position:"relative",overflow:"hidden",height:"100%"},l),f=_.default.Children.map(e,function(t){return _.default.createElement(S.default,{key:t.key,enterDelay:n,maxScale:o,minScale:a,style:r},t)});return _.default.createElement(T.default,(0,i.default)({},u,{style:c(p),component:"div"}),f)}}]),e}(x.Component);E.defaultProps={enterDelay:0},E.contextTypes={muiTheme:x.PropTypes.object.isRequired},e.default=E},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(6),s=n(a),l=r(8),u=n(l),c=r(2),p=n(c),f=r(7),h=n(f),d=r(4),y=n(d),m=r(3),v=n(m),g=r(10),b=n(g),x=r(1),_=n(x),w=r(15),T=n(w),M=r(110),S=n(M),E=r(17),k=n(E),C=function(t){function e(){return(0,p.default)(this,e),(0,y.default)(this,(e.__proto__||(0,u.default)(e)).apply(this,arguments))}return(0,v.default)(e,t),(0,h.default)(e,[{key:"componentWillUnmount",value:function(){clearTimeout(this.enterTimer),clearTimeout(this.leaveTimer)}},{key:"componentWillAppear",value:function(t){this.initializeAnimation(t)}},{key:"componentWillEnter",value:function(t){this.initializeAnimation(t)}},{key:"componentDidAppear",value:function(){this.animate()}},{key:"componentDidEnter",value:function(){this.animate()}},{key:"componentWillLeave",value:function(t){var e=T.default.findDOMNode(this).style;e.opacity="0",S.default.set(e,"transform","scale("+this.props.minScale+")"),this.leaveTimer=setTimeout(t,450)}},{key:"animate",value:function(){var t=T.default.findDOMNode(this).style;t.opacity="1",S.default.set(t,"transform","scale("+this.props.maxScale+")")}},{key:"initializeAnimation",value:function(t){var e=T.default.findDOMNode(this).style;e.opacity="0",S.default.set(e,"transform","scale(0)"),this.enterTimer=setTimeout(t,this.props.enterDelay)}},{key:"render",value:function(){var t=this.props,e=t.children,r=(t.enterDelay,t.maxScale,t.minScale,t.style),n=(0,s.default)(t,["children","enterDelay","maxScale","minScale","style"]),o=this.context.muiTheme.prepareStyles,a=(0,b.default)({},{position:"absolute",height:"100%",width:"100%",top:0,left:0,transition:k.default.easeOut(null,["transform","opacity"])},r);return _.default.createElement("div",(0,i.default)({},n,{style:o(a)}),e)}}]),e}(x.Component);C.defaultProps={enterDelay:0,maxScale:1,minScale:0},C.contextTypes={muiTheme:x.PropTypes.object.isRequired},e.default=C},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(6),s=n(a),l=r(8),u=n(l),c=r(2),p=n(c),f=r(7),h=n(f),d=r(4),y=n(d),m=r(3),v=n(m),g=r(10),b=n(g),x=r(1),_=n(x),w=r(15),T=n(w),M=r(110),S=n(M),E=r(17),k=n(E),C=function(t){function e(){return(0,p.default)(this,e),(0,y.default)(this,(e.__proto__||(0,u.default)(e)).apply(this,arguments))}return(0,v.default)(e,t),(0,h.default)(e,[{key:"componentWillUnmount",value:function(){clearTimeout(this.enterTimer),clearTimeout(this.leaveTimer)}},{key:"componentWillEnter",value:function(t){var e=T.default.findDOMNode(this).style,r="left"===this.props.direction?"100%":"right"===this.props.direction?"-100%":"0",n="up"===this.props.direction?"100%":"down"===this.props.direction?"-100%":"0";e.opacity="0",S.default.set(e,"transform","translate("+r+", "+n+")"),this.enterTimer=setTimeout(t,this.props.enterDelay)}},{key:"componentDidEnter",value:function(){var t=T.default.findDOMNode(this).style;t.opacity="1",S.default.set(t,"transform","translate(0,0)")}},{key:"componentWillLeave",value:function(t){var e=T.default.findDOMNode(this).style,r=this.props.getLeaveDirection(),n="left"===r?"-100%":"right"===r?"100%":"0",o="up"===r?"-100%":"down"===r?"100%":"0";e.opacity="0",S.default.set(e,"transform","translate("+n+", "+o+")"),this.leaveTimer=setTimeout(t,450)}},{key:"render",value:function(){var t=this.props,e=t.children,r=(t.enterDelay,t.getLeaveDirection,t.style),n=(0,s.default)(t,["children","enterDelay","getLeaveDirection","style"]),o=this.context.muiTheme.prepareStyles,a=(0,b.default)({},{position:"absolute",height:"100%",width:"100%",top:0,left:0,transition:k.default.easeOut(null,["transform","opacity"])},r);return _.default.createElement("div",(0,i.default)({},n,{style:o(a)}),e)}}]),e}(x.Component);C.defaultProps={enterDelay:0},C.contextTypes={muiTheme:x.PropTypes.object.isRequired},e.default=C},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(90),i=r(91),a=r(996),s=n(a);e.default={spacing:s.default,fontFamily:"Roboto, sans-serif",palette:{primary1Color:o.cyan500,primary2Color:o.cyan700,primary3Color:o.grey400,accent1Color:o.pinkA200,accent2Color:o.grey100,accent3Color:o.grey500,textColor:o.darkBlack,secondaryTextColor:(0,i.fade)(o.darkBlack,.54),alternateTextColor:o.white,canvasColor:o.white,borderColor:o.grey300,disabledColor:(0,i.fade)(o.darkBlack,.3),pickerHeaderColor:o.cyan500,clockCircleColor:(0,i.fade)(o.darkBlack,.07),shadowColor:o.fullBlack}}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t=l.default.apply(void 0,[{zIndex:h.default,isRtl:!1,userAgent:void 0},p.default,t].concat(r));var o=t,i=o.spacing,s=o.fontFamily,c=o.palette,f={spacing:i,fontFamily:s,palette:c};t=(0,l.default)({appBar:{color:c.primary1Color,textColor:c.alternateTextColor,height:i.desktopKeylineIncrement,titleFontWeight:T.default.fontWeightNormal,padding:i.desktopGutter},avatar:{color:c.canvasColor,backgroundColor:(0,u.emphasize)(c.canvasColor,.26)},badge:{color:c.alternateTextColor,textColor:c.textColor,primaryColor:c.primary1Color,primaryTextColor:c.alternateTextColor,secondaryColor:c.accent1Color,secondaryTextColor:c.alternateTextColor,fontWeight:T.default.fontWeightMedium},bottomNavigation:{backgroundColor:c.canvasColor,unselectedColor:(0,u.fade)(c.textColor,.54),selectedColor:c.primary1Color,height:56,unselectedFontSize:12,selectedFontSize:14},button:{height:36,minWidth:88,iconButtonSize:2*i.iconSize},card:{titleColor:(0,u.fade)(c.textColor,.87),subtitleColor:(0,u.fade)(c.textColor,.54),fontWeight:T.default.fontWeightMedium},cardMedia:{color:M.darkWhite,overlayContentBackground:M.lightBlack,titleColor:M.darkWhite,subtitleColor:M.lightWhite},cardText:{textColor:c.textColor},checkbox:{boxColor:c.textColor,checkedColor:c.primary1Color,requiredColor:c.primary1Color,disabledColor:c.disabledColor,labelColor:c.textColor,labelDisabledColor:c.disabledColor},chip:{backgroundColor:(0,u.emphasize)(c.canvasColor,.12),deleteIconColor:(0,u.fade)(c.textColor,.26),textColor:(0,u.fade)(c.textColor,.87),fontSize:14,fontWeight:T.default.fontWeightNormal,shadow:"0 1px 6px "+(0,u.fade)(c.shadowColor,.12)+",\n        0 1px 4px "+(0,u.fade)(c.shadowColor,.12)},datePicker:{color:c.primary1Color,textColor:c.alternateTextColor,calendarTextColor:c.textColor,selectColor:c.primary2Color,selectTextColor:c.alternateTextColor,calendarYearBackgroundColor:c.canvasColor},dialog:{titleFontSize:22,bodyFontSize:16,bodyColor:(0,u.fade)(c.textColor,.6)},dropDownMenu:{accentColor:c.borderColor},enhancedButton:{tapHighlightColor:M.transparent},flatButton:{color:M.transparent,buttonFilterColor:"#999999",disabledTextColor:(0,u.fade)(c.textColor,.3),textColor:c.textColor,primaryTextColor:c.primary1Color,secondaryTextColor:c.accent1Color,fontSize:T.default.fontStyleButtonFontSize,fontWeight:T.default.fontWeightMedium},floatingActionButton:{buttonSize:56,miniSize:40,color:c.primary1Color,iconColor:c.alternateTextColor,secondaryColor:c.accent1Color,secondaryIconColor:c.alternateTextColor,disabledTextColor:c.disabledColor,disabledColor:(0,u.emphasize)(c.canvasColor,.12)},gridTile:{textColor:M.white},icon:{color:c.canvasColor,backgroundColor:c.primary1Color},inkBar:{backgroundColor:c.accent1Color},drawer:{width:4*i.desktopKeylineIncrement,color:c.canvasColor},listItem:{nestedLevelDepth:18,secondaryTextColor:c.secondaryTextColor,leftIconColor:M.grey600,rightIconColor:M.grey600},menu:{backgroundColor:c.canvasColor,containerBackgroundColor:c.canvasColor},menuItem:{dataHeight:32,height:48,hoverColor:(0,u.fade)(c.textColor,.1),padding:i.desktopGutter,selectedTextColor:c.accent1Color,rightIconDesktopFill:M.grey600},menuSubheader:{padding:i.desktopGutter,borderColor:c.borderColor,textColor:c.primary1Color},overlay:{backgroundColor:M.lightBlack},paper:{color:c.textColor,backgroundColor:c.canvasColor,zDepthShadows:[[1,6,.12,1,4,.12],[3,10,.16,3,10,.23],[10,30,.19,6,10,.23],[14,45,.25,10,18,.22],[19,60,.3,15,20,.22]].map(function(t){return"0 "+t[0]+"px "+t[1]+"px "+(0,u.fade)(c.shadowColor,t[2])+",\n         0 "+t[3]+"px "+t[4]+"px "+(0,u.fade)(c.shadowColor,t[5])})},radioButton:{borderColor:c.textColor,backgroundColor:c.alternateTextColor,checkedColor:c.primary1Color,requiredColor:c.primary1Color,disabledColor:c.disabledColor,size:24,labelColor:c.textColor,labelDisabledColor:c.disabledColor},raisedButton:{color:c.alternateTextColor,textColor:c.textColor,primaryColor:c.primary1Color,primaryTextColor:c.alternateTextColor,secondaryColor:c.accent1Color,secondaryTextColor:c.alternateTextColor,disabledColor:(0,u.darken)(c.alternateTextColor,.1),disabledTextColor:(0,u.fade)(c.textColor,.3),fontSize:T.default.fontStyleButtonFontSize,fontWeight:T.default.fontWeightMedium},refreshIndicator:{strokeColor:c.borderColor,loadingStrokeColor:c.primary1Color},ripple:{color:(0,u.fade)(c.textColor,.87)},slider:{trackSize:2,trackColor:c.primary3Color,trackColorSelected:c.accent3Color,handleSize:12,
handleSizeDisabled:8,handleSizeActive:18,handleColorZero:c.primary3Color,handleFillColor:c.alternateTextColor,selectionColor:c.primary1Color,rippleColor:c.primary1Color},snackbar:{textColor:c.alternateTextColor,backgroundColor:c.textColor,actionColor:c.accent1Color},subheader:{color:(0,u.fade)(c.textColor,.54),fontWeight:T.default.fontWeightMedium},stepper:{backgroundColor:"transparent",hoverBackgroundColor:(0,u.fade)(M.black,.06),iconColor:c.primary1Color,hoveredIconColor:M.grey700,inactiveIconColor:M.grey500,textColor:(0,u.fade)(M.black,.87),disabledTextColor:(0,u.fade)(M.black,.26),connectorLineColor:M.grey400},svgIcon:{color:c.textColor},table:{backgroundColor:c.canvasColor},tableFooter:{borderColor:c.borderColor,textColor:c.accent3Color},tableHeader:{borderColor:c.borderColor},tableHeaderColumn:{textColor:c.accent3Color,height:56,spacing:24},tableRow:{hoverColor:c.accent2Color,stripeColor:(0,u.fade)((0,u.lighten)(c.primary1Color,.5),.4),selectedColor:c.borderColor,textColor:c.textColor,borderColor:c.borderColor,height:48},tableRowColumn:{height:48,spacing:24},tabs:{backgroundColor:c.primary1Color,textColor:(0,u.fade)(c.alternateTextColor,.7),selectedTextColor:c.alternateTextColor},textField:{textColor:c.textColor,hintColor:c.disabledColor,floatingLabelColor:c.disabledColor,disabledTextColor:c.disabledColor,errorColor:M.red500,focusColor:c.primary1Color,backgroundColor:"transparent",borderColor:c.borderColor},timePicker:{color:c.alternateTextColor,textColor:c.alternateTextColor,accentColor:c.primary1Color,clockColor:c.textColor,clockCircleColor:c.clockCircleColor,headerColor:c.pickerHeaderColor||c.primary1Color,selectColor:c.primary2Color,selectTextColor:c.alternateTextColor},toggle:{thumbOnColor:c.primary1Color,thumbOffColor:c.accent2Color,thumbDisabledColor:c.borderColor,thumbRequiredColor:c.primary1Color,trackOnColor:(0,u.fade)(c.primary1Color,.5),trackOffColor:c.primary3Color,trackDisabledColor:c.primary3Color,labelColor:c.textColor,labelDisabledColor:c.disabledColor,trackRequiredColor:(0,u.fade)(c.primary1Color,.5)},toolbar:{color:(0,u.fade)(c.textColor,.54),hoverColor:(0,u.fade)(c.textColor,.87),backgroundColor:(0,u.darken)(c.accent2Color,.05),height:56,titleFontSize:20,iconColor:(0,u.fade)(c.textColor,.4),separatorColor:(0,u.fade)(c.textColor,.175),menuHoverColor:(0,u.fade)(c.textColor,.1)},tooltip:{color:M.white,rippleBackgroundColor:M.grey700}},t,{baseTheme:f,rawTheme:f});var d=[y.default,b.default,v.default].map(function(e){return e(t)}).filter(function(t){return t});return t.prepareStyles=_.default.apply(void 0,(0,a.default)(d)),t}Object.defineProperty(e,"__esModule",{value:!0});var i=r(119),a=n(i);e.default=o;var s=r(897),l=n(s),u=r(91),c=r(994),p=n(c),f=r(998),h=n(f),d=r(1034),y=n(d),m=r(1035),v=n(m),g=r(1038),b=n(g),x=r(1254),_=n(x),w=r(997),T=n(w),M=r(90)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={iconSize:24,desktopGutter:24,desktopGutterMore:32,desktopGutterLess:16,desktopGutterMini:8,desktopKeylineIncrement:64,desktopDropDownMenuItemHeight:32,desktopDropDownMenuFontSize:15,desktopDrawerMenuItemHeight:48,desktopSubheaderHeight:48,desktopToolbarHeight:56}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(2),i=n(o),a=r(90),s=function t(){(0,i.default)(this,t),this.textFullBlack=a.fullBlack,this.textDarkBlack=a.darkBlack,this.textLightBlack=a.lightBlack,this.textMinBlack=a.minBlack,this.textFullWhite=a.fullWhite,this.textDarkWhite=a.darkWhite,this.textLightWhite=a.lightWhite,this.fontWeightLight=300,this.fontWeightNormal=400,this.fontWeightMedium=500,this.fontStyleButtonFontSize=14};e.default=new s},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={menu:1e3,appBar:1100,drawerOverlay:1200,drawer:1300,dialogOverlay:1400,dialog:1500,layer:2e3,popover:2100,snackbar:2900,tooltip:3e3}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}))};c=(0,s.default)(c),c.displayName="ActionAccountCircle",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"}))};c=(0,s.default)(c),c.displayName="ActionAssignment",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}))};c=(0,s.default)(c),c.displayName="ActionCheckCircle",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}))};c=(0,s.default)(c),c.displayName="ActionDelete",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}))};c=(0,s.default)(c),c.displayName="ActionDone",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}))};c=(0,s.default)(c),c.displayName="ActionInfo",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z"}))};c=(0,s.default)(c),c.displayName="ActionInput",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm-2 16c-2.05 0-3.81-1.24-4.58-3h1.71c.63.9 1.68 1.5 2.87 1.5 1.93 0 3.5-1.57 3.5-3.5S13.93 9.5 12 9.5c-1.35 0-2.52.78-3.1 1.9l1.6 1.6h-4V9l1.3 1.3C8.69 8.92 10.23 8 12 8c2.76 0 5 2.24 5 5s-2.24 5-5 5z"}))};c=(0,s.default)(c),c.displayName="ActionRestorePage",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}))};c=(0,s.default)(c),c.displayName="ActionSearch",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M17.01 14h-.8l-.27-.27c.98-1.14 1.57-2.61 1.57-4.23 0-3.59-2.91-6.5-6.5-6.5s-6.5 3-6.5 6.5H2l3.84 4 4.16-4H6.51C6.51 7 8.53 5 11.01 5s4.5 2.01 4.5 4.5c0 2.48-2.02 4.5-4.5 4.5-.65 0-1.26-.14-1.82-.38L7.71 15.1c.97.57 2.09.9 3.3.9 1.61 0 3.08-.59 4.22-1.57l.27.27v.79l5.01 4.99L22 19l-4.99-5z"}))};c=(0,s.default)(c),c.displayName="ActionYoutubeSearchedFor",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"}))};c=(0,s.default)(c),c.displayName="AvFastForward",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z"}))};c=(0,s.default)(c),c.displayName="AvFastRewind",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}))};c=(0,s.default)(c),c.displayName="AvPause",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M8 5v14l11-7z"}))};c=(0,s.default)(c),c.displayName="AvPlayArrow",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M14 10H2v2h12v-2zm0-4H2v2h12V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM2 16h8v-2H2v2z"}))};c=(0,s.default)(c),c.displayName="AvPlaylistAdd",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"}))};c=(0,s.default)(c),c.displayName="AvSkipNext",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z"}))};c=(0,s.default)(c),c.displayName="AvSkipPrevious",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}))};c=(0,s.default)(c),c.displayName="ContentAddBox",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}))};c=(0,s.default)(c),c.displayName="ContentSave",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}))};c=(0,s.default)(c),c.displayName="FileFolder",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}))};c=(0,s.default)(c),c.displayName="HardwareKeyboardArrowDown",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"}))};c=(0,s.default)(c),c.displayName="HardwareKeyboardArrowUp",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}))};c=(0,s.default)(c),c.displayName="ImageEdit",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}))};c=(0,s.default)(c),c.displayName="NavigationArrowBack",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M7 10l5 5 5-5z"}))};c=(0,s.default)(c),c.displayName="NavigationArrowDropDown",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}))};c=(0,s.default)(c),c.displayName="NavigationCancel",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}))};c=(0,s.default)(c),c.displayName="NavigationCheck",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}))};c=(0,s.default)(c),c.displayName="NavigationExpandLess",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))};c=(0,s.default)(c),c.displayName="NavigationExpandMore",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}))};c=(0,s.default)(c),c.displayName="NavigationMenu",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M20 6h-8l-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-2.06 11L15 15.28 12.06 17l.78-3.33-2.59-2.24 3.41-.29L15 8l1.34 3.14 3.41.29-2.59 2.24.78 3.33z"}))};c=(0,s.default)(c),c.displayName="NotificationFolderSpecial",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))};c=(0,s.default)(c),c.displayName="ToggleCheckBoxOutlineBlank",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}))};c=(0,s.default)(c),c.displayName="ToggleCheckBox",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}))};c=(0,s.default)(c),c.displayName="ToggleRadioButtonChecked",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(14),s=n(a),l=r(13),u=n(l),c=function(t){return i.default.createElement(u.default,t,i.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}))};c=(0,s.default)(c),c.displayName="ToggleRadioButtonUnchecked",c.muiName="SvgIcon",e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(68),i=n(o);e.default=function(t){var e="undefined"!=typeof navigator,r=t.userAgent;if(void 0===r&&e&&(r=navigator.userAgent),void 0!==r||u||(u=!0),r===!1)return null;if("all"===r||void 0===r)return function(t){var r=["flex","inline-flex"].indexOf(t.display)!==-1,n=s.default.prefixAll(t);if(r){var o=n.display;e?n.display=o[o.length-1]:n.display=o.join("; display: ")}return n};var n=function(){var t=new s.default({userAgent:r});return{v:function(e){return t.prefix(e)}}}();return"object"===("undefined"==typeof n?"undefined":(0,i.default)(n))?n.v:void 0};var a=r(870),s=n(a),l=r(43),u=(n(l),!1)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(43);n(i)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){return function(e,r,n,o,i){if(null!=e[r]){var s=n+"."+r;a[s]=!0}for(var l=arguments.length,u=Array(l>5?l-5:0),c=5;c<l;c++)u[c-5]=arguments[c];return t.apply(void 0,[e,r,n,o,i].concat(u))}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(43),a=(n(i),{})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.getOffsetTop=function(t){for(var e=t.offsetTop,r=t.offsetParent;null!=r;)e+=r.offsetTop,r=r.offsetParent;return e},e.isIOS=function(){return/iPad|iPhone|iPod/.test(window.navigator.userAgent)&&!window.MSStream}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t.isRtl)return function(t){if(t.directionInvariant===!0)return t;var e={right:"left",left:"right",marginRight:"marginLeft",marginLeft:"marginRight",paddingRight:"paddingLeft",paddingLeft:"paddingRight",borderRight:"borderLeft",borderLeft:"borderRight"},r={};return(0,a.default)(t).forEach(function(n){var o=t[n],i=n;switch(e.hasOwnProperty(n)&&(i=e[n]),n){case"float":case"textAlign":"right"===o?o="left":"left"===o&&(o="right");break;case"direction":"ltr"===o?o="rtl":"rtl"===o&&(o="ltr");break;case"transform":if(!o)break;var a=void 0;(a=o.match(s))&&(o=o.replace(a[0],a[1]+-parseFloat(a[4]))),(a=o.match(l))&&(o=o.replace(a[0],a[1]+-parseFloat(a[4])+a[5]+a[6]?", "+(-parseFloat(a[7])+a[8]):""));break;case"transformOrigin":if(!o)break;o.indexOf("right")>-1?o=o.replace("right","left"):o.indexOf("left")>-1&&(o=o.replace("left","right"))}r[i]=o}),r}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(117),a=n(i);e.default=o;var s=/((^|\s)translate(3d|X)?\()(\-?[\d]+)/,l=/((^|\s)skew(x|y)?\()\s*(\-?[\d]+)(deg|rad|grad)(,\s*(\-?[\d]+)(deg|rad|grad))?/},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.largeWidth,r=void 0===e?992:e,n=t.mediumWidth,o=void 0===n?768:n,i=t.resizeInterval,s=void 0===i?166:i;return function(t){return function(e){function n(){var t,e,r,o;(0,c.default)(this,n);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return e=r=(0,d.default)(this,(t=n.__proto__||(0,l.default)(n)).call.apply(t,[this].concat(a))),r.state={width:null},r.handleResize=function(){clearTimeout(r.deferTimer),r.deferTimer=setTimeout(function(){r.updateWidth()},s)},o=e,(0,d.default)(r,o)}return(0,m.default)(n,e),(0,f.default)(n,[{key:"componentDidMount",value:function(){this.updateWidth()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.deferTimer)}},{key:"updateWidth",value:function(){var t=window.innerWidth,e=void 0;e=t>=r?T:t>=o?w:_,e!==this.state.width&&this.setState({width:e})}},{key:"render",value:function(){var e=this.state.width;return null===e?null:g.default.createElement(x.default,{target:"window",onResize:this.handleResize},g.default.createElement(t,(0,a.default)({width:e},this.props)))}}]),n}(v.Component)}}Object.defineProperty(e,"__esModule",{value:!0}),e.LARGE=e.MEDIUM=e.SMALL=void 0;var i=r(5),a=n(i),s=r(8),l=n(s),u=r(2),c=n(u),p=r(7),f=n(p),h=r(4),d=n(h),y=r(3),m=n(y);e.default=o;var v=r(1),g=n(v),b=r(77),x=n(b),_=e.SMALL=1,w=e.MEDIUM=2,T=e.LARGE=3},function(t,e,r){var n,n;(function(e,r){!function(e){t.exports=e()}(function(){var t;return function t(e,r,o){function i(s,l){if(!r[s]){if(!e[s]){var u="function"==typeof n&&n;if(!l&&u)return n(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var p=r[s]={exports:{}};e[s][0].call(p.exports,function(t){var r=e[s][1][t];return i(r?r:t)},p,p.exports,t,e,r,o)}return r[s].exports}for(var a="function"==typeof n&&n,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e,r){"use strict";var n=t("../src/lib"),o={"X,X div":"font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .modebar":"position:absolute;top:2px;right:2px;z-index:1001;background:rgba(255,255,255,0.7);","X .modebar--hover":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;margin-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-group:first-child":"margin-left:0px;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar-btn path":"fill:rgba(0,31,95,0.3);","X .modebar-btn.active path,X .modebar-btn:hover path":"fill:rgba(0,22,72,0.5);","X .modebar-btn.modebar-btn--logo":"padding:3px 1px;","X .modebar-btn.modebar-btn--logo path":"fill:#447adb !important;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:white;","X .select-outline-2":"stroke:black;stroke-dasharray:2px 2px;",Y:"font-family:'Open Sans';position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;","Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var i in o){var a=i.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");n.addStyleRule(a,o[i])}},{"../src/lib":681}],2:[function(t,e,r){"use strict";e.exports={undo:{width:857.1,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",ascent:850,descent:-150},home:{width:928.6,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",ascent:850,descent:-150},"camera-retro":{width:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",ascent:850,descent:-150},zoombox:{width:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",ascent:850,descent:-150},pan:{width:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",ascent:850,descent:-150},zoom_plus:{width:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",ascent:850,descent:-150},zoom_minus:{width:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",ascent:850,descent:-150},autoscale:{width:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",ascent:850,descent:-150},tooltip_basic:{width:1500,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",ascent:850,descent:-150},tooltip_compare:{width:1125,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",ascent:850,descent:-150},plotlylogo:{width:1542,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",ascent:850,descent:-150},"z-axis":{width:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",
ascent:850,descent:-150},"3d_rotate":{width:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",ascent:850,descent:-150},camera:{width:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",ascent:850,descent:-150},movie:{width:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",ascent:850,descent:-150},question:{width:857.1,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",ascent:850,descent:-150},disk:{width:857.1,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",ascent:850,descent:-150},lasso:{width:1031,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",ascent:850,descent:-150},selectbox:{width:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",ascent:850,descent:-150}}},{}],3:[function(t,e,r){"use strict";e.exports=t("../src/traces/bar")},{"../src/traces/bar":808}],4:[function(t,e,r){"use strict";e.exports=t("../src/traces/box")},{"../src/traces/box":820}],5:[function(t,e,r){"use strict";e.exports=t("../src/components/calendars")},{"../src/components/calendars":574}],6:[function(t,e,r){"use strict";e.exports=t("../src/traces/candlestick")},{"../src/traces/candlestick":828}],7:[function(t,e,r){"use strict";e.exports=t("../src/traces/choropleth")},{"../src/traces/choropleth":835}],8:[function(t,e,r){"use strict";e.exports=t("../src/traces/contour")},{"../src/traces/contour":845}],9:[function(t,e,r){"use strict";e.exports=t("../src/core")},{"../src/core":666}],10:[function(t,e,r){"use strict";e.exports=t("../src/transforms/filter")},{"../src/transforms/filter":986}],11:[function(t,e,r){"use strict";e.exports=t("../src/transforms/groupby")},{"../src/transforms/groupby":987}],12:[function(t,e,r){"use strict";e.exports=t("../src/traces/heatmap")},{"../src/traces/heatmap":860}],13:[function(t,e,r){"use strict";e.exports=t("../src/traces/heatmapgl")},{"../src/traces/heatmapgl":869}],14:[function(t,e,r){"use strict";e.exports=t("../src/traces/histogram")},{"../src/traces/histogram":877}],15:[function(t,e,r){"use strict";e.exports=t("../src/traces/histogram2d")},{"../src/traces/histogram2d":882}],16:[function(t,e,r){"use strict";e.exports=t("../src/traces/histogram2dcontour")},{"../src/traces/histogram2dcontour":886}],17:[function(t,e,r){"use strict";var n=t("./core");n.register([t("./bar"),t("./box"),t("./heatmap"),t("./histogram"),t("./histogram2d"),t("./histogram2dcontour"),t("./pie"),t("./contour"),t("./scatterternary"),t("./scatter3d"),t("./surface"),t("./mesh3d"),t("./scattergeo"),t("./choropleth"),t("./scattergl"),t("./pointcloud"),t("./heatmapgl"),t("./parcoords"),t("./scattermapbox"),t("./ohlc"),t("./candlestick")]),n.register([t("./filter"),t("./groupby")]),n.register([t("./calendars")]),e.exports=n},{"./bar":3,"./box":4,"./calendars":5,"./candlestick":6,"./choropleth":7,"./contour":8,"./core":9,"./filter":10,"./groupby":11,"./heatmap":12,"./heatmapgl":13,"./histogram":14,"./histogram2d":15,"./histogram2dcontour":16,"./mesh3d":18,"./ohlc":19,"./parcoords":20,"./pie":21,"./pointcloud":22,"./scatter3d":23,"./scattergeo":24,"./scattergl":25,"./scattermapbox":26,"./scatterternary":27,"./surface":28}],18:[function(t,e,r){"use strict";e.exports=t("../src/traces/mesh3d")},{"../src/traces/mesh3d":890}],19:[function(t,e,r){"use strict";e.exports=t("../src/traces/ohlc")},{"../src/traces/ohlc":895}],20:[function(t,e,r){"use strict";e.exports=t("../src/traces/parcoords")},{"../src/traces/parcoords":904}],21:[function(t,e,r){"use strict";e.exports=t("../src/traces/pie")},{"../src/traces/pie":913}],22:[function(t,e,r){"use strict";e.exports=t("../src/traces/pointcloud")},{"../src/traces/pointcloud":922}],23:[function(t,e,r){"use strict";e.exports=t("../src/traces/scatter3d")},{"../src/traces/scatter3d":952}],24:[function(t,e,r){"use strict";e.exports=t("../src/traces/scattergeo")},{"../src/traces/scattergeo":958}],25:[function(t,e,r){"use strict";e.exports=t("../src/traces/scattergl")},{"../src/traces/scattergl":963}],26:[function(t,e,r){"use strict";e.exports=t("../src/traces/scattermapbox")},{"../src/traces/scattermapbox":970}],27:[function(t,e,r){"use strict";e.exports=t("../src/traces/scatterternary")},{"../src/traces/scatterternary":976}],28:[function(t,e,r){"use strict";e.exports=t("../src/traces/surface")},{"../src/traces/surface":985}],29:[function(t,e,r){"use strict";function n(t,e){function r(e,r,n,i){var a=1/t.clientHeight,s=a*(r-y),l=a*(n-m),c=d.flipX?1:-1,f=d.flipY?1:-1,h=Math.PI*d.rotateSpeed,g=o();if(1&e)i.shift?u.rotate(g,0,0,-s*h):u.rotate(g,c*h*s,-f*h*l,0);else if(2&e)u.pan(g,-d.translateSpeed*s*p,d.translateSpeed*l*p,0);else if(4&e){var b=d.zoomSpeed*l/window.innerHeight*(g-u.lastT())*50;u.pan(g,0,0,p*(Math.exp(b)-1))}y=r,m=n,v=i}t=t||document.body,e=e||{};var n=[.01,1/0];"distanceLimits"in e&&(n[0]=e.distanceLimits[0],n[1]=e.distanceLimits[1]),"zoomMin"in e&&(n[0]=e.zoomMin),"zoomMax"in e&&(n[1]=e.zoomMax);var u=i({center:e.center||[0,0,0],up:e.up||[0,1,0],eye:e.eye||[0,0,10],mode:e.mode||"orbit",distanceLimits:n}),c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],p=0,f=t.clientWidth,h=t.clientHeight,d={view:u,element:t,delay:e.delay||16,rotateSpeed:e.rotateSpeed||1,zoomSpeed:e.zoomSpeed||1,translateSpeed:e.translateSpeed||1,flipX:!!e.flipX,flipY:!!e.flipY,modes:u.modes,tick:function(){var e=o(),r=this.delay;u.idle(e-r),u.flush(e-(100+2*r));var n=e-2*r;u.recalcMatrix(n);for(var i=!0,a=u.computedMatrix,s=0;s<16;++s)i=i&&c[s]===a[s],c[s]=a[s];var l=t.clientWidth===f&&t.clientHeight===h;return f=t.clientWidth,h=t.clientHeight,i?!l:(p=Math.exp(u.computedRadius[0]),!0)},lookAt:function(t,e,r){u.lookAt(u.lastT(),t,e,r)},rotate:function(t,e,r){u.rotate(u.lastT(),t,e,r)},pan:function(t,e,r){u.pan(u.lastT(),t,e,r)},translate:function(t,e,r){u.translate(u.lastT(),t,e,r)}};Object.defineProperties(d,{matrix:{get:function(){return u.computedMatrix},set:function(t){return u.setMatrix(u.lastT(),t),u.computedMatrix},enumerable:!0},mode:{get:function(){return u.getMode()},set:function(t){return u.setMode(t),u.getMode()},enumerable:!0},center:{get:function(){return u.computedCenter},set:function(t){return u.lookAt(u.lastT(),t),u.computedCenter},enumerable:!0},eye:{get:function(){return u.computedEye},set:function(t){return u.lookAt(u.lastT(),null,t),u.computedEye},enumerable:!0},up:{get:function(){return u.computedUp},set:function(t){return u.lookAt(u.lastT(),null,null,t),u.computedUp},enumerable:!0},distance:{get:function(){return p},set:function(t){return u.setDistance(u.lastT(),t),t},enumerable:!0},distanceLimits:{get:function(){return u.getDistanceLimits(n)},set:function(t){return u.setDistanceLimits(t),t},enumerable:!0}}),t.addEventListener("contextmenu",function(t){return t.preventDefault(),!1});var y=0,m=0,v={shift:!1,control:!1,alt:!1,meta:!1};return a(t,r),t.addEventListener("touchstart",function(e){var n=l(e.changedTouches[0],t);r(0,n[0],n[1],v),r(1,n[0],n[1],v)}),t.addEventListener("touchmove",function(e){var n=l(e.changedTouches[0],t);r(1,n[0],n[1],v)}),t.addEventListener("touchend",function(e){l(e.changedTouches[0],t);r(0,y,m,v)}),s(t,function(t,e,r){var n=d.flipX?1:-1,i=d.flipY?1:-1,a=o();if(Math.abs(t)>Math.abs(e))u.rotate(a,0,0,-t*n*Math.PI*d.rotateSpeed/window.innerWidth);else{var s=d.zoomSpeed*i*e/window.innerHeight*(a-u.lastT())/100;u.pan(a,0,0,p*(Math.exp(s)-1))}},!0),d}e.exports=n;var o=t("right-now"),i=t("3d-view"),a=t("mouse-change"),s=t("mouse-wheel"),l=t("mouse-event-offset")},{"3d-view":30,"mouse-change":432,"mouse-event-offset":433,"mouse-wheel":435,"right-now":481}],30:[function(t,e,r){"use strict";function n(t,e){this._controllerNames=Object.keys(t),this._controllerList=this._controllerNames.map(function(e){return t[e]}),this._mode=e,this._active=t[e],this._active||(this._mode="turntable",this._active=t.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}function o(t){t=t||{};var e=t.eye||[0,0,1],r=t.center||[0,0,0],o=t.up||[0,1,0],l=t.distanceLimits||[0,1/0],u=t.mode||"turntable",c=i(),p=a(),f=s();return c.setDistanceLimits(l[0],l[1]),c.lookAt(0,e,r,o),p.setDistanceLimits(l[0],l[1]),p.lookAt(0,e,r,o),f.setDistanceLimits(l[0],l[1]),f.lookAt(0,e,r,o),new n({turntable:c,orbit:p,matrix:f},u)}e.exports=o;var i=t("turntable-camera-controller"),a=t("orbit-camera-controller"),s=t("matrix-camera-controller"),l=n.prototype,u=[["flush",1],["idle",1],["lookAt",4],["rotate",4],["pan",4],["translate",4],["setMatrix",2],["setDistanceLimits",2],["setDistance",2]];u.forEach(function(t){for(var e=t[0],r=[],n=0;n<t[1];++n)r.push("a"+n);var o="var cc=this._controllerList;for(var i=0;i<cc.length;++i){cc[i]."+t[0]+"("+r.join()+")}";l[e]=Function.apply(null,r.concat(o))}),l.recalcMatrix=function(t){this._active.recalcMatrix(t)},l.getDistance=function(t){return this._active.getDistance(t)},l.getDistanceLimits=function(t){return this._active.getDistanceLimits(t)},l.lastT=function(){return this._active.lastT()},l.setMode=function(t){if(t!==this._mode){var e=this._controllerNames.indexOf(t);if(!(e<0)){var r=this._active,n=this._controllerList[e],o=Math.max(r.lastT(),n.lastT());r.recalcMatrix(o),n.setMatrix(o,r.computedMatrix),this._active=n,this._mode=t,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},l.getMode=function(){return this._mode}},{"matrix-camera-controller":430,"orbit-camera-controller":452,"turntable-camera-controller":516}],31:[function(t,e,r){"use strict";function n(t){var e=s.get(t),r=e&&(e._triangleBuffer.handle||e._triangleBuffer.buffer);if(!r||!t.isBuffer(r)){var n=i(t,new Float32Array([-1,-1,-1,4,4,-1]));e=a(t,[{buffer:n,type:t.FLOAT,size:2}]),e._triangleBuffer=n,s.set(t,e)}e.bind(),t.drawArrays(t.TRIANGLES,0,3),e.unbind()}var o="undefined"==typeof WeakMap?t("weak-map"):WeakMap,i=t("gl-buffer"),a=t("gl-vao"),s=new o;e.exports=n},{"gl-buffer":138,"gl-vao":253,"weak-map":537}],32:[function(t,e,r){function n(t,e,r){e="number"==typeof e?e:1,r=r||": ";var n=t.split(/\r?\n/),i=String(n.length+e-1).length;return n.map(function(t,n){var a=n+e,s=String(a).length,l=o(a,i-s);return l+r+t}).join("\n")}var o=t("pad-left");e.exports=n},{"pad-left":453}],33:[function(t,e,r){"use strict";function n(t,e){for(var r=new Array(e+1),n=0;n<t.length;++n)r[n]=t[n];for(var n=0;n<=t.length;++n){for(var o=t.length;o<=e;++o){for(var a=new Array(e),s=0;s<e;++s)a[s]=Math.pow(o+1-n,s);r[o]=a}var l=i.apply(void 0,r);if(l)return!0}return!1}function o(t){var e=t.length;if(0===e)return[];if(1===e)return[0];for(var r=t[0].length,o=[t[0]],i=[0],a=1;a<e;++a)if(o.push(t[a]),n(o,r)){if(i.push(a),i.length===r+1)return i}else o.pop();return i}e.exports=o;var i=t("robust-orientation")},{"robust-orientation":487}],34:[function(t,e,r){"use strict";function n(t,e){return o(e).filter(function(r){for(var n=new Array(r.length),o=0;o<r.length;++o)n[o]=e[r[o]];return i(n)*t<1})}e.exports=n;var o=t("delaunay-triangulate"),i=t("circumradius")},{circumradius:77,"delaunay-triangulate":105}],35:[function(t,e,r){function n(t,e){return i(o(t,e))}e.exports=n;var o=t("alpha-complex"),i=t("simplicial-complex-boundary")},{"alpha-complex":34,"simplicial-complex-boundary":495}],36:[function(t,e,r){"use strict";var n=function(){function t(t){return!Array.isArray(t)&&null!==t&&"object"==typeof t}function e(t,e,r){for(var n=(e-t)/Math.max(r-1,1),o=[],i=0;i<r;i++)o.push(t+i*n);return o}function r(){for(var t=[].slice.call(arguments),e=t.map(function(t){return t.length}),r=Math.min.apply(null,e),n=[],o=0;o<r;o++){n[o]=[];for(var i=0;i<t.length;++i)n[o][i]=t[i][o]}return n}function n(t,e,r){for(var n=Math.min.apply(null,[t.length,e.length,r.length]),o=[],i=0;i<n;i++)o.push([t[i],e[i],r[i]]);return o}function o(t){function e(t){for(var n=0;n<t.length;n++)Array.isArray(t[n])?e(t[n],r):r+=t[n]}var r=0;return e(t,r),r}function i(t){for(var e=[],r=0;r<t.length;++r){e[r]=[];for(var n=0;n<t[r].length;++n)e[r][n]=t[r][n]}return e}function a(t){for(var e=[],r=0;r<t.length;++r)e[r]=t[r];return e}function s(t,e){if(t.length!==e.length)return!1;for(var r=t.length;r--;)if(t[r]!==e[r])return!1;return!0}function l(t,e){var r,n;if("string"!=typeof t)return t;if(r=[],"#"===t[0]?(t=t.substr(1),3===t.length&&(t+=t),n=parseInt(t,16),r[0]=n>>16&255,r[1]=n>>8&255,r[2]=255&n):p.test(t)&&(n=t.match(f),r[0]=parseInt(n[1]),r[1]=parseInt(n[2]),r[2]=parseInt(n[3])),!e)for(var o=0;o<3;++o)r[o]=r[o]/255;return r}function u(t,e){var r,n;if("string"!=typeof t)return t;if(r=[],"#"===t[0]?(t=t.substr(1),3===t.length&&(t+=t),n=parseInt(t,16),r[0]=n>>16&255,r[1]=n>>8&255,r[2]=255&n):p.test(t)&&(n=t.match(f),r[0]=parseInt(n[1]),r[1]=parseInt(n[2]),r[2]=parseInt(n[3]),n[4]?r[3]=parseFloat(n[4]):r[3]=1),!e)for(var o=0;o<3;++o)r[o]=r[o]/255;return r}var c={},p=/^rgba?\(\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}\s*(,.*)?\)$/,f=/^rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,?\s*(.*)?\)$/;return c.isPlainObject=t,c.linspace=e,c.zip3=n,c.sum=o,c.zip=r,c.isEqual=s,c.copy2D=i,c.copy1D=a,c.str2RgbArray=l,c.str2RgbaArray=u,c};e.exports=n()},{}],37:[function(t,r,n){(function(e){"use strict";/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
function n(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0}function o(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}function i(t){return Object.prototype.toString.call(t)}function a(t){return!o(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}function s(t){if(x.isFunction(t)){if(T)return t.name;var e=t.toString(),r=e.match(S);return r&&r[1]}}function l(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function u(t){if(T||!x.isFunction(t))return x.inspect(t);var e=s(t),r=e?": "+e:"";return"[Function"+r+"]"}function c(t){return l(u(t.actual),128)+" "+t.operator+" "+l(u(t.expected),128)}function p(t,e,r,n,o){throw new M.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:o})}function f(t,e){t||p(t,!0,e,"==",M.ok)}function h(t,e,r,s){if(t===e)return!0;if(o(t)&&o(e))return 0===n(t,e);if(x.isDate(t)&&x.isDate(e))return t.getTime()===e.getTime();if(x.isRegExp(t)&&x.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(a(t)&&a(e)&&i(t)===i(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===n(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(o(t)!==o(e))return!1;s=s||{actual:[],expected:[]};var l=s.actual.indexOf(t);return l!==-1&&l===s.expected.indexOf(e)||(s.actual.push(t),s.expected.push(e),y(t,e,r,s))}return r?t===e:t==e}function d(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function y(t,e,r,n){if(null===t||void 0===t||null===e||void 0===e)return!1;if(x.isPrimitive(t)||x.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=d(t),i=d(e);if(o&&!i||!o&&i)return!1;if(o)return t=w.call(t),e=w.call(e),h(t,e,r);var a,s,l=E(t),u=E(e);if(l.length!==u.length)return!1;for(l.sort(),u.sort(),s=l.length-1;s>=0;s--)if(l[s]!==u[s])return!1;for(s=l.length-1;s>=0;s--)if(a=l[s],!h(t[a],e[a],r,n))return!1;return!0}function m(t,e,r){h(t,e,!0)&&p(t,e,r,"notDeepStrictEqual",m)}function v(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&e.call({},t)===!0}function g(t){var e;try{t()}catch(t){e=t}return e}function b(t,e,r,n){var o;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),o=g(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!o&&p(o,r,"Missing expected exception"+n);var i="string"==typeof n,a=!t&&x.isError(o),s=!t&&o&&!r;if((a&&i&&v(o,r)||s)&&p(o,r,"Got unwanted exception"+n),t&&o&&r&&!v(o,r)||!t&&o)throw o}var x=t("util/"),_=Object.prototype.hasOwnProperty,w=Array.prototype.slice,T=function(){return"foo"===function(){}.name}(),M=r.exports=f,S=/\s*function\s+([^\(\s]*)\s*/;M.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=c(this),this.generatedMessage=!0);var e=t.stackStartFunction||p;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,o=s(e),i=n.indexOf("\n"+o);if(i>=0){var a=n.indexOf("\n",i+1);n=n.substring(a+1)}this.stack=n}}},x.inherits(M.AssertionError,Error),M.fail=p,M.ok=f,M.equal=function(t,e,r){t!=e&&p(t,e,r,"==",M.equal)},M.notEqual=function(t,e,r){t==e&&p(t,e,r,"!=",M.notEqual)},M.deepEqual=function(t,e,r){h(t,e,!1)||p(t,e,r,"deepEqual",M.deepEqual)},M.deepStrictEqual=function(t,e,r){h(t,e,!0)||p(t,e,r,"deepStrictEqual",M.deepStrictEqual)},M.notDeepEqual=function(t,e,r){h(t,e,!1)&&p(t,e,r,"notDeepEqual",M.notDeepEqual)},M.notDeepStrictEqual=m,M.strictEqual=function(t,e,r){t!==e&&p(t,e,r,"===",M.strictEqual)},M.notStrictEqual=function(t,e,r){t===e&&p(t,e,r,"!==",M.notStrictEqual)},M.throws=function(t,e,r){b(!0,t,e,r)},M.doesNotThrow=function(t,e,r){b(!1,t,e,r)},M.ifError=function(t){if(t)throw t};var E=Object.keys||function(t){var e=[];for(var r in t)_.call(t,r)&&e.push(r);return e}}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"util/":527}],38:[function(t,e,r){e.exports=function(t){return atob(t)}},{}],39:[function(t,e,r){"use strict";function n(t){for(var e=0,r=0;r<t.length;++r)e+=t[r];return e}function o(t,e){for(var r=e.length,o=new Array(r+1),a=0;a<r;++a){for(var s=new Array(r+1),l=0;l<=r;++l)s[l]=t[l][a];o[a]=s}o[r]=new Array(r+1);for(var a=0;a<=r;++a)o[r][a]=1;for(var u=new Array(r+1),a=0;a<r;++a)u[a]=e[a];u[r]=1;var c=i(o,u),p=n(c[r+1]);0===p&&(p=1);for(var f=new Array(r+1),a=0;a<=r;++a)f[a]=n(c[a])/p;return f}e.exports=o;var i=t("robust-linear-solve")},{"robust-linear-solve":486}],40:[function(t,e,r){"use strict";function n(t,e){return o(t[0].mul(e[1]).add(e[0].mul(t[1])),t[1].mul(e[1]))}var o=t("./lib/rationalize");e.exports=n},{"./lib/rationalize":50}],41:[function(t,e,r){"use strict";function n(t,e){return t[0].mul(e[1]).cmp(e[0].mul(t[1]))}e.exports=n},{}],42:[function(t,e,r){"use strict";function n(t,e){return o(t[0].mul(e[1]),t[1].mul(e[0]))}var o=t("./lib/rationalize");e.exports=n},{"./lib/rationalize":50}],43:[function(t,e,r){"use strict";function n(t,e){if(o(t))return e?u(t,n(e)):[t[0].clone(),t[1].clone()];var r,c,p=0;if(i(t))r=t.clone();else if("string"==typeof t)r=s(t);else{if(0===t)return[a(0),a(1)];if(t===Math.floor(t))r=a(t);else{for(;t!==Math.floor(t);)t*=Math.pow(2,256),p-=256;r=a(t)}}if(o(e))r.mul(e[1]),c=e[0].clone();else if(i(e))c=e.clone();else if("string"==typeof e)c=s(e);else if(e)if(e===Math.floor(e))c=a(e);else{for(;e!==Math.floor(e);)e*=Math.pow(2,256),p+=256;c=a(e)}else c=a(1);return p>0?r=r.shln(p):p<0&&(c=c.shln(-p)),l(r,c)}var o=t("./is-rat"),i=t("./lib/is-bn"),a=t("./lib/num-to-bn"),s=t("./lib/str-to-bn"),l=t("./lib/rationalize"),u=t("./div");e.exports=n},{"./div":42,"./is-rat":44,"./lib/is-bn":48,"./lib/num-to-bn":49,"./lib/rationalize":50,"./lib/str-to-bn":51}],44:[function(t,e,r){"use strict";function n(t){return Array.isArray(t)&&2===t.length&&o(t[0])&&o(t[1])}var o=t("./lib/is-bn");e.exports=n},{"./lib/is-bn":48}],45:[function(t,e,r){"use strict";function n(t){return t.cmp(new o(0))}var o=t("bn.js");e.exports=n},{"bn.js":58}],46:[function(t,e,r){"use strict";function n(t){var e=t.length,r=t.words,n=0;if(1===e)n=r[0];else if(2===e)n=r[0]+67108864*r[1];else for(var n=0,o=0;o<e;o++){var i=r[o];n+=i*Math.pow(67108864,o)}return t.sign?-n:n}e.exports=n},{}],47:[function(t,e,r){"use strict";function n(t){var e=i(o.lo(t));if(e<32)return e;var r=i(o.hi(t));return r>20?52:r+32}var o=t("double-bits"),i=t("bit-twiddle").countTrailingZeros;e.exports=n},{"bit-twiddle":57,"double-bits":106}],48:[function(t,e,r){"use strict";function n(t){return t&&"object"==typeof t&&Boolean(t.words)}t("bn.js");e.exports=n},{"bn.js":58}],49:[function(t,e,r){"use strict";function n(t){var e=i.exponent(t);return e<52?new o(t):new o(t*Math.pow(2,52-e)).shln(e-52)}var o=t("bn.js"),i=t("double-bits");e.exports=n},{"bn.js":58,"double-bits":106}],50:[function(t,e,r){"use strict";function n(t,e){var r=i(t),n=i(e);if(0===r)return[o(0),o(1)];if(0===n)return[o(0),o(0)];n<0&&(t=t.neg(),e=e.neg());var a=t.gcd(e);return a.cmpn(1)?[t.div(a),e.div(a)]:[t,e]}var o=t("./num-to-bn"),i=t("./bn-sign");e.exports=n},{"./bn-sign":45,"./num-to-bn":49}],51:[function(t,e,r){"use strict";function n(t){return new o(t)}var o=t("bn.js");e.exports=n},{"bn.js":58}],52:[function(t,e,r){"use strict";function n(t,e){return o(t[0].mul(e[0]),t[1].mul(e[1]))}var o=t("./lib/rationalize");e.exports=n},{"./lib/rationalize":50}],53:[function(t,e,r){"use strict";function n(t){return o(t[0])*o(t[1])}var o=t("./lib/bn-sign");e.exports=n},{"./lib/bn-sign":45}],54:[function(t,e,r){"use strict";function n(t,e){return o(t[0].mul(e[1]).sub(t[1].mul(e[0])),t[1].mul(e[1]))}var o=t("./lib/rationalize");e.exports=n},{"./lib/rationalize":50}],55:[function(t,e,r){"use strict";function n(t){var e=t[0],r=t[1];if(0===e.cmpn(0))return 0;var n=e.divmod(r),a=n.div,s=o(a),l=n.mod;if(0===l.cmpn(0))return s;if(s){var u=i(s)+4,c=o(l.shln(u).divRound(r));return s<0&&(c=-c),s+c*Math.pow(2,-u)}var p=r.bitLength()-l.bitLength()+53,c=o(l.shln(p).divRound(r));return p<1023?c*Math.pow(2,-p):(c*=Math.pow(2,-1023),c*Math.pow(2,1023-p))}var o=t("./lib/bn-to-num"),i=t("./lib/ctz");e.exports=n},{"./lib/bn-to-num":46,"./lib/ctz":47}],56:[function(t,e,r){"use strict";function n(t,e,r,n,o,i){var a=["function ",t,"(a,l,h,",n.join(","),"){",i?"":"var i=",r?"l-1":"h+1",";while(l<=h){\tvar m=(l+h)>>>1,x=a",o?".get(m)":"[m]"];return i?e.indexOf("c")<0?a.push(";if(x===y){return m}else if(x<=y){"):a.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):a.push(";if(",e,"){i=m;"),r?a.push("l=m+1}else{h=m-1}"):a.push("h=m-1}else{l=m+1}"),a.push("}"),i?a.push("return -1};"):a.push("return i};"),a.join("")}function o(t,e,r,o){var i=new Function([n("A","x"+t+"y",e,["y"],!1,o),n("B","x"+t+"y",e,["y"],!0,o),n("P","c(x,y)"+t+"0",e,["y","c"],!1,o),n("Q","c(x,y)"+t+"0",e,["y","c"],!0,o),"function dispatchBsearch",r,"(a,y,c,l,h){\tif(a.shape){\tif(typeof(c)==='function'){\treturn Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)\t}else{\treturn B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)\t}}else{\tif(typeof(c)==='function'){\treturn P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)\t}else{\treturn A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)\t}}}\treturn dispatchBsearch",r].join(""));return i()}e.exports={ge:o(">=",!1,"GE"),gt:o(">",!1,"GT"),lt:o("<",!0,"LT"),le:o("<=",!0,"LE"),eq:o("-",!0,"EQ",!0)}},{}],57:[function(t,e,r){"use strict";"use restrict";function n(t){var e=32;return t&=-t,t&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}var o=32;r.INT_BITS=o,r.INT_MAX=2147483647,r.INT_MIN=-1<<o-1,r.sign=function(t){return(t>0)-(t<0)},r.abs=function(t){var e=t>>o-1;return(t^e)-e},r.min=function(t,e){return e^(t^e)&-(t<e)},r.max=function(t,e){return t^(t^e)&-(t<e)},r.isPow2=function(t){return!(t&t-1||!t)},r.log2=function(t){var e,r;return e=(t>65535)<<4,t>>>=e,r=(t>255)<<3,t>>>=r,e|=r,r=(t>15)<<2,t>>>=r,e|=r,r=(t>3)<<1,t>>>=r,e|=r,e|t>>1},r.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},r.popCount=function(t){return t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24},r.countTrailingZeros=n,r.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1},r.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t-(t>>>1)},r.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,t&=15,27030>>>t&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,o=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--o;t[e]=n<<o&255}}(i),r.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},r.interleave2=function(t,e){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1},r.deinterleave2=function(t,e){return t=t>>>e&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),t=65535&(t|t>>>16),t<<16>>16},r.interleave3=function(t,e,r){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|=e<<1,r&=1023,r=4278190335&(r|r<<16),r=251719695&(r|r<<8),r=3272356035&(r|r<<4),r=1227133513&(r|r<<2),t|r<<2},r.deinterleave3=function(t,e){return t=t>>>e&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),t=1023&(t|t>>>16),t<<22>>22},r.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>n(t)+1}},{}],58:[function(t,e,r){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){return null!==t&&"object"==typeof t&&Array.isArray(t.words)?t:(this.sign=!1,this.words=null,this.length=0,this.red=null,"le"!==e&&"be"!==e||(r=e,e=10),void(null!==t&&this._init(t||0,e||10,r||"be")))}function i(t,e,r){for(var n=0,o=Math.min(t.length,r),i=e;i<o;i++){var a=t.charCodeAt(i)-48;n<<=4,n|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return n}function a(t,e,r,n){for(var o=0,i=Math.min(t.length,r),a=e;a<i;a++){var s=t.charCodeAt(a)-48;o*=n,o+=s>=49?s-49+10:s>=17?s-17+10:s}return o}function s(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).ishln(this.n).isub(this.p),this.tmp=this._tmp()}function l(){s.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function u(){s.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function c(){s.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function p(){s.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function f(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else this.m=t,this.prime=null}function h(t){f.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).ishln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv.sign=!0,this.minv=this.minv.mod(this.r)}"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26,o.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36),t=t.toString().replace(/\s+/g,"");var o=0;"-"===t[0]&&o++,16===e?this._parseHex(t,o):this._parseBase(t,e,o),"-"===t[0]&&(this.sign=!0),this.strip(),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initNumber=function(t,e,n){t<0&&(this.sign=!0,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var i=0;if("be"===n)for(var o=t.length-1,a=0;o>=0;o-=3){var s=t[o]|t[o-1]<<8|t[o-2]<<16;this.words[a]|=s<<i&67108863,this.words[a+1]=s>>>26-i&67108863,i+=24,i>=26&&(i-=26,a++)}else if("le"===n)for(var o=0,a=0;o<t.length;o+=3){var s=t[o]|t[o+1]<<8|t[o+2]<<16;this.words[a]|=s<<i&67108863,this.words[a+1]=s>>>26-i&67108863,i+=24,i>=26&&(i-=26,a++)}return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;for(var n=0,r=t.length-6,o=0;r>=e;r-=6){var a=i(t,r,r+6);this.words[o]|=a<<n&67108863,this.words[o+1]|=a>>>26-n&4194303,n+=24,n>=26&&(n-=26,o++)}if(r+6!==e){var a=i(t,e,r+6);this.words[o]|=a<<n&67108863,this.words[o+1]|=a>>>26-n&4194303}this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,o=1;o<=67108863;o*=e)n++;n--,o=o/e|0;for(var i=t.length-r,s=i%n,l=Math.min(i,i-s)+r,u=0,c=r;c<l;c+=n)u=a(t,c,c+n,e),this.imuln(o),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){for(var p=1,u=a(t,c,t.length,e),c=0;c<s;c++)p*=e;this.imuln(p),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.sign=this.sign,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.sign=!1),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){if(t=t||10,16===t||"hex"===t){for(var n="",o=0,e=0|e||1,i=0,a=0;a<this.length;a++){var s=this.words[a],l=(16777215&(s<<o|i)).toString(16);i=s>>>24-o&16777215,n=0!==i||a!==this.length-1?d[6-l.length]+l+n:l+n,o+=2,o>=26&&(o-=26,a--)}for(0!==i&&(n=i.toString(16)+n);n.length%e!==0;)n="0"+n;return this.sign&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=y[t],c=m[t],n="",p=this.clone();for(p.sign=!1;0!==p.cmpn(0);){var f=p.modn(c).toString(t);p=p.idivn(c),n=0!==p.cmpn(0)?d[u-f.length]+f+n:f+n}return 0===this.cmpn(0)&&(n="0"+n),this.sign&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toArray=function(t){this.strip();var e=new Array(this.byteLength());e[0]=0;var r=this.clone();if("le"!==t)for(var n=0;0!==r.cmpn(0);n++){var o=r.andln(255);r.ishrn(8),e[e.length-n-1]=o}else for(var n=0;0!==r.cmpn(0);n++){var o=r.andln(255);r.ishrn(8),e[n]=o}return e},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=0,e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(0===this.cmpn(0))return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.neg=function(){if(0===this.cmpn(0))return this.clone();var t=this.clone();return t.sign=!this.sign,t},o.prototype.ior=function(t){for(this.sign=this.sign||t.sign;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.iand=function(t){this.sign=this.sign&&t.sign;var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.ixor=function(t){this.sign=this.sign||t.sign;var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);for(var n=t/26|0,o=t%26;this.length<=n;)this.words[this.length++]=0;return e?this.words[n]=this.words[n]|1<<o:this.words[n]=this.words[n]&~(1<<o),this.strip()},o.prototype.iadd=function(t){if(this.sign&&!t.sign){this.sign=!1;var e=this.isub(t);return this.sign=!this.sign,this._normSign()}if(!this.sign&&t.sign){t.sign=!1;var e=this.isub(t);return t.sign=!0,e._normSign()}var r,n;this.length>t.length?(r=this,n=t):(r=t,n=this);for(var o=0,i=0;i<n.length;i++){var e=r.words[i]+n.words[i]+o;this.words[i]=67108863&e,o=e>>>26}for(;0!==o&&i<r.length;i++){var e=r.words[i]+o;this.words[i]=67108863&e,o=e>>>26}if(this.length=r.length,0!==o)this.words[this.length]=o,this.length++;else if(r!==this)for(;i<r.length;i++)this.words[i]=r.words[i];return this},o.prototype.add=function(t){if(t.sign&&!this.sign){t.sign=!1;var e=this.sub(t);return t.sign=!0,e}if(!t.sign&&this.sign){this.sign=!1;var e=t.sub(this);return this.sign=!0,e}return this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(t.sign){t.sign=!1;var e=this.iadd(t);return t.sign=!0,e._normSign()}if(this.sign)return this.sign=!1,this.iadd(t),this.sign=!0,this._normSign();var r=this.cmp(t);if(0===r)return this.sign=!1,this.length=1,this.words[0]=0,this;var n,o;r>0?(n=this,o=t):(n=t,o=this);for(var i=0,a=0;a<o.length;a++){var e=n.words[a]-o.words[a]+i;i=e>>26,this.words[a]=67108863&e}for(;0!==i&&a<n.length;a++){var e=n.words[a]+i;i=e>>26,this.words[a]=67108863&e}if(0===i&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.sign=!0),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)},o.prototype._smallMulTo=function(t,e){e.sign=t.sign!==this.sign,e.length=this.length+t.length;for(var r=0,n=0;n<e.length-1;n++){for(var o=r>>>26,i=67108863&r,a=Math.min(n,t.length-1),s=Math.max(0,n-this.length+1);s<=a;s++){var l=n-s,u=0|this.words[l],c=0|t.words[s],p=u*c,f=67108863&p;o=o+(p/67108864|0)|0,f=f+i|0,i=67108863&f,o=o+(f>>>26)|0}e.words[n]=i,r=o}return 0!==r?e.words[n]=r:e.length--,e.strip()},o.prototype._bigMulTo=function(t,e){e.sign=t.sign!==this.sign,e.length=this.length+t.length;for(var r=0,n=0,o=0;o<e.length-1;o++){var i=n;n=0;for(var a=67108863&r,s=Math.min(o,t.length-1),l=Math.max(0,o-this.length+1);l<=s;l++){var u=o-l,c=0|this.words[u],p=0|t.words[l],f=c*p,h=67108863&f;i=i+(f/67108864|0)|0,h=h+a|0,a=67108863&h,i=i+(h>>>26)|0,n+=i>>>26,i&=67108863}e.words[o]=a,r=i,i=n}return 0!==r?e.words[o]=r:e.length--,e.strip()},o.prototype.mulTo=function(t,e){var r;return r=this.length+t.length<63?this._smallMulTo(t,e):this._bigMulTo(t,e)},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.imul=function(t){if(0===this.cmpn(0)||0===t.cmpn(0))return this.words[0]=0,this.length=1,this;var e=this.length,r=t.length;this.sign=t.sign!==this.sign,this.length=this.length+t.length,this.words[this.length-1]=0;for(var n=this.length-2;n>=0;n--){for(var o=0,i=0,a=Math.min(n,r-1),s=Math.max(0,n-e+1);s<=a;s++){var l=n-s,u=this.words[l],c=t.words[s],p=u*c,f=67108863&p;o+=p/67108864|0,f+=i,i=67108863&f,o+=f>>>26}this.words[n]=i,this.words[n+1]+=o,o=0}for(var o=0,l=1;l<this.length;l++){var h=this.words[l]+o;this.words[l]=67108863&h,o=h>>>26}return this.strip()},o.prototype.imuln=function(t){r("number"==typeof t);for(var e=0,n=0;n<this.length;n++){var o=this.words[n]*t,i=(67108863&o)+(67108863&e);e>>=26,e+=o/67108864|0,e+=i>>>26,this.words[n]=67108863&i}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.mul(this)},o.prototype.ishln=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,o=67108863>>>26-e<<26-e;if(0!==e){for(var i=0,a=0;a<this.length;a++){var s=this.words[a]&o,l=this.words[a]-s<<e;this.words[a]=l|i,i=s>>>26-e}i&&(this.words[a]=i,this.length++)}if(0!==n){for(var a=this.length-1;a>=0;a--)this.words[a+n]=this.words[a];for(var a=0;a<n;a++)this.words[a]=0;this.length+=n}return this.strip()},o.prototype.ishrn=function(t,e,n){r("number"==typeof t&&t>=0);var o;o=e?(e-e%26)/26:0;var i=t%26,a=Math.min((t-i)/26,this.length),s=67108863^67108863>>>i<<i,l=n;if(o-=a,o=Math.max(0,o),l){for(var u=0;u<a;u++)l.words[u]=this.words[u];l.length=a}if(0===a);else if(this.length>a){this.length-=a;for(var u=0;u<this.length;u++)this.words[u]=this.words[u+a]}else this.words[0]=0,this.length=1;for(var c=0,u=this.length-1;u>=0&&(0!==c||u>=o);u--){var p=this.words[u];this.words[u]=c<<26-i|p>>>i,c=p&s}return l&&0!==c&&(l.words[l.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip(),this},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,o=1<<e;if(this.length<=n)return!1;var i=this.words[n];return!!(i&o)},o.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(!this.sign,"imaskn works only with positive numbers"),0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var o=67108863^67108863>>>e<<e;this.words[this.length-1]&=o}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"==typeof t),t<0?this.isubn(-t):this.sign?1===this.length&&this.words[0]<t?(this.words[0]=t-this.words[0],this.sign=!1,this):(this.sign=!1,this.isubn(t),this.sign=!0,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"==typeof t),t<0)return this.iaddn(-t);if(this.sign)return this.sign=!1,this.iaddn(t),this.sign=!0,this;this.words[0]-=t;for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.sign=!1,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var o,i=t.length+n;if(this.words.length<i){for(var a=new Array(i),o=0;o<this.length;o++)a[o]=this.words[o];this.words=a}else o=this.length;for(this.length=Math.max(this.length,i);o<this.length;o++)this.words[o]=0;for(var s=0,o=0;o<t.length;o++){var l=this.words[o+n]+s,u=t.words[o]*e;l-=67108863&u,s=(l>>26)-(u/67108864|0),this.words[o+n]=67108863&l}for(;o<this.length-n;o++){var l=this.words[o+n]+s;s=l>>26,this.words[o+n]=67108863&l}if(0===s)return this.strip();r(s===-1),s=0;for(var o=0;o<this.length;o++){var l=-this.words[o]+s;s=l>>26,this.words[o]=67108863&l}return this.sign=!0,this.strip()},o.prototype._wordDiv=function(t,e){var r=this.length-t.length,n=this.clone(),i=t,a=i.words[i.length-1],s=this._countBits(a);r=26-s,0!==r&&(i=i.shln(r),n.ishln(r),a=i.words[i.length-1]);var l,u=n.length-i.length;if("mod"!==e){l=new o(null),l.length=u+1,l.words=new Array(l.length);for(var c=0;c<l.length;c++)l.words[c]=0}var p=n.clone()._ishlnsubmul(i,1,u);p.sign||(n=p,l&&(l.words[u]=1));for(var f=u-1;f>=0;f--){var h=67108864*n.words[i.length+f]+n.words[i.length+f-1];for(h=Math.min(h/a|0,67108863),n._ishlnsubmul(i,h,f);n.sign;)h--,n.sign=!1,n._ishlnsubmul(i,1,f),0!==n.cmpn(0)&&(n.sign=!n.sign);l&&(l.words[f]=h)}return l&&l.strip(),n.strip(),"div"!==e&&0!==r&&n.ishrn(r),{div:l?l:null,mod:n}},o.prototype.divmod=function(t,e){if(r(0!==t.cmpn(0)),this.sign&&!t.sign){var n,i,a=this.neg().divmod(t,e);return"mod"!==e&&(n=a.div.neg()),"div"!==e&&(i=0===a.mod.cmpn(0)?a.mod:t.sub(a.mod)),{div:n,mod:i}}if(!this.sign&&t.sign){var n,a=this.divmod(t.neg(),e);return"mod"!==e&&(n=a.div.neg()),{div:n,mod:a.mod}}return this.sign&&t.sign?this.neg().divmod(t.neg(),e):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e)},o.prototype.div=function(t){return this.divmod(t,"div").div},o.prototype.mod=function(t){return this.divmod(t,"mod").mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(0===e.mod.cmpn(0))return e.div;var r=e.div.sign?e.mod.isub(t):e.mod,n=t.shrn(1),o=t.andln(1),i=r.cmp(n);return i<0||1===o&&0===i?e.div:e.div.sign?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,o=this.length-1;o>=0;o--)n=(e*n+this.words[o])%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var o=this.words[n]+67108864*e;this.words[n]=o/t|0,e=o%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(!t.sign),r(0!==t.cmpn(0));var e=this,n=t.clone();e=e.sign?e.mod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),l=new o(1),u=0;e.isEven()&&n.isEven();)e.ishrn(1),n.ishrn(1),++u;for(var c=n.clone(),p=e.clone();0!==e.cmpn(0);){for(;e.isEven();)e.ishrn(1),i.isEven()&&a.isEven()?(i.ishrn(1),a.ishrn(1)):(i.iadd(c).ishrn(1),a.isub(p).ishrn(1));for(;n.isEven();)n.ishrn(1),s.isEven()&&l.isEven()?(s.ishrn(1),l.ishrn(1)):(s.iadd(c).ishrn(1),l.isub(p).ishrn(1));e.cmp(n)>=0?(e.isub(n),i.isub(s),a.isub(l)):(n.isub(e),s.isub(i),l.isub(a))}return{a:s,b:l,gcd:n.ishln(u)}},o.prototype._invmp=function(t){r(!t.sign),r(0!==t.cmpn(0));var e=this,n=t.clone();e=e.sign?e.mod(t):e.clone();for(var i=new o(1),a=new o(0),s=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(;e.isEven();)e.ishrn(1),i.isEven()?i.ishrn(1):i.iadd(s).ishrn(1);for(;n.isEven();)n.ishrn(1),a.isEven()?a.ishrn(1):a.iadd(s).ishrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(a)):(n.isub(e),a.isub(i))}return 0===e.cmpn(1)?i:a},o.prototype.gcd=function(t){if(0===this.cmpn(0))return t.clone();if(0===t.cmpn(0))return this.clone();var e=this.clone(),r=t.clone();e.sign=!1,r.sign=!1;for(var n=0;e.isEven()&&r.isEven();n++)e.ishrn(1),r.ishrn(1);for(;;){for(;e.isEven();)e.ishrn(1);for(;r.isEven();)r.ishrn(1);var o=e.cmp(r);if(o<0){var i=e;e=r,r=i}else if(0===o||0===r.cmpn(1))break;e.isub(r)}return r.ishln(n)},o.prototype.invm=function(t){return this.egcd(t).a.mod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,o=1<<e;if(this.length<=n){for(var i=this.length;i<n+1;i++)this.words[i]=0;return this.words[n]|=o,this.length=n+1,this}for(var a=o,i=n;0!==a&&i<this.length;i++){var s=this.words[i];s+=a,a=s>>>26,s&=67108863,this.words[i]=s}return 0!==a&&(this.words[i]=a,this.length++),this},o.prototype.cmpn=function(t){var e=t<0;if(e&&(t=-t),this.sign&&!e)return-1;if(!this.sign&&e)return 1;t&=67108863,this.strip();var r;if(this.length>1)r=1;else{var n=this.words[0];r=n===t?0:n<t?-1:1}return this.sign&&(r=-r),r},o.prototype.cmp=function(t){if(this.sign&&!t.sign)return-1;if(!this.sign&&t.sign)return 1;var e=this.ucmp(t);return this.sign?-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=this.words[r],o=t.words[r];if(n!==o){n<o?e=-1:n>o&&(e=1);break}}return e},o.red=function(t){return new f(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(!this.sign,"red works only with positives"),t.convertTo(this)._forceRed(t)},
o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};s.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},s.prototype.ireduce=function(t){var e,r=t;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),e=r.bitLength();while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},s.prototype.split=function(t,e){t.ishrn(this.n,0,e)},s.prototype.imulK=function(t){return t.imul(this.k)},n(l,s),l.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),o=0;o<n;o++)e.words[o]=t.words[o];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];e.words[e.length++]=i&r;for(var o=10;o<t.length;o++){var a=t.words[o];t.words[o-10]=(a&r)<<4|i>>>22,i=a}t.words[o-10]=i>>>22,t.length-=9},l.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e,r=0,n=0;n<t.length;n++){var o=t.words[n];e=64*o,r+=977*o,e+=r/67108864|0,r&=67108863,t.words[n]=r,r=e}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(u,s),n(c,s),n(p,s),p.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*t.words[r]+e,o=67108863&n;n>>>=26,t.words[r]=o,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function t(e){if(v[e])return v[e];var t;if("k256"===e)t=new l;else if("p224"===e)t=new u;else if("p192"===e)t=new c;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new p}return v[e]=t,t},f.prototype._verify1=function(t){r(!t.sign,"red works only with positives"),r(t.red,"red works only with red numbers")},f.prototype._verify2=function(t,e){r(!t.sign&&!e.sign,"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},f.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.mod(this.m)._forceRed(this)},f.prototype.neg=function(t){var e=t.clone();return e.sign=!e.sign,e.iadd(this.m)._forceRed(this)},f.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},f.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},f.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},f.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},f.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.shln(e))},f.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},f.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},f.prototype.isqr=function(t){return this.imul(t,t)},f.prototype.sqr=function(t){return this.mul(t,t)},f.prototype.sqrt=function(t){if(0===t.cmpn(0))return t.clone();var e=this.m.andln(3);if(r(e%2===1),3===e){var n=this.m.add(new o(1)).ishrn(2),i=this.pow(t,n);return i}for(var a=this.m.subn(1),s=0;0!==a.cmpn(0)&&0===a.andln(1);)s++,a.ishrn(1);r(0!==a.cmpn(0));var l=new o(1).toRed(this),u=l.redNeg(),c=this.m.subn(1).ishrn(1),p=this.m.bitLength();for(p=new o(2*p*p).toRed(this);0!==this.pow(p,c).cmp(u);)p.redIAdd(u);for(var f=this.pow(p,a),i=this.pow(t,a.addn(1).ishrn(1)),h=this.pow(t,a),d=s;0!==h.cmp(l);){for(var y=h,m=0;0!==y.cmp(l);m++)y=y.redSqr();r(m<d);var v=this.pow(f,new o(1).ishln(d-m-1));i=i.redMul(v),f=v.redSqr(),h=h.redMul(f),d=m}return i},f.prototype.invm=function(t){var e=t._invmp(this.m);return e.sign?(e.sign=!1,this.imod(e).redNeg()):this.imod(e)},f.prototype.pow=function(t,e){var r=[];if(0===e.cmpn(0))return new o(1);for(var n=e.clone();0!==n.cmpn(0);)r.push(n.andln(1)),n.ishrn(1);for(var i=t,a=0;a<r.length&&0===r[a];a++,i=this.sqr(i));if(++a<r.length)for(var n=this.sqr(i);a<r.length;a++,n=this.sqr(n))0!==r[a]&&(i=this.mul(i,n));return i},f.prototype.convertTo=function(t){var e=t.mod(this.m);return e===t?e.clone():e},f.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new h(t)},n(h,f),h.prototype.convertTo=function(t){return this.imod(t.shln(this.shift))},h.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},h.prototype.imul=function(t,e){if(0===t.cmpn(0)||0===e.cmpn(0))return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).ishrn(this.shift),i=o;return o.cmp(this.m)>=0?i=o.isub(this.m):o.cmpn(0)<0&&(i=o.iadd(this.m)),i._forceRed(this)},h.prototype.mul=function(t,e){if(0===t.cmpn(0)||0===e.cmpn(0))return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).ishrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},h.prototype.invm=function(t){var e=this.imod(t._invmp(this.m).mul(this.r2));return e._forceRed(this)}}("undefined"==typeof e||e,this)},{}],59:[function(t,e,r){"use strict";function n(t){var e,r,n,o=t.length,i=0;for(e=0;e<o;++e)i+=t[e].length;var a=new Array(i),s=0;for(e=0;e<o;++e){var l=t[e],u=l.length;for(r=0;r<u;++r){var c=a[s++]=new Array(u-1),p=0;for(n=0;n<u;++n)n!==r&&(c[p++]=l[n]);if(1&r){var f=c[1];c[1]=c[0],c[0]=f}}}return a}e.exports=n},{}],60:[function(t,e,r){"use strict";function n(t,e){for(var r=0;r<t;++r)if(!(e[r]<=e[r+t]))return!0;return!1}function o(t,e,r,o){for(var i=0,a=0,s=0,l=t.length;s<l;++s){var u=t[s];if(!n(e,u)){for(var c=0;c<2*e;++c)r[i++]=u[c];o[a++]=s}}return a}function i(t,e,r,n){var i=t.length,a=e.length;if(!(i<=0||a<=0)){var s=t[0].length>>>1;if(!(s<=0)){var l,u=p.mallocDouble(2*s*i),c=p.mallocInt32(i);if(i=o(t,s,u,c),i>0){if(1===s&&n)f.init(i),l=f.sweepComplete(s,r,0,i,u,c,0,i,u,c);else{var d=p.mallocDouble(2*s*a),y=p.mallocInt32(a);a=o(e,s,d,y),a>0&&(f.init(i+a),l=1===s?f.sweepBipartite(s,r,0,i,u,c,0,a,d,y):h(s,r,n,i,u,c,a,d,y),p.free(d),p.free(y))}p.free(u),p.free(c)}return l}}}function a(t,e){c.push([t,e])}function s(t){return c=[],i(t,t,a,!0),c}function l(t,e){return c=[],i(t,e,a,!1),c}function u(t,e,r){switch(arguments.length){case 1:return s(t);case 2:return"function"==typeof e?i(t,t,e,!0):l(t,e);case 3:return i(t,e,r,!1);default:throw new Error("box-intersect: Invalid arguments")}}e.exports=u;var c,p=t("typedarray-pool"),f=t("./lib/sweep"),h=t("./lib/intersect")},{"./lib/intersect":62,"./lib/sweep":66,"typedarray-pool":519}],61:[function(t,e,r){"use strict";function n(t,e,r){var n="bruteForce"+(t?"Red":"Blue")+(e?"Flip":"")+(r?"Full":""),o=["function ",n,"(",w.join(),"){","var ",u,"=2*",i,";"],l="for(var i="+c+","+d+"="+u+"*"+c+";i<"+p+";++i,"+d+"+="+u+"){var x0="+f+"["+a+"+"+d+"],x1="+f+"["+a+"+"+d+"+"+i+"],xi="+h+"[i];",T="for(var j="+y+","+b+"="+u+"*"+y+";j<"+m+";++j,"+b+"+="+u+"){var y0="+v+"["+a+"+"+b+"],"+(r?"y1="+v+"["+a+"+"+b+"+"+i+"],":"")+"yi="+g+"[j];";return t?o.push(l,_,":",T):o.push(T,_,":",l),r?o.push("if(y1<x0||x1<y0)continue;"):e?o.push("if(y0<=x0||x1<y0)continue;"):o.push("if(y0<x0||x1<y0)continue;"),o.push("for(var k="+a+"+1;k<"+i+";++k){var r0="+f+"[k+"+d+"],r1="+f+"[k+"+i+"+"+d+"],b0="+v+"[k+"+b+"],b1="+v+"[k+"+i+"+"+b+"];if(r1<b0||b1<r0)continue "+_+";}var "+x+"="+s+"("),e?o.push("yi,xi"):o.push("xi,yi"),o.push(");if("+x+"!==void 0)return "+x+";}}}"),{name:n,code:o.join("")}}function o(t){function e(e,r){var i=n(e,r,t);o.push(i.code),a.push("return "+i.name+"("+w.join()+");")}var r="bruteForce"+(t?"Full":"Partial"),o=[],i=w.slice();t||i.splice(3,0,l);var a=["function "+r+"("+i.join()+"){"];a.push("if("+p+"-"+c+">"+m+"-"+y+"){"),t?(e(!0,!1),a.push("}else{"),e(!1,!1)):(a.push("if("+l+"){"),e(!0,!0),a.push("}else{"),e(!0,!1),a.push("}}else{if("+l+"){"),e(!1,!0),a.push("}else{"),e(!1,!1),a.push("}")),a.push("}}return "+r);var s=o.join("")+a.join(""),u=new Function(s);return u()}var i="d",a="ax",s="vv",l="fp",u="es",c="rs",p="re",f="rb",h="ri",d="rp",y="bs",m="be",v="bb",g="bi",b="bp",x="rv",_="Q",w=[i,a,s,c,p,f,h,y,m,v,g];r.partial=o(!1),r.full=o(!0)},{}],62:[function(t,e,r){"use strict";function n(t,e){var r=8*u.log2(e+1)*(t+1)|0,n=u.nextPow2(S*r);C.length<n&&(l.free(C),C=l.mallocInt32(n));var o=u.nextPow2(E*r);A<o&&(l.free(A),A=l.mallocDouble(o))}function o(t,e,r,n,o,i,a,s,l){var u=S*t;C[u]=e,C[u+1]=r,C[u+2]=n,C[u+3]=o,C[u+4]=i,C[u+5]=a;var c=E*t;A[c]=s,A[c+1]=l}function i(t,e,r,n,o,i,a,s,l,u,c){var p=2*t,f=l*p,h=u[f+e];t:for(var d=o,y=o*p;d<i;++d,y+=p){var m=a[y+e],v=a[y+e+t];if(!(h<m||v<h||n&&h===m)){for(var g=s[d],b=e+1;b<t;++b){var m=a[y+b],v=a[y+b+t],x=u[f+b],_=u[f+b+t];if(v<x||_<m)continue t}var w;if(w=n?r(c,g):r(g,c),void 0!==w)return w}}}function a(t,e,r,n,o,i,a,s,l,u){var c=2*t,p=s*c,f=l[p+e];t:for(var h=n,d=n*c;h<o;++h,d+=c){var y=a[h];if(y!==u){var m=i[d+e],v=i[d+e+t];if(!(f<m||v<f)){for(var g=e+1;g<t;++g){var m=i[d+g],v=i[d+g+t],b=l[p+g],x=l[p+g+t];if(v<b||x<m)continue t}var _=r(y,u);if(void 0!==_)return _}}}}function s(t,e,r,s,l,u,c,y,k){n(t,s+c);var P,L=0,D=2*t;for(o(L++,0,0,s,0,c,r?16:0,-(1/0),1/0),r||o(L++,0,0,c,0,s,1,-(1/0),1/0);L>0;){L-=1;var O=L*S,I=C[O],R=C[O+1],N=C[O+2],j=C[O+3],F=C[O+4],z=C[O+5],B=L*E,U=A[B],V=A[B+1],H=1&z,W=!!(16&z),q=l,G=u,Y=y,X=k;if(H&&(q=y,G=k,Y=l,X=u),!(2&z&&(N=_(t,I,R,N,q,G,V),R>=N)||4&z&&(R=w(t,I,R,N,q,G,U),R>=N))){var K=N-R,Z=F-j;if(W){if(t*K*(K+Z)<g){if(P=h.scanComplete(t,I,e,R,N,q,G,j,F,Y,X),void 0!==P)return P;continue}}else{if(t*Math.min(K,Z)<m){if(P=p(t,I,e,H,R,N,q,G,j,F,Y,X),void 0!==P)return P;continue}if(t*K*Z<v){if(P=h.scanBipartite(t,I,e,H,R,N,q,G,j,F,Y,X),void 0!==P)return P;continue}}var J=b(t,I,R,N,q,G,U,V);if(R<J)if(t*(J-R)<m){if(P=f(t,I+1,e,R,J,q,G,j,F,Y,X),void 0!==P)return P}else if(I===t-2){if(P=H?h.sweepBipartite(t,e,j,F,Y,X,R,J,q,G):h.sweepBipartite(t,e,R,J,q,G,j,F,Y,X),void 0!==P)return P}else o(L++,I+1,R,J,j,F,H,-(1/0),1/0),o(L++,I+1,j,F,R,J,1^H,-(1/0),1/0);if(J<N){var $=d(t,I,j,F,Y,X),Q=Y[D*$+I],tt=x(t,I,$,F,Y,X,Q);if(tt<F&&o(L++,I,J,N,tt,F,(4|H)+(W?16:0),Q,V),j<$&&o(L++,I,J,N,j,$,(2|H)+(W?16:0),U,Q),$+1===tt){if(P=W?a(t,I,e,J,N,q,G,$,Y,X[$]):i(t,I,e,H,J,N,q,G,$,Y,X[$]),void 0!==P)return P}else if($<tt){var et;if(W){if(et=T(t,I,J,N,q,G,Q),J<et){var rt=x(t,I,J,et,q,G,Q);if(I===t-2){if(J<rt&&(P=h.sweepComplete(t,e,J,rt,q,G,$,tt,Y,X),void 0!==P))return P;if(rt<et&&(P=h.sweepBipartite(t,e,rt,et,q,G,$,tt,Y,X),void 0!==P))return P}else J<rt&&o(L++,I+1,J,rt,$,tt,16,-(1/0),1/0),rt<et&&(o(L++,I+1,rt,et,$,tt,0,-(1/0),1/0),o(L++,I+1,$,tt,rt,et,1,-(1/0),1/0))}}else et=H?M(t,I,J,N,q,G,Q):T(t,I,J,N,q,G,Q),J<et&&(I===t-2?P=H?h.sweepBipartite(t,e,$,tt,Y,X,J,et,q,G):h.sweepBipartite(t,e,J,et,q,G,$,tt,Y,X):(o(L++,I+1,J,et,$,tt,H,-(1/0),1/0),o(L++,I+1,$,tt,J,et,1^H,-(1/0),1/0)))}}}}}e.exports=s;var l=t("typedarray-pool"),u=t("bit-twiddle"),c=t("./brute"),p=c.partial,f=c.full,h=t("./sweep"),d=t("./median"),y=t("./partition"),m=128,v=1<<22,g=1<<22,b=y("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),x=y("lo===p0",["p0"]),_=y("lo<p0",["p0"]),w=y("hi<=p0",["p0"]),T=y("lo<=p0&&p0<=hi",["p0"]),M=y("lo<p0&&p0<=hi",["p0"]),S=6,E=2,k=1024,C=l.mallocInt32(k),A=l.mallocDouble(k)},{"./brute":61,"./median":63,"./partition":64,"./sweep":66,"bit-twiddle":57,"typedarray-pool":519}],63:[function(t,e,r){"use strict";function n(t,e,r,n,o,i){for(var a=2*t,s=a*(r+1)+e,l=r+1;l<n;++l,s+=a)for(var u=o[s],c=l,p=a*(l-1);c>r&&o[p+e]>u;--c,p-=a){for(var f=p,h=p+a,d=0;d<a;++d,++f,++h){var y=o[f];o[f]=o[h],o[h]=y}var m=i[c];i[c]=i[c-1],i[c-1]=m}}function o(t,e,r,o,i,l){if(o<=r+1)return r;for(var u=r,c=o,p=o+r>>>1,f=2*t,h=p,d=i[f*p+e];u<c;){if(c-u<s){n(t,e,u,c,i,l),d=i[f*p+e];break}var y=c-u,m=Math.random()*y+u|0,v=i[f*m+e],g=Math.random()*y+u|0,b=i[f*g+e],x=Math.random()*y+u|0,_=i[f*x+e];v<=b?_>=b?(h=g,d=b):v>=_?(h=m,d=v):(h=x,d=_):b>=_?(h=g,d=b):_>=v?(h=m,d=v):(h=x,d=_);for(var w=f*(c-1),T=f*h,M=0;M<f;++M,++w,++T){var S=i[w];i[w]=i[T],i[T]=S}var E=l[c-1];l[c-1]=l[h],l[h]=E,h=a(t,e,u,c-1,i,l,d);for(var w=f*(c-1),T=f*h,M=0;M<f;++M,++w,++T){var S=i[w];i[w]=i[T],i[T]=S}var E=l[c-1];if(l[c-1]=l[h],l[h]=E,p<h){for(c=h-1;u<c&&i[f*(c-1)+e]===d;)c-=1;c+=1}else{if(!(h<p))break;for(u=h+1;u<c&&i[f*u+e]===d;)u+=1}}return a(t,e,r,p,i,l,i[f*p+e])}e.exports=o;var i=t("./partition"),a=i("lo<p0",["p0"]),s=8},{"./partition":64}],64:[function(t,e,r){"use strict";function n(t,e){var r="abcdef".split("").concat(e),n=[];return t.indexOf("lo")>=0&&n.push("lo=e[k+n]"),t.indexOf("hi")>=0&&n.push("hi=e[k+o]"),r.push(o.replace("_",n.join()).replace("$",t)),Function.apply(void 0,r)}e.exports=n;var o="for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m"},{}],65:[function(t,e,r){"use strict";function n(t,e){e<=4*f?o(0,e-1,t):p(0,e-1,t)}function o(t,e,r){for(var n=2*(t+1),o=t+1;o<=e;++o){for(var i=r[n++],a=r[n++],s=o,l=n-2;s-- >t;){var u=r[l-2],c=r[l-1];if(u<i)break;if(u===i&&c<a)break;r[l]=u,r[l+1]=c,l-=2}r[l]=i,r[l+1]=a}}function i(t,e,r){t*=2,e*=2;var n=r[t],o=r[t+1];r[t]=r[e],r[t+1]=r[e+1],r[e]=n,r[e+1]=o}function a(t,e,r){t*=2,e*=2,r[t]=r[e],r[t+1]=r[e+1]}function s(t,e,r,n){t*=2,e*=2,r*=2;var o=n[t],i=n[t+1];n[t]=n[e],n[t+1]=n[e+1],n[e]=n[r],n[e+1]=n[r+1],n[r]=o,n[r+1]=i}function l(t,e,r,n,o){t*=2,e*=2,o[t]=o[e],o[e]=r,o[t+1]=o[e+1],o[e+1]=n}function u(t,e,r){t*=2,e*=2;var n=r[t],o=r[e];return!(n<o)&&(n!==o||r[t+1]>r[e+1])}function c(t,e,r,n){t*=2;var o=n[t];return o<e||o===e&&n[t+1]<r}function p(t,e,r){var n=(e-t+1)/6|0,h=t+n,d=e-n,y=t+e>>1,m=y-n,v=y+n,g=h,b=m,x=y,_=v,w=d,T=t+1,M=e-1,S=0;u(g,b,r)&&(S=g,g=b,b=S),u(_,w,r)&&(S=_,_=w,w=S),u(g,x,r)&&(S=g,g=x,x=S),u(b,x,r)&&(S=b,b=x,x=S),u(g,_,r)&&(S=g,g=_,_=S),u(x,_,r)&&(S=x,x=_,_=S),u(b,w,r)&&(S=b,b=w,w=S),u(b,x,r)&&(S=b,b=x,x=S),u(_,w,r)&&(S=_,_=w,w=S);for(var E=r[2*b],k=r[2*b+1],C=r[2*_],A=r[2*_+1],P=2*g,L=2*x,D=2*w,O=2*h,I=2*y,R=2*d,N=0;N<2;++N){var j=r[P+N],F=r[L+N],z=r[D+N];r[O+N]=j,r[I+N]=F,r[R+N]=z}a(m,t,r),a(v,e,r);for(var B=T;B<=M;++B)if(c(B,E,k,r))B!==T&&i(B,T,r),++T;else if(!c(B,C,A,r))for(;;){if(c(M,C,A,r)){c(M,E,k,r)?(s(B,T,M,r),++T,--M):(i(B,M,r),--M);break}if(--M<B)break}l(t,T-1,E,k,r),l(e,M+1,C,A,r),T-2-t<=f?o(t,T-2,r):p(t,T-2,r),e-(M+2)<=f?o(M+2,e,r):p(M+2,e,r),M-T<=f?o(T,M,r):p(T,M,r)}e.exports=n;var f=32},{}],66:[function(t,e,r){"use strict";function n(t){var e=p.nextPow2(t);y.length<e&&(c.free(y),y=c.mallocInt32(e)),m.length<e&&(c.free(m),m=c.mallocInt32(e)),v.length<e&&(c.free(v),v=c.mallocInt32(e)),g.length<e&&(c.free(g),g=c.mallocInt32(e)),b.length<e&&(c.free(b),b=c.mallocInt32(e)),x.length<e&&(c.free(x),x=c.mallocInt32(e));var r=8*e;_.length<r&&(c.free(_),_=c.mallocDouble(r))}function o(t,e,r,n){var o=e[n],i=t[r-1];t[o]=i,e[i]=o}function i(t,e,r,n){t[r]=n,e[n]=r}function a(t,e,r,n,a,s,l,u,c,p){for(var d=0,b=2*t,x=t-1,w=b-1,T=r;T<n;++T){var M=s[T],S=b*T;_[d++]=a[S+x],_[d++]=-(M+1),_[d++]=a[S+w],_[d++]=M}for(var T=l;T<u;++T){var M=p[T]+h,E=b*T;_[d++]=c[E+x],_[d++]=-M,_[d++]=c[E+w],_[d++]=M}var k=d>>>1;f(_,k);for(var C=0,A=0,T=0;T<k;++T){var P=0|_[2*T+1];if(P>=h)P=P-h|0,o(v,g,A--,P);else if(P>=0)o(y,m,C--,P);else if(P<=-h){P=-P-h|0;for(var L=0;L<C;++L){var D=e(y[L],P);if(void 0!==D)return D}i(v,g,A++,P)}else{P=-P-1|0;for(var L=0;L<A;++L){var D=e(P,v[L]);if(void 0!==D)return D}i(y,m,C++,P)}}}function s(t,e,r,n,a,s,l,u,c,p){for(var h=0,d=2*t,w=t-1,T=d-1,M=r;M<n;++M){var S=s[M]+1<<1,E=d*M;_[h++]=a[E+w],_[h++]=-S,_[h++]=a[E+T],_[h++]=S}for(var M=l;M<u;++M){var S=p[M]+1<<1,k=d*M;_[h++]=c[k+w],_[h++]=1|-S,_[h++]=c[k+T],_[h++]=1|S}var C=h>>>1;f(_,C);for(var A=0,P=0,L=0,M=0;M<C;++M){var D=0|_[2*M+1],O=1&D;if(M<C-1&&D>>1===_[2*M+3]>>1&&(O=2,M+=1),D<0){for(var I=-(D>>1)-1,R=0;R<L;++R){var N=e(b[R],I);if(void 0!==N)return N}if(0!==O)for(var R=0;R<A;++R){var N=e(y[R],I);if(void 0!==N)return N}if(1!==O)for(var R=0;R<P;++R){var N=e(v[R],I);if(void 0!==N)return N}0===O?i(y,m,A++,I):1===O?i(v,g,P++,I):2===O&&i(b,x,L++,I)}else{var I=(D>>1)-1;0===O?o(y,m,A--,I):1===O?o(v,g,P--,I):2===O&&o(b,x,L--,I)}}}function l(t,e,r,n,a,s,l,u,c,p,d,v){var g=0,b=2*t,x=e,w=e+t,T=1,M=1;n?M=h:T=h;for(var S=a;S<s;++S){var E=S+T,k=b*S;_[g++]=l[k+x],_[g++]=-E,_[g++]=l[k+w],_[g++]=E}for(var S=c;S<p;++S){var E=S+M,C=b*S;_[g++]=d[C+x],_[g++]=-E}var A=g>>>1;f(_,A);for(var P=0,S=0;S<A;++S){var L=0|_[2*S+1];if(L<0){var E=-L,D=!1;if(E>=h?(D=!n,E-=h):(D=!!n,E-=1),D)i(y,m,P++,E);else{var O=v[E],I=b*E,R=d[I+e+1],N=d[I+e+1+t];t:for(var j=0;j<P;++j){var F=y[j],z=b*F;if(!(N<l[z+e+1]||l[z+e+1+t]<R)){for(var B=e+2;B<t;++B)if(d[I+B+t]<l[z+B]||l[z+B+t]<d[I+B])continue t;var U,V=u[F];if(U=n?r(O,V):r(V,O),void 0!==U)return U}}}}else o(y,m,P--,L-T)}}function u(t,e,r,n,o,i,a,s,l,u,c){for(var p=0,d=2*t,m=e,v=e+t,g=n;g<o;++g){var b=g+h,x=d*g;_[p++]=i[x+m],_[p++]=-b,_[p++]=i[x+v],_[p++]=b}for(var g=s;g<l;++g){var b=g+1,w=d*g;_[p++]=u[w+m],_[p++]=-b}var T=p>>>1;f(_,T);for(var M=0,g=0;g<T;++g){var S=0|_[2*g+1];if(S<0){var b=-S;if(b>=h)y[M++]=b-h;else{b-=1;var E=c[b],k=d*b,C=u[k+e+1],A=u[k+e+1+t];t:for(var P=0;P<M;++P){var L=y[P],D=a[L];if(D===E)break;var O=d*L;if(!(A<i[O+e+1]||i[O+e+1+t]<C)){for(var I=e+2;I<t;++I)if(u[k+I+t]<i[O+I]||i[O+I+t]<u[k+I])continue t;var R=r(D,E);if(void 0!==R)return R}}}}else{for(var b=S-h,P=M-1;P>=0;--P)if(y[P]===b){for(var I=P+1;I<M;++I)y[I-1]=y[I];break}--M}}}e.exports={init:n,sweepBipartite:a,sweepComplete:s,scanBipartite:l,scanComplete:u};var c=t("typedarray-pool"),p=t("bit-twiddle"),f=t("./sort"),h=1<<28,d=1024,y=c.mallocInt32(d),m=c.mallocInt32(d),v=c.mallocInt32(d),g=c.mallocInt32(d),b=c.mallocInt32(d),x=c.mallocInt32(d),_=c.mallocDouble(8*d)},{"./sort":65,"bit-twiddle":57,"typedarray-pool":519}],67:[function(t,e,r){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function n(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}function o(t){if(t>Z)throw new RangeError("Invalid typed array length");var e=new Uint8Array(t);return e.__proto__=i.prototype,e}function i(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(t)}return a(t,e,r)}function a(t,e,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return t instanceof ArrayBuffer?f(t,e,r):"string"==typeof t?c(t,e):h(t)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e,r){return s(t),t<=0?o(t):void 0!==e?"string"==typeof r?o(t).fill(e,r):o(t).fill(e):o(t)}function u(t){return s(t),o(t<0?0:0|d(t))}function c(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!i.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var r=0|m(t,e),n=o(r),a=n.write(t,e);return a!==r&&(n=n.slice(0,a)),n}function p(t){for(var e=t.length<0?0:0|d(t.length),r=o(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function f(t,e,r){if(e<0||t.byteLength<e)throw new RangeError("'offset' is out of bounds");if(t.byteLength<e+(r||0))throw new RangeError("'length' is out of bounds");var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),n.__proto__=i.prototype,n}function h(t){if(i.isBuffer(t)){var e=0|d(t.length),r=o(e);return 0===r.length?r:(t.copy(r,0,0,e),r)}if(t){if(ArrayBuffer.isView(t)||"length"in t)return"number"!=typeof t.length||Y(t.length)?o(0):p(t);if("Buffer"===t.type&&Array.isArray(t.data))return p(t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function d(t){if(t>=Z)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Z.toString(16)+" bytes");return 0|t}function y(t){return+t!=t&&(t=0),i.alloc(+t)}function m(t,e){if(i.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(t).length;default:if(n)return V(t).length;e=(""+e).toLowerCase(),n=!0}}function v(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return D(this,e,r);case"utf8":case"utf-8":return C(this,e,r);case"ascii":return P(this,e,r);case"latin1":case"binary":return L(this,e,r);case"base64":return k(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function g(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function b(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=i.from(e,n)),i.isBuffer(e))return 0===e.length?-1:x(t,e,r,n,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):x(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function x(t,e,r,n,o){function i(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,s=t.length,l=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,r/=2}var u;if(o){var c=-1;for(u=r;u<s;u++)if(i(t,u)===i(e,c===-1?0:u-c)){if(c===-1&&(c=u),u-c+1===l)return c*a}else c!==-1&&(u-=u-c),c=-1}else for(r+l>s&&(r=s-l),u=r;u>=0;u--){for(var p=!0,f=0;f<l;f++)if(i(t,u+f)!==i(e,f)){p=!1;break}if(p)return u}return-1}function _(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n),n>o&&(n=o)):n=o;var i=e.length;if(i%2!==0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[r+a]=s}return a}function w(t,e,r,n){return G(V(e,t.length-r),t,r,n)}function T(t,e,r,n){return G(H(e),t,r,n)}function M(t,e,r,n){return T(t,e,r,n)}function S(t,e,r,n){return G(q(e),t,r,n)}function E(t,e,r,n){return G(W(e,t.length-r),t,r,n)}function k(t,e,r){return 0===e&&r===t.length?X.fromByteArray(t):X.fromByteArray(t.slice(e,r))}function C(t,e,r){r=Math.min(t.length,r);for(var n=[],o=e;o<r;){var i=t[o],a=null,s=i>239?4:i>223?3:i>191?2:1;if(o+s<=r){var l,u,c,p;switch(s){case 1:i<128&&(a=i);break;case 2:l=t[o+1],128===(192&l)&&(p=(31&i)<<6|63&l,p>127&&(a=p));break;case 3:l=t[o+1],u=t[o+2],128===(192&l)&&128===(192&u)&&(p=(15&i)<<12|(63&l)<<6|63&u,p>2047&&(p<55296||p>57343)&&(a=p));break;case 4:l=t[o+1],u=t[o+2],c=t[o+3],128===(192&l)&&128===(192&u)&&128===(192&c)&&(p=(15&i)<<18|(63&l)<<12|(63&u)<<6|63&c,p>65535&&p<1114112&&(a=p))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),o+=s}return A(n)}function A(t){var e=t.length;if(e<=J)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=J));return r}function P(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function L(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function D(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=e;i<r;++i)o+=U(t[i]);return o}function O(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function I(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,r,n,o,a){if(!i.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<a)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function N(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function j(t,e,r,n,o){return e=+e,r>>>=0,o||N(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(t,e,r,n,23,4),r+4}function F(t,e,r,n,o){return e=+e,r>>>=0,o||N(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(t,e,r,n,52,8),r+8}function z(t){if(t=B(t).replace($,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function B(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function V(t,e){e=e||1/0;for(var r,n=t.length,o=null,i=[],a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function H(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function W(t,e){for(var r,n,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}function q(t){return X.toByteArray(z(t))}function G(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}function Y(t){return t!==t}var X=t("base64-js"),K=t("ieee754");r.Buffer=i,r.SlowBuffer=y,r.INSPECT_MAX_BYTES=50;var Z=2147483647;r.kMaxLength=Z,i.TYPED_ARRAY_SUPPORT=n(),i.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.poolSize=8192,i.from=function(t,e,r){return a(t,e,r)},i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,i.alloc=function(t,e,r){return l(t,e,r)},i.allocUnsafe=function(t){return u(t)},i.allocUnsafeSlow=function(t){return u(t)},i.isBuffer=function(t){return null!=t&&t._isBuffer===!0},i.compare=function(t,e){if(!i.isBuffer(t)||!i.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,o=0,a=Math.min(r,n);o<a;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},i.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return i.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=i.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){var a=t[r];if(!i.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,o),o+=a.length}return n},i.byteLength=m,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},i.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},i.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},i.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?C(this,0,t):v.apply(this,arguments)},i.prototype.equals=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===i.compare(this,t)},i.prototype.inspect=function(){var t="",e=r.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},i.prototype.compare=function(t,e,r,n,o){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,o>>>=0,this===t)return 0;for(var a=o-n,s=r-e,l=Math.min(a,s),u=this.slice(n,o),c=t.slice(e,r),p=0;p<l;++p)if(u[p]!==c[p]){a=u[p],s=c[p];break}return a<s?-1:s<a?1:0},i.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},i.prototype.indexOf=function(t,e,r){return b(this,t,e,r,!0)},i.prototype.lastIndexOf=function(t,e,r){return b(this,t,e,r,!1)},i.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return _(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":return T(this,t,e,r);case"latin1":case"binary":return M(this,t,e,r);case"base64":return S(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;i.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return n.__proto__=i.prototype,n},i.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||I(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},i.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||I(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},i.prototype.readUInt8=function(t,e){return t>>>=0,e||I(t,1,this.length),this[t]},i.prototype.readUInt16LE=function(t,e){return t>>>=0,e||I(t,2,this.length),this[t]|this[t+1]<<8},i.prototype.readUInt16BE=function(t,e){return t>>>=0,e||I(t,2,this.length),this[t]<<8|this[t+1]},i.prototype.readUInt32LE=function(t,e){return t>>>=0,e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},i.prototype.readUInt32BE=function(t,e){return t>>>=0,e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},i.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||I(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*e)),n},i.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||I(t,e,this.length);for(var n=e,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},i.prototype.readInt8=function(t,e){return t>>>=0,e||I(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},i.prototype.readInt16LE=function(t,e){t>>>=0,e||I(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt16BE=function(t,e){t>>>=0,e||I(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt32LE=function(t,e){return t>>>=0,e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},i.prototype.readInt32BE=function(t,e){return t>>>=0,e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},i.prototype.readFloatLE=function(t,e){return t>>>=0,e||I(t,4,this.length),K.read(this,t,!0,23,4)},i.prototype.readFloatBE=function(t,e){return t>>>=0,e||I(t,4,this.length),K.read(this,t,!1,23,4)},i.prototype.readDoubleLE=function(t,e){return t>>>=0,e||I(t,8,this.length),K.read(this,t,!0,52,8)},i.prototype.readDoubleBE=function(t,e){return t>>>=0,e||I(t,8,this.length),K.read(this,t,!1,52,8)},i.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){var o=Math.pow(2,8*r)-1;R(this,t,e,r,o,0)}var i=1,a=0;for(this[e]=255&t;++a<r&&(i*=256);)this[e+a]=t/i&255;return e+r},i.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){var o=Math.pow(2,8*r)-1;R(this,t,e,r,o,0)}var i=r-1,a=1;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+r},i.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,1,255,0),this[e]=255&t,e+1},i.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},i.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},i.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},i.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},i.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var o=Math.pow(2,8*r-1);R(this,t,e,r,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<r&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+r},i.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var o=Math.pow(2,8*r-1);R(this,t,e,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+r},i.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},i.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},i.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},i.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},i.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},i.prototype.writeFloatLE=function(t,e,r){return j(this,t,e,!0,r)},i.prototype.writeFloatBE=function(t,e,r){return j(this,t,e,!1,r)},i.prototype.writeDoubleLE=function(t,e,r){return F(this,t,e,!0,r)},i.prototype.writeDoubleBE=function(t,e,r){return F(this,t,e,!1,r)},i.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o,i=n-r;if(this===t&&r<e&&e<n)for(o=i-1;o>=0;--o)t[o+e]=this[o+r];else if(i<1e3)for(o=0;o<i;++o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},i.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!i.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);var a;if("number"==typeof t)for(a=e;a<r;++a)this[a]=t;else{var s=i.isBuffer(t)?t:new i(t,n),l=s.length;for(a=0;a<r-e;++a)this[a+e]=s[a%l]}return this};var $=/[^+\/0-9A-Za-z-_]/g},{"base64-js":68,ieee754:270}],68:[function(t,e,r){"use strict";function n(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function o(t){return 3*t.length/4-n(t)}function i(t){var e,r,o,i,a,s,l=t.length;a=n(t),s=new p(3*l/4-a),o=a>0?l-4:l;var u=0;for(e=0,r=0;e<o;e+=4,r+=3)i=c[t.charCodeAt(e)]<<18|c[t.charCodeAt(e+1)]<<12|c[t.charCodeAt(e+2)]<<6|c[t.charCodeAt(e+3)],s[u++]=i>>16&255,s[u++]=i>>8&255,s[u++]=255&i;return 2===a?(i=c[t.charCodeAt(e)]<<2|c[t.charCodeAt(e+1)]>>4,s[u++]=255&i):1===a&&(i=c[t.charCodeAt(e)]<<10|c[t.charCodeAt(e+1)]<<4|c[t.charCodeAt(e+2)]>>2,s[u++]=i>>8&255,s[u++]=255&i),s}function a(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function s(t,e,r){for(var n,o=[],i=e;i<r;i+=3)n=(t[i]<<16)+(t[i+1]<<8)+t[i+2],o.push(a(n));return o.join("")}function l(t){for(var e,r=t.length,n=r%3,o="",i=[],a=16383,l=0,c=r-n;l<c;l+=a)i.push(s(t,l,l+a>c?c:l+a));return 1===n?(e=t[r-1],o+=u[e>>2],o+=u[e<<4&63],o+="=="):2===n&&(e=(t[r-2]<<8)+t[r-1],o+=u[e>>10],o+=u[e>>4&63],o+=u[e<<2&63],o+="="),i.push(o),i.join("")}r.byteLength=o,r.toByteArray=i,r.fromByteArray=l;for(var u=[],c=[],p="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,d=f.length;h<d;++h)u[h]=f[h],c[f.charCodeAt(h)]=h;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},{}],69:[function(t,e,r){"use strict";function n(t){return[Math.min(t[0],t[1]),Math.max(t[0],t[1])]}function o(t,e){return t[0]-e[0]||t[1]-e[1]}function i(t){return t.map(n).sort(o)}function a(t,e,r){return e in t?t[e]:r}function s(t,e,r){Array.isArray(e)?(r=r||{},e=e||[]):(r=e||{},e=[]);var n=!!a(r,"delaunay",!0),o=!!a(r,"interior",!0),s=!!a(r,"exterior",!0),f=!!a(r,"infinity",!1);if(!o&&!s||0===t.length)return[];var h=l(t,e);if(n||o!==s||f){for(var d=u(t.length,i(e)),y=0;y<h.length;++y){var m=h[y];d.addTriangle(m[0],m[1],m[2])}return n&&c(t,d),s?o?f?p(d,0,f):d.cells():p(d,1,f):p(d,-1)}return h}var l=t("./lib/monotone"),u=t("./lib/triangulation"),c=t("./lib/delaunay"),p=t("./lib/filter");e.exports=s},{"./lib/delaunay":70,"./lib/filter":71,"./lib/monotone":72,"./lib/triangulation":73}],70:[function(t,e,r){"use strict";function n(t,e,r,n,o,a){var s=e.opposite(n,o);if(!(s<0)){if(o<n){var l=n;n=o,o=l,l=a,a=s,s=l}e.isConstraint(n,o)||i(t[n],t[o],t[a],t[s])<0&&r.push(n,o)}}function o(t,e){for(var r=[],o=t.length,a=e.stars,s=0;s<o;++s)for(var l=a[s],u=1;u<l.length;u+=2){var c=l[u];if(!(c<s||e.isConstraint(s,c))){for(var p=l[u-1],f=-1,h=1;h<l.length;h+=2)if(l[h-1]===c){f=l[h];break}f<0||i(t[s],t[c],t[p],t[f])<0&&r.push(s,c)}}for(;r.length>0;){for(var c=r.pop(),s=r.pop(),p=-1,f=-1,l=a[s],d=1;d<l.length;d+=2){var y=l[d-1],m=l[d];y===c?f=m:m===c&&(p=y)}p<0||f<0||i(t[s],t[c],t[p],t[f])>=0||(e.flip(s,c),n(t,e,r,p,s,f),n(t,e,r,s,f,p),n(t,e,r,f,c,p),n(t,e,r,c,p,f))}}var i=t("robust-in-sphere")[4];t("binary-search-bounds");e.exports=o},{"binary-search-bounds":74,"robust-in-sphere":485}],71:[function(t,e,r){"use strict";function n(t,e,r,n,o,i,a){this.cells=t,this.neighbor=e,this.flags=n,this.constraint=r,this.active=o,this.next=i,this.boundary=a}function o(t,e){return t[0]-e[0]||t[1]-e[1]||t[2]-e[2]}function i(t,e){for(var r=t.cells(),i=r.length,a=0;a<i;++a){var s=r[a],l=s[0],u=s[1],c=s[2];u<c?u<l&&(s[0]=u,s[1]=c,s[2]=l):c<l&&(s[0]=c,s[1]=l,s[2]=u)}r.sort(o);for(var p=new Array(i),a=0;a<p.length;++a)p[a]=0;var f=[],h=[],d=new Array(3*i),y=new Array(3*i),m=null;e&&(m=[]);for(var v=new n(r,d,y,p,f,h,m),a=0;a<i;++a)for(var s=r[a],g=0;g<3;++g){var l=s[g],u=s[(g+1)%3],b=d[3*a+g]=v.locate(u,l,t.opposite(u,l)),x=y[3*a+g]=t.isConstraint(l,u);b<0&&(x?h.push(a):(f.push(a),p[a]=1),e&&m.push([u,l,-1]))}return v}function a(t,e,r){for(var n=0,o=0;o<t.length;++o)e[o]===r&&(t[n++]=t[o]);return t.length=n,t}function s(t,e,r){var n=i(t,r);if(0===e)return r?n.cells.concat(n.boundary):n.cells;for(var o=1,s=n.active,l=n.next,u=n.flags,c=n.cells,p=n.constraint,f=n.neighbor;s.length>0||l.length>0;){for(;s.length>0;){var h=s.pop();if(u[h]!==-o){u[h]=o;for(var d=(c[h],0);d<3;++d){var y=f[3*h+d];y>=0&&0===u[y]&&(p[3*h+d]?l.push(y):(s.push(y),u[y]=o))}}}var m=l;l=s,s=m,l.length=0,o=-o}var v=a(c,u,e);return r?v.concat(n.boundary):v}var l=t("binary-search-bounds");e.exports=s;var u=n.prototype;u.locate=function(){var t=[0,0,0];return function(e,r,n){var i=e,a=r,s=n;return r<n?r<e&&(i=r,a=n,s=e):n<e&&(i=n,a=e,s=r),i<0?-1:(t[0]=i,t[1]=a,t[2]=s,l.eq(this.cells,t,o))}}()},{"binary-search-bounds":74}],72:[function(t,e,r){"use strict";function n(t,e,r,n,o){this.a=t,this.b=e,this.idx=r,this.lowerIds=n,this.upperIds=o}function o(t,e,r,n){this.a=t,this.b=e,this.type=r,this.idx=n}function i(t,e){var r=t.a[0]-e.a[0]||t.a[1]-e.a[1]||t.type-e.type;return r?r:t.type!==d&&(r=h(t.a,t.b,e.b))?r:t.idx-e.idx}function a(t,e){return h(t.a,t.b,e)}function s(t,e,r,n,o){for(var i=f.lt(e,n,a),s=f.gt(e,n,a),l=i;l<s;++l){for(var u=e[l],c=u.lowerIds,p=c.length;p>1&&h(r[c[p-2]],r[c[p-1]],n)>0;)t.push([c[p-1],c[p-2],o]),p-=1;c.length=p,c.push(o);for(var d=u.upperIds,p=d.length;p>1&&h(r[d[p-2]],r[d[p-1]],n)<0;)t.push([d[p-2],d[p-1],o]),p-=1;d.length=p,d.push(o)}}function l(t,e){var r;return(r=t.a[0]<e.a[0]?h(t.a,t.b,e.a):h(e.b,e.a,t.a))?r:(r=e.b[0]<t.b[0]?h(t.a,t.b,e.b):h(e.b,e.a,t.b),r||t.idx-e.idx)}function u(t,e,r){var o=f.le(t,r,l),i=t[o],a=i.upperIds,s=a[a.length-1];i.upperIds=[s],t.splice(o+1,0,new n(r.a,r.b,r.idx,[s],a))}function c(t,e,r){var n=r.a;r.a=r.b,r.b=n;var o=f.eq(t,r,l),i=t[o],a=t[o-1];a.upperIds=i.upperIds,t.splice(o,1)}function p(t,e){for(var r=t.length,a=e.length,l=[],p=0;p<r;++p)l.push(new o(t[p],null,d,p));for(var p=0;p<a;++p){var f=e[p],h=t[f[0]],v=t[f[1]];h[0]<v[0]?l.push(new o(h,v,m,p),new o(v,h,y,p)):h[0]>v[0]&&l.push(new o(v,h,m,p),new o(h,v,y,p))}l.sort(i);for(var g=l[0].a[0]-(1+Math.abs(l[0].a[0]))*Math.pow(2,-52),b=[new n([g,1],[g,0],-1,[],[],[],[])],x=[],p=0,_=l.length;p<_;++p){var w=l[p],T=w.type;T===d?s(x,b,t,w.a,w.idx):T===m?u(b,t,w):c(b,t,w)}return x}var f=t("binary-search-bounds"),h=t("robust-orientation")[3],d=0,y=1,m=2;e.exports=p},{"binary-search-bounds":74,"robust-orientation":487}],73:[function(t,e,r){"use strict";function n(t,e){this.stars=t,this.edges=e}function o(t,e,r){for(var n=1,o=t.length;n<o;n+=2)if(t[n-1]===e&&t[n]===r)return t[n-1]=t[o-2],t[n]=t[o-1],void(t.length=o-2)}function i(t,e){for(var r=new Array(t),o=0;o<t;++o)r[o]=[];return new n(r,e)}var a=t("binary-search-bounds");e.exports=i;var s=n.prototype;s.isConstraint=function(){function t(t,e){return t[0]-e[0]||t[1]-e[1]}var e=[0,0];return function(r,n){return e[0]=Math.min(r,n),e[1]=Math.max(r,n),a.eq(this.edges,e,t)>=0}}(),s.removeTriangle=function(t,e,r){var n=this.stars;o(n[t],e,r),o(n[e],r,t),o(n[r],t,e)},s.addTriangle=function(t,e,r){var n=this.stars;n[t].push(e,r),n[e].push(r,t),n[r].push(t,e)},s.opposite=function(t,e){for(var r=this.stars[e],n=1,o=r.length;n<o;n+=2)if(r[n]===t)return r[n-1];return-1},s.flip=function(t,e){var r=this.opposite(t,e),n=this.opposite(e,t);this.removeTriangle(t,e,r),this.removeTriangle(e,t,n),this.addTriangle(t,n,r),this.addTriangle(e,r,n)},s.edges=function(){for(var t=this.stars,e=[],r=0,n=t.length;r<n;++r)for(var o=t[r],i=0,a=o.length;i<a;i+=2)e.push([o[i],o[i+1]]);return e},s.cells=function(){for(var t=this.stars,e=[],r=0,n=t.length;r<n;++r)for(var o=t[r],i=0,a=o.length;i<a;i+=2){var s=o[i],l=o[i+1];r<Math.min(s,l)&&e.push([r,s,l])}return e}},{"binary-search-bounds":74}],74:[function(t,e,r){"use strict";function n(t,e,r,n,o){var i=["function ",t,"(a,l,h,",n.join(","),"){",o?"":"var i=",r?"l-1":"h+1",";while(l<=h){\tvar m=(l+h)>>>1,x=a[m]"];return o?e.indexOf("c")<0?i.push(";if(x===y){return m}else if(x<=y){"):i.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):i.push(";if(",e,"){i=m;"),r?i.push("l=m+1}else{h=m-1}"):i.push("h=m-1}else{l=m+1}"),i.push("}"),o?i.push("return -1};"):i.push("return i};"),i.join("")}function o(t,e,r,o){var i=new Function([n("A","x"+t+"y",e,["y"],o),n("P","c(x,y)"+t+"0",e,["y","c"],o),"function dispatchBsearch",r,"(a,y,c,l,h){\tif(typeof(c)==='function'){\treturn P(a,(l===void 0)?0:l|0,(h===void 0)?a.length-1:h|0,y,c)\t}else{\treturn A(a,(c===void 0)?0:c|0,(l===void 0)?a.length-1:l|0,y)\t}}\treturn dispatchBsearch",r].join(""));return i()}e.exports={ge:o(">=",!1,"GE"),gt:o(">",!1,"GT"),lt:o("<",!0,"LT"),le:o("<=",!0,"LE"),eq:o("-",!0,"EQ",!0)}},{}],75:[function(t,e,r){"use strict";function n(t){for(var e=1,r=1;r<t.length;++r)for(var n=0;n<r;++n)if(t[r]<t[n])e=-e;else if(t[n]===t[r])return 0;return e}e.exports=n},{}],76:[function(t,e,r){"use strict";function n(t,e){for(var r=0,n=t.length,o=0;o<n;++o)r+=t[o]*e[o];return r}function o(t){var e=t.length;if(0===e)return[];var r=(t[0].length,a([t.length+1,t.length+1],1)),o=a([t.length+1],1);r[e][e]=0;for(var i=0;i<e;++i){for(var l=0;l<=i;++l)r[l][i]=r[i][l]=2*n(t[i],t[l]);o[i]=n(t[i],t[i])}for(var u=s(r,o),c=0,p=u[e+1],i=0;i<p.length;++i)c+=p[i];for(var f=new Array(e),i=0;i<e;++i){for(var p=u[i],h=0,l=0;l<p.length;++l)h+=p[l];f[i]=h/c}return f}function i(t){if(0===t.length)return[];for(var e=t[0].length,r=a([e]),n=o(t),i=0;i<t.length;++i)for(var s=0;s<e;++s)r[s]+=t[i][s]*n[i];return r}var a=t("dup"),s=t("robust-linear-solve");i.barycenetric=o,e.exports=i},{dup:107,"robust-linear-solve":486}],77:[function(t,e,r){function n(t){for(var e=o(t),r=0,n=0;n<t.length;++n)for(var i=t[n],a=0;a<e.length;++a)r+=Math.pow(i[a]-e[a],2);return Math.sqrt(r/t.length)}e.exports=n;var o=t("circumcenter")},{circumcenter:76}],78:[function(t,e,r){function n(t,e,r){return e<r?t<e?e:t>r?r:t:t<r?r:t>e?e:t}e.exports=n},{}],79:[function(t,e,r){"use strict";function n(t){var e=x(t),r=b(g(e),t);return r<0?[e,w(e,1/0)]:r>0?[w(e,-(1/0)),e]:[e,e]}function o(t,e){for(var r=new Array(e.length),n=0;n<e.length;++n){var o=e[n],i=t[o[0]],a=t[o[1]];r[n]=[Math.min(i[0],a[0]),Math.min(i[1],a[1]),Math.max(i[0],a[0]),Math.max(i[1],a[1])]}return r}function i(t){for(var e=new Array(t.length),r=0;r<t.length;++r){var n=t[r];e[r]=[n[0],n[1],n[0],n[1]]}return e}function a(t,e,r){var n=[];return m(r,function(r,o){var i=e[r],a=e[o];if(i[0]!==a[0]&&i[0]!==a[1]&&i[1]!==a[0]&&i[1]!==a[1]){var s=t[i[0]],l=t[i[1]],u=t[a[0]],c=t[a[1]];v(s,l,u,c)&&n.push([r,o])}}),n}function s(t,e,r,n){var o=[];return m(r,n,function(r,n){var i=e[r];if(i[0]!==n&&i[1]!==n){var a=t[n],s=t[i[0]],l=t[i[1]];v(s,l,a,a)&&o.push([r,n])}}),o}function l(t,e,r,n,o){function i(e){if(e>=t.length)return a[e-t.length];var r=t[e];return[g(r[0]),g(r[1])]}for(var a=[],s=0;s<r.length;++s){var l=r[s],u=l[0],c=l[1],p=e[u],f=e[c],h=T(_(t[p[0]]),_(t[p[1]]),_(t[f[0]]),_(t[f[1]]));if(h){var d=a.length+t.length;a.push(h),n.push([u,d],[c,d])}}n.sort(function(t,e){if(t[0]!==e[0])return t[0]-e[0];var r=i(t[1]),n=i(e[1]);return b(r[0],n[0])||b(r[1],n[1])});for(var s=n.length-1;s>=0;--s){var y=n[s],u=y[0],m=e[u],v=m[0],x=m[1],w=t[v],M=t[x];if((w[0]-M[0]||w[1]-M[1])<0){var S=v;v=x,x=S}m[0]=v;var E,k=m[1]=y[1];for(o&&(E=m[2]);s>0&&n[s-1][0]===u;){var y=n[--s],C=y[1];o?e.push([k,C,E]):e.push([k,C]),k=C}o?e.push([k,x,E]):e.push([k,x])}return a}function u(t,e,r){for(var o=t.length+e.length,i=new y(o),a=r,s=0;s<e.length;++s){var l=e[s],u=n(l[0]),c=n(l[1]);a.push([u[0],c[0],u[1],c[1]]),t.push([x(l[0]),x(l[1])])}m(a,function(t,e){i.link(t,e)});for(var p=0,f=!0,h=new Array(o),s=0;s<o;++s){var d=i.find(s);d===s?(h[s]=p,t[p++]=t[s]):(f=!1,h[s]=-1)}if(t.length=p,f)return null;for(var s=0;s<o;++s)h[s]<0&&(h[s]=h[i.find(s)]);return h}function c(t,e){return t[0]-e[0]||t[1]-e[1]}function p(t,e){var r=t[0]-e[0]||t[1]-e[1];return r?r:t[2]<e[2]?-1:t[2]>e[2]?1:0}function f(t,e,r){if(0!==t.length){if(e)for(var n=0;n<t.length;++n){var o=t[n],i=e[o[0]],a=e[o[1]];o[0]=Math.min(i,a),o[1]=Math.max(i,a)}else for(var n=0;n<t.length;++n){var o=t[n],i=o[0],a=o[1];o[0]=Math.min(i,a),o[1]=Math.max(i,a)}r?t.sort(p):t.sort(c);for(var s=1,n=1;n<t.length;++n){var l=t[n-1],u=t[n];(u[0]!==l[0]||u[1]!==l[1]||r&&u[2]!==l[2])&&(t[s++]=u)}t.length=s}}function h(t,e,r){var n=o(t,e),c=a(t,e,n),p=i(t),h=s(t,e,n,p),d=l(t,e,c,h,r),y=u(t,d,p);return f(e,y,r),!!y||(c.length>0||h.length>0)}function d(t,e,r){var n,o=!1;if(r){n=e;for(var i=new Array(e.length),a=0;a<e.length;++a){var s=e[a];i[a]=[s[0],s[1],r[a]]}e=i}for(;h(t,e,!!r);)o=!0;if(r&&o){n.length=0,r.length=0;for(var a=0;a<e.length;++a){var s=e[a];n.push([s[0],s[1]]),r.push(s[2])}}return o}e.exports=d;var y=t("union-find"),m=t("box-intersect"),v=(t("compare-cell"),t("robust-segment-intersect")),g=t("big-rat"),b=t("big-rat/cmp"),x=t("big-rat/to-float"),_=t("rat-vec"),w=t("nextafter"),T=t("./lib/rat-seg-intersect")},{"./lib/rat-seg-intersect":80,"big-rat":43,"big-rat/cmp":41,"big-rat/to-float":55,"box-intersect":60,"compare-cell":91,nextafter:448,"rat-vec":474,"robust-segment-intersect":490,"union-find":520}],80:[function(t,e,r){"use strict";function n(t,e){return s(i(t[0],e[1]),i(t[1],e[0]))}function o(t,e,r,o){var i=u(e,t),s=u(o,r),f=n(i,s);if(0===l(f))return null;var h=u(t,r),d=n(s,h),y=a(d,f);return c(t,p(i,y))}e.exports=o;var i=t("big-rat/mul"),a=t("big-rat/div"),s=t("big-rat/sub"),l=t("big-rat/sign"),u=t("rat-vec/sub"),c=t("rat-vec/add"),p=t("rat-vec/muls");t("big-rat/to-float")},{"big-rat/div":42,
"big-rat/mul":52,"big-rat/sign":53,"big-rat/sub":54,"big-rat/to-float":55,"rat-vec/add":473,"rat-vec/muls":475,"rat-vec/sub":476}],81:[function(t,e,r){(function(t){var r=function(){"use strict";function e(r,n,o,i){function s(r,o){if(null===r)return null;if(0==o)return r;var l,f;if("object"!=typeof r)return r;if(e.__isArray(r))l=[];else if(e.__isRegExp(r))l=new RegExp(r.source,a(r)),r.lastIndex&&(l.lastIndex=r.lastIndex);else if(e.__isDate(r))l=new Date(r.getTime());else{if(p&&t.isBuffer(r))return l=new t(r.length),r.copy(l),l;"undefined"==typeof i?(f=Object.getPrototypeOf(r),l=Object.create(f)):(l=Object.create(i),f=i)}if(n){var h=u.indexOf(r);if(h!=-1)return c[h];u.push(r),c.push(l)}for(var d in r){var y;f&&(y=Object.getOwnPropertyDescriptor(f,d)),y&&null==y.set||(l[d]=s(r[d],o-1))}return l}var l;"object"==typeof n&&(o=n.depth,i=n.prototype,l=n.filter,n=n.circular);var u=[],c=[],p="undefined"!=typeof t;return"undefined"==typeof n&&(n=!0),"undefined"==typeof o&&(o=1/0),s(r,o)}function r(t){return Object.prototype.toString.call(t)}function n(t){return"object"==typeof t&&"[object Date]"===r(t)}function o(t){return"object"==typeof t&&"[object Array]"===r(t)}function i(t){return"object"==typeof t&&"[object RegExp]"===r(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return e.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},e.__objToStr=r,e.__isDate=n,e.__isArray=o,e.__isRegExp=i,e.__getRegExpFlags=a,e}();"object"==typeof e&&e.exports&&(e.exports=r)}).call(this,t("buffer").Buffer)},{buffer:67}],82:[function(t,e,r){"use strict";function n(t,e){null==e&&(e=!0);var r=t[0],n=t[1],i=t[2],a=t[3];null==a&&(a=e?1:255),e&&(r*=255,n*=255,i*=255,a*=255),r=255&o(r,0,255),n=255&o(n,0,255),i=255&o(i,0,255),a=255&o(a,0,255);var s=16777216*r+(n<<16)+(i<<8)+a;return s}var o=t("clamp");e.exports=n},{clamp:78}],83:[function(t,e,r){e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],84:[function(t,e,r){"use strict";function n(t){var e,r,n=[],s=1;if("string"==typeof t)if(o[t])n=o[t].slice(),r="rgb";else if("transparent"===t)s=0,r="rgb",n=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(t)){var l=t.slice(1),u=l.length,c=u<=4;s=1,c?(n=[parseInt(l[0]+l[0],16),parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16)],4===u&&(s=parseInt(l[3]+l[3],16)/255)):(n=[parseInt(l[0]+l[1],16),parseInt(l[2]+l[3],16),parseInt(l[4]+l[5],16)],8===u&&(s=parseInt(l[6]+l[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),r="rgb"}else if(e=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(t)){var p=e[1],l=p.replace(/a$/,"");r=l;var u="cmyk"===l?4:"gray"===l?1:3;n=e[2].trim().split(/\s*,\s*/).map(function(t,e){if(/%$/.test(t))return e===u?parseFloat(t)/100:"rgb"===l?255*parseFloat(t)/100:parseFloat(t);if("h"===l[e]){if(/deg$/.test(t))return parseFloat(t);if(void 0!==a[t])return a[t]}return parseFloat(t)}),p===l&&n.push(1),s=void 0===n[u]?1:n[u],n=n.slice(0,u)}else t.length>10&&/[0-9](?:\s|\/)/.test(t)&&(n=t.match(/([0-9]+)/g).map(function(t){return parseFloat(t)}),r=t.match(/([a-z])/gi).join("").toLowerCase());else"number"==typeof t?(r="rgb",n=[t>>>16,(65280&t)>>>8,255&t]):i(t)?(null!=t.r?(n=[t.r,t.g,t.b],r="rgb"):null!=t.red?(n=[t.red,t.green,t.blue],r="rgb"):null!=t.h?(n=[t.h,t.s,t.l],r="hsl"):null!=t.hue&&(n=[t.hue,t.saturation,t.lightness],r="hsl"),null!=t.a?s=t.a:null!=t.alpha?s=t.alpha:null!=t.opacity&&(s=t.opacity/100)):(Array.isArray(t)||ArrayBuffer.isView(t))&&(n=[t[0],t[1],t[2]],r="rgb",s=4===t.length?t[3]:1);return{space:r,values:n,alpha:s}}e.exports=n;var o=t("color-name"),i=t("is-plain-obj"),a={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},{"color-name":83,"is-plain-obj":277}],85:[function(t,e,r){"use strict";var n=t("color-parse"),o=t("color-space/hsl"),i=t("clamp");e.exports=function(t,e){null==e&&(e=!0);var r=n(t);if(!r.space)return[];if(Array.isArray(t))return t;var a,s=r.values,l=s.length;for(a=0;a<l;a++)s[a]=i(s[a],0,255);if("h"===r.space[0]&&(s=o.rgb(s)),e)for(a=0;a<l;a++)s[a]/=255;return s.push(i(r.alpha,0,1)),s}},{clamp:78,"color-parse":84,"color-space/hsl":86}],86:[function(t,e,r){"use strict";var n=t("./rgb");e.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e,r,n,o,i,a=t[0]/360,s=t[1]/100,l=t[2]/100;if(0===s)return i=255*l,[i,i,i];r=l<.5?l*(1+s):l+s-l*s,e=2*l-r,o=[0,0,0];for(var u=0;u<3;u++)n=a+1/3*-(u-1),n<0?n++:n>1&&n--,i=6*n<1?e+6*(r-e)*n:2*n<1?r:3*n<2?e+(r-e)*(2/3-n)*6:e,o[u]=255*i;return o}},n.hsl=function(t){var e,r,n,o=t[0]/255,i=t[1]/255,a=t[2]/255,s=Math.min(o,i,a),l=Math.max(o,i,a),u=l-s;return l===s?e=0:o===l?e=(i-a)/u:i===l?e=2+(a-o)/u:a===l&&(e=4+(o-i)/u),e=Math.min(60*e,360),e<0&&(e+=360),n=(s+l)/2,r=l===s?0:n<=.5?u/(l+s):u/(2-l-s),[e,100*r,100*n]}},{"./rgb":87}],87:[function(t,e,r){"use strict";e.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},{}],88:[function(t,e,r){e.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],cool:[{index:0,rgb:[0,255,255]},{index:1,rgb:[255,0,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:0,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},{}],89:[function(t,e,r){"use strict";function n(t){var e,r,n,u,c,p,f,h,d,y,m,v,g,b=[],x=[],_=[],w=[];if(a.isPlainObject(t)||(t={}),d=t.nshades||72,h=t.format||"hex",f=t.colormap,f||(f="jet"),"string"==typeof f){if(f=f.toLowerCase(),!l[f])throw Error(f+" not a supported colorscale");p=s(l[f])}else{if(!Array.isArray(f))throw Error("unsupported colormap option",f);p=s(f)}if(p.length>d)throw new Error(f+" map requires nshades to be at least size "+p.length);for(m=Array.isArray(t.alpha)?2!==t.alpha.length?[1,1]:s(t.alpha):"number"==typeof t.alpha?[t.alpha,t.alpha]:[1,1],e=p.map(function(t){return Math.round(t.index*d)}),m[0]<0&&(m[0]=0),m[1]<0&&(m[0]=0),m[0]>1&&(m[0]=1),m[1]>1&&(m[0]=1),g=0;g<e.length;++g)v=p[g].index,r=p[g].rgb,4===r.length&&r[3]>=0&&r[3]<=1||(r[3]=m[0]+(m[1]-m[0])*v);for(g=0;g<e.length-1;++g)c=e[g+1]-e[g],n=p[g].rgb,u=p[g+1].rgb,b=b.concat(a.linspace(n[0],u[0],c)),x=x.concat(a.linspace(n[1],u[1],c)),_=_.concat(a.linspace(n[2],u[2],c)),w=w.concat(a.linspace(n[3],u[3],c));return b=b.map(Math.round),x=x.map(Math.round),_=_.map(Math.round),y=a.zip(b,x,_,w),"hex"===h&&(y=y.map(o)),"rgbaString"===h&&(y=y.map(i)),y}function o(t){for(var e,r="#",n=0;n<3;++n)e=t[n],e=e.toString(16),r+=("00"+e).substr(e.length);return r}function i(t){return"rgba("+t.join(",")+")"}var a=t("arraytools"),s=t("clone"),l=t("./colorScales");e.exports=n},{"./colorScales":88,arraytools:36,clone:81}],90:[function(t,e,r){"use strict";function n(t,e,r){var n=s(t[0],-e[0]),o=s(t[1],-e[1]),i=s(r[0],-e[0]),a=s(r[1],-e[1]),c=u(l(n,i),l(o,a));return c[c.length-1]>=0}function o(t,e,r,o){var s=i(e,r,o);if(0===s){var l=a(i(t,e,r)),u=a(i(t,e,o));if(l===u){if(0===l){var c=n(t,e,r),p=n(t,e,o);return c===p?0:c?1:-1}return 0}return 0===u?l>0?-1:n(t,e,o)?-1:1:0===l?u>0?1:n(t,e,r)?1:-1:a(u-l)}var f=i(t,e,r);if(f>0)return s>0&&i(t,e,o)>0?1:-1;if(f<0)return s>0||i(t,e,o)>0?1:-1;var h=i(t,e,o);return h>0?1:n(t,e,r)?1:-1}e.exports=o;var i=t("robust-orientation"),a=t("signum"),s=t("two-sum"),l=t("robust-product"),u=t("robust-sum")},{"robust-orientation":487,"robust-product":488,"robust-sum":492,signum:494,"two-sum":518}],91:[function(t,e,r){function n(t,e){return t-e}function o(t,e){var r=t.length,o=t.length-e.length;if(o)return o;switch(r){case 0:return 0;case 1:return t[0]-e[0];case 2:return t[0]+t[1]-e[0]-e[1]||i(t[0],t[1])-i(e[0],e[1]);case 3:var a=t[0]+t[1],s=e[0]+e[1];if(o=a+t[2]-(s+e[2]))return o;var l=i(t[0],t[1]),u=i(e[0],e[1]);return i(l,t[2])-i(u,e[2])||i(l+t[2],a)-i(u+e[2],s);case 4:var c=t[0],p=t[1],f=t[2],h=t[3],d=e[0],y=e[1],m=e[2],v=e[3];return c+p+f+h-(d+y+m+v)||i(c,p,f,h)-i(d,y,m,v,d)||i(c+p,c+f,c+h,p+f,p+h,f+h)-i(d+y,d+m,d+v,y+m,y+v,m+v)||i(c+p+f,c+p+h,c+f+h,p+f+h)-i(d+y+m,d+y+v,d+m+v,y+m+v);default:for(var g=t.slice().sort(n),b=e.slice().sort(n),x=0;x<r;++x)if(o=g[x]-b[x])return o;return 0}}e.exports=o;var i=Math.min},{}],92:[function(t,e,r){"use strict";function n(t,e){return o(t,e)||i(t)-i(e)}var o=t("compare-cell"),i=t("cell-orientation");e.exports=n},{"cell-orientation":75,"compare-cell":91}],93:[function(t,e,r){"use strict";function n(t){var e=t.length;if(0===e)return[];if(1===e)return[[0]];var r=t[0].length;return 0===r?[]:1===r?o(t):2===r?i(t):a(t,r)}var o=t("./lib/ch1d"),i=t("./lib/ch2d"),a=t("./lib/chnd");e.exports=n},{"./lib/ch1d":94,"./lib/ch2d":95,"./lib/chnd":96}],94:[function(t,e,r){"use strict";function n(t){for(var e=0,r=0,n=1;n<t.length;++n)t[n][0]<t[e][0]&&(e=n),t[n][0]>t[r][0]&&(r=n);return e<r?[[e],[r]]:e>r?[[r],[e]]:[[e]]}e.exports=n},{}],95:[function(t,e,r){"use strict";function n(t){var e=o(t),r=e.length;if(r<=2)return[];for(var n=new Array(r),i=e[r-1],a=0;a<r;++a){var s=e[a];n[a]=[i,s],i=s}return n}e.exports=n;var o=t("monotone-convex-hull-2d")},{"monotone-convex-hull-2d":431}],96:[function(t,e,r){"use strict";function n(t,e){for(var r=t.length,n=new Array(r),o=0;o<e.length;++o)n[o]=t[e[o]];for(var i=e.length,o=0;o<r;++o)e.indexOf(o)<0&&(n[i++]=t[o]);return n}function o(t,e){for(var r=t.length,n=e.length,o=0;o<r;++o)for(var i=t[o],a=0;a<i.length;++a){var s=i[a];if(s<n)i[a]=e[s];else{s-=n;for(var l=0;l<n;++l)s>=e[l]&&(s+=1);i[a]=s}}return t}function i(t,e){try{return a(t,!0)}catch(u){var r=s(t);if(r.length<=e)return[];var i=n(t,r),l=a(i,!0);return o(l,r)}}e.exports=i;var a=t("incremental-convex-hull"),s=t("affine-hull")},{"affine-hull":33,"incremental-convex-hull":271}],97:[function(t,e,r){e.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|ç)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|é)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|é)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|ã)o.?tom(e|é)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},{}],98:[function(t,e,r){function n(t){return t=Math.round(t),t<0?0:t>255?255:t}function o(t){return t<0?0:t>1?1:t}function i(t){return n("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function a(t){return o("%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))}function s(t,e,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?t+(e-t)*r*6:2*r<1?e:3*r<2?t+(e-t)*(2/3-r)*6:t}function l(t){var e=t.replace(/ /g,"").toLowerCase();if(e in u)return u[e].slice();if("#"===e[0]){if(4===e.length){var r=parseInt(e.substr(1),16);return r>=0&&r<=4095?[(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,1]:null}if(7===e.length){var r=parseInt(e.substr(1),16);return r>=0&&r<=16777215?[(16711680&r)>>16,(65280&r)>>8,255&r,1]:null}return null}var o=e.indexOf("("),l=e.indexOf(")");if(o!==-1&&l+1===e.length){var c=e.substr(0,o),p=e.substr(o+1,l-(o+1)).split(","),f=1;switch(c){case"rgba":if(4!==p.length)return null;f=a(p.pop());case"rgb":return 3!==p.length?null:[i(p[0]),i(p[1]),i(p[2]),f];case"hsla":if(4!==p.length)return null;f=a(p.pop());case"hsl":if(3!==p.length)return null;var h=(parseFloat(p[0])%360+360)%360/360,d=a(p[1]),y=a(p[2]),m=y<=.5?y*(d+1):y+d-y*d,v=2*y-m;return[n(255*s(v,m,h+1/3)),n(255*s(v,m,h)),n(255*s(v,m,h-1/3)),f];default:return null}}return null}var u={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],
mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{r.parseCSSColor=l}catch(t){}},{}],99:[function(t,e,r){"use strict";function n(t,e,r,n,o,i){var a=6*o*o-6*o,s=3*o*o-4*o+1,l=-6*o*o+6*o,u=3*o*o-2*o;if(t.length){i||(i=new Array(t.length));for(var c=t.length-1;c>=0;--c)i[c]=a*t[c]+s*e[c]+l*r[c]+u*n[c];return i}return a*t+s*e+l*r[c]+u*n}function o(t,e,r,n,o,i){var a=o-1,s=o*o,l=a*a,u=(1+2*o)*l,c=o*l,p=s*(3-2*o),f=s*a;if(t.length){i||(i=new Array(t.length));for(var h=t.length-1;h>=0;--h)i[h]=u*t[h]+c*e[h]+p*r[h]+f*n[h];return i}return u*t+c*e+p*r+f*n}e.exports=o,e.exports.derivative=n},{}],100:[function(t,e,r){"use strict";function n(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function o(t){var e=new n;e.pre=t.pre,e.body=t.body,e.post=t.post;var r=t.args.slice(0);e.argTypes=r;for(var o=0;o<r.length;++o){var a=r[o];if("array"===a||"object"==typeof a&&a.blockIndices){if(e.argTypes[o]="array",e.arrayArgs.push(o),e.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),e.shimArgs.push("array"+o),o<e.pre.args.length&&e.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array args");if(o<e.post.args.length&&e.post.args[o].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)e.scalarArgs.push(o),e.shimArgs.push("scalar"+o);else if("index"===a){if(e.indexArgs.push(o),o<e.pre.args.length&&e.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array index");if(o<e.body.args.length&&e.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array index");if(o<e.post.args.length&&e.post.args[o].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(e.shapeArgs.push(o),o<e.pre.args.length&&e.pre.args[o].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(o<e.body.args.length&&e.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array shape");if(o<e.post.args.length&&e.post.args[o].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+r[o]);e.argTypes[o]="offset",e.offsetArgs.push({array:a.array,offset:a.offset}),e.offsetArgIndex.push(o)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,i(e)}var i=t("./lib/thunk.js");e.exports=o},{"./lib/thunk.js":102}],101:[function(t,e,r){"use strict";function n(t,e,r){var n,o,i=t.length,a=e.arrayArgs.length,s=e.indexArgs.length>0,l=[],u=[],c=0,p=0;for(n=0;n<i;++n)u.push(["i",n,"=0"].join(""));for(o=0;o<a;++o)for(n=0;n<i;++n)p=c,c=t[n],0===n?u.push(["d",o,"s",n,"=t",o,"p",c].join("")):u.push(["d",o,"s",n,"=(t",o,"p",c,"-s",p,"*t",o,"p",p,")"].join(""));for(l.push("var "+u.join(",")),n=i-1;n>=0;--n)c=t[n],l.push(["for(i",n,"=0;i",n,"<s",c,";++i",n,"){"].join(""));for(l.push(r),n=0;n<i;++n){for(p=c,c=t[n],o=0;o<a;++o)l.push(["p",o,"+=d",o,"s",n].join(""));s&&(n>0&&l.push(["index[",p,"]-=s",p].join("")),l.push(["++index[",c,"]"].join(""))),l.push("}")}return l.join("\n")}function o(t,e,r,o){for(var i=e.length,a=r.arrayArgs.length,s=r.blockSize,l=r.indexArgs.length>0,u=[],c=0;c<a;++c)u.push(["var offset",c,"=p",c].join(""));for(var c=t;c<i;++c)u.push(["for(var j"+c+"=SS[",e[c],"]|0;j",c,">0;){"].join("")),u.push(["if(j",c,"<",s,"){"].join("")),u.push(["s",e[c],"=j",c].join("")),u.push(["j",c,"=0"].join("")),u.push(["}else{s",e[c],"=",s].join("")),u.push(["j",c,"-=",s,"}"].join("")),l&&u.push(["index[",e[c],"]=j",c].join(""));for(var c=0;c<a;++c){for(var p=["offset"+c],f=t;f<i;++f)p.push(["j",f,"*t",c,"p",e[f]].join(""));u.push(["p",c,"=(",p.join("+"),")"].join(""))}u.push(n(e,r,o));for(var c=t;c<i;++c)u.push("}");return u.join("\n")}function i(t){for(var e=0,r=t[0].length;e<r;){for(var n=1;n<t.length;++n)if(t[n][e]!==t[0][e])return e;++e}return e}function a(t,e,r){for(var n=t.body,o=[],i=[],a=0;a<t.args.length;++a){var s=t.args[a];if(!(s.count<=0)){var l=new RegExp(s.name,"g"),u="",c=e.arrayArgs.indexOf(a);switch(e.argTypes[a]){case"offset":var p=e.offsetArgIndex.indexOf(a),f=e.offsetArgs[p];c=f.array,u="+q"+p;case"array":u="p"+c+u;var h="l"+a,d="a"+c;if(0===e.arrayBlockIndices[c])1===s.count?"generic"===r[c]?s.lvalue?(o.push(["var ",h,"=",d,".get(",u,")"].join("")),n=n.replace(l,h),i.push([d,".set(",u,",",h,")"].join(""))):n=n.replace(l,[d,".get(",u,")"].join("")):n=n.replace(l,[d,"[",u,"]"].join("")):"generic"===r[c]?(o.push(["var ",h,"=",d,".get(",u,")"].join("")),n=n.replace(l,h),s.lvalue&&i.push([d,".set(",u,",",h,")"].join(""))):(o.push(["var ",h,"=",d,"[",u,"]"].join("")),n=n.replace(l,h),s.lvalue&&i.push([d,"[",u,"]=",h].join("")));else{for(var y=[s.name],m=[u],v=0;v<Math.abs(e.arrayBlockIndices[c]);v++)y.push("\\s*\\[([^\\]]+)\\]"),m.push("$"+(v+1)+"*t"+c+"b"+v);if(l=new RegExp(y.join(""),"g"),u=m.join("+"),"generic"===r[c])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(l,[d,"[",u,"]"].join(""))}break;case"scalar":n=n.replace(l,"Y"+e.scalarArgs.indexOf(a));break;case"index":n=n.replace(l,"index");break;case"shape":n=n.replace(l,"shape")}}}return[o.join("\n"),n,i.join("\n")].join("\n").trim()}function s(t){for(var e=new Array(t.length),r=!0,n=0;n<t.length;++n){var o=t[n],i=o.match(/\d+/);i=i?i[0]:"",0===o.charAt(0)?e[n]="u"+o.charAt(1)+i:e[n]=o.charAt(0)+i,n>0&&(r=r&&e[n]===e[n-1])}return r?e[0]:e.join("")}function l(t,e){for(var r=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,l=new Array(t.arrayArgs.length),c=new Array(t.arrayArgs.length),p=0;p<t.arrayArgs.length;++p)c[p]=e[2*p],l[p]=e[2*p+1];for(var f=[],h=[],d=[],y=[],m=[],p=0;p<t.arrayArgs.length;++p){t.arrayBlockIndices[p]<0?(d.push(0),y.push(r),f.push(r),h.push(r+t.arrayBlockIndices[p])):(d.push(t.arrayBlockIndices[p]),y.push(t.arrayBlockIndices[p]+r),f.push(0),h.push(t.arrayBlockIndices[p]));for(var v=[],g=0;g<l[p].length;g++)d[p]<=l[p][g]&&l[p][g]<y[p]&&v.push(l[p][g]-d[p]);m.push(v)}for(var b=["SS"],x=["'use strict'"],_=[],g=0;g<r;++g)_.push(["s",g,"=SS[",g,"]"].join(""));for(var p=0;p<t.arrayArgs.length;++p){b.push("a"+p),b.push("t"+p),b.push("p"+p);for(var g=0;g<r;++g)_.push(["t",p,"p",g,"=t",p,"[",d[p]+g,"]"].join(""));for(var g=0;g<Math.abs(t.arrayBlockIndices[p]);++g)_.push(["t",p,"b",g,"=t",p,"[",f[p]+g,"]"].join(""))}for(var p=0;p<t.scalarArgs.length;++p)b.push("Y"+p);if(t.shapeArgs.length>0&&_.push("shape=SS.slice(0)"),t.indexArgs.length>0){for(var w=new Array(r),p=0;p<r;++p)w[p]="0";_.push(["index=[",w.join(","),"]"].join(""))}for(var p=0;p<t.offsetArgs.length;++p){for(var T=t.offsetArgs[p],M=[],g=0;g<T.offset.length;++g)0!==T.offset[g]&&(1===T.offset[g]?M.push(["t",T.array,"p",g].join("")):M.push([T.offset[g],"*t",T.array,"p",g].join("")));0===M.length?_.push("q"+p+"=0"):_.push(["q",p,"=",M.join("+")].join(""))}var S=u([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));_=_.concat(S),x.push("var "+_.join(","));for(var p=0;p<t.arrayArgs.length;++p)x.push("p"+p+"|=0");t.pre.body.length>3&&x.push(a(t.pre,t,c));var E=a(t.body,t,c),k=i(m);k<r?x.push(o(k,m[0],t,E)):x.push(n(m[0],t,E)),t.post.body.length>3&&x.push(a(t.post,t,c)),t.debug&&console.log("-----Generated cwise routine for ",e,":\n"+x.join("\n")+"\n----------");var C=[t.funcName||"unnamed","_cwise_loop_",l[0].join("s"),"m",k,s(c)].join(""),A=new Function(["function ",C,"(",b.join(","),"){",x.join("\n"),"} return ",C].join(""));return A()}var u=t("uniq");e.exports=l},{uniq:521}],102:[function(t,e,r){"use strict";function n(t){var e=["'use strict'","var CACHED={}"],r=[],n=t.funcName+"_cwise_thunk";e.push(["return function ",n,"(",t.shimArgs.join(","),"){"].join(""));for(var i=[],a=[],s=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],l=[],u=[],c=0;c<t.arrayArgs.length;++c){var p=t.arrayArgs[c];r.push(["t",p,"=array",p,".dtype,","r",p,"=array",p,".order"].join("")),i.push("t"+p),i.push("r"+p),a.push("t"+p),a.push("r"+p+".join()"),s.push("array"+p+".data"),s.push("array"+p+".stride"),s.push("array"+p+".offset|0"),c>0&&(l.push("array"+t.arrayArgs[0]+".shape.length===array"+p+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[c]))),u.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+p+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[c])+"]"))}t.arrayArgs.length>1&&(e.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),e.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}"));for(var c=0;c<t.scalarArgs.length;++c)s.push("scalar"+t.scalarArgs[c]);r.push(["type=[",a.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),e.push("var "+r.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",i.join(","),"])}","return proc(",s.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+e.join("\n")+"\n----------");var f=new Function("compile",e.join("\n"));return f(o.bind(void 0,t))}var o=t("./compile.js");e.exports=n},{"./compile.js":101}],103:[function(t,e,r){e.exports=t("cwise-compiler")},{"cwise-compiler":100}],104:[function(e,r,n){!function(){function e(t){return t&&(t.ownerDocument||t.document||t).documentElement}function n(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function o(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function i(t){return null===t?NaN:+t}function a(t){return!isNaN(t)}function s(t){return{left:function(e,r,n,o){for(arguments.length<3&&(n=0),arguments.length<4&&(o=e.length);n<o;){var i=n+o>>>1;t(e[i],r)<0?n=i+1:o=i}return n},right:function(e,r,n,o){for(arguments.length<3&&(n=0),arguments.length<4&&(o=e.length);n<o;){var i=n+o>>>1;t(e[i],r)>0?o=i:n=i+1}return n}}}function l(t){return t.length}function u(t){for(var e=1;t*e%1;)e*=10;return e}function c(t,e){for(var r in e)Object.defineProperty(t.prototype,r,{value:e[r],enumerable:!1})}function p(){this._=Object.create(null)}function f(t){return(t+="")===_a||t[0]===wa?wa+t:t}function h(t){return(t+="")[0]===wa?t.slice(1):t}function d(t){return f(t)in this._}function y(t){return(t=f(t))in this._&&delete this._[t]}function m(){var t=[];for(var e in this._)t.push(h(e));return t}function v(){var t=0;for(var e in this._)++t;return t}function g(){for(var t in this._)return!1;return!0}function b(){this._=Object.create(null)}function x(t){return t}function _(t,e,r){return function(){var n=r.apply(e,arguments);return n===e?t:n}}function w(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var r=0,n=Ta.length;r<n;++r){var o=Ta[r]+e;if(o in t)return o}}function T(){}function M(){}function S(t){function e(){for(var e,n=r,o=-1,i=n.length;++o<i;)(e=n[o].on)&&e.apply(this,arguments);return t}var r=[],n=new p;return e.on=function(e,o){var i,a=n.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,r=r.slice(0,i=r.indexOf(a)).concat(r.slice(i+1)),n.remove(e)),o&&r.push(n.set(e,{on:o})),t)},e}function E(){ca.event.preventDefault()}function k(){for(var t,e=ca.event;t=e.sourceEvent;)e=t;return e}function C(t){for(var e=new M,r=0,n=arguments.length;++r<n;)e[arguments[r]]=S(e);return e.of=function(r,n){return function(o){try{var i=o.sourceEvent=ca.event;o.target=t,ca.event=o,e[o.type].apply(r,n)}finally{ca.event=i}}},e}function A(t){return Sa(t,Aa),t}function P(t){return"function"==typeof t?t:function(){return Ea(t,this)}}function L(t){return"function"==typeof t?t:function(){return ka(t,this)}}function D(t,e){function r(){this.removeAttribute(t)}function n(){this.removeAttributeNS(t.space,t.local)}function o(){this.setAttribute(t,e)}function i(){this.setAttributeNS(t.space,t.local,e)}function a(){var r=e.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}function s(){var r=e.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}return t=ca.ns.qualify(t),null==e?t.local?n:r:"function"==typeof e?t.local?s:a:t.local?i:o}function O(t){return t.trim().replace(/\s+/g," ")}function I(t){return new RegExp("(?:^|\\s+)"+ca.requote(t)+"(?:\\s+|$)","g")}function R(t){return(t+"").trim().split(/^|\s+/)}function N(t,e){function r(){for(var r=-1;++r<o;)t[r](this,e)}function n(){for(var r=-1,n=e.apply(this,arguments);++r<o;)t[r](this,n)}t=R(t).map(j);var o=t.length;return"function"==typeof e?n:r}function j(t){var e=I(t);return function(r,n){if(o=r.classList)return n?o.add(t):o.remove(t);var o=r.getAttribute("class")||"";n?(e.lastIndex=0,e.test(o)||r.setAttribute("class",O(o+" "+t))):r.setAttribute("class",O(o.replace(e," ")))}}function F(t,e,r){function n(){this.style.removeProperty(t)}function o(){this.style.setProperty(t,e,r)}function i(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,r)}return null==e?n:"function"==typeof e?i:o}function z(t,e){function r(){delete this[t]}function n(){this[t]=e}function o(){var r=e.apply(this,arguments);null==r?delete this[t]:this[t]=r}return null==e?r:"function"==typeof e?o:n}function B(t){function e(){var e=this.ownerDocument,r=this.namespaceURI;return r===Pa&&e.documentElement.namespaceURI===Pa?e.createElement(t):e.createElementNS(r,t)}function r(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=ca.ns.qualify(t)).local?r:e}function U(){var t=this.parentNode;t&&t.removeChild(this)}function V(t){return{__data__:t}}function H(t){return function(){return Ca(this,t)}}function W(t){return arguments.length||(t=o),function(e,r){return e&&r?t(e.__data__,r.__data__):!e-!r}}function q(t,e){for(var r=0,n=t.length;r<n;r++)for(var o,i=t[r],a=0,s=i.length;a<s;a++)(o=i[a])&&e(o,a,r);return t}function G(t){return Sa(t,Da),t}function Y(t){var e,r;return function(n,o,i){var a,s=t[i].update,l=s.length;for(i!=r&&(r=i,e=0),o>=e&&(e=o+1);!(a=s[e])&&++e<l;);return a}}function X(t,e,r){function n(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function o(){var o=l(e,fa(arguments));n.call(this),this.addEventListener(t,this[a]=o,o.$=r),o._=e}function i(){var e,r=new RegExp("^__on([^.]+)"+ca.requote(t)+"$");for(var n in this)if(e=n.match(r)){var o=this[n];this.removeEventListener(e[1],o,o.$),delete this[n]}}var a="__on"+t,s=t.indexOf("."),l=K;s>0&&(t=t.slice(0,s));var u=Oa.get(t);return u&&(t=u,l=Z),s?e?o:n:e?T:i}function K(t,e){return function(r){var n=ca.event;ca.event=r,e[0]=this.__data__;try{t.apply(this,e)}finally{ca.event=n}}}function Z(t,e){var r=K(t,e);return function(t){var e=this,n=t.relatedTarget;n&&(n===e||8&n.compareDocumentPosition(e))||r.call(e,t)}}function J(t){var r=".dragsuppress-"+ ++Ra,o="click"+r,i=ca.select(n(t)).on("touchmove"+r,E).on("dragstart"+r,E).on("selectstart"+r,E);if(null==Ia&&(Ia=!("onselectstart"in t)&&w(t.style,"userSelect")),Ia){var a=e(t).style,s=a[Ia];a[Ia]="none"}return function(t){if(i.on(r,null),Ia&&(a[Ia]=s),t){var e=function(){i.on(o,null)};i.on(o,function(){E(),e()},!0),setTimeout(e,0)}}}function $(t,e){e.changedTouches&&(e=e.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var o=r.createSVGPoint();if(Na<0){var i=n(t);if(i.scrollX||i.scrollY){r=ca.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=r[0][0].getScreenCTM();Na=!(a.f||a.e),r.remove()}}return Na?(o.x=e.pageX,o.y=e.pageY):(o.x=e.clientX,o.y=e.clientY),o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function Q(){return ca.event.changedTouches[0].identifier}function tt(t){return t>0?1:t<0?-1:0}function et(t,e,r){return(e[0]-t[0])*(r[1]-t[1])-(e[1]-t[1])*(r[0]-t[0])}function rt(t){return t>1?0:t<-1?za:Math.acos(t)}function nt(t){return t>1?Va:t<-1?-Va:Math.asin(t)}function ot(t){return((t=Math.exp(t))-1/t)/2}function it(t){return((t=Math.exp(t))+1/t)/2}function at(t){return((t=Math.exp(2*t))-1)/(t+1)}function st(t){return(t=Math.sin(t/2))*t}function lt(){}function ut(t,e,r){return this instanceof ut?(this.h=+t,this.s=+e,void(this.l=+r)):arguments.length<2?t instanceof ut?new ut(t.h,t.s,t.l):Tt(""+t,Mt,ut):new ut(t,e,r)}function ct(t,e,r){function n(t){return t>360?t-=360:t<0&&(t+=360),t<60?i+(a-i)*t/60:t<180?a:t<240?i+(a-i)*(240-t)/60:i}function o(t){return Math.round(255*n(t))}var i,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,r=r<0?0:r>1?1:r,a=r<=.5?r*(1+e):r+e-r*e,i=2*r-a,new bt(o(t+120),o(t),o(t-120))}function pt(t,e,r){return this instanceof pt?(this.h=+t,this.c=+e,void(this.l=+r)):arguments.length<2?t instanceof pt?new pt(t.h,t.c,t.l):t instanceof ht?yt(t.l,t.a,t.b):yt((t=St((t=ca.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new pt(t,e,r)}function ft(t,e,r){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ht(r,Math.cos(t*=Ha)*e,Math.sin(t)*e)}function ht(t,e,r){return this instanceof ht?(this.l=+t,this.a=+e,void(this.b=+r)):arguments.length<2?t instanceof ht?new ht(t.l,t.a,t.b):t instanceof pt?ft(t.h,t.c,t.l):St((t=bt(t)).r,t.g,t.b):new ht(t,e,r)}function dt(t,e,r){var n=(t+16)/116,o=n+e/500,i=n-r/200;return o=mt(o)*ts,n=mt(n)*es,i=mt(i)*rs,new bt(gt(3.2404542*o-1.5371385*n-.4985314*i),gt(-.969266*o+1.8760108*n+.041556*i),gt(.0556434*o-.2040259*n+1.0572252*i))}function yt(t,e,r){return t>0?new pt(Math.atan2(r,e)*Wa,Math.sqrt(e*e+r*r),t):new pt(NaN,NaN,t)}function mt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function vt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function gt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function bt(t,e,r){return this instanceof bt?(this.r=~~t,this.g=~~e,void(this.b=~~r)):arguments.length<2?t instanceof bt?new bt(t.r,t.g,t.b):Tt(""+t,bt,ct):new bt(t,e,r)}function xt(t){return new bt(t>>16,t>>8&255,255&t)}function _t(t){return xt(t)+""}function wt(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function Tt(t,e,r){var n,o,i,a=0,s=0,l=0;if(n=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(o=n[2].split(","),n[1]){case"hsl":return r(parseFloat(o[0]),parseFloat(o[1])/100,parseFloat(o[2])/100);case"rgb":return e(kt(o[0]),kt(o[1]),kt(o[2]))}return(i=is.get(t))?e(i.r,i.g,i.b):(null==t||"#"!==t.charAt(0)||isNaN(i=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&i)>>4,a|=a>>4,s=240&i,s|=s>>4,l=15&i,l|=l<<4):7===t.length&&(a=(16711680&i)>>16,s=(65280&i)>>8,l=255&i)),e(a,s,l))}function Mt(t,e,r){var n,o,i=Math.min(t/=255,e/=255,r/=255),a=Math.max(t,e,r),s=a-i,l=(a+i)/2;return s?(o=l<.5?s/(a+i):s/(2-a-i),n=t==a?(e-r)/s+(e<r?6:0):e==a?(r-t)/s+2:(t-e)/s+4,n*=60):(n=NaN,o=l>0&&l<1?0:n),new ut(n,o,l)}function St(t,e,r){t=Et(t),e=Et(e),r=Et(r);var n=vt((.4124564*t+.3575761*e+.1804375*r)/ts),o=vt((.2126729*t+.7151522*e+.072175*r)/es),i=vt((.0193339*t+.119192*e+.9503041*r)/rs);return ht(116*o-16,500*(n-o),200*(o-i))}function Et(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function kt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Ct(t){return"function"==typeof t?t:function(){return t}}function At(t){return function(e,r,n){return 2===arguments.length&&"function"==typeof r&&(n=r,r=null),Pt(e,r,t,n)}}function Pt(t,e,r,n){function o(){var t,e=l.status;if(!e&&Dt(l)||e>=200&&e<300||304===e){try{t=r.call(i,l)}catch(t){return void a.error.call(i,t)}a.load.call(i,t)}else a.error.call(i,l)}var i={},a=ca.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=o:l.onreadystatechange=function(){l.readyState>3&&o()},l.onprogress=function(t){var e=ca.event;ca.event=t;try{a.progress.call(i,l)}finally{ca.event=e}},i.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",i)},i.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",i):e},i.responseType=function(t){return arguments.length?(u=t,i):u},i.response=function(t){return r=t,i},["get","post"].forEach(function(t){i[t]=function(){return i.send.apply(i,[t].concat(fa(arguments)))}}),i.send=function(r,n,o){if(2===arguments.length&&"function"==typeof n&&(o=n,n=null),l.open(r,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var c in s)l.setRequestHeader(c,s[c]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=u&&(l.responseType=u),null!=o&&i.on("error",o).on("load",function(t){o(null,t)}),a.beforesend.call(i,l),l.send(null==n?null:n),i},i.abort=function(){return l.abort(),i},ca.rebind(i,a,"on"),null==n?i:i.get(Lt(n))}function Lt(t){return 1===t.length?function(e,r){t(null==e?r:null)}:t}function Dt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Ot(t,e,r){var n=arguments.length;n<2&&(e=0),n<3&&(r=Date.now());var o=r+e,i={c:t,t:o,n:null};return ss?ss.n=i:as=i,ss=i,ls||(us=clearTimeout(us),ls=1,cs(It)),i}function It(){var t=Rt(),e=Nt()-t;e>24?(isFinite(e)&&(clearTimeout(us),us=setTimeout(It,e)),ls=0):(ls=1,cs(It))}function Rt(){for(var t=Date.now(),e=as;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Nt(){for(var t,e=as,r=1/0;e;)e.c?(e.t<r&&(r=e.t),e=(t=e).n):e=t?t.n=e.n:as=e.n;return ss=t,r}function jt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Ft(t,e){var r=Math.pow(10,3*xa(8-e));return{scale:e>8?function(t){return t/r}:function(t){return t*r},symbol:t}}function zt(t){var e=t.decimal,r=t.thousands,n=t.grouping,o=t.currency,i=n&&r?function(t,e){for(var o=t.length,i=[],a=0,s=n[0],l=0;o>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),i.push(t.substring(o-=s,o+s)),!((l+=s+1)>e));)s=n[a=(a+1)%n.length];return i.reverse().join(r)}:x;return function(t){var r=fs.exec(t),n=r[1]||" ",a=r[2]||">",s=r[3]||"-",l=r[4]||"",u=r[5],c=+r[6],p=r[7],f=r[8],h=r[9],d=1,y="",m="",v=!1,g=!0;switch(f&&(f=+f.substring(1)),(u||"0"===n&&"="===a)&&(u=n="0",a="="),h){case"n":p=!0,h="g";break;case"%":d=100,m="%",h="f";break;case"p":d=100,m="%",h="r";break;case"b":case"o":case"x":case"X":"#"===l&&(y="0"+h.toLowerCase());case"c":g=!1;case"d":v=!0,f=0;break;case"s":d=-1,h="r"}"$"===l&&(y=o[0],m=o[1]),"r"!=h||f||(h="g"),null!=f&&("g"==h?f=Math.max(1,Math.min(21,f)):"e"!=h&&"f"!=h||(f=Math.max(0,Math.min(20,f)))),h=hs.get(h)||Bt;var b=u&&p;return function(t){var r=m;if(v&&t%1)return"";var o=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===s?"":s;if(d<0){var l=ca.formatPrefix(t,f);t=l.scale(t),r=l.symbol+m}else t*=d;t=h(t,f);var x,_,w=t.lastIndexOf(".");if(w<0){var T=g?t.lastIndexOf("e"):-1;T<0?(x=t,_=""):(x=t.substring(0,T),_=t.substring(T))}else x=t.substring(0,w),_=e+t.substring(w+1);!u&&p&&(x=i(x,1/0));var M=y.length+x.length+_.length+(b?0:o.length),S=M<c?new Array(M=c-M+1).join(n):"";return b&&(x=i(S+x,S.length?c-_.length:1/0)),o+=y,t=x+_,("<"===a?o+t+S:">"===a?S+o+t:"^"===a?S.substring(0,M>>=1)+o+t+S.substring(M):o+(b?t:S+t))+r}}}function Bt(t){return t+""}function Ut(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Vt(t,e,r){function n(e){var r=t(e),n=i(r,1);return e-r<n-e?r:n}function o(r){return e(r=t(new ys(r-1)),1),r}function i(t,r){return e(t=new ys(+t),r),t}function a(t,n,i){var a=o(t),s=[];if(i>1)for(;a<n;)r(a)%i||s.push(new Date(+a)),e(a,1);else for(;a<n;)s.push(new Date(+a)),e(a,1);return s}function s(t,e,r){try{ys=Ut;var n=new Ut;return n._=t,a(n,e,r)}finally{ys=Date}}t.floor=t,t.round=n,t.ceil=o,t.offset=i,t.range=a;var l=t.utc=Ht(t);return l.floor=l,l.round=Ht(n),l.ceil=Ht(o),l.offset=Ht(i),l.range=s,t}function Ht(t){return function(e,r){try{ys=Ut;var n=new Ut;return n._=e,t(n,r)._}finally{ys=Date}}}function Wt(t){function e(t){function e(e){for(var r,o,i,a=[],s=-1,l=0;++s<n;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(o=vs[r=t.charAt(++s)])&&(r=t.charAt(++s)),(i=C[r])&&(r=i(e,null==o?"e"===r?" ":"0":o)),a.push(r),l=s+1);return a.push(t.slice(l,s)),a.join("")}var n=t.length;return e.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},o=r(n,t,e,0);if(o!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var i=null!=n.Z&&ys!==Ut,a=new(i?Ut:ys);return"j"in n?a.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),a.setFullYear(n.y,0,1),a.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(a.getDay()+5)%7:n.w+7*n.U-(a.getDay()+6)%7)):a.setFullYear(n.y,n.m,n.d),a.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),i?a._:a},e.toString=function(){return t},e}function r(t,e,r,n){for(var o,i,a,s=0,l=e.length,u=r.length;s<l;){if(n>=u)return-1;if(o=e.charCodeAt(s++),37===o){if(a=e.charAt(s++),i=A[a in vs?e.charAt(s++):a],!i||(n=i(t,r,n))<0)return-1}else if(o!=r.charCodeAt(n++))return-1}return n}function n(t,e,r){w.lastIndex=0;var n=w.exec(e.slice(r));return n?(t.w=T.get(n[0].toLowerCase()),r+n[0].length):-1}function o(t,e,r){x.lastIndex=0;var n=x.exec(e.slice(r));return n?(t.w=_.get(n[0].toLowerCase()),r+n[0].length):-1}function i(t,e,r){E.lastIndex=0;var n=E.exec(e.slice(r));return n?(t.m=k.get(n[0].toLowerCase()),r+n[0].length):-1}function a(t,e,r){M.lastIndex=0;var n=M.exec(e.slice(r));return n?(t.m=S.get(n[0].toLowerCase()),r+n[0].length):-1}function s(t,e,n){return r(t,C.c.toString(),e,n)}function l(t,e,n){return r(t,C.x.toString(),e,n)}function u(t,e,n){return r(t,C.X.toString(),e,n)}function c(t,e,r){var n=b.get(e.slice(r,r+=2).toLowerCase());return null==n?-1:(t.p=n,r)}var p=t.dateTime,f=t.date,h=t.time,d=t.periods,y=t.days,m=t.shortDays,v=t.months,g=t.shortMonths;e.utc=function(t){function r(t){try{ys=Ut;var e=new ys;return e._=t,n(e)}finally{ys=Date}}var n=e(t);return r.parse=function(t){try{ys=Ut;var e=n.parse(t);return e&&e._}finally{ys=Date}},r.toString=n.toString,r},e.multi=e.utc.multi=ce;var b=ca.map(),x=Gt(y),_=Yt(y),w=Gt(m),T=Yt(m),M=Gt(v),S=Yt(v),E=Gt(g),k=Yt(g);d.forEach(function(t,e){b.set(t.toLowerCase(),e)});var C={a:function(t){return m[t.getDay()]},A:function(t){return y[t.getDay()]},b:function(t){return g[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(p),d:function(t,e){return qt(t.getDate(),e,2)},e:function(t,e){return qt(t.getDate(),e,2)},H:function(t,e){return qt(t.getHours(),e,2)},I:function(t,e){return qt(t.getHours()%12||12,e,2)},j:function(t,e){return qt(1+ds.dayOfYear(t),e,3)},L:function(t,e){return qt(t.getMilliseconds(),e,3)},m:function(t,e){return qt(t.getMonth()+1,e,2)},M:function(t,e){return qt(t.getMinutes(),e,2)},p:function(t){return d[+(t.getHours()>=12)]},S:function(t,e){return qt(t.getSeconds(),e,2)},U:function(t,e){return qt(ds.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return qt(ds.mondayOfYear(t),e,2)},x:e(f),X:e(h),y:function(t,e){return qt(t.getFullYear()%100,e,2)},Y:function(t,e){return qt(t.getFullYear()%1e4,e,4)},Z:le,"%":function(){return"%"}},A={a:n,A:o,b:i,B:a,c:s,d:re,e:re,H:oe,I:oe,j:ne,L:se,m:ee,M:ie,p:c,S:ae,U:Kt,w:Xt,W:Zt,x:l,X:u,y:$t,Y:Jt,Z:Qt,"%":ue};return e}function qt(t,e,r){var n=t<0?"-":"",o=(n?-t:t)+"",i=o.length;return n+(i<r?new Array(r-i+1).join(e)+o:o)}function Gt(t){return new RegExp("^(?:"+t.map(ca.requote).join("|")+")","i")}function Yt(t){for(var e=new p,r=-1,n=t.length;++r<n;)e.set(t[r].toLowerCase(),r);return e}function Xt(t,e,r){gs.lastIndex=0;var n=gs.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Kt(t,e,r){gs.lastIndex=0;var n=gs.exec(e.slice(r));return n?(t.U=+n[0],r+n[0].length):-1}function Zt(t,e,r){gs.lastIndex=0;var n=gs.exec(e.slice(r));return n?(t.W=+n[0],r+n[0].length):-1}function Jt(t,e,r){gs.lastIndex=0;var n=gs.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function $t(t,e,r){gs.lastIndex=0;var n=gs.exec(e.slice(r,r+2));return n?(t.y=te(+n[0]),r+n[0].length):-1}function Qt(t,e,r){return/^[+-]\d{4}$/.test(e=e.slice(r,r+5))?(t.Z=-e,r+5):-1}function te(t){return t+(t>68?1900:2e3)}function ee(t,e,r){gs.lastIndex=0;var n=gs.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function re(t,e,r){gs.lastIndex=0;var n=gs.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function ne(t,e,r){gs.lastIndex=0;var n=gs.exec(e.slice(r,r+3));return n?(t.j=+n[0],r+n[0].length):-1}function oe(t,e,r){gs.lastIndex=0;var n=gs.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function ie(t,e,r){gs.lastIndex=0;var n=gs.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function ae(t,e,r){gs.lastIndex=0;var n=gs.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function se(t,e,r){gs.lastIndex=0;var n=gs.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function le(t){var e=t.getTimezoneOffset(),r=e>0?"-":"+",n=xa(e)/60|0,o=xa(e)%60;return r+qt(n,"0",2)+qt(o,"0",2)}function ue(t,e,r){bs.lastIndex=0;var n=bs.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function ce(t){for(var e=t.length,r=-1;++r<e;)t[r][0]=this(t[r][0]);return function(e){for(var r=0,n=t[r];!n[1](e);)n=t[++r];return n[0](e)}}function pe(){}function fe(t,e,r){var n=r.s=t+e,o=n-t,i=n-o;r.t=t-i+(e-o)}function he(t,e){t&&Ts.hasOwnProperty(t.type)&&Ts[t.type](t,e)}function de(t,e,r){var n,o=-1,i=t.length-r;for(e.lineStart();++o<i;)n=t[o],e.point(n[0],n[1],n[2]);e.lineEnd()}function ye(t,e){var r=-1,n=t.length;for(e.polygonStart();++r<n;)de(t[r],e,1);e.polygonEnd()}function me(){function t(t,e){t*=Ha,e=e*Ha/2+za/4;var r=t-n,a=r>=0?1:-1,s=a*r,l=Math.cos(e),u=Math.sin(e),c=i*u,p=o*l+c*Math.cos(s),f=c*a*Math.sin(s);Ss.add(Math.atan2(f,p)),n=t,o=l,i=u}var e,r,n,o,i;Es.point=function(a,s){Es.point=t,n=(e=a)*Ha,o=Math.cos(s=(r=s)*Ha/2+za/4),i=Math.sin(s)},Es.lineEnd=function(){t(e,r)}}function ve(t){var e=t[0],r=t[1],n=Math.cos(r);return[n*Math.cos(e),n*Math.sin(e),Math.sin(r)]}function ge(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function be(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function xe(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function _e(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function we(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Te(t){
return[Math.atan2(t[1],t[0]),nt(t[2])]}function Me(t,e){return xa(t[0]-e[0])<ja&&xa(t[1]-e[1])<ja}function Se(t,e){t*=Ha;var r=Math.cos(e*=Ha);Ee(r*Math.cos(t),r*Math.sin(t),Math.sin(e))}function Ee(t,e,r){++ks,As+=(t-As)/ks,Ps+=(e-Ps)/ks,Ls+=(r-Ls)/ks}function ke(){function t(t,o){t*=Ha;var i=Math.cos(o*=Ha),a=i*Math.cos(t),s=i*Math.sin(t),l=Math.sin(o),u=Math.atan2(Math.sqrt((u=r*l-n*s)*u+(u=n*a-e*l)*u+(u=e*s-r*a)*u),e*a+r*s+n*l);Cs+=u,Ds+=u*(e+(e=a)),Os+=u*(r+(r=s)),Is+=u*(n+(n=l)),Ee(e,r,n)}var e,r,n;Fs.point=function(o,i){o*=Ha;var a=Math.cos(i*=Ha);e=a*Math.cos(o),r=a*Math.sin(o),n=Math.sin(i),Fs.point=t,Ee(e,r,n)}}function Ce(){Fs.point=Se}function Ae(){function t(t,e){t*=Ha;var r=Math.cos(e*=Ha),a=r*Math.cos(t),s=r*Math.sin(t),l=Math.sin(e),u=o*l-i*s,c=i*a-n*l,p=n*s-o*a,f=Math.sqrt(u*u+c*c+p*p),h=n*a+o*s+i*l,d=f&&-rt(h)/f,y=Math.atan2(f,h);Rs+=d*u,Ns+=d*c,js+=d*p,Cs+=y,Ds+=y*(n+(n=a)),Os+=y*(o+(o=s)),Is+=y*(i+(i=l)),Ee(n,o,i)}var e,r,n,o,i;Fs.point=function(a,s){e=a,r=s,Fs.point=t,a*=Ha;var l=Math.cos(s*=Ha);n=l*Math.cos(a),o=l*Math.sin(a),i=Math.sin(s),Ee(n,o,i)},Fs.lineEnd=function(){t(e,r),Fs.lineEnd=Ce,Fs.point=Se}}function Pe(t,e){function r(r,n){return r=t(r,n),e(r[0],r[1])}return t.invert&&e.invert&&(r.invert=function(r,n){return r=e.invert(r,n),r&&t.invert(r[0],r[1])}),r}function Le(){return!0}function De(t,e,r,n,o){var i=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,r=t[0],n=t[e];if(Me(r,n)){o.lineStart();for(var s=0;s<e;++s)o.point((r=t[s])[0],r[1]);return void o.lineEnd()}var l=new Ie(r,t,null,!0),u=new Ie(r,null,l,!1);l.o=u,i.push(l),a.push(u),l=new Ie(n,t,null,!1),u=new Ie(n,null,l,!0),l.o=u,i.push(l),a.push(u)}}),a.sort(e),Oe(i),Oe(a),i.length){for(var s=0,l=r,u=a.length;s<u;++s)a[s].e=l=!l;for(var c,p,f=i[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;c=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(var s=0,u=c.length;s<u;++s)o.point((p=c[s])[0],p[1]);else n(h.x,h.n.x,1,o);h=h.n}else{if(d){c=h.p.z;for(var s=c.length-1;s>=0;--s)o.point((p=c[s])[0],p[1])}else n(h.x,h.p.x,-1,o);h=h.p}h=h.o,c=h.z,d=!d}while(!h.v);o.lineEnd()}}}function Oe(t){if(e=t.length){for(var e,r,n=0,o=t[0];++n<e;)o.n=r=t[n],r.p=o,o=r;o.n=r=t[0],r.p=o}}function Ie(t,e,r,n){this.x=t,this.z=e,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function Re(t,e,r,n){return function(o,i){function a(e,r){var n=o(e,r);t(e=n[0],r=n[1])&&i.point(e,r)}function s(t,e){var r=o(t,e);m.point(r[0],r[1])}function l(){g.point=s,m.lineStart()}function u(){g.point=a,m.lineEnd()}function c(t,e){y.push([t,e]);var r=o(t,e);x.point(r[0],r[1])}function p(){x.lineStart(),y=[]}function f(){c(y[0][0],y[0][1]),x.lineEnd();var t,e=x.clean(),r=b.buffer(),n=r.length;if(y.pop(),d.push(y),y=null,n)if(1&e){t=r[0];var o,n=t.length-1,a=-1;if(n>0){for(_||(i.polygonStart(),_=!0),i.lineStart();++a<n;)i.point((o=t[a])[0],o[1]);i.lineEnd()}}else n>1&&2&e&&r.push(r.pop().concat(r.shift())),h.push(r.filter(Ne))}var h,d,y,m=e(i),v=o.invert(n[0],n[1]),g={point:a,lineStart:l,lineEnd:u,polygonStart:function(){g.point=c,g.lineStart=p,g.lineEnd=f,h=[],d=[]},polygonEnd:function(){g.point=a,g.lineStart=l,g.lineEnd=u,h=ca.merge(h);var t=Ve(v,d);h.length?(_||(i.polygonStart(),_=!0),De(h,Fe,t,r,i)):t&&(_||(i.polygonStart(),_=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),_&&(i.polygonEnd(),_=!1),h=d=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}},b=je(),x=e(b),_=!1;return g}}function Ne(t){return t.length>1}function je(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,r){t.push([e,r])},lineEnd:T,buffer:function(){var r=e;return e=[],t=null,r},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Fe(t,e){return((t=t.x)[0]<0?t[1]-Va-ja:Va-t[1])-((e=e.x)[0]<0?e[1]-Va-ja:Va-e[1])}function ze(t){var e,r=NaN,n=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(i,a){var s=i>0?za:-za,l=xa(i-r);xa(l-za)<ja?(t.point(r,n=(n+a)/2>0?Va:-Va),t.point(o,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(i,n),e=0):o!==s&&l>=za&&(xa(r-o)<ja&&(r-=o*ja),xa(i-s)<ja&&(i-=s*ja),n=Be(r,n,i,a),t.point(o,n),t.lineEnd(),t.lineStart(),t.point(s,n),e=0),t.point(r=i,n=a),o=s},lineEnd:function(){t.lineEnd(),r=n=NaN},clean:function(){return 2-e}}}function Be(t,e,r,n){var o,i,a=Math.sin(t-r);return xa(a)>ja?Math.atan((Math.sin(e)*(i=Math.cos(n))*Math.sin(r)-Math.sin(n)*(o=Math.cos(e))*Math.sin(t))/(o*i*a)):(e+n)/2}function Ue(t,e,r,n){var o;if(null==t)o=r*Va,n.point(-za,o),n.point(0,o),n.point(za,o),n.point(za,0),n.point(za,-o),n.point(0,-o),n.point(-za,-o),n.point(-za,0),n.point(-za,o);else if(xa(t[0]-e[0])>ja){var i=t[0]<e[0]?za:-za;o=r*i/2,n.point(-i,o),n.point(0,o),n.point(i,o)}else n.point(e[0],e[1])}function Ve(t,e){var r=t[0],n=t[1],o=[Math.sin(r),-Math.cos(r),0],i=0,a=0;Ss.reset();for(var s=0,l=e.length;s<l;++s){var u=e[s],c=u.length;if(c)for(var p=u[0],f=p[0],h=p[1]/2+za/4,d=Math.sin(h),y=Math.cos(h),m=1;;){m===c&&(m=0),t=u[m];var v=t[0],g=t[1]/2+za/4,b=Math.sin(g),x=Math.cos(g),_=v-f,w=_>=0?1:-1,T=w*_,M=T>za,S=d*b;if(Ss.add(Math.atan2(S*w*Math.sin(T),y*x+S*Math.cos(T))),i+=M?_+w*Ba:_,M^f>=r^v>=r){var E=be(ve(p),ve(t));we(E);var k=be(o,E);we(k);var C=(M^_>=0?-1:1)*nt(k[2]);(n>C||n===C&&(E[0]||E[1]))&&(a+=M^_>=0?1:-1)}if(!m++)break;f=v,d=b,y=x,p=t}}return(i<-ja||i<ja&&Ss<-ja)^1&a}function He(t){function e(t,e){return Math.cos(t)*Math.cos(e)>i}function r(t){var r,i,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(p,f){var h,d=[p,f],y=e(p,f),m=a?y?0:o(p,f):y?o(p+(p<0?za:-za),f):0;if(!r&&(u=l=y)&&t.lineStart(),y!==l&&(h=n(r,d),(Me(r,h)||Me(d,h))&&(d[0]+=ja,d[1]+=ja,y=e(d[0],d[1]))),y!==l)c=0,y?(t.lineStart(),h=n(d,r),t.point(h[0],h[1])):(h=n(r,d),t.point(h[0],h[1]),t.lineEnd()),r=h;else if(s&&r&&a^y){var v;m&i||!(v=n(d,r,!0))||(c=0,a?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!y||r&&Me(r,d)||t.point(d[0],d[1]),r=d,l=y,i=m},lineEnd:function(){l&&t.lineEnd(),r=null},clean:function(){return c|(u&&l)<<1}}}function n(t,e,r){var n=ve(t),o=ve(e),a=[1,0,0],s=be(n,o),l=ge(s,s),u=s[0],c=l-u*u;if(!c)return!r&&t;var p=i*l/c,f=-i*u/c,h=be(a,s),d=_e(a,p),y=_e(s,f);xe(d,y);var m=h,v=ge(d,m),g=ge(m,m),b=v*v-g*(ge(d,d)-1);if(!(b<0)){var x=Math.sqrt(b),_=_e(m,(-v-x)/g);if(xe(_,d),_=Te(_),!r)return _;var w,T=t[0],M=e[0],S=t[1],E=e[1];M<T&&(w=T,T=M,M=w);var k=M-T,C=xa(k-za)<ja,A=C||k<ja;if(!C&&E<S&&(w=S,S=E,E=w),A?C?S+E>0^_[1]<(xa(_[0]-T)<ja?S:E):S<=_[1]&&_[1]<=E:k>za^(T<=_[0]&&_[0]<=M)){var P=_e(m,(-v+x)/g);return xe(P,d),[_,Te(P)]}}}function o(e,r){var n=a?t:za-t,o=0;return e<-n?o|=1:e>n&&(o|=2),r<-n?o|=4:r>n&&(o|=8),o}var i=Math.cos(t),a=i>0,s=xa(i)>ja,l=mr(t,6*Ha);return Re(e,r,l,a?[0,-t]:[-za,t-za])}function We(t,e,r,n){return function(o){var i,a=o.a,s=o.b,l=a.x,u=a.y,c=s.x,p=s.y,f=0,h=1,d=c-l,y=p-u;if(i=t-l,d||!(i>0)){if(i/=d,d<0){if(i<f)return;i<h&&(h=i)}else if(d>0){if(i>h)return;i>f&&(f=i)}if(i=r-l,d||!(i<0)){if(i/=d,d<0){if(i>h)return;i>f&&(f=i)}else if(d>0){if(i<f)return;i<h&&(h=i)}if(i=e-u,y||!(i>0)){if(i/=y,y<0){if(i<f)return;i<h&&(h=i)}else if(y>0){if(i>h)return;i>f&&(f=i)}if(i=n-u,y||!(i<0)){if(i/=y,y<0){if(i>h)return;i>f&&(f=i)}else if(y>0){if(i<f)return;i<h&&(h=i)}return f>0&&(o.a={x:l+f*d,y:u+f*y}),h<1&&(o.b={x:l+h*d,y:u+h*y}),o}}}}}}function qe(t,e,r,n){function o(n,o){return xa(n[0]-t)<ja?o>0?0:3:xa(n[0]-r)<ja?o>0?2:1:xa(n[1]-e)<ja?o>0?1:0:o>0?3:2}function i(t,e){return a(t.x,e.x)}function a(t,e){var r=o(t,1),n=o(e,1);return r!==n?r-n:0===r?e[1]-t[1]:1===r?t[0]-e[0]:2===r?t[1]-e[1]:e[0]-t[0]}return function(s){function l(t){for(var e=0,r=m.length,n=t[1],o=0;o<r;++o)for(var i,a=1,s=m[o],l=s.length,u=s[0];a<l;++a)i=s[a],u[1]<=n?i[1]>n&&et(u,i,t)>0&&++e:i[1]<=n&&et(u,i,t)<0&&--e,u=i;return 0!==e}function u(i,s,l,u){var c=0,p=0;if(null==i||(c=o(i,l))!==(p=o(s,l))||a(i,s)<0^l>0){do u.point(0===c||3===c?t:r,c>1?n:e);while((c=(c+l+4)%4)!==p)}else u.point(s[0],s[1])}function c(o,i){return t<=o&&o<=r&&e<=i&&i<=n}function p(t,e){c(t,e)&&s.point(t,e)}function f(){A.point=d,m&&m.push(v=[]),M=!0,T=!1,_=w=NaN}function h(){y&&(d(g,b),x&&T&&k.rejoin(),y.push(k.buffer())),A.point=p,T&&s.lineEnd()}function d(t,e){t=Math.max(-Bs,Math.min(Bs,t)),e=Math.max(-Bs,Math.min(Bs,e));var r=c(t,e);if(m&&v.push([t,e]),M)g=t,b=e,x=r,M=!1,r&&(s.lineStart(),s.point(t,e));else if(r&&T)s.point(t,e);else{var n={a:{x:_,y:w},b:{x:t,y:e}};C(n)?(T||(s.lineStart(),s.point(n.a.x,n.a.y)),s.point(n.b.x,n.b.y),r||s.lineEnd(),S=!1):r&&(s.lineStart(),s.point(t,e),S=!1)}_=t,w=e,T=r}var y,m,v,g,b,x,_,w,T,M,S,E=s,k=je(),C=We(t,e,r,n),A={point:p,lineStart:f,lineEnd:h,polygonStart:function(){s=k,y=[],m=[],S=!0},polygonEnd:function(){s=E,y=ca.merge(y);var e=l([t,n]),r=S&&e,o=y.length;(r||o)&&(s.polygonStart(),r&&(s.lineStart(),u(null,null,1,s),s.lineEnd()),o&&De(y,i,e,u,s),s.polygonEnd()),y=m=v=null}};return A}}function Ge(t){var e=0,r=za/3,n=lr(t),o=n(e,r);return o.parallels=function(t){return arguments.length?n(e=t[0]*za/180,r=t[1]*za/180):[e/za*180,r/za*180]},o}function Ye(t,e){function r(t,e){var r=Math.sqrt(i-2*o*Math.sin(e))/o;return[r*Math.sin(t*=o),a-r*Math.cos(t)]}var n=Math.sin(t),o=(n+Math.sin(e))/2,i=1+n*(2*o-n),a=Math.sqrt(i)/o;return r.invert=function(t,e){var r=a-e;return[Math.atan2(t,r)/o,nt((i-(t*t+r*r)*o*o)/(2*o))]},r}function Xe(){function t(t,e){Vs+=o*t-n*e,n=t,o=e}var e,r,n,o;Ys.point=function(i,a){Ys.point=t,e=n=i,r=o=a},Ys.lineEnd=function(){t(e,r)}}function Ke(t,e){t<Hs&&(Hs=t),t>qs&&(qs=t),e<Ws&&(Ws=e),e>Gs&&(Gs=e)}function Ze(){function t(t,e){a.push("M",t,",",e,i)}function e(t,e){a.push("M",t,",",e),s.point=r}function r(t,e){a.push("L",t,",",e)}function n(){s.point=t}function o(){a.push("Z")}var i=Je(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:n,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=n,s.point=t},pointRadius:function(t){return i=Je(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function Je(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function $e(t,e){As+=t,Ps+=e,++Ls}function Qe(){function t(t,n){var o=t-e,i=n-r,a=Math.sqrt(o*o+i*i);Ds+=a*(e+t)/2,Os+=a*(r+n)/2,Is+=a,$e(e=t,r=n)}var e,r;Ks.point=function(n,o){Ks.point=t,$e(e=n,r=o)}}function tr(){Ks.point=$e}function er(){function t(t,e){var r=t-n,i=e-o,a=Math.sqrt(r*r+i*i);Ds+=a*(n+t)/2,Os+=a*(o+e)/2,Is+=a,a=o*t-n*e,Rs+=a*(n+t),Ns+=a*(o+e),js+=3*a,$e(n=t,o=e)}var e,r,n,o;Ks.point=function(i,a){Ks.point=t,$e(e=n=i,r=o=a)},Ks.lineEnd=function(){t(e,r)}}function rr(t){function e(e,r){t.moveTo(e+a,r),t.arc(e,r,a,0,Ba)}function r(e,r){t.moveTo(e,r),s.point=n}function n(e,r){t.lineTo(e,r)}function o(){s.point=e}function i(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=r},lineEnd:o,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=o,s.point=e},pointRadius:function(t){return a=t,s},result:T};return s}function nr(t){function e(t){return(s?n:r)(t)}function r(e){return ar(e,function(r,n){r=t(r,n),e.point(r[0],r[1])})}function n(e){function r(r,n){r=t(r,n),e.point(r[0],r[1])}function n(){b=NaN,M.point=i,e.lineStart()}function i(r,n){var i=ve([r,n]),a=t(r,n);o(b,x,g,_,w,T,b=a[0],x=a[1],g=r,_=i[0],w=i[1],T=i[2],s,e),e.point(b,x)}function a(){M.point=r,e.lineEnd()}function l(){n(),M.point=u,M.lineEnd=c}function u(t,e){i(p=t,f=e),h=b,d=x,y=_,m=w,v=T,M.point=i}function c(){o(b,x,g,_,w,T,h,d,p,y,m,v,s,e),M.lineEnd=a,a()}var p,f,h,d,y,m,v,g,b,x,_,w,T,M={point:r,lineStart:n,lineEnd:a,polygonStart:function(){e.polygonStart(),M.lineStart=l},polygonEnd:function(){e.polygonEnd(),M.lineStart=n}};return M}function o(e,r,n,s,l,u,c,p,f,h,d,y,m,v){var g=c-e,b=p-r,x=g*g+b*b;if(x>4*i&&m--){var _=s+h,w=l+d,T=u+y,M=Math.sqrt(_*_+w*w+T*T),S=Math.asin(T/=M),E=xa(xa(T)-1)<ja||xa(n-f)<ja?(n+f)/2:Math.atan2(w,_),k=t(E,S),C=k[0],A=k[1],P=C-e,L=A-r,D=b*P-g*L;(D*D/x>i||xa((g*P+b*L)/x-.5)>.3||s*h+l*d+u*y<a)&&(o(e,r,n,s,l,u,C,A,E,_/=M,w/=M,T,m,v),v.point(C,A),o(C,A,E,_,w,T,c,p,f,h,d,y,m,v))}}var i=.5,a=Math.cos(30*Ha),s=16;return e.precision=function(t){return arguments.length?(s=(i=t*t)>0&&16,e):Math.sqrt(i)},e}function or(t){var e=nr(function(e,r){return t([e*Wa,r*Wa])});return function(t){return ur(e(t))}}function ir(t){this.stream=t}function ar(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function sr(t){return lr(function(){return t})()}function lr(t){function e(t){return t=s(t[0]*Ha,t[1]*Ha),[t[0]*f+l,u-t[1]*f]}function r(t){return t=s.invert((t[0]-l)/f,(u-t[1])/f),t&&[t[0]*Wa,t[1]*Wa]}function n(){s=Pe(a=fr(v,g,b),i);var t=i(y,m);return l=h-t[0]*f,u=d+t[1]*f,o()}function o(){return c&&(c.valid=!1,c=null),e}var i,a,s,l,u,c,p=nr(function(t,e){return t=i(t,e),[t[0]*f+l,u-t[1]*f]}),f=150,h=480,d=250,y=0,m=0,v=0,g=0,b=0,_=zs,w=x,T=null,M=null;return e.stream=function(t){return c&&(c.valid=!1),c=ur(_(a,p(w(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(_=null==t?(T=t,zs):He((T=+t)*Ha),o()):T},e.clipExtent=function(t){return arguments.length?(M=t,w=t?qe(t[0][0],t[0][1],t[1][0],t[1][1]):x,o()):M},e.scale=function(t){return arguments.length?(f=+t,n()):f},e.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],n()):[h,d]},e.center=function(t){return arguments.length?(y=t[0]%360*Ha,m=t[1]%360*Ha,n()):[y*Wa,m*Wa]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Ha,g=t[1]%360*Ha,b=t.length>2?t[2]%360*Ha:0,n()):[v*Wa,g*Wa,b*Wa]},ca.rebind(e,p,"precision"),function(){return i=t.apply(this,arguments),e.invert=i.invert&&r,n()}}function ur(t){return ar(t,function(e,r){t.point(e*Ha,r*Ha)})}function cr(t,e){return[t,e]}function pr(t,e){return[t>za?t-Ba:t<-za?t+Ba:t,e]}function fr(t,e,r){return t?e||r?Pe(dr(t),yr(e,r)):dr(t):e||r?yr(e,r):pr}function hr(t){return function(e,r){return e+=t,[e>za?e-Ba:e<-za?e+Ba:e,r]}}function dr(t){var e=hr(t);return e.invert=hr(-t),e}function yr(t,e){function r(t,e){var r=Math.cos(e),s=Math.cos(t)*r,l=Math.sin(t)*r,u=Math.sin(e),c=u*n+s*o;return[Math.atan2(l*i-c*a,s*n-u*o),nt(c*i+l*a)]}var n=Math.cos(t),o=Math.sin(t),i=Math.cos(e),a=Math.sin(e);return r.invert=function(t,e){var r=Math.cos(e),s=Math.cos(t)*r,l=Math.sin(t)*r,u=Math.sin(e),c=u*i-l*a;return[Math.atan2(l*i+u*a,s*n+c*o),nt(c*n-s*o)]},r}function mr(t,e){var r=Math.cos(t),n=Math.sin(t);return function(o,i,a,s){var l=a*e;null!=o?(o=vr(r,o),i=vr(r,i),(a>0?o<i:o>i)&&(o+=a*Ba)):(o=t+a*Ba,i=t-.5*l);for(var u,c=o;a>0?c>i:c<i;c-=l)s.point((u=Te([r,-n*Math.cos(c),-n*Math.sin(c)]))[0],u[1])}}function vr(t,e){var r=ve(e);r[0]-=t,we(r);var n=rt(-r[1]);return((-r[2]<0?-n:n)+2*Math.PI-ja)%(2*Math.PI)}function gr(t,e,r){var n=ca.range(t,e-ja,r).concat(e);return function(t){return n.map(function(e){return[t,e]})}}function br(t,e,r){var n=ca.range(t,e-ja,r).concat(e);return function(t){return n.map(function(e){return[e,t]})}}function xr(t){return t.source}function _r(t){return t.target}function wr(t,e,r,n){var o=Math.cos(e),i=Math.sin(e),a=Math.cos(n),s=Math.sin(n),l=o*Math.cos(t),u=o*Math.sin(t),c=a*Math.cos(r),p=a*Math.sin(r),f=2*Math.asin(Math.sqrt(st(n-e)+o*a*st(r-t))),h=1/Math.sin(f),d=f?function(t){var e=Math.sin(t*=f)*h,r=Math.sin(f-t)*h,n=r*l+e*c,o=r*u+e*p,a=r*i+e*s;return[Math.atan2(o,n)*Wa,Math.atan2(a,Math.sqrt(n*n+o*o))*Wa]}:function(){return[t*Wa,e*Wa]};return d.distance=f,d}function Tr(){function t(t,o){var i=Math.sin(o*=Ha),a=Math.cos(o),s=xa((t*=Ha)-e),l=Math.cos(s);Zs+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=n*i-r*a*l)*s),r*i+n*a*l),e=t,r=i,n=a}var e,r,n;Js.point=function(o,i){e=o*Ha,r=Math.sin(i*=Ha),n=Math.cos(i),Js.point=t},Js.lineEnd=function(){Js.point=Js.lineEnd=T}}function Mr(t,e){function r(e,r){var n=Math.cos(e),o=Math.cos(r),i=t(n*o);return[i*o*Math.sin(e),i*Math.sin(r)]}return r.invert=function(t,r){var n=Math.sqrt(t*t+r*r),o=e(n),i=Math.sin(o),a=Math.cos(o);return[Math.atan2(t*i,n*a),Math.asin(n&&r*i/n)]},r}function Sr(t,e){function r(t,e){a>0?e<-Va+ja&&(e=-Va+ja):e>Va-ja&&(e=Va-ja);var r=a/Math.pow(o(e),i);return[r*Math.sin(i*t),a-r*Math.cos(i*t)]}var n=Math.cos(t),o=function(t){return Math.tan(za/4+t/2)},i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(o(e)/o(t)),a=n*Math.pow(o(t),i)/i;return i?(r.invert=function(t,e){var r=a-e,n=tt(i)*Math.sqrt(t*t+r*r);return[Math.atan2(t,r)/i,2*Math.atan(Math.pow(a/n,1/i))-Va]},r):kr}function Er(t,e){function r(t,e){var r=i-e;return[r*Math.sin(o*t),i-r*Math.cos(o*t)]}var n=Math.cos(t),o=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/o+t;return xa(o)<ja?cr:(r.invert=function(t,e){var r=i-e;return[Math.atan2(t,r)/o,i-tt(o)*Math.sqrt(t*t+r*r)]},r)}function kr(t,e){return[t,Math.log(Math.tan(za/4+e/2))]}function Cr(t){var e,r=sr(t),n=r.scale,o=r.translate,i=r.clipExtent;return r.scale=function(){var t=n.apply(r,arguments);return t===r?e?r.clipExtent(null):r:t},r.translate=function(){var t=o.apply(r,arguments);return t===r?e?r.clipExtent(null):r:t},r.clipExtent=function(t){var a=i.apply(r,arguments);if(a===r){if(e=null==t){var s=za*n(),l=o();i([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(a=null);return a},r.clipExtent(null)}function Ar(t,e){return[Math.log(Math.tan(za/4+e/2)),-t]}function Pr(t){return t[0]}function Lr(t){return t[1]}function Dr(t){for(var e=t.length,r=[0,1],n=2,o=2;o<e;o++){for(;n>1&&et(t[r[n-2]],t[r[n-1]],t[o])<=0;)--n;r[n++]=o}return r.slice(0,n)}function Or(t,e){return t[0]-e[0]||t[1]-e[1]}function Ir(t,e,r){return(r[0]-e[0])*(t[1]-e[1])<(r[1]-e[1])*(t[0]-e[0])}function Rr(t,e,r,n){var o=t[0],i=r[0],a=e[0]-o,s=n[0]-i,l=t[1],u=r[1],c=e[1]-l,p=n[1]-u,f=(s*(l-u)-p*(o-i))/(p*a-s*c);return[o+f*a,l+f*c]}function Nr(t){var e=t[0],r=t[t.length-1];return!(e[0]-r[0]||e[1]-r[1])}function jr(){on(this),this.edge=this.site=this.circle=null}function Fr(t){var e=ul.pop()||new jr;return e.site=t,e}function zr(t){Kr(t),al.remove(t),ul.push(t),on(t)}function Br(t){var e=t.circle,r=e.x,n=e.cy,o={x:r,y:n},i=t.P,a=t.N,s=[t];zr(t);for(var l=i;l.circle&&xa(r-l.circle.x)<ja&&xa(n-l.circle.cy)<ja;)i=l.P,s.unshift(l),zr(l),l=i;s.unshift(l),Kr(l);for(var u=a;u.circle&&xa(r-u.circle.x)<ja&&xa(n-u.circle.cy)<ja;)a=u.N,s.push(u),zr(u),u=a;s.push(u),Kr(u);var c,p=s.length;for(c=1;c<p;++c)u=s[c],l=s[c-1],en(u.edge,l.site,u.site,o);l=s[0],u=s[p-1],u.edge=Qr(l.site,u.site,null,o),Xr(l),Xr(u)}function Ur(t){for(var e,r,n,o,i=t.x,a=t.y,s=al._;s;)if(n=Vr(s,a)-i,n>ja)s=s.L;else{if(o=i-Hr(s,a),!(o>ja)){n>-ja?(e=s.P,r=s):o>-ja?(e=s,r=s.N):e=r=s;break}if(!s.R){e=s;break}s=s.R}var l=Fr(t);if(al.insert(e,l),e||r){if(e===r)return Kr(e),r=Fr(e.site),al.insert(l,r),l.edge=r.edge=Qr(e.site,l.site),Xr(e),void Xr(r);if(!r)return void(l.edge=Qr(e.site,l.site));Kr(e),Kr(r);var u=e.site,c=u.x,p=u.y,f=t.x-c,h=t.y-p,d=r.site,y=d.x-c,m=d.y-p,v=2*(f*m-h*y),g=f*f+h*h,b=y*y+m*m,x={x:(m*g-h*b)/v+c,y:(f*b-y*g)/v+p};en(r.edge,u,d,x),l.edge=Qr(u,t,null,x),r.edge=Qr(t,d,null,x),Xr(e),Xr(r)}}function Vr(t,e){var r=t.site,n=r.x,o=r.y,i=o-e;if(!i)return n;var a=t.P;if(!a)return-(1/0);r=a.site;var s=r.x,l=r.y,u=l-e;if(!u)return s;var c=s-n,p=1/i-1/u,f=c/u;return p?(-f+Math.sqrt(f*f-2*p*(c*c/(-2*u)-l+u/2+o-i/2)))/p+n:(n+s)/2}function Hr(t,e){var r=t.N;if(r)return Vr(r,e);var n=t.site;return n.y===e?n.x:1/0}function Wr(t){this.site=t,this.edges=[]}function qr(t){for(var e,r,n,o,i,a,s,l,u,c,p=t[0][0],f=t[1][0],h=t[0][1],d=t[1][1],y=il,m=y.length;m--;)if(i=y[m],i&&i.prepare())for(s=i.edges,l=s.length,a=0;a<l;)c=s[a].end(),n=c.x,o=c.y,u=s[++a%l].start(),e=u.x,r=u.y,(xa(n-e)>ja||xa(o-r)>ja)&&(s.splice(a,0,new rn(tn(i.site,c,xa(n-p)<ja&&d-o>ja?{x:p,y:xa(e-p)<ja?r:d}:xa(o-d)<ja&&f-n>ja?{x:xa(r-d)<ja?e:f,y:d}:xa(n-f)<ja&&o-h>ja?{x:f,y:xa(e-f)<ja?r:h}:xa(o-h)<ja&&n-p>ja?{x:xa(r-h)<ja?e:p,y:h}:null),i.site,null)),++l)}function Gr(t,e){return e.angle-t.angle}function Yr(){on(this),this.x=this.y=this.arc=this.site=this.cy=null}function Xr(t){var e=t.P,r=t.N;if(e&&r){var n=e.site,o=t.site,i=r.site;if(n!==i){var a=o.x,s=o.y,l=n.x-a,u=n.y-s,c=i.x-a,p=i.y-s,f=2*(l*p-u*c);if(!(f>=-Fa)){var h=l*l+u*u,d=c*c+p*p,y=(p*h-u*d)/f,m=(l*d-c*h)/f,p=m+s,v=cl.pop()||new Yr;v.arc=t,v.site=o,v.x=y+a,v.y=p+Math.sqrt(y*y+m*m),v.cy=p,t.circle=v;for(var g=null,b=ll._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){g=b.P;break}b=b.L}else{if(!b.R){g=b;break}b=b.R}ll.insert(g,v),g||(sl=v)}}}}function Kr(t){var e=t.circle;e&&(e.P||(sl=e.N),ll.remove(e),cl.push(e),on(e),t.circle=null)}function Zr(t){for(var e,r=ol,n=We(t[0][0],t[0][1],t[1][0],t[1][1]),o=r.length;o--;)e=r[o],(!Jr(e,t)||!n(e)||xa(e.a.x-e.b.x)<ja&&xa(e.a.y-e.b.y)<ja)&&(e.a=e.b=null,r.splice(o,1))}function Jr(t,e){var r=t.b;if(r)return!0;var n,o,i=t.a,a=e[0][0],s=e[1][0],l=e[0][1],u=e[1][1],c=t.l,p=t.r,f=c.x,h=c.y,d=p.x,y=p.y,m=(f+d)/2,v=(h+y)/2;if(y===h){if(m<a||m>=s)return;if(f>d){if(i){if(i.y>=u)return}else i={x:m,y:l};r={x:m,y:u}}else{if(i){if(i.y<l)return}else i={x:m,y:u};r={x:m,y:l}}}else if(n=(f-d)/(y-h),o=v-n*m,n<-1||n>1)if(f>d){if(i){if(i.y>=u)return}else i={x:(l-o)/n,y:l};r={x:(u-o)/n,y:u}}else{if(i){if(i.y<l)return}else i={x:(u-o)/n,y:u};r={x:(l-o)/n,y:l}}else if(h<y){if(i){if(i.x>=s)return}else i={x:a,y:n*a+o};r={x:s,y:n*s+o}}else{if(i){if(i.x<a)return}else i={x:s,y:n*s+o};r={x:a,y:n*a+o}}return t.a=i,t.b=r,!0}function $r(t,e){this.l=t,this.r=e,this.a=this.b=null}function Qr(t,e,r,n){var o=new $r(t,e);return ol.push(o),r&&en(o,t,e,r),n&&en(o,e,t,n),il[t.i].edges.push(new rn(o,t,e)),il[e.i].edges.push(new rn(o,e,t)),o}function tn(t,e,r){var n=new $r(t,null);return n.a=e,n.b=r,ol.push(n),n}function en(t,e,r,n){t.a||t.b?t.l===r?t.b=n:t.a=n:(t.a=n,t.l=e,t.r=r)}function rn(t,e,r){var n=t.a,o=t.b;this.edge=t,this.site=e,this.angle=r?Math.atan2(r.y-e.y,r.x-e.x):t.l===e?Math.atan2(o.x-n.x,n.y-o.y):Math.atan2(n.x-o.x,o.y-n.y)}function nn(){this._=null}function on(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function an(t,e){var r=e,n=e.R,o=r.U;o?o.L===r?o.L=n:o.R=n:t._=n,n.U=o,r.U=n,r.R=n.L,r.R&&(r.R.U=r),n.L=r}function sn(t,e){var r=e,n=e.L,o=r.U;o?o.L===r?o.L=n:o.R=n:t._=n,n.U=o,r.U=n,r.L=n.R,r.L&&(r.L.U=r),n.R=r}function ln(t){for(;t.L;)t=t.L;return t}function un(t,e){var r,n,o,i=t.sort(cn).pop();for(ol=[],il=new Array(t.length),al=new nn,ll=new nn;;)if(o=sl,i&&(!o||i.y<o.y||i.y===o.y&&i.x<o.x))i.x===r&&i.y===n||(il[i.i]=new Wr(i),Ur(i),r=i.x,n=i.y),i=t.pop();else{if(!o)break;Br(o.arc)}e&&(Zr(e),qr(e));var a={cells:il,edges:ol};return al=ll=ol=il=null,a}function cn(t,e){return e.y-t.y||e.x-t.x}function pn(t,e,r){return(t.x-r.x)*(e.y-t.y)-(t.x-e.x)*(r.y-t.y)}function fn(t){return t.x}function hn(t){return t.y}function dn(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function yn(t,e,r,n,o,i){if(!t(e,r,n,o,i)){var a=.5*(r+o),s=.5*(n+i),l=e.nodes;l[0]&&yn(t,l[0],r,n,a,s),l[1]&&yn(t,l[1],a,n,o,s),l[2]&&yn(t,l[2],r,s,a,i),l[3]&&yn(t,l[3],a,s,o,i)}}function mn(t,e,r,n,o,i,a){var s,l=1/0;return function t(u,c,p,f,h){if(!(c>i||p>a||f<n||h<o)){if(d=u.point){var d,y=e-u.x,m=r-u.y,v=y*y+m*m;if(v<l){var g=Math.sqrt(l=v);n=e-g,o=r-g,i=e+g,a=r+g,s=d}}for(var b=u.nodes,x=.5*(c+f),_=.5*(p+h),w=e>=x,T=r>=_,M=T<<1|w,S=M+4;M<S;++M)if(u=b[3&M])switch(3&M){case 0:t(u,c,p,x,_);break;case 1:t(u,x,p,f,_);break;case 2:t(u,c,_,x,h);break;case 3:t(u,x,_,f,h)}}}(t,n,o,i,a),s}function vn(t,e){t=ca.rgb(t),e=ca.rgb(e);var r=t.r,n=t.g,o=t.b,i=e.r-r,a=e.g-n,s=e.b-o;return function(t){return"#"+wt(Math.round(r+i*t))+wt(Math.round(n+a*t))+wt(Math.round(o+s*t))}}function gn(t,e){var r,n={},o={};for(r in t)r in e?n[r]=_n(t[r],e[r]):o[r]=t[r];for(r in e)r in t||(o[r]=e[r]);return function(t){for(r in n)o[r]=n[r](t);return o}}function bn(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function xn(t,e){var r,n,o,i=fl.lastIndex=hl.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(r=fl.exec(t))&&(n=hl.exec(e));)(o=n.index)>i&&(o=e.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,l.push({i:a,x:bn(r,n)})),i=hl.lastIndex;return i<e.length&&(o=e.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var r,n=0;n<e;++n)s[(r=l[n]).i]=r.x(t);return s.join("")})}function _n(t,e){for(var r,n=ca.interpolators.length;--n>=0&&!(r=ca.interpolators[n](t,e)););return r}function wn(t,e){var r,n=[],o=[],i=t.length,a=e.length,s=Math.min(t.length,e.length);for(r=0;r<s;++r)n.push(_n(t[r],e[r]));for(;r<i;++r)o[r]=t[r];for(;r<a;++r)o[r]=e[r];return function(t){for(r=0;r<s;++r)o[r]=n[r](t);return o}}function Tn(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function Mn(t){return function(e){return 1-t(1-e)}}function Sn(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function En(t){return t*t}function kn(t){return t*t*t}function Cn(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,r=e*t;return 4*(t<.5?r:3*(t-e)+r-.75)}function An(t){return function(e){return Math.pow(e,t)}}function Pn(t){return 1-Math.cos(t*Va)}function Ln(t){return Math.pow(2,10*(t-1))}function Dn(t){return 1-Math.sqrt(1-t*t)}function On(t,e){var r;return arguments.length<2&&(e=.45),arguments.length?r=e/Ba*Math.asin(1/t):(t=1,r=e/4),function(n){return 1+t*Math.pow(2,-10*n)*Math.sin((n-r)*Ba/e)}}function In(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Rn(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Nn(t,e){t=ca.hcl(t),e=ca.hcl(e);var r=t.h,n=t.c,o=t.l,i=e.h-r,a=e.c-n,s=e.l-o;return isNaN(a)&&(a=0,n=isNaN(n)?e.c:n),isNaN(i)?(i=0,r=isNaN(r)?e.h:r):i>180?i-=360:i<-180&&(i+=360),function(t){return ft(r+i*t,n+a*t,o+s*t)+""}}function jn(t,e){t=ca.hsl(t),e=ca.hsl(e);var r=t.h,n=t.s,o=t.l,i=e.h-r,a=e.s-n,s=e.l-o;return isNaN(a)&&(a=0,n=isNaN(n)?e.s:n),isNaN(i)?(i=0,r=isNaN(r)?e.h:r):i>180?i-=360:i<-180&&(i+=360),function(t){return ct(r+i*t,n+a*t,o+s*t)+""}}function Fn(t,e){t=ca.lab(t),e=ca.lab(e);var r=t.l,n=t.a,o=t.b,i=e.l-r,a=e.a-n,s=e.b-o;return function(t){return dt(r+i*t,n+a*t,o+s*t)+""}}function zn(t,e){return e-=t,function(r){return Math.round(t+e*r)}}function Bn(t){var e=[t.a,t.b],r=[t.c,t.d],n=Vn(e),o=Un(e,r),i=Vn(Hn(r,e,-o))||0;e[0]*r[1]<r[0]*e[1]&&(e[0]*=-1,e[1]*=-1,n*=-1,o*=-1),this.rotate=(n?Math.atan2(e[1],e[0]):Math.atan2(-r[0],r[1]))*Wa,this.translate=[t.e,t.f],this.scale=[n,i],this.skew=i?Math.atan2(o,i)*Wa:0}function Un(t,e){return t[0]*e[0]+t[1]*e[1]}function Vn(t){var e=Math.sqrt(Un(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Hn(t,e,r){return t[0]+=r*e[0],t[1]+=r*e[1],t}function Wn(t){return t.length?t.pop()+",":""}function qn(t,e,r,n){if(t[0]!==e[0]||t[1]!==e[1]){var o=r.push("translate(",null,",",null,")");n.push({i:o-4,x:bn(t[0],e[0])},{i:o-2,x:bn(t[1],e[1])})}else(e[0]||e[1])&&r.push("translate("+e+")")}function Gn(t,e,r,n){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),n.push({i:r.push(Wn(r)+"rotate(",null,")")-2,x:bn(t,e)})):e&&r.push(Wn(r)+"rotate("+e+")")}function Yn(t,e,r,n){t!==e?n.push({i:r.push(Wn(r)+"skewX(",null,")")-2,x:bn(t,e)}):e&&r.push(Wn(r)+"skewX("+e+")")}function Xn(t,e,r,n){if(t[0]!==e[0]||t[1]!==e[1]){var o=r.push(Wn(r)+"scale(",null,",",null,")");n.push({i:o-4,x:bn(t[0],e[0])},{i:o-2,x:bn(t[1],e[1])})}else 1===e[0]&&1===e[1]||r.push(Wn(r)+"scale("+e+")")}function Kn(t,e){var r=[],n=[];return t=ca.transform(t),e=ca.transform(e),qn(t.translate,e.translate,r,n),Gn(t.rotate,e.rotate,r,n),Yn(t.skew,e.skew,r,n),Xn(t.scale,e.scale,r,n),t=e=null,function(t){for(var e,o=-1,i=n.length;++o<i;)r[(e=n[o]).i]=e.x(t);return r.join("")}}function Zn(t,e){return e=(e-=t=+t)||1/e,function(r){return(r-t)/e}}function Jn(t,e){return e=(e-=t=+t)||1/e,function(r){return Math.max(0,Math.min(1,(r-t)/e))}}function $n(t){for(var e=t.source,r=t.target,n=to(e,r),o=[e];e!==n;)e=e.parent,o.push(e);for(var i=o.length;r!==n;)o.splice(i,0,r),r=r.parent;return o}function Qn(t){for(var e=[],r=t.parent;null!=r;)e.push(t),t=r,r=r.parent;return e.push(t),e}function to(t,e){if(t===e)return t;for(var r=Qn(t),n=Qn(e),o=r.pop(),i=n.pop(),a=null;o===i;)a=o,o=r.pop(),i=n.pop();return a}function eo(t){t.fixed|=2}function ro(t){t.fixed&=-7}function no(t){t.fixed|=4,t.px=t.x,t.py=t.y}function oo(t){t.fixed&=-5}function io(t,e,r){var n=0,o=0;if(t.charge=0,!t.leaf)for(var i,a=t.nodes,s=a.length,l=-1;++l<s;)i=a[l],null!=i&&(io(i,e,r),t.charge+=i.charge,n+=i.charge*i.cx,o+=i.charge*i.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=e*r[t.point.index];t.charge+=t.pointCharge=u,n+=u*t.point.x,o+=u*t.point.y}t.cx=n/t.charge,t.cy=o/t.charge}function ao(t,e){return ca.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=fo,t}function so(t,e){for(var r=[t];null!=(t=r.pop());)if(e(t),(o=t.children)&&(n=o.length))for(var n,o;--n>=0;)r.push(o[n])}function lo(t,e){for(var r=[t],n=[];null!=(t=r.pop());)if(n.push(t),(i=t.children)&&(o=i.length))for(var o,i,a=-1;++a<o;)r.push(i[a]);for(;null!=(t=n.pop());)e(t)}function uo(t){return t.children}function co(t){return t.value}function po(t,e){return e.value-t.value}function fo(t){return ca.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function ho(t){return t.x}function yo(t){return t.y}function mo(t,e,r){t.y0=e,t.y=r}function vo(t){return ca.range(t.length)}function go(t){for(var e=-1,r=t[0].length,n=[];++e<r;)n[e]=0;return n}function bo(t){for(var e,r=1,n=0,o=t[0][1],i=t.length;r<i;++r)(e=t[r][1])>o&&(n=r,o=e);return n}function xo(t){return t.reduce(_o,0)}function _o(t,e){return t+e[1]}function wo(t,e){return To(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function To(t,e){for(var r=-1,n=+t[0],o=(t[1]-n)/e,i=[];++r<=e;)i[r]=o*r+n;return i}function Mo(t){return[ca.min(t),ca.max(t)]}function So(t,e){return t.value-e.value}function Eo(t,e){var r=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=r,r._pack_prev=e}function ko(t,e){t._pack_next=e,e._pack_prev=t}function Co(t,e){var r=e.x-t.x,n=e.y-t.y,o=t.r+e.r;return.999*o*o>r*r+n*n}function Ao(t){function e(t){c=Math.min(t.x-t.r,c),p=Math.max(t.x+t.r,p),f=Math.min(t.y-t.r,f),h=Math.max(t.y+t.r,h)}if((r=t.children)&&(u=r.length)){var r,n,o,i,a,s,l,u,c=1/0,p=-(1/0),f=1/0,h=-(1/0);if(r.forEach(Po),n=r[0],n.x=-n.r,n.y=0,e(n),u>1&&(o=r[1],o.x=o.r,o.y=0,e(o),u>2))for(i=r[2],Oo(n,o,i),e(i),Eo(n,i),n._pack_prev=i,Eo(i,o),o=n._pack_next,a=3;a<u;a++){Oo(n,o,i=r[a]);var d=0,y=1,m=1;for(s=o._pack_next;s!==o;s=s._pack_next,y++)if(Co(s,i)){d=1;break}if(1==d)for(l=n._pack_prev;l!==s._pack_prev&&!Co(l,i);l=l._pack_prev,m++);d?(y<m||y==m&&o.r<n.r?ko(n,o=s):ko(n=l,o),a--):(Eo(n,i),o=i,e(i))}var v=(c+p)/2,g=(f+h)/2,b=0;for(a=0;a<u;a++)i=r[a],i.x-=v,i.y-=g,b=Math.max(b,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=b,r.forEach(Lo)}}function Po(t){t._pack_next=t._pack_prev=t}function Lo(t){delete t._pack_next,delete t._pack_prev}function Do(t,e,r,n){var o=t.children;if(t.x=e+=n*t.x,t.y=r+=n*t.y,t.r*=n,o)for(var i=-1,a=o.length;++i<a;)Do(o[i],e,r,n)}function Oo(t,e,r){var n=t.r+r.r,o=e.x-t.x,i=e.y-t.y;if(n&&(o||i)){var a=e.r+r.r,s=o*o+i*i;a*=a,n*=n;var l=.5+(n-a)/(2*s),u=Math.sqrt(Math.max(0,2*a*(n+s)-(n-=s)*n-a*a))/(2*s);r.x=t.x+l*o+u*i,r.y=t.y+l*i-u*o}else r.x=t.x+n,r.y=t.y}function Io(t,e){return t.parent==e.parent?1:2}function Ro(t){var e=t.children;return e.length?e[0]:t.t}function No(t){var e,r=t.children;return(e=r.length)?r[e-1]:t.t}function jo(t,e,r){var n=r/(e.i-t.i);e.c-=n,e.s+=r,t.c+=n,e.z+=r,e.m+=r}function Fo(t){for(var e,r=0,n=0,o=t.children,i=o.length;--i>=0;)e=o[i],e.z+=r,e.m+=r,r+=e.s+(n+=e.c)}function zo(t,e,r){return t.a.parent===e.parent?t.a:r}function Bo(t){return 1+ca.max(t,function(t){return t.y})}function Uo(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Vo(t){var e=t.children;return e&&e.length?Vo(e[0]):t}function Ho(t){var e,r=t.children;return r&&(e=r.length)?Ho(r[e-1]):t}function Wo(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function qo(t,e){var r=t.x+e[3],n=t.y+e[0],o=t.dx-e[1]-e[3],i=t.dy-e[0]-e[2];return o<0&&(r+=o/2,o=0),i<0&&(n+=i/2,i=0),{x:r,y:n,dx:o,dy:i}}function Go(t){var e=t[0],r=t[t.length-1];return e<r?[e,r]:[r,e]}function Yo(t){return t.rangeExtent?t.rangeExtent():Go(t.range());
}function Xo(t,e,r,n){var o=r(t[0],t[1]),i=n(e[0],e[1]);return function(t){return i(o(t))}}function Ko(t,e){var r,n=0,o=t.length-1,i=t[n],a=t[o];return a<i&&(r=n,n=o,o=r,r=i,i=a,a=r),t[n]=e.floor(i),t[o]=e.ceil(a),t}function Zo(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Ml}function Jo(t,e,r,n){var o=[],i=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)o.push(r(t[a-1],t[a])),i.push(n(e[a-1],e[a]));return function(e){var r=ca.bisect(t,e,1,s)-1;return i[r](o[r](e))}}function $o(t,e,r,n){function o(){var o=Math.min(t.length,e.length)>2?Jo:Xo,l=n?Jn:Zn;return a=o(t,e,l,r),s=o(e,t,l,_n),i}function i(t){return a(t)}var a,s;return i.invert=function(t){return s(t)},i.domain=function(e){return arguments.length?(t=e.map(Number),o()):t},i.range=function(t){return arguments.length?(e=t,o()):e},i.rangeRound=function(t){return i.range(t).interpolate(zn)},i.clamp=function(t){return arguments.length?(n=t,o()):n},i.interpolate=function(t){return arguments.length?(r=t,o()):r},i.ticks=function(e){return ri(t,e)},i.tickFormat=function(e,r){return ni(t,e,r)},i.nice=function(e){return ti(t,e),o()},i.copy=function(){return $o(t,e,r,n)},o()}function Qo(t,e){return ca.rebind(t,e,"range","rangeRound","interpolate","clamp")}function ti(t,e){return Ko(t,Zo(ei(t,e)[2])),Ko(t,Zo(ei(t,e)[2])),t}function ei(t,e){null==e&&(e=10);var r=Go(t),n=r[1]-r[0],o=Math.pow(10,Math.floor(Math.log(n/e)/Math.LN10)),i=e/n*o;return i<=.15?o*=10:i<=.35?o*=5:i<=.75&&(o*=2),r[0]=Math.ceil(r[0]/o)*o,r[1]=Math.floor(r[1]/o)*o+.5*o,r[2]=o,r}function ri(t,e){return ca.range.apply(ca,ei(t,e))}function ni(t,e,r){var n=ei(t,e);if(r){var o=fs.exec(r);if(o.shift(),"s"===o[8]){var i=ca.formatPrefix(Math.max(xa(n[0]),xa(n[1])));return o[7]||(o[7]="."+oi(i.scale(n[2]))),o[8]="f",r=ca.format(o.join("")),function(t){return r(i.scale(t))+i.symbol}}o[7]||(o[7]="."+ii(o[8],n)),r=o.join("")}else r=",."+oi(n[2])+"f";return ca.format(r)}function oi(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function ii(t,e){var r=oi(e[2]);return t in Sl?Math.abs(r-oi(Math.max(xa(e[0]),xa(e[1]))))+ +("e"!==t):r-2*("%"===t)}function ai(t,e,r,n){function o(t){return(r?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function i(t){return r?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(o(e))}return a.invert=function(e){return i(t.invert(e))},a.domain=function(e){return arguments.length?(r=e[0]>=0,t.domain((n=e.map(Number)).map(o)),a):n},a.base=function(r){return arguments.length?(e=+r,t.domain(n.map(o)),a):e},a.nice=function(){var e=Ko(n.map(o),r?Math:kl);return t.domain(e),n=e.map(i),a},a.ticks=function(){var t=Go(n),a=[],s=t[0],l=t[1],u=Math.floor(o(s)),c=Math.ceil(o(l)),p=e%1?2:e;if(isFinite(c-u)){if(r){for(;u<c;u++)for(var f=1;f<p;f++)a.push(i(u)*f);a.push(i(u))}else for(a.push(i(u));u++<c;)for(var f=p-1;f>0;f--)a.push(i(u)*f);for(u=0;a[u]<s;u++);for(c=a.length;a[c-1]>l;c--);a=a.slice(u,c)}return a},a.tickFormat=function(t,r){if(!arguments.length)return El;arguments.length<2?r=El:"function"!=typeof r&&(r=ca.format(r));var n=Math.max(1,e*t/a.ticks().length);return function(t){var a=t/i(Math.round(o(t)));return a*e<e-.5&&(a*=e),a<=n?r(t):""}},a.copy=function(){return ai(t.copy(),e,r,n)},Qo(a,t)}function si(t,e,r){function n(e){return t(o(e))}var o=li(e),i=li(1/e);return n.invert=function(e){return i(t.invert(e))},n.domain=function(e){return arguments.length?(t.domain((r=e.map(Number)).map(o)),n):r},n.ticks=function(t){return ri(r,t)},n.tickFormat=function(t,e){return ni(r,t,e)},n.nice=function(t){return n.domain(ti(r,t))},n.exponent=function(a){return arguments.length?(o=li(e=a),i=li(1/e),t.domain(r.map(o)),n):e},n.copy=function(){return si(t.copy(),e,r)},Qo(n,t)}function li(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ui(t,e){function r(r){return i[((o.get(r)||("range"===e.t?o.set(r,t.push(r)):NaN))-1)%i.length]}function n(e,r){return ca.range(t.length).map(function(t){return e+r*t})}var o,i,a;return r.domain=function(n){if(!arguments.length)return t;t=[],o=new p;for(var i,a=-1,s=n.length;++a<s;)o.has(i=n[a])||o.set(i,t.push(i));return r[e.t].apply(r,e.a)},r.range=function(t){return arguments.length?(i=t,a=0,e={t:"range",a:arguments},r):i},r.rangePoints=function(o,s){arguments.length<2&&(s=0);var l=o[0],u=o[1],c=t.length<2?(l=(l+u)/2,0):(u-l)/(t.length-1+s);return i=n(l+c*s/2,c),a=0,e={t:"rangePoints",a:arguments},r},r.rangeRoundPoints=function(o,s){arguments.length<2&&(s=0);var l=o[0],u=o[1],c=t.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(t.length-1+s)|0;return i=n(l+Math.round(c*s/2+(u-l-(t.length-1+s)*c)/2),c),a=0,e={t:"rangeRoundPoints",a:arguments},r},r.rangeBands=function(o,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=o[1]<o[0],c=o[u-0],p=o[1-u],f=(p-c)/(t.length-s+2*l);return i=n(c+f*l,f),u&&i.reverse(),a=f*(1-s),e={t:"rangeBands",a:arguments},r},r.rangeRoundBands=function(o,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=o[1]<o[0],c=o[u-0],p=o[1-u],f=Math.floor((p-c)/(t.length-s+2*l));return i=n(c+Math.round((p-c-(t.length-s)*f)/2),f),u&&i.reverse(),a=Math.round(f*(1-s)),e={t:"rangeRoundBands",a:arguments},r},r.rangeBand=function(){return a},r.rangeExtent=function(){return Go(e.a[0])},r.copy=function(){return ui(t,e)},r.domain(t)}function ci(t,e){function r(){var r=0,o=e.length;for(s=[];++r<o;)s[r-1]=ca.quantile(t,r/o);return n}function n(t){if(!isNaN(t=+t))return e[ca.bisect(s,t)]}var s;return n.domain=function(e){return arguments.length?(t=e.map(i).filter(a).sort(o),r()):t},n.range=function(t){return arguments.length?(e=t,r()):e},n.quantiles=function(){return s},n.invertExtent=function(r){return r=e.indexOf(r),r<0?[NaN,NaN]:[r>0?s[r-1]:t[0],r<s.length?s[r]:t[t.length-1]]},n.copy=function(){return ci(t,e)},r()}function pi(t,e,r){function n(e){return r[Math.max(0,Math.min(a,Math.floor(i*(e-t))))]}function o(){return i=r.length/(e-t),a=r.length-1,n}var i,a;return n.domain=function(r){return arguments.length?(t=+r[0],e=+r[r.length-1],o()):[t,e]},n.range=function(t){return arguments.length?(r=t,o()):r},n.invertExtent=function(e){return e=r.indexOf(e),e=e<0?NaN:e/i+t,[e,e+1/i]},n.copy=function(){return pi(t,e,r)},o()}function fi(t,e){function r(r){if(r<=r)return e[ca.bisect(t,r)]}return r.domain=function(e){return arguments.length?(t=e,r):t},r.range=function(t){return arguments.length?(e=t,r):e},r.invertExtent=function(r){return r=e.indexOf(r),[t[r-1],t[r]]},r.copy=function(){return fi(t,e)},r}function hi(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(t=r.map(e),e):t},e.ticks=function(e){return ri(t,e)},e.tickFormat=function(e,r){return ni(t,e,r)},e.copy=function(){return hi(t)},e}function di(){return 0}function yi(t){return t.innerRadius}function mi(t){return t.outerRadius}function vi(t){return t.startAngle}function gi(t){return t.endAngle}function bi(t){return t&&t.padAngle}function xi(t,e,r,n){return(t-r)*e-(e-n)*t>0?0:1}function _i(t,e,r,n,o){var i=t[0]-e[0],a=t[1]-e[1],s=(o?n:-n)/Math.sqrt(i*i+a*a),l=s*a,u=-s*i,c=t[0]+l,p=t[1]+u,f=e[0]+l,h=e[1]+u,d=(c+f)/2,y=(p+h)/2,m=f-c,v=h-p,g=m*m+v*v,b=r-n,x=c*h-f*p,_=(v<0?-1:1)*Math.sqrt(Math.max(0,b*b*g-x*x)),w=(x*v-m*_)/g,T=(-x*m-v*_)/g,M=(x*v+m*_)/g,S=(-x*m+v*_)/g,E=w-d,k=T-y,C=M-d,A=S-y;return E*E+k*k>C*C+A*A&&(w=M,T=S),[[w-l,T-u],[w*r/b,T*r/b]]}function wi(t){function e(e){function a(){u.push("M",i(t(c),s))}for(var l,u=[],c=[],p=-1,f=e.length,h=Ct(r),d=Ct(n);++p<f;)o.call(this,l=e[p],p)?c.push([+h.call(this,l,p),+d.call(this,l,p)]):c.length&&(a(),c=[]);return c.length&&a(),u.length?u.join(""):null}var r=Pr,n=Lr,o=Le,i=Ti,a=i.key,s=.7;return e.x=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(n=t,e):n},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?i=t:(i=Ol.get(t)||Ti).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function Ti(t){return t.length>1?t.join("L"):t+"Z"}function Mi(t){return t.join("L")+"Z"}function Si(t){for(var e=0,r=t.length,n=t[0],o=[n[0],",",n[1]];++e<r;)o.push("H",(n[0]+(n=t[e])[0])/2,"V",n[1]);return r>1&&o.push("H",n[0]),o.join("")}function Ei(t){for(var e=0,r=t.length,n=t[0],o=[n[0],",",n[1]];++e<r;)o.push("V",(n=t[e])[1],"H",n[0]);return o.join("")}function ki(t){for(var e=0,r=t.length,n=t[0],o=[n[0],",",n[1]];++e<r;)o.push("H",(n=t[e])[0],"V",n[1]);return o.join("")}function Ci(t,e){return t.length<4?Ti(t):t[1]+Li(t.slice(1,-1),Di(t,e))}function Ai(t,e){return t.length<3?Mi(t):t[0]+Li((t.push(t[0]),t),Di([t[t.length-2]].concat(t,[t[1]]),e))}function Pi(t,e){return t.length<3?Ti(t):t[0]+Li(t,Di(t,e))}function Li(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Ti(t);var r=t.length!=e.length,n="",o=t[0],i=t[1],a=e[0],s=a,l=1;if(r&&(n+="Q"+(i[0]-2*a[0]/3)+","+(i[1]-2*a[1]/3)+","+i[0]+","+i[1],o=t[1],l=2),e.length>1){s=e[1],i=t[l],l++,n+="C"+(o[0]+a[0])+","+(o[1]+a[1])+","+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1];for(var u=2;u<e.length;u++,l++)i=t[l],s=e[u],n+="S"+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1]}if(r){var c=t[l];n+="Q"+(i[0]+2*s[0]/3)+","+(i[1]+2*s[1]/3)+","+c[0]+","+c[1]}return n}function Di(t,e){for(var r,n=[],o=(1-e)/2,i=t[0],a=t[1],s=1,l=t.length;++s<l;)r=i,i=a,a=t[s],n.push([o*(a[0]-r[0]),o*(a[1]-r[1])]);return n}function Oi(t){if(t.length<3)return Ti(t);var e=1,r=t.length,n=t[0],o=n[0],i=n[1],a=[o,o,o,(n=t[1])[0]],s=[i,i,i,n[1]],l=[o,",",i,"L",ji(Nl,a),",",ji(Nl,s)];for(t.push(t[r-1]);++e<=r;)n=t[e],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Fi(l,a,s);return t.pop(),l.push("L",n),l.join("")}function Ii(t){if(t.length<4)return Ti(t);for(var e,r=[],n=-1,o=t.length,i=[0],a=[0];++n<3;)e=t[n],i.push(e[0]),a.push(e[1]);for(r.push(ji(Nl,i)+","+ji(Nl,a)),--n;++n<o;)e=t[n],i.shift(),i.push(e[0]),a.shift(),a.push(e[1]),Fi(r,i,a);return r.join("")}function Ri(t){for(var e,r,n=-1,o=t.length,i=o+4,a=[],s=[];++n<4;)r=t[n%o],a.push(r[0]),s.push(r[1]);for(e=[ji(Nl,a),",",ji(Nl,s)],--n;++n<i;)r=t[n%o],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Fi(e,a,s);return e.join("")}function Ni(t,e){var r=t.length-1;if(r)for(var n,o,i=t[0][0],a=t[0][1],s=t[r][0]-i,l=t[r][1]-a,u=-1;++u<=r;)n=t[u],o=u/r,n[0]=e*n[0]+(1-e)*(i+o*s),n[1]=e*n[1]+(1-e)*(a+o*l);return Oi(t)}function ji(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Fi(t,e,r){t.push("C",ji(Il,e),",",ji(Il,r),",",ji(Rl,e),",",ji(Rl,r),",",ji(Nl,e),",",ji(Nl,r))}function zi(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Bi(t){for(var e=0,r=t.length-1,n=[],o=t[0],i=t[1],a=n[0]=zi(o,i);++e<r;)n[e]=(a+(a=zi(o=i,i=t[e+1])))/2;return n[e]=a,n}function Ui(t){for(var e,r,n,o,i=[],a=Bi(t),s=-1,l=t.length-1;++s<l;)e=zi(t[s],t[s+1]),xa(e)<ja?a[s]=a[s+1]=0:(r=a[s]/e,n=a[s+1]/e,o=r*r+n*n,o>9&&(o=3*e/Math.sqrt(o),a[s]=o*r,a[s+1]=o*n));for(s=-1;++s<=l;)o=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),i.push([o||0,a[s]*o||0]);return i}function Vi(t){return t.length<3?Ti(t):t[0]+Li(t,Ui(t))}function Hi(t){for(var e,r,n,o=-1,i=t.length;++o<i;)e=t[o],r=e[0],n=e[1]-Va,e[0]=r*Math.cos(n),e[1]=r*Math.sin(n);return t}function Wi(t){function e(e){function l(){y.push("M",s(t(v),p),c,u(t(m.reverse()),p),"Z")}for(var f,h,d,y=[],m=[],v=[],g=-1,b=e.length,x=Ct(r),_=Ct(o),w=r===n?function(){return h}:Ct(n),T=o===i?function(){return d}:Ct(i);++g<b;)a.call(this,f=e[g],g)?(m.push([h=+x.call(this,f,g),d=+_.call(this,f,g)]),v.push([+w.call(this,f,g),+T.call(this,f,g)])):m.length&&(l(),m=[],v=[]);return m.length&&l(),y.length?y.join(""):null}var r=Pr,n=Pr,o=0,i=Lr,a=Le,s=Ti,l=s.key,u=s,c="L",p=.7;return e.x=function(t){return arguments.length?(r=n=t,e):n},e.x0=function(t){return arguments.length?(r=t,e):r},e.x1=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(o=i=t,e):i},e.y0=function(t){return arguments.length?(o=t,e):o},e.y1=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?s=t:(s=Ol.get(t)||Ti).key,u=s.reverse||s,c=s.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(p=t,e):p},e}function qi(t){return t.radius}function Gi(t){return[t.x,t.y]}function Yi(t){return function(){var e=t.apply(this,arguments),r=e[0],n=e[1]-Va;return[r*Math.cos(n),r*Math.sin(n)]}}function Xi(){return 64}function Ki(){return"circle"}function Zi(t){var e=Math.sqrt(t/za);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Ji(t){return function(){var e,r,n;(e=this[t])&&(n=e[r=e.active])&&(n.timer.c=null,n.timer.t=NaN,--e.count?delete e[r]:delete this[t],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function $i(t,e,r){return Sa(t,Hl),t.namespace=e,t.id=r,t}function Qi(t,e,r,n){var o=t.id,i=t.namespace;return q(t,"function"==typeof r?function(t,a,s){t[i][o].tween.set(e,n(r.call(t,t.__data__,a,s)))}:(r=n(r),function(t){t[i][o].tween.set(e,r)}))}function ta(t){return null==t&&(t=""),function(){this.textContent=t}}function ea(t){return null==t?"__transition__":"__transition_"+t+"__"}function ra(t,e,r,n,o){function i(t){var e=y.delay;return u.t=e+l,e<=t?a(t-e):void(u.c=a)}function a(r){var o=d.active,i=d[o];i&&(i.timer.c=null,i.timer.t=NaN,--d.count,delete d[o],i.event&&i.event.interrupt.call(t,t.__data__,i.index));for(var a in d)if(+a<n){var p=d[a];p.timer.c=null,p.timer.t=NaN,--d.count,delete d[a]}u.c=s,Ot(function(){return u.c&&s(r||1)&&(u.c=null,u.t=NaN),1},0,l),d.active=n,y.event&&y.event.start.call(t,t.__data__,e),h=[],y.tween.forEach(function(r,n){(n=n.call(t,t.__data__,e))&&h.push(n)}),f=y.ease,c=y.duration}function s(o){for(var i=o/c,a=f(i),s=h.length;s>0;)h[--s].call(t,a);if(i>=1)return y.event&&y.event.end.call(t,t.__data__,e),--d.count?delete d[n]:delete t[r],1}var l,u,c,f,h,d=t[r]||(t[r]={active:0,count:0}),y=d[n];y||(l=o.time,u=Ot(i,0,l),y=d[n]={tween:new p,time:l,timer:u,delay:o.delay,duration:o.duration,ease:o.ease,index:e},o=null,++d.count)}function na(t,e,r){t.attr("transform",function(t){var n=e(t);return"translate("+(isFinite(n)?n:r(t))+",0)"})}function oa(t,e,r){t.attr("transform",function(t){var n=e(t);return"translate(0,"+(isFinite(n)?n:r(t))+")"})}function ia(t){return t.toISOString()}function aa(t,e,r){function n(e){return t(e)}function o(t,r){var n=t[1]-t[0],o=n/r,i=ca.bisect($l,o);return i==$l.length?[e.year,ei(t.map(function(t){return t/31536e6}),r)[2]]:i?e[o/$l[i-1]<$l[i]/o?i-1:i]:[eu,ei(t,r)[2]]}return n.invert=function(e){return sa(t.invert(e))},n.domain=function(e){return arguments.length?(t.domain(e),n):t.domain().map(sa)},n.nice=function(t,e){function r(r){return!isNaN(r)&&!t.range(r,sa(+r+1),e).length}var i=n.domain(),a=Go(i),s=null==t?o(a,10):"number"==typeof t&&o(a,t);return s&&(t=s[0],e=s[1]),n.domain(Ko(i,e>1?{floor:function(e){for(;r(e=t.floor(e));)e=sa(e-1);return e},ceil:function(e){for(;r(e=t.ceil(e));)e=sa(+e+1);return e}}:t))},n.ticks=function(t,e){var r=Go(n.domain()),i=null==t?o(r,10):"number"==typeof t?o(r,t):!t.range&&[{range:t},e];return i&&(t=i[0],e=i[1]),t.range(r[0],sa(+r[1]+1),e<1?1:e)},n.tickFormat=function(){return r},n.copy=function(){return aa(t.copy(),e,r)},Qo(n,t)}function sa(t){return new Date(t)}function la(t){return JSON.parse(t.responseText)}function ua(t){var e=ha.createRange();return e.selectNode(ha.body),e.createContextualFragment(t.responseText)}var ca={version:"3.5.17"},pa=[].slice,fa=function(t){return pa.call(t)},ha=this.document;if(ha)try{fa(ha.documentElement.childNodes)[0].nodeType}catch(t){fa=function(t){for(var e=t.length,r=new Array(e);e--;)r[e]=t[e];return r}}if(Date.now||(Date.now=function(){return+new Date}),ha)try{ha.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var da=this.Element.prototype,ya=da.setAttribute,ma=da.setAttributeNS,va=this.CSSStyleDeclaration.prototype,ga=va.setProperty;da.setAttribute=function(t,e){ya.call(this,t,e+"")},da.setAttributeNS=function(t,e,r){ma.call(this,t,e,r+"")},va.setProperty=function(t,e,r){ga.call(this,t,e+"",r)}}ca.ascending=o,ca.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},ca.min=function(t,e){var r,n,o=-1,i=t.length;if(1===arguments.length){for(;++o<i;)if(null!=(n=t[o])&&n>=n){r=n;break}for(;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else{for(;++o<i;)if(null!=(n=e.call(t,t[o],o))&&n>=n){r=n;break}for(;++o<i;)null!=(n=e.call(t,t[o],o))&&r>n&&(r=n)}return r},ca.max=function(t,e){var r,n,o=-1,i=t.length;if(1===arguments.length){for(;++o<i;)if(null!=(n=t[o])&&n>=n){r=n;break}for(;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else{for(;++o<i;)if(null!=(n=e.call(t,t[o],o))&&n>=n){r=n;break}for(;++o<i;)null!=(n=e.call(t,t[o],o))&&n>r&&(r=n)}return r},ca.extent=function(t,e){var r,n,o,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(n=t[i])&&n>=n){r=o=n;break}for(;++i<a;)null!=(n=t[i])&&(r>n&&(r=n),o<n&&(o=n))}else{for(;++i<a;)if(null!=(n=e.call(t,t[i],i))&&n>=n){r=o=n;break}for(;++i<a;)null!=(n=e.call(t,t[i],i))&&(r>n&&(r=n),o<n&&(o=n))}return[r,o]},ca.sum=function(t,e){var r,n=0,o=t.length,i=-1;if(1===arguments.length)for(;++i<o;)a(r=+t[i])&&(n+=r);else for(;++i<o;)a(r=+e.call(t,t[i],i))&&(n+=r);return n},ca.mean=function(t,e){var r,n=0,o=t.length,s=-1,l=o;if(1===arguments.length)for(;++s<o;)a(r=i(t[s]))?n+=r:--l;else for(;++s<o;)a(r=i(e.call(t,t[s],s)))?n+=r:--l;if(l)return n/l},ca.quantile=function(t,e){var r=(t.length-1)*e+1,n=Math.floor(r),o=+t[n-1],i=r-n;return i?o+i*(t[n]-o):o},ca.median=function(t,e){var r,n=[],s=t.length,l=-1;if(1===arguments.length)for(;++l<s;)a(r=i(t[l]))&&n.push(r);else for(;++l<s;)a(r=i(e.call(t,t[l],l)))&&n.push(r);if(n.length)return ca.quantile(n.sort(o),.5)},ca.variance=function(t,e){var r,n,o=t.length,s=0,l=0,u=-1,c=0;if(1===arguments.length)for(;++u<o;)a(r=i(t[u]))&&(n=r-s,s+=n/++c,l+=n*(r-s));else for(;++u<o;)a(r=i(e.call(t,t[u],u)))&&(n=r-s,s+=n/++c,l+=n*(r-s));if(c>1)return l/(c-1)},ca.deviation=function(){var t=ca.variance.apply(this,arguments);return t?Math.sqrt(t):t};var ba=s(o);ca.bisectLeft=ba.left,ca.bisect=ca.bisectRight=ba.right,ca.bisector=function(t){return s(1===t.length?function(e,r){return o(t(e),r)}:t)},ca.shuffle=function(t,e,r){(i=arguments.length)<3&&(r=t.length,i<2&&(e=0));for(var n,o,i=r-e;i;)o=Math.random()*i--|0,n=t[i+e],t[i+e]=t[o+e],t[o+e]=n;return t},ca.permute=function(t,e){for(var r=e.length,n=new Array(r);r--;)n[r]=t[e[r]];return n},ca.pairs=function(t){for(var e,r=0,n=t.length-1,o=t[0],i=new Array(n<0?0:n);r<n;)i[r]=[e=o,o=t[++r]];return i},ca.transpose=function(t){if(!(o=t.length))return[];for(var e=-1,r=ca.min(t,l),n=new Array(r);++e<r;)for(var o,i=-1,a=n[e]=new Array(o);++i<o;)a[i]=t[i][e];return n},ca.zip=function(){return ca.transpose(arguments)},ca.keys=function(t){var e=[];for(var r in t)e.push(r);return e},ca.values=function(t){var e=[];for(var r in t)e.push(t[r]);return e},ca.entries=function(t){var e=[];for(var r in t)e.push({key:r,value:t[r]});return e},ca.merge=function(t){for(var e,r,n,o=t.length,i=-1,a=0;++i<o;)a+=t[i].length;for(r=new Array(a);--o>=0;)for(n=t[o],e=n.length;--e>=0;)r[--a]=n[e];return r};var xa=Math.abs;ca.range=function(t,e,r){if(arguments.length<3&&(r=1,arguments.length<2&&(e=t,t=0)),(e-t)/r===1/0)throw new Error("infinite range");var n,o=[],i=u(xa(r)),a=-1;if(t*=i,e*=i,r*=i,r<0)for(;(n=t+r*++a)>e;)o.push(n/i);else for(;(n=t+r*++a)<e;)o.push(n/i);return o},ca.map=function(t,e){var r=new p;if(t instanceof p)t.forEach(function(t,e){r.set(t,e)});else if(Array.isArray(t)){var n,o=-1,i=t.length;if(1===arguments.length)for(;++o<i;)r.set(o,t[o]);else for(;++o<i;)r.set(e.call(t,n=t[o],o),n)}else for(var a in t)r.set(a,t[a]);return r};var _a="__proto__",wa="\0";c(p,{has:d,get:function(t){return this._[f(t)]},set:function(t,e){return this._[f(t)]=e},remove:y,keys:m,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:h(e),value:this._[e]});return t},size:v,empty:g,forEach:function(t){for(var e in this._)t.call(this,h(e),this._[e])}}),ca.nest=function(){function t(e,a,s){if(s>=i.length)return n?n.call(o,a):r?a.sort(r):a;for(var l,u,c,f,h=-1,d=a.length,y=i[s++],m=new p;++h<d;)(f=m.get(l=y(u=a[h])))?f.push(u):m.set(l,[u]);return e?(u=e(),c=function(r,n){u.set(r,t(e,n,s))}):(u={},c=function(r,n){u[r]=t(e,n,s)}),m.forEach(c),u}function e(t,r){if(r>=i.length)return t;var n=[],o=a[r++];return t.forEach(function(t,o){n.push({key:t,values:e(o,r)})}),o?n.sort(function(t,e){return o(t.key,e.key)}):n}var r,n,o={},i=[],a=[];return o.map=function(e,r){return t(r,e,0)},o.entries=function(r){return e(t(ca.map,r,0),0)},o.key=function(t){return i.push(t),o},o.sortKeys=function(t){return a[i.length-1]=t,o},o.sortValues=function(t){return r=t,o},o.rollup=function(t){return n=t,o},o},ca.set=function(t){var e=new b;if(t)for(var r=0,n=t.length;r<n;++r)e.add(t[r]);return e},c(b,{has:d,add:function(t){return this._[f(t+="")]=!0,t},remove:y,values:m,size:v,empty:g,forEach:function(t){for(var e in this._)t.call(this,h(e))}}),ca.behavior={},ca.rebind=function(t,e){for(var r,n=1,o=arguments.length;++n<o;)t[r=arguments[n]]=_(t,e,e[r]);return t};var Ta=["webkit","ms","moz","Moz","o","O"];ca.dispatch=function(){for(var t=new M,e=-1,r=arguments.length;++e<r;)t[arguments[e]]=S(t);return t},M.prototype.on=function(t,e){var r=t.indexOf("."),n="";if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t)return arguments.length<2?this[t].on(n):this[t].on(n,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(n,null);return this}},ca.event=null,ca.requote=function(t){return t.replace(Ma,"\\$&")};var Ma=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Sa={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var r in e)t[r]=e[r]},Ea=function(t,e){return e.querySelector(t)},ka=function(t,e){return e.querySelectorAll(t)},Ca=function(t,e){var r=t.matches||t[w(t,"matchesSelector")];return(Ca=function(t,e){return r.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Ea=function(t,e){return Sizzle(t,e)[0]||null},ka=Sizzle,Ca=Sizzle.matchesSelector),ca.selection=function(){return ca.select(ha.documentElement)};var Aa=ca.selection.prototype=[];Aa.select=function(t){var e,r,n,o,i=[];t=P(t);for(var a=-1,s=this.length;++a<s;){i.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var l=-1,u=n.length;++l<u;)(o=n[l])?(e.push(r=t.call(o,o.__data__,l,a)),r&&"__data__"in o&&(r.__data__=o.__data__)):e.push(null)}return A(i)},Aa.selectAll=function(t){var e,r,n=[];t=L(t);for(var o=-1,i=this.length;++o<i;)for(var a=this[o],s=-1,l=a.length;++s<l;)(r=a[s])&&(n.push(e=fa(t.call(r,r.__data__,s,o))),e.parentNode=r);return A(n)};var Pa="http://www.w3.org/1999/xhtml",La={svg:"http://www.w3.org/2000/svg",xhtml:Pa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ca.ns={prefix:La,qualify:function(t){var e=t.indexOf(":"),r=t;return e>=0&&"xmlns"!==(r=t.slice(0,e))&&(t=t.slice(e+1)),La.hasOwnProperty(r)?{space:La[r],local:t}:t}},Aa.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var r=this.node();return t=ca.ns.qualify(t),t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(e in t)this.each(D(e,t[e]));return this}return this.each(D(t,e))},Aa.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var r=this.node(),n=(t=R(t)).length,o=-1;if(e=r.classList){for(;++o<n;)if(!e.contains(t[o]))return!1}else for(e=r.getAttribute("class");++o<n;)if(!I(t[o]).test(e))return!1;return!0}for(e in t)this.each(N(e,t[e]));return this}return this.each(N(t,e))},Aa.style=function(t,e,r){var o=arguments.length;if(o<3){if("string"!=typeof t){o<2&&(e="");for(r in t)this.each(F(r,t[r],e));return this}if(o<2){var i=this.node();return n(i).getComputedStyle(i,null).getPropertyValue(t)}r=""}return this.each(F(t,e,r))},Aa.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(z(e,t[e]));return this}return this.each(z(t,e))},Aa.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Aa.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Aa.append=function(t){return t=B(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Aa.insert=function(t,e){return t=B(t),e=P(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Aa.remove=function(){return this.each(U)},Aa.data=function(t,e){function r(t,r){var n,o,i,a=t.length,c=r.length,f=Math.min(a,c),h=new Array(c),d=new Array(c),y=new Array(a);if(e){var m,v=new p,g=new Array(a);for(n=-1;++n<a;)(o=t[n])&&(v.has(m=e.call(o,o.__data__,n))?y[n]=o:v.set(m,o),g[n]=m);for(n=-1;++n<c;)(o=v.get(m=e.call(r,i=r[n],n)))?o!==!0&&(h[n]=o,o.__data__=i):d[n]=V(i),v.set(m,!0);for(n=-1;++n<a;)n in g&&v.get(g[n])!==!0&&(y[n]=t[n])}else{for(n=-1;++n<f;)o=t[n],i=r[n],o?(o.__data__=i,h[n]=o):d[n]=V(i);for(;n<c;++n)d[n]=V(r[n]);for(;n<a;++n)y[n]=t[n]}d.update=h,d.parentNode=h.parentNode=y.parentNode=t.parentNode,s.push(d),l.push(h),u.push(y)}var n,o,i=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(n=this[0]).length);++i<a;)(o=n[i])&&(t[i]=o.__data__);return t}var s=G([]),l=A([]),u=A([]);if("function"==typeof t)for(;++i<a;)r(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<a;)r(n=this[i],t);return l.enter=function(){return s},l.exit=function(){return u},l},Aa.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Aa.filter=function(t){var e,r,n,o=[];"function"!=typeof t&&(t=H(t));for(var i=0,a=this.length;i<a;i++){o.push(e=[]),e.parentNode=(r=this[i]).parentNode;for(var s=0,l=r.length;s<l;s++)(n=r[s])&&t.call(n,n.__data__,s,i)&&e.push(n)}return A(o)},Aa.order=function(){for(var t=-1,e=this.length;++t<e;)for(var r,n=this[t],o=n.length-1,i=n[o];--o>=0;)(r=n[o])&&(i&&i!==r.nextSibling&&i.parentNode.insertBefore(r,i),i=r);return this},Aa.sort=function(t){t=W.apply(this,arguments);for(var e=-1,r=this.length;++e<r;)this[e].sort(t);return this.order()},Aa.each=function(t){return q(this,function(e,r,n){t.call(e,e.__data__,r,n)})},Aa.call=function(t){var e=fa(arguments);return t.apply(e[0]=this,e),this},Aa.empty=function(){return!this.node()},Aa.node=function(){for(var t=0,e=this.length;t<e;t++)for(var r=this[t],n=0,o=r.length;n<o;n++){var i=r[n];if(i)return i}return null},Aa.size=function(){var t=0;return q(this,function(){++t}),t};var Da=[];ca.selection.enter=G,ca.selection.enter.prototype=Da,Da.append=Aa.append,Da.empty=Aa.empty,Da.node=Aa.node,Da.call=Aa.call,Da.size=Aa.size,Da.select=function(t){for(var e,r,n,o,i,a=[],s=-1,l=this.length;++s<l;){n=(o=this[s]).update,a.push(e=[]),e.parentNode=o.parentNode;for(var u=-1,c=o.length;++u<c;)(i=o[u])?(e.push(n[u]=r=t.call(o.parentNode,i.__data__,u,s)),r.__data__=i.__data__):e.push(null)}return A(a)},Da.insert=function(t,e){return arguments.length<2&&(e=Y(this)),Aa.insert.call(this,t,e)},ca.select=function(t){var r;return"string"==typeof t?(r=[Ea(t,ha)],r.parentNode=ha.documentElement):(r=[t],r.parentNode=e(t)),A([r])},ca.selectAll=function(t){var e;return"string"==typeof t?(e=fa(ka(t,ha)),e.parentNode=ha.documentElement):(e=fa(t),e.parentNode=null),A([e])},Aa.on=function(t,e,r){var n=arguments.length;if(n<3){if("string"!=typeof t){n<2&&(e=!1);for(r in t)this.each(X(r,t[r],e));return this}if(n<2)return(n=this.node()["__on"+t])&&n._;r=!1}return this.each(X(t,e,r))};var Oa=ca.map({mouseenter:"mouseover",mouseleave:"mouseout"});ha&&Oa.forEach(function(t){"on"+t in ha&&Oa.remove(t)});var Ia,Ra=0;ca.mouse=function(t){return $(t,k())};var Na=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ca.touch=function(t,e,r){if(arguments.length<3&&(r=e,e=k().changedTouches),e)for(var n,o=0,i=e.length;o<i;++o)if((n=e[o]).identifier===r)return $(t,n)},ca.behavior.drag=function(){function t(){this.on("mousedown.drag",i).on("touchstart.drag",a)}function e(t,e,n,i,a){return function(){function s(){var t,r,n=e(f,y);n&&(t=n[0]-b[0],r=n[1]-b[1],d|=t|r,b=n,h({type:"drag",x:n[0]+u[0],y:n[1]+u[1],dx:t,dy:r}))}function l(){e(f,y)&&(v.on(i+m,null).on(a+m,null),g(d),h({type:"dragend"}))}var u,c=this,p=ca.event.target.correspondingElement||ca.event.target,f=c.parentNode,h=r.of(c,arguments),d=0,y=t(),m=".drag"+(null==y?"":"-"+y),v=ca.select(n(p)).on(i+m,s).on(a+m,l),g=J(p),b=e(f,y);o?(u=o.apply(c,arguments),u=[u.x-b[0],u.y-b[1]]):u=[0,0],h({type:"dragstart"})}}var r=C(t,"drag","dragstart","dragend"),o=null,i=e(T,ca.mouse,n,"mousemove","mouseup"),a=e(Q,ca.touch,x,"touchmove","touchend");return t.origin=function(e){return arguments.length?(o=e,t):o},ca.rebind(t,r,"on")},ca.touches=function(t,e){return arguments.length<2&&(e=k().touches),e?fa(e).map(function(e){var r=$(t,e);return r.identifier=e.identifier,r}):[]};var ja=1e-6,Fa=ja*ja,za=Math.PI,Ba=2*za,Ua=Ba-ja,Va=za/2,Ha=za/180,Wa=180/za,qa=Math.SQRT2,Ga=2,Ya=4;ca.interpolateZoom=function(t,e){var r,n,o=t[0],i=t[1],a=t[2],s=e[0],l=e[1],u=e[2],c=s-o,p=l-i,f=c*c+p*p;if(f<Fa)n=Math.log(u/a)/qa,r=function(t){return[o+t*c,i+t*p,a*Math.exp(qa*t*n)]};else{var h=Math.sqrt(f),d=(u*u-a*a+Ya*f)/(2*a*Ga*h),y=(u*u-a*a-Ya*f)/(2*u*Ga*h),m=Math.log(Math.sqrt(d*d+1)-d),v=Math.log(Math.sqrt(y*y+1)-y);n=(v-m)/qa,r=function(t){var e=t*n,r=it(m),s=a/(Ga*h)*(r*at(qa*e+m)-ot(m));return[o+s*c,i+s*p,a*r/it(qa*e+m)]}}return r.duration=1e3*n,r},ca.behavior.zoom=function(){function t(t){t.on(L,p).on(Ka+".zoom",h).on("dblclick.zoom",d).on(I,f)}function e(t){return[(t[0]-M.x)/M.k,(t[1]-M.y)/M.k]}function r(t){return[t[0]*M.k+M.x,t[1]*M.k+M.y]}function o(t){M.k=Math.max(k[0],Math.min(k[1],t))}function i(t,e){e=r(e),M.x+=t[0]-e[0],M.y+=t[1]-e[1]}function a(e,r,n,a){e.__chart__={x:M.x,y:M.y,k:M.k},o(Math.pow(2,a)),i(m=r,n),e=ca.select(e),A>0&&(e=e.transition().duration(A)),e.call(t.event)}function s(){_&&_.domain(x.range().map(function(t){return(t-M.x)/M.k}).map(x.invert)),T&&T.domain(w.range().map(function(t){return(t-M.y)/M.k}).map(w.invert))}function l(t){P++||t({type:"zoomstart"})}function u(t){s(),t({type:"zoom",scale:M.k,translate:[M.x,M.y]})}function c(t){--P||(t({type:"zoomend"}),m=null)}function p(){function t(){s=1,i(ca.mouse(o),f),u(a)}function r(){p.on(D,null).on(O,null),h(s),c(a)}var o=this,a=R.of(o,arguments),s=0,p=ca.select(n(o)).on(D,t).on(O,r),f=e(ca.mouse(o)),h=J(o);Vl.call(o),l(a)}function f(){function t(){var t=ca.touches(d);return h=M.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=e(t))}),t}function r(){var e=ca.event.target;ca.select(e).on(x,n).on(_,s),w.push(e);for(var r=ca.event.changedTouches,o=0,i=r.length;o<i;++o)m[r[o].identifier]=null;var l=t(),u=Date.now();if(1===l.length){if(u-b<500){var c=l[0];a(d,c,m[c.identifier],Math.floor(Math.log(M.k)/Math.LN2)+1),E()}b=u}else if(l.length>1){var c=l[0],p=l[1],f=c[0]-p[0],h=c[1]-p[1];v=f*f+h*h}}function n(){var t,e,r,n,a=ca.touches(d);Vl.call(d);for(var s=0,l=a.length;s<l;++s,n=null)if(r=a[s],n=m[r.identifier]){if(e)break;t=r,e=n}if(n){var c=(c=r[0]-t[0])*c+(c=r[1]-t[1])*c,p=v&&Math.sqrt(c/v);t=[(t[0]+r[0])/2,(t[1]+r[1])/2],e=[(e[0]+n[0])/2,(e[1]+n[1])/2],o(p*h)}b=null,i(t,e),u(y)}function s(){if(ca.event.touches.length){for(var e=ca.event.changedTouches,r=0,n=e.length;r<n;++r)delete m[e[r].identifier];for(var o in m)return void t()}ca.selectAll(w).on(g,null),T.on(L,p).on(I,f),S(),c(y)}var h,d=this,y=R.of(d,arguments),m={},v=0,g=".zoom-"+ca.event.changedTouches[0].identifier,x="touchmove"+g,_="touchend"+g,w=[],T=ca.select(d),S=J(d);r(),l(y),T.on(L,null).on(I,r)}function h(){var t=R.of(this,arguments);g?clearTimeout(g):(Vl.call(this),y=e(m=v||ca.mouse(this)),l(t)),g=setTimeout(function(){g=null,c(t)},50),E(),o(Math.pow(2,.002*Xa())*M.k),i(m,y),u(t)}
function d(){var t=ca.mouse(this),r=Math.log(M.k)/Math.LN2;a(this,t,e(t),ca.event.shiftKey?Math.ceil(r)-1:Math.floor(r)+1)}var y,m,v,g,b,x,_,w,T,M={x:0,y:0,k:1},S=[960,500],k=Za,A=250,P=0,L="mousedown.zoom",D="mousemove.zoom",O="mouseup.zoom",I="touchstart.zoom",R=C(t,"zoomstart","zoom","zoomend");return Ka||(Ka="onwheel"in ha?(Xa=function(){return-ca.event.deltaY*(ca.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ha?(Xa=function(){return ca.event.wheelDelta},"mousewheel"):(Xa=function(){return-ca.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=R.of(this,arguments),e=M;Bl?ca.select(this).transition().each("start.zoom",function(){M=this.__chart__||{x:0,y:0,k:1},l(t)}).tween("zoom:zoom",function(){var r=S[0],n=S[1],o=m?m[0]:r/2,i=m?m[1]:n/2,a=ca.interpolateZoom([(o-M.x)/M.k,(i-M.y)/M.k,r/M.k],[(o-e.x)/e.k,(i-e.y)/e.k,r/e.k]);return function(e){var n=a(e),s=r/n[2];this.__chart__=M={x:o-n[0]*s,y:i-n[1]*s,k:s},u(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=M,l(t),u(t),c(t))})},t.translate=function(e){return arguments.length?(M={x:+e[0],y:+e[1],k:M.k},s(),t):[M.x,M.y]},t.scale=function(e){return arguments.length?(M={x:M.x,y:M.y,k:null},o(+e),s(),t):M.k},t.scaleExtent=function(e){return arguments.length?(k=null==e?Za:[+e[0],+e[1]],t):k},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(S=e&&[+e[0],+e[1]],t):S},t.duration=function(e){return arguments.length?(A=+e,t):A},t.x=function(e){return arguments.length?(_=e,x=e.copy(),M={x:0,y:0,k:1},t):_},t.y=function(e){return arguments.length?(T=e,w=e.copy(),M={x:0,y:0,k:1},t):T},ca.rebind(t,R,"on")};var Xa,Ka,Za=[0,1/0];ca.color=lt,lt.prototype.toString=function(){return this.rgb()+""},ca.hsl=ut;var Ja=ut.prototype=new lt;Ja.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new ut(this.h,this.s,this.l/t)},Ja.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new ut(this.h,this.s,t*this.l)},Ja.rgb=function(){return ct(this.h,this.s,this.l)},ca.hcl=pt;var $a=pt.prototype=new lt;$a.brighter=function(t){return new pt(this.h,this.c,Math.min(100,this.l+Qa*(arguments.length?t:1)))},$a.darker=function(t){return new pt(this.h,this.c,Math.max(0,this.l-Qa*(arguments.length?t:1)))},$a.rgb=function(){return ft(this.h,this.c,this.l).rgb()},ca.lab=ht;var Qa=18,ts=.95047,es=1,rs=1.08883,ns=ht.prototype=new lt;ns.brighter=function(t){return new ht(Math.min(100,this.l+Qa*(arguments.length?t:1)),this.a,this.b)},ns.darker=function(t){return new ht(Math.max(0,this.l-Qa*(arguments.length?t:1)),this.a,this.b)},ns.rgb=function(){return dt(this.l,this.a,this.b)},ca.rgb=bt;var os=bt.prototype=new lt;os.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,r=this.g,n=this.b,o=30;return e||r||n?(e&&e<o&&(e=o),r&&r<o&&(r=o),n&&n<o&&(n=o),new bt(Math.min(255,e/t),Math.min(255,r/t),Math.min(255,n/t))):new bt(o,o,o)},os.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new bt(t*this.r,t*this.g,t*this.b)},os.hsl=function(){return Mt(this.r,this.g,this.b)},os.toString=function(){return"#"+wt(this.r)+wt(this.g)+wt(this.b)};var is=ca.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});is.forEach(function(t,e){is.set(t,xt(e))}),ca.functor=Ct,ca.xhr=At(x),ca.dsv=function(t,e){function r(t,r,i){arguments.length<3&&(i=r,r=null);var a=Pt(t,e,null==r?n:o(r),i);return a.row=function(t){return arguments.length?a.response(null==(r=t)?n:o(t)):r},a}function n(t){return r.parse(t.responseText)}function o(t){return function(e){return r.parse(e.responseText,t)}}function i(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return r.parse=function(t,e){var n;return r.parseRows(t,function(t,r){if(n)return n(t,r-1);var o=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");n=e?function(t,r){return e(o(t),r)}:o})},r.parseRows=function(t,e){function r(){if(c>=u)return a;if(o)return o=!1,i;var e=c;if(34===t.charCodeAt(e)){for(var r=e;r++<u;)if(34===t.charCodeAt(r)){if(34!==t.charCodeAt(r+1))break;++r}c=r+2;var n=t.charCodeAt(r+1);return 13===n?(o=!0,10===t.charCodeAt(r+2)&&++c):10===n&&(o=!0),t.slice(e+1,r).replace(/""/g,'"')}for(;c<u;){var n=t.charCodeAt(c++),s=1;if(10===n)o=!0;else if(13===n)o=!0,10===t.charCodeAt(c)&&(++c,++s);else if(n!==l)continue;return t.slice(e,c-s)}return t.slice(e)}for(var n,o,i={},a={},s=[],u=t.length,c=0,p=0;(n=r())!==a;){for(var f=[];n!==i&&n!==a;)f.push(n),n=r();e&&null==(f=e(f,p++))||s.push(f)}return s},r.format=function(e){if(Array.isArray(e[0]))return r.formatRows(e);var n=new b,o=[];return e.forEach(function(t){for(var e in t)n.has(e)||o.push(n.add(e))}),[o.map(a).join(t)].concat(e.map(function(e){return o.map(function(t){return a(e[t])}).join(t)})).join("\n")},r.formatRows=function(t){return t.map(i).join("\n")},r},ca.csv=ca.dsv(",","text/csv"),ca.tsv=ca.dsv("\t","text/tab-separated-values");var as,ss,ls,us,cs=this[w(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};ca.timer=function(){Ot.apply(this,arguments)},ca.timer.flush=function(){Rt(),Nt()},ca.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ps=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Ft);ca.formatPrefix=function(t,e){var r=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=ca.round(t,jt(t,e))),r=1+Math.floor(1e-12+Math.log(t)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r-1)/3)))),ps[8+r/3]};var fs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,hs=ca.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=ca.round(t,jt(t,e))).toFixed(Math.max(0,Math.min(20,jt(t*(1+1e-15),e))))}}),ds=ca.time={},ys=Date;Ut.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ms.setUTCDate.apply(this._,arguments)},setDay:function(){ms.setUTCDay.apply(this._,arguments)},setFullYear:function(){ms.setUTCFullYear.apply(this._,arguments)},setHours:function(){ms.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ms.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ms.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ms.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ms.setUTCSeconds.apply(this._,arguments)},setTime:function(){ms.setTime.apply(this._,arguments)}};var ms=Date.prototype;ds.year=Vt(function(t){return t=ds.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ds.years=ds.year.range,ds.years.utc=ds.year.utc.range,ds.day=Vt(function(t){var e=new ys(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ds.days=ds.day.range,ds.days.utc=ds.day.utc.range,ds.dayOfYear=function(t){var e=ds.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var r=ds[t]=Vt(function(t){return(t=ds.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var r=ds.year(t).getDay();return Math.floor((ds.dayOfYear(t)+(r+e)%7)/7)-(r!==e)});ds[t+"s"]=r.range,ds[t+"s"].utc=r.utc.range,ds[t+"OfYear"]=function(t){var r=ds.year(t).getDay();return Math.floor((ds.dayOfYear(t)+(r+e)%7)/7)}}),ds.week=ds.sunday,ds.weeks=ds.sunday.range,ds.weeks.utc=ds.sunday.utc.range,ds.weekOfYear=ds.sundayOfYear;var vs={"-":"",_:" ",0:"0"},gs=/^\s*\d+/,bs=/^%/;ca.locale=function(t){return{numberFormat:zt(t),timeFormat:Wt(t)}};var xs=ca.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ca.format=xs.numberFormat,ca.geo={},pe.prototype={s:0,t:0,add:function(t){fe(t,this.t,_s),fe(_s.s,this.s,this),this.s?this.t+=_s.t:this.s=_s.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var _s=new pe;ca.geo.stream=function(t,e){t&&ws.hasOwnProperty(t.type)?ws[t.type](t,e):he(t,e)};var ws={Feature:function(t,e){he(t.geometry,e)},FeatureCollection:function(t,e){for(var r=t.features,n=-1,o=r.length;++n<o;)he(r[n].geometry,e)}},Ts={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var r=t.coordinates,n=-1,o=r.length;++n<o;)t=r[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){de(t.coordinates,e,0)},MultiLineString:function(t,e){for(var r=t.coordinates,n=-1,o=r.length;++n<o;)de(r[n],e,0)},Polygon:function(t,e){ye(t.coordinates,e)},MultiPolygon:function(t,e){for(var r=t.coordinates,n=-1,o=r.length;++n<o;)ye(r[n],e)},GeometryCollection:function(t,e){for(var r=t.geometries,n=-1,o=r.length;++n<o;)he(r[n],e)}};ca.geo.area=function(t){return Ms=0,ca.geo.stream(t,Es),Ms};var Ms,Ss=new pe,Es={sphere:function(){Ms+=4*za},point:T,lineStart:T,lineEnd:T,polygonStart:function(){Ss.reset(),Es.lineStart=me},polygonEnd:function(){var t=2*Ss;Ms+=t<0?4*za+t:t,Es.lineStart=Es.lineEnd=Es.point=T}};ca.geo.bounds=function(){function t(t,e){b.push(x=[c=t,f=t]),e<p&&(p=e),e>h&&(h=e)}function e(e,r){var n=ve([e*Ha,r*Ha]);if(v){var o=be(v,n),i=[o[1],-o[0],0],a=be(i,o);we(a),a=Te(a);var l=e-d,u=l>0?1:-1,y=a[0]*Wa*u,m=xa(l)>180;if(m^(u*d<y&&y<u*e)){var g=a[1]*Wa;g>h&&(h=g)}else if(y=(y+360)%360-180,m^(u*d<y&&y<u*e)){var g=-a[1]*Wa;g<p&&(p=g)}else r<p&&(p=r),r>h&&(h=r);m?e<d?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e):f>=c?(e<c&&(c=e),e>f&&(f=e)):e>d?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e)}else t(e,r);v=n,d=e}function r(){_.point=e}function n(){x[0]=c,x[1]=f,_.point=t,v=null}function o(t,r){if(v){var n=t-d;g+=xa(n)>180?n+(n>0?360:-360):n}else y=t,m=r;Es.point(t,r),e(t,r)}function i(){Es.lineStart()}function a(){o(y,m),Es.lineEnd(),xa(g)>ja&&(c=-(f=180)),x[0]=c,x[1]=f,v=null}function s(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,p,f,h,d,y,m,v,g,b,x,_={point:t,lineStart:r,lineEnd:n,polygonStart:function(){_.point=o,_.lineStart=i,_.lineEnd=a,g=0,Es.polygonStart()},polygonEnd:function(){Es.polygonEnd(),_.point=t,_.lineStart=r,_.lineEnd=n,Ss<0?(c=-(f=180),p=-(h=90)):g>ja?h=90:g<-ja&&(p=-90),x[0]=c,x[1]=f}};return function(t){h=f=-(c=p=1/0),b=[],ca.geo.stream(t,_);var e=b.length;if(e){b.sort(l);for(var r,n=1,o=b[0],i=[o];n<e;++n)r=b[n],u(r[0],o)||u(r[1],o)?(s(o[0],r[1])>s(o[0],o[1])&&(o[1]=r[1]),s(r[0],o[1])>s(o[0],o[1])&&(o[0]=r[0])):i.push(o=r);for(var a,r,d=-(1/0),e=i.length-1,n=0,o=i[e];n<=e;o=r,++n)r=i[n],(a=s(o[1],r[0]))>d&&(d=a,c=r[0],f=o[1])}return b=x=null,c===1/0||p===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,p],[f,h]]}}(),ca.geo.centroid=function(t){ks=Cs=As=Ps=Ls=Ds=Os=Is=Rs=Ns=js=0,ca.geo.stream(t,Fs);var e=Rs,r=Ns,n=js,o=e*e+r*r+n*n;return o<Fa&&(e=Ds,r=Os,n=Is,Cs<ja&&(e=As,r=Ps,n=Ls),o=e*e+r*r+n*n,o<Fa)?[NaN,NaN]:[Math.atan2(r,e)*Wa,nt(n/Math.sqrt(o))*Wa]};var ks,Cs,As,Ps,Ls,Ds,Os,Is,Rs,Ns,js,Fs={sphere:T,point:Se,lineStart:ke,lineEnd:Ce,polygonStart:function(){Fs.lineStart=Ae},polygonEnd:function(){Fs.lineStart=ke}},zs=Re(Le,ze,Ue,[-za,-za/2]),Bs=1e9;ca.geo.clipExtent=function(){var t,e,r,n,o,i,a={stream:function(t){return o&&(o.valid=!1),o=i(t),o.valid=!0,o},extent:function(s){return arguments.length?(i=qe(t=+s[0][0],e=+s[0][1],r=+s[1][0],n=+s[1][1]),o&&(o.valid=!1,o=null),a):[[t,e],[r,n]]}};return a.extent([[0,0],[960,500]])},(ca.geo.conicEqualArea=function(){return Ge(Ye)}).raw=Ye,ca.geo.albers=function(){return ca.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ca.geo.albersUsa=function(){function t(t){var i=t[0],a=t[1];return e=null,r(i,a),e||(n(i,a),e)||o(i,a),e}var e,r,n,o,i=ca.geo.albers(),a=ca.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=ca.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,r){e=[t,r]}};return t.invert=function(t){var e=i.scale(),r=i.translate(),n=(t[0]-r[0])/e,o=(t[1]-r[1])/e;return(o>=.12&&o<.234&&n>=-.425&&n<-.214?a:o>=.166&&o<.234&&n>=-.214&&n<-.115?s:i).invert(t)},t.stream=function(t){var e=i.stream(t),r=a.stream(t),n=s.stream(t);return{point:function(t,o){e.point(t,o),r.point(t,o),n.point(t,o)},sphere:function(){e.sphere(),r.sphere(),n.sphere()},lineStart:function(){e.lineStart(),r.lineStart(),n.lineStart()},lineEnd:function(){e.lineEnd(),r.lineEnd(),n.lineEnd()},polygonStart:function(){e.polygonStart(),r.polygonStart(),n.polygonStart()},polygonEnd:function(){e.polygonEnd(),r.polygonEnd(),n.polygonEnd()}}},t.precision=function(e){return arguments.length?(i.precision(e),a.precision(e),s.precision(e),t):i.precision()},t.scale=function(e){return arguments.length?(i.scale(e),a.scale(.35*e),s.scale(e),t.translate(i.translate())):i.scale()},t.translate=function(e){if(!arguments.length)return i.translate();var u=i.scale(),c=+e[0],p=+e[1];return r=i.translate(e).clipExtent([[c-.455*u,p-.238*u],[c+.455*u,p+.238*u]]).stream(l).point,n=a.translate([c-.307*u,p+.201*u]).clipExtent([[c-.425*u+ja,p+.12*u+ja],[c-.214*u-ja,p+.234*u-ja]]).stream(l).point,o=s.translate([c-.205*u,p+.212*u]).clipExtent([[c-.214*u+ja,p+.166*u+ja],[c-.115*u-ja,p+.234*u-ja]]).stream(l).point,t},t.scale(1070)};var Us,Vs,Hs,Ws,qs,Gs,Ys={point:T,lineStart:T,lineEnd:T,polygonStart:function(){Vs=0,Ys.lineStart=Xe},polygonEnd:function(){Ys.lineStart=Ys.lineEnd=Ys.point=T,Us+=xa(Vs/2)}},Xs={point:Ke,lineStart:T,lineEnd:T,polygonStart:T,polygonEnd:T},Ks={point:$e,lineStart:Qe,lineEnd:tr,polygonStart:function(){Ks.lineStart=er},polygonEnd:function(){Ks.point=$e,Ks.lineStart=Qe,Ks.lineEnd=tr}};ca.geo.path=function(){function t(t){return t&&("function"==typeof s&&i.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=o(i)),ca.geo.stream(t,a)),i.result()}function e(){return a=null,t}var r,n,o,i,a,s=4.5;return t.area=function(t){return Us=0,ca.geo.stream(t,o(Ys)),Us},t.centroid=function(t){return As=Ps=Ls=Ds=Os=Is=Rs=Ns=js=0,ca.geo.stream(t,o(Ks)),js?[Rs/js,Ns/js]:Is?[Ds/Is,Os/Is]:Ls?[As/Ls,Ps/Ls]:[NaN,NaN]},t.bounds=function(t){return qs=Gs=-(Hs=Ws=1/0),ca.geo.stream(t,o(Xs)),[[Hs,Ws],[qs,Gs]]},t.projection=function(t){return arguments.length?(o=(r=t)?t.stream||or(t):x,e()):r},t.context=function(t){return arguments.length?(i=null==(n=t)?new Ze:new rr(t),"function"!=typeof s&&i.pointRadius(s),e()):n},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(i.pointRadius(+e),+e),t):s},t.projection(ca.geo.albersUsa()).context(null)},ca.geo.transform=function(t){return{stream:function(e){var r=new ir(e);for(var n in t)r[n]=t[n];return r}}},ir.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ca.geo.projection=sr,ca.geo.projectionMutator=lr,(ca.geo.equirectangular=function(){return sr(cr)}).raw=cr.invert=cr,ca.geo.rotation=function(t){function e(e){return e=t(e[0]*Ha,e[1]*Ha),e[0]*=Wa,e[1]*=Wa,e}return t=fr(t[0]%360*Ha,t[1]*Ha,t.length>2?t[2]*Ha:0),e.invert=function(e){return e=t.invert(e[0]*Ha,e[1]*Ha),e[0]*=Wa,e[1]*=Wa,e},e},pr.invert=cr,ca.geo.circle=function(){function t(){var t="function"==typeof n?n.apply(this,arguments):n,e=fr(-t[0]*Ha,-t[1]*Ha,0).invert,o=[];return r(null,null,1,{point:function(t,r){o.push(t=e(t,r)),t[0]*=Wa,t[1]*=Wa}}),{type:"Polygon",coordinates:[o]}}var e,r,n=[0,0],o=6;return t.origin=function(e){return arguments.length?(n=e,t):n},t.angle=function(n){return arguments.length?(r=mr((e=+n)*Ha,o*Ha),t):e},t.precision=function(n){return arguments.length?(r=mr(e*Ha,(o=+n)*Ha),t):o},t.angle(90)},ca.geo.distance=function(t,e){var r,n=(e[0]-t[0])*Ha,o=t[1]*Ha,i=e[1]*Ha,a=Math.sin(n),s=Math.cos(n),l=Math.sin(o),u=Math.cos(o),c=Math.sin(i),p=Math.cos(i);return Math.atan2(Math.sqrt((r=p*a)*r+(r=u*c-l*p*s)*r),l*c+u*p*s)},ca.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return ca.range(Math.ceil(i/m)*m,o,m).map(f).concat(ca.range(Math.ceil(u/v)*v,l,v).map(h)).concat(ca.range(Math.ceil(n/d)*d,r,d).filter(function(t){return xa(t%m)>ja}).map(c)).concat(ca.range(Math.ceil(s/y)*y,a,y).filter(function(t){return xa(t%v)>ja}).map(p))}var r,n,o,i,a,s,l,u,c,p,f,h,d=10,y=d,m=90,v=360,g=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[f(i).concat(h(l).slice(1),f(o).reverse().slice(1),h(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(i=+e[0][0],o=+e[1][0],u=+e[0][1],l=+e[1][1],i>o&&(e=i,i=o,o=e),u>l&&(e=u,u=l,l=e),t.precision(g)):[[i,u],[o,l]]},t.minorExtent=function(e){return arguments.length?(n=+e[0][0],r=+e[1][0],s=+e[0][1],a=+e[1][1],n>r&&(e=n,n=r,r=e),s>a&&(e=s,s=a,a=e),t.precision(g)):[[n,s],[r,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(d=+e[0],y=+e[1],t):[d,y]},t.precision=function(e){return arguments.length?(g=+e,c=gr(s,a,90),p=br(n,r,g),f=gr(u,l,90),h=br(i,o,g),t):g},t.majorExtent([[-180,-90+ja],[180,90-ja]]).minorExtent([[-180,-80-ja],[180,80+ja]])},ca.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||n.apply(this,arguments),r||o.apply(this,arguments)]}}var e,r,n=xr,o=_r;return t.distance=function(){return ca.geo.distance(e||n.apply(this,arguments),r||o.apply(this,arguments))},t.source=function(r){return arguments.length?(n=r,e="function"==typeof r?null:r,t):n},t.target=function(e){return arguments.length?(o=e,r="function"==typeof e?null:e,t):o},t.precision=function(){return arguments.length?t:0},t},ca.geo.interpolate=function(t,e){return wr(t[0]*Ha,t[1]*Ha,e[0]*Ha,e[1]*Ha)},ca.geo.length=function(t){return Zs=0,ca.geo.stream(t,Js),Zs};var Zs,Js={sphere:T,point:T,lineStart:Tr,lineEnd:T,polygonStart:T,polygonEnd:T},$s=Mr(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ca.geo.azimuthalEqualArea=function(){return sr($s)}).raw=$s;var Qs=Mr(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},x);(ca.geo.azimuthalEquidistant=function(){return sr(Qs)}).raw=Qs,(ca.geo.conicConformal=function(){return Ge(Sr)}).raw=Sr,(ca.geo.conicEquidistant=function(){return Ge(Er)}).raw=Er;var tl=Mr(function(t){return 1/t},Math.atan);(ca.geo.gnomonic=function(){return sr(tl)}).raw=tl,kr.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Va]},(ca.geo.mercator=function(){return Cr(kr)}).raw=kr;var el=Mr(function(){return 1},Math.asin);(ca.geo.orthographic=function(){return sr(el)}).raw=el;var rl=Mr(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ca.geo.stereographic=function(){return sr(rl)}).raw=rl,Ar.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Va]},(ca.geo.transverseMercator=function(){var t=Cr(Ar),e=t.center,r=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?r([t[0],t[1],t.length>2?t[2]+90:90]):(t=r(),[t[0],t[1],t[2]-90])},r([0,0,90])}).raw=Ar,ca.geom={},ca.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,o=Ct(r),i=Ct(n),a=t.length,s=[],l=[];for(e=0;e<a;e++)s.push([+o.call(this,t[e],e),+i.call(this,t[e],e),e]);for(s.sort(Or),e=0;e<a;e++)l.push([s[e][0],-s[e][1]]);var u=Dr(s),c=Dr(l),p=c[0]===u[0],f=c[c.length-1]===u[u.length-1],h=[];for(e=u.length-1;e>=0;--e)h.push(t[s[u[e]][2]]);for(e=+p;e<c.length-f;++e)h.push(t[s[c[e]][2]]);return h}var r=Pr,n=Lr;return arguments.length?e(t):(e.x=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(n=t,e):n},e)},ca.geom.polygon=function(t){return Sa(t,nl),t};var nl=ca.geom.polygon.prototype=[];nl.area=function(){for(var t,e=-1,r=this.length,n=this[r-1],o=0;++e<r;)t=n,n=this[e],o+=t[1]*n[0]-t[0]*n[1];return.5*o},nl.centroid=function(t){var e,r,n=-1,o=this.length,i=0,a=0,s=this[o-1];for(arguments.length||(t=-1/(6*this.area()));++n<o;)e=s,s=this[n],r=e[0]*s[1]-s[0]*e[1],i+=(e[0]+s[0])*r,a+=(e[1]+s[1])*r;return[i*t,a*t]},nl.clip=function(t){for(var e,r,n,o,i,a,s=Nr(t),l=-1,u=this.length-Nr(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,o=this[l],i=e[(n=e.length-s)-1],r=-1;++r<n;)a=e[r],Ir(a,c,o)?(Ir(i,c,o)||t.push(Rr(i,a,c,o)),t.push(a)):Ir(i,c,o)&&t.push(Rr(i,a,c,o)),i=a;s&&t.push(t[0]),c=o}return t};var ol,il,al,sl,ll,ul=[],cl=[];Wr.prototype.prepare=function(){for(var t,e=this.edges,r=e.length;r--;)t=e[r].edge,t.b&&t.a||e.splice(r,1);return e.sort(Gr),e.length},rn.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},nn.prototype={insert:function(t,e){var r,n,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;r=t}else this._?(t=ln(this._),e.P=null,e.N=t,t.P=t.L=e,r=t):(e.P=e.N=null,this._=e,r=null);for(e.L=e.R=null,e.U=r,e.C=!0,t=e;r&&r.C;)n=r.U,r===n.L?(o=n.R,o&&o.C?(r.C=o.C=!1,n.C=!0,t=n):(t===r.R&&(an(this,r),t=r,r=t.U),r.C=!1,n.C=!0,sn(this,n))):(o=n.L,o&&o.C?(r.C=o.C=!1,n.C=!0,t=n):(t===r.L&&(sn(this,r),t=r,r=t.U),r.C=!1,n.C=!0,an(this,n))),r=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,r,n,o=t.U,i=t.L,a=t.R;if(r=i?a?ln(a):i:a,o?o.L===t?o.L=r:o.R=r:this._=r,i&&a?(n=r.C,r.C=t.C,r.L=i,i.U=r,r!==a?(o=r.U,r.U=t.U,t=r.R,o.L=t,r.R=a,a.U=r):(r.U=o,o=r,t=r.R)):(n=t.C,t=r),t&&(t.U=o),!n){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===o.L){if(e=o.R,e.C&&(e.C=!1,o.C=!0,an(this,o),e=o.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,sn(this,e),e=o.R),e.C=o.C,o.C=e.R.C=!1,an(this,o),t=this._;break}}else if(e=o.L,e.C&&(e.C=!1,o.C=!0,sn(this,o),e=o.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,an(this,e),e=o.L),e.C=o.C,o.C=e.L.C=!1,sn(this,o),t=this._;break}e.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}},ca.geom.voronoi=function(t){function e(t){var e=new Array(t.length),n=s[0][0],o=s[0][1],i=s[1][0],a=s[1][1];return un(r(t),s).cells.forEach(function(r,s){var l=r.edges,u=r.site,c=e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=n&&u.x<=i&&u.y>=o&&u.y<=a?[[n,a],[i,a],[i,o],[n,o]]:[];c.point=t[s]}),e}function r(t){return t.map(function(t,e){return{x:Math.round(i(t,e)/ja)*ja,y:Math.round(a(t,e)/ja)*ja,i:e}})}var n=Pr,o=Lr,i=n,a=o,s=pl;return t?e(t):(e.links=function(t){return un(r(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return un(r(t)).cells.forEach(function(r,n){for(var o,i,a=r.site,s=r.edges.sort(Gr),l=-1,u=s.length,c=s[u-1].edge,p=c.l===a?c.r:c.l;++l<u;)o=c,i=p,c=s[l].edge,p=c.l===a?c.r:c.l,n<i.i&&n<p.i&&pn(a,i,p)<0&&e.push([t[n],t[i.i],t[p.i]])}),e},e.x=function(t){return arguments.length?(i=Ct(n=t),e):n},e.y=function(t){return arguments.length?(a=Ct(o=t),e):o},e.clipExtent=function(t){return arguments.length?(s=null==t?pl:t,e):s===pl?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===pl?null:s&&s[1]},e)};var pl=[[-1e6,-1e6],[1e6,1e6]];ca.geom.delaunay=function(t){return ca.geom.voronoi().triangles(t)},ca.geom.quadtree=function(t,e,r,n,o){function i(t){function i(t,e,r,n,o,i,a,s){if(!isNaN(r)&&!isNaN(n))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(xa(l-r)+xa(c-n)<.01)u(t,e,r,n,o,i,a,s);else{var p=t.point;t.x=t.y=t.point=null,u(t,p,l,c,o,i,a,s),u(t,e,r,n,o,i,a,s)}else t.x=r,t.y=n,t.point=e}else u(t,e,r,n,o,i,a,s)}function u(t,e,r,n,o,a,s,l){var u=.5*(o+s),c=.5*(a+l),p=r>=u,f=n>=c,h=f<<1|p;t.leaf=!1,t=t.nodes[h]||(t.nodes[h]=dn()),p?o=u:s=u,f?a=c:l=c,i(t,e,r,n,o,a,s,l)}var c,p,f,h,d,y,m,v,g,b=Ct(s),x=Ct(l);if(null!=e)y=e,m=r,v=n,g=o;else if(v=g=-(y=m=1/0),p=[],f=[],d=t.length,a)for(h=0;h<d;++h)c=t[h],c.x<y&&(y=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>g&&(g=c.y),p.push(c.x),f.push(c.y);else for(h=0;h<d;++h){var _=+b(c=t[h],h),w=+x(c,h);_<y&&(y=_),w<m&&(m=w),_>v&&(v=_),w>g&&(g=w),p.push(_),f.push(w)}var T=v-y,M=g-m;T>M?g=m+T:v=y+M;var S=dn();if(S.add=function(t){i(S,t,+b(t,++h),+x(t,h),y,m,v,g)},S.visit=function(t){yn(t,S,y,m,v,g)},S.find=function(t){return mn(S,t[0],t[1],y,m,v,g)},h=-1,null==e){for(;++h<d;)i(S,t[h],p[h],f[h],y,m,v,g);--h}else t.forEach(S.add);return p=f=t=c=null,S}var a,s=Pr,l=Lr;return(a=arguments.length)?(s=fn,l=hn,3===a&&(o=r,n=e,r=e=0),i(t)):(i.x=function(t){return arguments.length?(s=t,i):s},i.y=function(t){return arguments.length?(l=t,i):l},i.extent=function(t){return arguments.length?(null==t?e=r=n=o=null:(e=+t[0][0],r=+t[0][1],n=+t[1][0],o=+t[1][1]),i):null==e?null:[[e,r],[n,o]]},i.size=function(t){return arguments.length?(null==t?e=r=n=o=null:(e=r=0,n=+t[0],o=+t[1]),i):null==e?null:[n-e,o-r]},i)},ca.interpolateRgb=vn,ca.interpolateObject=gn,ca.interpolateNumber=bn,ca.interpolateString=xn;var fl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hl=new RegExp(fl.source,"g");ca.interpolate=_n,ca.interpolators=[function(t,e){var r=typeof e;return("string"===r?is.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?vn:xn:e instanceof lt?vn:Array.isArray(e)?wn:"object"===r&&isNaN(e)?gn:bn)(t,e)}],ca.interpolateArray=wn;var dl=function(){return x},yl=ca.map({linear:dl,poly:An,quad:function(){return En},cubic:function(){return kn},sin:function(){return Pn},exp:function(){return Ln},circle:function(){return Dn},elastic:On,back:In,bounce:function(){return Rn}}),ml=ca.map({in:x,out:Mn,"in-out":Sn,"out-in":function(t){return Sn(Mn(t))}});ca.ease=function(t){var e=t.indexOf("-"),r=e>=0?t.slice(0,e):t,n=e>=0?t.slice(e+1):"in";return r=yl.get(r)||dl,n=ml.get(n)||x,Tn(n(r.apply(null,pa.call(arguments,1))))},ca.interpolateHcl=Nn,ca.interpolateHsl=jn,ca.interpolateLab=Fn,ca.interpolateRound=zn,ca.transform=function(t){var e=ha.createElementNS(ca.ns.prefix.svg,"g");return(ca.transform=function(t){if(null!=t){e.setAttribute("transform",t);var r=e.transform.baseVal.consolidate()}return new Bn(r?r.matrix:vl)})(t)},Bn.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var vl={a:1,b:0,c:0,d:1,e:0,f:0};ca.interpolateTransform=Kn,ca.layout={},ca.layout.bundle=function(){return function(t){for(var e=[],r=-1,n=t.length;++r<n;)e.push($n(t[r]));return e}},ca.layout.chord=function(){function t(){var t,u,p,f,h,d={},y=[],m=ca.range(i),v=[];for(r=[],n=[],t=0,f=-1;++f<i;){for(u=0,h=-1;++h<i;)u+=o[f][h];y.push(u),v.push(ca.range(i)),t+=u}for(a&&m.sort(function(t,e){return a(y[t],y[e])}),s&&v.forEach(function(t,e){t.sort(function(t,r){return s(o[e][t],o[e][r])})}),t=(Ba-c*i)/t,u=0,f=-1;++f<i;){for(p=u,h=-1;++h<i;){var g=m[f],b=v[g][h],x=o[g][b],_=u,w=u+=x*t;d[g+"-"+b]={index:g,subindex:b,startAngle:_,endAngle:w,value:x}}n[g]={index:g,startAngle:p,endAngle:u,value:y[g]},u+=c}for(f=-1;++f<i;)for(h=f-1;++h<i;){var T=d[f+"-"+h],M=d[h+"-"+f];(T.value||M.value)&&r.push(T.value<M.value?{source:M,target:T}:{source:T,target:M})}l&&e()}function e(){r.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var r,n,o,i,a,s,l,u={},c=0;return u.matrix=function(t){return arguments.length?(i=(o=t)&&o.length,r=n=null,u):o},u.padding=function(t){return arguments.length?(c=t,r=n=null,u):c},u.sortGroups=function(t){return arguments.length?(a=t,r=n=null,u):a},u.sortSubgroups=function(t){return arguments.length?(s=t,r=null,u):s},u.sortChords=function(t){return arguments.length?(l=t,r&&e(),u):l},u.chords=function(){return r||t(),r},u.groups=function(){return n||t(),n},u},ca.layout.force=function(){function t(t){return function(e,r,n,o){if(e.point!==t){var i=e.cx-t.x,a=e.cy-t.y,s=o-r,l=i*i+a*a;if(s*s/v<l){if(l<y){var u=e.charge/l;t.px-=i*u,t.py-=a*u}return!0}if(e.point&&l&&l<y){var u=e.pointCharge/l;t.px-=i*u,t.py-=a*u}}return!e.charge}}function e(t){t.px=ca.event.x,t.py=ca.event.y,l.resume()}var r,n,o,i,a,s,l={},u=ca.dispatch("start","tick","end"),c=[1,1],p=.9,f=gl,h=bl,d=-30,y=xl,m=.1,v=.64,g=[],b=[];
return l.tick=function(){if((o*=.99)<.005)return r=null,u.end({type:"end",alpha:o=0}),!0;var e,n,l,f,h,y,v,x,_,w=g.length,T=b.length;for(n=0;n<T;++n)l=b[n],f=l.source,h=l.target,x=h.x-f.x,_=h.y-f.y,(y=x*x+_*_)&&(y=o*a[n]*((y=Math.sqrt(y))-i[n])/y,x*=y,_*=y,h.x-=x*(v=f.weight+h.weight?f.weight/(f.weight+h.weight):.5),h.y-=_*v,f.x+=x*(v=1-v),f.y+=_*v);if((v=o*m)&&(x=c[0]/2,_=c[1]/2,n=-1,v))for(;++n<w;)l=g[n],l.x+=(x-l.x)*v,l.y+=(_-l.y)*v;if(d)for(io(e=ca.geom.quadtree(g),o,s),n=-1;++n<w;)(l=g[n]).fixed||e.visit(t(l));for(n=-1;++n<w;)l=g[n],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*p,l.y-=(l.py-(l.py=l.y))*p);u.tick({type:"tick",alpha:o})},l.nodes=function(t){return arguments.length?(g=t,l):g},l.links=function(t){return arguments.length?(b=t,l):b},l.size=function(t){return arguments.length?(c=t,l):c},l.linkDistance=function(t){return arguments.length?(f="function"==typeof t?t:+t,l):f},l.distance=l.linkDistance,l.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,l):h},l.friction=function(t){return arguments.length?(p=+t,l):p},l.charge=function(t){return arguments.length?(d="function"==typeof t?t:+t,l):d},l.chargeDistance=function(t){return arguments.length?(y=t*t,l):Math.sqrt(y)},l.gravity=function(t){return arguments.length?(m=+t,l):m},l.theta=function(t){return arguments.length?(v=t*t,l):Math.sqrt(v)},l.alpha=function(t){return arguments.length?(t=+t,o?t>0?o=t:(r.c=null,r.t=NaN,r=null,u.end({type:"end",alpha:o=0})):t>0&&(u.start({type:"start",alpha:o=t}),r=Ot(l.tick)),l):o},l.start=function(){function t(t,n){if(!r){for(r=new Array(o),l=0;l<o;++l)r[l]=[];for(l=0;l<u;++l){var i=b[l];r[i.source.index].push(i.target),r[i.target.index].push(i.source)}}for(var a,s=r[e],l=-1,c=s.length;++l<c;)if(!isNaN(a=s[l][t]))return a;return Math.random()*n}var e,r,n,o=g.length,u=b.length,p=c[0],y=c[1];for(e=0;e<o;++e)(n=g[e]).index=e,n.weight=0;for(e=0;e<u;++e)n=b[e],"number"==typeof n.source&&(n.source=g[n.source]),"number"==typeof n.target&&(n.target=g[n.target]),++n.source.weight,++n.target.weight;for(e=0;e<o;++e)n=g[e],isNaN(n.x)&&(n.x=t("x",p)),isNaN(n.y)&&(n.y=t("y",y)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(i=[],"function"==typeof f)for(e=0;e<u;++e)i[e]=+f.call(this,b[e],e);else for(e=0;e<u;++e)i[e]=f;if(a=[],"function"==typeof h)for(e=0;e<u;++e)a[e]=+h.call(this,b[e],e);else for(e=0;e<u;++e)a[e]=h;if(s=[],"function"==typeof d)for(e=0;e<o;++e)s[e]=+d.call(this,g[e],e);else for(e=0;e<o;++e)s[e]=d;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return n||(n=ca.behavior.drag().origin(x).on("dragstart.force",eo).on("drag.force",e).on("dragend.force",ro)),arguments.length?void this.on("mouseover.force",no).on("mouseout.force",oo).call(n):n},ca.rebind(l,u,"on")};var gl=20,bl=1,xl=1/0;ca.layout.hierarchy=function(){function t(o){var i,a=[o],s=[];for(o.depth=0;null!=(i=a.pop());)if(s.push(i),(u=r.call(t,i,i.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)a.push(c=u[l]),c.parent=i,c.depth=i.depth+1;n&&(i.value=0),i.children=u}else n&&(i.value=+n.call(t,i,i.depth)||0),delete i.children;return lo(o,function(t){var r,o;e&&(r=t.children)&&r.sort(e),n&&(o=t.parent)&&(o.value+=t.value)}),s}var e=po,r=uo,n=co;return t.sort=function(r){return arguments.length?(e=r,t):e},t.children=function(e){return arguments.length?(r=e,t):r},t.value=function(e){return arguments.length?(n=e,t):n},t.revalue=function(e){return n&&(so(e,function(t){t.children&&(t.value=0)}),lo(e,function(e){var r;e.children||(e.value=+n.call(t,e,e.depth)||0),(r=e.parent)&&(r.value+=e.value)})),e},t},ca.layout.partition=function(){function t(e,r,n,o){var i=e.children;if(e.x=r,e.y=e.depth*o,e.dx=n,e.dy=o,i&&(a=i.length)){var a,s,l,u=-1;for(n=e.value?n/e.value:0;++u<a;)t(s=i[u],r,l=s.value*n,o),r+=l}}function e(t){var r=t.children,n=0;if(r&&(o=r.length))for(var o,i=-1;++i<o;)n=Math.max(n,e(r[i]));return 1+n}function r(r,i){var a=n.call(this,r,i);return t(a[0],0,o[0],o[1]/e(a[0])),a}var n=ca.layout.hierarchy(),o=[1,1];return r.size=function(t){return arguments.length?(o=t,r):o},ao(r,n)},ca.layout.pie=function(){function t(a){var s,l=a.length,u=a.map(function(r,n){return+e.call(t,r,n)}),c=+("function"==typeof n?n.apply(this,arguments):n),p=("function"==typeof o?o.apply(this,arguments):o)-c,f=Math.min(Math.abs(p)/l,+("function"==typeof i?i.apply(this,arguments):i)),h=f*(p<0?-1:1),d=ca.sum(u),y=d?(p-l*h)/d:0,m=ca.range(l),v=[];return null!=r&&m.sort(r===_l?function(t,e){return u[e]-u[t]}:function(t,e){return r(a[t],a[e])}),m.forEach(function(t){v[t]={data:a[t],value:s=u[t],startAngle:c,endAngle:c+=s*y+h,padAngle:f}}),v}var e=Number,r=_l,n=0,o=Ba,i=0;return t.value=function(r){return arguments.length?(e=r,t):e},t.sort=function(e){return arguments.length?(r=e,t):r},t.startAngle=function(e){return arguments.length?(n=e,t):n},t.endAngle=function(e){return arguments.length?(o=e,t):o},t.padAngle=function(e){return arguments.length?(i=e,t):i},t};var _l={};ca.layout.stack=function(){function t(s,l){if(!(f=s.length))return s;var u=s.map(function(r,n){return e.call(t,r,n)}),c=u.map(function(e){return e.map(function(e,r){return[i.call(t,e,r),a.call(t,e,r)]})}),p=r.call(t,c,l);u=ca.permute(u,p),c=ca.permute(c,p);var f,h,d,y,m=n.call(t,c,l),v=u[0].length;for(d=0;d<v;++d)for(o.call(t,u[0][d],y=m[d],c[0][d][1]),h=1;h<f;++h)o.call(t,u[h][d],y+=c[h-1][d][1],c[h][d][1]);return s}var e=x,r=vo,n=go,o=mo,i=ho,a=yo;return t.values=function(r){return arguments.length?(e=r,t):e},t.order=function(e){return arguments.length?(r="function"==typeof e?e:wl.get(e)||vo,t):r},t.offset=function(e){return arguments.length?(n="function"==typeof e?e:Tl.get(e)||go,t):n},t.x=function(e){return arguments.length?(i=e,t):i},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(o=e,t):o},t};var wl=ca.map({"inside-out":function(t){var e,r,n=t.length,o=t.map(bo),i=t.map(xo),a=ca.range(n).sort(function(t,e){return o[t]-o[e]}),s=0,l=0,u=[],c=[];for(e=0;e<n;++e)r=a[e],s<l?(s+=i[r],u.push(r)):(l+=i[r],c.push(r));return c.reverse().concat(u)},reverse:function(t){return ca.range(t.length).reverse()},default:vo}),Tl=ca.map({silhouette:function(t){var e,r,n,o=t.length,i=t[0].length,a=[],s=0,l=[];for(r=0;r<i;++r){for(e=0,n=0;e<o;e++)n+=t[e][r][1];n>s&&(s=n),a.push(n)}for(r=0;r<i;++r)l[r]=(s-a[r])/2;return l},wiggle:function(t){var e,r,n,o,i,a,s,l,u,c=t.length,p=t[0],f=p.length,h=[];for(h[0]=l=u=0,r=1;r<f;++r){for(e=0,o=0;e<c;++e)o+=t[e][r][1];for(e=0,i=0,s=p[r][0]-p[r-1][0];e<c;++e){for(n=0,a=(t[e][r][1]-t[e][r-1][1])/(2*s);n<e;++n)a+=(t[n][r][1]-t[n][r-1][1])/s;i+=a*t[e][r][1]}h[r]=l-=o?i/o*s:0,l<u&&(u=l)}for(r=0;r<f;++r)h[r]-=u;return h},expand:function(t){var e,r,n,o=t.length,i=t[0].length,a=1/o,s=[];for(r=0;r<i;++r){for(e=0,n=0;e<o;e++)n+=t[e][r][1];if(n)for(e=0;e<o;e++)t[e][r][1]/=n;else for(e=0;e<o;e++)t[e][r][1]=a}for(r=0;r<i;++r)s[r]=0;return s},zero:go});ca.layout.histogram=function(){function t(t,i){for(var a,s,l=[],u=t.map(r,this),c=n.call(this,u,i),p=o.call(this,c,u,i),i=-1,f=u.length,h=p.length-1,d=e?1:1/f;++i<h;)a=l[i]=[],a.dx=p[i+1]-(a.x=p[i]),a.y=0;if(h>0)for(i=-1;++i<f;)s=u[i],s>=c[0]&&s<=c[1]&&(a=l[ca.bisect(p,s,1,h)-1],a.y+=d,a.push(t[i]));return l}var e=!0,r=Number,n=Mo,o=wo;return t.value=function(e){return arguments.length?(r=e,t):r},t.range=function(e){return arguments.length?(n=Ct(e),t):n},t.bins=function(e){return arguments.length?(o="number"==typeof e?function(t){return To(t,e)}:Ct(e),t):o},t.frequency=function(r){return arguments.length?(e=!!r,t):e},t},ca.layout.pack=function(){function t(t,i){var a=r.call(this,t,i),s=a[0],l=o[0],u=o[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,lo(s,function(t){t.r=+c(t.value)}),lo(s,Ao),n){var p=n*(e?1:Math.max(2*s.r/l,2*s.r/u))/2;lo(s,function(t){t.r+=p}),lo(s,Ao),lo(s,function(t){t.r-=p})}return Do(s,l/2,u/2,e?1:1/Math.max(2*s.r/l,2*s.r/u)),a}var e,r=ca.layout.hierarchy().sort(So),n=0,o=[1,1];return t.size=function(e){return arguments.length?(o=e,t):o},t.radius=function(r){return arguments.length?(e=null==r||"function"==typeof r?r:+r,t):e},t.padding=function(e){return arguments.length?(n=+e,t):n},ao(t,r)},ca.layout.tree=function(){function t(t,o){var c=a.call(this,t,o),p=c[0],f=e(p);if(lo(f,r),f.parent.m=-f.z,so(f,n),u)so(p,i);else{var h=p,d=p,y=p;so(p,function(t){t.x<h.x&&(h=t),t.x>d.x&&(d=t),t.depth>y.depth&&(y=t)});var m=s(h,d)/2-h.x,v=l[0]/(d.x+s(d,h)/2+m),g=l[1]/(y.depth||1);so(p,function(t){t.x=(t.x+m)*v,t.y=t.depth*g})}return c}function e(t){for(var e,r={A:null,children:[t]},n=[r];null!=(e=n.pop());)for(var o,i=e.children,a=0,s=i.length;a<s;++a)n.push((i[a]=o={_:i[a],parent:e,children:(o=i[a].children)&&o.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=o);return r.children[0]}function r(t){var e=t.children,r=t.parent.children,n=t.i?r[t.i-1]:null;if(e.length){Fo(t);var i=(e[0].z+e[e.length-1].z)/2;n?(t.z=n.z+s(t._,n._),t.m=t.z-i):t.z=i}else n&&(t.z=n.z+s(t._,n._));t.parent.A=o(t,n,t.parent.A||r[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function o(t,e,r){if(e){for(var n,o=t,i=t,a=e,l=o.parent.children[0],u=o.m,c=i.m,p=a.m,f=l.m;a=No(a),o=Ro(o),a&&o;)l=Ro(l),i=No(i),i.a=t,n=a.z+p-o.z-u+s(a._,o._),n>0&&(jo(zo(a,t,r),t,n),u+=n,c+=n),p+=a.m,u+=o.m,f+=l.m,c+=i.m;a&&!No(i)&&(i.t=a,i.m+=p-c),o&&!Ro(l)&&(l.t=o,l.m+=u-f,r=t)}return r}function i(t){t.x*=l[0],t.y=t.depth*l[1]}var a=ca.layout.hierarchy().sort(null).value(null),s=Io,l=[1,1],u=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(u=null==(l=e)?i:null,t):u?null:l},t.nodeSize=function(e){return arguments.length?(u=null==(l=e)?null:i,t):u?l:null},ao(t,a)},ca.layout.cluster=function(){function t(t,i){var a,s=e.call(this,t,i),l=s[0],u=0;lo(l,function(t){var e=t.children;e&&e.length?(t.x=Uo(e),t.y=Bo(e)):(t.x=a?u+=r(t,a):0,t.y=0,a=t)});var c=Vo(l),p=Ho(l),f=c.x-r(c,p)/2,h=p.x+r(p,c)/2;return lo(l,o?function(t){t.x=(t.x-l.x)*n[0],t.y=(l.y-t.y)*n[1]}:function(t){t.x=(t.x-f)/(h-f)*n[0],t.y=(1-(l.y?t.y/l.y:1))*n[1]}),s}var e=ca.layout.hierarchy().sort(null).value(null),r=Io,n=[1,1],o=!1;return t.separation=function(e){return arguments.length?(r=e,t):r},t.size=function(e){return arguments.length?(o=null==(n=e),t):o?null:n},t.nodeSize=function(e){return arguments.length?(o=null!=(n=e),t):o?n:null},ao(t,e)},ca.layout.treemap=function(){function t(t,e){for(var r,n,o=-1,i=t.length;++o<i;)n=(r=t[o]).value*(e<0?0:e),r.area=isNaN(n)||n<=0?0:n}function e(r){var i=r.children;if(i&&i.length){var a,s,l,u=p(r),c=[],f=i.slice(),d=1/0,y="slice"===h?u.dx:"dice"===h?u.dy:"slice-dice"===h?1&r.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(f,u.dx*u.dy/r.value),c.area=0;(l=f.length)>0;)c.push(a=f[l-1]),c.area+=a.area,"squarify"!==h||(s=n(c,y))<=d?(f.pop(),d=s):(c.area-=c.pop().area,o(c,y,u,!1),y=Math.min(u.dx,u.dy),c.length=c.area=0,d=1/0);c.length&&(o(c,y,u,!0),c.length=c.area=0),i.forEach(e)}}function r(e){var n=e.children;if(n&&n.length){var i,a=p(e),s=n.slice(),l=[];for(t(s,a.dx*a.dy/e.value),l.area=0;i=s.pop();)l.push(i),l.area+=i.area,null!=i.z&&(o(l,i.z?a.dx:a.dy,a,!s.length),l.length=l.area=0);n.forEach(r)}}function n(t,e){for(var r,n=t.area,o=0,i=1/0,a=-1,s=t.length;++a<s;)(r=t[a].area)&&(r<i&&(i=r),r>o&&(o=r));return n*=n,e*=e,n?Math.max(e*o*d/n,n/(e*i*d)):1/0}function o(t,e,r,n){var o,i=-1,a=t.length,s=r.x,u=r.y,c=e?l(t.area/e):0;if(e==r.dx){for((n||c>r.dy)&&(c=r.dy);++i<a;)o=t[i],o.x=s,o.y=u,o.dy=c,s+=o.dx=Math.min(r.x+r.dx-s,c?l(o.area/c):0);o.z=!0,o.dx+=r.x+r.dx-s,r.y+=c,r.dy-=c}else{for((n||c>r.dx)&&(c=r.dx);++i<a;)o=t[i],o.x=s,o.y=u,o.dx=c,u+=o.dy=Math.min(r.y+r.dy-u,c?l(o.area/c):0);o.z=!1,o.dy+=r.y+r.dy-u,r.x+=c,r.dx-=c}}function i(n){var o=a||s(n),i=o[0];return i.x=i.y=0,i.value?(i.dx=u[0],i.dy=u[1]):i.dx=i.dy=0,a&&s.revalue(i),t([i],i.dx*i.dy/i.value),(a?r:e)(i),f&&(a=o),o}var a,s=ca.layout.hierarchy(),l=Math.round,u=[1,1],c=null,p=Wo,f=!1,h="squarify",d=.5*(1+Math.sqrt(5));return i.size=function(t){return arguments.length?(u=t,i):u},i.padding=function(t){function e(e){var r=t.call(i,e,e.depth);return null==r?Wo(e):qo(e,"number"==typeof r?[r,r,r,r]:r)}function r(e){return qo(e,t)}if(!arguments.length)return c;var n;return p=null==(c=t)?Wo:"function"==(n=typeof t)?e:"number"===n?(t=[t,t,t,t],r):r,i},i.round=function(t){return arguments.length?(l=t?Math.round:Number,i):l!=Number},i.sticky=function(t){return arguments.length?(f=t,a=null,i):f},i.ratio=function(t){return arguments.length?(d=t,i):d},i.mode=function(t){return arguments.length?(h=t+"",i):h},ao(i,s)},ca.random={normal:function(t,e){var r=arguments.length;return r<2&&(e=1),r<1&&(t=0),function(){var r,n,o;do r=2*Math.random()-1,n=2*Math.random()-1,o=r*r+n*n;while(!o||o>1);return t+e*r*Math.sqrt(-2*Math.log(o)/o)}},logNormal:function(){var t=ca.random.normal.apply(ca,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=ca.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,r=0;r<t;r++)e+=Math.random();return e}}},ca.scale={};var Ml={floor:x,ceil:x};ca.scale.linear=function(){return $o([0,1],[0,1],_n,!1)};var Sl={s:1,g:1,p:1,r:1,e:1};ca.scale.log=function(){return ai(ca.scale.linear().domain([0,1]),10,!0,[1,10])};var El=ca.format(".0e"),kl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};ca.scale.pow=function(){return si(ca.scale.linear(),1,[0,1])},ca.scale.sqrt=function(){return ca.scale.pow().exponent(.5)},ca.scale.ordinal=function(){return ui([],{t:"range",a:[[]]})},ca.scale.category10=function(){return ca.scale.ordinal().range(Cl)},ca.scale.category20=function(){return ca.scale.ordinal().range(Al)},ca.scale.category20b=function(){return ca.scale.ordinal().range(Pl)},ca.scale.category20c=function(){return ca.scale.ordinal().range(Ll)};var Cl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(_t),Al=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(_t),Pl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(_t),Ll=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(_t);ca.scale.quantile=function(){return ci([],[])},ca.scale.quantize=function(){return pi(0,1,[0,1])},ca.scale.threshold=function(){return fi([.5],[0,1])},ca.scale.identity=function(){return hi([0,1])},ca.svg={},ca.svg.arc=function(){function t(){var t=Math.max(0,+r.apply(this,arguments)),u=Math.max(0,+n.apply(this,arguments)),c=a.apply(this,arguments)-Va,p=s.apply(this,arguments)-Va,f=Math.abs(p-c),h=c>p?0:1;if(u<t&&(d=u,u=t,t=d),f>=Ua)return e(u,h)+(t?e(t,1-h):"")+"Z";var d,y,m,v,g,b,x,_,w,T,M,S,E=0,k=0,C=[];if((v=(+l.apply(this,arguments)||0)/2)&&(m=i===Dl?Math.sqrt(t*t+u*u):+i.apply(this,arguments),h||(k*=-1),u&&(k=nt(m/u*Math.sin(v))),t&&(E=nt(m/t*Math.sin(v)))),u){g=u*Math.cos(c+k),b=u*Math.sin(c+k),x=u*Math.cos(p-k),_=u*Math.sin(p-k);var A=Math.abs(p-c-2*k)<=za?0:1;if(k&&xi(g,b,x,_)===h^A){var P=(c+p)/2;g=u*Math.cos(P),b=u*Math.sin(P),x=_=null}}else g=b=0;if(t){w=t*Math.cos(p-E),T=t*Math.sin(p-E),M=t*Math.cos(c+E),S=t*Math.sin(c+E);var L=Math.abs(c-p+2*E)<=za?0:1;if(E&&xi(w,T,M,S)===1-h^L){var D=(c+p)/2;w=t*Math.cos(D),T=t*Math.sin(D),M=S=null}}else w=T=0;if(f>ja&&(d=Math.min(Math.abs(u-t)/2,+o.apply(this,arguments)))>.001){y=t<u^h?0:1;var O=d,I=d;if(f<za){var R=null==M?[w,T]:null==x?[g,b]:Rr([g,b],[M,S],[x,_],[w,T]),N=g-R[0],j=b-R[1],F=x-R[0],z=_-R[1],B=1/Math.sin(Math.acos((N*F+j*z)/(Math.sqrt(N*N+j*j)*Math.sqrt(F*F+z*z)))/2),U=Math.sqrt(R[0]*R[0]+R[1]*R[1]);I=Math.min(d,(t-U)/(B-1)),O=Math.min(d,(u-U)/(B+1))}if(null!=x){var V=_i(null==M?[w,T]:[M,S],[g,b],u,O,h),H=_i([x,_],[w,T],u,O,h);d===O?C.push("M",V[0],"A",O,",",O," 0 0,",y," ",V[1],"A",u,",",u," 0 ",1-h^xi(V[1][0],V[1][1],H[1][0],H[1][1]),",",h," ",H[1],"A",O,",",O," 0 0,",y," ",H[0]):C.push("M",V[0],"A",O,",",O," 0 1,",y," ",H[0])}else C.push("M",g,",",b);if(null!=M){var W=_i([g,b],[M,S],t,-I,h),q=_i([w,T],null==x?[g,b]:[x,_],t,-I,h);d===I?C.push("L",q[0],"A",I,",",I," 0 0,",y," ",q[1],"A",t,",",t," 0 ",h^xi(q[1][0],q[1][1],W[1][0],W[1][1]),",",1-h," ",W[1],"A",I,",",I," 0 0,",y," ",W[0]):C.push("L",q[0],"A",I,",",I," 0 0,",y," ",W[0])}else C.push("L",w,",",T)}else C.push("M",g,",",b),null!=x&&C.push("A",u,",",u," 0 ",A,",",h," ",x,",",_),C.push("L",w,",",T),null!=M&&C.push("A",t,",",t," 0 ",L,",",1-h," ",M,",",S);return C.push("Z"),C.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var r=yi,n=mi,o=di,i=Dl,a=vi,s=gi,l=bi;return t.innerRadius=function(e){return arguments.length?(r=Ct(e),t):r},t.outerRadius=function(e){return arguments.length?(n=Ct(e),t):n},t.cornerRadius=function(e){return arguments.length?(o=Ct(e),t):o},t.padRadius=function(e){return arguments.length?(i=e==Dl?Dl:Ct(e),t):i},t.startAngle=function(e){return arguments.length?(a=Ct(e),t):a},t.endAngle=function(e){return arguments.length?(s=Ct(e),t):s},t.padAngle=function(e){return arguments.length?(l=Ct(e),t):l},t.centroid=function(){var t=(+r.apply(this,arguments)+ +n.apply(this,arguments))/2,e=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-Va;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Dl="auto";ca.svg.line=function(){return wi(x)};var Ol=ca.map({linear:Ti,"linear-closed":Mi,step:Si,"step-before":Ei,"step-after":ki,basis:Oi,"basis-open":Ii,"basis-closed":Ri,bundle:Ni,cardinal:Pi,"cardinal-open":Ci,"cardinal-closed":Ai,monotone:Vi});Ol.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Il=[0,2/3,1/3,0],Rl=[0,1/3,2/3,0],Nl=[0,1/6,2/3,1/6];ca.svg.line.radial=function(){var t=wi(Hi);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Ei.reverse=ki,ki.reverse=Ei,ca.svg.area=function(){return Wi(x)},ca.svg.area.radial=function(){var t=Wi(Hi);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ca.svg.chord=function(){function t(t,s){var l=e(this,i,t,s),u=e(this,a,t,s);return"M"+l.p0+n(l.r,l.p1,l.a1-l.a0)+(r(l,u)?o(l.r,l.p1,l.r,l.p0):o(l.r,l.p1,u.r,u.p0)+n(u.r,u.p1,u.a1-u.a0)+o(u.r,u.p1,l.r,l.p0))+"Z"}function e(t,e,r,n){var o=e.call(t,r,n),i=s.call(t,o,n),a=l.call(t,o,n)-Va,c=u.call(t,o,n)-Va;return{r:i,a0:a,a1:c,p0:[i*Math.cos(a),i*Math.sin(a)],p1:[i*Math.cos(c),i*Math.sin(c)]}}function r(t,e){return t.a0==e.a0&&t.a1==e.a1}function n(t,e,r){return"A"+t+","+t+" 0 "+ +(r>za)+",1 "+e}function o(t,e,r,n){return"Q 0,0 "+n}var i=xr,a=_r,s=qi,l=vi,u=gi;return t.radius=function(e){return arguments.length?(s=Ct(e),t):s},t.source=function(e){return arguments.length?(i=Ct(e),t):i},t.target=function(e){return arguments.length?(a=Ct(e),t):a},t.startAngle=function(e){return arguments.length?(l=Ct(e),t):l},t.endAngle=function(e){return arguments.length?(u=Ct(e),t):u},t},ca.svg.diagonal=function(){function t(t,o){var i=e.call(this,t,o),a=r.call(this,t,o),s=(i.y+a.y)/2,l=[i,{x:i.x,y:s},{x:a.x,y:s},a];return l=l.map(n),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=xr,r=_r,n=Gi;return t.source=function(r){return arguments.length?(e=Ct(r),t):e},t.target=function(e){return arguments.length?(r=Ct(e),t):r},t.projection=function(e){return arguments.length?(n=e,t):n},t},ca.svg.diagonal.radial=function(){var t=ca.svg.diagonal(),e=Gi,r=t.projection;return t.projection=function(t){return arguments.length?r(Yi(e=t)):e},t},ca.svg.symbol=function(){function t(t,n){return(jl.get(e.call(this,t,n))||Zi)(r.call(this,t,n))}var e=Ki,r=Xi;return t.type=function(r){return arguments.length?(e=Ct(r),t):e},t.size=function(e){return arguments.length?(r=Ct(e),t):r},t};var jl=ca.map({circle:Zi,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*zl)),r=e*zl;return"M0,"+-e+"L"+r+",0 0,"+e+" "+-r+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Fl),r=e*Fl/2;return"M0,"+r+"L"+e+","+-r+" "+-e+","+-r+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Fl),r=e*Fl/2;return"M0,"+-r+"L"+e+","+r+" "+-e+","+r+"Z"}});ca.svg.symbolTypes=jl.keys();var Fl=Math.sqrt(3),zl=Math.tan(30*Ha);Aa.transition=function(t){for(var e,r,n=Bl||++Wl,o=ea(t),i=[],a=Ul||{time:Date.now(),ease:Cn,delay:0,duration:250},s=-1,l=this.length;++s<l;){i.push(e=[]);for(var u=this[s],c=-1,p=u.length;++c<p;)(r=u[c])&&ra(r,c,o,n,a),e.push(r)}return $i(i,o,n)},Aa.interrupt=function(t){return this.each(null==t?Vl:Ji(ea(t)))};var Bl,Ul,Vl=Ji(ea()),Hl=[],Wl=0;Hl.call=Aa.call,Hl.empty=Aa.empty,Hl.node=Aa.node,Hl.size=Aa.size,ca.transition=function(t,e){return t&&t.transition?Bl?t.transition(e):t:ca.selection().transition(t)},ca.transition.prototype=Hl,Hl.select=function(t){var e,r,n,o=this.id,i=this.namespace,a=[];t=P(t);for(var s=-1,l=this.length;++s<l;){a.push(e=[]);for(var u=this[s],c=-1,p=u.length;++c<p;)(n=u[c])&&(r=t.call(n,n.__data__,c,s))?("__data__"in n&&(r.__data__=n.__data__),ra(r,c,i,o,n[i][o]),e.push(r)):e.push(null)}return $i(a,i,o)},Hl.selectAll=function(t){var e,r,n,o,i,a=this.id,s=this.namespace,l=[];t=L(t);for(var u=-1,c=this.length;++u<c;)for(var p=this[u],f=-1,h=p.length;++f<h;)if(n=p[f]){i=n[s][a],r=t.call(n,n.__data__,f,u),l.push(e=[]);for(var d=-1,y=r.length;++d<y;)(o=r[d])&&ra(o,d,s,a,i),e.push(o)}return $i(l,s,a)},Hl.filter=function(t){var e,r,n,o=[];"function"!=typeof t&&(t=H(t));for(var i=0,a=this.length;i<a;i++){o.push(e=[]);for(var r=this[i],s=0,l=r.length;s<l;s++)(n=r[s])&&t.call(n,n.__data__,s,i)&&e.push(n)}return $i(o,this.namespace,this.id)},Hl.tween=function(t,e){var r=this.id,n=this.namespace;return arguments.length<2?this.node()[n][r].tween.get(t):q(this,null==e?function(e){e[n][r].tween.remove(t)}:function(o){o[n][r].tween.set(t,e)})},Hl.attr=function(t,e){function r(){this.removeAttribute(s)}function n(){this.removeAttributeNS(s.space,s.local)}function o(t){return null==t?r:(t+="",function(){var e,r=this.getAttribute(s);return r!==t&&(e=a(r,t),function(t){this.setAttribute(s,e(t))})})}function i(t){return null==t?n:(t+="",function(){var e,r=this.getAttributeNS(s.space,s.local);return r!==t&&(e=a(r,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?Kn:_n,s=ca.ns.qualify(t);return Qi(this,"attr."+t,e,s.local?i:o)},Hl.attrTween=function(t,e){function r(t,r){var n=e.call(this,t,r,this.getAttribute(o));return n&&function(t){this.setAttribute(o,n(t))}}function n(t,r){var n=e.call(this,t,r,this.getAttributeNS(o.space,o.local));return n&&function(t){this.setAttributeNS(o.space,o.local,n(t))}}var o=ca.ns.qualify(t);return this.tween("attr."+t,o.local?n:r)},Hl.style=function(t,e,r){function o(){this.style.removeProperty(t)}function i(e){return null==e?o:(e+="",function(){var o,i=n(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(o=_n(i,e),function(e){this.style.setProperty(t,o(e),r)})})}var a=arguments.length;if(a<3){if("string"!=typeof t){a<2&&(e="");for(r in t)this.style(r,t[r],e);return this}r=""}return Qi(this,"style."+t,e,i)},Hl.styleTween=function(t,e,r){function o(o,i){var a=e.call(this,o,i,n(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),r)}}return arguments.length<3&&(r=""),this.tween("style."+t,o)},Hl.text=function(t){return Qi(this,"text",t,ta)},Hl.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Hl.ease=function(t){var e=this.id,r=this.namespace;return arguments.length<1?this.node()[r][e].ease:("function"!=typeof t&&(t=ca.ease.apply(ca,arguments)),q(this,function(n){n[r][e].ease=t}))},Hl.delay=function(t){var e=this.id,r=this.namespace;return arguments.length<1?this.node()[r][e].delay:q(this,"function"==typeof t?function(n,o,i){n[r][e].delay=+t.call(n,n.__data__,o,i)}:(t=+t,function(n){n[r][e].delay=t}))},Hl.duration=function(t){var e=this.id,r=this.namespace;return arguments.length<1?this.node()[r][e].duration:q(this,"function"==typeof t?function(n,o,i){n[r][e].duration=Math.max(1,t.call(n,n.__data__,o,i))}:(t=Math.max(1,t),function(n){n[r][e].duration=t}))},Hl.each=function(t,e){var r=this.id,n=this.namespace;if(arguments.length<2){var o=Ul,i=Bl;try{Bl=r,q(this,function(e,o,i){Ul=e[n][r],t.call(e,e.__data__,o,i)})}finally{Ul=o,Bl=i}}else q(this,function(o){var i=o[n][r];(i.event||(i.event=ca.dispatch("start","end","interrupt"))).on(t,e)});return this},Hl.transition=function(){for(var t,e,r,n,o=this.id,i=++Wl,a=this.namespace,s=[],l=0,u=this.length;l<u;l++){s.push(t=[]);for(var e=this[l],c=0,p=e.length;c<p;c++)(r=e[c])&&(n=r[a][o],ra(r,c,a,i,{time:n.time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration})),t.push(r)}return $i(s,a,i)},ca.svg.axis=function(){function t(t){t.each(function(){var t,u=ca.select(this),c=this.__chart__||r,p=this.__chart__=r.copy(),f=null==l?p.ticks?p.ticks.apply(p,s):p.domain():l,h=null==e?p.tickFormat?p.tickFormat.apply(p,s):x:e,d=u.selectAll(".tick").data(f,p),y=d.enter().insert("g",".domain").attr("class","tick").style("opacity",ja),m=ca.transition(d.exit()).style("opacity",ja).remove(),v=ca.transition(d.order()).style("opacity",1),g=Math.max(o,0)+a,b=Yo(p),_=u.selectAll(".domain").data([0]),w=(_.enter().append("path").attr("class","domain"),ca.transition(_));y.append("line"),y.append("text");var T,M,S,E,k=y.select("line"),C=v.select("line"),A=d.select("text").text(h),P=y.select("text"),L=v.select("text"),D="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(t=na,T="x",S="y",M="x2",E="y2",A.attr("dy",D<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+b[0]+","+D*i+"V0H"+b[1]+"V"+D*i)):(t=oa,T="y",S="x",M="y2",E="x2",A.attr("dy",".32em").style("text-anchor",D<0?"end":"start"),w.attr("d","M"+D*i+","+b[0]+"H0V"+b[1]+"H"+D*i)),k.attr(E,D*o),P.attr(S,D*g),C.attr(M,0).attr(E,D*o),L.attr(T,0).attr(S,D*g),p.rangeBand){var O=p,I=O.rangeBand()/2;c=p=function(t){return O(t)+I}}else c.rangeBand?c=p:m.call(t,p,c);y.call(t,c,p),v.call(t,p,p)})}var e,r=ca.scale.linear(),n=ql,o=6,i=6,a=3,s=[10],l=null;return t.scale=function(e){return arguments.length?(r=e,t):r},t.orient=function(e){return arguments.length?(n=e in Gl?e+"":ql,t):n},t.ticks=function(){return arguments.length?(s=fa(arguments),t):s},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(r){return arguments.length?(e=r,t):e},t.tickSize=function(e){var r=arguments.length;return r?(o=+e,i=+arguments[r-1],t):o},t.innerTickSize=function(e){return arguments.length?(o=+e,t):o},t.outerTickSize=function(e){return arguments.length?(i=+e,t):i},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var ql="bottom",Gl={top:1,right:1,bottom:1,left:1};ca.svg.brush=function(){function t(n){n.each(function(){var n=ca.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),a=n.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),n.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=n.selectAll(".resize").data(y,x);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Yl[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var l,p=ca.transition(n),f=ca.transition(a);u&&(l=Yo(u),f.attr("x",l[0]).attr("width",l[1]-l[0]),r(p)),c&&(l=Yo(c),f.attr("y",l[0]).attr("height",l[1]-l[0]),o(p)),e(p)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+p[+/e$/.test(t)]+","+f[+/^s/.test(t)]+")"})}function r(t){t.select(".extent").attr("x",p[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",p[1]-p[0])}function o(t){t.select(".extent").attr("y",f[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function i(){function i(){32==ca.event.keyCode&&(A||(b=null,L[0]-=p[1],L[1]-=f[1],A=2),E())}function y(){32==ca.event.keyCode&&2==A&&(L[0]+=p[1],L[1]+=f[1],A=0,E())}function m(){var t=ca.mouse(_),n=!1;x&&(t[0]+=x[0],t[1]+=x[1]),A||(ca.event.altKey?(b||(b=[(p[0]+p[1])/2,(f[0]+f[1])/2]),L[0]=p[+(t[0]<b[0])],L[1]=f[+(t[1]<b[1])]):b=null),k&&v(t,u,0)&&(r(M),n=!0),C&&v(t,c,1)&&(o(M),n=!0),n&&(e(M),T({type:"brush",mode:A?"move":"resize"}))}function v(t,e,r){var n,o,i=Yo(e),l=i[0],u=i[1],c=L[r],y=r?f:p,m=y[1]-y[0];if(A&&(l-=c,u-=m+c),n=(r?d:h)?Math.max(l,Math.min(u,t[r])):t[r],A?o=(n+=c)+m:(b&&(c=Math.max(l,Math.min(u,2*b[r]-n))),c<n?(o=n,n=c):o=c),y[0]!=n||y[1]!=o)return r?s=null:a=null,y[0]=n,y[1]=o,!0}function g(){m(),M.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),ca.select("body").style("cursor",null),D.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),P(),T({type:"brushend"})}var b,x,_=this,w=ca.select(ca.event.target),T=l.of(_,arguments),M=ca.select(_),S=w.datum(),k=!/^(n|s)$/.test(S)&&u,C=!/^(e|w)$/.test(S)&&c,A=w.classed("extent"),P=J(_),L=ca.mouse(_),D=ca.select(n(_)).on("keydown.brush",i).on("keyup.brush",y);if(ca.event.changedTouches?D.on("touchmove.brush",m).on("touchend.brush",g):D.on("mousemove.brush",m).on("mouseup.brush",g),M.interrupt().selectAll("*").interrupt(),A)L[0]=p[0]-L[0],L[1]=f[0]-L[1];else if(S){var O=+/w$/.test(S),I=+/^n/.test(S);x=[p[1-O]-L[0],f[1-I]-L[1]],L[0]=p[O],L[1]=f[I]}else ca.event.altKey&&(b=L.slice());M.style("pointer-events","none").selectAll(".resize").style("display",null),ca.select("body").style("cursor",w.style("cursor")),T({type:"brushstart"}),m()}var a,s,l=C(t,"brushstart","brush","brushend"),u=null,c=null,p=[0,0],f=[0,0],h=!0,d=!0,y=Xl[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:p,y:f,i:a,j:s},r=this.__chart__||e;this.__chart__=e,Bl?ca.select(this).transition().each("start.brush",function(){a=r.i,s=r.j,p=r.x,f=r.y,t({type:"brushstart"})}).tween("brush:brush",function(){var r=wn(p,e.x),n=wn(f,e.y);return a=s=null,function(o){p=e.x=r(o),f=e.y=n(o),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(u=e,y=Xl[!u<<1|!c],t):u},t.y=function(e){return arguments.length?(c=e,y=Xl[!u<<1|!c],t):c},t.clamp=function(e){return arguments.length?(u&&c?(h=!!e[0],d=!!e[1]):u?h=!!e:c&&(d=!!e),t):u&&c?[h,d]:u?h:c?d:null},t.extent=function(e){var r,n,o,i,l;return arguments.length?(u&&(r=e[0],n=e[1],c&&(r=r[0],n=n[0]),a=[r,n],u.invert&&(r=u(r),n=u(n)),n<r&&(l=r,r=n,n=l),r==p[0]&&n==p[1]||(p=[r,n])),c&&(o=e[0],i=e[1],u&&(o=o[1],i=i[1]),s=[o,i],c.invert&&(o=c(o),i=c(i)),i<o&&(l=o,o=i,i=l),o==f[0]&&i==f[1]||(f=[o,i])),t):(u&&(a?(r=a[0],n=a[1]):(r=p[0],n=p[1],u.invert&&(r=u.invert(r),n=u.invert(n)),n<r&&(l=r,r=n,n=l))),c&&(s?(o=s[0],i=s[1]):(o=f[0],i=f[1],c.invert&&(o=c.invert(o),i=c.invert(i)),i<o&&(l=o,o=i,i=l))),u&&c?[[r,o],[n,i]]:u?[r,n]:c&&[o,i])},t.clear=function(){return t.empty()||(p=[0,0],f=[0,0],a=s=null),t},t.empty=function(){return!!u&&p[0]==p[1]||!!c&&f[0]==f[1]},ca.rebind(t,l,"on")};var Yl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",
ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Xl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Kl=ds.format=xs.timeFormat,Zl=Kl.utc,Jl=Zl("%Y-%m-%dT%H:%M:%S.%LZ");Kl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ia:Jl,ia.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},ia.toString=Jl.toString,ds.second=Vt(function(t){return new ys(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ds.seconds=ds.second.range,ds.seconds.utc=ds.second.utc.range,ds.minute=Vt(function(t){return new ys(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ds.minutes=ds.minute.range,ds.minutes.utc=ds.minute.utc.range,ds.hour=Vt(function(t){var e=t.getTimezoneOffset()/60;return new ys(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ds.hours=ds.hour.range,ds.hours.utc=ds.hour.utc.range,ds.month=Vt(function(t){return t=ds.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ds.months=ds.month.range,ds.months.utc=ds.month.utc.range;var $l=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ql=[[ds.second,1],[ds.second,5],[ds.second,15],[ds.second,30],[ds.minute,1],[ds.minute,5],[ds.minute,15],[ds.minute,30],[ds.hour,1],[ds.hour,3],[ds.hour,6],[ds.hour,12],[ds.day,1],[ds.day,2],[ds.week,1],[ds.month,1],[ds.month,3],[ds.year,1]],tu=Kl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Le]]),eu={range:function(t,e,r){return ca.range(Math.ceil(t/r)*r,+e,r).map(sa)},floor:x,ceil:x};Ql.year=ds.year,ds.scale=function(){return aa(ca.scale.linear(),Ql,tu)};var ru=Ql.map(function(t){return[t[0].utc,t[1]]}),nu=Zl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Le]]);ru.year=ds.year.utc,ds.scale.utc=function(){return aa(ca.scale.linear(),ru,nu)},ca.text=At(function(t){return t.responseText}),ca.json=function(t,e){return Pt(t,"application/json",la,e)},ca.html=function(t,e){return Pt(t,"text/html",ua,e)},ca.xml=At(function(t){return t.responseXML}),"function"==typeof t&&t.amd?(this.d3=ca,t(ca)):"object"==typeof r&&r.exports?r.exports=ca:this.d3=ca}()},{}],105:[function(t,e,r){"use strict";function n(t,e){this.point=t,this.index=e}function o(t,e){for(var r=t.point,n=e.point,o=r.length,i=0;i<o;++i){var a=n[i]-r[i];if(a)return a}return 0}function i(t,e,r){if(1===t)return r?[[-1,0]]:[];var n=e.map(function(t,e){return[t[0],e]});n.sort(function(t,e){return t[0]-e[0]});for(var o=new Array(t-1),i=1;i<t;++i){var a=n[i-1],s=n[i];o[i-1]=[a[1],s[1]]}return r&&o.push([-1,o[0][1]],[o[t-1][1],-1]),o}function a(t,e){var r=t.length;if(0===r)return[];var a=t[0].length;if(a<1)return[];if(1===a)return i(r,t,e);for(var u=new Array(r),c=1,p=0;p<r;++p){for(var f=t[p],h=new Array(a+1),d=0,y=0;y<a;++y){var m=f[y];h[y]=m,d+=m*m}h[a]=d,u[p]=new n(h,p),c=Math.max(d,c)}l(u,o),r=u.length;for(var v=new Array(r+a+1),g=new Array(r+a+1),b=(a+1)*(a+1)*c,x=new Array(a+1),p=0;p<=a;++p)x[p]=0;x[a]=b,v[0]=x.slice(),g[0]=-1;for(var p=0;p<=a;++p){var h=x.slice();h[p]=1,v[p+1]=h,g[p+1]=-1}for(var p=0;p<r;++p){var _=u[p];v[p+a+1]=_.point,g[p+a+1]=_.index}var w=s(v,!1);if(w=e?w.filter(function(t){for(var e=0,r=0;r<=a;++r){var n=g[t[r]];if(n<0&&++e>=2)return!1;t[r]=n}return!0}):w.filter(function(t){for(var e=0;e<=a;++e){var r=g[t[e]];if(r<0)return!1;t[e]=r}return!0}),1&a)for(var p=0;p<w.length;++p){var _=w[p],h=_[0];_[0]=_[1],_[1]=h}return w}var s=t("incremental-convex-hull"),l=t("uniq");e.exports=a},{"incremental-convex-hull":271,uniq:521}],106:[function(t,e,r){(function(t){function r(t,e){return h[0]=t,h[1]=e,f[0]}function n(t){return f[0]=t,h[0]}function o(t){return f[0]=t,h[1]}function i(t,e){return h[1]=t,h[0]=e,f[0]}function a(t){return f[0]=t,h[1]}function s(t){return f[0]=t,h[0]}function l(t,e){return d.writeUInt32LE(t,0,!0),d.writeUInt32LE(e,4,!0),d.readDoubleLE(0,!0)}function u(t){return d.writeDoubleLE(t,0,!0),d.readUInt32LE(0,!0)}function c(t){return d.writeDoubleLE(t,0,!0),d.readUInt32LE(4,!0)}var p=!1;if("undefined"!=typeof Float64Array){var f=new Float64Array(1),h=new Uint32Array(f.buffer);f[0]=1,p=!0,1072693248===h[1]?(e.exports=function(t){return f[0]=t,[h[0],h[1]]},e.exports.pack=r,e.exports.lo=n,e.exports.hi=o):1072693248===h[0]?(e.exports=function(t){return f[0]=t,[h[1],h[0]]},e.exports.pack=i,e.exports.lo=a,e.exports.hi=s):p=!1}if(!p){var d=new t(8);e.exports=function(t){return d.writeDoubleLE(t,0,!0),[d.readUInt32LE(0,!0),d.readUInt32LE(4,!0)]},e.exports.pack=l,e.exports.lo=u,e.exports.hi=c}e.exports.sign=function(t){return e.exports.hi(t)>>>31},e.exports.exponent=function(t){var r=e.exports.hi(t);return(r<<1>>>21)-1023},e.exports.fraction=function(t){var r=e.exports.lo(t),n=e.exports.hi(t),o=1048575&n;return 2146435072&n&&(o+=1<<20),[r,o]},e.exports.denormalized=function(t){var r=e.exports.hi(t);return!(2146435072&r)}}).call(this,t("buffer").Buffer)},{buffer:67}],107:[function(t,e,r){"use strict";function n(t,e,r){var o=0|t[r];if(o<=0)return[];var i,a=new Array(o);if(r===t.length-1)for(i=0;i<o;++i)a[i]=e;else for(i=0;i<o;++i)a[i]=n(t,e,r+1);return a}function o(t,e){var r,n;for(r=new Array(t),n=0;n<t;++n)r[n]=e;return r}function i(t,e){switch("undefined"==typeof e&&(e=0),typeof t){case"number":if(t>0)return o(0|t,e);break;case"object":if("number"==typeof t.length)return n(t,e,0)}return[]}e.exports=i},{}],108:[function(t,e,r){"use strict";function n(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=o(t,0,i,r,!0),l=[];if(!s)return l;var u,c,f,h,d,y,m;if(n&&(s=p(t,e,s,r)),t.length>80*r){u=f=t[0],c=h=t[1];for(var v=r;v<i;v+=r)d=t[v],y=t[v+1],d<u&&(u=d),y<c&&(c=y),d>f&&(f=d),y>h&&(h=y);m=Math.max(f-u,h-c)}return a(s,l,r,u,c,m),l}function o(t,e,r,n,o){var i,a;if(o===L(t,e,r,n)>0)for(i=e;i<r;i+=n)a=C(i,t[i],t[i+1],a);else for(i=r-n;i>=e;i-=n)a=C(i,t[i],t[i+1],a);return a&&w(a,a.next)&&(A(a),a=a.next),a}function i(t,e){if(!t)return t;e||(e=t);var r,n=t;do if(r=!1,n.steiner||!w(n,n.next)&&0!==_(n.prev,n,n.next))n=n.next;else{if(A(n),n=e=n.prev,n===n.next)return null;r=!0}while(r||n!==e);return e}function a(t,e,r,n,o,p,f){if(t){!f&&p&&y(t,n,o,p);for(var h,d,m=t;t.prev!==t.next;)if(h=t.prev,d=t.next,p?l(t,n,o,p):s(t))e.push(h.i/r),e.push(t.i/r),e.push(d.i/r),A(t),t=d.next,m=d.next;else if(t=d,t===m){f?1===f?(t=u(t,e,r),a(t,e,r,n,o,p,2)):2===f&&c(t,e,r,n,o,p):a(i(t),e,r,n,o,p,1);break}}}function s(t){var e=t.prev,r=t,n=t.next;if(_(e,r,n)>=0)return!1;for(var o=t.next.next;o!==t.prev;){if(b(e.x,e.y,r.x,r.y,n.x,n.y,o.x,o.y)&&_(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function l(t,e,r,n){var o=t.prev,i=t,a=t.next;if(_(o,i,a)>=0)return!1;for(var s=o.x<i.x?o.x<a.x?o.x:a.x:i.x<a.x?i.x:a.x,l=o.y<i.y?o.y<a.y?o.y:a.y:i.y<a.y?i.y:a.y,u=o.x>i.x?o.x>a.x?o.x:a.x:i.x>a.x?i.x:a.x,c=o.y>i.y?o.y>a.y?o.y:a.y:i.y>a.y?i.y:a.y,p=v(s,l,e,r,n),f=v(u,c,e,r,n),h=t.nextZ;h&&h.z<=f;){if(h!==t.prev&&h!==t.next&&b(o.x,o.y,i.x,i.y,a.x,a.y,h.x,h.y)&&_(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(h=t.prevZ;h&&h.z>=p;){if(h!==t.prev&&h!==t.next&&b(o.x,o.y,i.x,i.y,a.x,a.y,h.x,h.y)&&_(h.prev,h,h.next)>=0)return!1;h=h.prevZ}return!0}function u(t,e,r){var n=t;do{var o=n.prev,i=n.next.next;!w(o,i)&&T(o,n,n.next,i)&&S(o,i)&&S(i,o)&&(e.push(o.i/r),e.push(n.i/r),e.push(i.i/r),A(n),A(n.next),n=t=i),n=n.next}while(n!==t);return n}function c(t,e,r,n,o,s){var l=t;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&x(l,u)){var c=k(l,u);return l=i(l,l.next),c=i(c,c.next),a(l,e,r,n,o,s),void a(c,e,r,n,o,s)}u=u.next}l=l.next}while(l!==t)}function p(t,e,r,n){var a,s,l,u,c,p=[];for(a=0,s=e.length;a<s;a++)l=e[a]*n,u=a<s-1?e[a+1]*n:t.length,c=o(t,l,u,n,!1),c===c.next&&(c.steiner=!0),p.push(g(c));for(p.sort(f),a=0;a<p.length;a++)h(p[a],r),r=i(r,r.next);return r}function f(t,e){return t.x-e.x}function h(t,e){if(e=d(t,e)){var r=k(e,t);i(r,r.next)}}function d(t,e){var r,n=e,o=t.x,i=t.y,a=-(1/0);do{if(i<=n.y&&i>=n.next.y){var s=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=o&&s>a){if(a=s,s===o){if(i===n.y)return n;if(i===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(o===a)return r.prev;var l,u=r,c=r.x,p=r.y,f=1/0;for(n=r.next;n!==u;)o>=n.x&&n.x>=c&&b(i<p?o:a,i,c,p,i<p?a:o,i,n.x,n.y)&&(l=Math.abs(i-n.y)/(o-n.x),(l<f||l===f&&n.x>r.x)&&S(n,t)&&(r=n,f=l)),n=n.next;return r}function y(t,e,r,n){var o=t;do null===o.z&&(o.z=v(o.x,o.y,e,r,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,m(o)}function m(t){var e,r,n,o,i,a,s,l,u=1;do{for(r=t,t=null,i=null,a=0;r;){for(a++,n=r,s=0,e=0;e<u&&(s++,n=n.nextZ,n);e++);for(l=u;s>0||l>0&&n;)0===s?(o=n,n=n.nextZ,l--):0!==l&&n?r.z<=n.z?(o=r,r=r.nextZ,s--):(o=n,n=n.nextZ,l--):(o=r,r=r.nextZ,s--),i?i.nextZ=o:t=o,o.prevZ=i,i=o;r=n}i.nextZ=null,u*=2}while(a>1);return t}function v(t,e,r,n,o){return t=32767*(t-r)/o,e=32767*(e-n)/o,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function g(t){var e=t,r=t;do e.x<r.x&&(r=e),e=e.next;while(e!==t);return r}function b(t,e,r,n,o,i,a,s){return(o-a)*(e-s)-(t-a)*(i-s)>=0&&(t-a)*(n-s)-(r-a)*(e-s)>=0&&(r-a)*(i-s)-(o-a)*(n-s)>=0}function x(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!M(t,e)&&S(t,e)&&S(e,t)&&E(t,e)}function _(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function w(t,e){return t.x===e.x&&t.y===e.y}function T(t,e,r,n){return!!(w(t,e)&&w(r,n)||w(t,n)&&w(r,e))||_(t,e,r)>0!=_(t,e,n)>0&&_(r,n,t)>0!=_(r,n,e)>0}function M(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&T(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function S(t,e){return _(t.prev,t,t.next)<0?_(t,e,t.next)>=0&&_(t,t.prev,e)>=0:_(t,e,t.prev)<0||_(t,t.next,e)<0}function E(t,e){var r=t,n=!1,o=(t.x+e.x)/2,i=(t.y+e.y)/2;do r.y>i!=r.next.y>i&&o<(r.next.x-r.x)*(i-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function k(t,e){var r=new P(t.i,t.x,t.y),n=new P(e.i,e.x,e.y),o=t.next,i=e.prev;return t.next=e,e.prev=t,r.next=o,o.prev=r,n.next=r,r.prev=n,i.next=n,n.prev=i,n}function C(t,e,r,n){var o=new P(t,e,r);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o}function A(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function P(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function L(t,e,r,n){for(var o=0,i=e,a=r-n;i<r;i+=n)o+=(t[a]-t[i])*(t[i+1]+t[a+1]),a=i;return o}e.exports=n,n.deviation=function(t,e,r,n){var o=e&&e.length,i=o?e[0]*r:t.length,a=Math.abs(L(t,0,i,r));if(o)for(var s=0,l=e.length;s<l;s++){var u=e[s]*r,c=s<l-1?e[s+1]*r:t.length;a-=Math.abs(L(t,u,c,r))}var p=0;for(s=0;s<n.length;s+=3){var f=n[s]*r,h=n[s+1]*r,d=n[s+2]*r;p+=Math.abs((t[f]-t[d])*(t[h+1]-t[f+1])-(t[f]-t[h])*(t[d+1]-t[f+1]))}return 0===a&&0===p?0:Math.abs((p-a)/a)},n.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,o=0;o<t.length;o++){for(var i=0;i<t[o].length;i++)for(var a=0;a<e;a++)r.vertices.push(t[o][i][a]);o>0&&(n+=t[o-1].length,r.holes.push(n))}return r}},{}],109:[function(t,e,r){"use strict";function n(t,e){var r=t.length;if("number"!=typeof e){e=0;for(var n=0;n<r;++n){var i=t[n];e=Math.max(e,i[0],i[1])}e=(0|e)+1}e|=0;for(var a=new Array(e),n=0;n<e;++n)a[n]=[];for(var n=0;n<r;++n){var i=t[n];a[i[0]].push(i[1]),a[i[1]].push(i[0])}for(var s=0;s<e;++s)o(a[s],function(t,e){return t-e});return a}e.exports=n;var o=t("uniq")},{uniq:521}],110:[function(r,n,o){(function(e,i){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
	 * @version   3.3.1
	 */
!function(e,r){"object"==typeof o&&"undefined"!=typeof n?n.exports=r():"function"==typeof t&&t.amd?t(r):e.ES6Promise=r()}(this,function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function n(t){return"function"==typeof t}function o(t){K=t}function a(t){Z=t}function s(){return function(){return e.nextTick(f)}}function l(){return function(){X(f)}}function u(){var t=0,e=new Q(f),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){r.data=t=++t%2}}function c(){var t=new MessageChannel;return t.port1.onmessage=f,function(){return t.port2.postMessage(0)}}function p(){var t=setTimeout;return function(){return t(f,1)}}function f(){for(var t=0;t<Y;t+=2){var e=rt[t],r=rt[t+1];e(r),rt[t]=void 0,rt[t+1]=void 0}Y=0}function h(){try{var t=r,e=t("vertx");return X=e.runOnLoop||e.runOnContext,l()}catch(t){return p()}}function d(t,e){var r=arguments,n=this,o=new this.constructor(m);void 0===o[ot]&&R(o);var i=n._state;return i?!function(){var t=r[i-1];Z(function(){return D(i,o,t,n._result)})}():C(n,o,t,e),o}function y(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var r=new e(m);return M(r,t),r}function m(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function g(){return new TypeError("A promises callback cannot return that same promise.")}function b(t){try{return t.then}catch(t){return lt.error=t,lt}}function x(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}function _(t,e,r){Z(function(t){var n=!1,o=x(r,e,function(r){n||(n=!0,e!==r?M(t,r):E(t,r))},function(e){n||(n=!0,k(t,e))},"Settle: "+(t._label||" unknown promise"));!n&&o&&(n=!0,k(t,o))},t)}function w(t,e){e._state===at?E(t,e._result):e._state===st?k(t,e._result):C(e,void 0,function(e){return M(t,e)},function(e){return k(t,e)})}function T(t,e,r){e.constructor===t.constructor&&r===d&&e.constructor.resolve===y?w(t,e):r===lt?k(t,lt.error):void 0===r?E(t,e):n(r)?_(t,e,r):E(t,e)}function M(e,r){e===r?k(e,v()):t(r)?T(e,r,b(r)):E(e,r)}function S(t){t._onerror&&t._onerror(t._result),A(t)}function E(t,e){t._state===it&&(t._result=e,t._state=at,0!==t._subscribers.length&&Z(A,t))}function k(t,e){t._state===it&&(t._state=st,t._result=e,Z(S,t))}function C(t,e,r,n){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+at]=r,o[i+st]=n,0===i&&t._state&&Z(A,t)}function A(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,o=void 0,i=t._result,a=0;a<e.length;a+=3)n=e[a],o=e[a+r],n?D(r,n,o,i):o(i);t._subscribers.length=0}}function P(){this.error=null}function L(t,e){try{return t(e)}catch(t){return ut.error=t,ut}}function D(t,e,r,o){var i=n(r),a=void 0,s=void 0,l=void 0,u=void 0;if(i){if(a=L(r,o),a===ut?(u=!0,s=a.error,a=null):l=!0,e===a)return void k(e,g())}else a=o,l=!0;e._state!==it||(i&&l?M(e,a):u?k(e,s):t===at?E(e,a):t===st&&k(e,a))}function O(t,e){try{e(function(e){M(t,e)},function(e){k(t,e)})}catch(e){k(t,e)}}function I(){return ct++}function R(t){t[ot]=ct++,t._state=void 0,t._result=void 0,t._subscribers=[]}function N(t,e){this._instanceConstructor=t,this.promise=new t(m),this.promise[ot]||R(this.promise),G(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?E(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&E(this.promise,this._result))):k(this.promise,j())}function j(){return new Error("Array Methods must be provided an Array")}function F(t){return new N(this,t).promise}function z(t){var e=this;return new e(G(t)?function(r,n){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(r,n)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function B(t){var e=this,r=new e(m);return k(r,t),r}function U(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function V(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function H(t){this[ot]=I(),this._result=this._state=void 0,this._subscribers=[],m!==t&&("function"!=typeof t&&U(),this instanceof H?O(this,t):V())}function W(){var t=void 0;if("undefined"!=typeof i)t=i;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=H}var q=void 0;q=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var G=q,Y=0,X=void 0,K=void 0,Z=function(t,e){rt[Y]=t,rt[Y+1]=e,Y+=2,2===Y&&(K?K(f):nt())},J="undefined"!=typeof window?window:void 0,$=J||{},Q=$.MutationObserver||$.WebKitMutationObserver,tt="undefined"==typeof self&&"undefined"!=typeof e&&"[object process]"==={}.toString.call(e),et="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,rt=new Array(1e3),nt=void 0;nt=tt?s():Q?u():et?c():void 0===J&&"function"==typeof r?h():p();var ot=Math.random().toString(36).substring(16),it=void 0,at=1,st=2,lt=new P,ut=new P,ct=0;return N.prototype._enumerate=function(){for(var t=this.length,e=this._input,r=0;this._state===it&&r<t;r++)this._eachEntry(e[r],r)},N.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===y){var o=b(t);if(o===d&&t._state!==it)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(r===H){var i=new r(m);T(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},N.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===it&&(this._remaining--,t===st?k(n,r):this._result[e]=r),0===this._remaining&&E(n,this._result)},N.prototype._willSettleAt=function(t,e){var r=this;C(t,void 0,function(t){return r._settledAt(at,e,t)},function(t){return r._settledAt(st,e,t)})},H.all=F,H.race=z,H.resolve=y,H.reject=B,H._setScheduler=o,H._setAsap=a,H._asap=Z,H.prototype={constructor:H,then:d,catch:function(t){return this.then(null,t)}},W(),H.polyfill=W,H.Promise=H,H})}).call(this,r("_process"),"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:466}],111:[function(t,e,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(t){return"function"==typeof t}function i(t){return"number"==typeof t}function a(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,r,n,i,l,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(r=this._events[t],s(r))return!1;if(o(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(a(r))for(i=Array.prototype.slice.call(arguments,1),u=r.slice(),n=u.length,l=0;l<n;l++)u[l].apply(this,i);return!0},n.prototype.addListener=function(t,e){var r;if(!o(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,o(e.listener)?e.listener:e),this._events[t]?a(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,a(this._events[t])&&!this._events[t].warned&&(r=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}if(!o(e))throw TypeError("listener must be a function");var n=!1;return r.listener=e,this.on(t,r),this},n.prototype.removeListener=function(t,e){var r,n,i,s;if(!o(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],i=r.length,n=-1,r===e||o(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(a(r)){for(s=i;s-- >0;)if(r[s]===e||r[s].listener&&r[s].listener===e){n=s;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],o(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?o(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(o(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},{}],112:[function(t,e,r){"use strict";function n(t,e,r){var n=e||0,o=r||1;return[[t[12]+t[0],t[13]+t[1],t[14]+t[2],t[15]+t[3]],[t[12]-t[0],t[13]-t[1],t[14]-t[2],t[15]-t[3]],[t[12]+t[4],t[13]+t[5],t[14]+t[6],t[15]+t[7]],[t[12]-t[4],t[13]-t[5],t[14]-t[6],t[15]-t[7]],[n*t[12]+t[8],n*t[13]+t[9],n*t[14]+t[10],n*t[15]+t[11]],[o*t[12]-t[8],o*t[13]-t[9],o*t[14]-t[10],o*t[15]-t[11]]]}e.exports=n},{}],113:[function(t,e,r){"use strict";function n(t){for(var e,r=t.length,n=0;n<r;n++)if(e=t.charCodeAt(n),(e<9||e>13)&&32!==e&&133!==e&&160!==e&&5760!==e&&6158!==e&&(e<8192||e>8205)&&8232!==e&&8233!==e&&8239!==e&&8287!==e&&8288!==e&&12288!==e&&65279!==e)return!1;return!0}e.exports=function(t){var e=typeof t;if("string"===e){var r=t;if(t=+t,0===t&&n(r))return!1}else if("number"!==e)return!1;return t-t<1}},{}],114:[function(t,e,r){"use strict";function n(t){return new Function("f","var p = (f && f.properties || {}); return "+o(t))}function o(t){if(!t)return"true";var e=t[0];if(t.length<=1)return"any"===e?"false":"true";var r="=="===e?a(t[1],t[2],"===",!1):"!="===e?a(t[1],t[2],"!==",!1):"<"===e||">"===e||"<="===e||">="===e?a(t[1],t[2],e,!0):"any"===e?s(t.slice(1),"||"):"all"===e?s(t.slice(1),"&&"):"none"===e?c(s(t.slice(1),"||")):"in"===e?l(t[1],t.slice(2)):"!in"===e?c(l(t[1],t.slice(2))):"has"===e?u(t[1]):"!has"===e?c(u([t[1]])):"true";return"("+r+")"}function i(t){return"$type"===t?"f.type":"$id"===t?"f.id":"p["+JSON.stringify(t)+"]"}function a(t,e,r,n){var o=i(t),a="$type"===t?f.indexOf(e):JSON.stringify(e);return(n?"typeof "+o+"=== typeof "+a+"&&":"")+o+r+a}function s(t,e){return t.map(o).join(e)}function l(t,e){"$type"===t&&(e=e.map(function(t){return f.indexOf(t)}));var r=JSON.stringify(e.sort(p)),n=i(t);return e.length<=200?r+".indexOf("+n+") !== -1":"function(v, a, i, j) {while (i <= j) { var m = (i + j) >> 1;    if (a[m] === v) return true; if (a[m] > v) j = m - 1; else i = m + 1;}return false; }("+n+", "+r+",0,"+(e.length-1)+")"}function u(t){return JSON.stringify(t)+" in p"}function c(t){return"!("+t+")"}function p(t,e){return t<e?-1:t>e?1:0}e.exports=n;var f=["Unknown","Point","LineString","Polygon"]},{}],115:[function(t,e,r){"use strict";function n(t,e,r){return Math.min(e,Math.max(t,r))}function o(t,e,r){this.dimension=t.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var n=0;n<this.dimension;++n)this.bounds[0][n]=-(1/0),this.bounds[1][n]=1/0;this._state=t.slice().reverse(),this._velocity=e.slice().reverse(),this._time=[r],this._scratch=[t.slice(),t.slice(),t.slice(),t.slice(),t.slice()]}function i(t){for(var e=new Array(t),r=0;r<t;++r)e[r]=0;return e}function a(t,e,r){switch(arguments.length){case 0:return new o([0],[0],0);case 1:if("number"==typeof t){var n=i(t);return new o(n,n,0)}return new o(t,i(t.length),0);case 2:if("number"==typeof e){var n=i(t.length);return new o(t,n,+e)}r=0;case 3:if(t.length!==e.length)throw new Error("state and velocity lengths must match");return new o(t,e,r)}}e.exports=a;var s=t("cubic-hermite"),l=t("binary-search-bounds"),u=o.prototype;u.flush=function(t){var e=l.gt(this._time,t)-1;e<=0||(this._time.splice(0,e),this._state.splice(0,e*this.dimension),this._velocity.splice(0,e*this.dimension))},u.curve=function(t){var e=this._time,r=e.length,o=l.le(e,t),i=this._scratch[0],a=this._state,u=this._velocity,c=this.dimension,p=this.bounds;if(o<0)for(var f=c-1,h=0;h<c;++h,--f)i[h]=a[f];else if(o>=r-1)for(var f=a.length-1,d=t-e[r-1],h=0;h<c;++h,--f)i[h]=a[f]+d*u[f];else{for(var f=c*(o+1)-1,y=e[o],m=e[o+1],v=m-y||1,g=this._scratch[1],b=this._scratch[2],x=this._scratch[3],_=this._scratch[4],w=!0,h=0;h<c;++h,--f)g[h]=a[f],x[h]=u[f]*v,b[h]=a[f+c],_[h]=u[f+c]*v,w=w&&g[h]===b[h]&&x[h]===_[h]&&0===x[h];if(w)for(var h=0;h<c;++h)i[h]=g[h];else s(g,x,b,_,(t-y)/v,i)}for(var T=p[0],M=p[1],h=0;h<c;++h)i[h]=n(T[h],M[h],i[h]);return i},u.dcurve=function(t){var e=this._time,r=e.length,n=l.le(e,t),o=this._scratch[0],i=this._state,a=this._velocity,u=this.dimension;if(n>=r-1)for(var c=i.length-1,p=(t-e[r-1],0);p<u;++p,--c)o[p]=a[c];else{for(var c=u*(n+1)-1,f=e[n],h=e[n+1],d=h-f||1,y=this._scratch[1],m=this._scratch[2],v=this._scratch[3],g=this._scratch[4],b=!0,p=0;p<u;++p,--c)y[p]=i[c],v[p]=a[c]*d,m[p]=i[c+u],g[p]=a[c+u]*d,b=b&&y[p]===m[p]&&v[p]===g[p]&&0===v[p];if(b)for(var p=0;p<u;++p)o[p]=0;else{s.derivative(y,v,m,g,(t-f)/d,o);for(var p=0;p<u;++p)o[p]/=d}}return o},u.lastT=function(){var t=this._time;return t[t.length-1]},u.stable=function(){for(var t=this._velocity,e=t.length,r=this.dimension-1;r>=0;--r)if(t[--e])return!1;return!0},u.jump=function(t){var e=this.lastT(),r=this.dimension;if(!(t<e||arguments.length!==r+1)){var o=this._state,i=this._velocity,a=o.length-this.dimension,s=this.bounds,l=s[0],u=s[1];this._time.push(e,t);for(var c=0;c<2;++c)for(var p=0;p<r;++p)o.push(o[a++]),i.push(0);this._time.push(t);for(var p=r;p>0;--p)o.push(n(l[p-1],u[p-1],arguments[p])),i.push(0)}},u.push=function(t){var e=this.lastT(),r=this.dimension;if(!(t<e||arguments.length!==r+1)){var o=this._state,i=this._velocity,a=o.length-this.dimension,s=t-e,l=this.bounds,u=l[0],c=l[1],p=s>1e-6?1/s:0;this._time.push(t);for(var f=r;f>0;--f){var h=n(u[f-1],c[f-1],arguments[f]);o.push(h),i.push((h-o[a++])*p)}}},u.set=function(t){var e=this.dimension;if(!(t<this.lastT()||arguments.length!==e+1)){var r=this._state,o=this._velocity,i=this.bounds,a=i[0],s=i[1];this._time.push(t);for(var l=e;l>0;--l)r.push(n(a[l-1],s[l-1],arguments[l])),o.push(0)}},u.move=function(t){var e=this.lastT(),r=this.dimension;if(!(t<=e||arguments.length!==r+1)){var o=this._state,i=this._velocity,a=o.length-this.dimension,s=this.bounds,l=s[0],u=s[1],c=t-e,p=c>1e-6?1/c:0;this._time.push(t);for(var f=r;f>0;--f){var h=arguments[f];o.push(n(l[f-1],u[f-1],o[a++]+h)),i.push(h*p)}}},u.idle=function(t){var e=this.lastT();if(!(t<e)){var r=this.dimension,o=this._state,i=this._velocity,a=o.length-r,s=this.bounds,l=s[0],u=s[1],c=t-e;this._time.push(t);for(var p=r-1;p>=0;--p)o.push(n(l[p],u[p],o[a]+c*i[a])),i.push(0),a+=1}}},{"binary-search-bounds":56,"cubic-hermite":99}],116:[function(t,e,r){"use strict";function n(t){t=t||{};var e,r,n=t.canvas||document.createElement("canvas"),i=t.family||"monospace",a=t.shape||[512,512],s=t.step||[32,32],l=t.size||16,u=t.chars||[32,126],c=Math.floor((s[0]-l)/2),p=t.radius||1.5*c,f=new o(l,c,p,0,i);if("number"==typeof l&&(l+="px"),Array.isArray(u)){if(2===u.length&&"number"==typeof u[0]&&"number"==typeof u[1]){var h=[];for(e=u[0],r=0;e<=u[1];e++)h[r++]=String.fromCharCode(e);u=h}}else u=String(u).split("");a=a.slice(),n.width=a[0],n.height=a[1];var d=n.getContext("2d");d.fillStyle="#000",d.fillRect(0,0,n.width,n.height),d.font=l+" "+i,d.textBaseline="middle";var y=0,m=0,v=Math.min(u.length,Math.floor(a[0]/s[0])*Math.ceil(a[1]/s[1])),g=f.ctx.textAlign,b=f.buffer;for(f.ctx.textAlign="center",f.buffer=f.size/2,e=0;e<v;e++){var x=f.draw(u[e]);d.putImageData(x,y,m),y+=s[0],y>a[0]-s[0]&&(y=0,m+=s[1])}return f.ctx.textAlign=g,f.buffer=b,n}var o=t("tiny-sdf");e.exports=n},{"tiny-sdf":511}],117:[function(t,e,r){"use strict";function n(t,e,r,n,o,i){this._color=t,this.key=e,this.value=r,this.left=n,this.right=o,this._count=i}function o(t){return new n(t._color,t.key,t.value,t.left,t.right,t._count)}function i(t,e){return new n(t,e.key,e.value,e.left,e.right,e._count)}function a(t){t._count=1+(t.left?t.left._count:0)+(t.right?t.right._count:0)}function s(t,e){this._compare=t,this.root=e}function l(t,e){if(e.left){var r=l(t,e.left);if(r)return r}var r=t(e.key,e.value);return r?r:e.right?l(t,e.right):void 0}function u(t,e,r,n){var o=e(t,n.key);if(o<=0){if(n.left){var i=u(t,e,r,n.left);if(i)return i}var i=r(n.key,n.value);if(i)return i}if(n.right)return u(t,e,r,n.right)}function c(t,e,r,n,o){var i,a=r(t,o.key),s=r(e,o.key);if(a<=0){if(o.left&&(i=c(t,e,r,n,o.left)))return i;if(s>0&&(i=n(o.key,o.value)))return i}if(s>0&&o.right)return c(t,e,r,n,o.right)}function p(t,e){this.tree=t,this._stack=e}function f(t,e){t.key=e.key,t.value=e.value,t.left=e.left,t.right=e.right,t._color=e._color,t._count=e._count}function h(t){for(var e,r,n,s,l=t.length-1;l>=0;--l){if(e=t[l],0===l)return void(e._color=v);if(r=t[l-1],r.left===e){if(n=r.right,n.right&&n.right._color===m){if(n=r.right=o(n),s=n.right=o(n.right),r.right=n.left,n.left=r,n.right=s,n._color=r._color,e._color=v,r._color=v,s._color=v,a(r),a(n),l>1){var u=t[l-2];u.left===r?u.left=n:u.right=n}return void(t[l-1]=n)}if(n.left&&n.left._color===m){if(n=r.right=o(n),s=n.left=o(n.left),r.right=s.left,n.left=s.right,s.left=r,s.right=n,s._color=r._color,r._color=v,n._color=v,e._color=v,a(r),a(n),a(s),l>1){var u=t[l-2];u.left===r?u.left=s:u.right=s}return void(t[l-1]=s)}if(n._color===v){if(r._color===m)return r._color=v,void(r.right=i(m,n));r.right=i(m,n);continue}if(n=o(n),r.right=n.left,n.left=r,n._color=r._color,r._color=m,a(r),a(n),l>1){var u=t[l-2];u.left===r?u.left=n:u.right=n}t[l-1]=n,t[l]=r,l+1<t.length?t[l+1]=e:t.push(e),l+=2}else{if(n=r.left,n.left&&n.left._color===m){if(n=r.left=o(n),s=n.left=o(n.left),r.left=n.right,n.right=r,n.left=s,n._color=r._color,e._color=v,r._color=v,s._color=v,a(r),a(n),l>1){var u=t[l-2];u.right===r?u.right=n:u.left=n}return void(t[l-1]=n)}if(n.right&&n.right._color===m){if(n=r.left=o(n),s=n.right=o(n.right),r.left=s.right,n.right=s.left,s.right=r,s.left=n,s._color=r._color,r._color=v,n._color=v,e._color=v,a(r),a(n),a(s),l>1){var u=t[l-2];u.right===r?u.right=s:u.left=s}return void(t[l-1]=s)}if(n._color===v){if(r._color===m)return r._color=v,void(r.left=i(m,n));r.left=i(m,n);continue}if(n=o(n),r.left=n.right,n.right=r,n._color=r._color,r._color=m,a(r),a(n),l>1){var u=t[l-2];u.right===r?u.right=n:u.left=n}t[l-1]=n,t[l]=r,l+1<t.length?t[l+1]=e:t.push(e),l+=2}}}function d(t,e){return t<e?-1:t>e?1:0}function y(t){return new s(t||d,null)}e.exports=y;var m=0,v=1,g=s.prototype;Object.defineProperty(g,"keys",{get:function(){var t=[];return this.forEach(function(e,r){t.push(e)}),t}}),Object.defineProperty(g,"values",{get:function(){var t=[];return this.forEach(function(e,r){t.push(r)}),t}}),Object.defineProperty(g,"length",{get:function(){return this.root?this.root._count:0}}),g.insert=function(t,e){for(var r=this._compare,o=this.root,l=[],u=[];o;){var c=r(t,o.key);l.push(o),u.push(c),o=c<=0?o.left:o.right}l.push(new n(m,t,e,null,null,1));for(var p=l.length-2;p>=0;--p){var o=l[p];u[p]<=0?l[p]=new n(o._color,o.key,o.value,l[p+1],o.right,o._count+1):l[p]=new n(o._color,o.key,o.value,o.left,l[p+1],o._count+1)}for(var p=l.length-1;p>1;--p){var f=l[p-1],o=l[p];if(f._color===v||o._color===v)break;var h=l[p-2];if(h.left===f)if(f.left===o){var d=h.right;if(!d||d._color!==m){if(h._color=m,h.left=f.right,f._color=v,f.right=h,l[p-2]=f,l[p-1]=o,a(h),a(f),p>=3){var y=l[p-3];y.left===h?y.left=f:y.right=f}break}f._color=v,h.right=i(v,d),h._color=m,p-=1}else{var d=h.right;if(!d||d._color!==m){if(f.right=o.left,h._color=m,h.left=o.right,o._color=v,o.left=f,o.right=h,l[p-2]=o,l[p-1]=f,a(h),a(f),a(o),p>=3){var y=l[p-3];y.left===h?y.left=o:y.right=o}break}f._color=v,h.right=i(v,d),h._color=m,p-=1}else if(f.right===o){var d=h.left;if(!d||d._color!==m){if(h._color=m,h.right=f.left,f._color=v,f.left=h,l[p-2]=f,l[p-1]=o,a(h),a(f),p>=3){var y=l[p-3];y.right===h?y.right=f:y.left=f}break}f._color=v,h.left=i(v,d),h._color=m,p-=1}else{var d=h.left;if(!d||d._color!==m){if(f.left=o.right,h._color=m,h.right=o.left,o._color=v,o.right=f,o.left=h,l[p-2]=o,l[p-1]=f,a(h),a(f),a(o),p>=3){var y=l[p-3];y.right===h?y.right=o:y.left=o}break}f._color=v,h.left=i(v,d),h._color=m,p-=1}}return l[0]._color=v,new s(r,l[0])},g.forEach=function(t,e,r){if(this.root)switch(arguments.length){case 1:return l(t,this.root);case 2:return u(e,this._compare,t,this.root);case 3:if(this._compare(e,r)>=0)return;return c(e,r,this._compare,t,this.root)}},Object.defineProperty(g,"begin",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.left;return new p(this,t)}}),Object.defineProperty(g,"end",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.right;return new p(this,t)}}),g.at=function(t){if(t<0)return new p(this,[]);for(var e=this.root,r=[];;){if(r.push(e),e.left){if(t<e.left._count){e=e.left;continue}t-=e.left._count}if(!t)return new p(this,r);if(t-=1,!e.right)break;if(t>=e.right._count)break;e=e.right}return new p(this,[])},g.ge=function(t){for(var e=this._compare,r=this.root,n=[],o=0;r;){var i=e(t,r.key);n.push(r),i<=0&&(o=n.length),r=i<=0?r.left:r.right}return n.length=o,new p(this,n)},g.gt=function(t){for(var e=this._compare,r=this.root,n=[],o=0;r;){var i=e(t,r.key);n.push(r),i<0&&(o=n.length),r=i<0?r.left:r.right}return n.length=o,new p(this,n)},g.lt=function(t){for(var e=this._compare,r=this.root,n=[],o=0;r;){var i=e(t,r.key);n.push(r),i>0&&(o=n.length),r=i<=0?r.left:r.right}return n.length=o,new p(this,n)},g.le=function(t){for(var e=this._compare,r=this.root,n=[],o=0;r;){var i=e(t,r.key);n.push(r),i>=0&&(o=n.length),r=i<0?r.left:r.right}return n.length=o,new p(this,n)},g.find=function(t){for(var e=this._compare,r=this.root,n=[];r;){var o=e(t,r.key);if(n.push(r),0===o)return new p(this,n);r=o<=0?r.left:r.right}return new p(this,[])},g.remove=function(t){var e=this.find(t);return e?e.remove():this},g.get=function(t){for(var e=this._compare,r=this.root;r;){var n=e(t,r.key);if(0===n)return r.value;r=n<=0?r.left:r.right}};var b=p.prototype;Object.defineProperty(b,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(b,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),b.clone=function(){return new p(this.tree,this._stack.slice())},b.remove=function(){var t=this._stack;if(0===t.length)return this.tree;var e=new Array(t.length),r=t[t.length-1];e[e.length-1]=new n(r._color,r.key,r.value,r.left,r.right,r._count);for(var o=t.length-2;o>=0;--o){var r=t[o];r.left===t[o+1]?e[o]=new n(r._color,r.key,r.value,e[o+1],r.right,r._count):e[o]=new n(r._color,r.key,r.value,r.left,e[o+1],r._count)}if(r=e[e.length-1],r.left&&r.right){var i=e.length;for(r=r.left;r.right;)e.push(r),r=r.right;var a=e[i-1];e.push(new n(r._color,a.key,a.value,r.left,r.right,r._count)),e[i-1].key=r.key,e[i-1].value=r.value;for(var o=e.length-2;o>=i;--o)r=e[o],e[o]=new n(r._color,r.key,r.value,r.left,e[o+1],r._count);e[i-1].left=e[i]}if(r=e[e.length-1],r._color===m){var l=e[e.length-2];l.left===r?l.left=null:l.right===r&&(l.right=null),e.pop();for(var o=0;o<e.length;++o)e[o]._count--;return new s(this.tree._compare,e[0])}if(r.left||r.right){r.left?f(r,r.left):r.right&&f(r,r.right),r._color=v;for(var o=0;o<e.length-1;++o)e[o]._count--;return new s(this.tree._compare,e[0])}if(1===e.length)return new s(this.tree._compare,null);for(var o=0;o<e.length;++o)e[o]._count--;var u=e[e.length-2];return h(e),u.left===r?u.left=null:u.right=null,new s(this.tree._compare,e[0])},Object.defineProperty(b,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(b,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(b,"index",{get:function(){var t=0,e=this._stack;if(0===e.length){var r=this.tree.root;return r?r._count:0}e[e.length-1].left&&(t=e[e.length-1].left._count);for(var n=e.length-2;n>=0;--n)e[n+1]===e[n].right&&(++t,e[n].left&&(t+=e[n].left._count));return t},enumerable:!0}),b.next=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.right)for(e=e.right;e;)t.push(e),e=e.left;else for(t.pop();t.length>0&&t[t.length-1].right===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(b,"hasNext",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].right)return!0;for(var e=t.length-1;e>0;--e)if(t[e-1].left===t[e])return!0;return!1}}),b.update=function(t){var e=this._stack;if(0===e.length)throw new Error("Can't update empty node!");var r=new Array(e.length),o=e[e.length-1];r[r.length-1]=new n(o._color,o.key,t,o.left,o.right,o._count);for(var i=e.length-2;i>=0;--i)o=e[i],o.left===e[i+1]?r[i]=new n(o._color,o.key,o.value,r[i+1],o.right,o._count):r[i]=new n(o._color,o.key,o.value,o.left,r[i+1],o._count);return new s(this.tree._compare,r[0])},b.prev=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.left)for(e=e.left;e;)t.push(e),e=e.right;else for(t.pop();t.length>0&&t[t.length-1].left===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(b,"hasPrev",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].left)return!0;for(var e=t.length-1;e>0;--e)if(t[e-1].right===t[e])return!0;return!1}})},{}],118:[function(t,e,r){function n(t){if(t<0)return Number("0/0");for(var e=s[0],r=s.length-1;r>0;--r)e+=s[r]/(t+r);var n=t+a+.5;return.5*Math.log(2*Math.PI)+(t+.5)*Math.log(n)-n+Math.log(e)-Math.log(t)}var o=7,i=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7],a=607/128,s=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];e.exports=function t(e){if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*t(1-e));if(e>100)return Math.exp(n(e));e-=1;for(var r=i[0],a=1;a<o+2;a++)r+=i[a]/(e+a);var s=e+o+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,e+.5)*Math.exp(-s)*r},e.exports.log=n},{}],119:[function(t,e,r){function n(t){if("Polygon"===t.type)return o(t.coordinates);if("MultiPolygon"===t.type){for(var e=0,r=0;r<t.coordinates.length;r++)e+=o(t.coordinates[r]);return e}return null}function o(t){var e=0;if(t&&t.length>0){e+=Math.abs(i(t[0]));for(var r=1;r<t.length;r++)e-=Math.abs(i(t[r]))}return e}function i(t){var e=0;if(t.length>2){for(var r,n,o=0;o<t.length-1;o++)r=t[o],n=t[o+1],e+=a(n[0]-r[0])*(2+Math.sin(a(r[1]))+Math.sin(a(n[1])));e=e*s.RADIUS*s.RADIUS/2}return e}function a(t){return t*Math.PI/180}var s=t("wgs84");e.exports.geometry=n,e.exports.ring=i},{wgs84:543}],120:[function(t,e,r){function n(t,e){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(o(n,e)),t;case"Feature":return t.geometry=n(t.geometry,e),t;case"Polygon":case"MultiPolygon":return i(t,e);default:return t}}function o(t,e){return function(r){return t(r,e)}}function i(t,e){return"Polygon"===t.type?t.coordinates=a(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(o(a,e))),t}function a(t,e){e=!!e,t[0]=s(t[0],!e);for(var r=1;r<t.length;r++)t[r]=s(t[r],e);return t}function s(t,e){return l(t)===e?t:t.reverse()}function l(t){return u.ring(t)>=0}var u=t("geojson-area");e.exports=n},{"geojson-area":119}],121:[function(t,e,r){"use strict";function n(t,e,r,n,a,l,u,c){if(r/=e,n/=e,u>=r&&c<=n)return t;if(u>n||c<r)return null;for(var p=[],f=0;f<t.length;f++){var h,d,y=t[f],m=y.geometry,v=y.type;if(h=y.min[a],d=y.max[a],h>=r&&d<=n)p.push(y);else if(!(h>n||d<r)){var g=1===v?o(m,r,n,a):i(m,r,n,a,l,3===v);g.length&&p.push(s(y.tags,v,g,y.id))}}return p.length?p:null}function o(t,e,r,n){for(var o=[],i=0;i<t.length;i++){var a=t[i],s=a[n];s>=e&&s<=r&&o.push(a)}return o}function i(t,e,r,n,o,i){for(var s=[],l=0;l<t.length;l++){var u,c,p,f=0,h=0,d=null,y=t[l],m=y.area,v=y.dist,g=y.outer,b=y.length,x=[];for(c=0;c<b-1;c++)u=d||y[c],d=y[c+1],f=h||u[n],h=d[n],f<e?h>r?(x.push(o(u,d,e),o(u,d,r)),i||(x=a(s,x,m,v,g))):h>=e&&x.push(o(u,d,e)):f>r?h<e?(x.push(o(u,d,r),o(u,d,e)),i||(x=a(s,x,m,v,g))):h<=r&&x.push(o(u,d,r)):(x.push(u),h<e?(x.push(o(u,d,e)),i||(x=a(s,x,m,v,g))):h>r&&(x.push(o(u,d,r)),i||(x=a(s,x,m,v,g))));u=y[b-1],f=u[n],f>=e&&f<=r&&x.push(u),p=x[x.length-1],i&&p&&(x[0][0]!==p[0]||x[0][1]!==p[1])&&x.push(x[0]),a(s,x,m,v,g)}return s}function a(t,e,r,n,o){return e.length&&(e.area=r,e.dist=n,void 0!==o&&(e.outer=o),t.push(e)),[]}e.exports=n;var s=t("./feature")},{"./feature":123}],122:[function(t,e,r){"use strict";function n(t,e){var r=[];if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)o(r,t.features[n],e);else"Feature"===t.type?o(r,t,e):o(r,{geometry:t},e);return r}function o(t,e,r){if(null!==e.geometry){var n,s,l,c,p=e.geometry,f=p.type,h=p.coordinates,d=e.properties,y=e.id;if("Point"===f)t.push(u(d,1,[a(h)],y));else if("MultiPoint"===f)t.push(u(d,1,i(h),y));else if("LineString"===f)t.push(u(d,2,[i(h,r)],y));else if("MultiLineString"===f||"Polygon"===f){for(l=[],n=0;n<h.length;n++)c=i(h[n],r),"Polygon"===f&&(c.outer=0===n),l.push(c);t.push(u(d,"Polygon"===f?3:2,l,y))}else if("MultiPolygon"===f){for(l=[],n=0;n<h.length;n++)for(s=0;s<h[n].length;s++)c=i(h[n][s],r),c.outer=0===s,l.push(c);t.push(u(d,3,l,y))}else{if("GeometryCollection"!==f)throw new Error("Input data is not a valid GeoJSON object.");for(n=0;n<p.geometries.length;n++)o(t,{geometry:p.geometries[n],properties:d},r)}}}function i(t,e){for(var r=[],n=0;n<t.length;n++)r.push(a(t[n]));return e&&(l(r,e),s(r)),r}function a(t){var e=Math.sin(t[1]*Math.PI/180),r=t[0]/360+.5,n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n=n<0?0:n>1?1:n,[r,n,0]}function s(t){for(var e,r,n=0,o=0,i=0;i<t.length-1;i++)e=r||t[i],r=t[i+1],n+=e[0]*r[1]-r[0]*e[1],o+=Math.abs(r[0]-e[0])+Math.abs(r[1]-e[1]);t.area=Math.abs(n/2),t.dist=o}e.exports=n;var l=t("./simplify"),u=t("./feature")},{"./feature":123,"./simplify":125}],123:[function(t,e,r){"use strict";function n(t,e,r,n){var i={id:n||null,type:e,geometry:r,tags:t||null,min:[1/0,1/0],max:[-(1/0),-(1/0)]};return o(i),i}function o(t){var e=t.geometry,r=t.min,n=t.max;if(1===t.type)i(r,n,e);else for(var o=0;o<e.length;o++)i(r,n,e[o]);return t}function i(t,e,r){for(var n,o=0;o<r.length;o++)n=r[o],t[0]=Math.min(n[0],t[0]),e[0]=Math.max(n[0],e[0]),t[1]=Math.min(n[1],t[1]),e[1]=Math.max(n[1],e[1])}e.exports=n},{}],124:[function(t,e,r){"use strict";function n(t,e){return new o(t,e)}function o(t,e){e=this.options=l(Object.create(this.options),e);var r=e.debug;r&&console.time("preprocess data");var n=1<<e.maxZoom,o=c(t,e.tolerance/(n*e.extent));
this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),o=h(o,e.buffer/e.extent,a),o.length&&this.splitTile(o,0,0,0),r&&(o.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function i(t,e,r){return 32*((1<<t)*r+e)+t}function a(t,e,r){return[r,(r-t[0])*(e[1]-t[1])/(e[0]-t[0])+t[1],1]}function s(t,e,r){return[(r-t[1])*(e[0]-t[0])/(e[1]-t[1])+t[0],r,1]}function l(t,e){for(var r in e)t[r]=e[r];return t}function u(t,e,r){var n=t.source;if(1!==n.length)return!1;var o=n[0];if(3!==o.type||o.geometry.length>1)return!1;var i=o.geometry[0].length;if(5!==i)return!1;for(var a=0;a<i;a++){var s=p.point(o.geometry[0][a],e,t.z2,t.x,t.y);if(s[0]!==-r&&s[0]!==e+r||s[1]!==-r&&s[1]!==e+r)return!1}return!0}e.exports=n;var c=t("./convert"),p=t("./transform"),f=t("./clip"),h=t("./wrap"),d=t("./tile");o.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,solidChildren:!1,tolerance:3,extent:4096,buffer:64,debug:0},o.prototype.splitTile=function(t,e,r,n,o,l,c){for(var p=[t,e,r,n],h=this.options,y=h.debug,m=null;p.length;){n=p.pop(),r=p.pop(),e=p.pop(),t=p.pop();var v=1<<e,g=i(e,r,n),b=this.tiles[g],x=e===h.maxZoom?0:h.tolerance/(v*h.extent);if(!b&&(y>1&&console.time("creation"),b=this.tiles[g]=d(t,v,r,n,x,e===h.maxZoom),this.tileCoords.push({z:e,x:r,y:n}),y)){y>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,r,n,b.numFeatures,b.numPoints,b.numSimplified),console.timeEnd("creation"));var _="z"+e;this.stats[_]=(this.stats[_]||0)+1,this.total++}if(b.source=t,o){if(e===h.maxZoom||e===o)continue;var w=1<<o-e;if(r!==Math.floor(l/w)||n!==Math.floor(c/w))continue}else if(e===h.indexMaxZoom||b.numPoints<=h.indexMaxPoints)continue;if(h.solidChildren||!u(b,h.extent,h.buffer)){b.source=null,y>1&&console.time("clipping");var T,M,S,E,k,C,A=.5*h.buffer/h.extent,P=.5-A,L=.5+A,D=1+A;T=M=S=E=null,k=f(t,v,r-A,r+L,0,a,b.min[0],b.max[0]),C=f(t,v,r+P,r+D,0,a,b.min[0],b.max[0]),k&&(T=f(k,v,n-A,n+L,1,s,b.min[1],b.max[1]),M=f(k,v,n+P,n+D,1,s,b.min[1],b.max[1])),C&&(S=f(C,v,n-A,n+L,1,s,b.min[1],b.max[1]),E=f(C,v,n+P,n+D,1,s,b.min[1],b.max[1])),y>1&&console.timeEnd("clipping"),t.length&&(p.push(T||[],e+1,2*r,2*n),p.push(M||[],e+1,2*r,2*n+1),p.push(S||[],e+1,2*r+1,2*n),p.push(E||[],e+1,2*r+1,2*n+1))}else o&&(m=e)}return m},o.prototype.getTile=function(t,e,r){var n=this.options,o=n.extent,a=n.debug,s=1<<t;e=(e%s+s)%s;var l=i(t,e,r);if(this.tiles[l])return p.tile(this.tiles[l],o);a>1&&console.log("drilling down to z%d-%d-%d",t,e,r);for(var c,f=t,h=e,d=r;!c&&f>0;)f--,h=Math.floor(h/2),d=Math.floor(d/2),c=this.tiles[i(f,h,d)];if(!c||!c.source)return null;if(a>1&&console.log("found parent tile z%d-%d-%d",f,h,d),u(c,o,n.buffer))return p.tile(c,o);a>1&&console.time("drilling down");var y=this.splitTile(c.source,f,h,d,t,e,r);if(a>1&&console.timeEnd("drilling down"),null!==y){var m=1<<t-y;l=i(y,Math.floor(e/m),Math.floor(r/m))}return this.tiles[l]?p.tile(this.tiles[l],o):null}},{"./clip":121,"./convert":122,"./tile":126,"./transform":127,"./wrap":128}],125:[function(t,e,r){"use strict";function n(t,e){var r,n,i,a,s=e*e,l=t.length,u=0,c=l-1,p=[];for(t[u][2]=1,t[c][2]=1;c;){for(n=0,r=u+1;r<c;r++)i=o(t[r],t[u],t[c]),i>n&&(a=r,n=i);n>s?(t[a][2]=n,p.push(u),p.push(a),u=a):(c=p.pop(),u=p.pop())}}function o(t,e,r){var n=e[0],o=e[1],i=r[0],a=r[1],s=t[0],l=t[1],u=i-n,c=a-o;if(0!==u||0!==c){var p=((s-n)*u+(l-o)*c)/(u*u+c*c);p>1?(n=i,o=a):p>0&&(n+=u*p,o+=c*p)}return u=s-n,c=l-o,u*u+c*c}e.exports=n},{}],126:[function(t,e,r){"use strict";function n(t,e,r,n,i,a){for(var s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:n,z2:e,transformed:!1,min:[2,1],max:[-1,0]},l=0;l<t.length;l++){s.numFeatures++,o(s,t[l],i,a);var u=t[l].min,c=t[l].max;u[0]<s.min[0]&&(s.min[0]=u[0]),u[1]<s.min[1]&&(s.min[1]=u[1]),c[0]>s.max[0]&&(s.max[0]=c[0]),c[1]>s.max[1]&&(s.max[1]=c[1])}return s}function o(t,e,r,n){var o,a,s,l,u=e.geometry,c=e.type,p=[],f=r*r;if(1===c)for(o=0;o<u.length;o++)p.push(u[o]),t.numPoints++,t.numSimplified++;else for(o=0;o<u.length;o++)if(s=u[o],n||!(2===c&&s.dist<r||3===c&&s.area<f)){var h=[];for(a=0;a<s.length;a++)l=s[a],(n||l[2]>f)&&(h.push(l),t.numSimplified++),t.numPoints++;3===c&&i(h,s.outer),p.push(h)}else t.numPoints+=s.length;if(p.length){var d={geometry:p,type:c,tags:e.tags||null};null!==e.id&&(d.id=e.id),t.features.push(d)}}function i(t,e){var r=a(t);r<0===e&&t.reverse()}function a(t){for(var e,r,n=0,o=0,i=t.length,a=i-1;o<i;a=o++)e=t[o],r=t[a],n+=(r[0]-e[0])*(e[1]+r[1]);return n}e.exports=n},{}],127:[function(t,e,r){"use strict";function n(t,e){if(t.transformed)return t;var r,n,i,a=t.z2,s=t.x,l=t.y;for(r=0;r<t.features.length;r++){var u=t.features[r],c=u.geometry,p=u.type;if(1===p)for(n=0;n<c.length;n++)c[n]=o(c[n],e,a,s,l);else for(n=0;n<c.length;n++){var f=c[n];for(i=0;i<f.length;i++)f[i]=o(f[i],e,a,s,l)}}return t.transformed=!0,t}function o(t,e,r,n,o){var i=Math.round(e*(t[0]*r-n)),a=Math.round(e*(t[1]*r-o));return[i,a]}r.tile=n,r.point=o},{}],128:[function(t,e,r){"use strict";function n(t,e,r){var n=t,i=a(t,1,-1-e,e,0,r,-1,2),s=a(t,1,1-e,2+e,0,r,-1,2);return(i||s)&&(n=a(t,1,-e,1+e,0,r,-1,2)||[],i&&(n=o(i,1).concat(n)),s&&(n=n.concat(o(s,-1)))),n}function o(t,e){for(var r=[],n=0;n<t.length;n++){var o,a=t[n],l=a.type;if(1===l)o=i(a.geometry,e);else{o=[];for(var u=0;u<a.geometry.length;u++)o.push(i(a.geometry[u],e))}r.push(s(a.tags,l,o,a.id))}return r}function i(t,e){var r=[];r.area=t.area,r.dist=t.dist;for(var n=0;n<t.length;n++)r.push([t[n][0]+e,t[n][1],t[n][2]]);return r}var a=t("./clip"),s=t("./feature");e.exports=n},{"./clip":121,"./feature":123}],129:[function(t,e,r){function n(t,e){if("string"!=typeof t)throw new TypeError("must specify type string");if(e=e||{},"undefined"==typeof document&&!e.canvas)return null;var r=e.canvas||document.createElement("canvas");"number"==typeof e.width&&(r.width=e.width),"number"==typeof e.height&&(r.height=e.height);var n,o=e;try{var i=[t];0===t.indexOf("webgl")&&i.push("experimental-"+t);for(var a=0;a<i.length;a++)if(n=r.getContext(i[a],o))return n}catch(t){n=null}return n||null}e.exports=n},{}],130:[function(t,e,r){"use strict";function n(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function o(t){this.gl=t,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=c(t)}function i(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}function a(t,e,r,n,o){for(var i=t.primalOffset,a=t.primalMinor,s=t.mirrorOffset,l=t.mirrorMinor,u=n[e],c=0;c<3;++c)if(e!==c){var p=i,f=s,h=a,d=l;u&1<<c&&(p=s,f=i,h=l,d=a),p[c]=r[0][c],f[c]=r[1][c],o[c]>0?(h[c]=-1,d[c]=0):(h[c]=0,d[c]=1)}}function s(t,e){var r=new o(t);return r.update(e),r}e.exports=s;var l=t("./lib/text.js"),u=t("./lib/lines.js"),c=t("./lib/background.js"),p=t("./lib/cube.js"),f=t("./lib/ticks.js"),h=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),d=o.prototype;d.update=function(t){function e(e,r,n){if(n in t){var o,i=t[n],a=this[n];(e?Array.isArray(i)&&Array.isArray(i[0]):Array.isArray(i))?this[n]=o=[r(i[0]),r(i[1]),r(i[2])]:this[n]=o=[r(i),r(i),r(i)];for(var s=0;s<3;++s)if(o[s]!==a[s])return!0}return!1}t=t||{};var r,n=e.bind(this,!1,Number),o=e.bind(this,!1,Boolean),i=e.bind(this,!1,String),a=e.bind(this,!0,function(t){if(Array.isArray(t)){if(3===t.length)return[+t[0],+t[1],+t[2],1];if(4===t.length)return[+t[0],+t[1],+t[2],+t[3]]}return[0,0,0,1]}),s=!1,c=!1;if("bounds"in t)for(var p=t.bounds,h=0;h<2;++h)for(var d=0;d<3;++d)p[h][d]!==this.bounds[h][d]&&(c=!0),this.bounds[h][d]=p[h][d];if("ticks"in t){r=t.ticks,s=!0,this.autoTicks=!1;for(var h=0;h<3;++h)this.tickSpacing[h]=0}else n("tickSpacing")&&(this.autoTicks=!0,c=!0);if(this._firstInit&&("ticks"in t||"tickSpacing"in t||(this.autoTicks=!0),c=!0,s=!0,this._firstInit=!1),c&&this.autoTicks&&(r=f.create(this.bounds,this.tickSpacing),s=!0),s){for(var h=0;h<3;++h)r[h].sort(function(t,e){return t.x-e.x});f.equal(r,this.ticks)?s=!1:this.ticks=r}o("tickEnable"),i("tickFont")&&(s=!0),n("tickSize"),n("tickAngle"),n("tickPad"),a("tickColor");var y=i("labels");i("labelFont")&&(y=!0),o("labelEnable"),n("labelSize"),n("labelPad"),a("labelColor"),o("lineEnable"),o("lineMirror"),n("lineWidth"),a("lineColor"),o("lineTickEnable"),o("lineTickMirror"),n("lineTickLength"),n("lineTickWidth"),a("lineTickColor"),o("gridEnable"),n("gridWidth"),a("gridColor"),o("zeroEnable"),a("zeroLineColor"),n("zeroLineWidth"),o("backgroundEnable"),a("backgroundColor"),this._text?this._text&&(y||s)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=l(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&s&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=u(this.gl,this.bounds,this.ticks))};var y=[new i,new i,new i],m=[0,0,0],v={model:h,view:h,projection:h};d.isOpaque=function(){return!0},d.isTransparent=function(){return!1},d.drawTransparent=function(t){};var g=[0,0,0],b=[0,0,0],x=[0,0,0];d.draw=function(t){t=t||v;for(var e=this.gl,r=t.model||h,o=t.view||h,i=t.projection||h,s=this.bounds,l=p(r,o,i,s),u=l.cubeEdges,c=l.axis,f=o[12],d=o[13],_=o[14],w=o[15],T=this.pixelRatio*(i[3]*f+i[7]*d+i[11]*_+i[15]*w)/e.drawingBufferHeight,M=0;M<3;++M)this.lastCubeProps.cubeEdges[M]=u[M],this.lastCubeProps.axis[M]=c[M];for(var S=y,M=0;M<3;++M)a(y[M],M,this.bounds,u,c);for(var e=this.gl,E=m,M=0;M<3;++M)this.backgroundEnable[M]?E[M]=c[M]:E[M]=0;this._background.draw(r,o,i,s,E,this.backgroundColor),this._lines.bind(r,o,i,this);for(var M=0;M<3;++M){var k=[0,0,0];c[M]>0?k[M]=s[1][M]:k[M]=s[0][M];for(var C=0;C<2;++C){var A=(M+1+C)%3,P=(M+1+(1^C))%3;this.gridEnable[A]&&this._lines.drawGrid(A,P,this.bounds,k,this.gridColor[A],this.gridWidth[A]*this.pixelRatio)}for(var C=0;C<2;++C){var A=(M+1+C)%3,P=(M+1+(1^C))%3;this.zeroEnable[P]&&s[0][P]<=0&&s[1][P]>=0&&this._lines.drawZero(A,P,this.bounds,k,this.zeroLineColor[P],this.zeroLineWidth[P]*this.pixelRatio)}}for(var M=0;M<3;++M){this.lineEnable[M]&&this._lines.drawAxisLine(M,this.bounds,S[M].primalOffset,this.lineColor[M],this.lineWidth[M]*this.pixelRatio),this.lineMirror[M]&&this._lines.drawAxisLine(M,this.bounds,S[M].mirrorOffset,this.lineColor[M],this.lineWidth[M]*this.pixelRatio);for(var L=n(g,S[M].primalMinor),D=n(b,S[M].mirrorMinor),O=this.lineTickLength,C=0;C<3;++C){var I=T/r[5*C];L[C]*=O[C]*I,D[C]*=O[C]*I}this.lineTickEnable[M]&&this._lines.drawAxisTicks(M,S[M].primalOffset,L,this.lineTickColor[M],this.lineTickWidth[M]*this.pixelRatio),this.lineTickMirror[M]&&this._lines.drawAxisTicks(M,S[M].mirrorOffset,D,this.lineTickColor[M],this.lineTickWidth[M]*this.pixelRatio)}this._text.bind(r,o,i,this.pixelRatio);for(var M=0;M<3;++M){for(var R=S[M].primalMinor,N=n(x,S[M].primalOffset),C=0;C<3;++C)this.lineTickEnable[M]&&(N[C]+=T*R[C]*Math.max(this.lineTickLength[C],0)/r[5*C]);if(this.tickEnable[M]){for(var C=0;C<3;++C)N[C]+=T*R[C]*this.tickPad[C]/r[5*C];this._text.drawTicks(M,this.tickSize[M],this.tickAngle[M],N,this.tickColor[M])}if(this.labelEnable[M]){for(var C=0;C<3;++C)N[C]+=T*R[C]*this.labelPad[C]/r[5*C];N[M]+=.5*(s[0][M]+s[1][M]),this._text.drawLabel(M,this.labelSize[M],this.labelAngle[M],N,this.labelColor[M])}}},d.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},{"./lib/background.js":131,"./lib/cube.js":132,"./lib/lines.js":133,"./lib/text.js":135,"./lib/ticks.js":136}],131:[function(t,e,r){"use strict";function n(t,e,r,n){this.gl=t,this.buffer=e,this.vao=r,this.shader=n}function o(t){for(var e=[],r=[],o=0,l=0;l<3;++l)for(var u=(l+1)%3,c=(l+2)%3,p=[0,0,0],f=[0,0,0],h=-1;h<=1;h+=2){r.push(o,o+2,o+1,o+1,o+2,o+3),p[l]=h,f[l]=h;for(var d=-1;d<=1;d+=2){p[u]=d;for(var y=-1;y<=1;y+=2)p[c]=y,e.push(p[0],p[1],p[2],f[0],f[1],f[2]),o+=1}var m=u;u=c,c=m}var v=i(t,new Float32Array(e)),g=i(t,new Uint16Array(r),t.ELEMENT_ARRAY_BUFFER),b=a(t,[{buffer:v,type:t.FLOAT,size:3,offset:0,stride:24},{buffer:v,type:t.FLOAT,size:3,offset:12,stride:24}],g),x=s(t);return x.attributes.position.location=0,x.attributes.normal.location=1,new n(t,v,b,x)}e.exports=o;var i=t("gl-buffer"),a=t("gl-vao"),s=t("./shaders").bg,l=n.prototype;l.draw=function(t,e,r,n,o,i){for(var a=!1,s=0;s<3;++s)a=a||o[s];if(a){var l=this.gl;l.enable(l.POLYGON_OFFSET_FILL),l.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:t,view:e,projection:r,bounds:n,enable:o,colors:i},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),l.disable(l.POLYGON_OFFSET_FILL)}},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},{"./shaders":134,"gl-buffer":138,"gl-vao":253}],132:[function(t,e,r){"use strict";function n(t,e,r){for(var n=0;n<4;++n){t[n]=r[12+n];for(var o=0;o<3;++o)t[n]+=e[o]*r[4*o+n]}}function o(t){for(var e=0;e<y.length;++e)if(t=l.positive(t,y[e]),t.length<3)return 0;for(var r=t[0],n=r[0]/r[3],o=r[1]/r[3],i=0,e=1;e+1<t.length;++e){var a=t[e],s=t[e+1],u=a[0]/a[3],c=a[1]/a[3],p=s[0]/s[3],f=s[1]/s[3],h=u-n,d=c-o,m=p-n,v=f-o;i+=Math.abs(h*v-d*m)}return i}function i(t,e,r,i){s(c,e,t),s(c,r,c);for(var l=0,y=0;y<2;++y){h[2]=i[y][2];for(var b=0;b<2;++b){h[1]=i[b][1];for(var x=0;x<2;++x)h[0]=i[x][0],n(p[l],h,c),l+=1}}for(var _=-1,y=0;y<8;++y){for(var w=p[y][3],T=0;T<3;++T)f[y][T]=p[y][T]/w;w<0&&(_<0?_=y:f[y][2]<f[_][2]&&(_=y))}if(_<0){_=0;for(var M=0;M<3;++M){for(var S=(M+2)%3,E=(M+1)%3,k=-1,C=-1,A=0;A<2;++A){var P=A<<M,L=P+(A<<S)+(1-A<<E),D=P+(1-A<<S)+(A<<E);u(f[P],f[L],f[D],d)<0||(A?k=1:C=1)}if(k<0||C<0)C>k&&(_|=1<<M);else{for(var A=0;A<2;++A){var P=A<<M,L=P+(A<<S)+(1-A<<E),D=P+(1-A<<S)+(A<<E),O=o([p[P],p[L],p[D],p[P+(1<<S)+(1<<E)]]);A?k=O:C=O}C>k&&(_|=1<<M)}}}for(var I=7^_,R=-1,y=0;y<8;++y)y!==_&&y!==I&&(R<0?R=y:f[R][1]>f[y][1]&&(R=y));for(var N=-1,y=0;y<3;++y){var j=R^1<<y;if(j!==_&&j!==I){N<0&&(N=j);var E=f[j];E[0]<f[N][0]&&(N=j)}}for(var F=-1,y=0;y<3;++y){var j=R^1<<y;if(j!==_&&j!==I&&j!==N){F<0&&(F=j);var E=f[j];E[0]>f[F][0]&&(F=j)}}var z=m;z[0]=z[1]=z[2]=0,z[a.log2(N^R)]=R&N,z[a.log2(R^F)]=R&F;var B=7^F;B===_||B===I?(B=7^N,z[a.log2(F^B)]=B&F):z[a.log2(N^B)]=B&N;for(var U=v,V=_,M=0;M<3;++M)V&1<<M?U[M]=-1:U[M]=1;return g}e.exports=i;var a=t("bit-twiddle"),s=t("gl-mat4/multiply"),l=(t("gl-mat4/invert"),t("split-polygon")),u=t("robust-orientation"),c=new Array(16),p=(new Array(16),new Array(8)),f=new Array(8),h=new Array(3),d=[0,0,0];!function(){for(var t=0;t<8;++t)p[t]=[1,1,1,1],f[t]=[1,1,1]}();var y=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]],m=[1,1,1],v=[0,0,0],g={cubeEdges:m,axis:v}},{"bit-twiddle":57,"gl-mat4/invert":162,"gl-mat4/multiply":164,"robust-orientation":487,"split-polygon":505}],133:[function(t,e,r){"use strict";function n(t){return t[0]=t[1]=t[2]=0,t}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function i(t,e,r,n,o,i,a,s){this.gl=t,this.vertBuffer=e,this.vao=r,this.shader=n,this.tickCount=o,this.tickOffset=i,this.gridCount=a,this.gridOffset=s}function a(t,e,r){var n=[],o=[0,0,0],a=[0,0,0],c=[0,0,0],p=[0,0,0];n.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var f=0;f<3;++f){for(var h=n.length/3|0,d=0;d<r[f].length;++d){var y=+r[f][d].x;n.push(y,0,1,y,1,1,y,0,-1,y,0,-1,y,1,1,y,1,-1)}var m=n.length/3|0;o[f]=h,a[f]=m-h;for(var h=n.length/3|0,v=0;v<r[f].length;++v){var y=+r[f][v].x;n.push(y,0,1,y,1,1,y,0,-1,y,0,-1,y,1,1,y,1,-1)}var m=n.length/3|0;c[f]=h,p[f]=m-h}var g=s(t,new Float32Array(n)),b=l(t,[{buffer:g,type:t.FLOAT,size:3,stride:0,offset:0}]),x=u(t);return x.attributes.position.location=0,new i(t,g,b,x,a,o,p,c)}e.exports=a;var s=t("gl-buffer"),l=t("gl-vao"),u=t("./shaders").line,c=[0,0,0],p=[0,0,0],f=[0,0,0],h=[0,0,0],d=[1,1],y=i.prototype;y.bind=function(t,e,r){this.shader.bind(),this.shader.uniforms.model=t,this.shader.uniforms.view=e,this.shader.uniforms.projection=r,d[0]=this.gl.drawingBufferWidth,d[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=d,this.vao.bind()},y.drawAxisLine=function(t,e,r,i,a){var s=n(p);this.shader.uniforms.majorAxis=p,s[t]=e[1][t]-e[0][t],this.shader.uniforms.minorAxis=s;var l=o(h,r);l[t]+=e[0][t],this.shader.uniforms.offset=l,this.shader.uniforms.lineWidth=a,this.shader.uniforms.color=i;var u=n(f);u[(t+2)%3]=1,this.shader.uniforms.screenAxis=u,this.vao.draw(this.gl.TRIANGLES,6);var u=n(f);u[(t+1)%3]=1,this.shader.uniforms.screenAxis=u,this.vao.draw(this.gl.TRIANGLES,6)},y.drawAxisTicks=function(t,e,r,o,i){if(this.tickCount[t]){var a=n(c);a[t]=1,this.shader.uniforms.majorAxis=a,this.shader.uniforms.offset=e,this.shader.uniforms.minorAxis=r,this.shader.uniforms.color=o,this.shader.uniforms.lineWidth=i;var s=n(f);s[t]=1,this.shader.uniforms.screenAxis=s,this.vao.draw(this.gl.TRIANGLES,this.tickCount[t],this.tickOffset[t])}},y.drawGrid=function(t,e,r,i,a,s){if(this.gridCount[t]){var l=n(p);l[e]=r[1][e]-r[0][e],this.shader.uniforms.minorAxis=l;var u=o(h,i);u[e]+=r[0][e],this.shader.uniforms.offset=u;var d=n(c);d[t]=1,this.shader.uniforms.majorAxis=d;var y=n(f);y[t]=1,this.shader.uniforms.screenAxis=y,this.shader.uniforms.lineWidth=s,this.shader.uniforms.color=a,this.vao.draw(this.gl.TRIANGLES,this.gridCount[t],this.gridOffset[t])}},y.drawZero=function(t,e,r,i,a,s){var l=n(p);this.shader.uniforms.majorAxis=l,l[t]=r[1][t]-r[0][t],this.shader.uniforms.minorAxis=l;var u=o(h,i);u[t]+=r[0][t],this.shader.uniforms.offset=u;var c=n(f);c[e]=1,this.shader.uniforms.screenAxis=c,this.shader.uniforms.lineWidth=s,this.shader.uniforms.color=a,this.vao.draw(this.gl.TRIANGLES,6)},y.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},{"./shaders":134,"gl-buffer":138,"gl-vao":253}],134:[function(t,e,r){"use strict";var n=t("gl-shader"),o="#define GLSLIFY 1\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n",i="precision mediump float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}";r.line=function(t){return n(t,o,i,null,[{name:"position",type:"vec3"}])};var a="#define GLSLIFY 1\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvoid main() {  \n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n  mat2 planeXform = scale * mat2(cos(angle), sin(angle),\n                                -sin(angle), cos(angle));\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n  vec4 worldPosition = model * vec4(dataPosition, 1);\n  \n  //Compute clip position\n  vec4 viewPosition = view * worldPosition;\n  vec4 clipPosition = projection * viewPosition;\n  clipPosition /= clipPosition.w;\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec4(viewOffset, 0, 0);\n\n  //Done\n  gl_Position = clipPosition;\n}",s="precision mediump float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}";r.text=function(t){return n(t,a,s,null,[{name:"position",type:"vec3"}])};var l="#define GLSLIFY 1\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  if(dot(normal, enable) > 0.0) {\n    vec3 nPosition = mix(bounds[0], bounds[1], 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n  colorChannel = abs(normal);\n}",u="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] + \n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}";r.bg=function(t){return n(t,l,u,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},{"gl-shader":237}],135:[function(t,e,r){(function(r){"use strict";function n(t,e,r,n){this.gl=t,this.shader=e,this.buffer=r,this.vao=n,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}function o(t,e){try{return l(t,e)}catch(t){return console.warn("error vectorizing text:",t),{cells:[],positions:[]}}}function i(t,e,r,o,i,l){var c=a(t),p=s(t,[{buffer:c,size:3}]),f=u(t);f.attributes.position.location=0;var h=new n(t,f,c,p);return h.update(e,r,o,i,l),h}e.exports=i;var a=t("gl-buffer"),s=t("gl-vao"),l=t("vectorize-text"),u=t("./shaders").text,c=window||r.global||{},p=c.__TEXT_CACHE||{};c.__TEXT_CACHE={};var f=3,h=n.prototype,d=[0,0];h.bind=function(t,e,r,n){this.vao.bind(),this.shader.bind();var o=this.shader.uniforms;o.model=t,o.view=e,o.projection=r,o.pixelScale=n,d[0]=this.gl.drawingBufferWidth,d[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=d},h.update=function(t,e,r,n,i){function a(t,e,r,n){var i=p[r];i||(i=p[r]={});var a=i[e];a||(a=i[e]=o(e,{triangles:!0,font:r,textAlign:"center",textBaseline:"middle"}));for(var l=(n||12)/12,u=a.positions,c=a.cells,f=0,h=c.length;f<h;++f)for(var d=c[f],y=2;y>=0;--y){var m=u[d[y]];s.push(l*m[0],-l*m[1],t)}}for(var s=(this.gl,[]),l=[0,0,0],u=[0,0,0],c=[0,0,0],h=[0,0,0],d=0;d<3;++d){c[d]=s.length/f|0,a(.5*(t[0][d]+t[1][d]),e[d],r),h[d]=(s.length/f|0)-c[d],l[d]=s.length/f|0;for(var y=0;y<n[d].length;++y)n[d][y].text&&a(n[d][y].x,n[d][y].text,n[d][y].font||i,n[d][y].fontSize||12);u[d]=(s.length/f|0)-l[d]}this.buffer.update(s),this.tickOffset=l,this.tickCount=u,this.labelOffset=c,this.labelCount=h};var y=[0,0,0];h.drawTicks=function(t,e,r,n,o){if(this.tickCount[t]){var i=y;i[0]=i[1]=i[2]=0,i[t]=1,this.shader.uniforms.axis=i,this.shader.uniforms.color=o,this.shader.uniforms.angle=r,this.shader.uniforms.scale=e,this.shader.uniforms.offset=n,this.vao.draw(this.gl.TRIANGLES,this.tickCount[t],this.tickOffset[t])}};var m=[0,0,0];h.drawLabel=function(t,e,r,n,o){this.labelCount[t]&&(this.shader.uniforms.axis=m,this.shader.uniforms.color=o,this.shader.uniforms.angle=r,this.shader.uniforms.scale=e,this.shader.uniforms.offset=n,this.vao.draw(this.gl.TRIANGLES,this.labelCount[t],this.labelOffset[t]))},h.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}}).call(this,t("_process"))},{"./shaders":134,_process:466,"gl-buffer":138,"gl-vao":253,"vectorize-text":532}],136:[function(t,e,r){"use strict";function n(t,e){var r=t+"",n=r.indexOf("."),o=0;n>=0&&(o=r.length-n-1);var i=Math.pow(10,o),a=Math.round(t*e*i),s=a+"";if(s.indexOf("e")>=0)return s;var l=a/i,u=a%i;a<0?(l=0|-Math.ceil(l),u=0|-u):(l=0|Math.floor(l),u|=0);var c=""+l;if(a<0&&(c="-"+c),o){for(var p=""+u;p.length<o;)p="0"+p;return c+"."+p}return c}function o(t,e){for(var r=[],o=0;o<3;++o){for(var i=[],a=(.5*(t[0][o]+t[1][o]),0);a*e[o]<=t[1][o];++a)i.push({x:a*e[o],text:n(e[o],a)});for(var a=-1;a*e[o]>=t[0][o];--a)i.push({x:a*e[o],text:n(e[o],a)});r.push(i)}return r}function i(t,e){for(var r=0;r<3;++r){if(t[r].length!==e[r].length)return!1;for(var n=0;n<t[r].length;++n){var o=t[r][n],i=e[r][n];if(o.x!==i.x||o.text!==i.text||o.font!==i.font||o.fontColor!==i.fontColor||o.fontSize!==i.fontSize||o.dx!==i.dx||o.dy!==i.dy)return!1}}return!0}r.create=o,r.equal=i},{}],137:[function(t,e,r){"use strict";function n(t,e,r){this.lo=t,this.hi=e,this.pixelsPerDataUnit=r}function o(t,e,r,n,o){for(var i=0;i<3;++i){for(var a=d,s=y,l=0;l<3;++l)s[l]=a[l]=r[l];s[3]=a[3]=1,s[i]+=1,p(s,s,e),s[3]<0&&(t[i]=1/0),a[i]-=1,p(a,a,e),a[3]<0&&(t[i]=1/0);var u=(a[0]/a[3]-s[0]/s[3])*n,c=(a[1]/a[3]-s[1]/s[3])*o;t[i]=.25*Math.sqrt(u*u+c*c)}return t}function i(t,e,r,n,i){var p=e.model||f,d=e.view||f,y=e.projection||f,g=t.bounds,i=i||l(p,d,y,g),b=i.axis;i.edges;u(h,d,p),u(h,y,h);for(var x=m,_=0;_<3;++_)x[_].lo=1/0,x[_].hi=-(1/0),x[_].pixelsPerDataUnit=1/0;var w=a(c(h,h));c(h,h);for(var T=0;T<3;++T){var M=(T+1)%3,S=(T+2)%3,E=v;t:for(var _=0;_<2;++_){var k=[];if(b[T]<0!=!!_){E[T]=g[_][T];for(var C=0;C<2;++C){E[M]=g[C^_][M];for(var A=0;A<2;++A)E[S]=g[A^C^_][S],k.push(E.slice())}for(var C=0;C<w.length;++C){if(0===k.length)continue t;k=s.positive(k,w[C])}for(var C=0;C<k.length;++C)for(var S=k[C],P=o(v,h,S,r,n),A=0;A<3;++A)x[A].lo=Math.min(x[A].lo,S[A]),x[A].hi=Math.max(x[A].hi,S[A]),A!==T&&(x[A].pixelsPerDataUnit=Math.min(x[A].pixelsPerDataUnit,Math.abs(P[A])))}}}return x}e.exports=i;var a=t("extract-frustum-planes"),s=t("split-polygon"),l=t("./lib/cube.js"),u=t("gl-mat4/multiply"),c=t("gl-mat4/transpose"),p=t("gl-vec4/transformMat4"),f=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=new Float32Array(16),d=[0,0,0,1],y=[0,0,0,1],m=[new n(1/0,-(1/0),1/0),new n(1/0,-(1/0),1/0),new n(1/0,-(1/0),1/0)],v=[0,0,0]},{"./lib/cube.js":132,"extract-frustum-planes":112,"gl-mat4/multiply":164,"gl-mat4/transpose":172,"gl-vec4/transformMat4":259,"split-polygon":505}],138:[function(t,e,r){"use strict";function n(t,e,r,n,o){this.gl=t,this.type=e,this.handle=r,this.length=n,this.usage=o}function o(t,e,r,n,o,i){var a=o.length*o.BYTES_PER_ELEMENT;if(i<0)return t.bufferData(e,o,n),a;if(a+i>r)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return t.bufferSubData(e,i,o),r}function i(t,e){for(var r=l.malloc(t.length,e),n=t.length,o=0;o<n;++o)r[o]=t[o];return r}function a(t,e){for(var r=1,n=e.length-1;n>=0;--n){if(e[n]!==r)return!1;r*=t[n]}return!0}function s(t,e,r,o){if(r=r||t.ARRAY_BUFFER,o=o||t.DYNAMIC_DRAW,r!==t.ARRAY_BUFFER&&r!==t.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(o!==t.DYNAMIC_DRAW&&o!==t.STATIC_DRAW&&o!==t.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var i=t.createBuffer(),a=new n(t,r,i,0,o);return a.update(e),a}var l=t("typedarray-pool"),u=t("ndarray-ops"),c=t("ndarray"),p=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"],f=n.prototype;f.bind=function(){this.gl.bindBuffer(this.type,this.handle)},f.unbind=function(){this.gl.bindBuffer(this.type,null)},f.dispose=function(){this.gl.deleteBuffer(this.handle)},f.update=function(t,e){if("number"!=typeof e&&(e=-1),this.bind(),"object"==typeof t&&"undefined"!=typeof t.shape){var r=t.dtype;if(p.indexOf(r)<0&&(r="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var n=gl.getExtension("OES_element_index_uint");r=n&&"uint16"!==r?"uint32":"uint16"}if(r===t.dtype&&a(t.shape,t.stride))0===t.offset&&t.data.length===t.shape[0]?this.length=o(this.gl,this.type,this.length,this.usage,t.data,e):this.length=o(this.gl,this.type,this.length,this.usage,t.data.subarray(t.offset,t.shape[0]),e);else{var s=l.malloc(t.size,r),f=c(s,t.shape);u.assign(f,t),e<0?this.length=o(this.gl,this.type,this.length,this.usage,s,e):this.length=o(this.gl,this.type,this.length,this.usage,s.subarray(0,t.size),e),l.free(s)}}else if(Array.isArray(t)){var h;h=this.type===this.gl.ELEMENT_ARRAY_BUFFER?i(t,"uint16"):i(t,"float32"),e<0?this.length=o(this.gl,this.type,this.length,this.usage,h,e):this.length=o(this.gl,this.type,this.length,this.usage,h.subarray(0,t.length),e),l.free(h)}else if("object"==typeof t&&"number"==typeof t.length)this.length=o(this.gl,this.type,this.length,this.usage,t,e);else{if("number"!=typeof t&&void 0!==t)throw new Error("gl-buffer: Invalid data type");if(e>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");t|=0,t<=0&&(t=1),this.gl.bufferData(this.type,0|t,this.usage),this.length=t}},e.exports=s},{ndarray:447,"ndarray-ops":441,"typedarray-pool":519}],139:[function(t,e,r){e.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",
32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},{}],140:[function(t,e,r){var n=t("./1.0/numbers");e.exports=function(t){return n[t]}},{"./1.0/numbers":139}],141:[function(t,e,r){"use strict";function n(t,e,r,n){this.plot=t,this.shader=e,this.bufferHi=r,this.bufferLo=n,this.bounds=[1/0,1/0,-(1/0),-(1/0)],this.numPoints=0,this.color=[0,0,0,1]}function o(t,e){var r=i(t.gl,l.vertex,l.fragment),o=a(t.gl),s=a(t.gl),u=new n(t,r,o,s);return u.update(e),t.addObject(u),u}var i=t("gl-shader"),a=t("gl-buffer"),s=t("typedarray-pool"),l=t("./lib/shaders");e.exports=o;var u=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]],c=n.prototype;c.draw=function(){var t=new Float32Array([0,0]),e=new Float32Array([0,0]),r=new Float32Array([0,0]),n=new Float32Array([0,0]),o=[1,1];return function(){var i=this.plot,a=this.shader,s=this.bounds,l=this.numPoints;if(l){var c=i.gl,p=i.dataBox,f=i.viewBox,h=i.pixelRatio,d=s[2]-s[0],y=s[3]-s[1],m=p[2]-p[0],v=p[3]-p[1],g=2*d/m,b=2*y/v,x=(s[0]-p[0]-.5*m)/d,_=(s[1]-p[1]-.5*v)/y;t[0]=g,t[1]=b,e[0]=g-t[0],e[1]=b-t[1],r[0]=x,r[1]=_,n[0]=x-r[0],n[1]=_-r[1];var w=f[2]-f[0],T=f[3]-f[1];o[0]=2*h/w,o[1]=2*h/T,a.bind(),a.uniforms.scaleHi=t,a.uniforms.scaleLo=e,a.uniforms.translateHi=r,a.uniforms.translateLo=n,a.uniforms.pixelScale=o,a.uniforms.color=this.color,this.bufferLo.bind(),a.attributes.positionLo.pointer(c.FLOAT,!1,16,0),this.bufferHi.bind(),a.attributes.positionHi.pointer(c.FLOAT,!1,16,0),a.attributes.pixelOffset.pointer(c.FLOAT,!1,16,8),c.drawArrays(c.TRIANGLES,0,l*u.length)}}}(),c.drawPick=function(t){return t},c.pick=function(){return null},c.update=function(t){t=t||{};var e,r,n,o=t.positions||[],i=t.errors||[],a=1;"lineWidth"in t&&(a=+t.lineWidth);var l=5;"capSize"in t&&(l=+t.capSize),this.color=(t.color||[0,0,0,1]).slice();var c=this.bounds=[1/0,1/0,-(1/0),-(1/0)],p=this.numPoints=o.length>>1;for(e=0;e<p;++e)r=o[2*e],n=o[2*e+1],c[0]=Math.min(r,c[0]),c[1]=Math.min(n,c[1]),c[2]=Math.max(r,c[2]),c[3]=Math.max(n,c[3]);c[2]===c[0]&&(c[2]+=1),c[3]===c[1]&&(c[3]+=1);var f=1/(c[2]-c[0]),h=1/(c[3]-c[1]),d=c[0],y=c[1],m=s.mallocFloat64(p*u.length*4),v=s.mallocFloat32(p*u.length*4),g=s.mallocFloat32(p*u.length*4),b=0;for(e=0;e<p;++e){r=o[2*e],n=o[2*e+1];for(var x=i[4*e],_=i[4*e+1],w=i[4*e+2],T=i[4*e+3],M=0;M<u.length;++M){var S=u[M],E=S[0],k=S[1];E<0?E*=x:E>0&&(E*=_),k<0?k*=w:k>0&&(k*=T),m[b++]=f*(r-d+E),m[b++]=h*(n-y+k),m[b++]=a*S[2]+(l+a)*S[4],m[b++]=a*S[3]+(l+a)*S[5]}}for(e=0;e<m.length;e++)v[e]=m[e],g[e]=m[e]-v[e];this.bufferHi.update(v),this.bufferLo.update(g),s.free(m)},c.dispose=function(){this.plot.removeObject(this),this.shader.dispose(),this.bufferHi.dispose(),this.bufferLo.dispose()}},{"./lib/shaders":142,"gl-buffer":138,"gl-shader":237,"typedarray-pool":519}],142:[function(t,e,r){e.exports={vertex:"precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 positionHi;\nattribute vec2 positionLo;\nattribute vec2 pixelOffset;\n\nuniform vec2 scaleHi, scaleLo, translateHi, translateLo, pixelScale;\n\nvec2 project(vec2 scHi, vec2 trHi, vec2 scLo, vec2 trLo, vec2 posHi, vec2 posLo) {\n  return (posHi + trHi) * scHi\n       + (posLo + trLo) * scHi\n       + (posHi + trHi) * scLo\n       + (posLo + trLo) * scLo;\n}\n\nvoid main() {\n  vec3 scrPosition = vec3(\n         project(scaleHi, translateHi, scaleLo, translateLo, positionHi, positionLo),\n         1);\n  gl_Position = vec4(\n    scrPosition.xy + scrPosition.z * pixelScale * pixelOffset,\n    0,\n    scrPosition.z);\n}\n",fragment:"precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = vec4(color.rgb * color.a, color.a);\n}\n"}},{}],143:[function(t,e,r){"use strict";function n(t,e,r,n){this.gl=t,this.shader=n,this.buffer=e,this.vao=r,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]],this.clipBounds=[[-(1/0),-(1/0),-(1/0)],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1}function o(t,e){for(var r=0;r<3;++r)t[0][r]=Math.min(t[0][r],e[r]),t[1][r]=Math.max(t[1][r],e[r])}function i(t,e,r,n){for(var o=f[n],i=0;i<o.length;++i){var a=o[i];t.push(e[0],e[1],e[2],r[0],r[1],r[2],r[3],a[0],a[1],a[2])}return o.length}function a(t){var e=t.gl,r=s(e),o=l(e,[{buffer:r,type:e.FLOAT,size:3,offset:0,stride:40},{buffer:r,type:e.FLOAT,size:4,offset:12,stride:40},{buffer:r,type:e.FLOAT,size:3,offset:28,stride:40}]),i=u(e);i.attributes.position.location=0,i.attributes.color.location=1,i.attributes.offset.location=2;var a=new n(e,r,o,i);return a.update(t),a}e.exports=a;var s=t("gl-buffer"),l=t("gl-vao"),u=t("./shaders/index"),c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],p=n.prototype;p.isOpaque=function(){return this.opacity>=1},p.isTransparent=function(){return this.opacity<1},p.drawTransparent=p.draw=function(t){var e=this.gl,r=this.shader.uniforms;this.shader.bind();var n=r.view=t.view||c,o=r.projection=t.projection||c;r.model=t.model||c,r.clipBounds=this.clipBounds,r.opacity=this.opacity;var i=n[12],a=n[13],s=n[14],l=n[15],u=this.pixelRatio*(o[3]*i+o[7]*a+o[11]*s+o[15]*l)/e.drawingBufferHeight;this.vao.bind();for(var p=0;p<3;++p)e.lineWidth(this.lineWidth[p]),r.capSize=this.capSize[p]*u,e.drawArrays(e.LINES,this.lineOffset[p],this.lineCount[p]);this.vao.unbind()};var f=function(){for(var t=new Array(3),e=0;e<3;++e){for(var r=[],n=1;n<=2;++n)for(var o=-1;o<=1;o+=2){var i=(n+e)%3,a=[0,0,0];a[i]=o,r.push(a)}t[e]=r}return t}();p.update=function(t){t=t||{},"lineWidth"in t&&(this.lineWidth=t.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in t&&(this.capSize=t.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),"opacity"in t&&(this.opacity=t.opacity);var e=t.color||[[0,0,0],[0,0,0],[0,0,0]],r=t.position,n=t.error;if(Array.isArray(e[0])||(e=[e,e,e]),r&&n){var a=[],s=r.length,l=0;this.bounds=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]],this.lineCount=[0,0,0];for(var u=0;u<3;++u){this.lineOffset[u]=l;t:for(var c=0;c<s;++c){for(var p=r[c],f=0;f<3;++f)if(isNaN(p[f])||!isFinite(p[f]))continue t;var h=n[c],d=e[u];if(Array.isArray(d[0])&&(d=e[c]),3===d.length&&(d=[d[0],d[1],d[2],1]),!isNaN(h[0][u])&&!isNaN(h[1][u])){if(h[0][u]<0){var y=p.slice();y[u]+=h[0][u],a.push(p[0],p[1],p[2],d[0],d[1],d[2],d[3],0,0,0,y[0],y[1],y[2],d[0],d[1],d[2],d[3],0,0,0),o(this.bounds,y),l+=2+i(a,y,d,u)}if(h[1][u]>0){var y=p.slice();y[u]+=h[1][u],a.push(p[0],p[1],p[2],d[0],d[1],d[2],d[3],0,0,0,y[0],y[1],y[2],d[0],d[1],d[2],d[3],0,0,0),o(this.bounds,y),l+=2+i(a,y,d,u)}}}this.lineCount[u]=l-this.lineOffset[u]}this.buffer.update(a)}},p.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},{"./shaders/index":144,"gl-buffer":138,"gl-vao":253}],144:[function(t,e,r){"use strict";var n=t("gl-shader"),o="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * view * worldPosition;\n  fragColor           = color;\n  fragPosition        = position;\n}",i="precision mediump float;\n#define GLSLIFY 1\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if(any(lessThan(fragPosition, clipBounds[0])) || any(greaterThan(fragPosition, clipBounds[1]))) {\n    discard;\n  }\n  gl_FragColor = opacity * fragColor;\n}";e.exports=function(t){return n(t,o,i,null,[{name:"position",type:"vec3"},{name:"offset",type:"vec3"},{name:"color",type:"vec4"}])}},{"gl-shader":237}],145:[function(t,e,r){"use strict";function n(t){var e=t.getParameter(t.FRAMEBUFFER_BINDING),r=t.getParameter(t.RENDERBUFFER_BINDING),n=t.getParameter(t.TEXTURE_BINDING_2D);return[e,r,n]}function o(t,e){t.bindFramebuffer(t.FRAMEBUFFER,e[0]),t.bindRenderbuffer(t.RENDERBUFFER,e[1]),t.bindTexture(t.TEXTURE_2D,e[2])}function i(t,e){var r=t.getParameter(e.MAX_COLOR_ATTACHMENTS_WEBGL);g=new Array(r+1);for(var n=0;n<=r;++n){for(var o=new Array(r),i=0;i<n;++i)o[i]=t.COLOR_ATTACHMENT0+i;for(var i=n;i<r;++i)o[i]=t.NONE;g[n]=o}}function a(t){switch(t){case d:throw new Error("gl-fbo: Framebuffer unsupported");case y:throw new Error("gl-fbo: Framebuffer incomplete attachment");case m:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case v:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function s(t,e,r,n,o,i){if(!n)return null;var a=h(t,e,r,o,n);return a.magFilter=t.NEAREST,a.minFilter=t.NEAREST,a.mipSamples=1,a.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,i,t.TEXTURE_2D,a.handle,0),a}function l(t,e,r,n,o){var i=t.createRenderbuffer();return t.bindRenderbuffer(t.RENDERBUFFER,i),t.renderbufferStorage(t.RENDERBUFFER,n,e,r),t.framebufferRenderbuffer(t.FRAMEBUFFER,o,t.RENDERBUFFER,i),i}function u(t){var e=n(t.gl),r=t.gl,i=t.handle=r.createFramebuffer(),u=t._shape[0],c=t._shape[1],p=t.color.length,f=t._ext,h=t._useStencil,d=t._useDepth,y=t._colorType;r.bindFramebuffer(r.FRAMEBUFFER,i);for(var m=0;m<p;++m)t.color[m]=s(r,u,c,y,r.RGBA,r.COLOR_ATTACHMENT0+m);0===p?(t._color_rb=l(r,u,c,r.RGBA4,r.COLOR_ATTACHMENT0),f&&f.drawBuffersWEBGL(g[0])):p>1&&f.drawBuffersWEBGL(g[p]);var v=r.getExtension("WEBGL_depth_texture");v?h?t.depth=s(r,u,c,v.UNSIGNED_INT_24_8_WEBGL,r.DEPTH_STENCIL,r.DEPTH_STENCIL_ATTACHMENT):d&&(t.depth=s(r,u,c,r.UNSIGNED_SHORT,r.DEPTH_COMPONENT,r.DEPTH_ATTACHMENT)):d&&h?t._depth_rb=l(r,u,c,r.DEPTH_STENCIL,r.DEPTH_STENCIL_ATTACHMENT):d?t._depth_rb=l(r,u,c,r.DEPTH_COMPONENT16,r.DEPTH_ATTACHMENT):h&&(t._depth_rb=l(r,u,c,r.STENCIL_INDEX,r.STENCIL_ATTACHMENT));var b=r.checkFramebufferStatus(r.FRAMEBUFFER);if(b!==r.FRAMEBUFFER_COMPLETE){t._destroyed=!0,r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteFramebuffer(t.handle),t.handle=null,t.depth&&(t.depth.dispose(),t.depth=null),t._depth_rb&&(r.deleteRenderbuffer(t._depth_rb),t._depth_rb=null);for(var m=0;m<t.color.length;++m)t.color[m].dispose(),t.color[m]=null;t._color_rb&&(r.deleteRenderbuffer(t._color_rb),t._color_rb=null),o(r,e),a(b)}o(r,e)}function c(t,e,r,n,o,i,a,s){this.gl=t,this._shape=[0|e,0|r],this._destroyed=!1,this._ext=s,this.color=new Array(o);for(var l=0;l<o;++l)this.color[l]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=n,this._useDepth=i,this._useStencil=a;var c=this,p=[0|e,0|r];Object.defineProperties(p,{0:{get:function(){return c._shape[0]},set:function(t){return c.width=t}},1:{get:function(){return c._shape[1]},set:function(t){return c.height=t}}}),this._shapeVector=p,u(this)}function p(t,e,r){if(t._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(t._shape[0]!==e||t._shape[1]!==r){var i=t.gl,s=i.getParameter(i.MAX_RENDERBUFFER_SIZE);if(e<0||e>s||r<0||r>s)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");t._shape[0]=e,t._shape[1]=r;for(var l=n(i),u=0;u<t.color.length;++u)t.color[u].shape=t._shape;t._color_rb&&(i.bindRenderbuffer(i.RENDERBUFFER,t._color_rb),i.renderbufferStorage(i.RENDERBUFFER,i.RGBA4,t._shape[0],t._shape[1])),t.depth&&(t.depth.shape=t._shape),t._depth_rb&&(i.bindRenderbuffer(i.RENDERBUFFER,t._depth_rb),t._useDepth&&t._useStencil?i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t._shape[0],t._shape[1]):t._useDepth?i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_COMPONENT16,t._shape[0],t._shape[1]):t._useStencil&&i.renderbufferStorage(i.RENDERBUFFER,i.STENCIL_INDEX,t._shape[0],t._shape[1])),i.bindFramebuffer(i.FRAMEBUFFER,t.handle);var c=i.checkFramebufferStatus(i.FRAMEBUFFER);c!==i.FRAMEBUFFER_COMPLETE&&(t.dispose(),o(i,l),a(c)),o(i,l)}}function f(t,e,r,n){d||(d=t.FRAMEBUFFER_UNSUPPORTED,y=t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,m=t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,v=t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var o=t.getExtension("WEBGL_draw_buffers");if(!g&&o&&i(t,o),Array.isArray(e)&&(n=r,r=0|e[1],e=0|e[0]),"number"!=typeof e)throw new Error("gl-fbo: Missing shape parameter");var a=t.getParameter(t.MAX_RENDERBUFFER_SIZE);if(e<0||e>a||r<0||r>a)throw new Error("gl-fbo: Parameters are too large for FBO");n=n||{};var s=1;if("color"in n){if(s=Math.max(0|n.color,0),s<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(s>1){if(!o)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(s>t.getParameter(o.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+s+" draw buffers")}}var l=t.UNSIGNED_BYTE,u=t.getExtension("OES_texture_float");if(n.float&&s>0){if(!u)throw new Error("gl-fbo: Context does not support floating point textures");l=t.FLOAT}else n.preferFloat&&s>0&&u&&(l=t.FLOAT);var p=!0;"depth"in n&&(p=!!n.depth);var f=!1;return"stencil"in n&&(f=!!n.stencil),new c(t,e,r,l,s,p,f,o)}var h=t("gl-texture2d");e.exports=f;var d,y,m,v,g=null,b=c.prototype;Object.defineProperties(b,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(t){if(Array.isArray(t)||(t=[0|t,0|t]),2!==t.length)throw new Error("gl-fbo: Shape vector must be length 2");var e=0|t[0],r=0|t[1];return p(this,e,r),[e,r]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(t){return t|=0,p(this,t,this._shape[1]),t},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(t){return t|=0,p(this,this._shape[0],t),t},enumerable:!1}}),b.bind=function(){if(!this._destroyed){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.handle),t.viewport(0,0,this._shape[0],this._shape[1])}},b.dispose=function(){if(!this._destroyed){this._destroyed=!0;var t=this.gl;t.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(t.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var e=0;e<this.color.length;++e)this.color[e].dispose(),this.color[e]=null;this._color_rb&&(t.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},{"gl-texture2d":249}],146:[function(t,e,r){function n(t,e,r){"use strict";var n=a(e)||"of unknown name (see npm glsl-shader-name)",l="unknown type";void 0!==r&&(l=r===i.FRAGMENT_SHADER?"fragment":"vertex");for(var u=o("Error compiling %s shader %s:\n",l,n),c=o("%s%s",u,t),p=t.split("\n"),f={},h=0;h<p.length;h++){var d=p[h];if(""!==d){var y=parseInt(d.split(":")[2]);if(isNaN(y))throw new Error(o("Could not parse error: %s",d));f[y]=d}}for(var m=s(e).split("\n"),h=0;h<m.length;h++)if(f[h+3]||f[h+2]||f[h+1]){var v=m[h];if(u+=v+"\n",f[h+1]){var g=f[h+1];g=g.substr(g.split(":",3).join(":").length+1).trim(),u+=o("^^^ %s\n\n",g)}}return{long:u.trim(),short:c.trim()}}var o=t("sprintf-js").sprintf,i=t("gl-constants/lookup"),a=t("glsl-shader-name"),s=t("add-line-numbers");e.exports=n},{"add-line-numbers":32,"gl-constants/lookup":140,"glsl-shader-name":261,"sprintf-js":506}],147:[function(t,e,r){"use strict";function n(t,e,r,n,o,i,a){this.plot=t,this.shader=e,this.pickShader=r,this.positionBuffer=n,this.weightBuffer=o,this.colorBuffer=i,this.idBuffer=a,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-(1/0),-(1/0)],this.pickOffset=0}function o(t,e){var r=t.gl,o=l(r,c.vertex,c.fragment),i=l(r,c.pickVertex,c.pickFragment),a=u(r),s=u(r),p=u(r),f=u(r),h=new n(t,o,i,a,s,p,f);return h.update(e),t.addObject(h),h}e.exports=o;var i=t("binary-search-bounds"),a=t("iota-array"),s=t("typedarray-pool"),l=t("gl-shader"),u=t("gl-buffer"),c=t("./lib/shaders"),p=n.prototype,f=[0,0,1,0,0,1,1,0,1,1,0,1];p.draw=function(){var t=[1,0,0,0,1,0,0,0,1];return function(){var e=this.plot,r=this.shader,n=this.bounds,o=this.numVertices;if(!(o<=0)){var i=e.gl,a=e.dataBox,s=n[2]-n[0],l=n[3]-n[1],u=a[2]-a[0],c=a[3]-a[1];t[0]=2*s/u,t[4]=2*l/c,t[6]=2*(n[0]-a[0])/u-1,t[7]=2*(n[1]-a[1])/c-1,r.bind();var p=r.uniforms;p.viewTransform=t,p.shape=this.shape;var f=r.attributes;this.positionBuffer.bind(),f.position.pointer(),this.weightBuffer.bind(),f.weight.pointer(i.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),f.color.pointer(i.UNSIGNED_BYTE,!0),i.drawArrays(i.TRIANGLES,0,o)}}}(),p.drawPick=function(){var t=[1,0,0,0,1,0,0,0,1],e=[0,0,0,0];return function(r){var n=this.plot,o=this.pickShader,i=this.bounds,a=this.numVertices;if(!(a<=0)){var s=n.gl,l=n.dataBox,u=i[2]-i[0],c=i[3]-i[1],p=l[2]-l[0],f=l[3]-l[1];t[0]=2*u/p,t[4]=2*c/f,t[6]=2*(i[0]-l[0])/p-1,t[7]=2*(i[1]-l[1])/f-1;for(var h=0;h<4;++h)e[h]=r>>8*h&255;this.pickOffset=r,o.bind();var d=o.uniforms;d.viewTransform=t,d.pickOffset=e,d.shape=this.shape;var y=o.attributes;return this.positionBuffer.bind(),y.position.pointer(),this.weightBuffer.bind(),y.weight.pointer(s.UNSIGNED_BYTE,!1),this.idBuffer.bind(),y.pickId.pointer(s.UNSIGNED_BYTE,!1),s.drawArrays(s.TRIANGLES,0,a),r+this.shape[0]*this.shape[1]}}}(),p.pick=function(t,e,r){var n=this.pickOffset,o=this.shape[0]*this.shape[1];if(r<n||r>=n+o)return null;var i=r-n,a=this.xData,s=this.yData;return{object:this,pointId:i,dataCoord:[a[i%this.shape[0]],s[i/this.shape[0]|0]]}},p.update=function(t){t=t||{};var e=t.shape||[0,0],r=t.x||a(e[0]),n=t.y||a(e[1]),o=t.z||new Float32Array(e[0]*e[1]);this.xData=r,this.yData=n;var l=t.colorLevels||[0],u=t.colorValues||[0,0,0,1],c=l.length,p=this.bounds,h=p[0]=r[0],d=p[1]=n[0],y=p[2]=r[r.length-1],m=p[3]=n[n.length-1],v=1/(y-h),g=1/(m-d),b=e[0],x=e[1];this.shape=[b,x];var _=(b-1)*(x-1)*(f.length>>>1);this.numVertices=_;for(var w=s.mallocUint8(4*_),T=s.mallocFloat32(2*_),M=s.mallocUint8(2*_),S=s.mallocUint32(_),E=0,k=0;k<x-1;++k)for(var C=g*(n[k]-d),A=g*(n[k+1]-d),P=0;P<b-1;++P)for(var L=v*(r[P]-h),D=v*(r[P+1]-h),O=0;O<f.length;O+=2){var I,R,N,j,F=f[O],z=f[O+1],B=(k+z)*b+(P+F),U=o[B],V=i.le(l,U);if(V<0)I=u[0],R=u[1],N=u[2],j=u[3];else if(V===c-1)I=u[4*c-4],R=u[4*c-3],N=u[4*c-2],j=u[4*c-1];else{var H=(U-l[V])/(l[V+1]-l[V]),W=1-H,q=4*V,G=4*(V+1);I=W*u[q]+H*u[G],R=W*u[q+1]+H*u[G+1],N=W*u[q+2]+H*u[G+2],j=W*u[q+3]+H*u[G+3]}w[4*E]=255*I,w[4*E+1]=255*R,w[4*E+2]=255*N,w[4*E+3]=255*j,T[2*E]=.5*L+.5*D,T[2*E+1]=.5*C+.5*A,M[2*E]=F,M[2*E+1]=z,S[E]=k*b+P,E+=1}this.positionBuffer.update(T),this.weightBuffer.update(M),this.colorBuffer.update(w),this.idBuffer.update(S),s.free(T),s.free(w),s.free(M),s.free(S)},p.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},{"./lib/shaders":148,"binary-search-bounds":149,"gl-buffer":138,"gl-shader":237,"iota-array":274,"typedarray-pool":519}],148:[function(t,e,r){"use strict";e.exports={fragment:"precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);\n}\n",vertex:"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 color;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  fragColor = color;\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n",pickFragment:"precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nuniform vec2 shape;\nuniform vec4 pickOffset;\n\nvoid main() {\n  vec2 d = step(.5, vWeight);\n  vec4 id = fragId + pickOffset;\n  id.x += d.x + d.y*shape.x;\n\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  gl_FragColor = id/255.;\n}\n",pickVertex:"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nvoid main() {\n  vWeight = weight;\n\n  fragId = pickId;\n\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"}},{}],149:[function(t,e,r){arguments[4][74][0].apply(r,arguments)},{dup:74}],150:[function(t,e,r){r.lineVertex="precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aHi, aLo, dHi, dLo;\n\nuniform vec2 scaleHi, translateHi, scaleLo, translateLo, screenShape;\nuniform float width;\n\nvarying vec2 direction;\n\n\nvec2 project_1_0(vec2 scHi, vec2 trHi, vec2 scLo, vec2 trLo, vec2 posHi, vec2 posLo) {\n  return (posHi + trHi) * scHi\n       + (posLo + trLo) * scHi\n       + (posHi + trHi) * scLo\n       + (posLo + trLo) * scLo;\n}\n\n\nvec2 project_2_1(vec2 scHi, vec2 scLo, vec2 posHi, vec2 posLo) {\n  return scHi * posHi\n       + scLo * posHi\n       + scHi * posLo\n       + scLo * posLo;\n}\n\nvoid main() {\n  vec2 p = project_1_0(scaleHi, translateHi, scaleLo, translateLo, aHi, aLo);\n  vec2 dir = project_2_1(scaleHi, scaleLo, dHi, dLo);\n  vec2 n = 0.5 * width * normalize(screenShape.yx * vec2(dir.y, -dir.x)) / screenShape.xy;\n  vec2 tangent = normalize(screenShape.xy * dir);\n  if(dir.x < 0.0 || (dir.x == 0.0 && dir.y < 0.0)) {\n    direction = -tangent;\n  } else {\n    direction = tangent;\n  }\n  gl_Position = vec4(p + n, 0.0, 1.0);\n}",r.lineFragment="precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nuniform vec2 screenShape;\nuniform sampler2D dashPattern;\nuniform float dashLength;\n\nvarying vec2 direction;\n\nvoid main() {\n  float t = fract(dot(direction, gl_FragCoord.xy) / dashLength);\n  vec4 pcolor = color * texture2D(dashPattern, vec2(t, 0.0)).r;\n  gl_FragColor = vec4(pcolor.rgb * pcolor.a, pcolor.a);\n}",r.mitreVertex="precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aHi, aLo;\n\nuniform vec2 scaleHi, translateHi, scaleLo, translateLo;\nuniform float radius;\n\n\nvec2 project_1_0(vec2 scHi, vec2 trHi, vec2 scLo, vec2 trLo, vec2 posHi, vec2 posLo) {\n  return (posHi + trHi) * scHi\n       + (posLo + trLo) * scHi\n       + (posHi + trHi) * scLo\n       + (posLo + trLo) * scLo;\n}\n\n\nvoid main() {\n  vec2 p = project_1_0(scaleHi, translateHi, scaleLo, translateLo, aHi, aLo);\n  gl_Position = vec4(p, 0.0, 1.0);\n  gl_PointSize = radius;\n}",r.mitreFragment="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  if(length(gl_PointCoord.xy - 0.5) > 0.25) {\n    discard;\n  }\n  gl_FragColor = vec4(color.rgb, color.a);\n}",r.pickVertex="precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aHi, aLo, dHi;\nattribute vec4 pick0, pick1;\n\nuniform vec2 scaleHi, translateHi, scaleLo, translateLo, screenShape;\nuniform float width;\n\nvarying vec4 pickA, pickB;\n\n\nvec2 project_1_0(vec2 scHi, vec2 trHi, vec2 scLo, vec2 trLo, vec2 posHi, vec2 posLo) {\n  return (posHi + trHi) * scHi\n       + (posLo + trLo) * scHi\n       + (posHi + trHi) * scLo\n       + (posLo + trLo) * scLo;\n}\n\n\nvoid main() {\n  vec2 p = project_1_0(scaleHi, translateHi, scaleLo, translateLo, aHi, aLo);\n  vec2 n = width * normalize(screenShape.yx * vec2(dHi.y, -dHi.x)) / screenShape.xy;\n  gl_Position = vec4(p + n, 0, 1);\n  pickA = pick0;\n  pickB = pick1;\n}",r.pickFragment="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 pickOffset;\n\nvarying vec4 pickA, pickB;\n\nvoid main() {\n  vec4 fragId = vec4(pickA.xyz, 0.0);\n  if(pickB.w > pickA.w) {\n    fragId.xyz = pickB.xyz;\n  }\n\n  fragId += pickOffset;\n\n  fragId.y += floor(fragId.x / 256.0);\n  fragId.x -= floor(fragId.x / 256.0) * 256.0;\n\n  fragId.z += floor(fragId.y / 256.0);\n  fragId.y -= floor(fragId.y / 256.0) * 256.0;\n\n  fragId.w += floor(fragId.z / 256.0);\n  fragId.z -= floor(fragId.z / 256.0) * 256.0;\n\n  gl_FragColor = fragId / 255.0;\n}",r.fillVertex="precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aHi, aLo, dHi;\n\nuniform vec2 scaleHi, translateHi, scaleLo, translateLo, projectAxis;\nuniform float projectValue, depth;\n\n\nvec2 project_1_0(vec2 scHi, vec2 trHi, vec2 scLo, vec2 trLo, vec2 posHi, vec2 posLo) {\n  return (posHi + trHi) * scHi\n       + (posLo + trLo) * scHi\n       + (posHi + trHi) * scLo\n       + (posLo + trLo) * scLo;\n}\n\n\nvoid main() {\n  vec2 p = project_1_0(scaleHi, translateHi, scaleLo, translateLo, aHi, aLo);\n  if(dHi.y < 0.0 || (dHi.y == 0.0 && dHi.x < 0.0)) {\n    if(dot(p, projectAxis) < projectValue) {\n      p = p * (1.0 - abs(projectAxis)) + projectAxis * projectValue;\n    }\n  }\n  gl_Position = vec4(p, depth, 1);\n}",r.fillFragment="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = vec4(color.rgb * color.a, color.a);\n}"},{}],151:[function(t,e,r){"use strict";function n(t,e,r,n,o,i,a,s,l){this.plot=t,this.dashPattern=e,this.lineBufferHi=r,this.lineBufferLo=n,this.pickBuffer=o,this.lineShader=i,this.mitreShader=a,this.fillShader=s,this.pickShader=l,this.usingDashes=!1,this.bounds=[1/0,1/0,-(1/0),-(1/0)],this.width=1,this.color=[0,0,1,1],this.fill=[!1,!1,!1,!1],this.fillColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.data=null,this.numPoints=0,this.vertCount=0,this.pickOffset=0}function o(t){return t.map(function(t){return t.slice()})}function i(t,e){var r=t.gl,o=s(r),i=s(r),u=s(r),c=l(r,[1,1]),f=a(r,p.lineVertex,p.lineFragment),h=a(r,p.mitreVertex,p.mitreFragment),d=a(r,p.fillVertex,p.fillFragment),y=a(r,p.pickVertex,p.pickFragment),m=new n(t,c,o,i,u,f,h,d,y);return t.addObject(m),m.update(e),m}e.exports=i;var a=t("gl-shader"),s=t("gl-buffer"),l=t("gl-texture2d"),u=t("ndarray"),c=t("typedarray-pool"),p=t("./lib/shaders"),f=n.prototype;f.setProjectionModel=function(){var t={scaleHi:new Float32Array([0,0]),scaleLo:new Float32Array([0,0]),translateHi:new Float32Array([0,0]),translateLo:new Float32Array([0,0]),screenShape:[0,0]};return function(){var e=this.bounds,r=this.plot.viewBox,n=this.plot.dataBox,o=e[2]-e[0],i=e[3]-e[1],a=n[2]-n[0],s=n[3]-n[1],l=r[2]-r[0],u=r[3]-r[1],c=2*o/a,p=2*i/s,f=(e[0]-n[0]-.5*a)/o,h=(e[1]-n[1]-.5*s)/i;return t.scaleHi[0]=c,t.scaleHi[1]=p,t.scaleLo[0]=c-t.scaleHi[0],t.scaleLo[1]=p-t.scaleHi[1],t.translateHi[0]=f,t.translateHi[1]=h,t.translateLo[0]=f-t.translateHi[0],t.translateLo[1]=h-t.translateHi[1],t.screenShape[0]=l,t.screenShape[1]=u,t}}(),f.setProjectionUniforms=function(t,e){t.scaleHi=e.scaleHi,t.scaleLo=e.scaleLo,t.translateHi=e.translateHi,t.translateLo=e.translateLo,t.screenShape=e.screenShape},f.draw=function(){var t=[1,0],e=[-1,0],r=[0,1],n=[0,-1];return function(){var o=this.vertCount;if(o){var i=this.setProjectionModel(),a=this.plot,s=this.width,l=a.gl,u=a.pixelRatio,c=this.color,p=this.fillShader.attributes;this.lineBufferLo.bind(),p.aLo.pointer(l.FLOAT,!1,16,0),this.lineBufferHi.bind();var f=this.fill;if(f[0]||f[1]||f[2]||f[3]){var h=this.fillShader;h.bind();var d=h.uniforms;this.setProjectionUniforms(d,i),d.depth=a.nextDepthValue(),p.aHi.pointer(l.FLOAT,!1,16,0),p.dHi.pointer(l.FLOAT,!1,16,8),l.depthMask(!0),l.enable(l.DEPTH_TEST);var y=this.fillColor;f[0]&&(d.color=y[0],d.projectAxis=e,d.projectValue=1,l.drawArrays(l.TRIANGLES,0,o)),
f[1]&&(d.color=y[1],d.projectAxis=n,d.projectValue=1,l.drawArrays(l.TRIANGLES,0,o)),f[2]&&(d.color=y[2],d.projectAxis=t,d.projectValue=1,l.drawArrays(l.TRIANGLES,0,o)),f[3]&&(d.color=y[3],d.projectAxis=r,d.projectValue=1,l.drawArrays(l.TRIANGLES,0,o)),l.depthMask(!1),l.disable(l.DEPTH_TEST)}var m=this.lineShader;m.bind(),this.lineBufferLo.bind(),m.attributes.aLo.pointer(l.FLOAT,!1,16,0),m.attributes.dLo.pointer(l.FLOAT,!1,16,8),this.lineBufferHi.bind();var v=m.uniforms;this.setProjectionUniforms(v,i),v.color=c,v.width=s*u,v.dashPattern=this.dashPattern.bind(),v.dashLength=this.dashLength*u;var g=m.attributes;if(g.aHi.pointer(l.FLOAT,!1,16,0),g.dHi.pointer(l.FLOAT,!1,16,8),l.drawArrays(l.TRIANGLES,0,o),s>2&&!this.usingDashes){var b=this.mitreShader;this.lineBufferLo.bind(),b.attributes.aLo.pointer(l.FLOAT,!1,48,0),this.lineBufferHi.bind(),b.bind();var x=b.uniforms;this.setProjectionUniforms(x,i),x.color=c,x.radius=s*u,b.attributes.aHi.pointer(l.FLOAT,!1,48,0),l.drawArrays(l.POINTS,0,o/3|0)}}}}(),f.drawPick=function(){var t=[0,0,0,0];return function(e){var r=this.vertCount,n=this.numPoints;if(this.pickOffset=e,!r)return e+n;var o=this.setProjectionModel(),i=this.plot,a=this.width,s=i.gl,l=i.pickPixelRatio,u=this.pickShader,c=this.pickBuffer;t[0]=255&e,t[1]=e>>>8&255,t[2]=e>>>16&255,t[3]=e>>>24,u.bind();var p=u.uniforms;this.setProjectionUniforms(p,o),p.width=a*l,p.pickOffset=t;var f=u.attributes;return this.lineBufferHi.bind(),f.aHi.pointer(s.FLOAT,!1,16,0),f.dHi.pointer(s.FLOAT,!1,16,8),this.lineBufferLo.bind(),f.aLo.pointer(s.FLOAT,!1,16,0),c.bind(),f.pick0.pointer(s.UNSIGNED_BYTE,!1,8,0),f.pick1.pointer(s.UNSIGNED_BYTE,!1,8,4),s.drawArrays(s.TRIANGLES,0,r),e+n}}(),f.pick=function(t,e,r){var n=this.pickOffset,o=this.numPoints;if(r<n||r>=n+o)return null;var i=r-n,a=this.data;return{object:this,pointId:i,dataCoord:[a[2*i],a[2*i+1]]}},f.update=function(t){t=t||{};var e,r,n,i,a,s=this.plot.gl;this.color=(t.color||[0,0,1,1]).slice(),this.width=+(t.width||1),this.fill=(t.fill||[!1,!1,!1,!1]).slice(),this.fillColor=o(t.fillColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var p=t.dashes||[1],f=0;for(e=0;e<p.length;++e)f+=p[e];var h=c.mallocUint8(f);n=0;var d=255;for(e=0;e<p.length;++e){for(r=0;r<p[e];++r)h[n++]=d;d^=255}this.dashPattern.dispose(),this.usingDashes=p.length>1,this.dashPattern=l(s,u(h,[f,1,4],[1,0,0])),this.dashPattern.minFilter=s.NEAREST,this.dashPattern.magFilter=s.NEAREST,this.dashLength=f,c.free(h);var y=t.positions;this.data=y;var m=this.bounds;m[0]=m[1]=1/0,m[2]=m[3]=-(1/0);var v=this.numPoints=y.length>>>1;if(0!==v){for(e=0;e<v;++e)i=y[2*e],a=y[2*e+1],isNaN(i)||isNaN(a)||(m[0]=Math.min(m[0],i),m[1]=Math.min(m[1],a),m[2]=Math.max(m[2],i),m[3]=Math.max(m[3],a));m[0]===m[2]&&(m[2]+=1),m[3]===m[1]&&(m[3]+=1);var g=c.mallocFloat64(24*(v-1)),b=c.mallocFloat32(24*(v-1)),x=c.mallocFloat32(24*(v-1)),_=c.mallocUint32(12*(v-1)),w=b.length,T=_.length;n=v;for(var M=0;n>1;){var S=--n;i=y[2*n],a=y[2*n+1];var E=S-1,k=y[2*E],C=y[2*E+1];if(!(isNaN(i)||isNaN(a)||isNaN(k)||isNaN(C))){M+=1,i=(i-m[0])/(m[2]-m[0]),a=(a-m[1])/(m[3]-m[1]),k=(k-m[0])/(m[2]-m[0]),C=(C-m[1])/(m[3]-m[1]);var A=k-i,P=C-a,L=S|1<<24,D=S-1,O=S,I=S-1|1<<24;g[--w]=-P,g[--w]=-A,g[--w]=a,g[--w]=i,_[--T]=L,_[--T]=D,g[--w]=P,g[--w]=A,g[--w]=C,g[--w]=k,_[--T]=O,_[--T]=I,g[--w]=-P,g[--w]=-A,g[--w]=C,g[--w]=k,_[--T]=O,_[--T]=I,g[--w]=P,g[--w]=A,g[--w]=C,g[--w]=k,_[--T]=O,_[--T]=I,g[--w]=-P,g[--w]=-A,g[--w]=a,g[--w]=i,_[--T]=L,_[--T]=D,g[--w]=P,g[--w]=A,g[--w]=a,g[--w]=i,_[--T]=L,_[--T]=D}}for(e=0;e<g.length;e++)b[e]=g[e],x[e]=g[e]-b[e];this.vertCount=6*M,this.lineBufferHi.update(b.subarray(w)),this.lineBufferLo.update(x.subarray(w)),this.pickBuffer.update(_.subarray(T)),c.free(g),c.free(b),c.free(x),c.free(_)}},f.dispose=function(){this.plot.removeObject(this),this.lineBufferLo.dispose(),this.lineBufferHi.dispose(),this.pickBuffer.dispose(),this.lineShader.dispose(),this.mitreShader.dispose(),this.fillShader.dispose(),this.pickShader.dispose(),this.dashPattern.dispose()}},{"./lib/shaders":150,"gl-buffer":138,"gl-shader":237,"gl-texture2d":249,ndarray:447,"typedarray-pool":519}],152:[function(t,e,r){var n=t("gl-shader"),o="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvoid main() {\n  vec4 projected = projection * view * model * vec4(position, 1.0);\n  vec4 tangentClip = projection * view * model * vec4(nextPosition - position, 0.0);\n  vec2 tangent = normalize(screenShape * tangentClip.xy);\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(tangent.y, -tangent.x) / screenShape;\n\n  gl_Position = vec4(projected.xy + projected.w * offset, projected.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n",i="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if(any(lessThan(worldPosition, clipBounds[0])) || any(greaterThan(worldPosition, clipBounds[1]))) {\n    discard;\n  }\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n",a="precision mediump float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\nlowp vec4 encode_float_1_0(highp float v) {\n  highp float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  highp vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  highp float e = floor(log2(av));\n  highp float m = av * pow(2.0, -e) - 1.0;\n  \n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n  \n  //Unpack exponent\n  highp float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0; \n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\n\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if(any(lessThan(worldPosition, clipBounds[0])) || any(greaterThan(worldPosition, clipBounds[1]))) {\n    discard;\n  }\n  gl_FragColor = vec4(pickId/255.0, encode_float_1_0(pixelArcLength).xyz);\n}",s=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];r.createShader=function(t){return n(t,o,i,null,s)},r.createPickShader=function(t){return n(t,o,a,null,s)}},{"gl-shader":237}],153:[function(t,e,r){"use strict";function n(t,e){for(var r=0,n=0;n<3;++n){var o=t[n]-e[n];r+=o*o}return Math.sqrt(r)}function o(t){for(var e=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],r=0;r<3;++r)e[0][r]=Math.max(t[0][r],e[0][r]),e[1][r]=Math.min(t[1][r],e[1][r]);return e}function i(t,e,r,n){this.arcLength=t,this.position=e,this.index=r,this.dataCoordinate=n}function a(t,e,r,n,o,i){this.gl=t,this.shader=e,this.pickShader=r,this.buffer=n,this.vao=o,this.clipBounds=[[-(1/0),-(1/0),-(1/0)],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=i,this.dashScale=1,this.opacity=1,this.dirty=!0,this.pixelRatio=1}function s(t){var e=t.gl||t.scene&&t.scene.gl,r=y(e);r.attributes.position.location=0,r.attributes.nextPosition.location=1,r.attributes.arcLength.location=2,r.attributes.lineWidth.location=3,r.attributes.color.location=4;var n=m(e);n.attributes.position.location=0,n.attributes.nextPosition.location=1,n.attributes.arcLength.location=2,n.attributes.lineWidth.location=3,n.attributes.color.location=4;for(var o=l(e),i=u(e,[{buffer:o,size:3,offset:0,stride:48},{buffer:o,size:3,offset:12,stride:48},{buffer:o,size:1,offset:24,stride:48},{buffer:o,size:1,offset:28,stride:48},{buffer:o,size:4,offset:32,stride:48}]),s=h(new Array(1024),[256,1,4]),p=0;p<1024;++p)s.data[p]=255;var f=c(e,s);f.wrap=e.REPEAT;var d=new a(e,r,n,o,i,f);return d.update(t),d}e.exports=s;var l=t("gl-buffer"),u=t("gl-vao"),c=t("gl-texture2d"),p=t("glsl-read-float"),f=t("binary-search-bounds"),h=t("ndarray"),d=t("./lib/shaders"),y=d.createShader,m=d.createPickShader,v=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],g=a.prototype;g.isTransparent=function(){return this.opacity<1},g.isOpaque=function(){return this.opacity>=1},g.pickSlots=1,g.setPickBase=function(t){this.pickId=t},g.drawTransparent=g.draw=function(t){var e=this.gl,r=this.shader,n=this.vao;r.bind(),r.uniforms={model:t.model||v,view:t.view||v,projection:t.projection||v,clipBounds:o(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[e.drawingBufferWidth,e.drawingBufferHeight],pixelRatio:this.pixelRatio},n.bind(),n.draw(e.TRIANGLE_STRIP,this.vertexCount)},g.drawPick=function(t){var e=this.gl,r=this.pickShader,n=this.vao;r.bind(),r.uniforms={model:t.model||v,view:t.view||v,projection:t.projection||v,pickId:this.pickId,clipBounds:o(this.clipBounds),screenShape:[e.drawingBufferWidth,e.drawingBufferHeight],pixelRatio:this.pixelRatio},n.bind(),n.draw(e.TRIANGLE_STRIP,this.vertexCount)},g.update=function(t){var e,r;this.dirty=!0;var o=!!t.connectGaps;"dashScale"in t&&(this.dashScale=t.dashScale),"opacity"in t&&(this.opacity=+t.opacity);var i=t.position||t.positions;if(i){var a=t.color||t.colors||[0,0,0,1],s=t.lineWidth||1,l=[],u=[],c=[],p=0,d=0,y=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]],m=!1;t:for(e=1;e<i.length;++e){var v=i[e-1],g=i[e];for(u.push(p),c.push(v.slice()),r=0;r<3;++r){if(isNaN(v[r])||isNaN(g[r])||!isFinite(v[r])||!isFinite(g[r])){if(!o&&l.length>0){for(var b=0;b<24;++b)l.push(l[l.length-12]);d+=2,m=!0}continue t}y[0][r]=Math.min(y[0][r],v[r],g[r]),y[1][r]=Math.max(y[1][r],v[r],g[r])}var x,_;Array.isArray(a[0])?(x=a[e-1],_=a[e]):x=_=a,3===x.length&&(x=[x[0],x[1],x[2],1]),3===_.length&&(_=[_[0],_[1],_[2],1]);var w;w=Array.isArray(s)?s[e-1]:s;var T=p;if(p+=n(v,g),m){for(r=0;r<2;++r)l.push(v[0],v[1],v[2],g[0],g[1],g[2],T,w,x[0],x[1],x[2],x[3]);d+=2,m=!1}l.push(v[0],v[1],v[2],g[0],g[1],g[2],T,w,x[0],x[1],x[2],x[3],v[0],v[1],v[2],g[0],g[1],g[2],T,-w,x[0],x[1],x[2],x[3],g[0],g[1],g[2],v[0],v[1],v[2],p,-w,_[0],_[1],_[2],_[3],g[0],g[1],g[2],v[0],v[1],v[2],p,w,_[0],_[1],_[2],_[3]),d+=4}if(this.buffer.update(l),u.push(p),c.push(i[i.length-1].slice()),this.bounds=y,this.vertexCount=d,this.points=c,this.arcLength=u,"dashes"in t){var M=t.dashes,S=M.slice();for(S.unshift(0),e=1;e<S.length;++e)S[e]=S[e-1]+S[e];var E=h(new Array(1024),[256,1,4]);for(e=0;e<256;++e){for(r=0;r<4;++r)E.set(e,0,r,0);1&f.le(S,S[S.length-1]*e/255)?E.set(e,0,0,0):E.set(e,0,0,255)}this.texture.setPixels(E)}}},g.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},g.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=p(t.value[0],t.value[1],t.value[2],0),r=f.le(this.arcLength,e);if(r<0)return null;if(r===this.arcLength.length-1)return new i(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),r);for(var n=this.points[r],o=this.points[Math.min(r+1,this.points.length-1)],a=(e-this.arcLength[r])/(this.arcLength[r+1]-this.arcLength[r]),s=1-a,l=[0,0,0],u=0;u<3;++u)l[u]=s*n[u]+a*o[u];var c=Math.min(a<.5?r:r+1,this.points.length-1);return new i(e,l,c,this.points[c])}},{"./lib/shaders":152,"binary-search-bounds":56,"gl-buffer":138,"gl-texture2d":249,"gl-vao":253,"glsl-read-float":260,ndarray:447}],154:[function(t,e,r){function n(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=r*i-o*n;return a?(a=1/a,t[0]=i*a,t[1]=-n*a,t[2]=-o*a,t[3]=r*a,t):null}e.exports=n},{}],155:[function(t,e,r){function n(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],p=c*a-s*u,f=-c*i+s*l,h=u*i-a*l,d=r*p+n*f+o*h;return d?(d=1/d,t[0]=p*d,t[1]=(-c*n+o*u)*d,t[2]=(s*n-o*a)*d,t[3]=f*d,t[4]=(c*r-o*l)*d,t[5]=(-s*r+o*i)*d,t[6]=h*d,t[7]=(-u*r+n*l)*d,t[8]=(a*r-n*i)*d,t):null}e.exports=n},{}],156:[function(t,e,r){function n(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}e.exports=n},{}],157:[function(t,e,r){function n(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}e.exports=n},{}],158:[function(t,e,r){function n(t){var e=t[0],r=t[1],n=t[2],o=t[3],i=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],p=t[10],f=t[11],h=t[12],d=t[13],y=t[14],m=t[15],v=e*a-r*i,g=e*s-n*i,b=e*l-o*i,x=r*s-n*a,_=r*l-o*a,w=n*l-o*s,T=u*d-c*h,M=u*y-p*h,S=u*m-f*h,E=c*y-p*d,k=c*m-f*d,C=p*m-f*y;return v*C-g*k+b*E+x*S-_*M+w*T}e.exports=n},{}],159:[function(t,e,r){function n(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=r+r,s=n+n,l=o+o,u=r*a,c=n*a,p=n*s,f=o*a,h=o*s,d=o*l,y=i*a,m=i*s,v=i*l;return t[0]=1-p-d,t[1]=c+v,t[2]=f-m,t[3]=0,t[4]=c-v,t[5]=1-u-d,t[6]=h+y,t[7]=0,t[8]=f+m,t[9]=h-y,t[10]=1-u-p,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}e.exports=n},{}],160:[function(t,e,r){function n(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],s=n+n,l=o+o,u=i+i,c=n*s,p=n*l,f=n*u,h=o*l,d=o*u,y=i*u,m=a*s,v=a*l,g=a*u;return t[0]=1-(h+y),t[1]=p+g,t[2]=f-v,t[3]=0,t[4]=p-g,t[5]=1-(c+y),t[6]=d+m,t[7]=0,t[8]=f+v,t[9]=d-m,t[10]=1-(c+h),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}e.exports=n},{}],161:[function(t,e,r){function n(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}e.exports=n},{}],162:[function(t,e,r){function n(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],p=e[9],f=e[10],h=e[11],d=e[12],y=e[13],m=e[14],v=e[15],g=r*s-n*a,b=r*l-o*a,x=r*u-i*a,_=n*l-o*s,w=n*u-i*s,T=o*u-i*l,M=c*y-p*d,S=c*m-f*d,E=c*v-h*d,k=p*m-f*y,C=p*v-h*y,A=f*v-h*m,P=g*A-b*C+x*k+_*E-w*S+T*M;return P?(P=1/P,t[0]=(s*A-l*C+u*k)*P,t[1]=(o*C-n*A-i*k)*P,t[2]=(y*T-m*w+v*_)*P,t[3]=(f*w-p*T-h*_)*P,t[4]=(l*E-a*A-u*S)*P,t[5]=(r*A-o*E+i*S)*P,t[6]=(m*x-d*T-v*b)*P,t[7]=(c*T-f*x+h*b)*P,t[8]=(a*C-s*E+u*M)*P,t[9]=(n*E-r*C-i*M)*P,t[10]=(d*w-y*x+v*g)*P,t[11]=(p*x-c*w-h*g)*P,t[12]=(s*S-a*k-l*M)*P,t[13]=(r*k-n*S+o*M)*P,t[14]=(y*b-d*_-m*g)*P,t[15]=(c*_-p*b+f*g)*P,t):null}e.exports=n},{}],163:[function(t,e,r){function n(t,e,r,n){var i,a,s,l,u,c,p,f,h,d,y=e[0],m=e[1],v=e[2],g=n[0],b=n[1],x=n[2],_=r[0],w=r[1],T=r[2];return Math.abs(y-_)<1e-6&&Math.abs(m-w)<1e-6&&Math.abs(v-T)<1e-6?o(t):(p=y-_,f=m-w,h=v-T,d=1/Math.sqrt(p*p+f*f+h*h),p*=d,f*=d,h*=d,i=b*h-x*f,a=x*p-g*h,s=g*f-b*p,d=Math.sqrt(i*i+a*a+s*s),d?(d=1/d,i*=d,a*=d,s*=d):(i=0,a=0,s=0),l=f*s-h*a,u=h*i-p*s,c=p*a-f*i,d=Math.sqrt(l*l+u*u+c*c),d?(d=1/d,l*=d,u*=d,c*=d):(l=0,u=0,c=0),t[0]=i,t[1]=l,t[2]=p,t[3]=0,t[4]=a,t[5]=u,t[6]=f,t[7]=0,t[8]=s,t[9]=c,t[10]=h,t[11]=0,t[12]=-(i*y+a*m+s*v),t[13]=-(l*y+u*m+c*v),t[14]=-(p*y+f*m+h*v),t[15]=1,t)}var o=t("./identity");e.exports=n},{"./identity":161}],164:[function(t,e,r){function n(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],f=e[9],h=e[10],d=e[11],y=e[12],m=e[13],v=e[14],g=e[15],b=r[0],x=r[1],_=r[2],w=r[3];return t[0]=b*n+x*s+_*p+w*y,t[1]=b*o+x*l+_*f+w*m,t[2]=b*i+x*u+_*h+w*v,t[3]=b*a+x*c+_*d+w*g,b=r[4],x=r[5],_=r[6],w=r[7],t[4]=b*n+x*s+_*p+w*y,t[5]=b*o+x*l+_*f+w*m,t[6]=b*i+x*u+_*h+w*v,t[7]=b*a+x*c+_*d+w*g,b=r[8],x=r[9],_=r[10],w=r[11],t[8]=b*n+x*s+_*p+w*y,t[9]=b*o+x*l+_*f+w*m,t[10]=b*i+x*u+_*h+w*v,t[11]=b*a+x*c+_*d+w*g,b=r[12],x=r[13],_=r[14],w=r[15],t[12]=b*n+x*s+_*p+w*y,t[13]=b*o+x*l+_*f+w*m,t[14]=b*i+x*u+_*h+w*v,t[15]=b*a+x*c+_*d+w*g,t}e.exports=n},{}],165:[function(t,e,r){function n(t,e,r,n,o){var i=1/Math.tan(e/2),a=1/(n-o);return t[0]=i/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+n)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*n*a,t[15]=0,t}e.exports=n},{}],166:[function(t,e,r){function n(t,e,r,n){var o,i,a,s,l,u,c,p,f,h,d,y,m,v,g,b,x,_,w,T,M,S,E,k,C=n[0],A=n[1],P=n[2],L=Math.sqrt(C*C+A*A+P*P);return Math.abs(L)<1e-6?null:(L=1/L,C*=L,A*=L,P*=L,o=Math.sin(r),i=Math.cos(r),a=1-i,s=e[0],l=e[1],u=e[2],c=e[3],p=e[4],f=e[5],h=e[6],d=e[7],y=e[8],m=e[9],v=e[10],g=e[11],b=C*C*a+i,x=A*C*a+P*o,_=P*C*a-A*o,w=C*A*a-P*o,T=A*A*a+i,M=P*A*a+C*o,S=C*P*a+A*o,E=A*P*a-C*o,k=P*P*a+i,t[0]=s*b+p*x+y*_,t[1]=l*b+f*x+m*_,t[2]=u*b+h*x+v*_,t[3]=c*b+d*x+g*_,t[4]=s*w+p*T+y*M,t[5]=l*w+f*T+m*M,t[6]=u*w+h*T+v*M,t[7]=c*w+d*T+g*M,t[8]=s*S+p*E+y*k,t[9]=l*S+f*E+m*k,t[10]=u*S+h*E+v*k,t[11]=c*S+d*E+g*k,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}e.exports=n},{}],167:[function(t,e,r){function n(t,e,r){var n=Math.sin(r),o=Math.cos(r),i=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],p=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*o+u*n,t[5]=a*o+c*n,t[6]=s*o+p*n,t[7]=l*o+f*n,t[8]=u*o-i*n,t[9]=c*o-a*n,t[10]=p*o-s*n,t[11]=f*o-l*n,t}e.exports=n},{}],168:[function(t,e,r){function n(t,e,r){var n=Math.sin(r),o=Math.cos(r),i=e[0],a=e[1],s=e[2],l=e[3],u=e[8],c=e[9],p=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o-u*n,t[1]=a*o-c*n,t[2]=s*o-p*n,t[3]=l*o-f*n,t[8]=i*n+u*o,t[9]=a*n+c*o,t[10]=s*n+p*o,t[11]=l*n+f*o,t}e.exports=n},{}],169:[function(t,e,r){function n(t,e,r){var n=Math.sin(r),o=Math.cos(r),i=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],p=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o+u*n,t[1]=a*o+c*n,t[2]=s*o+p*n,t[3]=l*o+f*n,t[4]=u*o-i*n,t[5]=c*o-a*n,t[6]=p*o-s*n,t[7]=f*o-l*n,t}e.exports=n},{}],170:[function(t,e,r){function n(t,e,r){var n=r[0],o=r[1],i=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}e.exports=n},{}],171:[function(t,e,r){function n(t,e,r){var n,o,i,a,s,l,u,c,p,f,h,d,y=r[0],m=r[1],v=r[2];return e===t?(t[12]=e[0]*y+e[4]*m+e[8]*v+e[12],t[13]=e[1]*y+e[5]*m+e[9]*v+e[13],t[14]=e[2]*y+e[6]*m+e[10]*v+e[14],t[15]=e[3]*y+e[7]*m+e[11]*v+e[15]):(n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],f=e[9],h=e[10],d=e[11],t[0]=n,t[1]=o,t[2]=i,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=p,t[9]=f,t[10]=h,t[11]=d,t[12]=n*y+s*m+p*v+e[12],t[13]=o*y+l*m+f*v+e[13],t[14]=i*y+u*m+h*v+e[14],t[15]=a*y+c*m+d*v+e[15]),t}e.exports=n},{}],172:[function(t,e,r){function n(t,e){if(t===e){var r=e[1],n=e[2],o=e[3],i=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=i,t[11]=e[14],t[12]=o,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}e.exports=n},{}],173:[function(t,e,r){"use strict";function n(t,e){switch(e.length){case 0:break;case 1:t[0]=1/e[0];break;case 4:o(t,e);break;case 9:i(t,e);break;case 16:a(t,e);break;default:throw new Error("currently supports matrices up to 4x4")}return t}e.exports=n;var o=t("gl-mat2/invert"),i=t("gl-mat3/invert"),a=t("gl-mat4/invert")},{"gl-mat2/invert":154,"gl-mat3/invert":155,"gl-mat4/invert":162}],174:[function(t,e,r){r.glMatrix=t("./gl-matrix/common.js"),r.mat2=t("./gl-matrix/mat2.js"),r.mat2d=t("./gl-matrix/mat2d.js"),r.mat3=t("./gl-matrix/mat3.js"),r.mat4=t("./gl-matrix/mat4.js"),r.quat=t("./gl-matrix/quat.js"),r.vec2=t("./gl-matrix/vec2.js"),r.vec3=t("./gl-matrix/vec3.js"),r.vec4=t("./gl-matrix/vec4.js")},{"./gl-matrix/common.js":175,"./gl-matrix/mat2.js":176,"./gl-matrix/mat2d.js":177,"./gl-matrix/mat3.js":178,"./gl-matrix/mat4.js":179,"./gl-matrix/quat.js":180,"./gl-matrix/vec2.js":181,"./gl-matrix/vec3.js":182,"./gl-matrix/vec4.js":183}],175:[function(t,e,r){var n={};n.EPSILON=1e-6,n.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random,n.ENABLE_SIMD=!1,n.SIMD_AVAILABLE=n.ARRAY_TYPE===Float32Array&&"SIMD"in this,n.USE_SIMD=n.ENABLE_SIMD&&n.SIMD_AVAILABLE,n.setMatrixArrayType=function(t){n.ARRAY_TYPE=t};var o=Math.PI/180;n.toRadian=function(t){return t*o},n.equals=function(t,e){return Math.abs(t-e)<=n.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))},e.exports=n},{}],176:[function(t,e,r){var n=t("./common.js"),o={};o.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},o.clone=function(t){var e=new n.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},o.fromValues=function(t,e,r,o){var i=new n.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=o,i},o.set=function(t,e,r,n,o){return t[0]=e,t[1]=r,t[2]=n,t[3]=o,t},o.transpose=function(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},o.invert=function(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=r*i-o*n;return a?(a=1/a,t[0]=i*a,t[1]=-n*a,t[2]=-o*a,t[3]=r*a,t):null},o.adjoint=function(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t},o.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},o.multiply=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],s=r[0],l=r[1],u=r[2],c=r[3];return t[0]=n*s+i*l,t[1]=o*s+a*l,t[2]=n*u+i*c,t[3]=o*u+a*c,t},o.mul=o.multiply,o.rotate=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(r),l=Math.cos(r);return t[0]=n*l+i*s,t[1]=o*l+a*s,t[2]=n*-s+i*l,t[3]=o*-s+a*l,t},o.scale=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],s=r[0],l=r[1];return t[0]=n*s,t[1]=o*s,t[2]=i*l,t[3]=a*l,t},o.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t},o.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},o.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},o.LDU=function(t,e,r,n){return t[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-t[2]*r[1],[t,e,r]},o.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t},o.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t},o.sub=o.subtract,o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},o.equals=function(t,e){var r=t[0],o=t[1],i=t[2],a=t[3],s=e[0],l=e[1],u=e[2],c=e[3];return Math.abs(r-s)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(o-l)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(i-u)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-c)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))},o.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t},o.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t},e.exports=o},{"./common.js":175}],177:[function(t,e,r){var n=t("./common.js"),o={};o.create=function(){var t=new n.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},o.clone=function(t){var e=new n.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},o.fromValues=function(t,e,r,o,i,a){var s=new n.ARRAY_TYPE(6);return s[0]=t,s[1]=e,s[2]=r,s[3]=o,s[4]=i,s[5]=a,s},o.set=function(t,e,r,n,o,i,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=o,t[4]=i,t[5]=a,t},o.invert=function(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=r*i-n*o;return l?(l=1/l,t[0]=i*l,t[1]=-n*l,t[2]=-o*l,t[3]=r*l,t[4]=(o*s-i*a)*l,t[5]=(n*a-r*s)*l,t):null},o.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},o.multiply=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=r[0],c=r[1],p=r[2],f=r[3],h=r[4],d=r[5];return t[0]=n*u+i*c,t[1]=o*u+a*c,t[2]=n*p+i*f,t[3]=o*p+a*f,t[4]=n*h+i*d+s,t[5]=o*h+a*d+l,t},o.mul=o.multiply,o.rotate=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=Math.sin(r),c=Math.cos(r);return t[0]=n*c+i*u,t[1]=o*c+a*u,t[2]=n*-u+i*c,t[3]=o*-u+a*c,t[4]=s,t[5]=l,t},o.scale=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=r[0],c=r[1];return t[0]=n*u,t[1]=o*u,t[2]=i*c,t[3]=a*c,t[4]=s,t[5]=l,t},o.translate=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=r[0],c=r[1];return t[0]=n,t[1]=o,t[2]=i,t[3]=a,t[4]=n*u+i*c+s,t[5]=o*u+a*c+l,t},o.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=0,t[5]=0,t},o.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},o.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},o.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},o.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t},o.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t},o.sub=o.subtract,o.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t},o.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},o.equals=function(t,e){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],u=e[0],c=e[1],p=e[2],f=e[3],h=e[4],d=e[5];return Math.abs(r-u)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(o-c)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(i-p)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-f)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(s-h)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(l-d)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(d))},e.exports=o},{"./common.js":175}],178:[function(t,e,r){var n=t("./common.js"),o={};o.create=function(){var t=new n.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},o.clone=function(t){var e=new n.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},o.fromValues=function(t,e,r,o,i,a,s,l,u){var c=new n.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=r,c[3]=o,c[4]=i,c[5]=a,c[6]=s,c[7]=l,c[8]=u,c},o.set=function(t,e,r,n,o,i,a,s,l,u){return t[0]=e,t[1]=r,t[2]=n,t[3]=o,t[4]=i,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],o=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=o}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},o.invert=function(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],p=c*a-s*u,f=-c*i+s*l,h=u*i-a*l,d=r*p+n*f+o*h;return d?(d=1/d,t[0]=p*d,t[1]=(-c*n+o*u)*d,t[2]=(s*n-o*a)*d,t[3]=f*d,t[4]=(c*r-o*l)*d,t[5]=(-s*r+o*i)*d,t[6]=h*d,t[7]=(-u*r+n*l)*d,t[8]=(a*r-n*i)*d,t):null},o.adjoint=function(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return t[0]=a*c-s*u,t[1]=o*u-n*c,t[2]=n*s-o*a,t[3]=s*l-i*c,t[4]=r*c-o*l,t[5]=o*i-r*s,t[6]=i*u-a*l,t[7]=n*l-r*u,t[8]=r*a-n*i,t},o.determinant=function(t){var e=t[0],r=t[1],n=t[2],o=t[3],i=t[4],a=t[5],s=t[6],l=t[7],u=t[8];return e*(u*i-a*l)+r*(-u*o+a*s)+n*(l*o-i*s)},o.multiply=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],f=r[0],h=r[1],d=r[2],y=r[3],m=r[4],v=r[5],g=r[6],b=r[7],x=r[8];return t[0]=f*n+h*a+d*u,t[1]=f*o+h*s+d*c,t[2]=f*i+h*l+d*p,t[3]=y*n+m*a+v*u,t[4]=y*o+m*s+v*c,t[5]=y*i+m*l+v*p,t[6]=g*n+b*a+x*u,t[7]=g*o+b*s+x*c,t[8]=g*i+b*l+x*p,t},o.mul=o.multiply,o.translate=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],f=r[0],h=r[1];return t[0]=n,t[1]=o,t[2]=i,t[3]=a,t[4]=s,t[5]=l,t[6]=f*n+h*a+u,t[7]=f*o+h*s+c,t[8]=f*i+h*l+p,t},o.rotate=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],f=Math.sin(r),h=Math.cos(r);return t[0]=h*n+f*a,t[1]=h*o+f*s,t[2]=h*i+f*l,t[3]=h*a-f*n,t[4]=h*s-f*o,t[5]=h*l-f*i,t[6]=u,t[7]=c,t[8]=p,t},o.scale=function(t,e,r){var n=r[0],o=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},o.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},o.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},o.fromQuat=function(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=r+r,s=n+n,l=o+o,u=r*a,c=n*a,p=n*s,f=o*a,h=o*s,d=o*l,y=i*a,m=i*s,v=i*l;return t[0]=1-p-d,t[3]=c-v,t[6]=f+m,t[1]=c+v,t[4]=1-u-d,t[7]=h-y,t[2]=f-m,t[5]=h+y,t[8]=1-u-p,t},o.normalFromMat4=function(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],p=e[9],f=e[10],h=e[11],d=e[12],y=e[13],m=e[14],v=e[15],g=r*s-n*a,b=r*l-o*a,x=r*u-i*a,_=n*l-o*s,w=n*u-i*s,T=o*u-i*l,M=c*y-p*d,S=c*m-f*d,E=c*v-h*d,k=p*m-f*y,C=p*v-h*y,A=f*v-h*m,P=g*A-b*C+x*k+_*E-w*S+T*M;return P?(P=1/P,t[0]=(s*A-l*C+u*k)*P,t[1]=(l*E-a*A-u*S)*P,t[2]=(a*C-s*E+u*M)*P,t[3]=(o*C-n*A-i*k)*P,t[4]=(r*A-o*E+i*S)*P,t[5]=(n*E-r*C-i*M)*P,t[6]=(y*T-m*w+v*_)*P,t[7]=(m*x-d*T-v*b)*P,t[8]=(d*w-y*x+v*g)*P,t):null},o.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},o.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t},o.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t},o.sub=o.subtract,o.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t},o.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},o.equals=function(t,e){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],p=t[8],f=e[0],h=e[1],d=e[2],y=e[3],m=e[4],v=e[5],g=t[6],b=e[7],x=e[8];return Math.abs(r-f)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(o-h)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(i-d)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(a-y)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(s-m)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(l-v)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(u-g)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(c-b)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(p-x)<=n.EPSILON*Math.max(1,Math.abs(p),Math.abs(x));
},e.exports=o},{"./common.js":175}],179:[function(t,e,r){var n=t("./common.js"),o={scalar:{},SIMD:{}};o.create=function(){var t=new n.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.clone=function(t){var e=new n.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},o.fromValues=function(t,e,r,o,i,a,s,l,u,c,p,f,h,d,y,m){var v=new n.ARRAY_TYPE(16);return v[0]=t,v[1]=e,v[2]=r,v[3]=o,v[4]=i,v[5]=a,v[6]=s,v[7]=l,v[8]=u,v[9]=c,v[10]=p,v[11]=f,v[12]=h,v[13]=d,v[14]=y,v[15]=m,v},o.set=function(t,e,r,n,o,i,a,s,l,u,c,p,f,h,d,y,m){return t[0]=e,t[1]=r,t[2]=n,t[3]=o,t[4]=i,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t[9]=c,t[10]=p,t[11]=f,t[12]=h,t[13]=d,t[14]=y,t[15]=m,t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.scalar.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],o=e[3],i=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=i,t[11]=e[14],t[12]=o,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},o.SIMD.transpose=function(t,e){var r,n,o,i,a,s,l,u,c,p;return r=SIMD.Float32x4.load(e,0),n=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),i=SIMD.Float32x4.load(e,12),a=SIMD.Float32x4.shuffle(r,n,0,1,4,5),s=SIMD.Float32x4.shuffle(o,i,0,1,4,5),l=SIMD.Float32x4.shuffle(a,s,0,2,4,6),u=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(t,0,l),SIMD.Float32x4.store(t,4,u),a=SIMD.Float32x4.shuffle(r,n,2,3,6,7),s=SIMD.Float32x4.shuffle(o,i,2,3,6,7),c=SIMD.Float32x4.shuffle(a,s,0,2,4,6),p=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(t,8,c),SIMD.Float32x4.store(t,12,p),t},o.transpose=n.USE_SIMD?o.SIMD.transpose:o.scalar.transpose,o.scalar.invert=function(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],p=e[9],f=e[10],h=e[11],d=e[12],y=e[13],m=e[14],v=e[15],g=r*s-n*a,b=r*l-o*a,x=r*u-i*a,_=n*l-o*s,w=n*u-i*s,T=o*u-i*l,M=c*y-p*d,S=c*m-f*d,E=c*v-h*d,k=p*m-f*y,C=p*v-h*y,A=f*v-h*m,P=g*A-b*C+x*k+_*E-w*S+T*M;return P?(P=1/P,t[0]=(s*A-l*C+u*k)*P,t[1]=(o*C-n*A-i*k)*P,t[2]=(y*T-m*w+v*_)*P,t[3]=(f*w-p*T-h*_)*P,t[4]=(l*E-a*A-u*S)*P,t[5]=(r*A-o*E+i*S)*P,t[6]=(m*x-d*T-v*b)*P,t[7]=(c*T-f*x+h*b)*P,t[8]=(a*C-s*E+u*M)*P,t[9]=(n*E-r*C-i*M)*P,t[10]=(d*w-y*x+v*g)*P,t[11]=(p*x-c*w-h*g)*P,t[12]=(s*S-a*k-l*M)*P,t[13]=(r*k-n*S+o*M)*P,t[14]=(y*b-d*_-m*g)*P,t[15]=(c*_-p*b+f*g)*P,t):null},o.SIMD.invert=function(t,e){var r,n,o,i,a,s,l,u,c,p,f=SIMD.Float32x4.load(e,0),h=SIMD.Float32x4.load(e,4),d=SIMD.Float32x4.load(e,8),y=SIMD.Float32x4.load(e,12);return a=SIMD.Float32x4.shuffle(f,h,0,1,4,5),n=SIMD.Float32x4.shuffle(d,y,0,1,4,5),r=SIMD.Float32x4.shuffle(a,n,0,2,4,6),n=SIMD.Float32x4.shuffle(n,a,1,3,5,7),a=SIMD.Float32x4.shuffle(f,h,2,3,6,7),i=SIMD.Float32x4.shuffle(d,y,2,3,6,7),o=SIMD.Float32x4.shuffle(a,i,0,2,4,6),i=SIMD.Float32x4.shuffle(i,a,1,3,5,7),a=SIMD.Float32x4.mul(o,i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.mul(n,a),l=SIMD.Float32x4.mul(r,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),s),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,a),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),a=SIMD.Float32x4.mul(n,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),s),c=SIMD.Float32x4.mul(r,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(i,a)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,a),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),a=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(n,2,3,0,1),i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),o=SIMD.Float32x4.swizzle(o,2,3,0,1),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),s),u=SIMD.Float32x4.mul(r,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(o,a)),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,a),u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),a=SIMD.Float32x4.mul(r,n),a=SIMD.Float32x4.swizzle(a,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),u),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,a),c),a=SIMD.Float32x4.swizzle(a,2,3,0,1),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),u),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(o,a)),a=SIMD.Float32x4.mul(r,i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(o,a)),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,a),u),a=SIMD.Float32x4.swizzle(a,2,3,0,1),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),l),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(n,a)),a=SIMD.Float32x4.mul(r,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),l),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(n,a)),a=SIMD.Float32x4.swizzle(a,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(i,a)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,a),c),p=SIMD.Float32x4.mul(r,s),p=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(p,2,3,0,1),p),p=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(p,1,0,3,2),p),a=SIMD.Float32x4.reciprocalApproximation(p),p=SIMD.Float32x4.sub(SIMD.Float32x4.add(a,a),SIMD.Float32x4.mul(p,SIMD.Float32x4.mul(a,a))),(p=SIMD.Float32x4.swizzle(p,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(p,s)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(p,l)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(p,u)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(p,c)),t):null},o.invert=n.USE_SIMD?o.SIMD.invert:o.scalar.invert,o.scalar.adjoint=function(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],p=e[9],f=e[10],h=e[11],d=e[12],y=e[13],m=e[14],v=e[15];return t[0]=s*(f*v-h*m)-p*(l*v-u*m)+y*(l*h-u*f),t[1]=-(n*(f*v-h*m)-p*(o*v-i*m)+y*(o*h-i*f)),t[2]=n*(l*v-u*m)-s*(o*v-i*m)+y*(o*u-i*l),t[3]=-(n*(l*h-u*f)-s*(o*h-i*f)+p*(o*u-i*l)),t[4]=-(a*(f*v-h*m)-c*(l*v-u*m)+d*(l*h-u*f)),t[5]=r*(f*v-h*m)-c*(o*v-i*m)+d*(o*h-i*f),t[6]=-(r*(l*v-u*m)-a*(o*v-i*m)+d*(o*u-i*l)),t[7]=r*(l*h-u*f)-a*(o*h-i*f)+c*(o*u-i*l),t[8]=a*(p*v-h*y)-c*(s*v-u*y)+d*(s*h-u*p),t[9]=-(r*(p*v-h*y)-c*(n*v-i*y)+d*(n*h-i*p)),t[10]=r*(s*v-u*y)-a*(n*v-i*y)+d*(n*u-i*s),t[11]=-(r*(s*h-u*p)-a*(n*h-i*p)+c*(n*u-i*s)),t[12]=-(a*(p*m-f*y)-c*(s*m-l*y)+d*(s*f-l*p)),t[13]=r*(p*m-f*y)-c*(n*m-o*y)+d*(n*f-o*p),t[14]=-(r*(s*m-l*y)-a*(n*m-o*y)+d*(n*l-o*s)),t[15]=r*(s*f-l*p)-a*(n*f-o*p)+c*(n*l-o*s),t},o.SIMD.adjoint=function(t,e){var r,n,o,i,a,s,l,u,c,p,f,h,d,r=SIMD.Float32x4.load(e,0),n=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),i=SIMD.Float32x4.load(e,12);return c=SIMD.Float32x4.shuffle(r,n,0,1,4,5),s=SIMD.Float32x4.shuffle(o,i,0,1,4,5),a=SIMD.Float32x4.shuffle(c,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,c,1,3,5,7),c=SIMD.Float32x4.shuffle(r,n,2,3,6,7),u=SIMD.Float32x4.shuffle(o,i,2,3,6,7),l=SIMD.Float32x4.shuffle(c,u,0,2,4,6),u=SIMD.Float32x4.shuffle(u,c,1,3,5,7),c=SIMD.Float32x4.mul(l,u),c=SIMD.Float32x4.swizzle(c,1,0,3,2),p=SIMD.Float32x4.mul(s,c),f=SIMD.Float32x4.mul(a,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,c),p),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,c),f),f=SIMD.Float32x4.swizzle(f,2,3,0,1),c=SIMD.Float32x4.mul(s,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),p),d=SIMD.Float32x4.mul(a,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(u,c)),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,c),d),d=SIMD.Float32x4.swizzle(d,2,3,0,1),c=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,3,0,1),u),c=SIMD.Float32x4.swizzle(c,1,0,3,2),l=SIMD.Float32x4.swizzle(l,2,3,0,1),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),p),h=SIMD.Float32x4.mul(a,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(l,c)),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,c),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),c=SIMD.Float32x4.mul(a,s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),h),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,c),d),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,c),h),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(l,c)),c=SIMD.Float32x4.mul(a,u),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(l,c)),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),h),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),f),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(s,c)),c=SIMD.Float32x4.mul(a,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),f),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(s,c)),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(u,c)),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),d),SIMD.Float32x4.store(t,0,p),SIMD.Float32x4.store(t,4,f),SIMD.Float32x4.store(t,8,h),SIMD.Float32x4.store(t,12,d),t},o.adjoint=n.USE_SIMD?o.SIMD.adjoint:o.scalar.adjoint,o.determinant=function(t){var e=t[0],r=t[1],n=t[2],o=t[3],i=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],p=t[10],f=t[11],h=t[12],d=t[13],y=t[14],m=t[15],v=e*a-r*i,g=e*s-n*i,b=e*l-o*i,x=r*s-n*a,_=r*l-o*a,w=n*l-o*s,T=u*d-c*h,M=u*y-p*h,S=u*m-f*h,E=c*y-p*d,k=c*m-f*d,C=p*m-f*y;return v*C-g*k+b*E+x*S-_*M+w*T},o.SIMD.multiply=function(t,e,r){var n=SIMD.Float32x4.load(e,0),o=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4.load(r,0),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),i),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),a))));SIMD.Float32x4.store(t,0,l);var u=SIMD.Float32x4.load(r,4),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,2,2,2,2),i),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,3,3,3,3),a))));SIMD.Float32x4.store(t,4,c);var p=SIMD.Float32x4.load(r,8),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,2,2,2,2),i),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,3,3,3,3),a))));SIMD.Float32x4.store(t,8,f);var h=SIMD.Float32x4.load(r,12),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,2,2,2,2),i),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,3,3,3,3),a))));return SIMD.Float32x4.store(t,12,d),t},o.scalar.multiply=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],f=e[9],h=e[10],d=e[11],y=e[12],m=e[13],v=e[14],g=e[15],b=r[0],x=r[1],_=r[2],w=r[3];return t[0]=b*n+x*s+_*p+w*y,t[1]=b*o+x*l+_*f+w*m,t[2]=b*i+x*u+_*h+w*v,t[3]=b*a+x*c+_*d+w*g,b=r[4],x=r[5],_=r[6],w=r[7],t[4]=b*n+x*s+_*p+w*y,t[5]=b*o+x*l+_*f+w*m,t[6]=b*i+x*u+_*h+w*v,t[7]=b*a+x*c+_*d+w*g,b=r[8],x=r[9],_=r[10],w=r[11],t[8]=b*n+x*s+_*p+w*y,t[9]=b*o+x*l+_*f+w*m,t[10]=b*i+x*u+_*h+w*v,t[11]=b*a+x*c+_*d+w*g,b=r[12],x=r[13],_=r[14],w=r[15],t[12]=b*n+x*s+_*p+w*y,t[13]=b*o+x*l+_*f+w*m,t[14]=b*i+x*u+_*h+w*v,t[15]=b*a+x*c+_*d+w*g,t},o.multiply=n.USE_SIMD?o.SIMD.multiply:o.scalar.multiply,o.mul=o.multiply,o.scalar.translate=function(t,e,r){var n,o,i,a,s,l,u,c,p,f,h,d,y=r[0],m=r[1],v=r[2];return e===t?(t[12]=e[0]*y+e[4]*m+e[8]*v+e[12],t[13]=e[1]*y+e[5]*m+e[9]*v+e[13],t[14]=e[2]*y+e[6]*m+e[10]*v+e[14],t[15]=e[3]*y+e[7]*m+e[11]*v+e[15]):(n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],f=e[9],h=e[10],d=e[11],t[0]=n,t[1]=o,t[2]=i,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=p,t[9]=f,t[10]=h,t[11]=d,t[12]=n*y+s*m+p*v+e[12],t[13]=o*y+l*m+f*v+e[13],t[14]=i*y+u*m+h*v+e[14],t[15]=a*y+c*m+d*v+e[15]),t},o.SIMD.translate=function(t,e,r){var n=SIMD.Float32x4.load(e,0),o=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4(r[0],r[1],r[2],0);e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]),n=SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(s,0,0,0,0)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(s,1,1,1,1)),i=SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(s,2,2,2,2));var l=SIMD.Float32x4.add(n,SIMD.Float32x4.add(o,SIMD.Float32x4.add(i,a)));return SIMD.Float32x4.store(t,12,l),t},o.translate=n.USE_SIMD?o.SIMD.translate:o.scalar.translate,o.scalar.scale=function(t,e,r){var n=r[0],o=r[1],i=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},o.SIMD.scale=function(t,e,r){var n,o,i,a=SIMD.Float32x4(r[0],r[1],r[2],0);return n=SIMD.Float32x4.load(e,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(a,0,0,0,0))),o=SIMD.Float32x4.load(e,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(a,1,1,1,1))),i=SIMD.Float32x4.load(e,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(a,2,2,2,2))),t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},o.scale=n.USE_SIMD?o.SIMD.scale:o.scalar.scale,o.rotate=function(t,e,r,o){var i,a,s,l,u,c,p,f,h,d,y,m,v,g,b,x,_,w,T,M,S,E,k,C,A=o[0],P=o[1],L=o[2],D=Math.sqrt(A*A+P*P+L*L);return Math.abs(D)<n.EPSILON?null:(D=1/D,A*=D,P*=D,L*=D,i=Math.sin(r),a=Math.cos(r),s=1-a,l=e[0],u=e[1],c=e[2],p=e[3],f=e[4],h=e[5],d=e[6],y=e[7],m=e[8],v=e[9],g=e[10],b=e[11],x=A*A*s+a,_=P*A*s+L*i,w=L*A*s-P*i,T=A*P*s-L*i,M=P*P*s+a,S=L*P*s+A*i,E=A*L*s+P*i,k=P*L*s-A*i,C=L*L*s+a,t[0]=l*x+f*_+m*w,t[1]=u*x+h*_+v*w,t[2]=c*x+d*_+g*w,t[3]=p*x+y*_+b*w,t[4]=l*T+f*M+m*S,t[5]=u*T+h*M+v*S,t[6]=c*T+d*M+g*S,t[7]=p*T+y*M+b*S,t[8]=l*E+f*k+m*C,t[9]=u*E+h*k+v*C,t[10]=c*E+d*k+g*C,t[11]=p*E+y*k+b*C,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},o.scalar.rotateX=function(t,e,r){var n=Math.sin(r),o=Math.cos(r),i=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],p=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*o+u*n,t[5]=a*o+c*n,t[6]=s*o+p*n,t[7]=l*o+f*n,t[8]=u*o-i*n,t[9]=c*o-a*n,t[10]=p*o-s*n,t[11]=f*o-l*n,t},o.SIMD.rotateX=function(t,e,r){var n=SIMD.Float32x4.splat(Math.sin(r)),o=SIMD.Float32x4.splat(Math.cos(r));e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var i=SIMD.Float32x4.load(e,4),a=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(i,o),SIMD.Float32x4.mul(a,n))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,o),SIMD.Float32x4.mul(i,n))),t},o.rotateX=n.USE_SIMD?o.SIMD.rotateX:o.scalar.rotateX,o.scalar.rotateY=function(t,e,r){var n=Math.sin(r),o=Math.cos(r),i=e[0],a=e[1],s=e[2],l=e[3],u=e[8],c=e[9],p=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o-u*n,t[1]=a*o-c*n,t[2]=s*o-p*n,t[3]=l*o-f*n,t[8]=i*n+u*o,t[9]=a*n+c*o,t[10]=s*n+p*o,t[11]=l*n+f*o,t},o.SIMD.rotateY=function(t,e,r){var n=SIMD.Float32x4.splat(Math.sin(r)),o=SIMD.Float32x4.splat(Math.cos(r));e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var i=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,o),SIMD.Float32x4.mul(a,n))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(i,n),SIMD.Float32x4.mul(a,o))),t},o.rotateY=n.USE_SIMD?o.SIMD.rotateY:o.scalar.rotateY,o.scalar.rotateZ=function(t,e,r){var n=Math.sin(r),o=Math.cos(r),i=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],p=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o+u*n,t[1]=a*o+c*n,t[2]=s*o+p*n,t[3]=l*o+f*n,t[4]=u*o-i*n,t[5]=c*o-a*n,t[6]=p*o-s*n,t[7]=f*o-l*n,t},o.SIMD.rotateZ=function(t,e,r){var n=SIMD.Float32x4.splat(Math.sin(r)),o=SIMD.Float32x4.splat(Math.cos(r));e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var i=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(i,o),SIMD.Float32x4.mul(a,n))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,o),SIMD.Float32x4.mul(i,n))),t},o.rotateZ=n.USE_SIMD?o.SIMD.rotateZ:o.scalar.rotateZ,o.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},o.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromRotation=function(t,e,r){var o,i,a,s=r[0],l=r[1],u=r[2],c=Math.sqrt(s*s+l*l+u*u);return Math.abs(c)<n.EPSILON?null:(c=1/c,s*=c,l*=c,u*=c,o=Math.sin(e),i=Math.cos(e),a=1-i,t[0]=s*s*a+i,t[1]=l*s*a+u*o,t[2]=u*s*a-l*o,t[3]=0,t[4]=s*l*a-u*o,t[5]=l*l*a+i,t[6]=u*l*a+s*o,t[7]=0,t[8]=s*u*a+l*o,t[9]=l*u*a-s*o,t[10]=u*u*a+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},o.fromXRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromYRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromZRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromRotationTranslation=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],s=n+n,l=o+o,u=i+i,c=n*s,p=n*l,f=n*u,h=o*l,d=o*u,y=i*u,m=a*s,v=a*l,g=a*u;return t[0]=1-(h+y),t[1]=p+g,t[2]=f-v,t[3]=0,t[4]=p-g,t[5]=1-(c+y),t[6]=d+m,t[7]=0,t[8]=f+v,t[9]=d-m,t[10]=1-(c+h),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},o.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},o.getRotation=function(t,e){var r=e[0]+e[5]+e[10],n=0;return r>0?(n=2*Math.sqrt(r+1),t[3]=.25*n,t[0]=(e[6]-e[9])/n,t[1]=(e[8]-e[2])/n,t[2]=(e[1]-e[4])/n):e[0]>e[5]&e[0]>e[10]?(n=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/n,t[0]=.25*n,t[1]=(e[1]+e[4])/n,t[2]=(e[8]+e[2])/n):e[5]>e[10]?(n=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/n,t[0]=(e[1]+e[4])/n,t[1]=.25*n,t[2]=(e[6]+e[9])/n):(n=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/n,t[0]=(e[8]+e[2])/n,t[1]=(e[6]+e[9])/n,t[2]=.25*n),t},o.fromRotationTranslationScale=function(t,e,r,n){var o=e[0],i=e[1],a=e[2],s=e[3],l=o+o,u=i+i,c=a+a,p=o*l,f=o*u,h=o*c,d=i*u,y=i*c,m=a*c,v=s*l,g=s*u,b=s*c,x=n[0],_=n[1],w=n[2];return t[0]=(1-(d+m))*x,t[1]=(f+b)*x,t[2]=(h-g)*x,t[3]=0,t[4]=(f-b)*_,t[5]=(1-(p+m))*_,t[6]=(y+v)*_,t[7]=0,t[8]=(h+g)*w,t[9]=(y-v)*w,t[10]=(1-(p+d))*w,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},o.fromRotationTranslationScaleOrigin=function(t,e,r,n,o){var i=e[0],a=e[1],s=e[2],l=e[3],u=i+i,c=a+a,p=s+s,f=i*u,h=i*c,d=i*p,y=a*c,m=a*p,v=s*p,g=l*u,b=l*c,x=l*p,_=n[0],w=n[1],T=n[2],M=o[0],S=o[1],E=o[2];return t[0]=(1-(y+v))*_,t[1]=(h+x)*_,t[2]=(d-b)*_,t[3]=0,t[4]=(h-x)*w,t[5]=(1-(f+v))*w,t[6]=(m+g)*w,t[7]=0,t[8]=(d+b)*T,t[9]=(m-g)*T,t[10]=(1-(f+y))*T,t[11]=0,t[12]=r[0]+M-(t[0]*M+t[4]*S+t[8]*E),t[13]=r[1]+S-(t[1]*M+t[5]*S+t[9]*E),t[14]=r[2]+E-(t[2]*M+t[6]*S+t[10]*E),t[15]=1,t},o.fromQuat=function(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=r+r,s=n+n,l=o+o,u=r*a,c=n*a,p=n*s,f=o*a,h=o*s,d=o*l,y=i*a,m=i*s,v=i*l;return t[0]=1-p-d,t[1]=c+v,t[2]=f-m,t[3]=0,t[4]=c-v,t[5]=1-u-d,t[6]=h+y,t[7]=0,t[8]=f+m,t[9]=h-y,t[10]=1-u-p,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.frustum=function(t,e,r,n,o,i,a){var s=1/(r-e),l=1/(o-n),u=1/(i-a);return t[0]=2*i*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*l,t[6]=0,t[7]=0,t[8]=(r+e)*s,t[9]=(o+n)*l,t[10]=(a+i)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*i*2*u,t[15]=0,t},o.perspective=function(t,e,r,n,o){var i=1/Math.tan(e/2),a=1/(n-o);return t[0]=i/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+n)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*n*a,t[15]=0,t},o.perspectiveFromFieldOfView=function(t,e,r,n){var o=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(a+s),u=2/(o+i);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-((a-s)*l*.5),t[9]=(o-i)*u*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t},o.ortho=function(t,e,r,n,o,i,a){var s=1/(e-r),l=1/(n-o),u=1/(i-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+r)*s,t[13]=(o+n)*l,t[14]=(a+i)*u,t[15]=1,t},o.lookAt=function(t,e,r,i){var a,s,l,u,c,p,f,h,d,y,m=e[0],v=e[1],g=e[2],b=i[0],x=i[1],_=i[2],w=r[0],T=r[1],M=r[2];return Math.abs(m-w)<n.EPSILON&&Math.abs(v-T)<n.EPSILON&&Math.abs(g-M)<n.EPSILON?o.identity(t):(f=m-w,h=v-T,d=g-M,y=1/Math.sqrt(f*f+h*h+d*d),f*=y,h*=y,d*=y,a=x*d-_*h,s=_*f-b*d,l=b*h-x*f,y=Math.sqrt(a*a+s*s+l*l),y?(y=1/y,a*=y,s*=y,l*=y):(a=0,s=0,l=0),u=h*l-d*s,c=d*a-f*l,p=f*s-h*a,y=Math.sqrt(u*u+c*c+p*p),y?(y=1/y,u*=y,c*=y,p*=y):(u=0,c=0,p=0),t[0]=a,t[1]=u,t[2]=f,t[3]=0,t[4]=s,t[5]=c,t[6]=h,t[7]=0,t[8]=l,t[9]=p,t[10]=d,t[11]=0,t[12]=-(a*m+s*v+l*g),t[13]=-(u*m+c*v+p*g),t[14]=-(f*m+h*v+d*g),t[15]=1,t)},o.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},o.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t},o.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t},o.sub=o.subtract,o.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t},o.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},o.equals=function(t,e){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],p=t[8],f=t[9],h=t[10],d=t[11],y=t[12],m=t[13],v=t[14],g=t[15],b=e[0],x=e[1],_=e[2],w=e[3],T=e[4],M=e[5],S=e[6],E=e[7],k=e[8],C=e[9],A=e[10],P=e[11],L=e[12],D=e[13],O=e[14],I=e[15];return Math.abs(r-b)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(o-x)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(i-_)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(a-w)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(s-T)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(T))&&Math.abs(l-M)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(u-S)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(c-E)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(p-k)<=n.EPSILON*Math.max(1,Math.abs(p),Math.abs(k))&&Math.abs(f-C)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(C))&&Math.abs(h-A)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(d-P)<=n.EPSILON*Math.max(1,Math.abs(d),Math.abs(P))&&Math.abs(y-L)<=n.EPSILON*Math.max(1,Math.abs(y),Math.abs(L))&&Math.abs(m-D)<=n.EPSILON*Math.max(1,Math.abs(m),Math.abs(D))&&Math.abs(v-O)<=n.EPSILON*Math.max(1,Math.abs(v),Math.abs(O))&&Math.abs(g-I)<=n.EPSILON*Math.max(1,Math.abs(g),Math.abs(I))},e.exports=o},{"./common.js":175}],180:[function(t,e,r){var n=t("./common.js"),o=t("./mat3.js"),i=t("./vec3.js"),a=t("./vec4.js"),s={};s.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.rotationTo=function(){var t=i.create(),e=i.fromValues(1,0,0),r=i.fromValues(0,1,0);return function(n,o,a){var l=i.dot(o,a);return l<-.999999?(i.cross(t,e,o),i.length(t)<1e-6&&i.cross(t,r,o),i.normalize(t,t),s.setAxisAngle(n,t,Math.PI),n):l>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(i.cross(t,o,a),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=1+l,s.normalize(n,n))}}(),s.setAxes=function(){var t=o.create();return function(e,r,n,o){return t[0]=n[0],t[3]=n[1],t[6]=n[2],t[1]=o[0],t[4]=o[1],t[7]=o[2],t[2]=-r[0],t[5]=-r[1],t[8]=-r[2],s.normalize(e,s.fromMat3(e,t))}}(),s.clone=a.clone,s.fromValues=a.fromValues,s.copy=a.copy,s.set=a.set,s.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.setAxisAngle=function(t,e,r){r*=.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t},s.getAxisAngle=function(t,e){var r=2*Math.acos(e[3]),n=Math.sin(r/2);return 0!=n?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=1,t[1]=0,t[2]=0),r},s.add=a.add,s.multiply=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],s=r[0],l=r[1],u=r[2],c=r[3];return t[0]=n*c+a*s+o*u-i*l,t[1]=o*c+a*l+i*s-n*u,t[2]=i*c+a*u+n*l-o*s,t[3]=a*c-n*s-o*l-i*u,t},s.mul=s.multiply,s.scale=a.scale,s.rotateX=function(t,e,r){r*=.5;var n=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(r),l=Math.cos(r);return t[0]=n*l+a*s,t[1]=o*l+i*s,t[2]=i*l-o*s,t[3]=a*l-n*s,t},s.rotateY=function(t,e,r){r*=.5;var n=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(r),l=Math.cos(r);return t[0]=n*l-i*s,t[1]=o*l+a*s,t[2]=i*l+n*s,t[3]=a*l-o*s,t},s.rotateZ=function(t,e,r){r*=.5;var n=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(r),l=Math.cos(r);return t[0]=n*l+o*s,t[1]=o*l-n*s,t[2]=i*l+a*s,t[3]=a*l-i*s,t},s.calculateW=function(t,e){var r=e[0],n=e[1],o=e[2];return t[0]=r,t[1]=n,t[2]=o,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-o*o)),t},s.dot=a.dot,s.lerp=a.lerp,s.slerp=function(t,e,r,n){var o,i,a,s,l,u=e[0],c=e[1],p=e[2],f=e[3],h=r[0],d=r[1],y=r[2],m=r[3];return i=u*h+c*d+p*y+f*m,i<0&&(i=-i,h=-h,d=-d,y=-y,m=-m),1-i>1e-6?(o=Math.acos(i),a=Math.sin(o),s=Math.sin((1-n)*o)/a,l=Math.sin(n*o)/a):(s=1-n,l=n),t[0]=s*u+l*h,t[1]=s*c+l*d,t[2]=s*p+l*y,t[3]=s*f+l*m,t},s.sqlerp=function(){var t=s.create(),e=s.create();return function(r,n,o,i,a,l){return s.slerp(t,n,a,l),s.slerp(e,o,i,l),s.slerp(r,t,e,2*l*(1-l)),r}}(),s.invert=function(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=r*r+n*n+o*o+i*i,s=a?1/a:0;return t[0]=-r*s,t[1]=-n*s,t[2]=-o*s,t[3]=i*s,t},s.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},s.length=a.length,s.len=s.length,s.squaredLength=a.squaredLength,s.sqrLen=s.squaredLength,s.normalize=a.normalize,s.fromMat3=function(t,e){var r,n=e[0]+e[4]+e[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var o=0;e[4]>e[0]&&(o=1),e[8]>e[3*o+o]&&(o=2);var i=(o+1)%3,a=(o+2)%3;r=Math.sqrt(e[3*o+o]-e[3*i+i]-e[3*a+a]+1),t[o]=.5*r,r=.5/r,t[3]=(e[3*i+a]-e[3*a+i])*r,t[i]=(e[3*i+o]+e[3*o+i])*r,t[a]=(e[3*a+o]+e[3*o+a])*r}return t},s.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},s.exactEquals=a.exactEquals,s.equals=a.equals,e.exports=s},{"./common.js":175,"./mat3.js":178,"./vec3.js":182,"./vec4.js":183}],181:[function(t,e,r){var n=t("./common.js"),o={};o.create=function(){var t=new n.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},o.clone=function(t){var e=new n.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},o.fromValues=function(t,e){var r=new n.ARRAY_TYPE(2);return r[0]=t,r[1]=e,r},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},o.set=function(t,e,r){return t[0]=e,t[1]=r,t},o.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t},o.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t},o.sub=o.subtract,o.multiply=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t},o.mul=o.multiply,o.divide=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t},o.div=o.divide,o.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},o.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},o.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t},o.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t},o.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},o.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t},o.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t},o.distance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)},o.dist=o.distance,o.squaredDistance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n},o.sqrDist=o.squaredDistance,o.length=function(t){var e=t[0],r=t[1];return Math.sqrt(e*e+r*r)},o.len=o.length,o.squaredLength=function(t){var e=t[0],r=t[1];return e*e+r*r},o.sqrLen=o.squaredLength,o.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},o.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},o.normalize=function(t,e){var r=e[0],n=e[1],o=r*r+n*n;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o),t},o.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},o.cross=function(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t},o.lerp=function(t,e,r,n){var o=e[0],i=e[1];return t[0]=o+n*(r[0]-o),t[1]=i+n*(r[1]-i),t},o.random=function(t,e){e=e||1;var r=2*n.RANDOM()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t},o.transformMat2=function(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[2]*o,t[1]=r[1]*n+r[3]*o,t},o.transformMat2d=function(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[2]*o+r[4],t[1]=r[1]*n+r[3]*o+r[5],t},o.transformMat3=function(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[3]*o+r[6],t[1]=r[1]*n+r[4]*o+r[7],t},o.transformMat4=function(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[4]*o+r[12],t[1]=r[1]*n+r[5]*o+r[13],t},o.forEach=function(){var t=o.create();return function(e,r,n,o,i,a){var s,l;for(r||(r=2),n||(n=0),l=o?Math.min(o*r+n,e.length):e.length,s=n;s<l;s+=r)t[0]=e[s],t[1]=e[s+1],i(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}(),o.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},o.equals=function(t,e){var r=t[0],o=t[1],i=e[0],a=e[1];return Math.abs(r-i)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(o-a)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(a))},e.exports=o},{"./common.js":175}],182:[function(t,e,r){var n=t("./common.js"),o={};o.create=function(){var t=new n.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},o.clone=function(t){var e=new n.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},o.fromValues=function(t,e,r){var o=new n.ARRAY_TYPE(3);return o[0]=t,o[1]=e,o[2]=r,o},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},o.set=function(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t},o.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t},o.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],
t[2]=e[2]-r[2],t},o.sub=o.subtract,o.multiply=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t},o.mul=o.multiply,o.divide=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t},o.div=o.divide,o.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},o.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},o.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t},o.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t},o.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},o.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t},o.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t},o.distance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(r*r+n*n+o*o)},o.dist=o.distance,o.squaredDistance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return r*r+n*n+o*o},o.sqrDist=o.squaredDistance,o.length=function(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)},o.len=o.length,o.squaredLength=function(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n},o.sqrLen=o.squaredLength,o.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},o.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},o.normalize=function(t,e){var r=e[0],n=e[1],o=e[2],i=r*r+n*n+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i),t},o.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},o.cross=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=r[0],s=r[1],l=r[2];return t[0]=o*l-i*s,t[1]=i*a-n*l,t[2]=n*s-o*a,t},o.lerp=function(t,e,r,n){var o=e[0],i=e[1],a=e[2];return t[0]=o+n*(r[0]-o),t[1]=i+n*(r[1]-i),t[2]=a+n*(r[2]-a),t},o.hermite=function(t,e,r,n,o,i){var a=i*i,s=a*(2*i-3)+1,l=a*(i-2)+i,u=a*(i-1),c=a*(3-2*i);return t[0]=e[0]*s+r[0]*l+n[0]*u+o[0]*c,t[1]=e[1]*s+r[1]*l+n[1]*u+o[1]*c,t[2]=e[2]*s+r[2]*l+n[2]*u+o[2]*c,t},o.bezier=function(t,e,r,n,o,i){var a=1-i,s=a*a,l=i*i,u=s*a,c=3*i*s,p=3*l*a,f=l*i;return t[0]=e[0]*u+r[0]*c+n[0]*p+o[0]*f,t[1]=e[1]*u+r[1]*c+n[1]*p+o[1]*f,t[2]=e[2]*u+r[2]*c+n[2]*p+o[2]*f,t},o.random=function(t,e){e=e||1;var r=2*n.RANDOM()*Math.PI,o=2*n.RANDOM()-1,i=Math.sqrt(1-o*o)*e;return t[0]=Math.cos(r)*i,t[1]=Math.sin(r)*i,t[2]=o*e,t},o.transformMat4=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=r[3]*n+r[7]*o+r[11]*i+r[15];return a=a||1,t[0]=(r[0]*n+r[4]*o+r[8]*i+r[12])/a,t[1]=(r[1]*n+r[5]*o+r[9]*i+r[13])/a,t[2]=(r[2]*n+r[6]*o+r[10]*i+r[14])/a,t},o.transformMat3=function(t,e,r){var n=e[0],o=e[1],i=e[2];return t[0]=n*r[0]+o*r[3]+i*r[6],t[1]=n*r[1]+o*r[4]+i*r[7],t[2]=n*r[2]+o*r[5]+i*r[8],t},o.transformQuat=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=r[0],s=r[1],l=r[2],u=r[3],c=u*n+s*i-l*o,p=u*o+l*n-a*i,f=u*i+a*o-s*n,h=-a*n-s*o-l*i;return t[0]=c*u+h*-a+p*-l-f*-s,t[1]=p*u+h*-s+f*-a-c*-l,t[2]=f*u+h*-l+c*-s-p*-a,t},o.rotateX=function(t,e,r,n){var o=[],i=[];return o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[2]=e[2]-r[2],i[0]=o[0],i[1]=o[1]*Math.cos(n)-o[2]*Math.sin(n),i[2]=o[1]*Math.sin(n)+o[2]*Math.cos(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},o.rotateY=function(t,e,r,n){var o=[],i=[];return o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[2]=e[2]-r[2],i[0]=o[2]*Math.sin(n)+o[0]*Math.cos(n),i[1]=o[1],i[2]=o[2]*Math.cos(n)-o[0]*Math.sin(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},o.rotateZ=function(t,e,r,n){var o=[],i=[];return o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[2]=e[2]-r[2],i[0]=o[0]*Math.cos(n)-o[1]*Math.sin(n),i[1]=o[0]*Math.sin(n)+o[1]*Math.cos(n),i[2]=o[2],t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},o.forEach=function(){var t=o.create();return function(e,r,n,o,i,a){var s,l;for(r||(r=3),n||(n=0),l=o?Math.min(o*r+n,e.length):e.length,s=n;s<l;s+=r)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],i(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}(),o.angle=function(t,e){var r=o.fromValues(t[0],t[1],t[2]),n=o.fromValues(e[0],e[1],e[2]);o.normalize(r,r),o.normalize(n,n);var i=o.dot(r,n);return i>1?0:Math.acos(i)},o.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},o.equals=function(t,e){var r=t[0],o=t[1],i=t[2],a=e[0],s=e[1],l=e[2];return Math.abs(r-a)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(o-s)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(i-l)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))},e.exports=o},{"./common.js":175}],183:[function(t,e,r){var n=t("./common.js"),o={};o.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},o.clone=function(t){var e=new n.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},o.fromValues=function(t,e,r,o){var i=new n.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=o,i},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},o.set=function(t,e,r,n,o){return t[0]=e,t[1]=r,t[2]=n,t[3]=o,t},o.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t},o.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t},o.sub=o.subtract,o.multiply=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t},o.mul=o.multiply,o.divide=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t},o.div=o.divide,o.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},o.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},o.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t},o.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t},o.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},o.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t},o.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t},o.distance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2],i=e[3]-t[3];return Math.sqrt(r*r+n*n+o*o+i*i)},o.dist=o.distance,o.squaredDistance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2],i=e[3]-t[3];return r*r+n*n+o*o+i*i},o.sqrDist=o.squaredDistance,o.length=function(t){var e=t[0],r=t[1],n=t[2],o=t[3];return Math.sqrt(e*e+r*r+n*n+o*o)},o.len=o.length,o.squaredLength=function(t){var e=t[0],r=t[1],n=t[2],o=t[3];return e*e+r*r+n*n+o*o},o.sqrLen=o.squaredLength,o.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},o.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},o.normalize=function(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=r*r+n*n+o*o+i*i;return a>0&&(a=1/Math.sqrt(a),t[0]=r*a,t[1]=n*a,t[2]=o*a,t[3]=i*a),t},o.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},o.lerp=function(t,e,r,n){var o=e[0],i=e[1],a=e[2],s=e[3];return t[0]=o+n*(r[0]-o),t[1]=i+n*(r[1]-i),t[2]=a+n*(r[2]-a),t[3]=s+n*(r[3]-s),t},o.random=function(t,e){return e=e||1,t[0]=n.RANDOM(),t[1]=n.RANDOM(),t[2]=n.RANDOM(),t[3]=n.RANDOM(),o.normalize(t,t),o.scale(t,t,e),t},o.transformMat4=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3];return t[0]=r[0]*n+r[4]*o+r[8]*i+r[12]*a,t[1]=r[1]*n+r[5]*o+r[9]*i+r[13]*a,t[2]=r[2]*n+r[6]*o+r[10]*i+r[14]*a,t[3]=r[3]*n+r[7]*o+r[11]*i+r[15]*a,t},o.transformQuat=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=r[0],s=r[1],l=r[2],u=r[3],c=u*n+s*i-l*o,p=u*o+l*n-a*i,f=u*i+a*o-s*n,h=-a*n-s*o-l*i;return t[0]=c*u+h*-a+p*-l-f*-s,t[1]=p*u+h*-s+f*-a-c*-l,t[2]=f*u+h*-l+c*-s-p*-a,t[3]=e[3],t},o.forEach=function(){var t=o.create();return function(e,r,n,o,i,a){var s,l;for(r||(r=4),n||(n=0),l=o?Math.min(o*r+n,e.length):e.length,s=n;s<l;s+=r)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],i(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}(),o.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},o.equals=function(t,e){var r=t[0],o=t[1],i=t[2],a=t[3],s=e[0],l=e[1],u=e[2],c=e[3];return Math.abs(r-s)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(o-l)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(i-u)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-c)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))},e.exports=o},{"./common.js":175}],184:[function(t,e,r){"use strict";function n(t,e){for(var r=[0,0,0,0],n=0;n<4;++n)for(var o=0;o<4;++o)r[o]+=t[4*n+o]*e[n];return r}function o(t,e,r,o,i){for(var a=n(o,n(r,n(e,[t[0],t[1],t[2],1]))),s=0;s<3;++s)a[s]/=a[3];return[.5*i[0]*(1+a[0]),.5*i[1]*(1-a[1])]}function i(t,e){if(2===t.length){for(var r=0,n=0,o=0;o<2;++o)r+=Math.pow(e[o]-t[0][o],2),n+=Math.pow(e[o]-t[1][o],2);return r=Math.sqrt(r),n=Math.sqrt(n),r+n<1e-6?[1,0]:[n/(r+n),r/(n+r)]}if(3===t.length){var i=[0,0];return u(t[0],t[1],t[2],e,i),l(t,i)}return[]}function a(t,e){for(var r=[0,0,0],n=0;n<t.length;++n)for(var o=t[n],i=e[n],a=0;a<3;++a)r[a]+=i*o[a];return r}function s(t,e,r,n,s,l){if(1===t.length)return[0,t[0].slice()];for(var u=new Array(t.length),c=0;c<t.length;++c)u[c]=o(t[c],r,n,s,l);for(var p=0,f=1/0,c=0;c<u.length;++c){for(var h=0,d=0;d<2;++d)h+=Math.pow(u[c][d]-e[d],2);h<f&&(f=h,p=c)}for(var y=i(u,e),m=0,c=0;c<3;++c){if(y[c]<-.001||y[c]>1.0001)return null;m+=y[c]}return Math.abs(m-1)>.001?null:[p,a(t,y),y]}var l=t("barycentric"),u=t("polytope-closest-point/lib/closest_point_2d.js");e.exports=s},{barycentric:39,"polytope-closest-point/lib/closest_point_2d.js":465}],185:[function(t,e,r){var n="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec4 m_position  = model * vec4(position, 1.0);\n  vec4 t_position  = view * m_position;\n  gl_Position      = projection * t_position;\n  f_color          = color;\n  f_normal         = normal;\n  f_data           = position;\n  f_eyeDirection   = eyePosition   - position;\n  f_lightDirection = lightPosition - position;\n  f_uv             = uv;\n}",o="precision mediump float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution_2_0(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\n\n\nfloat cookTorranceSpecular_1_1(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution_2_0(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular\n            , opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if(any(lessThan(f_data, clipBounds[0])) || \n     any(greaterThan(f_data, clipBounds[1]))) {\n    discard;\n  }\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n  \n  if(!gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = cookTorranceSpecular_1_1(L, V, N, roughness, fresnel);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}",i="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}",a="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if(any(lessThan(f_data, clipBounds[0])) || \n     any(greaterThan(f_data, clipBounds[1]))) {\n    discard;\n  }\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}",s="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if(any(lessThan(position, clipBounds[0])) || \n     any(greaterThan(position, clipBounds[1]))) {\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    gl_Position = projection * view * model * vec4(position, 1.0);\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}",l="precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5,0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}",u="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_id        = id;\n  f_position  = position;\n}",c="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if(any(lessThan(f_position, clipBounds[0])) || \n     any(greaterThan(f_position, clipBounds[1]))) {\n    discard;\n  }\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}",p="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if(any(lessThan(position, clipBounds[0])) || \n     any(greaterThan(position, clipBounds[1]))) {\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    gl_Position  = projection * view * model * vec4(position, 1.0);\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}",f="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}",h="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor,1);\n}\n";r.meshShader={vertex:n,fragment:o,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},r.wireShader={vertex:i,fragment:a,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},r.pointShader={vertex:s,fragment:l,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},r.pickShader={vertex:u,fragment:c,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},r.pointPickShader={vertex:p,fragment:c,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},r.contourShader={vertex:f,fragment:h,attributes:[{name:"position",type:"vec3"}]}},{}],186:[function(t,e,r){"use strict";function n(t,e,r,n,o,i,a,s,l,u,c,p,f,h,d,y,m,v,g,b,x,_,w,T,M,S,E){this.gl=t,this.cells=[],this.positions=[],this.intensity=[],this.texture=e,this.dirty=!0,this.triShader=r,this.lineShader=n,this.pointShader=o,this.pickShader=i,this.pointPickShader=a,this.contourShader=s,this.trianglePositions=l,this.triangleColors=c,this.triangleNormals=f,this.triangleUVs=p,this.triangleIds=u,this.triangleVAO=h,this.triangleCount=0,this.lineWidth=1,this.edgePositions=d,this.edgeColors=m,this.edgeUVs=v,this.edgeIds=y,this.edgeVAO=g,this.edgeCount=0,this.pointPositions=b,this.pointColors=_,this.pointUVs=w,this.pointSizes=T,this.pointIds=x,this.pointVAO=M,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=S,this.contourVAO=E,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]],this.clipBounds=[[-(1/0),-(1/0),-(1/0)],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this._model=R,this._view=R,this._projection=R,this._resolution=[1,1]}function o(t){for(var e=M({colormap:t,nshades:256,format:"rgba"}),r=new Uint8Array(1024),n=0;n<256;++n){for(var o=e[n],i=0;i<3;++i)r[4*n+i]=o[i];r[4*n+3]=255*o[3]}return T(r,[256,256,4],[4,0,1])}function i(t,e,r){for(var n=new Array(e),o=0;o<e;++o)n[o]=0;for(var i=t.length,o=0;o<i;++o)for(var a=t[o],s=0;s<a.length;++s)n[a[s]]=r[o];return n}function a(t){for(var e=t.length,r=new Array(e),n=0;n<e;++n)r[n]=t[n][2];return r}function s(t){var e=m(t,A);return e.attributes.position.location=0,e.attributes.color.location=2,e.attributes.uv.location=3,e.attributes.normal.location=4,e}function l(t){var e=m(t,P);return e.attributes.position.location=0,e.attributes.color.location=2,e.attributes.uv.location=3,e}function u(t){var e=m(t,L);return e.attributes.position.location=0,e.attributes.color.location=2,e.attributes.uv.location=3,e.attributes.pointSize.location=4,e}function c(t){var e=m(t,D);return e.attributes.position.location=0,e.attributes.id.location=1,e}function p(t){var e=m(t,O);return e.attributes.position.location=0,e.attributes.id.location=1,e.attributes.pointSize.location=4,e}function f(t){var e=m(t,I);return e.attributes.position.location=0,e}function h(t){var e=t.gl,r=s(e),o=l(e),i=u(e),a=c(e),h=p(e),d=f(e),y=b(e,T(new Uint8Array([255,255,255,255]),[1,1,4]));y.generateMipmap(),y.minFilter=e.LINEAR_MIPMAP_LINEAR,y.magFilter=e.LINEAR;var m=v(e),x=v(e),_=v(e),w=v(e),M=v(e),S=g(e,[{buffer:m,type:e.FLOAT,size:3},{buffer:M,type:e.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:x,type:e.FLOAT,size:4},{buffer:_,type:e.FLOAT,size:2},{buffer:w,type:e.FLOAT,size:3}]),E=v(e),k=v(e),C=v(e),A=v(e),P=g(e,[{buffer:E,type:e.FLOAT,size:3},{buffer:A,type:e.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:k,type:e.FLOAT,size:4},{buffer:C,type:e.FLOAT,size:2}]),L=v(e),D=v(e),O=v(e),I=v(e),R=v(e),N=g(e,[{buffer:L,type:e.FLOAT,size:3},{buffer:R,type:e.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:D,type:e.FLOAT,size:4},{buffer:O,type:e.FLOAT,size:2},{buffer:I,type:e.FLOAT,size:1}]),j=v(e),F=g(e,[{buffer:j,type:e.FLOAT,size:3}]),z=new n(e,y,r,o,i,a,h,d,m,M,x,_,w,S,E,A,k,C,P,L,R,D,O,I,N,j,F);return z.update(t),z}var d=1e-6,y=1e-6,m=t("gl-shader"),v=t("gl-buffer"),g=t("gl-vao"),b=t("gl-texture2d"),x=t("normals"),_=t("gl-mat4/multiply"),w=t("gl-mat4/invert"),T=t("ndarray"),M=t("colormap"),S=t("simplicial-complex-contour"),E=t("typedarray-pool"),k=t("./lib/shaders"),C=t("./lib/closest-point"),A=k.meshShader,P=k.wireShader,L=k.pointShader,D=k.pickShader,O=k.pointPickShader,I=k.contourShader,R=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],N=n.prototype;N.isOpaque=function(){return this.opacity>=1},N.isTransparent=function(){return this.opacity<1},N.pickSlots=1,N.setPickBase=function(t){this.pickId=t},N.highlight=function(t){if(!t||!this.contourEnable)return void(this.contourCount=0);for(var e=S(this.cells,this.intensity,t.intensity),r=e.cells,n=e.vertexIds,o=e.vertexWeights,i=r.length,a=E.mallocFloat32(6*i),s=0,l=0;l<i;++l)for(var u=r[l],c=0;c<2;++c){var p=u[0];2===u.length&&(p=u[c]);for(var f=n[p][0],h=n[p][1],d=o[p],y=1-d,m=this.positions[f],v=this.positions[h],g=0;g<3;++g)a[s++]=d*m[g]+y*v[g]}this.contourCount=s/3|0,this.contourPositions.update(a.subarray(0,s)),E.free(a)},N.update=function(t){t=t||{};var e=this.gl;this.dirty=!0,"contourEnable"in t&&(this.contourEnable=t.contourEnable),"contourColor"in t&&(this.contourColor=t.contourColor),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"lightPosition"in t&&(this.lightPosition=t.lightPosition),"opacity"in t&&(this.opacity=t.opacity),"ambient"in t&&(this.ambientLight=t.ambient),"diffuse"in t&&(this.diffuseLight=t.diffuse),"specular"in t&&(this.specularLight=t.specular),"roughness"in t&&(this.roughness=t.roughness),"fresnel"in t&&(this.fresnel=t.fresnel),t.texture?(this.texture.dispose(),this.texture=b(e,t.texture)):t.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=e.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=e.LINEAR,this.texture.setPixels(o(t.colormap)),this.texture.generateMipmap());var r=t.cells,n=t.positions;if(n&&r){var s=[],l=[],u=[],c=[],p=[],f=[],h=[],m=[],v=[],g=[],_=[],w=[],T=[],M=[];this.cells=r,this.positions=n;var S=t.vertexNormals,E=t.cellNormals,k=void 0===t.vertexNormalsEpsilon?d:t.vertexNormalsEpsilon,C=void 0===t.faceNormalsEpsilon?y:t.faceNormalsEpsilon;t.useFacetNormals&&!E&&(E=x.faceNormals(r,n,C)),E||S||(S=x.vertexNormals(r,n,k));var A=t.vertexColors,P=t.cellColors,L=t.meshColor||[1,1,1,1],D=t.vertexUVs,O=t.vertexIntensity,I=t.cellUVs,R=t.cellIntensity,N=1/0,j=-(1/0);if(!D&&!I)if(O)for(var F=0;F<O.length;++F){var z=O[F];N=Math.min(N,z),j=Math.max(j,z)}else if(R)for(var F=0;F<R.length;++F){var z=R[F];N=Math.min(N,z),j=Math.max(j,z)}else for(var F=0;F<n.length;++F){var z=n[F][2];N=Math.min(N,z),j=Math.max(j,z)}O?this.intensity=O:R?this.intensity=i(r,n.length,R):this.intensity=a(n);var B=t.pointSizes,U=t.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]];for(var F=0;F<n.length;++F)for(var V=n[F],H=0;H<3;++H)!isNaN(V[H])&&isFinite(V[H])&&(this.bounds[0][H]=Math.min(this.bounds[0][H],V[H]),this.bounds[1][H]=Math.max(this.bounds[1][H],V[H]));var W=0,q=0,G=0;t:for(var F=0;F<r.length;++F){var Y=r[F];switch(Y.length){case 1:for(var X=Y[0],V=n[X],H=0;H<3;++H)if(isNaN(V[H])||!isFinite(V[H]))continue t;g.push(V[0],V[1],V[2]);var K;K=A?A[X]:P?P[F]:L,3===K.length?_.push(K[0],K[1],K[2],1):_.push(K[0],K[1],K[2],K[3]);var Z;Z=D?D[X]:O?[(O[X]-N)/(j-N),0]:I?I[F]:R?[(R[F]-N)/(j-N),0]:[(V[2]-N)/(j-N),0],w.push(Z[0],Z[1]),B?T.push(B[X]):T.push(U),M.push(F),G+=1;break;case 2:for(var H=0;H<2;++H)for(var X=Y[H],V=n[X],J=0;J<3;++J)if(isNaN(V[J])||!isFinite(V[J]))continue t;for(var H=0;H<2;++H){var X=Y[H],V=n[X];f.push(V[0],V[1],V[2]);var K;K=A?A[X]:P?P[F]:L,3===K.length?h.push(K[0],K[1],K[2],1):h.push(K[0],K[1],K[2],K[3]);var Z;Z=D?D[X]:O?[(O[X]-N)/(j-N),0]:I?I[F]:R?[(R[F]-N)/(j-N),0]:[(V[2]-N)/(j-N),0],m.push(Z[0],Z[1]),v.push(F)}q+=1;break;case 3:for(var H=0;H<3;++H)for(var X=Y[H],V=n[X],J=0;J<3;++J)if(isNaN(V[J])||!isFinite(V[J]))continue t;for(var H=0;H<3;++H){var X=Y[H],V=n[X];s.push(V[0],V[1],V[2]);var K;K=A?A[X]:P?P[F]:L,3===K.length?l.push(K[0],K[1],K[2],1):l.push(K[0],K[1],K[2],K[3]);var Z;Z=D?D[X]:O?[(O[X]-N)/(j-N),0]:I?I[F]:R?[(R[F]-N)/(j-N),0]:[(V[2]-N)/(j-N),0],c.push(Z[0],Z[1]);var $;$=S?S[X]:E[F],u.push($[0],$[1],$[2]),p.push(F)}W+=1}}this.pointCount=G,this.edgeCount=q,this.triangleCount=W,this.pointPositions.update(g),this.pointColors.update(_),this.pointUVs.update(w),this.pointSizes.update(T),this.pointIds.update(new Uint32Array(M)),this.edgePositions.update(f),this.edgeColors.update(h),this.edgeUVs.update(m),this.edgeIds.update(new Uint32Array(v)),this.trianglePositions.update(s),this.triangleColors.update(l),this.triangleUVs.update(c),this.triangleNormals.update(u),this.triangleIds.update(new Uint32Array(p))}},N.drawTransparent=N.draw=function(t){t=t||{};for(var e=this.gl,r=t.model||R,n=t.view||R,o=t.projection||R,i=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],a=0;a<3;++a)i[0][a]=Math.max(i[0][a],this.clipBounds[0][a]),i[1][a]=Math.min(i[1][a],this.clipBounds[1][a]);var s={model:r,view:n,projection:o,clipBounds:i,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,contourColor:this.contourColor,texture:0};this.texture.bind(0);var l=new Array(16);_(l,s.view,s.model),_(l,s.projection,l),w(l,l);for(var a=0;a<3;++a)s.eyePosition[a]=l[12+a]/l[15];for(var u=l[15],a=0;a<3;++a)u+=this.lightPosition[a]*l[4*a+3];for(var a=0;a<3;++a){for(var c=l[12+a],p=0;p<3;++p)c+=l[4*p+a]*this.lightPosition[p];s.lightPosition[a]=c/u}if(this.triangleCount>0){var f=this.triShader;f.bind(),f.uniforms=s,this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var f=this.lineShader;f.bind(),f.uniforms=s,this.edgeVAO.bind(),e.lineWidth(this.lineWidth),e.drawArrays(e.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()}if(this.pointCount>0){var f=this.pointShader;f.bind(),f.uniforms=s,this.pointVAO.bind(),e.drawArrays(e.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var f=this.contourShader;f.bind(),f.uniforms=s,this.contourVAO.bind(),e.drawArrays(e.LINES,0,this.contourCount),this.contourVAO.unbind()}},N.drawPick=function(t){t=t||{};for(var e=this.gl,r=t.model||R,n=t.view||R,o=t.projection||R,i=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],a=0;a<3;++a)i[0][a]=Math.max(i[0][a],this.clipBounds[0][a]),i[1][a]=Math.min(i[1][a],this.clipBounds[1][a]);this._model=[].slice.call(r),this._view=[].slice.call(n),this._projection=[].slice.call(o),this._resolution=[e.drawingBufferWidth,e.drawingBufferHeight];var s={model:r,view:n,projection:o,clipBounds:i,pickId:this.pickId/255},l=this.pickShader;if(l.bind(),l.uniforms=s,this.triangleCount>0&&(this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),e.lineWidth(this.lineWidth),e.drawArrays(e.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0){var l=this.pointPickShader;l.bind(),l.uniforms=s,this.pointVAO.bind(),e.drawArrays(e.POINTS,0,this.pointCount),this.pointVAO.unbind()}},N.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;for(var e=t.value[0]+256*t.value[1]+65536*t.value[2],r=this.cells[e],n=this.positions,o=new Array(r.length),i=0;i<r.length;++i)o[i]=n[r[i]];var a=C(o,[t.coord[0],this._resolution[1]-t.coord[1]],this._model,this._view,this._projection,this._resolution);if(!a)return null;for(var s=a[2],l=0,i=0;i<r.length;++i)l+=s[i]*this.intensity[r[i]];return{position:a[1],index:r[a[0]],cell:r,cellId:e,intensity:l,dataCoordinate:this.positions[r[a[0]]]}},N.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},e.exports=h},{"./lib/closest-point":184,"./lib/shaders":185,colormap:89,"gl-buffer":138,"gl-mat4/invert":162,"gl-mat4/multiply":164,"gl-shader":237,"gl-texture2d":249,"gl-vao":253,ndarray:447,normals:449,"simplicial-complex-contour":496,"typedarray-pool":519}],187:[function(t,e,r){"use strict";function n(t,e,r){this.plot=t,this.vbo=e,this.shader=r}function o(t){var e=t.gl,r=i(e,[0,0,0,1,1,0,1,1]),o=a(e,s.boxVert,s.lineFrag);return new n(t,r,o)}e.exports=o;var i=t("gl-buffer"),a=t("gl-shader"),s=t("./shaders"),l=n.prototype;l.bind=function(){var t=this.shader;this.vbo.bind(),this.shader.bind(),t.attributes.coord.pointer(),t.uniforms.screenBox=this.plot.screenBox},l.drawBox=function(){var t=[0,0],e=[0,0];return function(r,n,o,i,a){var s=this.plot,l=this.shader,u=s.gl;t[0]=r,t[1]=n,e[0]=o,e[1]=i,l.uniforms.lo=t,l.uniforms.hi=e,l.uniforms.color=a,u.drawArrays(u.TRIANGLE_STRIP,0,4)}}(),l.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},{"./shaders":190,"gl-buffer":138,"gl-shader":193}],188:[function(t,e,r){"use strict";function n(t,e,r,n){this.plot=t,this.vbo=e,this.shader=r,this.tickShader=n,this.ticks=[[],[]]}function o(t,e){return t-e}function i(t){var e=t.gl,r=a(e),o=s(e,u.gridVert,u.gridFrag),i=s(e,u.tickVert,u.gridFrag),l=new n(t,r,o,i);return l}e.exports=i;var a=t("gl-buffer"),s=t("gl-shader"),l=t("binary-search-bounds"),u=t("./shaders"),c=n.prototype;c.draw=function(){var t=[0,0],e=[0,0],r=[0,0];return function(){for(var n=this.plot,o=this.vbo,i=this.shader,a=this.ticks,s=n.gl,l=n._tickBounds,u=n.dataBox,c=n.viewBox,p=n.gridLineWidth,f=n.gridLineColor,h=n.gridLineEnable,d=n.pixelRatio,y=0;y<2;++y){var m=l[y],v=l[y+2],g=v-m,b=.5*(u[y+2]+u[y]),x=u[y+2]-u[y];e[y]=2*g/x,t[y]=2*(m-b)/x}i.bind(),o.bind(),i.attributes.dataCoord.pointer(),i.uniforms.dataShift=t,i.uniforms.dataScale=e;for(var _=0,y=0;y<2;++y){r[0]=r[1]=0,r[y]=1,i.uniforms.dataAxis=r,i.uniforms.lineWidth=p[y]/(c[y+2]-c[y])*d,i.uniforms.color=f[y];var w=6*a[y].length;h[y]&&w&&s.drawArrays(s.TRIANGLES,_,w),_+=w}}}(),c.drawTickMarks=function(){var t=[0,0],e=[0,0],r=[1,0],n=[0,1],i=[0,0],a=[0,0];return function(){for(var s=this.plot,u=this.vbo,c=this.tickShader,p=this.ticks,f=s.gl,h=s._tickBounds,d=s.dataBox,y=s.viewBox,m=s.pixelRatio,v=s.screenBox,g=v[2]-v[0],b=v[3]-v[1],x=y[2]-y[0],_=y[3]-y[1],w=0;w<2;++w){var T=h[w],M=h[w+2],S=M-T,E=.5*(d[w+2]+d[w]),k=d[w+2]-d[w];e[w]=2*S/k,t[w]=2*(T-E)/k}e[0]*=x/g,t[0]*=x/g,e[1]*=_/b,t[1]*=_/b,c.bind(),u.bind(),c.attributes.dataCoord.pointer();var C=c.uniforms;C.dataShift=t,C.dataScale=e;var A=s.tickMarkLength,P=s.tickMarkWidth,L=s.tickMarkColor,D=0,O=6*p[0].length,I=Math.min(l.ge(p[0],(d[0]-h[0])/(h[2]-h[0]),o),p[0].length),R=Math.min(l.gt(p[0],(d[2]-h[0])/(h[2]-h[0]),o),p[0].length),N=D+6*I,j=6*Math.max(0,R-I),F=Math.min(l.ge(p[1],(d[1]-h[1])/(h[3]-h[1]),o),p[1].length),z=Math.min(l.gt(p[1],(d[3]-h[1])/(h[3]-h[1]),o),p[1].length),B=O+6*F,U=6*Math.max(0,z-F);i[0]=2*(y[0]-A[1])/g-1,i[1]=(y[3]+y[1])/b-1,a[0]=A[1]*m/g,a[1]=P[1]*m/b,U&&(C.color=L[1],C.tickScale=a,C.dataAxis=n,C.screenOffset=i,f.drawArrays(f.TRIANGLES,B,U)),i[0]=(y[2]+y[0])/g-1,i[1]=2*(y[1]-A[0])/b-1,a[0]=P[0]*m/g,a[1]=A[0]*m/b,j&&(C.color=L[0],C.tickScale=a,C.dataAxis=r,C.screenOffset=i,f.drawArrays(f.TRIANGLES,N,j)),i[0]=2*(y[2]+A[3])/g-1,i[1]=(y[3]+y[1])/b-1,a[0]=A[3]*m/g,a[1]=P[3]*m/b,U&&(C.color=L[3],C.tickScale=a,C.dataAxis=n,C.screenOffset=i,f.drawArrays(f.TRIANGLES,B,U)),i[0]=(y[2]+y[0])/g-1,i[1]=2*(y[3]+A[2])/b-1,a[0]=P[2]*m/g,a[1]=A[2]*m/b,
j&&(C.color=L[2],C.tickScale=a,C.dataAxis=r,C.screenOffset=i,f.drawArrays(f.TRIANGLES,N,j))}}(),c.update=function(){var t=[1,1,-1,-1,1,-1],e=[1,-1,1,1,-1,-1];return function(r){for(var n=r.ticks,o=r.bounds,i=new Float32Array(18*(n[0].length+n[1].length)),a=(this.plot.zeroLineEnable,0),s=[[],[]],l=0;l<2;++l)for(var u=s[l],c=n[l],p=o[l],f=o[l+2],h=0;h<c.length;++h){var d=(c[h].x-p)/(f-p);u.push(d);for(var y=0;y<6;++y)i[a++]=d,i[a++]=t[y],i[a++]=e[y]}this.ticks=s,this.vbo.update(i)}}(),c.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},{"./shaders":190,"binary-search-bounds":192,"gl-buffer":138,"gl-shader":193}],189:[function(t,e,r){"use strict";function n(t,e,r){this.plot=t,this.vbo=e,this.shader=r}function o(t){var e=t.gl,r=i(e,[-1,-1,-1,1,1,-1,1,1]),o=a(e,s.lineVert,s.lineFrag),l=new n(t,r,o);return l}e.exports=o;var i=t("gl-buffer"),a=t("gl-shader"),s=t("./shaders"),l=n.prototype;l.bind=function(){var t=this.shader;this.vbo.bind(),this.shader.bind(),t.attributes.coord.pointer(),t.uniforms.screenBox=this.plot.screenBox},l.drawLine=function(){var t=[0,0],e=[0,0];return function(r,n,o,i,a,s){var l=this.plot,u=this.shader,c=l.gl;t[0]=r,t[1]=n,e[0]=o,e[1]=i,u.uniforms.start=t,u.uniforms.end=e,u.uniforms.width=a*l.pixelRatio,u.uniforms.color=s,c.drawArrays(c.TRIANGLE_STRIP,0,4)}}(),l.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},{"./shaders":190,"gl-buffer":138,"gl-shader":193}],190:[function(t,e,r){"use strict";var n="precision lowp float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = vec4(color.xyz * color.w, color.w);\n}\n";e.exports={lineVert:"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 start, end;\nuniform float width;\n\nvec2 perp(vec2 v) {\n  return vec2(v.y, -v.x);\n}\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  vec2 delta = normalize(perp(start - end));\n  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));\n  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);\n}\n",lineFrag:n,textVert:"#define GLSLIFY 1\nattribute vec3 textCoordinate;\n\nuniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;\nuniform float angle;\n\nvoid main() {\n  float dataOffset  = textCoordinate.z;\n  vec2 glyphOffset  = textCoordinate.xy;\n  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +\n    glyphMatrix * glyphOffset * textScale + screenOffset;\n  gl_Position = vec4(screenCoordinate, 0, 1);\n}\n",textFrag:n,gridVert:"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale;\nuniform float lineWidth;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;\n  gl_Position = vec4(pos, 0, 1);\n}\n",gridFrag:n,boxVert:"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 lo, hi;\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);\n}\n",tickVert:"precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);\n}\n"}},{}],191:[function(t,e,r){"use strict";function n(t,e,r){this.plot=t,this.vbo=e,this.shader=r,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}function o(t){var e=t.gl,r=i(e),o=a(e,u.textVert,u.textFrag),s=new n(t,r,o);return s}e.exports=o;var i=t("gl-buffer"),a=t("gl-shader"),s=t("text-cache"),l=t("binary-search-bounds"),u=t("./shaders"),c=n.prototype;c.drawTicks=function(){var t=[0,0],e=[0,0],r=[0,0];return function(n){var o=this.plot,i=this.shader,a=this.tickX[n],s=this.tickOffset[n],u=o.gl,c=o.viewBox,p=o.dataBox,f=o.screenBox,h=o.pixelRatio,d=o.tickEnable,y=o.tickPad,m=o.tickColor,v=o.tickAngle,g=o.labelEnable,b=o.labelPad,x=o.labelColor,_=o.labelAngle,w=this.labelOffset[n],T=this.labelCount[n],M=l.lt(a,p[n]),S=l.le(a,p[n+2]);t[0]=t[1]=0,t[n]=1,e[n]=(c[2+n]+c[n])/(f[2+n]-f[n])-1;var E=2/f[2+(1^n)]-f[1^n];e[1^n]=E*c[1^n]-1,d[n]&&(e[1^n]-=E*h*y[n],M<S&&s[S]>s[M]&&(i.uniforms.dataAxis=t,i.uniforms.screenOffset=e,i.uniforms.color=m[n],i.uniforms.angle=v[n],u.drawArrays(u.TRIANGLES,s[M],s[S]-s[M]))),g[n]&&T&&(e[1^n]-=E*h*b[n],i.uniforms.dataAxis=r,i.uniforms.screenOffset=e,i.uniforms.color=x[n],i.uniforms.angle=_[n],u.drawArrays(u.TRIANGLES,w,T)),e[1^n]=E*c[2+(1^n)]-1,d[n+2]&&(e[1^n]+=E*h*y[n+2],M<S&&s[S]>s[M]&&(i.uniforms.dataAxis=t,i.uniforms.screenOffset=e,i.uniforms.color=m[n+2],i.uniforms.angle=v[n+2],u.drawArrays(u.TRIANGLES,s[M],s[S]-s[M]))),g[n+2]&&T&&(e[1^n]+=E*h*b[n+2],i.uniforms.dataAxis=r,i.uniforms.screenOffset=e,i.uniforms.color=x[n+2],i.uniforms.angle=_[n+2],u.drawArrays(u.TRIANGLES,w,T))}}(),c.drawTitle=function(){var t=[0,0],e=[0,0];return function(){var r=this.plot,n=this.shader,o=r.gl,i=r.screenBox,a=r.titleCenter,s=r.titleAngle,l=r.titleColor,u=r.pixelRatio;if(this.titleCount){for(var c=0;c<2;++c)e[c]=2*(a[c]*u-i[c])/(i[2+c]-i[c])-1;n.bind(),n.uniforms.dataAxis=t,n.uniforms.screenOffset=e,n.uniforms.angle=s,n.uniforms.color=l,o.drawArrays(o.TRIANGLES,this.titleOffset,this.titleCount)}}}(),c.bind=function(){var t=[0,0],e=[0,0],r=[0,0];return function(){var n=this.plot,o=this.shader,i=n._tickBounds,a=n.dataBox,s=n.screenBox,l=n.viewBox;o.bind();for(var u=0;u<2;++u){var c=i[u],p=i[u+2],f=p-c,h=.5*(a[u+2]+a[u]),d=a[u+2]-a[u],y=l[u],m=l[u+2],v=m-y,g=s[u],b=s[u+2],x=b-g;e[u]=2*f/d*v/x,t[u]=2*(c-h)/d*v/x}r[1]=2*n.pixelRatio/(s[3]-s[1]),r[0]=r[1]*(s[3]-s[1])/(s[2]-s[0]),o.uniforms.dataScale=e,o.uniforms.dataShift=t,o.uniforms.textScale=r,this.vbo.bind(),o.attributes.textCoordinate.pointer()}}(),c.update=function(t){var e,r,n,o,i,a=[],l=t.ticks,u=t.bounds;for(i=0;i<2;++i){var c=[Math.floor(a.length/3)],p=[-(1/0)],f=l[i];for(e=0;e<f.length;++e){var h=f[e],d=h.x,y=h.text,m=h.font||"sans-serif";o=h.fontSize||12;for(var v=1/(u[i+2]-u[i]),g=u[i],b=y.split("\n"),x=0;x<b.length;x++)for(n=s(m,b[x]).data,r=0;r<n.length;r+=2)a.push(n[r]*o,-n[r+1]*o-x*o*1.2,(d-g)*v);c.push(Math.floor(a.length/3)),p.push(d)}this.tickOffset[i]=c,this.tickX[i]=p}for(i=0;i<2;++i){for(this.labelOffset[i]=Math.floor(a.length/3),n=s(t.labelFont[i],t.labels[i],{textAlign:"center"}).data,o=t.labelSize[i],e=0;e<n.length;e+=2)a.push(n[e]*o,-n[e+1]*o,0);this.labelCount[i]=Math.floor(a.length/3)-this.labelOffset[i]}for(this.titleOffset=Math.floor(a.length/3),n=s(t.titleFont,t.title).data,o=t.titleSize,e=0;e<n.length;e+=2)a.push(n[e]*o,-n[e+1]*o,0);this.titleCount=Math.floor(a.length/3)-this.titleOffset,this.vbo.update(a)},c.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},{"./shaders":190,"binary-search-bounds":192,"gl-buffer":138,"gl-shader":193,"text-cache":510}],192:[function(t,e,r){arguments[4][74][0].apply(r,arguments)},{dup:74}],193:[function(t,e,r){"use strict";function n(t){this.gl=t,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}function o(t,e){return t.name<e.name?-1:1}function i(t,e,r,o,i){var a=new n(t);return a.update(e,r,o,i),a}var a=t("./lib/create-uniforms"),s=t("./lib/create-attributes"),l=t("./lib/reflect"),u=t("./lib/shader-cache"),c=t("./lib/runtime-reflect"),p=t("./lib/GLError"),f=n.prototype;f.bind=function(){this.program||this._relink();var t,e=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),r=this.gl.lastAttribCount;if(e>r)for(t=r;t<e;t++)this.gl.enableVertexAttribArray(t);else if(r>e)for(t=e;t<r;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=e,this.gl.useProgram(this.program)},f.dispose=function(){for(var t=this.gl.lastAttribCount,e=0;e<t;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},f.update=function(t,e,r,n){function i(){h.program=u.program(d,h._vref,h._fref,_,w);for(var t=0;t<r.length;++t)C[t]=d.getUniformLocation(h.program,r[t].name)}if(!e||1===arguments.length){var f=t;t=f.vertex,e=f.fragment,r=f.uniforms,n=f.attributes}var h=this,d=h.gl,y=h._vref;h._vref=u.shader(d,d.VERTEX_SHADER,t),y&&y.dispose(),h.vertShader=h._vref.shader;var m=this._fref;if(h._fref=u.shader(d,d.FRAGMENT_SHADER,e),m&&m.dispose(),h.fragShader=h._fref.shader,!r||!n){var v=d.createProgram();if(d.attachShader(v,h.fragShader),d.attachShader(v,h.vertShader),d.linkProgram(v),!d.getProgramParameter(v,d.LINK_STATUS)){var g=d.getProgramInfoLog(v);throw new p(g,"Error linking program:"+g)}r=r||c.uniforms(d,v),n=n||c.attributes(d,v),d.deleteProgram(v)}n=n.slice(),n.sort(o);var b,x=[],_=[],w=[];for(b=0;b<n.length;++b){var T=n[b];if(T.type.indexOf("mat")>=0){for(var M=0|T.type.charAt(T.type.length-1),S=new Array(M),E=0;E<M;++E)S[E]=w.length,_.push(T.name+"["+E+"]"),"number"==typeof T.location?w.push(T.location+E):Array.isArray(T.location)&&T.location.length===M&&"number"==typeof T.location[E]?w.push(0|T.location[E]):w.push(-1);x.push({name:T.name,type:T.type,locations:S})}else x.push({name:T.name,type:T.type,locations:[w.length]}),_.push(T.name),"number"==typeof T.location?w.push(0|T.location):w.push(-1)}var k=0;for(b=0;b<w.length;++b)if(w[b]<0){for(;w.indexOf(k)>=0;)k+=1;w[b]=k}var C=new Array(r.length);i(),h._relink=i,h.types={uniforms:l(r),attributes:l(n)},h.attributes=s(d,h,x,w),Object.defineProperty(h,"uniforms",a(d,h,r,C))},e.exports=i},{"./lib/GLError":194,"./lib/create-attributes":195,"./lib/create-uniforms":196,"./lib/reflect":197,"./lib/runtime-reflect":198,"./lib/shader-cache":199}],194:[function(t,e,r){function n(t,e,r){this.shortMessage=e||"",this.longMessage=r||"",this.rawError=t||"",this.message="gl-shader: "+(e||t||"")+(r?"\n"+r:""),this.stack=(new Error).stack}n.prototype=new Error,n.prototype.name="GLError",n.prototype.constructor=n,e.exports=n},{}],195:[function(t,e,r){"use strict";function n(t,e,r,n,o,i){this._gl=t,this._wrapper=e,this._index=r,this._locations=n,this._dimension=o,this._constFunc=i}function o(t,e,r,o,i,a,s){for(var l=["gl","v"],u=[],c=0;c<i;++c)l.push("x"+c),u.push("x"+c);l.push("if(x0.length===void 0){return gl.vertexAttrib"+i+"f(v,"+u.join()+")}else{return gl.vertexAttrib"+i+"fv(v,x0)}");var p=Function.apply(null,l),f=new n(t,e,r,o,i,p);Object.defineProperty(a,s,{set:function(e){return t.disableVertexAttribArray(o[r]),p(t,o[r],e),e},get:function(){return f},enumerable:!0})}function i(t,e,r,n,i,a,s){for(var l=new Array(i),u=new Array(i),c=0;c<i;++c)o(t,e,r[c],n,i,l,c),u[c]=l[c];Object.defineProperty(l,"location",{set:function(t){if(Array.isArray(t))for(var e=0;e<i;++e)u[e].location=t[e];else for(var e=0;e<i;++e)u[e].location=t+e;return t},get:function(){for(var t=new Array(i),e=0;e<i;++e)t[e]=n[r[e]];return t},enumerable:!0}),l.pointer=function(e,o,a,s){e=e||t.FLOAT,o=!!o,a=a||i*i,s=s||0;for(var l=0;l<i;++l){var u=n[r[l]];t.vertexAttribPointer(u,i,e,o,a,s+l*i),t.enableVertexAttribArray(u)}};var p=new Array(i),f=t["vertexAttrib"+i+"fv"];Object.defineProperty(a,s,{set:function(e){for(var o=0;o<i;++o){var a=n[r[o]];if(t.disableVertexAttribArray(a),Array.isArray(e[0]))f.call(t,a,e[o]);else{for(var s=0;s<i;++s)p[s]=e[i*o+s];f.call(t,a,p)}}return e},get:function(){return l},enumerable:!0})}function a(t,e,r,n){for(var a={},l=0,u=r.length;l<u;++l){var c=r[l],p=c.name,f=c.type,h=c.locations;switch(f){case"bool":case"int":case"float":o(t,e,h[0],n,1,a,p);break;default:if(f.indexOf("vec")>=0){var d=f.charCodeAt(f.length-1)-48;if(d<2||d>4)throw new s("","Invalid data type for attribute "+p+": "+f);o(t,e,h[0],n,d,a,p)}else{if(!(f.indexOf("mat")>=0))throw new s("","Unknown data type for attribute "+p+": "+f);var d=f.charCodeAt(f.length-1)-48;if(d<2||d>4)throw new s("","Invalid data type for attribute "+p+": "+f);i(t,e,h,n,d,a,p)}}}return a}e.exports=a;var s=t("./GLError"),l=n.prototype;l.pointer=function(t,e,r,n){var o=this,i=o._gl,a=o._locations[o._index];i.vertexAttribPointer(a,o._dimension,t||i.FLOAT,!!e,r||0,n||0),i.enableVertexAttribArray(a)},l.set=function(t,e,r,n){return this._constFunc(this._locations[this._index],t,e,r,n)},Object.defineProperty(l,"location",{get:function(){return this._locations[this._index]},set:function(t){return t!==this._locations[this._index]&&(this._locations[this._index]=0|t,this._wrapper.program=null),0|t}})},{"./GLError":194}],196:[function(t,e,r){"use strict";function n(t){var e=new Function("y","return function(){return y}");return e(t)}function o(t,e){for(var r=new Array(t),n=0;n<t;++n)r[n]=e;return r}function i(t,e,r,i){function l(r){var n=new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+r+"])}");return n(t,e,i)}function u(t,e,r){switch(r){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+e+"],obj"+t+")";case"float":return"gl.uniform1f(locations["+e+"],obj"+t+")";default:var n=r.indexOf("vec");if(!(0<=n&&n<=1&&r.length===4+n)){if(0===r.indexOf("mat")&&4===r.length){var o=r.charCodeAt(r.length-1)-48;if(o<2||o>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+r);return"gl.uniformMatrix"+o+"fv(locations["+e+"],false,obj"+t+")"}throw new s("","Unknown uniform data type for "+name+": "+r)}var o=r.charCodeAt(r.length-1)-48;if(o<2||o>4)throw new s("","Invalid data type");switch(r.charAt(0)){case"b":case"i":return"gl.uniform"+o+"iv(locations["+e+"],obj"+t+")";case"v":return"gl.uniform"+o+"fv(locations["+e+"],obj"+t+")";default:throw new s("","Unrecognized data type for vector "+name+": "+r)}}}function c(t,e){if("object"!=typeof e)return[[t,e]];var r=[];for(var n in e){var o=e[n],i=t;i+=parseInt(n)+""===n?"["+n+"]":"."+n,"object"==typeof o?r.push.apply(r,c(i,o)):r.push([i,o])}return r}function p(e){for(var n=["return function updateProperty(obj){"],o=c("",e),a=0;a<o.length;++a){var s=o[a],l=s[0],p=s[1];i[p]&&n.push(u(l,p,r[p].type))}n.push("return obj}");var f=new Function("gl","locations",n.join("\n"));return f(t,i)}function f(t){switch(t){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var e=t.indexOf("vec");if(0<=e&&e<=1&&t.length===4+e){var r=t.charCodeAt(t.length-1)-48;if(r<2||r>4)throw new s("","Invalid data type");return"b"===t.charAt(0)?o(r,!1):o(r,0)}if(0===t.indexOf("mat")&&4===t.length){var r=t.charCodeAt(t.length-1)-48;if(r<2||r>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+t);return o(r*r,0)}throw new s("","Unknown uniform data type for "+name+": "+t)}}function h(t,e,o){if("object"==typeof o){var a=d(o);Object.defineProperty(t,e,{get:n(a),set:p(o),enumerable:!0,configurable:!1})}else i[o]?Object.defineProperty(t,e,{get:l(o),set:p(o),enumerable:!0,configurable:!1}):t[e]=f(r[o].type)}function d(t){var e;if(Array.isArray(t)){e=new Array(t.length);for(var r=0;r<t.length;++r)h(e,r,t[r])}else{e={};for(var n in t)h(e,n,t[n])}return e}var y=a(r,!0);return{get:n(d(y)),set:p(y),enumerable:!0,configurable:!0}}var a=t("./reflect"),s=t("./GLError");e.exports=i},{"./GLError":194,"./reflect":197}],197:[function(t,e,r){"use strict";function n(t,e){for(var r={},n=0;n<t.length;++n)for(var o=t[n].name,i=o.split("."),a=r,s=0;s<i.length;++s){var l=i[s].split("[");if(l.length>1){l[0]in a||(a[l[0]]=[]),a=a[l[0]];for(var u=1;u<l.length;++u){var c=parseInt(l[u]);u<l.length-1||s<i.length-1?(c in a||(u<l.length-1?a[c]=[]:a[c]={}),a=a[c]):e?a[c]=n:a[c]=t[n].type}}else s<i.length-1?(l[0]in a||(a[l[0]]={}),a=a[l[0]]):e?a[l[0]]=n:a[l[0]]=t[n].type}return r}e.exports=n},{}],198:[function(t,e,r){"use strict";function n(t,e){if(!s){var r=Object.keys(a);s={};for(var n=0;n<r.length;++n){var o=r[n];s[t[o]]=a[o]}}return s[e]}function o(t,e){for(var r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),o=[],i=0;i<r;++i){var a=t.getActiveUniform(e,i);if(a){var s=n(t,a.type);if(a.size>1)for(var l=0;l<a.size;++l)o.push({name:a.name.replace("[0]","["+l+"]"),type:s});else o.push({name:a.name,type:s})}}return o}function i(t,e){for(var r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=[],i=0;i<r;++i){var a=t.getActiveAttrib(e,i);a&&o.push({name:a.name,type:n(t,a.type)})}return o}r.uniforms=o,r.attributes=i;var a={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},s=null},{}],199:[function(t,e,r){"use strict";function n(t,e,r,n,o,i,a){this.id=t,this.src=e,this.type=r,this.shader=n,this.count=i,this.programs=[],this.cache=a}function o(t){this.gl=t,this.shaders=[{},{}],this.programs={}}function i(t,e,r){var n=t.createShader(e);if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS)){var o=t.getShaderInfoLog(n);try{var i=p(o,r,e)}catch(t){throw console.warn("Failed to format compiler error: "+t),new c(o,"Error compiling shader:\n"+o)}throw new c(o,i.short,i.long)}return n}function a(t,e,r,n,o){var i=t.createProgram();t.attachShader(i,e),t.attachShader(i,r);for(var a=0;a<n.length;++a)t.bindAttribLocation(i,o[a],n[a]);if(t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS)){var s=t.getProgramInfoLog(i);throw new c(s,"Error linking program: "+s)}return i}function s(t){var e=h.get(t);return e||(e=new o(t),h.set(t,e)),e}function l(t,e,r){return s(t).getShaderReference(e,r)}function u(t,e,r,n,o){return s(t).getProgram(e,r,n,o)}r.shader=l,r.program=u;var c=t("./GLError"),p=t("gl-format-compiler-error"),f="undefined"==typeof WeakMap?t("weakmap-shim"):WeakMap,h=new f,d=0;n.prototype.dispose=function(){if(0===--this.count){for(var t=this.cache,e=t.gl,r=this.programs,n=0,o=r.length;n<o;++n){var i=t.programs[r[n]];i&&(delete t.programs[n],e.deleteProgram(i))}e.deleteShader(this.shader),delete t.shaders[this.type===e.FRAGMENT_SHADER|0][this.src]}};var y=o.prototype;y.getShaderReference=function(t,e){var r=this.gl,o=this.shaders[t===r.FRAGMENT_SHADER|0],a=o[e];if(a&&r.isShader(a.shader))a.count+=1;else{var s=i(r,t,e);a=o[e]=new n(d++,e,t,s,[],1,this)}return a},y.getProgram=function(t,e,r,n){var o=[t.id,e.id,r.join(":"),n.join(":")].join("@"),i=this.programs[o];return i&&this.gl.isProgram(i)||(this.programs[o]=i=a(this.gl,t.shader,e.shader,r,n),t.programs.push(o),e.programs.push(o)),i}},{"./GLError":194,"gl-format-compiler-error":146,"weakmap-shim":540}],200:[function(t,e,r){"use strict";function n(t,e){this.gl=t,this.pickBuffer=e,this.screenBox=[0,0,t.drawingBufferWidth,t.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-(1/0),-(1/0)],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}function o(t){for(var e=t.slice(),r=0;r<e.length;++r)e[r]=e[r].slice();return e}function i(t,e){return t.x-e.x}function a(t){var e=t.gl,r=s(e,[e.drawingBufferWidth,e.drawingBufferHeight]),o=new n(e,r);return o.grid=l(o),o.text=u(o),o.line=c(o),o.box=p(o),o.update(t),o}e.exports=a;var s=t("gl-select-static"),l=t("./lib/grid"),u=t("./lib/text"),c=t("./lib/line"),p=t("./lib/box"),f=n.prototype;f.setDirty=function(){this.dirty=this.pickDirty=!0},f.setOverlayDirty=function(){this.dirty=!0},f.nextDepthValue=function(){return this._depthCounter++/65536},f.draw=function(){return function(){var t=this.gl,e=this.screenBox,r=this.viewBox,n=this.dataBox,o=this.pixelRatio,i=this.grid,a=this.line,s=this.text,l=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){this.dirty=!1,t.bindFramebuffer(t.FRAMEBUFFER,null),t.enable(t.SCISSOR_TEST),t.disable(t.DEPTH_TEST),t.depthFunc(t.LESS),t.depthMask(!1),t.enable(t.BLEND),t.blendEquation(t.FUNC_ADD,t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.scissor(e[0],e[1],e[2]-e[0],e[3]-e[1]);var u=this.borderColor;t.clearColor(u[0]*u[3],u[1]*u[3],u[2]*u[3],u[3]),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.scissor(r[0],r[1],r[2]-r[0],r[3]-r[1]),t.viewport(r[0],r[1],r[2]-r[0],r[3]-r[1]);var c=this.backgroundColor;t.clearColor(c[0]*c[3],c[1]*c[3],c[2]*c[3],c[3]),t.clear(t.COLOR_BUFFER_BIT),i.draw();var p=this.zeroLineEnable,f=this.zeroLineColor,h=this.zeroLineWidth;if(p[0]||p[1]){a.bind();for(var d=0;d<2;++d)if(p[d]&&n[d]<=0&&n[d+2]>=0){var y=e[d]-n[d]*(e[d+2]-e[d])/(n[d+2]-n[d]);0===d?a.drawLine(y,e[1],y,e[3],h[d],f[d]):a.drawLine(e[0],y,e[2],y,h[d],f[d])}}for(var d=0;d<l.length;++d)l[d].draw();t.viewport(e[0],e[1],e[2]-e[0],e[3]-e[1]),t.scissor(e[0],e[1],e[2]-e[0],e[3]-e[1]),this.grid.drawTickMarks(),a.bind();var m=this.borderLineEnable,v=this.borderLineWidth,g=this.borderLineColor;m[1]&&a.drawLine(r[0],r[1]-.5*v[1]*o,r[0],r[3]+.5*v[3]*o,v[1],g[1]),m[0]&&a.drawLine(r[0]-.5*v[0]*o,r[1],r[2]+.5*v[2]*o,r[1],v[0],g[0]),m[3]&&a.drawLine(r[2],r[1]-.5*v[1]*o,r[2],r[3]+.5*v[3]*o,v[3],g[3]),m[2]&&a.drawLine(r[0]-.5*v[0]*o,r[3],r[2]+.5*v[2]*o,r[3],v[2],g[2]),s.bind();for(var d=0;d<2;++d)s.drawTicks(d);this.titleEnable&&s.drawTitle();for(var b=this.overlays,d=0;d<b.length;++d)b[d].draw();t.disable(t.SCISSOR_TEST),t.disable(t.BLEND),t.depthMask(!0)}}}(),f.drawPick=function(){return function(){if(!this.static){var t=this.pickBuffer;this.gl;this._pickTimeout=null,t.begin();for(var e=1,r=this.objects,n=0;n<r.length;++n)e=r[n].drawPick(e);t.end()}}}(),f.pick=function(){return function(t,e){if(!this.static){var r=this.pixelRatio,n=this.pickPixelRatio,o=this.viewBox,i=0|Math.round((t-o[0]/r)*n),a=0|Math.round((e-o[1]/r)*n),s=this.pickBuffer.query(i,a,this.pickRadius);if(!s)return null;for(var l=s.id+(s.value[0]<<8)+(s.value[1]<<16)+(s.value[2]<<24),u=this.objects,c=0;c<u.length;++c){var p=u[c].pick(i,a,l);if(p)return p}return null}}}(),f.setScreenBox=function(t){var e=this.screenBox,r=this.pixelRatio;e[0]=0|Math.round(t[0]*r),e[1]=0|Math.round(t[1]*r),e[2]=0|Math.round(t[2]*r),e[3]=0|Math.round(t[3]*r),this.setDirty()},f.setDataBox=function(t){var e=this.dataBox,r=e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3];r&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],this.setDirty())},f.setViewBox=function(t){var e=this.pixelRatio,r=this.viewBox;r[0]=0|Math.round(t[0]*e),r[1]=0|Math.round(t[1]*e),r[2]=0|Math.round(t[2]*e),r[3]=0|Math.round(t[3]*e);var n=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((t[2]-t[0])*n),0|Math.round((t[3]-t[1])*n)],this.setDirty()},f.update=function(t){t=t||{};var e=this.gl;this.pixelRatio=t.pixelRatio||1;var r=this.pixelRatio;this.pickPixelRatio=Math.max(r,1),this.setScreenBox(t.screenBox||[0,0,e.drawingBufferWidth/r,e.drawingBufferHeight/r]);this.screenBox;this.setViewBox(t.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/r,.125*(this.screenBox[3]-this.screenBox[1])/r,.875*(this.screenBox[2]-this.screenBox[0])/r,.875*(this.screenBox[3]-this.screenBox[1])/r]);var n=this.viewBox,a=(n[2]-n[0])/(n[3]-n[1]);this.setDataBox(t.dataBox||[-10,-10/a,10,10/a]),this.borderColor=(t.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(t.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(t.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(t.gridLineWidth||[1,1]).slice(),this.gridLineColor=o(t.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(t.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(t.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=o(t.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(t.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(t.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=o(t.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(t.titleCenter||[.5*(n[0]+n[2])/r,(n[3]+120)/r]).slice(),this.titleEnable=!("titleEnable"in t&&!t.titleEnable),this.titleAngle=t.titleAngle||0,this.titleColor=(t.titleColor||[0,0,0,1]).slice(),this.labelPad=(t.labelPad||[15,15,15,15]).slice(),this.labelAngle=(t.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(t.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=o(t.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(t.tickPad||[15,15,15,15]).slice(),this.tickAngle=(t.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(t.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=o(t.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(t.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(t.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=o(t.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var s=t.ticks||[[],[]],l=this._tickBounds;l[0]=l[1]=1/0,l[2]=l[3]=-(1/0);for(var u=0;u<2;++u){var c=s[u].slice(0);0!==c.length&&(c.sort(i),l[u]=Math.min(l[u],c[0].x),l[u+2]=Math.max(l[u+2],c[c.length-1].x))}this.grid.update({bounds:l,ticks:s}),this.text.update({bounds:l,ticks:s,labels:t.labels||["x","y"],labelSize:t.labelSize||[12,12],labelFont:t.labelFont||["sans-serif","sans-serif"],title:t.title||"",titleSize:t.titleSize||18,titleFont:t.titleFont||"sans-serif"}),this.static=!!t.static,this.setDirty()},f.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var t=this.objects.length-1;t>=0;--t)this.objects[t].dispose();this.objects.length=0;for(var t=this.overlays.length-1;t>=0;--t)this.overlays[t].dispose();this.overlays.length=0,this.gl=null},f.addObject=function(t){this.objects.indexOf(t)<0&&(this.objects.push(t),this.setDirty())},f.removeObject=function(t){for(var e=this.objects,r=0;r<e.length;++r)if(e[r]===t){e.splice(r,1),this.setDirty();break}},f.addOverlay=function(t){this.overlays.indexOf(t)<0&&(this.overlays.push(t),this.setOverlayDirty())},f.removeOverlay=function(t){for(var e=this.overlays,r=0;r<e.length;++r)if(e[r]===t){e.splice(r,1),this.setOverlayDirty();break}}},{"./lib/box":187,"./lib/grid":188,"./lib/line":189,"./lib/text":191,"gl-select-static":236}],201:[function(t,e,r){var n=t("gl-shader"),o="precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}",i="precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}";e.exports=function(t){return n(t,o,i,null,[{name:"position",type:"vec2"}])}},{"gl-shader":237}],202:[function(t,e,r){"use strict";function n(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function o(t,e){var r=null;try{r=t.getContext("webgl",e),r||(r=t.getContext("experimental-webgl",e))}catch(t){return null}return r}function i(t){var e=Math.round(Math.log(Math.abs(t))/Math.log(10));if(e<0){var r=Math.round(Math.pow(10,-e));return Math.ceil(t*r)/r}if(e>0){var r=Math.round(Math.pow(10,e));return Math.ceil(t/r)*r}return Math.ceil(t)}function a(t){return"boolean"!=typeof t||t}function s(t){function e(){if(!w&&q.autoResize){var t=T.parentNode,e=1,r=1;t&&t!==document.body?(e=t.clientWidth,r=t.clientHeight):(e=window.innerWidth,r=window.innerHeight);var n=0|Math.ceil(e*q.pixelRatio),o=0|Math.ceil(r*q.pixelRatio);if(n!==T.width||o!==T.height){T.width=n,T.height=o;var i=T.style;i.position=i.position||"absolute",i.left="0px",i.top="0px",i.width=e+"px",i.height=r+"px",z=!0}}}function r(){for(var t=R.length,e=F.length,r=0;r<e;++r)j[r]=0;t:for(var r=0;r<t;++r){var n=R[r],o=n.pickSlots;if(o){for(var i=0;i<e;++i)if(j[i]+o<255){N[r]=i,n.setPickBase(j[i]+1),j[i]+=o;continue t}var a=f(S,W);N[r]=e,F.push(a),j.push(o),n.setPickBase(1),e+=1}else N[r]=-1}for(;e>0&&0===j[e-1];)j.pop(),F.pop().dispose()}function s(){return!!q.contextLost||void(S.isContextLost()&&(q.contextLost=!0,q.mouseListener.enabled=!1,q.selection.object=null,q.oncontextloss&&q.oncontextloss()))}function b(){if(!s()){S.colorMask(!0,!0,!0,!0),S.depthMask(!0),S.disable(S.BLEND),S.enable(S.DEPTH_TEST);for(var t=R.length,e=F.length,r=0;r<e;++r){var n=F[r];n.shape=G,n.begin();for(var o=0;o<t;++o)if(N[o]===r){var i=R[o];i.drawPick&&(i.pixelRatio=1,i.drawPick(H))}n.end()}}}function x(){if(!s()){e();var t=q.camera.tick();H.view=q.camera.matrix,z=z||t,B=B||t,D.pixelRatio=q.pixelRatio,I.pixelRatio=q.pixelRatio;var r=R.length,n=K[0],o=K[1];n[0]=n[1]=n[2]=1/0,o[0]=o[1]=o[2]=-(1/0);for(var a=0;a<r;++a){var l=R[a];l.pixelRatio=q.pixelRatio,l.axes=q.axes,z=z||!!l.dirty,B=B||!!l.dirty;var u=l.bounds;if(u)for(var p=u[0],f=u[1],h=0;h<3;++h)n[h]=Math.min(n[h],p[h]),o[h]=Math.max(o[h],f[h])}var y=q.bounds;if(q.autoBounds)for(var h=0;h<3;++h){if(o[h]<n[h])n[h]=-1,o[h]=1;else{n[h]===o[h]&&(n[h]-=1,o[h]+=1);var v=.05*(o[h]-n[h]);n[h]=n[h]-v,o[h]=o[h]+v}y[0][h]=n[h],y[1][h]=o[h]}for(var g=!1,h=0;h<3;++h)g=g||Z[0][h]!==y[0][h]||Z[1][h]!==y[1][h],Z[0][h]=y[0][h],Z[1][h]=y[1][h];if(g){for(var x=[0,0,0],a=0;a<3;++a)x[a]=i((y[1][a]-y[0][a])/10);D.autoTicks?D.update({bounds:y,tickSpacing:x}):D.update({bounds:y})}B=B||g,z=z||g;var _=S.drawingBufferWidth,w=S.drawingBufferHeight;W[0]=_,W[1]=w,G[0]=0|Math.max(_/q.pixelRatio,1),G[1]=0|Math.max(w/q.pixelRatio,1),m(U,q.fovy,_/w,q.zNear,q.zFar);for(var a=0;a<16;++a)V[a]=0;V[15]=1;for(var T=0,a=0;a<3;++a)T=Math.max(T,y[1][a]-y[0][a]);for(var a=0;a<3;++a)q.autoScale?V[5*a]=q.aspect[a]/(y[1][a]-y[0][a]):V[5*a]=1/T,q.autoCenter&&(V[12+a]=.5*-V[5*a]*(y[0][a]+y[1][a]));for(var a=0;a<r;++a){var l=R[a];l.axesBounds=y,q.clipToBounds&&(l.clipBounds=y)}if(k.object&&(q.snapToData?I.position=k.dataCoordinate:I.position=k.dataPosition,I.bounds=y),B&&(B=!1,b()),z){q.axesPixels=c(q.axes,H,_,w),q.onrender&&q.onrender(),S.bindFramebuffer(S.FRAMEBUFFER,null),S.viewport(0,0,_,w);var M=q.clearColor;S.clearColor(M[0],M[1],M[2],M[3]),S.clear(S.COLOR_BUFFER_BIT|S.DEPTH_BUFFER_BIT),S.depthMask(!0),S.colorMask(!0,!0,!0,!0),S.enable(S.DEPTH_TEST),S.depthFunc(S.LEQUAL),S.disable(S.BLEND),S.disable(S.CULL_FACE);var E=!1;D.enable&&(E=E||D.isTransparent(),D.draw(H)),I.axes=D,k.object&&I.draw(H),S.disable(S.CULL_FACE);for(var a=0;a<r;++a){var l=R[a];l.axes=D,l.pixelRatio=q.pixelRatio,l.isOpaque&&l.isOpaque()&&l.draw(H),l.isTransparent&&l.isTransparent()&&(E=!0)}if(E){C.shape=W,C.bind(),S.clear(S.DEPTH_BUFFER_BIT),S.colorMask(!1,!1,!1,!1),S.depthMask(!0),S.depthFunc(S.LESS),D.enable&&D.isTransparent()&&D.drawTransparent(H);for(var a=0;a<r;++a){var l=R[a];l.isOpaque&&l.isOpaque()&&l.draw(H)}S.enable(S.BLEND),S.blendEquation(S.FUNC_ADD),
S.blendFunc(S.ONE,S.ONE_MINUS_SRC_ALPHA),S.colorMask(!0,!0,!0,!0),S.depthMask(!1),S.clearColor(0,0,0,0),S.clear(S.COLOR_BUFFER_BIT),D.isTransparent()&&D.drawTransparent(H);for(var a=0;a<r;++a){var l=R[a];l.isTransparent&&l.isTransparent()&&l.drawTransparent(H)}S.bindFramebuffer(S.FRAMEBUFFER,null),S.blendFunc(S.ONE,S.ONE_MINUS_SRC_ALPHA),S.disable(S.DEPTH_TEST),A.bind(),C.color[0].bind(0),A.uniforms.accumBuffer=0,d(S),S.disable(S.BLEND)}z=!1;for(var a=0;a<r;++a)R[a].dirty=!1}}}function _(){w||q.contextLost||(requestAnimationFrame(_),x())}t=t||{};var w=!1,T=(t.pixelRatio||parseFloat(window.devicePixelRatio),t.canvas);if(!T)if(T=document.createElement("canvas"),t.container){var M=t.container;M.appendChild(T)}else document.body.appendChild(T);var S=t.gl;if(S||(S=o(T,t.glOptions||{premultipliedAlpha:!0,antialias:!0})),!S)throw new Error("webgl not supported");var E=t.bounds||[[-10,-10,-10],[10,10,10]],k=new n,C=h(S,[S.drawingBufferWidth,S.drawingBufferHeight],{preferFloat:!g}),A=v(S),P=t.camera||{eye:[2,0,0],center:[0,0,0],up:[0,1,0],zoomMin:.1,zoomMax:100,mode:"turntable"},L=t.axes||{},D=u(S,L);D.enable=!L.disable;var O=t.spikes||{},I=p(S,O),R=[],N=[],j=[],F=[],z=!0,B=!0,U=new Array(16),V=new Array(16),H={view:null,projection:U,model:V},B=!0,W=[S.drawingBufferWidth,S.drawingBufferHeight],q={gl:S,contextLost:!1,pixelRatio:t.pixelRatio||parseFloat(window.devicePixelRatio),canvas:T,selection:k,camera:l(T,P),axes:D,axesPixels:null,spikes:I,bounds:E,objects:R,shape:W,aspect:t.aspectRatio||[1,1,1],pickRadius:t.pickRadius||10,zNear:t.zNear||.01,zFar:t.zFar||1e3,fovy:t.fovy||Math.PI/4,clearColor:t.clearColor||[0,0,0,0],autoResize:a(t.autoResize),autoBounds:a(t.autoBounds),autoScale:!!t.autoScale,autoCenter:a(t.autoCenter),clipToBounds:a(t.clipToBounds),snapToData:!!t.snapToData,onselect:t.onselect||null,onrender:t.onrender||null,onclick:t.onclick||null,cameraParams:H,oncontextloss:null,mouseListener:null},G=[S.drawingBufferWidth/q.pixelRatio|0,S.drawingBufferHeight/q.pixelRatio|0];q.autoResize&&e(),window.addEventListener("resize",e),q.update=function(t){w||(t=t||{},z=!0,B=!0)},q.add=function(t){w||(t.axes=D,R.push(t),N.push(-1),z=!0,B=!0,r())},q.remove=function(t){if(!w){var e=R.indexOf(t);e<0||(R.splice(e,1),N.pop(),z=!0,B=!0,r())}},q.dispose=function(){if(!w&&(w=!0,window.removeEventListener("resize",e),T.removeEventListener("webglcontextlost",s),q.mouseListener.enabled=!1,!q.contextLost)){D.dispose(),I.dispose();for(var t=0;t<R.length;++t)R[t].dispose();C.dispose();for(var t=0;t<F.length;++t)F[t].dispose();A.dispose(),S=null,D=null,I=null,R=[]}};var Y=!1,X=0;q.mouseListener=y(T,function(t,e,r){if(!w){var n=F.length,o=R.length,i=k.object;k.distance=1/0,k.mouse[0]=e,k.mouse[1]=r,k.object=null,k.screen=null,k.dataCoordinate=k.dataPosition=null;var a=!1;if(t&&X)Y=!0;else{Y&&(B=!0),Y=!1;for(var s=0;s<n;++s){var l=F[s].query(e,G[1]-r-1,q.pickRadius);if(l){if(l.distance>k.distance)continue;for(var u=0;u<o;++u){var c=R[u];if(N[u]===s){var p=c.pick(l);p&&(k.buttons=t,k.screen=l.coord,k.distance=l.distance,k.object=c,k.index=p.distance,k.dataPosition=p.position,k.dataCoordinate=p.dataCoordinate,k.data=p,a=!0)}}}}}i&&i!==k.object&&(i.highlight&&i.highlight(null),z=!0),k.object&&(k.object.highlight&&k.object.highlight(k.data),z=!0),a=a||k.object!==i,a&&q.onselect&&q.onselect(k),1&t&&!(1&X)&&q.onclick&&q.onclick(k),X=t}}),T.addEventListener("webglcontextlost",s);var K=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]],Z=[K[0].slice(),K[1].slice()];return _(),q.redraw=function(){w||(z=!0,x())},q}e.exports=s;var l=t("3d-view-controls"),u=t("gl-axes3d"),c=t("gl-axes3d/properties"),p=t("gl-spikes3d"),f=t("gl-select-static"),h=t("gl-fbo"),d=t("a-big-triangle"),y=t("mouse-change"),m=t("gl-mat4/perspective"),v=t("./lib/shader"),g=t("is-mobile")()},{"./lib/shader":201,"3d-view-controls":29,"a-big-triangle":31,"gl-axes3d":130,"gl-axes3d/properties":137,"gl-fbo":145,"gl-mat4/perspective":165,"gl-select-static":236,"gl-spikes3d":246,"is-mobile":276,"mouse-change":432}],203:[function(t,e,r){r.pointVertex="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform float pointCloud;\n\nhighp float rand(vec2 co) {\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float d = dot(co.xy, vec2(a, b));\n  highp float e = mod(d, 3.14);\n  return fract(sin(e) * c);\n}\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n    // if we don't jitter the point size a bit, overall point cloud\n    // saturation 'jumps' on zooming, which is disturbing and confusing\n  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    // get the same square surface as circle would be\n    gl_PointSize *= 0.886;\n  }\n}",r.pointFragment="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color, borderColor;\nuniform float centerFraction;\nuniform float pointCloud;\n\nvoid main() {\n  float radius;\n  vec4 baseColor;\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    if(centerFraction == 1.0) {\n      gl_FragColor = color;\n    } else {\n      gl_FragColor = mix(borderColor, color, centerFraction);\n    }\n  } else {\n    radius = length(2.0 * gl_PointCoord.xy - 1.0);\n    if(radius > 1.0) {\n      discard;\n    }\n    baseColor = mix(borderColor, color, step(radius, centerFraction));\n    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);\n  }\n}\n",r.pickVertex="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform vec4 pickOffset;\n\nvarying vec4 fragId;\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n  gl_PointSize = pointSize;\n\n  vec4 id = pickId + pickOffset;\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  fragId = id;\n}\n",r.pickFragment="precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\n\nvoid main() {\n  float radius = length(2.0 * gl_PointCoord.xy - 1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  gl_FragColor = fragId / 255.0;\n}\n"},{}],204:[function(t,e,r){arguments[4][193][0].apply(r,arguments)},{"./lib/GLError":205,"./lib/create-attributes":206,"./lib/create-uniforms":207,"./lib/reflect":208,"./lib/runtime-reflect":209,"./lib/shader-cache":210,dup:193}],205:[function(t,e,r){arguments[4][194][0].apply(r,arguments)},{dup:194}],206:[function(t,e,r){arguments[4][195][0].apply(r,arguments)},{"./GLError":205,dup:195}],207:[function(t,e,r){arguments[4][196][0].apply(r,arguments)},{"./GLError":205,"./reflect":208,dup:196}],208:[function(t,e,r){arguments[4][197][0].apply(r,arguments)},{dup:197}],209:[function(t,e,r){arguments[4][198][0].apply(r,arguments)},{dup:198}],210:[function(t,e,r){arguments[4][199][0].apply(r,arguments)},{"./GLError":205,dup:199,"gl-format-compiler-error":146,"weakmap-shim":540}],211:[function(t,e,r){"use strict";function n(t,e,r,n,o){this.plot=t,this.offsetBuffer=e,this.pickBuffer=r,this.shader=n,this.pickShader=o,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}function o(t,e){var r,n=0,o=t.length>>>1;for(r=0;r<o;r++){var i=t[2*r],a=t[2*r+1];i>=e[0]&&i<=e[2]&&a>=e[1]&&a<=e[3]&&n++}return n}function i(t,e){var r=t.gl,o=s(r),i=s(r),l=a(r,u.pointVertex,u.pointFragment),c=a(r,u.pickVertex,u.pickFragment),p=new n(t,o,i,l,c);return p.update(e),t.addObject(p),p}var a=t("gl-shader"),s=t("gl-buffer"),l=t("typedarray-pool"),u=t("./lib/shader");e.exports=i;var c=n.prototype;c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},c.update=function(t){function e(e,r){return e in t?t[e]:r}var r;t=t||{},this.sizeMin=e("sizeMin",.5),this.sizeMax=e("sizeMax",20),this.color=e("color",[1,0,0,1]).slice(),this.areaRatio=e("areaRatio",1),this.borderColor=e("borderColor",[0,0,0,1]).slice(),this.blend=e("blend",!1);var n=t.positions.length>>>1,o=t.positions instanceof Float32Array,i=t.idToIndex instanceof Int32Array&&t.idToIndex.length>=n,a=t.positions,s=o?a:l.mallocFloat32(a.length),u=i?t.idToIndex:l.mallocInt32(n);if(o||s.set(a),!i)for(s.set(a),r=0;r<n;r++)u[r]=r;this.points=a,this.offsetBuffer.update(s),this.pickBuffer.update(u),o||l.free(s),i||l.free(u),this.pointCount=n,this.pickOffset=0},c.unifiedDraw=function(){var t=[1,0,0,0,1,0,0,0,1],e=[0,0,0,0];return function(r){var n=void 0!==r,i=n?this.pickShader:this.shader,a=this.plot.gl,s=this.plot.dataBox;if(0===this.pointCount)return r;var l=s[2]-s[0],u=s[3]-s[1],c=o(this.points,s),p=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(c,.33333)));t[0]=2/l,t[4]=2/u,t[6]=-2*s[0]/l-1,t[7]=-2*s[1]/u-1,this.offsetBuffer.bind(),i.bind(),i.attributes.position.pointer(),i.uniforms.matrix=t,i.uniforms.color=this.color,i.uniforms.borderColor=this.borderColor,i.uniforms.pointCloud=p<5,i.uniforms.pointSize=p,i.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),n&&(e[0]=255&r,e[1]=r>>8&255,e[2]=r>>16&255,e[3]=r>>24&255,this.pickBuffer.bind(),i.attributes.pickId.pointer(a.UNSIGNED_BYTE),i.uniforms.pickOffset=e,this.pickOffset=r);var f=a.getParameter(a.BLEND),h=a.getParameter(a.DITHER);return f&&!this.blend&&a.disable(a.BLEND),h&&a.disable(a.DITHER),a.drawArrays(a.POINTS,0,this.pointCount),f&&!this.blend&&a.enable(a.BLEND),h&&a.enable(a.DITHER),r+this.pointCount}}(),c.draw=c.unifiedDraw,c.drawPick=c.unifiedDraw,c.pick=function(t,e,r){var n=this.pickOffset,o=this.pointCount;if(r<n||r>=n+o)return null;var i=r-n,a=this.points;return{object:this,pointId:i,dataCoord:[a[2*i],a[2*i+1]]}}},{"./lib/shader":203,"gl-buffer":138,"gl-shader":204,"typedarray-pool":519}],212:[function(t,e,r){function n(t,e,r,n){var o,i,a,s,l,u=e[0],c=e[1],p=e[2],f=e[3],h=r[0],d=r[1],y=r[2],m=r[3];return i=u*h+c*d+p*y+f*m,i<0&&(i=-i,h=-h,d=-d,y=-y,m=-m),1-i>1e-6?(o=Math.acos(i),a=Math.sin(o),s=Math.sin((1-n)*o)/a,l=Math.sin(n*o)/a):(s=1-n,l=n),t[0]=s*u+l*h,t[1]=s*c+l*d,t[2]=s*p+l*y,t[3]=s*f+l*m,t}e.exports=n},{}],213:[function(t,e,r){"use strict";e.exports={vertex:"precision highp float;\n#define GLSLIFY 1\n\n\nvec4 computePosition_1_0(vec2 posHi, vec2 posLo, vec2 scHi, vec2 scLo, vec2 trHi, vec2 trLo) {\n  return vec4((posHi + trHi) * scHi\n  \t\t\t//FIXME: this thingy does not give noticeable precision gain, need test\n            + (posLo + trLo) * scHi\n            + (posHi + trHi) * scLo\n            + (posLo + trLo) * scLo\n            , 0, 1);\n}\n\n\nattribute vec2 positionHi, positionLo;\nattribute float size, border;\nattribute vec2 char, color;\n\n//this is 64-bit form of scale and translate\nuniform vec2 scaleHi, scaleLo, translateHi, translateLo;\nuniform float pixelRatio;\nuniform vec4 viewBox;\nuniform sampler2D palette;\n\nvarying vec4 charColor, borderColor;\nvarying vec2 charId;\nvarying vec2 pointCoord;\nvarying float pointSize;\nvarying float borderWidth;\n\n\nvoid main() {\n  charColor = texture2D(palette, vec2(color.x / 255., 0));\n  borderColor = texture2D(palette, vec2(color.y / 255., 0));\n\n  gl_PointSize = size * pixelRatio;\n  pointSize = size * pixelRatio;\n\n  charId = char;\n  borderWidth = border;\n\n  gl_Position = computePosition_1_0(\n    positionHi, positionLo,\n    scaleHi, scaleLo,\n    translateHi, translateLo);\n\n  pointCoord = viewBox.xy + (viewBox.zw - viewBox.xy) * (gl_Position.xy * .5 + .5);\n}\n",fragment:"precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D chars;\nuniform vec2 charsShape;\nuniform float charsStep, pixelRatio, charOffset;\n\nvarying vec4 borderColor;\nvarying vec4 charColor;\nvarying vec2 charId;\nvarying vec2 pointCoord;\nvarying float pointSize;\nvarying float borderWidth;\n\nvoid main() {\n\tvec2 pointUV = (pointCoord - gl_FragCoord.xy + pointSize * .5) / pointSize;\n\tpointUV.x = 1. - pointUV.x;\n\tpointUV.y += charOffset;\n\tvec2 texCoord = ((charId + pointUV) * charsStep) / charsShape;\n\tfloat dist = texture2D(chars, texCoord).r;\n\n\t//max-distance alpha\n\tif (dist < 1e-2)\n\t\tdiscard;\n\n\tfloat dif = 5. * pixelRatio * borderWidth / pointSize;\n\tfloat borderLevel = .748 - dif * .5;\n\tfloat charLevel = .748 + dif * .5;\n\tfloat gamma = .005 * charsStep / pointSize;\n\n\tfloat borderAmt = smoothstep(borderLevel - gamma, borderLevel + gamma, dist);\n\tfloat charAmt = smoothstep(charLevel - gamma, charLevel + gamma, dist);\n\n\tvec4 color = borderColor;\n\tcolor.a *= borderAmt;\n\n\tgl_FragColor = mix(color, charColor, charAmt);\n}\n",pickVertex:"precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 positionHi, positionLo;\nattribute vec4 id;\nattribute float size;\n\nuniform vec2 scaleHi, scaleLo, translateHi, translateLo;\nuniform vec4 pickOffset;\nuniform float pixelRatio;\n\nvarying vec4 fragColor;\n\n\nvec4 computePosition_1_0(vec2 posHi, vec2 posLo, vec2 scHi, vec2 scLo, vec2 trHi, vec2 trLo) {\n  return vec4((posHi + trHi) * scHi\n  \t\t\t//FIXME: this thingy does not give noticeable precision gain, need test\n            + (posLo + trLo) * scHi\n            + (posHi + trHi) * scLo\n            + (posLo + trLo) * scLo\n            , 0, 1);\n}\n\n\nvoid main() {\n  vec4 fragId = id + pickOffset;\n\n  fragId.y += floor(fragId.x / 256.0);\n  fragId.x -= floor(fragId.x / 256.0) * 256.0;\n\n  fragId.z += floor(fragId.y / 256.0);\n  fragId.y -= floor(fragId.y / 256.0) * 256.0;\n\n  fragId.w += floor(fragId.z / 256.0);\n  fragId.z -= floor(fragId.z / 256.0) * 256.0;\n\n  fragColor = fragId / 255.0;\n\n  gl_PointSize = size * .25 * pixelRatio;\n\n  gl_Position = computePosition_1_0(\n    positionHi, positionLo,\n    scaleHi, scaleLo,\n    translateHi, translateLo);\n}\n",pickFragment:"precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = fragColor;\n}\n"}},{}],214:[function(t,e,r){arguments[4][74][0].apply(r,arguments)},{dup:74}],215:[function(t,e,r){arguments[4][193][0].apply(r,arguments)},{"./lib/GLError":216,"./lib/create-attributes":217,"./lib/create-uniforms":218,"./lib/reflect":219,"./lib/runtime-reflect":220,"./lib/shader-cache":221,dup:193}],216:[function(t,e,r){arguments[4][194][0].apply(r,arguments)},{dup:194}],217:[function(t,e,r){arguments[4][195][0].apply(r,arguments)},{"./GLError":216,dup:195}],218:[function(t,e,r){arguments[4][196][0].apply(r,arguments)},{"./GLError":216,"./reflect":219,dup:196}],219:[function(t,e,r){arguments[4][197][0].apply(r,arguments)},{dup:197}],220:[function(t,e,r){arguments[4][198][0].apply(r,arguments)},{dup:198}],221:[function(t,e,r){arguments[4][199][0].apply(r,arguments)},{"./GLError":216,dup:199,"gl-format-compiler-error":146,"weakmap-shim":540}],222:[function(t,e,r){"use strict";function n(t){v=[t.LINEAR,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_NEAREST],g=[t.NEAREST,t.LINEAR,t.NEAREST_MIPMAP_NEAREST,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_LINEAR],b=[t.REPEAT,t.CLAMP_TO_EDGE,t.MIRRORED_REPEAT]}function o(t){return"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&t instanceof ImageData}function i(t,e,r){var n=t.gl,o=n.getParameter(n.MAX_TEXTURE_SIZE);if(e<0||e>o||r<0||r>o)throw new Error("gl-texture2d: Invalid texture size");return t._shape=[e,r],t.bind(),n.texImage2D(n.TEXTURE_2D,0,t.format,e,r,0,t.format,t.type,null),t._mipLevels=[0],t}function a(t,e,r,n,o,i){this.gl=t,this.handle=e,this.format=o,this.type=i,this._shape=[r,n],this._mipLevels=[0],this._magFilter=t.NEAREST,this._minFilter=t.NEAREST,this._wrapS=t.CLAMP_TO_EDGE,this._wrapT=t.CLAMP_TO_EDGE,this._anisoSamples=1;var a=this,s=[this._wrapS,this._wrapT];Object.defineProperties(s,[{get:function(){return a._wrapS},set:function(t){return a.wrapS=t}},{get:function(){return a._wrapT},set:function(t){return a.wrapT=t}}]),this._wrapVector=s;var l=[this._shape[0],this._shape[1]];Object.defineProperties(l,[{get:function(){return a._shape[0]},set:function(t){return a.width=t}},{get:function(){return a._shape[1]},set:function(t){return a.height=t}}]),this._shapeVector=l}function s(t,e){return 3===t.length?1===e[2]&&e[1]===t[0]*t[2]&&e[0]===t[2]:1===e[0]&&e[1]===t[0]}function l(t,e,r,n,o,i,a,l){var u=l.dtype,c=l.shape.slice();if(c.length<2||c.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var p=0,f=0,h=s(c,l.stride.slice());"float32"===u?p=t.FLOAT:"float64"===u?(p=t.FLOAT,h=!1,u="float32"):"uint8"===u?p=t.UNSIGNED_BYTE:(p=t.UNSIGNED_BYTE,h=!1,u="uint8");var v=1;if(2===c.length)f=t.LUMINANCE,c=[c[0],c[1],1],l=d(l.data,c,[l.stride[0],l.stride[1],1],l.offset);else{if(3!==c.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===c[2])f=t.ALPHA;else if(2===c[2])f=t.LUMINANCE_ALPHA;else if(3===c[2])f=t.RGB;else{if(4!==c[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");f=t.RGBA}v=c[2]}if(f!==t.LUMINANCE&&f!==t.ALPHA||o!==t.LUMINANCE&&o!==t.ALPHA||(f=o),f!==o)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var g=l.size,b=a.indexOf(n)<0;if(b&&a.push(n),p===i&&h)0===l.offset&&l.data.length===g?b?t.texImage2D(t.TEXTURE_2D,n,o,c[0],c[1],0,o,i,l.data):t.texSubImage2D(t.TEXTURE_2D,n,e,r,c[0],c[1],o,i,l.data):b?t.texImage2D(t.TEXTURE_2D,n,o,c[0],c[1],0,o,i,l.data.subarray(l.offset,l.offset+g)):t.texSubImage2D(t.TEXTURE_2D,n,e,r,c[0],c[1],o,i,l.data.subarray(l.offset,l.offset+g));else{var _;_=i===t.FLOAT?m.mallocFloat32(g):m.mallocUint8(g);var w=d(_,c,[c[2],c[2]*c[0],1]);p===t.FLOAT&&i===t.UNSIGNED_BYTE?x(w,l):y.assign(w,l),b?t.texImage2D(t.TEXTURE_2D,n,o,c[0],c[1],0,o,i,_.subarray(0,g)):t.texSubImage2D(t.TEXTURE_2D,n,e,r,c[0],c[1],o,i,_.subarray(0,g)),i===t.FLOAT?m.freeFloat32(_):m.freeUint8(_)}}function u(t){var e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e}function c(t,e,r,n,o){var i=t.getParameter(t.MAX_TEXTURE_SIZE);if(e<0||e>i||r<0||r>i)throw new Error("gl-texture2d: Invalid texture shape");if(o===t.FLOAT&&!t.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var s=u(t);return t.texImage2D(t.TEXTURE_2D,0,n,e,r,0,n,o,null),new a(t,s,e,r,n,o)}function p(t,e,r,n,o,i){var s=u(t);return t.texImage2D(t.TEXTURE_2D,0,o,o,i,e),new a(t,s,r,n,o,i)}function f(t,e){var r=e.dtype,n=e.shape.slice(),o=t.getParameter(t.MAX_TEXTURE_SIZE);if(n[0]<0||n[0]>o||n[1]<0||n[1]>o)throw new Error("gl-texture2d: Invalid texture size");var i=s(n,e.stride.slice()),l=0;"float32"===r?l=t.FLOAT:"float64"===r?(l=t.FLOAT,i=!1,r="float32"):"uint8"===r?l=t.UNSIGNED_BYTE:(l=t.UNSIGNED_BYTE,i=!1,r="uint8");var c=0;if(2===n.length)c=t.LUMINANCE,n=[n[0],n[1],1],e=d(e.data,n,[e.stride[0],e.stride[1],1],e.offset);else{if(3!==n.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===n[2])c=t.ALPHA;else if(2===n[2])c=t.LUMINANCE_ALPHA;else if(3===n[2])c=t.RGB;else{if(4!==n[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");c=t.RGBA}}l!==t.FLOAT||t.getExtension("OES_texture_float")||(l=t.UNSIGNED_BYTE,i=!1);var p,f,h=e.size;if(i)p=0===e.offset&&e.data.length===h?e.data:e.data.subarray(e.offset,e.offset+h);else{var v=[n[2],n[2]*n[0],1];f=m.malloc(h,r);var g=d(f,n,v,0);"float32"!==r&&"float64"!==r||l!==t.UNSIGNED_BYTE?y.assign(g,e):x(g,e),p=f.subarray(0,h)}var b=u(t);return t.texImage2D(t.TEXTURE_2D,0,c,n[0],n[1],0,c,l,p),i||m.free(f),new a(t,b,n[0],n[1],c,l)}function h(t){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(v||n(t),"number"==typeof arguments[1])return c(t,arguments[1],arguments[2],arguments[3]||t.RGBA,arguments[4]||t.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return c(t,0|arguments[1][0],0|arguments[1][1],arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var e=arguments[1],r=o(e)?e:e.raw;if(r)return p(t,r,0|e.width,0|e.height,arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if(e.shape&&e.data&&e.stride)return f(t,e)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}var d=t("ndarray"),y=t("ndarray-ops"),m=t("typedarray-pool");e.exports=h;var v=null,g=null,b=null,x=function(t,e){y.muls(t,e,255)},_=a.prototype;Object.defineProperties(_,{minFilter:{get:function(){return this._minFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&v.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),g.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),this._minFilter=t}},magFilter:{get:function(){return this._magFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&v.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),g.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t),this._magFilter=t}},mipSamples:{get:function(){return this._anisoSamples},set:function(t){var e=this._anisoSamples;if(this._anisoSamples=0|Math.max(t,1),e!==this._anisoSamples){var r=this.gl.getExtension("EXT_texture_filter_anisotropic");r&&this.gl.texParameterf(this.gl.TEXTURE_2D,r.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(t){if(this.bind(),b.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,t),this._wrapS=t}},wrapT:{get:function(){return this._wrapT},set:function(t){if(this.bind(),b.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,t),this._wrapT=t}},wrap:{get:function(){return this._wrapVector},set:function(t){if(Array.isArray(t)||(t=[t,t]),2!==t.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var e=0;e<2;++e)if(b.indexOf(t[e])<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);this._wrapS=t[0],this._wrapT=t[1];var r=this.gl;return this.bind(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,this._wrapS),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,this._wrapT),t}},shape:{get:function(){return this._shapeVector},set:function(t){if(Array.isArray(t)){if(2!==t.length)throw new Error("gl-texture2d: Invalid texture shape")}else t=[0|t,0|t];return i(this,0|t[0],0|t[1]),[0|t[0],0|t[1]]}},width:{get:function(){return this._shape[0]},set:function(t){return t|=0,i(this,t,this._shape[1]),t}},height:{get:function(){return this._shape[1]},set:function(t){return t|=0,i(this,this._shape[0],t),t}}}),_.bind=function(t){var e=this.gl;return void 0!==t&&e.activeTexture(e.TEXTURE0+(0|t)),e.bindTexture(e.TEXTURE_2D,this.handle),void 0!==t?0|t:e.getParameter(e.ACTIVE_TEXTURE)-e.TEXTURE0},_.dispose=function(){this.gl.deleteTexture(this.handle)},_.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var t=Math.min(this._shape[0],this._shape[1]),e=0;t>0;++e,t>>>=1)this._mipLevels.indexOf(e)<0&&this._mipLevels.push(e)},_.setPixels=function(t,e,r,n){var i=this.gl;this.bind(),Array.isArray(e)?(n=r,r=0|e[1],e=0|e[0]):(e=e||0,r=r||0),n=n||0;var a=o(t)?t:t.raw;if(a){var s=this._mipLevels.indexOf(n)<0;s?(i.texImage2D(i.TEXTURE_2D,0,this.format,this.format,this.type,a),this._mipLevels.push(n)):i.texSubImage2D(i.TEXTURE_2D,n,e,r,this.format,this.type,a)}else{if(!(t.shape&&t.stride&&t.data))throw new Error("gl-texture2d: Unsupported data type");if(t.shape.length<2||e+t.shape[1]>this._shape[1]>>>n||r+t.shape[0]>this._shape[0]>>>n||e<0||r<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");l(i,e,r,n,this.format,this.type,this._mipLevels,t)}}},{ndarray:447,"ndarray-ops":441,"typedarray-pool":519}],223:[function(t,e,r){"use strict";function n(t,e,r,n,i){i<=4*f?o(0,i-1,t,e,r,n):p(0,i-1,t,e,r,n)}function o(t,e,r,n,o,i){for(var a=t+1;a<=e;++a){for(var s=r[a],l=n[2*a],u=n[2*a+1],c=o[a],p=i[a],f=a;f>t;){var h=r[f-1],d=n[2*(f-1)];if((h-s||l-d)>=0)break;r[f]=h,n[2*f]=d,n[2*f+1]=n[2*f-1],o[f]=o[f-1],i[f]=i[f-1],f-=1}r[f]=s,n[2*f]=l,n[2*f+1]=u,o[f]=c,i[f]=p}}function i(t,e,r,n,o,i){var a=r[t],s=n[2*t],l=n[2*t+1],u=o[t],c=i[t];r[t]=r[e],n[2*t]=n[2*e],n[2*t+1]=n[2*e+1],o[t]=o[e],i[t]=i[e],r[e]=a,n[2*e]=s,n[2*e+1]=l,o[e]=u,i[e]=c}function a(t,e,r,n,o,i){r[t]=r[e],n[2*t]=n[2*e],n[2*t+1]=n[2*e+1],o[t]=o[e],i[t]=i[e]}function s(t,e,r,n,o,i,a){var s=n[t],l=o[2*t],u=o[2*t+1],c=i[t],p=a[t];n[t]=n[e],o[2*t]=o[2*e],o[2*t+1]=o[2*e+1],i[t]=i[e],a[t]=a[e],n[e]=n[r],o[2*e]=o[2*r],o[2*e+1]=o[2*r+1],i[e]=i[r],a[e]=a[r],n[r]=s,o[2*r]=l,o[2*r+1]=u,i[r]=c,a[r]=p}function l(t,e,r,n,o,i,a,s,l,u,c){s[t]=s[e],l[2*t]=l[2*e],l[2*t+1]=l[2*e+1],u[t]=u[e],c[t]=c[e],s[e]=r,l[2*e]=n,l[2*e+1]=o,u[e]=i,c[e]=a}function u(t,e,r,n,o){return(r[t]-r[e]||n[2*e]-n[2*t]||o[t]-o[e])<0}function c(t,e,r,n,o,i,a,s){return(e-i[t]||a[2*t]-r||o-s[t])<0}function p(t,e,r,n,h,d){var y=(e-t+1)/6|0,m=t+y,v=e-y,g=t+e>>1,b=g-y,x=g+y,_=m,w=b,T=g,M=x,S=v,E=t+1,k=e-1,C=0;u(_,w,r,n,h,d)&&(C=_,_=w,w=C),u(M,S,r,n,h,d)&&(C=M,M=S,S=C),u(_,T,r,n,h,d)&&(C=_,_=T,T=C),u(w,T,r,n,h,d)&&(C=w,w=T,T=C),u(_,M,r,n,h,d)&&(C=_,_=M,M=C),u(T,M,r,n,h,d)&&(C=T,T=M,M=C),u(w,S,r,n,h,d)&&(C=w,w=S,S=C),u(w,T,r,n,h,d)&&(C=w,w=T,T=C),u(M,S,r,n,h,d)&&(C=M,M=S,S=C);var A=r[w],P=n[2*w],L=n[2*w+1],D=h[w],O=d[w],I=r[M],R=n[2*M],N=n[2*M+1],j=h[M],F=d[M],z=_,B=T,U=S,V=m,H=g,W=v,q=r[z],G=r[B],Y=r[U];r[V]=q,r[H]=G,r[W]=Y;for(var X=0;X<2;++X){var K=n[2*z+X],Z=n[2*B+X],J=n[2*U+X];n[2*V+X]=K,n[2*H+X]=Z,n[2*W+X]=J}var $=h[z],Q=h[B],tt=h[U];h[V]=$,h[H]=Q,h[W]=tt;var et=d[z],rt=d[B],nt=d[U];d[V]=et,d[H]=rt,d[W]=nt,a(b,t,r,n,h,d),a(x,e,r,n,h,d);for(var ot=E;ot<=k;++ot)if(c(ot,A,P,L,D,r,n,h))ot!==E&&i(ot,E,r,n,h,d),++E;else if(!c(ot,I,R,N,j,r,n,h))for(;;){if(c(k,I,R,N,j,r,n,h)){c(k,A,P,L,D,r,n,h)?(s(ot,E,k,r,n,h,d),++E,--k):(i(ot,k,r,n,h,d),--k);break}if(--k<ot)break}l(t,E-1,A,P,L,D,O,r,n,h,d),l(e,k+1,I,R,N,j,F,r,n,h,d),E-2-t<=f?o(t,E-2,r,n,h,d):p(t,E-2,r,n,h,d),e-(k+2)<=f?o(k+2,e,r,n,h,d):p(k+2,e,r,n,h,d),k-E<=f?o(E,k,r,n,h,d):p(E,k,r,n,h,d)}e.exports=n;var f=32},{}],224:[function(t,e,r){"use strict";function n(t,e,r,n,o,i,a,s){for(var l=r,u=r;u<n;++u){var c=t[2*u],p=t[2*u+1],f=e[u];o<=c&&c<=a&&i<=p&&p<=s&&(u===l?l+=1:(t[2*u]=t[2*l],t[2*u+1]=t[2*l+1],e[u]=e[l],t[2*l]=c,t[2*l+1]=p,e[l]=f,l+=1))}return l}function o(t,e,r){this.pixelSize=t,this.offset=e,this.count=r}function i(t,e,r,i){function l(o,i,a,s,u,c){var p=.5*a,f=s+1,h=u-s;r[_]=h,x[_++]=c;for(var d=0;d<2;++d)for(var y=0;y<2;++y){var m=o+d*p,v=i+y*p,g=n(t,e,f,u,m,v,m+p,v+p);if(g!==f){if(g-f>=Math.max(.9*h,32)){var b=u+s>>>1;l(m,v,p,f,b,c+1),f=b}l(m,v,p,f,g,c+1),f=g}}}var u=t.length>>>1;if(u<1)return[];for(var c=1/0,p=1/0,f=-(1/0),h=-(1/0),d=0;d<u;++d){var y=t[2*d],m=t[2*d+1];c=Math.min(c,y),f=Math.max(f,y),p=Math.min(p,m),h=Math.max(h,m),e[d]=d}c===f&&(f+=1+Math.abs(f)),p===h&&(h+=1+Math.abs(f));var v=1/(f-c),g=1/(h-p),b=Math.max(f-c,h-p);i=i||[0,0,0,0],i[0]=c,i[1]=p,i[2]=f,i[3]=h;var x=a.mallocInt32(u),_=0;l(c,p,b,0,u,0),s(x,t,e,r,u);for(var w=[],T=0,M=u,_=u-1;_>=0;--_){t[2*_]=(t[2*_]-c)*v,t[2*_+1]=(t[2*_+1]-p)*g;var S=x[_];S!==T&&(w.push(new o(b*Math.pow(.5,S),_+1,M-(_+1))),M=_+1,T=S)}return w.push(new o(b*Math.pow(.5,S+1),0,M)),a.free(x),w}var a=t("typedarray-pool"),s=t("./lib/sort");e.exports=i},{"./lib/sort":223,"typedarray-pool":519}],225:[function(t,e,r){"use strict";function n(t,e,r,n,o,i,a,s){this.plot=t,this.shader=e,this.pickShader=r,this.positionBuffer=n,this.sizeBuffer=o,this.colorBuffer=i,this.idBuffer=a,this.charBuffer=s,this.pointCount=0,this.pickOffset=0,this.points=null,this.scales=[],this.xCoords=[],this.charCanvas=document.createElement("canvas"),this.charTexture=p(this.plot.gl,this.charCanvas),this.charStep=400,this.charOffset=.032,this.snapThreshold=1e4,this.paletteTexture=p(this.plot.gl,[256,1])}function o(t,e){var r=t.gl,o=i(r,l.vertex,l.fragment),s=i(r,l.pickVertex,l.pickFragment),u=a(r),c=a(r),p=a(r),f=a(r),h=a(r),d=new n(t,o,s,u,c,p,f,h);return d.update(e),t.addObject(d),d}e.exports=o;var i=t("gl-shader"),a=t("gl-buffer"),s=t("typedarray-pool"),l=t("./lib/shaders"),u=t("snap-points-2d"),c=t("font-atlas-sdf"),p=t("gl-texture2d"),f=t("color-id"),h=t("ndarray"),d=t("clamp"),y=t("binary-search-bounds"),m=n.prototype;!function(){function t(){var t=this.plot,u=t.viewBox,c=t.dataBox,p=t.pixelRatio,f=c[2]-c[0],h=c[3]-c[1],d=2/f,y=2/h,m=-c[0]-.5*f,v=-c[1]-.5*h;o[0]=d,i[0]=d-o[0],o[1]=y,i[1]=y-o[1],a[0]=m,s[0]=m-a[0],a[1]=v,s[1]=v-a[1];var g=u[2]-u[0],b=u[3]-u[1];e=Math.min(f/g,h/b),l[0]=2*p/g,l[1]=2*p/b,r=c[0],n=c[2]}var e,r,n,o=new Float32Array([0,0]),i=new Float32Array([0,0]),a=new Float32Array([0,0]),s=new Float32Array([0,0]),l=[0,0],u=[0,0,0,0];m.drawPick=function(l){var c=void 0!==l,p=this.plot,f=this.pointCount,h=f>this.snapThreshold;if(!f)return l;t.call(this);var d=p.gl,m=c?this.pickShader:this.shader,v=d.isEnabled(d.BLEND);if(m.bind(),c){this.pickOffset=l;for(var g=0;g<4;++g)u[g]=l>>8*g&255;m.uniforms.pickOffset=u,this.idBuffer.bind(),m.attributes.id.pointer(d.UNSIGNED_BYTE,!1)}else d.blendFuncSeparate(d.SRC_ALPHA,d.ONE_MINUS_SRC_ALPHA,d.ONE,d.ONE_MINUS_SRC_ALPHA),d.blendColor(0,0,0,1),v||d.enable(d.BLEND),this.colorBuffer.bind(),m.attributes.color.pointer(d.UNSIGNED_BYTE,!1),this.charBuffer.bind(),m.attributes.char.pointer(d.UNSIGNED_BYTE,!1),m.uniforms.chars=this.charTexture.bind(0),m.uniforms.charsShape=[this.charCanvas.width,this.charCanvas.height],m.uniforms.charsStep=this.charStep,m.uniforms.palette=this.paletteTexture.bind(1),m.uniforms.charOffset=this.charOffset;this.sizeBuffer.bind(),m.attributes.size.pointer(d.FLOAT,!1,8,0),c||m.attributes.border.pointer(d.FLOAT,!1,8,4),this.positionBuffer.bind(),m.attributes.positionHi.pointer(d.FLOAT,!1,16,0),m.attributes.positionLo.pointer(d.FLOAT,!1,16,8),m.uniforms.pixelRatio=p.pixelRatio,m.uniforms.scaleHi=o,m.uniforms.scaleLo=i,m.uniforms.translateHi=a,m.uniforms.translateLo=s,m.uniforms.viewBox=p.viewBox;var b=this.scales;if(h)for(var x=b.length-1;x>=0;x--){var _=b[x];if(!(_.pixelSize&&_.pixelSize<1.25*e&&x>1)){var w=_.offset,T=_.count+w,M=y.ge(this.xCoords,r,w,T-1),S=y.lt(this.xCoords,n,M,T-1)+1;S>M&&d.drawArrays(d.POINTS,M,S-M)}}else d.drawArrays(d.POINTS,0,f);return c?l+f:void(v?d.blendFunc(d.ONE,d.ONE_MINUS_SRC_ALPHA):d.disable(d.BLEND))}}(),m.draw=m.drawPick,m.pick=function(t,e,r){var n=this.pickOffset,o=this.pointCount;if(r<n||r>=n+o)return null;var i=r-n,a=this.points;return{object:this,pointId:i,dataCoord:[a[2*i],a[2*i+1]]}},m.update=function(t){t=t||{};var e=t.positions||[],r=t.colors||[],n=t.glyphs||[],o=t.sizes||[],i=t.borderWidths||[],a=t.borderColors||[],l=this.plot.gl;null!=t.charOffset&&(this.charOffset=t.charOffset),this.points=e;var p=this.points.length/2,y=s.mallocInt32(p),m=s.mallocFloat32(2*p),v=s.mallocFloat64(2*p);v.set(this.points),this.pointCount=p;var g=p>this.snapThreshold;g&&(this.scales=u(v,y,m));for(var b=s.mallocFloat32(4*p),x=s.mallocFloat32(2*p),_=s.mallocUint8(2*p),w=s.mallocUint32(p),T=s.mallocUint8(2*p),M={},S=[],E=[],k=[],C=0,A=p,P=0;C<A;++C){var L=[255*r[4*C],255*r[4*C+1],255*r[4*C+2],255*r[4*C+3]],D=f(L,!1);null==M[D]&&(M[D]=P++,E.push(L[0]),E.push(L[1]),E.push(L[2]),E.push(L[3])),S.push(D),a&&a.length&&(L=[255*a[4*C],255*a[4*C+1],255*a[4*C+2],255*a[4*C+3]],
D=f(L,!1),null==M[D]&&(M[D]=P++,E.push(L[0]),E.push(L[1]),E.push(L[2]),E.push(L[3])),k.push(D))}for(var O={},C=0,A=p,P=0;C<A;C++){var I=n[C];null==O[I]&&(O[I]=P++)}for(var R=0,C=0,A=o.length;C<A;++C)o[C]>R&&(R=o[C]);this.charStep=d(Math.ceil(4*R),128,768);var N=Object.keys(O),j=this.charStep,F=Math.floor(j/2),z=l.getParameter(l.MAX_TEXTURE_SIZE),B=z/j*(z/j),U=Math.min(z,j*N.length),V=Math.min(z,j*Math.ceil(j*N.length/z)),H=Math.floor(U/j);N.length>B&&console.warn("gl-scatter2d-fancy: number of characters is more than maximum texture size. Try reducing it."),this.chars&&this.chars+""==N+""||(this.charCanvas=c({canvas:this.charCanvas,family:"sans-serif",size:F,shape:[U,V],step:[j,j],chars:N}),this.chars=N);for(var C=0;C<p;++C){var W=g?y[C]:C,q=e[2*W],G=e[2*W+1],Y=o[W],X=i[W];b[4*C]=q,b[4*C+1]=G,b[4*C+2]=q-b[4*C],b[4*C+3]=G-b[4*C+1],this.xCoords[C]=q,x[2*C]=2*Y,x[2*C+1]=X,w[C]=W;var D=S[W],K=M[D];_[2*C]=K;var Z=k[W],J=M[Z];_[2*C+1]=J;var I=n[W],$=O[I];T[2*C+1]=Math.floor($/H),T[2*C]=$%H}this.positionBuffer.update(b),this.sizeBuffer.update(x),this.colorBuffer.update(_),this.idBuffer.update(w),this.charBuffer.update(T),this.charTexture.shape=[this.charCanvas.width,this.charCanvas.height],this.charCanvas&&this.charCanvas.width&&this.charTexture.setPixels(this.charCanvas),this.paletteTexture.setPixels(h(E.slice(0,1024),[256,1,4])),s.free(b),s.free(x),s.free(_),s.free(w),s.free(T),s.free(v),s.free(y),s.free(m)},m.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.sizeBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.charBuffer.dispose(),this.plot.removeObject(this)}},{"./lib/shaders":213,"binary-search-bounds":214,clamp:78,"color-id":82,"font-atlas-sdf":116,"gl-buffer":138,"gl-shader":215,"gl-texture2d":222,ndarray:447,"snap-points-2d":224,"typedarray-pool":519}],226:[function(t,e,r){r.pointVertex="precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 positionHi, positionLo;\nattribute float weight;\n\nuniform vec2 scaleHi, scaleLo, translateHi, translateLo;\nuniform float pointSize, useWeight;\n\nvarying float fragWeight;\n\n\nvec4 pfx_1_0(vec2 scaleHi, vec2 scaleLo, vec2 translateHi, vec2 translateLo, vec2 positionHi, vec2 positionLo) {\n  return vec4((positionHi + translateHi) * scaleHi\n            + (positionLo + translateLo) * scaleHi\n            + (positionHi + translateHi) * scaleLo\n            + (positionLo + translateLo) * scaleLo, 0.0, 1.0);\n}\n\nvoid main() {\n  gl_Position = pfx_1_0(scaleHi, scaleLo, translateHi, translateLo, positionHi, positionLo);\n  gl_PointSize = pointSize;\n  fragWeight = mix(1.0, weight, useWeight);\n}",r.pointFragment="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color, borderColor;\nuniform float centerFraction;\n\nvarying float fragWeight;\n\nfloat smoothStep(float x, float y) {\n  return 1.0 / (1.0 + exp(50.0*(x - y)));\n}\n\nvoid main() {\n  float radius = length(2.0*gl_PointCoord.xy-1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  vec4 baseColor = mix(borderColor, color, smoothStep(radius, centerFraction));\n  float alpha = 1.0 - pow(1.0 - baseColor.a, fragWeight);\n  gl_FragColor = vec4(baseColor.rgb * alpha, alpha);\n}",r.pickVertex="precision highp float;\n#define GLSLIFY 1\n\nvec4 pfx_1_0(vec2 scaleHi, vec2 scaleLo, vec2 translateHi, vec2 translateLo, vec2 positionHi, vec2 positionLo) {\n  return vec4((positionHi + translateHi) * scaleHi\n            + (positionLo + translateLo) * scaleHi\n            + (positionHi + translateHi) * scaleLo\n            + (positionLo + translateLo) * scaleLo, 0.0, 1.0);\n}\n\nattribute vec2 positionHi, positionLo;\nattribute vec4 pickId;\n\nuniform vec2 scaleHi, scaleLo, translateHi, translateLo;\nuniform float pointSize;\nuniform vec4 pickOffset;\n\nvarying vec4 fragId;\n\nvoid main() {\n\n  vec4 id = pickId + pickOffset;\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  gl_Position = pfx_1_0(scaleHi, scaleLo, translateHi, translateLo, positionHi, positionLo);\n  gl_PointSize = pointSize;\n  fragId = id;\n}",r.pickFragment="precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\n\nvoid main() {\n  float radius = length(2.0 * gl_PointCoord.xy - 1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  gl_FragColor = fragId / 255.0;\n}"},{}],227:[function(t,e,r){arguments[4][74][0].apply(r,arguments)},{dup:74}],228:[function(t,e,r){arguments[4][223][0].apply(r,arguments)},{dup:223}],229:[function(t,e,r){arguments[4][224][0].apply(r,arguments)},{"./lib/sort":228,dup:224,"typedarray-pool":519}],230:[function(t,e,r){"use strict";function n(t,e,r,n,o,i,a){this.plot=t,this.positionBufferHi=e,this.positionBufferLo=r,this.pickBuffer=n,this.weightBuffer=o,this.shader=i,this.pickShader=a,this.scales=[],this.size=12,this.borderSize=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.bounds=[1/0,1/0,-(1/0),-(1/0)],this.pickOffset=0,this.points=null,this.xCoords=null}function o(t,e){var r=t.gl,o=a(r),s=a(r),l=a(r),u=a(r),p=i(r,c.pointVertex,c.pointFragment),f=i(r,c.pickVertex,c.pickFragment),h=new n(t,o,s,l,u,p,f);return h.update(e),t.addObject(h),h}var i=t("gl-shader"),a=t("gl-buffer"),s=t("binary-search-bounds"),l=t("snap-points-2d"),u=t("typedarray-pool"),c=t("./lib/shader");e.exports=o;var p=n.prototype,f=new Float32Array(2),h=new Float32Array(2),d=new Float32Array(2),y=new Float32Array(2),m=[0,0,0,0];p.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBufferHi.dispose(),this.positionBufferLo.dispose(),this.pickBuffer.dispose(),this.xCoords&&u.free(this.xCoords),this.plot.removeObject(this)},p.update=function(t){function e(e,r){return e in t?t[e]:r}t=t||{},this.size=e("size",12),this.color=e("color",[1,0,0,1]).slice(),this.borderSize=e("borderSize",1),this.borderColor=e("borderColor",[0,0,0,1]).slice(),this.xCoords&&u.free(this.xCoords),this.points=t.positions;var r=this.points.length>>>1,n=u.mallocInt32(r),o=u.mallocFloat32(2*r),i=u.mallocFloat64(2*r);i.set(this.points),this.scales=l(i,n,o,this.bounds);var a=u.mallocFloat64(r),s=u.mallocFloat32(2*r),c=u.mallocFloat32(2*r);s.set(i);for(var p=0,f=0;p<r;p++,f+=2)c[f]=i[f]-s[f],c[f+1]=i[f+1]-s[f+1],a[p]=i[f];this.positionBufferHi.update(s),this.positionBufferLo.update(c),this.pickBuffer.update(n),this.weightBuffer.update(o),u.free(n),u.free(i),u.free(s),u.free(c),u.free(o),this.xCoords=a,this.pointCount=r,this.pickOffset=0},p.draw=function(t){var e=void 0!==t,r=this.plot,n=e?this.pickShader:this.shader,o=this.scales,i=this.positionBufferHi,a=this.positionBufferLo,l=this.pickBuffer,u=this.bounds,c=this.size,p=this.borderSize,v=r.gl,g=e?r.pickPixelRatio:r.pixelRatio,b=r.viewBox,x=r.dataBox;if(0===this.pointCount)return t;var _=u[2]-u[0],w=u[3]-u[1],T=x[2]-x[0],M=x[3]-x[1],S=(b[2]-b[0])*g/r.pixelRatio,E=(b[3]-b[1])*g/r.pixelRatio,k=Math.min(T/S,M/E),C=2*_/T,A=2*w/M;f[0]=C,f[1]=A,h[0]=C-f[0],h[1]=A-f[1];var P=(u[0]-x[0]-.5*T)/_,L=(u[1]-x[1]-.5*M)/w;d[0]=P,d[1]=L,y[0]=P-d[0],y[1]=L-d[1],n.bind(),n.uniforms.scaleHi=f,n.uniforms.scaleLo=h,n.uniforms.translateHi=d,n.uniforms.translateLo=y,n.uniforms.color=this.color,n.uniforms.borderColor=this.borderColor,n.uniforms.pointSize=g*(c+p),n.uniforms.centerFraction=0===this.borderSize?2:c/(c+p+1.25),i.bind(),n.attributes.positionHi.pointer(),a.bind(),n.attributes.positionLo.pointer(),e?(this.pickOffset=t,m[0]=255&t,m[1]=t>>8&255,m[2]=t>>16&255,m[3]=t>>24&255,n.uniforms.pickOffset=m,l.bind(),n.attributes.pickId.pointer(v.UNSIGNED_BYTE)):(n.uniforms.useWeight=1,this.weightBuffer.bind(),n.attributes.weight.pointer());for(var D=this.xCoords,O=(x[0]-u[0]-k*c*g)/_,I=(x[2]-u[0]+k*c*g)/_,R=!0,N=o.length-1;N>=0;N--){var j=o[N];if(!(j.pixelSize<k&&N>1)){var F=j.offset,z=j.count+F,B=s.ge(D,O,F,z-1),U=s.lt(D,I,B,z-1)+1;U>B&&v.drawArrays(v.POINTS,B,U-B),!e&&R&&(R=!1,n.uniforms.useWeight=0)}}return t+this.pointCount},p.drawPick=p.draw,p.pick=function(t,e,r){var n=r-this.pickOffset;return n<0||n>=this.pointCount?null:{object:this,pointId:n,dataCoord:[this.points[2*n],this.points[2*n+1]]}}},{"./lib/shader":226,"binary-search-bounds":227,"gl-buffer":138,"gl-shader":237,"snap-points-2d":229,"typedarray-pool":519}],231:[function(t,e,r){"use strict";function n(t,e){var r=i[e];if(r||(r=i[e]={}),t in r)return r[t];for(var n=o(t,{textAlign:"center",textBaseline:"middle",lineHeight:1,font:e}),a=o(t,{triangles:!0,textAlign:"center",textBaseline:"middle",lineHeight:1,font:e}),s=[[1/0,1/0],[-(1/0),-(1/0)]],l=0;l<n.positions.length;++l)for(var u=n.positions[l],c=0;c<2;++c)s[0][c]=Math.min(s[0][c],u[c]),s[1][c]=Math.max(s[1][c],u[c]);return r[t]=[a,n,s]}var o=t("vectorize-text");e.exports=n;var i={}},{"vectorize-text":532}],232:[function(t,e,r){function n(t,e){var r=o(t,e),n=r.attributes;return n.position.location=0,n.color.location=1,n.glyph.location=2,n.id.location=3,r}var o=t("gl-shader"),i="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if(any(lessThan(position, clipBounds[0]))   || \n     any(greaterThan(position, clipBounds[1])) ) {\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n    \n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}",a="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if(any(lessThan(position, clipBounds[0])) || any(greaterThan(position, clipBounds[1]))) {\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n    \n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}",s="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if(any(lessThan(position, clipBounds[0]))   ||\n     any(greaterThan(position, clipBounds[1])) ) {\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n",l="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if(any(lessThan(dataCoordinate, fragClipBounds[0]))   ||\n     any(greaterThan(dataCoordinate, fragClipBounds[1])) ) {\n    discard;\n  } else {\n    gl_FragColor = interpColor * opacity;\n  }\n}\n",u="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if(any(lessThan(dataCoordinate, fragClipBounds[0]))   || \n     any(greaterThan(dataCoordinate, fragClipBounds[1])) ) {\n    discard;\n  } else {\n    gl_FragColor = vec4(pickGroup, pickId.bgr);\n  }\n}",c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],p={vertex:i,fragment:l,attributes:c},f={vertex:a,fragment:l,attributes:c},h={vertex:s,fragment:l,attributes:c},d={vertex:i,fragment:u,attributes:c},y={vertex:a,fragment:u,attributes:c},m={vertex:s,fragment:u,attributes:c};r.createPerspective=function(t){return n(t,p)},r.createOrtho=function(t){return n(t,f)},r.createProject=function(t){return n(t,h)},r.createPickPerspective=function(t){return n(t,d)},r.createPickOrtho=function(t){return n(t,y)},r.createPickProject=function(t){return n(t,m)}},{"gl-shader":237}],233:[function(t,e,r){"use strict";function n(t,e){var r=t[0],n=t[1],o=t[2],i=t[3];return t[0]=e[0]*r+e[4]*n+e[8]*o+e[12]*i,t[1]=e[1]*r+e[5]*n+e[9]*o+e[13]*i,t[2]=e[2]*r+e[6]*n+e[10]*o+e[14]*i,t[3]=e[3]*r+e[7]*n+e[11]*o+e[15]*i,t}function o(t,e,r,o){return n(o,o,r),n(o,o,e),n(o,o,t)}function i(t,e){this.index=t,this.dataCoordinate=this.position=e}function a(t,e,r,n,o,a,s,l,u,c,p,f){this.gl=t,this.pixelRatio=1,this.shader=e,this.orthoShader=r,this.projectShader=n,this.pointBuffer=o,this.colorBuffer=a,this.glyphBuffer=s,this.idBuffer=l,this.vao=u,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.lineWidth=0,this.projectScale=[2/3,2/3,2/3],this.projectOpacity=[1,1,1],this.pickId=0,this.pickPerspectiveShader=c,this.pickOrthoShader=p,this.pickProjectShader=f,this.points=[],this._selectResult=new i(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-(1/0),-(1/0),-(1/0)],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-(1/0),-(1/0),-(1/0)],[1/0,1/0,1/0]],this.dirty=!0}function s(t){return t[0]=t[1]=t[2]=0,t}function l(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=1,t}function u(t,e,r,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[r]=n,t}function c(t){for(var e=A,r=0;r<2;++r)for(var n=0;n<3;++n)e[r][n]=Math.max(Math.min(t[r][n],1e8),-1e8);return e}function p(t,e,r,n,i){var a,p=e.axesProject,f=e.gl,h=t.uniforms,d=r.model||x,y=r.view||x,m=r.projection||x,g=e.axesBounds,b=c(e.clipBounds);a=e.axes?e.axes.lastCubeProps.axis:[1,1,1],w[0]=2/f.drawingBufferWidth,w[1]=2/f.drawingBufferHeight,t.bind(),h.view=y,h.projection=m,h.screenSize=w,h.highlightId=e.highlightId,h.highlightScale=e.highlightScale,h.clipBounds=b,h.pickGroup=e.pickId/255,h.pixelRatio=e.pixelRatio;for(var _=0;_<3;++_)if(p[_]&&e.projectOpacity[_]<1===n){h.scale=e.projectScale[_],h.opacity=e.projectOpacity[_];for(var A=k,P=0;P<16;++P)A[P]=0;for(var P=0;P<4;++P)A[5*P]=1;A[5*_]=0,a[_]<0?A[12+_]=g[0][_]:A[12+_]=g[1][_],v(A,d,A),h.model=A;var L=(_+1)%3,D=(_+2)%3,O=s(T),I=s(M);O[L]=1,I[D]=1;var R=o(m,y,d,l(S,O)),N=o(m,y,d,l(E,I));if(Math.abs(R[1])>Math.abs(N[1])){var j=R;R=N,N=j,j=O,O=I,I=j;var F=L;L=D,D=F}R[0]<0&&(O[L]=-1),N[1]>0&&(I[D]=-1);for(var z=0,B=0,P=0;P<4;++P)z+=Math.pow(d[4*L+P],2),B+=Math.pow(d[4*D+P],2);O[L]/=Math.sqrt(z),I[D]/=Math.sqrt(B),h.axes[0]=O,h.axes[1]=I,h.fragClipBounds[0]=u(C,b[0],_,-1e8),h.fragClipBounds[1]=u(C,b[1],_,1e8),e.vao.draw(f.TRIANGLES,e.vertexCount),e.lineWidth>0&&(f.lineWidth(e.lineWidth),e.vao.draw(f.LINES,e.lineVertexCount,e.vertexCount))}}function f(t,e,r,n,o,i){var a=r.gl;if(r.vao.bind(),o===r.opacity<1||i){t.bind();var s=t.uniforms;s.model=n.model||x,s.view=n.view||x,s.projection=n.projection||x,w[0]=2/a.drawingBufferWidth,w[1]=2/a.drawingBufferHeight,s.screenSize=w,s.highlightId=r.highlightId,s.highlightScale=r.highlightScale,s.fragClipBounds=D,s.clipBounds=r.axes.bounds,s.opacity=r.opacity,s.pickGroup=r.pickId/255,s.pixelRatio=r.pixelRatio,r.vao.draw(a.TRIANGLES,r.vertexCount),r.lineWidth>0&&(a.lineWidth(r.lineWidth),r.vao.draw(a.LINES,r.lineVertexCount,r.vertexCount))}p(e,r,n,o,i),r.vao.unbind()}function h(t){var e=t.gl,r=g.createPerspective(e),n=g.createOrtho(e),o=g.createProject(e),i=g.createPickPerspective(e),s=g.createPickOrtho(e),l=g.createPickProject(e),u=d(e),c=d(e),p=d(e),f=d(e),h=y(e,[{buffer:u,size:3,type:e.FLOAT},{buffer:c,size:4,type:e.FLOAT},{buffer:p,size:2,type:e.FLOAT},{buffer:f,size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),m=new a(e,r,n,o,u,c,p,f,h,i,s,l);return m.update(t),m}var d=t("gl-buffer"),y=t("gl-vao"),m=t("typedarray-pool"),v=t("gl-mat4/multiply"),g=t("./lib/shaders"),b=t("./lib/glyphs"),x=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];e.exports=h;var _=a.prototype;_.pickSlots=1,_.setPickBase=function(t){this.pickId=t},_.isTransparent=function(){if(this.opacity<1)return!0;for(var t=0;t<3;++t)if(this.axesProject[t]&&this.projectOpacity[t]<1)return!0;return!1},_.isOpaque=function(){if(this.opacity>=1)return!0;for(var t=0;t<3;++t)if(this.axesProject[t]&&this.projectOpacity[t]>=1)return!0;return!1};var w=[0,0],T=[0,0,0],M=[0,0,0],S=[0,0,0,1],E=[0,0,0,1],k=x.slice(),C=[0,0,0],A=[[0,0,0],[0,0,0]],P=[-1e8,-1e8,-1e8],L=[1e8,1e8,1e8],D=[P,L];_.draw=function(t){var e=this.useOrtho?this.orthoShader:this.shader;f(e,this.projectShader,this,t,!1,!1)},_.drawTransparent=function(t){var e=this.useOrtho?this.orthoShader:this.shader;f(e,this.projectShader,this,t,!0,!1)},_.drawPick=function(t){var e=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;f(e,this.pickProjectShader,this,t,!1,!0)},_.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=t.value[2]+(t.value[1]<<8)+(t.value[0]<<16);if(e>=this.pointCount||e<0)return null;var r=this.points[e],n=this._selectResult;n.index=e;for(var o=0;o<3;++o)n.position[o]=n.dataCoordinate[o]=r[o];return n},_.highlight=function(t){if(t){var e=t.index,r=255&e,n=e>>8&255,o=e>>16&255;this.highlightId=[r/255,n/255,o/255,0]}else this.highlightId=[1,1,1,1]},_.update=function(t){if(t=t||{},"perspective"in t&&(this.useOrtho=!t.perspective),"orthographic"in t&&(this.useOrtho=!!t.orthographic),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"project"in t)if(Array.isArray(t.project))this.axesProject=t.project;else{var e=!!t.project;this.axesProject=[e,e,e]}if("projectScale"in t)if(Array.isArray(t.projectScale))this.projectScale=t.projectScale.slice();else{var r=+t.projectScale;this.projectScale=[r,r,r]}if("projectOpacity"in t)if(Array.isArray(t.projectOpacity))this.projectOpacity=t.projectOpacity.slice();else{var r=+t.projectOpacity;this.projectOpacity=[r,r,r]}"opacity"in t&&(this.opacity=t.opacity),this.dirty=!0;var n=t.position;if(n){var o=t.font||"normal",i=t.alignment||[0,0],a=[1/0,1/0,1/0],s=[-(1/0),-(1/0),-(1/0)],l=t.glyph,u=t.color,c=t.size,p=t.angle,f=t.lineColor,h=0,d=0,y=0,v=n.length;t:for(var g=0;g<v;++g){for(var x=n[g],_=0;_<3;++_)if(isNaN(x[_])||!isFinite(x[_]))continue t;var w;w=Array.isArray(l)?b(l[g],o):l?b(l,o):b("●",o);var T=w[0],M=w[1],S=w[2];d+=3*T.cells.length,y+=2*M.edges.length}var E=d+y,k=m.mallocFloat(3*E),C=m.mallocFloat(4*E),A=m.mallocFloat(2*E),P=m.mallocUint32(E),L=[0,i[1]],D=0,O=d,I=[0,0,0,1],R=[0,0,0,1],N=Array.isArray(u)&&Array.isArray(u[0]),j=Array.isArray(f)&&Array.isArray(f[0]);t:for(var g=0;g<v;++g){for(var x=n[g],_=0;_<3;++_){if(isNaN(x[_])||!isFinite(x[_])){h+=1;continue t}s[_]=Math.max(s[_],x[_]),a[_]=Math.min(a[_],x[_])}var w;w=Array.isArray(l)?b(l[g],o):l?b(l,o):b("●",o);var T=w[0],M=w[1],S=w[2];if(Array.isArray(u)){var F;if(F=N?u[g]:u,3===F.length){for(var _=0;_<3;++_)I[_]=F[_];I[3]=1}else if(4===F.length)for(var _=0;_<4;++_)I[_]=F[_]}else I[0]=I[1]=I[2]=0,I[3]=1;if(Array.isArray(f)){var F;if(F=j?f[g]:f,3===F.length){for(var _=0;_<3;++_)R[_]=F[_];R[_]=1}else if(4===F.length)for(var _=0;_<4;++_)R[_]=F[_]}else R[0]=R[1]=R[2]=0,R[3]=1;var z=.5;Array.isArray(c)?z=+c[g]:c?z=+c:this.useOrtho&&(z=12);var B=0;Array.isArray(p)?B=+p[g]:p&&(B=+p);for(var U=Math.cos(B),V=Math.sin(B),x=n[g],_=0;_<3;++_)s[_]=Math.max(s[_],x[_]),a[_]=Math.min(a[_],x[_]);i[0]<0?L[0]=i[0]*(1+S[1][0]):i[0]>0&&(L[0]=-i[0]*(1+S[0][0]));for(var H=T.cells,W=T.positions,_=0;_<H.length;++_)for(var q=H[_],G=0;G<3;++G){for(var Y=0;Y<3;++Y)k[3*D+Y]=x[Y];for(var Y=0;Y<4;++Y)C[4*D+Y]=I[Y];P[D]=h;var X=W[q[G]];A[2*D]=z*(U*X[0]-V*X[1]+L[0]),A[2*D+1]=z*(V*X[0]+U*X[1]+L[1]),D+=1}for(var H=M.edges,W=M.positions,_=0;_<H.length;++_)for(var q=H[_],G=0;G<2;++G){for(var Y=0;Y<3;++Y)k[3*O+Y]=x[Y];for(var Y=0;Y<4;++Y)C[4*O+Y]=R[Y];P[O]=h;var X=W[q[G]];A[2*O]=z*(U*X[0]-V*X[1]+L[0]),A[2*O+1]=z*(V*X[0]+U*X[1]+L[1]),O+=1}h+=1}this.vertexCount=d,this.lineVertexCount=y,this.pointBuffer.update(k),this.colorBuffer.update(C),this.glyphBuffer.update(A),this.idBuffer.update(new Uint32Array(P)),m.free(k),m.free(C),m.free(A),m.free(P),this.bounds=[a,s],this.points=n,this.pointCount=n.length}},_.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},{"./lib/glyphs":231,"./lib/shaders":232,"gl-buffer":138,"gl-mat4/multiply":164,"gl-vao":253,"typedarray-pool":519}],234:[function(t,e,r){"use strict";r.boxVertex="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 vertex;\n\nuniform vec2 cornerA, cornerB;\n\nvoid main() {\n  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);\n}\n",r.boxFragment="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = color;\n}\n"},{}],235:[function(t,e,r){"use strict";function n(t,e,r){this.plot=t,this.boxBuffer=e,this.boxShader=r,this.enabled=!0,this.selectBox=[1/0,1/0,-(1/0),-(1/0)],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}function o(t,e){var r=t.gl,o=a(r,[0,0,0,1,1,0,1,1]),l=i(r,s.boxVertex,s.boxFragment),u=new n(t,o,l);return u.update(e),t.addOverlay(u),u}var i=t("gl-shader"),a=t("gl-buffer"),s=t("./lib/shaders");e.exports=o;var l=n.prototype;l.draw=function(){if(this.enabled){var t=this.plot,e=this.selectBox,r=this.borderWidth,n=(this.innerFill,this.innerColor),o=(this.outerFill,this.outerColor),i=this.borderColor,a=t.box,s=t.screenBox,l=t.dataBox,u=t.viewBox,c=t.pixelRatio,p=(e[0]-l[0])*(u[2]-u[0])/(l[2]-l[0])+u[0],f=(e[1]-l[1])*(u[3]-u[1])/(l[3]-l[1])+u[1],h=(e[2]-l[0])*(u[2]-u[0])/(l[2]-l[0])+u[0],d=(e[3]-l[1])*(u[3]-u[1])/(l[3]-l[1])+u[1];if(p=Math.max(p,u[0]),f=Math.max(f,u[1]),h=Math.min(h,u[2]),d=Math.min(d,u[3]),!(h<p||d<f)){a.bind();var y=s[2]-s[0],m=s[3]-s[1];if(this.outerFill&&(a.drawBox(0,0,y,f,o),a.drawBox(0,f,p,d,o),a.drawBox(0,d,y,m,o),a.drawBox(h,f,y,d,o)),this.innerFill&&a.drawBox(p,f,h,d,n),r>0){var v=r*c;a.drawBox(p-v,f-v,h+v,f+v,i),a.drawBox(p-v,d-v,h+v,d+v,i),a.drawBox(p-v,f-v,p+v,d+v,i),a.drawBox(h-v,f-v,h+v,d+v,i)}}}},l.update=function(t){t=t||{},this.innerFill=!!t.innerFill,this.outerFill=!!t.outerFill,this.innerColor=(t.innerColor||[0,0,0,.5]).slice(),this.outerColor=(t.outerColor||[0,0,0,.5]).slice(),this.borderColor=(t.borderColor||[0,0,0,1]).slice(),this.borderWidth=t.borderWidth||0,this.selectBox=(t.selectBox||this.selectBox).slice()},l.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},{"./lib/shaders":234,"gl-buffer":138,"gl-shader":237}],236:[function(t,e,r){"use strict";function n(t,e,r,n,o){this.coord=[t,e],this.id=r,this.value=n,this.distance=o}function o(t,e,r){this.gl=t,this.fbo=e,this.buffer=r,this._readTimeout=null;var n=this;this._readCallback=function(){n.gl&&(e.bind(),t.readPixels(0,0,e.shape[0],e.shape[1],t.RGBA,t.UNSIGNED_BYTE,n.buffer),n._readTimeout=null)}}function i(t,e){var r=a(t,e),n=s.mallocUint8(e[0]*e[1]*4);return new o(t,r,n)}e.exports=i;var a=t("gl-fbo"),s=t("typedarray-pool"),l=t("ndarray"),u=t("bit-twiddle").nextPow2,c=t("cwise/lib/wrapper")({args:["array",{offset:[0,0,1],array:0},{offset:[0,0,2],array:0},{offset:[0,0,3],array:0},"scalar","scalar","index"],pre:{body:"{this_closestD2=1e8,this_closestX=-1,this_closestY=-1}",args:[],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:[]},body:{body:"{if(_inline_46_arg0_<255||_inline_46_arg1_<255||_inline_46_arg2_<255||_inline_46_arg3_<255){var _inline_46_l=_inline_46_arg4_-_inline_46_arg6_[0],_inline_46_a=_inline_46_arg5_-_inline_46_arg6_[1],_inline_46_f=_inline_46_l*_inline_46_l+_inline_46_a*_inline_46_a;_inline_46_f<this_closestD2&&(this_closestD2=_inline_46_f,this_closestX=_inline_46_arg6_[0],this_closestY=_inline_46_arg6_[1])}}",args:[{name:"_inline_46_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_46_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_46_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_46_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_46_arg4_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_46_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_46_arg6_",lvalue:!1,rvalue:!0,count:4}],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:["_inline_46_a","_inline_46_f","_inline_46_l"]},post:{body:"{return[this_closestX,this_closestY,this_closestD2]}",args:[],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:[]},debug:!1,funcName:"cwise",blockSize:64}),p=o.prototype;Object.defineProperty(p,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(t){if(this.gl){this.fbo.shape=t;var e=this.fbo.shape[0],r=this.fbo.shape[1];if(r*e*4>this.buffer.length){s.free(this.buffer);for(var n=this.buffer=s.mallocUint8(u(r*e*4)),o=0;o<r*e*4;++o)n[o]=255}return t}}}),p.begin=function(){var t=this.gl;this.shape;t&&(this.fbo.bind(),t.clearColor(1,1,1,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT))},p.end=function(){var t=this.gl;t&&(t.bindFramebuffer(t.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},p.query=function(t,e,r){if(!this.gl)return null;var o=this.fbo.shape.slice();t|=0,e|=0,"number"!=typeof r&&(r=1);var i=0|Math.min(Math.max(t-r,0),o[0]),a=0|Math.min(Math.max(t+r,0),o[0]),s=0|Math.min(Math.max(e-r,0),o[1]),u=0|Math.min(Math.max(e+r,0),o[1]);if(a<=i||u<=s)return null;var p=[a-i,u-s],f=l(this.buffer,[p[0],p[1],4],[4,4*o[0],1],4*(i+o[0]*s)),h=c(f.hi(p[0],p[1],1),r,r),d=h[0],y=h[1];if(d<0||Math.pow(this.radius,2)<h[2])return null;var m=f.get(d,y,0),v=f.get(d,y,1),g=f.get(d,y,2),b=f.get(d,y,3);return new n(d+i|0,y+s|0,m,[v,g,b],Math.sqrt(h[2]))},p.dispose=function(){this.gl&&(this.fbo.dispose(),s.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},{"bit-twiddle":57,"cwise/lib/wrapper":103,"gl-fbo":145,ndarray:447,"typedarray-pool":519}],237:[function(t,e,r){"use strict";function n(t){this.gl=t,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}function o(t,e){return t.name<e.name?-1:1}function i(t,e,r,o,i){var a=new n(t);return a.update(e,r,o,i),a}var a=t("./lib/create-uniforms"),s=t("./lib/create-attributes"),l=t("./lib/reflect"),u=t("./lib/shader-cache"),c=t("./lib/runtime-reflect"),p=t("./lib/GLError"),f=n.prototype;f.bind=function(){this.program||this._relink(),this.gl.useProgram(this.program)},f.dispose=function(){this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},f.update=function(t,e,r,n){function i(){h.program=u.program(d,h._vref,h._fref,x,_);for(var t=0;t<r.length;++t)C[t]=d.getUniformLocation(h.program,r[t].name)}if(!e||1===arguments.length){var f=t;t=f.vertex,e=f.fragment,r=f.uniforms,n=f.attributes}var h=this,d=h.gl,y=h._vref;h._vref=u.shader(d,d.VERTEX_SHADER,t),y&&y.dispose(),h.vertShader=h._vref.shader;var m=this._fref;if(h._fref=u.shader(d,d.FRAGMENT_SHADER,e),m&&m.dispose(),h.fragShader=h._fref.shader,!r||!n){var v=d.createProgram();if(d.attachShader(v,h.fragShader),d.attachShader(v,h.vertShader),d.linkProgram(v),!d.getProgramParameter(v,d.LINK_STATUS)){var g=d.getProgramInfoLog(v);throw new p(g,"Error linking program:"+g)}r=r||c.uniforms(d,v),n=n||c.attributes(d,v),d.deleteProgram(v)}n=n.slice(),n.sort(o);for(var b=[],x=[],_=[],w=0;w<n.length;++w){var T=n[w];if(T.type.indexOf("mat")>=0){for(var M=0|T.type.charAt(T.type.length-1),S=new Array(M),E=0;E<M;++E)S[E]=_.length,x.push(T.name+"["+E+"]"),"number"==typeof T.location?_.push(T.location+E):Array.isArray(T.location)&&T.location.length===M&&"number"==typeof T.location[E]?_.push(0|T.location[E]):_.push(-1);b.push({name:T.name,type:T.type,locations:S})}else b.push({name:T.name,type:T.type,locations:[_.length]}),x.push(T.name),"number"==typeof T.location?_.push(0|T.location):_.push(-1)}for(var k=0,w=0;w<_.length;++w)if(_[w]<0){for(;_.indexOf(k)>=0;)k+=1;_[w]=k}var C=new Array(r.length);i(),h._relink=i,h.types={uniforms:l(r),attributes:l(n)},h.attributes=s(d,h,b,_),Object.defineProperty(h,"uniforms",a(d,h,r,C))},e.exports=i},{"./lib/GLError":238,"./lib/create-attributes":239,"./lib/create-uniforms":240,"./lib/reflect":241,"./lib/runtime-reflect":242,"./lib/shader-cache":243}],238:[function(t,e,r){arguments[4][194][0].apply(r,arguments)},{dup:194}],239:[function(t,e,r){arguments[4][195][0].apply(r,arguments)},{"./GLError":238,dup:195}],240:[function(t,e,r){arguments[4][196][0].apply(r,arguments)},{"./GLError":238,"./reflect":241,dup:196}],241:[function(t,e,r){arguments[4][197][0].apply(r,arguments)},{dup:197}],242:[function(t,e,r){arguments[4][198][0].apply(r,arguments)},{dup:198}],243:[function(t,e,r){arguments[4][199][0].apply(r,arguments)},{"./GLError":238,dup:199,"gl-format-compiler-error":146,"weakmap-shim":540}],244:[function(t,e,r){"use strict";function n(t){this.plot=t,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}function o(t,e){var r=new n(t);return r.update(e),t.addOverlay(r),r}e.exports=o;var i=n.prototype;i.update=function(t){t=t||{},this.enable=(t.enable||[!0,!0,!1,!1]).slice(),this.width=(t.width||[1,1,1,1]).slice(),this.color=(t.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(t){return t.slice()}),this.center=(t.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},i.draw=function(){var t=this.enable,e=this.width,r=this.color,n=this.center,o=this.plot,i=o.line,a=o.dataBox,s=o.viewBox;if(i.bind(),a[0]<=n[0]&&n[0]<=a[2]&&a[1]<=n[1]&&n[1]<=a[3]){var l=s[0]+(n[0]-a[0])/(a[2]-a[0])*(s[2]-s[0]),u=s[1]+(n[1]-a[1])/(a[3]-a[1])*(s[3]-s[1]);t[0]&&i.drawLine(l,u,s[0],u,e[0],r[0]),t[1]&&i.drawLine(l,u,l,s[1],e[1],r[1]),t[2]&&i.drawLine(l,u,s[2],u,e[2],r[2]),t[3]&&i.drawLine(l,u,l,s[3],e[3],r[3])}},i.dispose=function(){this.plot.removeOverlay(this)}},{}],245:[function(t,e,r){"use strict";var n=t("gl-shader"),o="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n",i="precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}";
e.exports=function(t){return n(t,o,i,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},{"gl-shader":237}],246:[function(t,e,r){"use strict";function n(t,e,r,n){this.gl=t,this.buffer=e,this.vao=r,this.shader=n,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}function o(t,e){function r(t,e,r,n,i,a){var s=[t,e,r,0,0,0,1];s[n+3]=1,s[n]=i,o.push.apply(o,s),s[6]=-1,o.push.apply(o,s),s[n]=a,o.push.apply(o,s),o.push.apply(o,s),s[6]=1,o.push.apply(o,s),s[n]=i,o.push.apply(o,s)}var o=[];r(0,0,0,0,0,1),r(0,0,0,1,0,1),r(0,0,0,2,0,1),r(1,0,0,1,-1,1),r(1,0,0,2,-1,1),r(0,1,0,0,-1,1),r(0,1,0,2,-1,1),r(0,0,1,0,-1,1),r(0,0,1,1,-1,1);var l=i(t,o),u=a(t,[{type:t.FLOAT,buffer:l,size:3,offset:0,stride:28},{type:t.FLOAT,buffer:l,size:3,offset:12,stride:28},{type:t.FLOAT,buffer:l,size:1,offset:24,stride:28}]),c=s(t);c.attributes.position.location=0,c.attributes.color.location=1,c.attributes.weight.location=2;var p=new n(t,l,u,c);return p.update(e),p}var i=t("gl-buffer"),a=t("gl-vao"),s=t("./shaders/index");e.exports=o;var l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],u=n.prototype,c=[0,0,0],p=[0,0,0],f=[0,0];u.isTransparent=function(){return!1},u.drawTransparent=function(t){},u.draw=function(t){var e=this.gl,r=this.vao,n=this.shader;r.bind(),n.bind();var o,i=t.model||l,a=t.view||l,s=t.projection||l;this.axes&&(o=this.axes.lastCubeProps.axis);for(var u=c,h=p,d=0;d<3;++d)o&&o[d]<0?(u[d]=this.bounds[0][d],h[d]=this.bounds[1][d]):(u[d]=this.bounds[1][d],h[d]=this.bounds[0][d]);f[0]=e.drawingBufferWidth,f[1]=e.drawingBufferHeight,n.uniforms.model=i,n.uniforms.view=a,n.uniforms.projection=s,n.uniforms.coordinates=[this.position,u,h],n.uniforms.colors=this.colors,n.uniforms.screenShape=f;for(var d=0;d<3;++d)n.uniforms.lineWidth=this.lineWidth[d]*this.pixelRatio,this.enabled[d]&&(r.draw(e.TRIANGLES,6,6*d),this.drawSides[d]&&r.draw(e.TRIANGLES,12,18+12*d));r.unbind()},u.update=function(t){t&&("bounds"in t&&(this.bounds=t.bounds),"position"in t&&(this.position=t.position),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"colors"in t&&(this.colors=t.colors),"enabled"in t&&(this.enabled=t.enabled),"drawSides"in t&&(this.drawSides=t.drawSides))},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},{"./shaders/index":245,"gl-buffer":138,"gl-vao":253}],247:[function(t,e,r){var n=t("gl-shader"),o="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute vec3 f;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 lightPosition, eyePosition;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  worldCoordinate = vec3(uv.zw, f.x);\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n  vec4 clipPosition = projection * view * worldPosition;\n  gl_Position = clipPosition;\n  kill = f.y;\n  value = f.z;\n  planeCoordinate = uv.xy;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * worldPosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  lightDirection = lightPosition - cameraCoordinate.xyz;\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\n}\n",i="precision mediump float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution_2_0(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\n\n\nfloat beckmannSpecular_1_1(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution_2_0(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\n\n\nuniform vec3 lowerBound, upperBound;\nuniform float contourTint;\nuniform vec4 contourColor;\nuniform sampler2D colormap;\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform float vertexColor;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  if (kill > 0.0 ||\n    any(lessThan(worldCoordinate, clipBounds[0])) || any(greaterThan(worldCoordinate, clipBounds[1]))) {\n    discard;\n  }\n\n  vec3 N = normalize(surfaceNormal);\n  vec3 V = normalize(eyeDirection);\n  vec3 L = normalize(lightDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = beckmannSpecular_1_1(L, V, N, roughness);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  //decide how to interpolate color — in vertex or in fragment\n  vec4 surfaceColor = step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) + step(.5, vertexColor) * vColor;\n\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\n}\n",a="precision mediump float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute float f;\n\nuniform mat3 permutation;\nuniform mat4 model, view, projection;\nuniform float height, zOffset;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\n  vec4 worldPosition = model * vec4(dataCoordinate, 1.0);\n\n  vec4 clipPosition = projection * view * worldPosition;\n  clipPosition.z = clipPosition.z + zOffset;\n\n  gl_Position = clipPosition;\n  value = f;\n  kill = -1.0;\n  worldCoordinate = dataCoordinate;\n  planeCoordinate = uv.zw;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Don't do lighting for contours\n  surfaceNormal   = vec3(1,0,0);\n  eyeDirection    = vec3(0,1,0);\n  lightDirection  = vec3(0,0,1);\n}\n",s="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec2 shape;\nuniform vec3 clipBounds[2];\nuniform float pickId;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 surfaceNormal;\n\nvec2 splitFloat(float v) {\n  float vh = 255.0 * v;\n  float upper = floor(vh);\n  float lower = fract(vh);\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n  if(kill > 0.0 ||\n    any(lessThan(worldCoordinate, clipBounds[0])) || any(greaterThan(worldCoordinate, clipBounds[1]))) {\n    discard;\n  }\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\n}\n";r.createShader=function(t){var e=n(t,o,i,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e.attributes.normal.location=2,e},r.createPickShader=function(t){var e=n(t,o,s,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e.attributes.normal.location=2,e},r.createContourShader=function(t){var e=n(t,a,i,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e},r.createPickContourShader=function(t){var e=n(t,a,s,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e}},{"gl-shader":237}],248:[function(t,e,r){"use strict";function n(t,e,r,n,o){this.position=t,this.index=e,this.uv=r,this.level=n,this.dataCoordinate=o}function o(t){var e=x([g({colormap:t,nshades:N,format:"rgba"}).map(function(t){return[t[0],t[1],t[2],255*t[3]]})]);return b.divseq(e,255),e}function i(t,e,r,o,i,a,s,l,u,c,p,f,h,d){this.gl=t,this.shape=e,this.bounds=r,this.intensityBounds=[],this._shader=o,this._pickShader=i,this._coordinateBuffer=a,this._vao=s,this._colorMap=l,this._contourShader=u,this._contourPickShader=c,this._contourBuffer=p,this._contourVAO=f,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new n([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=h,this._dynamicVAO=d,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[_(v.mallocFloat(1024),[0,0]),_(v.mallocFloat(1024),[0,0]),_(v.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-(1/0),-(1/0),-(1/0)],[1/0,1/0,1/0]],this.snapToData=!1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}function a(t,e){var r,n,o,i=e.axes&&e.axes.lastCubeProps.axis||F,a=e.showSurface,s=e.showContour;for(r=0;r<3;++r)for(a=a||e.surfaceProject[r],n=0;n<3;++n)s=s||e.contourProject[r][n];for(r=0;r<3;++r){var l=z.projections[r];for(n=0;n<16;++n)l[n]=0;for(n=0;n<4;++n)l[5*n]=1;l[5*r]=0,l[12+r]=e.axesBounds[+(i[r]>0)][r],T(l,t.model,l);var u=z.clipBounds[r];for(o=0;o<2;++o)for(n=0;n<3;++n)u[o][n]=t.clipBounds[o][n];u[0][r]=-1e8,u[1][r]=1e8}return z.showSurface=a,z.showContour=s,z}function s(t,e){t=t||{};var r=this.gl;r.disable(r.CULL_FACE),this._colorMap.bind(0);var n=B;n.model=t.model||O,n.view=t.view||O,n.projection=t.projection||O,n.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],n.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],n.contourColor=this.contourColor[0],n.inverseModel=M(n.inverseModel,n.model);for(var o=0;o<2;++o)for(var i=n.clipBounds[o],s=0;s<3;++s)i[s]=Math.min(Math.max(this.clipBounds[o][s],-1e8),1e8);n.kambient=this.ambientLight,n.kdiffuse=this.diffuseLight,n.kspecular=this.specularLight,n.roughness=this.roughness,n.fresnel=this.fresnel,n.opacity=this.opacity,n.height=0,n.permutation=V,n.vertexColor=this.vertexColor;var l=U;for(T(l,n.view,n.model),T(l,n.projection,l),M(l,l),o=0;o<3;++o)n.eyePosition[o]=l[12+o]/l[15];var u=l[15];for(o=0;o<3;++o)u+=this.lightPosition[o]*l[4*o+3];for(o=0;o<3;++o){var c=l[12+o];for(s=0;s<3;++s)c+=l[4*s+o]*this.lightPosition[s];n.lightPosition[o]=c/u}var p=a(n,this);if(p.showSurface&&e===this.opacity<1){for(this._shader.bind(),this._shader.uniforms=n,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(r.TRIANGLES,this._vertexCount),o=0;o<3;++o)this.surfaceProject[o]&&this.vertexCount&&(this._shader.uniforms.model=p.projections[o],this._shader.uniforms.clipBounds=p.clipBounds[o],this._vao.draw(r.TRIANGLES,this._vertexCount));this._vao.unbind()}if(p.showContour&&!e){var f=this._contourShader;n.kambient=1,n.kdiffuse=0,n.kspecular=0,n.opacity=1,f.bind(),f.uniforms=n;var h=this._contourVAO;for(h.bind(),o=0;o<3;++o)for(f.uniforms.permutation=R[o],r.lineWidth(this.contourWidth[o]),s=0;s<this.contourLevels[o].length;++s)this._contourCounts[o][s]&&(s===this.highlightLevel[o]?(f.uniforms.contourColor=this.highlightColor[o],f.uniforms.contourTint=this.highlightTint[o]):0!==s&&s-1!==this.highlightLevel[o]||(f.uniforms.contourColor=this.contourColor[o],f.uniforms.contourTint=this.contourTint[o]),f.uniforms.height=this.contourLevels[o][s],h.draw(r.LINES,this._contourCounts[o][s],this._contourOffsets[o][s]));for(o=0;o<3;++o)for(f.uniforms.model=p.projections[o],f.uniforms.clipBounds=p.clipBounds[o],s=0;s<3;++s)if(this.contourProject[o][s]){f.uniforms.permutation=R[s],r.lineWidth(this.contourWidth[s]);for(var d=0;d<this.contourLevels[s].length;++d)d===this.highlightLevel[s]?(f.uniforms.contourColor=this.highlightColor[s],f.uniforms.contourTint=this.highlightTint[s]):0!==d&&d-1!==this.highlightLevel[s]||(f.uniforms.contourColor=this.contourColor[s],f.uniforms.contourTint=this.contourTint[s]),f.uniforms.height=this.contourLevels[s][d],h.draw(r.LINES,this._contourCounts[s][d],this._contourOffsets[s][d])}for(h=this._dynamicVAO,h.bind(),o=0;o<3;++o)if(0!==this._dynamicCounts[o])for(f.uniforms.model=n.model,f.uniforms.clipBounds=n.clipBounds,f.uniforms.permutation=R[o],r.lineWidth(this.dynamicWidth[o]),f.uniforms.contourColor=this.dynamicColor[o],f.uniforms.contourTint=this.dynamicTint[o],f.uniforms.height=this.dynamicLevel[o],h.draw(r.LINES,this._dynamicCounts[o],this._dynamicOffsets[o]),s=0;s<3;++s)this.contourProject[s][o]&&(f.uniforms.model=p.projections[s],f.uniforms.clipBounds=p.clipBounds[s],h.draw(r.LINES,this._dynamicCounts[o],this._dynamicOffsets[o]));h.unbind()}}function l(t,e){var r=e.shape.slice(),n=t.shape.slice();b.assign(t.lo(1,1).hi(r[0],r[1]),e),b.assign(t.lo(1).hi(r[0],1),e.hi(r[0],1)),b.assign(t.lo(1,n[1]-1).hi(r[0],1),e.lo(0,r[1]-1).hi(r[0],1)),b.assign(t.lo(0,1).hi(1,r[1]),e.hi(1)),b.assign(t.lo(n[0]-1,1).hi(1,r[1]),e.lo(r[0]-1)),t.set(0,0,e.get(0,0)),t.set(0,n[1]-1,e.get(0,r[1]-1)),t.set(n[0]-1,0,e.get(r[0]-1,0)),t.set(n[0]-1,n[1]-1,e.get(r[0]-1,r[1]-1))}function u(t,e){return Array.isArray(t)?[e(t[0]),e(t[1]),e(t[2])]:[e(t),e(t),e(t)]}function c(t){return Array.isArray(t)?3===t.length?[t[0],t[1],t[2],1]:[t[0],t[1],t[2],t[3]]:[0,0,0,1]}function p(t){if(Array.isArray(t)){if(Array.isArray(t))return[c(t[0]),c(t[1]),c(t[2])];var e=c(t);return[e.slice(),e.slice(),e.slice()]}}function f(t){var e=t.gl,r=C(e),n=P(e),o=A(e),a=L(e),s=d(e),l=y(e,[{buffer:s,size:4,stride:D,offset:0},{buffer:s,size:3,stride:D,offset:16},{buffer:s,size:3,stride:D,offset:28}]),u=d(e),c=y(e,[{buffer:u,size:4,stride:20,offset:0},{buffer:u,size:1,stride:20,offset:16}]),p=d(e),f=y(e,[{buffer:p,size:2,type:e.FLOAT}]),h=m(e,1,N,e.RGBA,e.UNSIGNED_BYTE);h.minFilter=e.LINEAR,h.magFilter=e.LINEAR;var v=new i(e,[0,0],[[0,0,0],[0,0,0]],r,n,s,l,h,o,a,u,c,p,f),g={levels:[[],[],[]]};for(var b in t)g[b]=t[b];return g.colormap=g.colormap||"jet",v.update(g),v}e.exports=f;var h=t("bit-twiddle"),d=t("gl-buffer"),y=t("gl-vao"),m=t("gl-texture2d"),v=t("typedarray-pool"),g=t("colormap"),b=t("ndarray-ops"),x=t("ndarray-pack"),_=t("ndarray"),w=t("surface-nets"),T=t("gl-mat4/multiply"),M=t("gl-mat4/invert"),S=t("binary-search-bounds"),E=t("ndarray-gradient"),k=t("./lib/shaders"),C=k.createShader,A=k.createContourShader,P=k.createPickShader,L=k.createPickContourShader,D=40,O=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],I=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],R=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];!function(){for(var t=0;t<3;++t){var e=R[t],r=(t+1)%3,n=(t+2)%3;e[r+0]=1,e[n+3]=1,e[t+6]=1}}();var N=256,j=i.prototype;j.isTransparent=function(){return this.opacity<1},j.isOpaque=function(){if(this.opacity>=1)return!0;for(var t=0;t<3;++t)if(this._contourCounts[t].length>0||this._dynamicCounts[t]>0)return!0;return!1},j.pickSlots=1,j.setPickBase=function(t){this.pickId=t};var F=[0,0,0],z={showSurface:!1,showContour:!1,projections:[O.slice(),O.slice(),O.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]},B={model:O,view:O,projection:O,inverseModel:O.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},U=O.slice(),V=[1,0,0,0,1,0,0,0,1];j.draw=function(t){return s.call(this,t,!1)},j.drawTransparent=function(t){return s.call(this,t,!0)};var H={model:O,view:O,projection:O,inverseModel:O,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};j.drawPick=function(t){t=t||{};var e=this.gl;e.disable(e.CULL_FACE);var r=H;r.model=t.model||O,r.view=t.view||O,r.projection=t.projection||O,r.shape=this._field[2].shape,r.pickId=this.pickId/255,r.lowerBound=this.bounds[0],r.upperBound=this.bounds[1],r.permutation=V;for(var n=0;n<2;++n)for(var o=r.clipBounds[n],i=0;i<3;++i)o[i]=Math.min(Math.max(this.clipBounds[n][i],-1e8),1e8);var s=a(r,this);if(s.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=r,this._vao.bind(),this._vao.draw(e.TRIANGLES,this._vertexCount),n=0;n<3;++n)this.surfaceProject[n]&&(this._pickShader.uniforms.model=s.projections[n],this._pickShader.uniforms.clipBounds=s.clipBounds[n],this._vao.draw(e.TRIANGLES,this._vertexCount));this._vao.unbind()}if(s.showContour){var l=this._contourPickShader;l.bind(),l.uniforms=r;var u=this._contourVAO;for(u.bind(),i=0;i<3;++i)for(e.lineWidth(this.contourWidth[i]),l.uniforms.permutation=R[i],n=0;n<this.contourLevels[i].length;++n)this._contourCounts[i][n]&&(l.uniforms.height=this.contourLevels[i][n],u.draw(e.LINES,this._contourCounts[i][n],this._contourOffsets[i][n]));for(n=0;n<3;++n)for(l.uniforms.model=s.projections[n],l.uniforms.clipBounds=s.clipBounds[n],i=0;i<3;++i)if(this.contourProject[n][i]){l.uniforms.permutation=R[i],e.lineWidth(this.contourWidth[i]);for(var c=0;c<this.contourLevels[i].length;++c)this._contourCounts[i][c]&&(l.uniforms.height=this.contourLevels[i][c],u.draw(e.LINES,this._contourCounts[i][c],this._contourOffsets[i][c]))}u.unbind()}},j.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=this._field[2].shape,r=this._pickResult,n=e[0]*(t.value[0]+(t.value[2]>>4)/16)/255,o=Math.floor(n),i=n-o,a=e[1]*(t.value[1]+(15&t.value[2])/16)/255,s=Math.floor(a),l=a-s;o+=1,s+=1;var u=r.position;u[0]=u[1]=u[2]=0;for(var c=0;c<2;++c)for(var p=c?i:1-i,f=0;f<2;++f)for(var h=f?l:1-l,d=o+c,y=s+f,m=p*h,v=0;v<3;++v)u[v]+=this._field[v].get(d,y)*m;for(var g=this._pickResult.level,b=0;b<3;++b)if(g[b]=S.le(this.contourLevels[b],u[b]),g[b]<0)this.contourLevels[b].length>0&&(g[b]=0);else if(g[b]<this.contourLevels[b].length-1){var x=this.contourLevels[b][g[b]],_=this.contourLevels[b][g[b]+1];Math.abs(x-u[b])>Math.abs(_-u[b])&&(g[b]+=1)}for(r.index[0]=i<.5?o:o+1,r.index[1]=l<.5?s:s+1,r.uv[0]=n/e[0],r.uv[1]=a/e[1],v=0;v<3;++v)r.dataCoordinate[v]=this._field[v].get(r.index[0],r.index[1]);return r},j.update=function(t){t=t||{},this.dirty=!0,"contourWidth"in t&&(this.contourWidth=u(t.contourWidth,Number)),"showContour"in t&&(this.showContour=u(t.showContour,Boolean)),"showSurface"in t&&(this.showSurface=!!t.showSurface),"contourTint"in t&&(this.contourTint=u(t.contourTint,Boolean)),"contourColor"in t&&(this.contourColor=p(t.contourColor)),"contourProject"in t&&(this.contourProject=u(t.contourProject,function(t){return u(t,Boolean)})),"surfaceProject"in t&&(this.surfaceProject=t.surfaceProject),"dynamicColor"in t&&(this.dynamicColor=p(t.dynamicColor)),"dynamicTint"in t&&(this.dynamicTint=u(t.dynamicTint,Number)),"dynamicWidth"in t&&(this.dynamicWidth=u(t.dynamicWidth,Number)),"opacity"in t&&(this.opacity=t.opacity),"colorBounds"in t&&(this.colorBounds=t.colorBounds),"vertexColor"in t&&(this.vertexColor=t.vertexColor?1:0);var e=t.field||t.coords&&t.coords[2]||null,r=!1;if(e||(e=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in t||"coords"in t){var n=(e.shape[0]+2)*(e.shape[1]+2);n>this._field[2].data.length&&(v.freeFloat(this._field[2].data),this._field[2].data=v.mallocFloat(h.nextPow2(n))),this._field[2]=_(this._field[2].data,[e.shape[0]+2,e.shape[1]+2]),l(this._field[2],e),this.shape=e.shape.slice();for(var i=this.shape,a=0;a<2;++a)this._field[2].size>this._field[a].data.length&&(v.freeFloat(this._field[a].data),this._field[a].data=v.mallocFloat(this._field[2].size)),this._field[a]=_(this._field[a].data,[i[0]+2,i[1]+2]);if(t.coords){var s=t.coords;if(!Array.isArray(s)||3!==s.length)throw new Error("gl-surface: invalid coordinates for x/y");for(a=0;a<2;++a){var c=s[a];for(g=0;g<2;++g)if(c.shape[g]!==i[g])throw new Error("gl-surface: coords have incorrect shape");l(this._field[a],c)}}else if(t.ticks){var f=t.ticks;if(!Array.isArray(f)||2!==f.length)throw new Error("gl-surface: invalid ticks");for(a=0;a<2;++a){var d=f[a];if((Array.isArray(d)||d.length)&&(d=_(d)),d.shape[0]!==i[a])throw new Error("gl-surface: invalid tick length");var y=_(d.data,i);y.stride[a]=d.stride[0],y.stride[1^a]=0,l(this._field[a],y)}}else{for(a=0;a<2;++a){var m=[0,0];m[a]=1,this._field[a]=_(this._field[a].data,[i[0]+2,i[1]+2],m,0)}this._field[0].set(0,0,0);for(var g=0;g<i[0];++g)this._field[0].set(g+1,0,g);for(this._field[0].set(i[0]+1,0,i[0]-1),this._field[1].set(0,0,0),g=0;g<i[1];++g)this._field[1].set(0,g+1,g);this._field[1].set(0,i[1]+1,i[1]-1)}var b=this._field,x=_(v.mallocFloat(3*b[2].size*2),[3,i[0]+2,i[1]+2,2]);for(a=0;a<3;++a)E(x.pick(a),b[a],"mirror");var T=_(v.mallocFloat(3*b[2].size),[i[0]+2,i[1]+2,3]);for(a=0;a<i[0]+2;++a)for(g=0;g<i[1]+2;++g){var M=x.get(0,a,g,0),S=x.get(0,a,g,1),k=x.get(1,a,g,0),C=x.get(1,a,g,1),A=x.get(2,a,g,0),P=x.get(2,a,g,1),L=k*P-C*A,D=A*S-P*M,O=M*C-S*k,R=Math.sqrt(L*L+D*D+O*O);R<1e-8?(R=Math.max(Math.abs(L),Math.abs(D),Math.abs(O)),R<1e-8?(O=1,D=L=0,R=1):R=1/R):R=1/Math.sqrt(R),T.set(a,g,0,L*R),T.set(a,g,1,D*R),T.set(a,g,2,O*R)}v.free(x.data);var N=[1/0,1/0,1/0],j=[-(1/0),-(1/0),-(1/0)],F=1/0,z=-(1/0),B=(i[0]-1)*(i[1]-1)*6,U=v.mallocFloat(h.nextPow2(10*B)),V=0,H=0;for(a=0;a<i[0]-1;++a)t:for(g=0;g<i[1]-1;++g){for(var W=0;W<2;++W)for(var q=0;q<2;++q)for(var G=0;G<3;++G){var Y=this._field[G].get(1+a+W,1+g+q);if(isNaN(Y)||!isFinite(Y))continue t}for(G=0;G<6;++G){var X=a+I[G][0],K=g+I[G][1],Z=this._field[0].get(X+1,K+1),J=this._field[1].get(X+1,K+1);Y=this._field[2].get(X+1,K+1);var $=Y;L=T.get(X+1,K+1,0),D=T.get(X+1,K+1,1),O=T.get(X+1,K+1,2),t.intensity&&($=t.intensity.get(X,K)),U[V++]=X,U[V++]=K,U[V++]=Z,U[V++]=J,U[V++]=Y,U[V++]=0,U[V++]=$,U[V++]=L,U[V++]=D,U[V++]=O,N[0]=Math.min(N[0],Z),N[1]=Math.min(N[1],J),N[2]=Math.min(N[2],Y),F=Math.min(F,$),j[0]=Math.max(j[0],Z),j[1]=Math.max(j[1],J),j[2]=Math.max(j[2],Y),z=Math.max(z,$),H+=1}}for(t.intensityBounds&&(F=+t.intensityBounds[0],z=+t.intensityBounds[1]),a=6;a<V;a+=10)U[a]=(U[a]-F)/(z-F);this._vertexCount=H,this._coordinateBuffer.update(U.subarray(0,V)),v.freeFloat(U),v.free(T.data),this.bounds=[N,j],this.intensity=t.intensity||this._field[2],this.intensityBounds[0]===F&&this.intensityBounds[1]===z||(r=!0),this.intensityBounds=[F,z]}if("levels"in t){var Q=t.levels;for(Q=Array.isArray(Q[0])?Q.slice():[[],[],Q],a=0;a<3;++a)Q[a]=Q[a].slice(),Q.sort(function(t,e){return t-e});t:for(a=0;a<3;++a){if(Q[a].length!==this.contourLevels[a].length){r=!0;break}for(g=0;g<Q[a].length;++g)if(Q[a][g]!==this.contourLevels[a][g]){r=!0;break t}}this.contourLevels=Q}if(r){b=this._field,i=this.shape;for(var tt=[],et=0;et<3;++et){Q=this.contourLevels[et];var rt=[],nt=[],ot=[0,0,0];for(a=0;a<Q.length;++a){var it=w(this._field[et],Q[a]);rt.push(tt.length/5|0),H=0;t:for(g=0;g<it.cells.length;++g){var at=it.cells[g];for(G=0;G<2;++G){var st=it.positions[at[G]],lt=st[0],ut=0|Math.floor(lt),ct=lt-ut,pt=st[1],ft=0|Math.floor(pt),ht=pt-ft,dt=!1;e:for(var yt=0;yt<3;++yt){ot[yt]=0;var mt=(et+yt+1)%3;for(W=0;W<2;++W){var vt=W?ct:1-ct;for(X=0|Math.min(Math.max(ut+W,0),i[0]),q=0;q<2;++q){var gt=q?ht:1-ht;if(K=0|Math.min(Math.max(ft+q,0),i[1]),Y=yt<2?this._field[mt].get(X,K):(this.intensity.get(X,K)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Y)||isNaN(Y)){dt=!0;break e}var bt=vt*gt;ot[yt]+=bt*Y}}}if(dt){if(G>0){for(var xt=0;xt<5;++xt)tt.pop();H-=1}continue t}tt.push(ot[0],ot[1],st[0],st[1],ot[2]),H+=1}}nt.push(H)}this._contourOffsets[et]=rt,this._contourCounts[et]=nt}var _t=v.mallocFloat(tt.length);for(a=0;a<tt.length;++a)_t[a]=tt[a];this._contourBuffer.update(_t),v.freeFloat(_t)}t.colormap&&this._colorMap.setPixels(o(t.colormap))},j.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var t=0;t<3;++t)v.freeFloat(this._field[t].data)},j.highlight=function(t){if(!t)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(var e=0;e<3;++e)this.enableHighlight[e]?this.highlightLevel[e]=t.level[e]:this.highlightLevel[e]=-1;var r;if(r=this.snapToData?t.dataCoordinate:t.position,this.enableDynamic[0]&&r[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&r[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&r[2]!==this.dynamicLevel[2]){for(var n=0,o=this.shape,i=v.mallocFloat(12*o[0]*o[1]),a=0;a<3;++a)if(this.enableDynamic[a]){this.dynamicLevel[a]=r[a];var s=(a+1)%3,l=(a+2)%3,u=this._field[a],c=this._field[s],p=this._field[l],f=(this.intensity,w(u,r[a])),h=f.cells,d=f.positions;for(this._dynamicOffsets[a]=n,e=0;e<h.length;++e)for(var y=h[e],m=0;m<2;++m){var g=d[y[m]],b=+g[0],x=0|b,_=0|Math.min(x+1,o[0]),T=b-x,M=1-T,S=+g[1],E=0|S,k=0|Math.min(E+1,o[1]),C=S-E,A=1-C,P=M*A,L=M*C,D=T*A,O=T*C,I=P*c.get(x,E)+L*c.get(x,k)+D*c.get(_,E)+O*c.get(_,k),R=P*p.get(x,E)+L*p.get(x,k)+D*p.get(_,E)+O*p.get(_,k);if(isNaN(I)||isNaN(R)){m&&(n-=1);break}i[2*n+0]=I,i[2*n+1]=R,n+=1}this._dynamicCounts[a]=n-this._dynamicOffsets[a]}else this.dynamicLevel[a]=NaN,this._dynamicCounts[a]=0;this._dynamicBuffer.update(i.subarray(0,2*n)),v.freeFloat(i)}}},{"./lib/shaders":247,"binary-search-bounds":56,"bit-twiddle":57,colormap:89,"gl-buffer":138,"gl-mat4/invert":162,"gl-mat4/multiply":164,"gl-texture2d":249,"gl-vao":253,ndarray:447,"ndarray-gradient":438,"ndarray-ops":441,"ndarray-pack":442,"surface-nets":509,"typedarray-pool":519}],249:[function(t,e,r){"use strict";function n(t){v=[t.LINEAR,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_NEAREST],g=[t.NEAREST,t.LINEAR,t.NEAREST_MIPMAP_NEAREST,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_LINEAR],b=[t.REPEAT,t.CLAMP_TO_EDGE,t.MIRRORED_REPEAT]}function o(t){return"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&t instanceof ImageData}function i(t,e,r){var n=t.gl,o=n.getParameter(n.MAX_TEXTURE_SIZE);if(e<0||e>o||r<0||r>o)throw new Error("gl-texture2d: Invalid texture size");return t._shape=[e,r],t.bind(),n.texImage2D(n.TEXTURE_2D,0,t.format,e,r,0,t.format,t.type,null),t._mipLevels=[0],t}function a(t,e,r,n,o,i){this.gl=t,this.handle=e,this.format=o,this.type=i,this._shape=[r,n],this._mipLevels=[0],this._magFilter=t.NEAREST,this._minFilter=t.NEAREST,this._wrapS=t.CLAMP_TO_EDGE,this._wrapT=t.CLAMP_TO_EDGE,this._anisoSamples=1;var a=this,s=[this._wrapS,this._wrapT];Object.defineProperties(s,[{get:function(){return a._wrapS},set:function(t){return a.wrapS=t}},{get:function(){return a._wrapT},set:function(t){return a.wrapT=t}}]),this._wrapVector=s;var l=[this._shape[0],this._shape[1]];Object.defineProperties(l,[{get:function(){return a._shape[0]},set:function(t){return a.width=t}},{get:function(){return a._shape[1]},set:function(t){return a.height=t}}]),this._shapeVector=l}function s(t,e){return 3===t.length?1===e[2]&&e[1]===t[0]*t[2]&&e[0]===t[2]:1===e[0]&&e[1]===t[0]}function l(t,e,r,n,o,i,a,l){var u=l.dtype,c=l.shape.slice();if(c.length<2||c.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var p=0,f=0,h=s(c,l.stride.slice());"float32"===u?p=t.FLOAT:"float64"===u?(p=t.FLOAT,h=!1,u="float32"):"uint8"===u?p=t.UNSIGNED_BYTE:(p=t.UNSIGNED_BYTE,h=!1,u="uint8");var v=1;if(2===c.length)f=t.LUMINANCE,c=[c[0],c[1],1],l=d(l.data,c,[l.stride[0],l.stride[1],1],l.offset);else{if(3!==c.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===c[2])f=t.ALPHA;else if(2===c[2])f=t.LUMINANCE_ALPHA;else if(3===c[2])f=t.RGB;else{if(4!==c[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");f=t.RGBA}v=c[2]}if(f!==t.LUMINANCE&&f!==t.ALPHA||o!==t.LUMINANCE&&o!==t.ALPHA||(f=o),f!==o)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var g=l.size,b=a.indexOf(n)<0;if(b&&a.push(n),p===i&&h)0===l.offset&&l.data.length===g?b?t.texImage2D(t.TEXTURE_2D,n,o,c[0],c[1],0,o,i,l.data):t.texSubImage2D(t.TEXTURE_2D,n,e,r,c[0],c[1],o,i,l.data):b?t.texImage2D(t.TEXTURE_2D,n,o,c[0],c[1],0,o,i,l.data.subarray(l.offset,l.offset+g)):t.texSubImage2D(t.TEXTURE_2D,n,e,r,c[0],c[1],o,i,l.data.subarray(l.offset,l.offset+g));else{var _;_=i===t.FLOAT?m.mallocFloat32(g):m.mallocUint8(g);var w=d(_,c,[c[2],c[2]*c[0],1]);p===t.FLOAT&&i===t.UNSIGNED_BYTE?x(w,l):y.assign(w,l),b?t.texImage2D(t.TEXTURE_2D,n,o,c[0],c[1],0,o,i,_.subarray(0,g)):t.texSubImage2D(t.TEXTURE_2D,n,e,r,c[0],c[1],o,i,_.subarray(0,g)),i===t.FLOAT?m.freeFloat32(_):m.freeUint8(_)}}function u(t){var e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e}function c(t,e,r,n,o){var i=t.getParameter(t.MAX_TEXTURE_SIZE);if(e<0||e>i||r<0||r>i)throw new Error("gl-texture2d: Invalid texture shape");if(o===t.FLOAT&&!t.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var s=u(t);return t.texImage2D(t.TEXTURE_2D,0,n,e,r,0,n,o,null),new a(t,s,e,r,n,o)}function p(t,e,r,n){var o=u(t);return t.texImage2D(t.TEXTURE_2D,0,r,r,n,e),new a(t,o,0|e.width,0|e.height,r,n)}function f(t,e){var r=e.dtype,n=e.shape.slice(),o=t.getParameter(t.MAX_TEXTURE_SIZE);if(n[0]<0||n[0]>o||n[1]<0||n[1]>o)throw new Error("gl-texture2d: Invalid texture size");var i=s(n,e.stride.slice()),l=0;"float32"===r?l=t.FLOAT:"float64"===r?(l=t.FLOAT,i=!1,r="float32"):"uint8"===r?l=t.UNSIGNED_BYTE:(l=t.UNSIGNED_BYTE,i=!1,r="uint8");var c=0;if(2===n.length)c=t.LUMINANCE,n=[n[0],n[1],1],e=d(e.data,n,[e.stride[0],e.stride[1],1],e.offset);else{if(3!==n.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===n[2])c=t.ALPHA;else if(2===n[2])c=t.LUMINANCE_ALPHA;else if(3===n[2])c=t.RGB;else{if(4!==n[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");c=t.RGBA}}l!==t.FLOAT||t.getExtension("OES_texture_float")||(l=t.UNSIGNED_BYTE,i=!1);var p,f,h=e.size;if(i)p=0===e.offset&&e.data.length===h?e.data:e.data.subarray(e.offset,e.offset+h);else{var v=[n[2],n[2]*n[0],1];f=m.malloc(h,r);var g=d(f,n,v,0);"float32"!==r&&"float64"!==r||l!==t.UNSIGNED_BYTE?y.assign(g,e):x(g,e),p=f.subarray(0,h)}var b=u(t);return t.texImage2D(t.TEXTURE_2D,0,c,n[0],n[1],0,c,l,p),i||m.free(f),new a(t,b,n[0],n[1],c,l)}function h(t){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(v||n(t),"number"==typeof arguments[1])return c(t,arguments[1],arguments[2],arguments[3]||t.RGBA,arguments[4]||t.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return c(t,0|arguments[1][0],0|arguments[1][1],arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if("object"==typeof arguments[1]){
var e=arguments[1];if(o(e))return p(t,e,arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if(e.shape&&e.data&&e.stride)return f(t,e)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}var d=t("ndarray"),y=t("ndarray-ops"),m=t("typedarray-pool");e.exports=h;var v=null,g=null,b=null,x=function(t,e){y.muls(t,e,255)},_=a.prototype;Object.defineProperties(_,{minFilter:{get:function(){return this._minFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&v.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),g.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),this._minFilter=t}},magFilter:{get:function(){return this._magFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&v.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),g.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t),this._magFilter=t}},mipSamples:{get:function(){return this._anisoSamples},set:function(t){var e=this._anisoSamples;if(this._anisoSamples=0|Math.max(t,1),e!==this._anisoSamples){var r=this.gl.getExtension("EXT_texture_filter_anisotropic");r&&this.gl.texParameterf(this.gl.TEXTURE_2D,r.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(t){if(this.bind(),b.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,t),this._wrapS=t}},wrapT:{get:function(){return this._wrapT},set:function(t){if(this.bind(),b.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,t),this._wrapT=t}},wrap:{get:function(){return this._wrapVector},set:function(t){if(Array.isArray(t)||(t=[t,t]),2!==t.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var e=0;e<2;++e)if(b.indexOf(t[e])<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);this._wrapS=t[0],this._wrapT=t[1];var r=this.gl;return this.bind(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,this._wrapS),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,this._wrapT),t}},shape:{get:function(){return this._shapeVector},set:function(t){if(Array.isArray(t)){if(2!==t.length)throw new Error("gl-texture2d: Invalid texture shape")}else t=[0|t,0|t];return i(this,0|t[0],0|t[1]),[0|t[0],0|t[1]]}},width:{get:function(){return this._shape[0]},set:function(t){return t|=0,i(this,t,this._shape[1]),t}},height:{get:function(){return this._shape[1]},set:function(t){return t|=0,i(this,this._shape[0],t),t}}}),_.bind=function(t){var e=this.gl;return void 0!==t&&e.activeTexture(e.TEXTURE0+(0|t)),e.bindTexture(e.TEXTURE_2D,this.handle),void 0!==t?0|t:e.getParameter(e.ACTIVE_TEXTURE)-e.TEXTURE0},_.dispose=function(){this.gl.deleteTexture(this.handle)},_.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var t=Math.min(this._shape[0],this._shape[1]),e=0;t>0;++e,t>>>=1)this._mipLevels.indexOf(e)<0&&this._mipLevels.push(e)},_.setPixels=function(t,e,r,n){var i=this.gl;if(this.bind(),Array.isArray(e)?(n=r,r=0|e[1],e=0|e[0]):(e=e||0,r=r||0),n=n||0,o(t)){var a=this._mipLevels.indexOf(n)<0;a?(i.texImage2D(i.TEXTURE_2D,0,this.format,this.format,this.type,t),this._mipLevels.push(n)):i.texSubImage2D(i.TEXTURE_2D,n,e,r,this.format,this.type,t)}else{if(!(t.shape&&t.stride&&t.data))throw new Error("gl-texture2d: Unsupported data type");if(t.shape.length<2||e+t.shape[1]>this._shape[1]>>>n||r+t.shape[0]>this._shape[0]>>>n||e<0||r<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");l(i,e,r,n,this.format,this.type,this._mipLevels,t)}}},{ndarray:447,"ndarray-ops":441,"typedarray-pool":519}],250:[function(t,e,r){"use strict";function n(t,e,r){e?e.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var n=0|t.getParameter(t.MAX_VERTEX_ATTRIBS);if(r){if(r.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var o=0;o<r.length;++o){var i=r[o];if(i.buffer){var a=i.buffer,s=i.size||4,l=i.type||t.FLOAT,u=!!i.normalized,c=i.stride||0,p=i.offset||0;a.bind(),t.enableVertexAttribArray(o),t.vertexAttribPointer(o,s,l,u,c,p)}else{if("number"==typeof i)t.vertexAttrib1f(o,i);else if(1===i.length)t.vertexAttrib1f(o,i[0]);else if(2===i.length)t.vertexAttrib2f(o,i[0],i[1]);else if(3===i.length)t.vertexAttrib3f(o,i[0],i[1],i[2]);else{if(4!==i.length)throw new Error("gl-vao: Invalid vertex attribute");t.vertexAttrib4f(o,i[0],i[1],i[2],i[3])}t.disableVertexAttribArray(o)}}for(;o<n;++o)t.disableVertexAttribArray(o)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(var o=0;o<n;++o)t.disableVertexAttribArray(o)}}e.exports=n},{}],251:[function(t,e,r){"use strict";function n(t){this.gl=t,this._elements=null,this._attributes=null,this._elementsType=t.UNSIGNED_SHORT}function o(t){return new n(t)}var i=t("./do-bind.js");n.prototype.bind=function(){i(this.gl,this._elements,this._attributes)},n.prototype.update=function(t,e,r){this._elements=e,this._attributes=t,this._elementsType=r||this.gl.UNSIGNED_SHORT},n.prototype.dispose=function(){},n.prototype.unbind=function(){},n.prototype.draw=function(t,e,r){r=r||0;var n=this.gl;this._elements?n.drawElements(t,e,this._elementsType,r):n.drawArrays(t,r,e)},e.exports=o},{"./do-bind.js":250}],252:[function(t,e,r){"use strict";function n(t,e,r,n,o,i){this.location=t,this.dimension=e,this.a=r,this.b=n,this.c=o,this.d=i}function o(t,e,r){this.gl=t,this._ext=e,this.handle=r,this._attribs=[],this._useElements=!1,this._elementsType=t.UNSIGNED_SHORT}function i(t,e){return new o(t,e,e.createVertexArrayOES())}var a=t("./do-bind.js");n.prototype.bind=function(t){switch(this.dimension){case 1:t.vertexAttrib1f(this.location,this.a);break;case 2:t.vertexAttrib2f(this.location,this.a,this.b);break;case 3:t.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:t.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},o.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var t=0;t<this._attribs.length;++t)this._attribs[t].bind(this.gl)},o.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},o.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},o.prototype.update=function(t,e,r){if(this.bind(),a(this.gl,e,t),this.unbind(),this._attribs.length=0,t)for(var o=0;o<t.length;++o){var i=t[o];"number"==typeof i?this._attribs.push(new n(o,1,i)):Array.isArray(i)&&this._attribs.push(new n(o,i.length,i[0],i[1],i[2],i[3]))}this._useElements=!!e,this._elementsType=r||this.gl.UNSIGNED_SHORT},o.prototype.draw=function(t,e,r){r=r||0;var n=this.gl;this._useElements?n.drawElements(t,e,this._elementsType,r):n.drawArrays(t,r,e)},e.exports=i},{"./do-bind.js":250}],253:[function(t,e,r){"use strict";function n(t){this.bindVertexArrayOES=t.bindVertexArray.bind(t),this.createVertexArrayOES=t.createVertexArray.bind(t),this.deleteVertexArrayOES=t.deleteVertexArray.bind(t)}function o(t,e,r,o){var s,l=t.createVertexArray?new n(t):t.getExtension("OES_vertex_array_object");return s=l?i(t,l):a(t),s.update(e,r,o),s}var i=t("./lib/vao-native.js"),a=t("./lib/vao-emulated.js");e.exports=o},{"./lib/vao-emulated.js":251,"./lib/vao-native.js":252}],254:[function(t,e,r){function n(t,e,r){var n=e[0],o=e[1],i=e[2],a=r[0],s=r[1],l=r[2];return t[0]=o*l-i*s,t[1]=i*a-n*l,t[2]=n*s-o*a,t}e.exports=n},{}],255:[function(t,e,r){function n(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}e.exports=n},{}],256:[function(t,e,r){function n(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}e.exports=n},{}],257:[function(t,e,r){function n(t,e,r,n){var o=e[0],i=e[1],a=e[2];return t[0]=o+n*(r[0]-o),t[1]=i+n*(r[1]-i),t[2]=a+n*(r[2]-a),t}e.exports=n},{}],258:[function(t,e,r){function n(t,e){var r=e[0],n=e[1],o=e[2],i=r*r+n*n+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i),t}e.exports=n},{}],259:[function(t,e,r){function n(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3];return t[0]=r[0]*n+r[4]*o+r[8]*i+r[12]*a,t[1]=r[1]*n+r[5]*o+r[9]*i+r[13]*a,t[2]=r[2]*n+r[6]*o+r[10]*i+r[14]*a,t[3]=r[3]*n+r[7]*o+r[11]*i+r[15]*a,t}e.exports=n},{}],260:[function(t,e,r){function n(t,e,r,n){return o[0]=n,o[1]=r,o[2]=e,o[3]=t,i[0]}e.exports=n;var o=new Uint8Array(4),i=new Float32Array(o.buffer)},{}],261:[function(t,e,r){function n(t){for(var e=Array.isArray(t)?t:o(t),r=0;r<e.length;r++){var n=e[r];if("preprocessor"===n.type){var a=n.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(a&&a[2]){var s=a[1],l=a[2];return(s?i(l):l).trim()}}}}var o=t("glsl-tokenizer"),i=t("atob-lite");e.exports=n},{"atob-lite":38,"glsl-tokenizer":268}],262:[function(t,e,r){function n(t){function e(t){t.length&&V.push({type:T[B],data:t,position:q,line:H,column:W})}function r(t){F=0,X+=t,j=X.length;for(var e;R=X[F],F<j;){switch(e=F,B){case p:F=C();break;case f:F=k();break;case h:F=E();break;case d:F=A();break;case y:F=D();break;case w:F=L();break;case m:F=O();break;case c:F=I();break;case x:F=S();break;case u:F=M()}if(e!==F)switch(X[e]){case"\n":W=0,++H;break;default:++W}}return z+=F,X=X.slice(F),V}function n(t){return U.length&&e(U.join("")),B=_,e("(eof)"),V}function M(){return U=U.length?[]:U,"/"===N&&"*"===R?(q=z+F-1,B=p,N=R,F+1):"/"===N&&"/"===R?(q=z+F-1,B=f,N=R,F+1):"#"===R?(B=h,q=z+F,F):/\s/.test(R)?(B=x,q=z+F,F):(G=/\d/.test(R),Y=/[^\w_]/.test(R),q=z+F,B=G?y:Y?d:c,F)}function S(){return/[^\s]/g.test(R)?(e(U.join("")),B=u,F):(U.push(R),N=R,F+1)}function E(){return"\r"!==R&&"\n"!==R||"\\"===N?(U.push(R),N=R,F+1):(e(U.join("")),B=u,F)}function k(){return E()}function C(){return"/"===R&&"*"===N?(U.push(R),e(U.join("")),B=u,F+1):(U.push(R),N=R,F+1)}function A(){if("."===N&&/\d/.test(R))return B=m,F;if("/"===N&&"*"===R)return B=p,F;if("/"===N&&"/"===R)return B=f,F;if("."===R&&U.length){for(;P(U););return B=m,F}if(";"===R||")"===R||"("===R){if(U.length)for(;P(U););return e(R),B=u,F+1}var t=2===U.length&&"="!==R;if(/[\w_\d\s]/.test(R)||t){for(;P(U););return B=u,F}return U.push(R),N=R,F+1}function P(t){for(var r,n,o=0;;){if(r=i.indexOf(t.slice(0,t.length+o).join("")),n=i[r],r===-1){if(o--+t.length>0)continue;n=t.slice(0,1).join("")}return e(n),q+=n.length,U=U.slice(n.length),U.length}}function L(){return/[^a-fA-F0-9]/.test(R)?(e(U.join("")),B=u,F):(U.push(R),N=R,F+1)}function D(){return"."===R?(U.push(R),B=m,N=R,F+1):/[eE]/.test(R)?(U.push(R),B=m,N=R,F+1):"x"===R&&1===U.length&&"0"===U[0]?(B=w,U.push(R),N=R,F+1):/[^\d]/.test(R)?(e(U.join("")),B=u,F):(U.push(R),N=R,F+1)}function O(){return"f"===R&&(U.push(R),N=R,F+=1),/[eE]/.test(R)?(U.push(R),N=R,F+1):"-"===R&&/[eE]/.test(N)?(U.push(R),N=R,F+1):/[^\d]/.test(R)?(e(U.join("")),B=u,F):(U.push(R),N=R,F+1)}function I(){if(/[^\d\w_]/.test(R)){var t=U.join("");return B=Z.indexOf(t)>-1?b:K.indexOf(t)>-1?g:v,e(U.join("")),B=u,F}return U.push(R),N=R,F+1}var R,N,j,F=0,z=0,B=u,U=[],V=[],H=1,W=0,q=0,G=!1,Y=!1,X="";t=t||{};var K=a,Z=o;return"300 es"===t.version&&(K=l,Z=s),function(t){return V=[],null!==t?r(t.replace?t.replace(/\r\n/g,"\n"):t):n()}}e.exports=n;var o=t("./lib/literals"),i=t("./lib/operators"),a=t("./lib/builtins"),s=t("./lib/literals-300es"),l=t("./lib/builtins-300es"),u=999,c=9999,p=0,f=1,h=2,d=3,y=4,m=5,v=6,g=7,b=8,x=9,_=10,w=11,T=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},{"./lib/builtins":264,"./lib/builtins-300es":263,"./lib/literals":266,"./lib/literals-300es":265,"./lib/operators":267}],263:[function(t,e,r){var n=t("./builtins");n=n.slice().filter(function(t){return!/^(gl\_|texture)/.test(t)}),e.exports=n.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},{"./builtins":264}],264:[function(t,e,r){e.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},{}],265:[function(t,e,r){var n=t("./literals");e.exports=n.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uint","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},{"./literals":266}],266:[function(t,e,r){e.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},{}],267:[function(t,e,r){e.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},{}],268:[function(t,e,r){function n(t,e){var r=o(e),n=[];return n=n.concat(r(t)),n=n.concat(r(null))}var o=t("./index");e.exports=n},{"./index":262}],269:[function(t,e,r){"use strict";function n(t,e,r){var n=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var i=new Int32Array(this.arrayBuffer);t=i[0],e=i[1],r=i[2],this.d=e+2*r;for(var a=0;a<this.d*this.d;a++){var s=i[o+a],l=i[o+a+1];n.push(s===l?null:i.subarray(s,l))}var u=i[o+n.length],c=i[o+n.length+1];this.keys=i.subarray(u,c),this.bboxes=i.subarray(c),this.insert=this._insertReadonly}else{this.d=e+2*r;for(var p=0;p<this.d*this.d;p++)n.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=r,this.scale=e/t,this.uid=0;var f=r/e*t;this.min=-f,this.max=t+f}e.exports=n;var o=3;n.prototype.insert=function(t,e,r,n,o){this._forEachCell(e,r,n,o,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(o)},n.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},n.prototype._insertCell=function(t,e,r,n,o,i){this.cells[o].push(i)},n.prototype.query=function(t,e,r,n){var o=this.min,i=this.max;if(t<=o&&e<=o&&i<=r&&i<=n)return Array.prototype.slice.call(this.keys);var a=[],s={};return this._forEachCell(t,e,r,n,this._queryCell,a,s),a},n.prototype._queryCell=function(t,e,r,n,o,i,a){var s=this.cells[o];if(null!==s)for(var l=this.keys,u=this.bboxes,c=0;c<s.length;c++){var p=s[c];if(void 0===a[p]){var f=4*p;t<=u[f+2]&&e<=u[f+3]&&r>=u[f+0]&&n>=u[f+1]?(a[p]=!0,i.push(l[p])):a[p]=!1}}},n.prototype._forEachCell=function(t,e,r,n,o,i,a){for(var s=this._convertToCellCoord(t),l=this._convertToCellCoord(e),u=this._convertToCellCoord(r),c=this._convertToCellCoord(n),p=s;p<=u;p++)for(var f=l;f<=c;f++){var h=this.d*f+p;if(o.call(this,t,e,r,n,h,i,a))return}},n.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},n.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=o+this.cells.length+1+1,r=0,n=0;n<this.cells.length;n++)r+=this.cells[n].length;var i=new Int32Array(e+r+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var a=e,s=0;s<t.length;s++){var l=t[s];i[o+s]=a,i.set(l,a),a+=l.length}return i[o+t.length]=a,i.set(this.keys,a),a+=this.keys.length,i[o+t.length+1]=a,i.set(this.bboxes,a),a+=this.bboxes.length,i.buffer}},{}],270:[function(t,e,r){r.read=function(t,e,r,n,o){var i,a,s=8*o-n-1,l=(1<<s)-1,u=l>>1,c=-7,p=r?o-1:0,f=r?-1:1,h=t[e+p];for(p+=f,i=h&(1<<-c)-1,h>>=-c,c+=s;c>0;i=256*i+t[e+p],p+=f,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=n;c>0;a=256*a+t[e+p],p+=f,c-=8);if(0===i)i=1-u;else{if(i===l)return a?NaN:(h?-1:1)*(1/0);a+=Math.pow(2,n),i-=u}return(h?-1:1)*a*Math.pow(2,i-n)},r.write=function(t,e,r,n,o,i){var a,s,l,u=8*i-o-1,c=(1<<u)-1,p=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),e+=a+p>=1?f/l:f*Math.pow(2,1-p),e*l>=2&&(a++,l/=2),a+p>=c?(s=0,a=c):a+p>=1?(s=(e*l-1)*Math.pow(2,o),a+=p):(s=e*Math.pow(2,p-1)*Math.pow(2,o),a=0));o>=8;t[r+h]=255&s,h+=d,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;t[r+h]=255&a,h+=d,a/=256,u-=8);t[r+h-d]|=128*y}},{}],271:[function(t,e,r){"use strict";function n(t,e,r){this.vertices=t,this.adjacent=e,this.boundary=r,this.lastVisited=-1}function o(t,e,r){this.vertices=t,this.cell=e,this.index=r}function i(t,e){return c(t.vertices,e.vertices)}function a(t){for(var e=["function orient(){var tuple=this.tuple;return test("],r=0;r<=t;++r)r>0&&e.push(","),e.push("tuple[",r,"]");e.push(")}return orient");var n=new Function("test",e.join("")),o=u[t+1];return o||(o=u),n(o)}function s(t,e,r){this.dimension=t,this.vertices=e,this.simplices=r,this.interior=r.filter(function(t){return!t.boundary}),this.tuple=new Array(t+1);for(var n=0;n<=t;++n)this.tuple[n]=this.vertices[n];var o=p[t];o||(o=p[t]=a(t)),this.orient=o}function l(t,e){var r=t.length;if(0===r)throw new Error("Must have at least d+1 points");var o=t[0].length;if(r<=o)throw new Error("Must input at least d+1 points");var i=t.slice(0,o+1),a=u.apply(void 0,i);if(0===a)throw new Error("Input not in general position");for(var l=new Array(o+1),c=0;c<=o;++c)l[c]=c;a<0&&(l[0]=1,l[1]=0);for(var p=new n(l,new Array(o+1),!1),f=p.adjacent,h=new Array(o+2),c=0;c<=o;++c){for(var d=l.slice(),y=0;y<=o;++y)y===c&&(d[y]=-1);var m=d[0];d[0]=d[1],d[1]=m;var v=new n(d,new Array(o+1),!0);f[c]=v,h[c]=v}h[o+1]=p;for(var c=0;c<=o;++c)for(var d=f[c].vertices,g=f[c].adjacent,y=0;y<=o;++y){var b=d[y];if(b<0)g[y]=p;else for(var x=0;x<=o;++x)f[x].vertices.indexOf(b)<0&&(g[y]=f[x])}for(var _=new s(o,i,h),w=!!e,c=o+1;c<r;++c)_.insert(t[c],w);return _.boundary()}e.exports=l;var u=t("robust-orientation"),c=t("simplicial-complex").compareCells;n.prototype.flip=function(){var t=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=t;var e=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=e};var p=[],f=s.prototype;f.handleBoundaryDegeneracy=function(t,e){var r=this.dimension,n=this.vertices.length-1,o=this.tuple,i=this.vertices,a=[t];for(t.lastVisited=-n;a.length>0;){t=a.pop();for(var s=(t.vertices,t.adjacent),l=0;l<=r;++l){var u=s[l];if(u.boundary&&!(u.lastVisited<=-n)){for(var c=u.vertices,p=0;p<=r;++p){var f=c[p];f<0?o[p]=e:o[p]=i[f]}var h=this.orient();if(h>0)return u;u.lastVisited=-n,0===h&&a.push(u)}}}return null},f.walk=function(t,e){var r=this.vertices.length-1,n=this.dimension,o=this.vertices,i=this.tuple,a=e?this.interior.length*Math.random()|0:this.interior.length-1,s=this.interior[a];t:for(;!s.boundary;){for(var l=s.vertices,u=s.adjacent,c=0;c<=n;++c)i[c]=o[l[c]];s.lastVisited=r;for(var c=0;c<=n;++c){var p=u[c];if(!(p.lastVisited>=r)){var f=i[c];i[c]=t;var h=this.orient();if(i[c]=f,h<0){s=p;continue t}p.boundary?p.lastVisited=-r:p.lastVisited=r}}return}return s},f.addPeaks=function(t,e){var r=this.vertices.length-1,a=this.dimension,s=this.vertices,l=this.tuple,u=this.interior,c=this.simplices,p=[e];e.lastVisited=r,e.vertices[e.vertices.indexOf(-1)]=r,e.boundary=!1,u.push(e);for(var f=[];p.length>0;){var e=p.pop(),h=e.vertices,d=e.adjacent,y=h.indexOf(r);if(!(y<0))for(var m=0;m<=a;++m)if(m!==y){var v=d[m];if(v.boundary&&!(v.lastVisited>=r)){var g=v.vertices;if(v.lastVisited!==-r){for(var b=0,x=0;x<=a;++x)g[x]<0?(b=x,l[x]=t):l[x]=s[g[x]];var _=this.orient();if(_>0){g[b]=r,v.boundary=!1,u.push(v),p.push(v),v.lastVisited=r;continue}v.lastVisited=-r}var w=v.adjacent,T=h.slice(),M=d.slice(),S=new n(T,M,!0);c.push(S);var E=w.indexOf(e);if(!(E<0)){w[E]=S,M[y]=v,T[m]=-1,M[m]=e,d[m]=S,S.flip();for(var x=0;x<=a;++x){var k=T[x];if(!(k<0||k===r)){for(var C=new Array(a-1),A=0,P=0;P<=a;++P){var L=T[P];L<0||P===x||(C[A++]=L)}f.push(new o(C,S,x))}}}}}}f.sort(i);for(var m=0;m+1<f.length;m+=2){var D=f[m],O=f[m+1],I=D.index,R=O.index;I<0||R<0||(D.cell.adjacent[D.index]=O.cell,O.cell.adjacent[O.index]=D.cell)}},f.insert=function(t,e){var r=this.vertices;r.push(t);var n=this.walk(t,e);if(n){for(var o=this.dimension,i=this.tuple,a=0;a<=o;++a){var s=n.vertices[a];s<0?i[a]=t:i[a]=r[s]}var l=this.orient(i);l<0||(0!==l||(n=this.handleBoundaryDegeneracy(n,t)))&&this.addPeaks(t,n)}},f.boundary=function(){for(var t=this.dimension,e=[],r=this.simplices,n=r.length,o=0;o<n;++o){var i=r[o];if(i.boundary){for(var a=new Array(t),s=i.vertices,l=0,u=0,c=0;c<=t;++c)s[c]>=0?a[l++]=s[c]:u=1&c;if(u===(1&t)){var p=a[0];a[0]=a[1],a[1]=p}e.push(a)}}return e}},{"robust-orientation":487,"simplicial-complex":498}],272:[function(t,e,r){"use strict";function n(t,e,r,n,o){this.mid=t,this.left=e,this.right=r,this.leftPoints=n,this.rightPoints=o,this.count=(e?e.count:0)+(r?r.count:0)+n.length}function o(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function i(t,e){var r=d(e);t.mid=r.mid,t.left=r.left,t.right=r.right,t.leftPoints=r.leftPoints,t.rightPoints=r.rightPoints,t.count=r.count}function a(t,e){var r=t.intervals([]);r.push(e),i(t,r)}function s(t,e){var r=t.intervals([]),n=r.indexOf(e);return n<0?g:(r.splice(n,1),i(t,r),b)}function l(t,e,r){for(var n=0;n<t.length&&t[n][0]<=e;++n){var o=r(t[n]);if(o)return o}}function u(t,e,r){for(var n=t.length-1;n>=0&&t[n][1]>=e;--n){var o=r(t[n]);if(o)return o}}function c(t,e){for(var r=0;r<t.length;++r){var n=e(t[r]);if(n)return n}}function p(t,e){return t-e}function f(t,e){var r=t[0]-e[0];return r?r:t[1]-e[1]}function h(t,e){var r=t[1]-e[1];return r?r:t[0]-e[0]}function d(t){if(0===t.length)return null;for(var e=[],r=0;r<t.length;++r)e.push(t[r][0],t[r][1]);e.sort(p);for(var o=e[e.length>>1],i=[],a=[],s=[],r=0;r<t.length;++r){var l=t[r];l[1]<o?i.push(l):o<l[0]?a.push(l):s.push(l)}var u=s,c=s.slice();return u.sort(f),c.sort(h),new n(o,d(i),d(a),u,c)}function y(t){this.root=t}function m(t){return new y(t&&0!==t.length?d(t):null)}var v=t("binary-search-bounds"),g=0,b=1,x=2;e.exports=m;var _=n.prototype;_.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t},_.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?a(this,t):this.left.insert(t):this.left=d([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?a(this,t):this.right.insert(t):this.right=d([t]);else{var r=v.ge(this.leftPoints,t,f),n=v.ge(this.rightPoints,t,h);this.leftPoints.splice(r,0,t),this.rightPoints.splice(n,0,t)}},_.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid){if(!this.left)return g;var r=this.right?this.right.count:0;if(4*r>3*(e-1))return s(this,t);var n=this.left.remove(t);return n===x?(this.left=null,this.count-=1,b):(n===b&&(this.count-=1),n)}if(t[0]>this.mid){if(!this.right)return g;var i=this.left?this.left.count:0;if(4*i>3*(e-1))return s(this,t);var n=this.right.remove(t);return n===x?(this.right=null,this.count-=1,b):(n===b&&(this.count-=1),n)}if(1===this.count)return this.leftPoints[0]===t?x:g;if(1===this.leftPoints.length&&this.leftPoints[0]===t){if(this.left&&this.right){for(var a=this,l=this.left;l.right;)a=l,l=l.right;if(a===this)l.right=this.right;else{var u=this.left,n=this.right;a.count-=l.count,a.right=l.left,l.left=u,l.right=n}o(this,l),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?o(this,this.left):o(this,this.right);return b}for(var u=v.ge(this.leftPoints,t,f);u<this.leftPoints.length&&this.leftPoints[u][0]===t[0];++u)if(this.leftPoints[u]===t){this.count-=1,this.leftPoints.splice(u,1);for(var n=v.ge(this.rightPoints,t,h);n<this.rightPoints.length&&this.rightPoints[n][1]===t[1];++n)if(this.rightPoints[n]===t)return this.rightPoints.splice(n,1),b}return g},_.queryPoint=function(t,e){if(t<this.mid){if(this.left){var r=this.left.queryPoint(t,e);if(r)return r}return l(this.leftPoints,t,e)}if(t>this.mid){if(this.right){var r=this.right.queryPoint(t,e);if(r)return r}return u(this.rightPoints,t,e)}return c(this.leftPoints,e)},_.queryInterval=function(t,e,r){if(t<this.mid&&this.left){var n=this.left.queryInterval(t,e,r);if(n)return n}if(e>this.mid&&this.right){var n=this.right.queryInterval(t,e,r);if(n)return n}return e<this.mid?l(this.leftPoints,e,r):t>this.mid?u(this.rightPoints,t,r):c(this.leftPoints,r)};var w=y.prototype;w.insert=function(t){this.root?this.root.insert(t):this.root=new n(t[0],null,null,[t],[t])},w.remove=function(t){if(this.root){var e=this.root.remove(t);return e===x&&(this.root=null),e!==g}return!1},w.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)},w.queryInterval=function(t,e,r){if(t<=e&&this.root)return this.root.queryInterval(t,e,r)},Object.defineProperty(w,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(w,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},{"binary-search-bounds":56}],273:[function(t,e,r){"use strict";function n(t,e){e=e||new Array(t.length);for(var r=0;r<t.length;++r)e[t[r]]=r;return e}e.exports=n},{}],274:[function(t,e,r){"use strict";function n(t){for(var e=new Array(t),r=0;r<t;++r)e[r]=r;return e}e.exports=n},{}],275:[function(t,e,r){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function o(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}/*!
	 * Determine if an object is a Buffer
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
e.exports=function(t){return null!=t&&(n(t)||o(t)||!!t._isBuffer)}},{}],276:[function(t,e,r){function n(t){return t||"undefined"==typeof navigator||(t=navigator.userAgent),t&&t.headers&&"string"==typeof t.headers["user-agent"]&&(t=t.headers["user-agent"]),"string"==typeof t&&(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))}e.exports=n},{}],277:[function(t,e,r){"use strict";var n=Object.prototype.toString;e.exports=function(t){var e;return"[object Object]"===n.call(t)&&(e=Object.getPrototypeOf(t),null===e||e===Object.getPrototypeOf({}))}},{}],278:[function(t,e,r){"use strict";function n(t,e,r,n,i){return new o(t,e,r,n,i)}function o(t,e,r,n,o){e=e||i,r=r||a,o=o||Array,this.nodeSize=n||64,this.points=t,this.ids=new o(t.length),this.coords=new o(2*t.length);for(var l=0;l<t.length;l++)this.ids[l]=l,this.coords[2*l]=e(t[l]),this.coords[2*l+1]=r(t[l]);s(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function i(t){return t[0]}function a(t){return t[1]}var s=t("./sort"),l=t("./range"),u=t("./within");e.exports=n,o.prototype={range:function(t,e,r,n){return l(this.ids,this.coords,t,e,r,n,this.nodeSize)},within:function(t,e,r){return u(this.ids,this.coords,t,e,r,this.nodeSize)}}},{"./range":279,"./sort":280,"./within":281}],279:[function(t,e,r){"use strict";function n(t,e,r,n,o,i,a){for(var s,l,u=[0,t.length-1,0],c=[];u.length;){var p=u.pop(),f=u.pop(),h=u.pop();if(f-h<=a)for(var d=h;d<=f;d++)s=e[2*d],l=e[2*d+1],s>=r&&s<=o&&l>=n&&l<=i&&c.push(t[d]);else{var y=Math.floor((h+f)/2);s=e[2*y],l=e[2*y+1],s>=r&&s<=o&&l>=n&&l<=i&&c.push(t[y]);var m=(p+1)%2;(0===p?r<=s:n<=l)&&(u.push(h),u.push(y-1),u.push(m)),(0===p?o>=s:i>=l)&&(u.push(y+1),u.push(f),u.push(m))}}return c}e.exports=n},{}],280:[function(t,e,r){"use strict";function n(t,e,r,i,a,s){if(!(a-i<=r)){var l=Math.floor((i+a)/2);o(t,e,l,i,a,s%2),n(t,e,r,i,l-1,s+1),n(t,e,r,l+1,a,s+1)}}function o(t,e,r,n,a,s){for(;a>n;){if(a-n>600){var l=a-n+1,u=r-n+1,c=Math.log(l),p=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*p*(l-p)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(r-u*p/l+f)),d=Math.min(a,Math.floor(r+(l-u)*p/l+f));o(t,e,r,h,d,s)}var y=e[2*r+s],m=n,v=a;for(i(t,e,n,r),e[2*a+s]>y&&i(t,e,n,a);m<v;){for(i(t,e,m,v),m++,v--;e[2*m+s]<y;)m++;for(;e[2*v+s]>y;)v--}e[2*n+s]===y?i(t,e,n,v):(v++,i(t,e,v,a)),v<=r&&(n=v+1),r<=v&&(a=v-1)}}function i(t,e,r,n){a(t,r,n),a(e,2*r,2*n),a(e,2*r+1,2*n+1)}function a(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}e.exports=n},{}],281:[function(t,e,r){"use strict";function n(t,e,r,n,i,a){for(var s=[0,t.length-1,0],l=[],u=i*i;s.length;){var c=s.pop(),p=s.pop(),f=s.pop();if(p-f<=a)for(var h=f;h<=p;h++)o(e[2*h],e[2*h+1],r,n)<=u&&l.push(t[h]);else{var d=Math.floor((f+p)/2),y=e[2*d],m=e[2*d+1];o(y,m,r,n)<=u&&l.push(t[d]);var v=(c+1)%2;(0===c?r-i<=y:n-i<=m)&&(s.push(f),s.push(d-1),s.push(v)),(0===c?r+i>=y:n+i>=m)&&(s.push(d+1),s.push(p),s.push(v))}}return l}function o(t,e,r,n){var o=t-r,i=e-n;return o*o+i*i}e.exports=n},{}],282:[function(t,e,r){"use strict";function n(t,e){var r;if(p(t)){var l,u=t.stops&&"object"==typeof t.stops[0][0],c=u||void 0!==t.property,f=u||!c,h=t.type||e||"exponential";if("exponential"===h)l=a;else if("interval"===h)l=i;else if("categorical"===h)l=o;else{if("identity"!==h)throw new Error('Unknown function type "'+h+'"');l=s}if(u){for(var d={},y=[],m=0;m<t.stops.length;m++){var v=t.stops[m];void 0===d[v[0].zoom]&&(d[v[0].zoom]={zoom:v[0].zoom,type:t.type,property:t.property,stops:[]}),d[v[0].zoom].stops.push([v[0].value,v[1]])}for(var g in d)y.push([d[g].zoom,n(d[g])]);r=function(e,r){return a({stops:y,base:t.base},e)(e,r)},r.isFeatureConstant=!1,r.isZoomConstant=!1}else f?(r=function(e){return l(t,e)},r.isFeatureConstant=!0,r.isZoomConstant=!1):(r=function(e,r){return l(t,r[t.property])},r.isFeatureConstant=!1,r.isZoomConstant=!0)}else r=function(){return t},r.isFeatureConstant=!0,r.isZoomConstant=!0;return r}function o(t,e){for(var r=0;r<t.stops.length;r++)if(e===t.stops[r][0])return t.stops[r][1];return t.stops[0][1]}function i(t,e){for(var r=0;r<t.stops.length&&!(e<t.stops[r][0]);r++);return t.stops[Math.max(r-1,0)][1]}function a(t,e){for(var r=void 0!==t.base?t.base:1,n=0;;){if(n>=t.stops.length)break;if(e<=t.stops[n][0])break;n++}return 0===n?t.stops[n][1]:n===t.stops.length?t.stops[n-1][1]:l(e,r,t.stops[n-1][0],t.stops[n][0],t.stops[n-1][1],t.stops[n][1])}function s(t,e){return e}function l(t,e,r,n,o,i){return"function"==typeof o?function(){var a=o.apply(void 0,arguments),s=i.apply(void 0,arguments);return l(t,e,r,n,a,s)}:o.length?c(t,e,r,n,o,i):u(t,e,r,n,o,i)}function u(t,e,r,n,o,i){var a,s=n-r,l=t-r;return a=1===e?l/s:(Math.pow(e,l)-1)/(Math.pow(e,s)-1),o*(1-a)+i*a}function c(t,e,r,n,o,i){for(var a=[],s=0;s<o.length;s++)a[s]=u(t,e,r,n,o[s],i[s]);return a}function p(t){return"object"==typeof t&&(t.stops||"identity"===t.type)}e.exports.isFunctionDefinition=p,e.exports.interpolated=function(t){return n(t,"exponential")},e.exports["piecewise-constant"]=function(t){return n(t,"interval")}},{}],283:[function(t,e,r){t("path");e.exports={debug:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform lowp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nattribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, step(32767.0, a_pos.x), 1);\n}\n"},fill:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nattribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},circle:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_extrude;\nvarying lowp float v_antialiasblur;\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    float t = smoothstep(1.0 - max(blur, v_antialiasblur), 1.0, length(v_extrude));\n    gl_FragColor = color * (1.0 - t) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform vec2 u_extrude_scale;\nuniform float u_devicepixelratio;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_extrude;\nvarying lowp float v_antialiasblur;\n\nvoid main(void) {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    v_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    vec2 extrude = v_extrude * radius * u_extrude_scale;\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5), 0, 1);\n\n    if (u_scale_with_map) {\n        gl_Position.xy += extrude;\n    } else {\n        gl_Position.xy += extrude * gl_Position.w;\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    v_antialiasblur = 1.0 / u_devicepixelratio / radius;\n}\n"},line:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform lowp vec4 u_color;\nuniform lowp float u_opacity;\nuniform float u_blur;\n\nvarying vec2 v_linewidth;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_linewidth.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_linewidth.t) or when fading out\n    // (v_linewidth.s)\n    float blur = u_blur * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_linewidth.t - blur), v_linewidth.s - dist) / blur, 0.0, 1.0);\n\n    gl_FragColor = u_color * (alpha * u_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump float u_linewidth;\nuniform mediump float u_gapwidth;\nuniform mediump float u_antialiasing;\nuniform mediump float u_extra;\nuniform mat2 u_antialiasingmatrix;\nuniform mediump float u_offset;\nuniform mediump float u_blur;\n\nvarying vec2 v_normal;\nvarying vec2 v_linewidth;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    float inset = u_gapwidth + (u_gapwidth > 0.0 ? u_antialiasing : 0.0);\n    float outset = u_gapwidth + u_linewidth * (u_gapwidth > 0.0 ? 2.0 : 1.0) + u_antialiasing;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset = u_offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit of the position before scaling it with the\n    // model/view matrix.\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + (offset + dist) / u_ratio, 0.0, 1.0);\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n\n    // how much features are squished in the y direction by the tilt\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\n\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\n\n    v_linewidth = vec2(outset, inset);\n    v_gamma_scale = perspective_scale * squish_scale;\n}\n"},linepattern:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform float u_blur;\n\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_fade;\nuniform float u_opacity;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_linewidth;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\nvoid main() {\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_linewidth.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_linewidth.t) or when fading out\n    // (v_linewidth.s)\n    float blur = u_blur * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_linewidth.t - blur), v_linewidth.s - dist) / blur, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n    float y_a = 0.5 + (v_normal.y * v_linewidth.s / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * v_linewidth.s / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a, u_pattern_br_a, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b, u_pattern_br_b, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    alpha *= u_opacity;\n\n    gl_FragColor = color * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump float u_linewidth;\nuniform mediump float u_gapwidth;\nuniform mediump float u_antialiasing;\nuniform mediump float u_extra;\nuniform mat2 u_antialiasingmatrix;\nuniform mediump float u_offset;\n\nvarying vec2 v_normal;\nvarying vec2 v_linewidth;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    float inset = u_gapwidth + (u_gapwidth > 0.0 ? u_antialiasing : 0.0);\n    float outset = u_gapwidth + u_linewidth * (u_gapwidth > 0.0 ? 2.0 : 1.0) + u_antialiasing;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset = u_offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit of the position before scaling it with the\n    // model/view matrix.\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + (offset + dist) / u_ratio, 0.0, 1.0);\n    v_linesofar = a_linesofar;\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n\n    // how much features are squished in the y direction by the tilt\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\n\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\n\n    v_linewidth = vec2(outset, inset);\n    v_gamma_scale = perspective_scale * squish_scale;\n}\n"},linesdfpattern:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform lowp vec4 u_color;\nuniform lowp float u_opacity;\n\nuniform float u_blur;\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_linewidth;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\nvoid main() {\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_linewidth.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_linewidth.t) or when fading out\n    // (v_linewidth.s)\n    float blur = u_blur * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_linewidth.t - blur), v_linewidth.s - dist) / blur, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma, 0.5 + u_sdfgamma, sdfdist);\n\n    gl_FragColor = u_color * (alpha * u_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump float u_linewidth;\nuniform mediump float u_gapwidth;\nuniform mediump float u_antialiasing;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform float u_extra;\nuniform mat2 u_antialiasingmatrix;\nuniform mediump float u_offset;\n\nvarying vec2 v_normal;\nvarying vec2 v_linewidth;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    float inset = u_gapwidth + (u_gapwidth > 0.0 ? u_antialiasing : 0.0);\n    float outset = u_gapwidth + u_linewidth * (u_gapwidth > 0.0 ? 2.0 : 1.0) + u_antialiasing;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset = u_offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit of the position before scaling it with the\n    // model/view matrix.\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + (offset + dist) / u_ratio, 0.0, 1.0);\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n\n    // how much features are squished in the y direction by the tilt\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\n\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\n\n    v_linewidth = vec2(outset, inset);\n    v_gamma_scale = perspective_scale * squish_scale;\n}\n"},outline:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\n#pragma mapbox: define lowp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = smoothstep(1.0, 0.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nattribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},outlinepattern:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform float u_opacity;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\nvoid main() {\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = smoothstep(1.0, 0.0, dist);\n    \n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    vec2 scaled_size_a = u_scale_a * u_pattern_size_a;\n    vec2 scaled_size_b = u_scale_b * u_pattern_size_b;\n\n    // the correct offset needs to be calculated.\n    //\n    // The offset depends on how many pixels are between the world origin and\n    // the edge of the tile:\n    // vec2 offset = mod(pixel_coord, size)\n    //\n    // At high zoom levels there are a ton of pixels between the world origin\n    // and the edge of the tile. The glsl spec only guarantees 16 bits of\n    // precision for highp floats. We need more than that.\n    //\n    // The pixel_coord is passed in as two 16 bit values:\n    // pixel_coord_upper = floor(pixel_coord / 2^16)\n    // pixel_coord_lower = mod(pixel_coord, 2^16)\n    //\n    // The offset is calculated in a series of steps that should preserve this precision:\n    vec2 offset_a = mod(mod(mod(u_pixel_coord_upper, scaled_size_a) * 256.0, scaled_size_a) * 256.0 + u_pixel_coord_lower, scaled_size_a);\n    vec2 offset_b = mod(mod(mod(u_pixel_coord_upper, scaled_size_b) * 256.0, scaled_size_b) * 256.0 + u_pixel_coord_lower, scaled_size_b);\n\n    v_pos_a = (u_tile_units_to_pixels * a_pos + offset_a) / scaled_size_a;\n    v_pos_b = (u_tile_units_to_pixels * a_pos + offset_b) / scaled_size_b;\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},pattern:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform float u_opacity;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    vec2 scaled_size_a = u_scale_a * u_pattern_size_a;\n    vec2 scaled_size_b = u_scale_b * u_pattern_size_b;\n\n    // the correct offset needs to be calculated.\n    //\n    // The offset depends on how many pixels are between the world origin and\n    // the edge of the tile:\n    // vec2 offset = mod(pixel_coord, size)\n    //\n    // At high zoom levels there are a ton of pixels between the world origin\n    // and the edge of the tile. The glsl spec only guarantees 16 bits of\n    // precision for highp floats. We need more than that.\n    //\n    // The pixel_coord is passed in as two 16 bit values:\n    // pixel_coord_upper = floor(pixel_coord / 2^16)\n    // pixel_coord_lower = mod(pixel_coord, 2^16)\n    //\n    // The offset is calculated in a series of steps that should preserve this precision:\n    vec2 offset_a = mod(mod(mod(u_pixel_coord_upper, scaled_size_a) * 256.0, scaled_size_a) * 256.0 + u_pixel_coord_lower, scaled_size_a);\n    vec2 offset_b = mod(mod(mod(u_pixel_coord_upper, scaled_size_b) * 256.0, scaled_size_b) * 256.0 + u_pixel_coord_lower, scaled_size_b);\n\n    v_pos_a = (u_tile_units_to_pixels * a_pos + offset_a) / scaled_size_a;\n    v_pos_b = (u_tile_units_to_pixels * a_pos + offset_b) / scaled_size_b;\n}\n"},raster:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform float u_opacity0;\nuniform float u_opacity1;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    vec4 color = color0 * u_opacity0 + color1 * u_opacity1;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb), color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos0 = (((a_texture_pos / 32767.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"
},icon:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\nuniform lowp float u_opacity;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    lowp float alpha = texture2D(u_fadetexture, v_fade_tex).a * u_opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nattribute vec2 a_pos;\nattribute vec2 a_offset;\nattribute vec2 a_texture_pos;\nattribute vec4 a_data;\n\n\n// matrix is for the vertex position.\nuniform mat4 u_matrix;\n\nuniform mediump float u_zoom;\nuniform bool u_rotate_with_map;\nuniform vec2 u_extrude_scale;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    vec2 a_tex = a_texture_pos.xy;\n    mediump float a_labelminzoom = a_data[0];\n    mediump vec2 a_zoom = a_data.pq;\n    mediump float a_minzoom = a_zoom[0];\n    mediump float a_maxzoom = a_zoom[1];\n\n    // u_zoom is the current zoom level adjusted for the change in font size\n    mediump float z = 2.0 - step(a_minzoom, u_zoom) - (1.0 - step(a_maxzoom, u_zoom));\n\n    vec2 extrude = u_extrude_scale * (a_offset / 64.0);\n    if (u_rotate_with_map) {\n        gl_Position = u_matrix * vec4(a_pos + extrude, 0, 1);\n        gl_Position.z += z * gl_Position.w;\n    } else {\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n    }\n\n    v_tex = a_tex / u_texsize;\n    v_fade_tex = vec2(a_labelminzoom / 255.0, 0.0);\n}\n"},sdf:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\nuniform lowp vec4 u_color;\nuniform lowp float u_opacity;\nuniform lowp float u_buffer;\nuniform lowp float u_gamma;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\nvarying float v_gamma_scale;\n\nvoid main() {\n    lowp float dist = texture2D(u_texture, v_tex).a;\n    lowp float fade_alpha = texture2D(u_fadetexture, v_fade_tex).a;\n    lowp float gamma = u_gamma * v_gamma_scale;\n    lowp float alpha = smoothstep(u_buffer - gamma, u_buffer + gamma, dist) * fade_alpha;\n\n    gl_FragColor = u_color * (alpha * u_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nconst float PI = 3.141592653589793;\n\nattribute vec2 a_pos;\nattribute vec2 a_offset;\nattribute vec2 a_texture_pos;\nattribute vec4 a_data;\n\n\n// matrix is for the vertex position.\nuniform mat4 u_matrix;\n\nuniform mediump float u_zoom;\nuniform bool u_rotate_with_map;\nuniform bool u_pitch_with_map;\nuniform mediump float u_pitch;\nuniform mediump float u_bearing;\nuniform mediump float u_aspect_ratio;\nuniform vec2 u_extrude_scale;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_tex = a_texture_pos.xy;\n    mediump float a_labelminzoom = a_data[0];\n    mediump vec2 a_zoom = a_data.pq;\n    mediump float a_minzoom = a_zoom[0];\n    mediump float a_maxzoom = a_zoom[1];\n\n    // u_zoom is the current zoom level adjusted for the change in font size\n    mediump float z = 2.0 - step(a_minzoom, u_zoom) - (1.0 - step(a_maxzoom, u_zoom));\n\n    // pitch-alignment: map\n    // rotation-alignment: map | viewport\n    if (u_pitch_with_map) {\n        lowp float angle = u_rotate_with_map ? (a_data[1] / 256.0 * 2.0 * PI) : u_bearing;\n        lowp float asin = sin(angle);\n        lowp float acos = cos(angle);\n        mat2 RotationMatrix = mat2(acos, asin, -1.0 * asin, acos);\n        vec2 offset = RotationMatrix * a_offset;\n        vec2 extrude = u_extrude_scale * (offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos + extrude, 0, 1);\n        gl_Position.z += z * gl_Position.w;\n    // pitch-alignment: viewport\n    // rotation-alignment: map\n    } else if (u_rotate_with_map) {\n        // foreshortening factor to apply on pitched maps\n        // as a label goes from horizontal <=> vertical in angle\n        // it goes from 0% foreshortening to up to around 70% foreshortening\n        lowp float pitchfactor = 1.0 - cos(u_pitch * sin(u_pitch * 0.75));\n\n        lowp float lineangle = a_data[1] / 256.0 * 2.0 * PI;\n\n        // use the lineangle to position points a,b along the line\n        // project the points and calculate the label angle in projected space\n        // this calculation allows labels to be rendered unskewed on pitched maps\n        vec4 a = u_matrix * vec4(a_pos, 0, 1);\n        vec4 b = u_matrix * vec4(a_pos + vec2(cos(lineangle),sin(lineangle)), 0, 1);\n        lowp float angle = atan((b[1]/b[3] - a[1]/a[3])/u_aspect_ratio, b[0]/b[3] - a[0]/a[3]);\n        lowp float asin = sin(angle);\n        lowp float acos = cos(angle);\n        mat2 RotationMatrix = mat2(acos, -1.0 * asin, asin, acos);\n\n        vec2 offset = RotationMatrix * (vec2((1.0-pitchfactor)+(pitchfactor*cos(angle*2.0)), 1.0) * a_offset);\n        vec2 extrude = u_extrude_scale * (offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n        gl_Position.z += z * gl_Position.w;\n    // pitch-alignment: viewport\n    // rotation-alignment: viewport\n    } else {\n        vec2 extrude = u_extrude_scale * (a_offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n    }\n\n    v_gamma_scale = (gl_Position.w - 0.5);\n\n    v_tex = a_tex / u_texsize;\n    v_fade_tex = vec2(a_labelminzoom / 255.0, 0.0);\n}\n"},collisionbox:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform float u_zoom;\nuniform float u_maxzoom;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0) * alpha;\n\n    if (v_placement_zoom > u_zoom) {\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n    }\n\n    if (u_zoom >= v_max_zoom) {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0) * alpha * 0.25;\n    }\n\n    if (v_placement_zoom >= u_maxzoom) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 1.0) * alpha * 0.2;\n    }\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nattribute vec2 a_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_data;\n\nuniform mat4 u_matrix;\nuniform float u_scale;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos + a_extrude / u_scale, 0.0, 1.0);\n\n    v_max_zoom = a_data.x;\n    v_placement_zoom = a_data.y;\n}\n"}},e.exports.util="float evaluate_zoom_function_1(const vec4 values, const float t) {\n    if (t < 1.0) {\n        return mix(values[0], values[1], t);\n    } else if (t < 2.0) {\n        return mix(values[1], values[2], t - 1.0);\n    } else {\n        return mix(values[2], values[3], t - 2.0);\n    }\n}\nvec4 evaluate_zoom_function_4(const vec4 value0, const vec4 value1, const vec4 value2, const vec4 value3, const float t) {\n    if (t < 1.0) {\n        return mix(value0, value1, t);\n    } else if (t < 2.0) {\n        return mix(value1, value2, t - 1.0);\n    } else {\n        return mix(value2, value3, t - 2.0);\n    }\n}\n"},{path:455}],284:[function(t,e,r){"use strict";function n(t,e){this.message=(t?t+": ":"")+o.apply(o,Array.prototype.slice.call(arguments,2)),null!==e&&void 0!==e&&e.__line__&&(this.line=e.__line__)}var o=t("util").format;e.exports=n},{util:527}],285:[function(t,e,r){"use strict";e.exports=function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}},{}],286:[function(t,e,r){"use strict";e.exports=function(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}},{}],287:[function(t,e,r){"use strict";e.exports=function(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}},{}],288:[function(t,e,r){"use strict";var n=t("../error/validation_error"),o=t("../util/get_type"),i=t("../util/extend");e.exports=function(e){var r=t("./validate_function"),a=t("./validate_object"),s={"*":function(){return[]},array:t("./validate_array"),boolean:t("./validate_boolean"),number:t("./validate_number"),color:t("./validate_color"),constants:t("./validate_constants"),enum:t("./validate_enum"),filter:t("./validate_filter"),function:t("./validate_function"),layer:t("./validate_layer"),object:t("./validate_object"),source:t("./validate_source"),string:t("./validate_string")},l=e.value,u=e.valueSpec,c=e.key,p=e.styleSpec,f=e.style;if("string"===o(l)&&"@"===l[0]){if(p.$version>7)return[new n(c,l,"constants have been deprecated as of v8")];if(!(l in f.constants))return[new n(c,l,'constant "%s" not found',l)];e=i({},e,{value:f.constants[l]})}return u.function&&"object"===o(l)?r(e):u.type&&s[u.type]?s[u.type](e):a(i({},e,{valueSpec:u.type?p[u.type]:u}))}},{"../error/validation_error":284,"../util/extend":285,"../util/get_type":286,"./validate_array":289,"./validate_boolean":290,"./validate_color":291,"./validate_constants":292,"./validate_enum":293,"./validate_filter":294,"./validate_function":295,"./validate_layer":297,"./validate_number":299,"./validate_object":300,"./validate_source":302,"./validate_string":303}],289:[function(t,e,r){"use strict";var n=t("../util/get_type"),o=t("./validate"),i=t("../error/validation_error");e.exports=function(t){var e=t.value,r=t.valueSpec,a=t.style,s=t.styleSpec,l=t.key,u=t.arrayElementValidator||o;if("array"!==n(e))return[new i(l,e,"array expected, %s found",n(e))];if(r.length&&e.length!==r.length)return[new i(l,e,"array length %d expected, length %d found",r.length,e.length)];if(r["min-length"]&&e.length<r["min-length"])return[new i(l,e,"array length at least %d expected, length %d found",r["min-length"],e.length)];var c={type:r.value};s.$version<7&&(c.function=r.function),"object"===n(r.value)&&(c=r.value);for(var p=[],f=0;f<e.length;f++)p=p.concat(u({array:e,arrayIndex:f,value:e[f],valueSpec:c,style:a,styleSpec:s,key:l+"["+f+"]"}));return p}},{"../error/validation_error":284,"../util/get_type":286,"./validate":288}],290:[function(t,e,r){"use strict";var n=t("../util/get_type"),o=t("../error/validation_error");e.exports=function(t){var e=t.value,r=t.key,i=n(e);return"boolean"!==i?[new o(r,e,"boolean expected, %s found",i)]:[]}},{"../error/validation_error":284,"../util/get_type":286}],291:[function(t,e,r){"use strict";var n=t("../error/validation_error"),o=t("../util/get_type"),i=t("csscolorparser").parseCSSColor;e.exports=function(t){var e=t.key,r=t.value,a=o(r);return"string"!==a?[new n(e,r,"color expected, %s found",a)]:null===i(r)?[new n(e,r,'color expected, "%s" found',r)]:[]}},{"../error/validation_error":284,"../util/get_type":286,csscolorparser:98}],292:[function(t,e,r){"use strict";var n=t("../error/validation_error"),o=t("../util/get_type");e.exports=function(t){var e=t.key,r=t.value,i=t.styleSpec;if(i.$version>7)return r?[new n(e,r,"constants have been deprecated as of v8")]:[];var a=o(r);if("object"!==a)return[new n(e,r,"object expected, %s found",a)];var s=[];for(var l in r)"@"!==l[0]&&s.push(new n(e+"."+l,r[l],'constants must start with "@"'));return s}},{"../error/validation_error":284,"../util/get_type":286}],293:[function(t,e,r){"use strict";var n=t("../error/validation_error"),o=t("../util/unbundle_jsonlint");e.exports=function(t){var e=t.key,r=t.value,i=t.valueSpec,a=[];return i.values.indexOf(o(r))===-1&&a.push(new n(e,r,"expected one of [%s], %s found",i.values.join(", "),r)),a}},{"../error/validation_error":284,"../util/unbundle_jsonlint":287}],294:[function(t,e,r){"use strict";var n=t("../error/validation_error"),o=t("./validate_enum"),i=t("../util/get_type"),a=t("../util/unbundle_jsonlint");e.exports=function t(e){var r,s=e.value,l=e.key,u=e.styleSpec,c=[];if("array"!==i(s))return[new n(l,s,"array expected, %s found",i(s))];if(s.length<1)return[new n(l,s,"filter array must have at least 1 element")];switch(c=c.concat(o({key:l+"[0]",value:s[0],valueSpec:u.filter_operator,style:e.style,styleSpec:e.styleSpec})),a(s[0])){case"<":case"<=":case">":case">=":s.length>=2&&"$type"==s[1]&&c.push(new n(l,s,'"$type" cannot be use with operator "%s"',s[0]));case"==":case"!=":3!=s.length&&c.push(new n(l,s,'filter array for operator "%s" must have 3 elements',s[0]));case"in":case"!in":s.length>=2&&(r=i(s[1]),"string"!==r?c.push(new n(l+"[1]",s[1],"string expected, %s found",r)):"@"===s[1][0]&&c.push(new n(l+"[1]",s[1],"filter key cannot be a constant")));for(var p=2;p<s.length;p++)r=i(s[p]),"$type"==s[1]?c=c.concat(o({key:l+"["+p+"]",value:s[p],valueSpec:u.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"===r&&"@"===s[p][0]?c.push(new n(l+"["+p+"]",s[p],"filter value cannot be a constant")):"string"!==r&&"number"!==r&&"boolean"!==r&&c.push(new n(l+"["+p+"]",s[p],"string, number, or boolean expected, %s found",r));break;case"any":case"all":case"none":for(p=1;p<s.length;p++)c=c.concat(t({key:l+"["+p+"]",value:s[p],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":r=i(s[1]),2!==s.length?c.push(new n(l,s,'filter array for "%s" operator must have 2 elements',s[0])):"string"!==r?c.push(new n(l+"[1]",s[1],"string expected, %s found",r)):"@"===s[1][0]&&c.push(new n(l+"[1]",s[1],"filter key cannot be a constant"))}return c}},{"../error/validation_error":284,"../util/get_type":286,"../util/unbundle_jsonlint":287,"./validate_enum":293}],295:[function(t,e,r){"use strict";var n=t("../error/validation_error"),o=t("../util/get_type"),i=t("./validate"),a=t("./validate_object"),s=t("./validate_array"),l=t("./validate_number");e.exports=function(t){function e(t){var e=[],i=t.value;return e=e.concat(s({key:t.key,value:i,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:r})),"array"===o(i)&&0===i.length&&e.push(new n(t.key,i,"array must have at least one stop")),e}function r(t){var e=[],r=t.value,s=t.key;if("array"!==o(r))return[new n(s,r,"array expected, %s found",o(r))];if(2!==r.length)return[new n(s,r,"array length %d expected, length %d found",2,r.length)];var f=o(r[0]);if(c||(c=f),f!==c)return[new n(s,r,"%s stop key type must match previous stop key type %s",f,c)];if("object"===f){if(void 0===r[0].zoom)return[new n(s,r,"object stop key must have zoom")];if(void 0===r[0].value)return[new n(s,r,"object stop key must have value")];e=e.concat(a({key:s+"[0]",value:r[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:l,value:u}}))}else e=e.concat((h?l:u)({key:s+"[0]",value:r[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec}));return e=e.concat(i({key:s+"[1]",value:r[1],valueSpec:p,style:t.style,styleSpec:t.styleSpec})),"number"===o(r[0])&&("piecewise-constant"===p.function&&r[0]%1!==0&&e.push(new n(s+"[0]",r[0],"zoom level for piecewise-constant functions must be an integer")),0!==t.arrayIndex&&r[0]<t.array[t.arrayIndex-1][0]&&e.push(new n(s+"[0]",r[0],"array stops must appear in ascending order"))),e}function u(t){var e=[],r=o(t.value);return"number"!==r&&"string"!==r&&"array"!==r&&e.push(new n(t.key,t.value,"property value must be a number, string or array")),e}var c,p=t.valueSpec,f=void 0!==t.value.property||"object"===c,h=void 0===t.value.property||"object"===c,d=a({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:e}});return t.styleSpec.$version>=8&&(f&&!t.valueSpec["property-function"]?d.push(new n(t.key,t.value,"property functions not supported")):h&&!t.valueSpec["zoom-function"]&&d.push(new n(t.key,t.value,"zoom functions not supported"))),d}},{"../error/validation_error":284,"../util/get_type":286,"./validate":288,"./validate_array":289,"./validate_number":299,"./validate_object":300}],296:[function(t,e,r){"use strict";var n=t("../error/validation_error"),o=t("./validate_string");e.exports=function(t){var e=t.value,r=t.key,i=o(t);return i.length?i:(e.indexOf("{fontstack}")===-1&&i.push(new n(r,e,'"glyphs" url must include a "{fontstack}" token')),e.indexOf("{range}")===-1&&i.push(new n(r,e,'"glyphs" url must include a "{range}" token')),i)}},{"../error/validation_error":284,"./validate_string":303}],297:[function(t,e,r){"use strict";var n=t("../error/validation_error"),o=t("../util/unbundle_jsonlint"),i=t("./validate_object"),a=t("./validate_filter"),s=t("./validate_paint_property"),l=t("./validate_layout_property"),u=t("../util/extend");e.exports=function(t){var e=[],r=t.value,c=t.key,p=t.style,f=t.styleSpec;r.type||r.ref||e.push(new n(c,r,'either "type" or "ref" is required'));var h=o(r.type),d=o(r.ref);if(r.id)for(var y=0;y<t.arrayIndex;y++){var m=p.layers[y];o(m.id)===o(r.id)&&e.push(new n(c,r.id,'duplicate layer id "%s", previously used at line %d',r.id,m.id.__line__))}if("ref"in r){["type","source","source-layer","filter","layout"].forEach(function(t){t in r&&e.push(new n(c,r[t],'"%s" is prohibited for ref layers',t))});var v;p.layers.forEach(function(t){t.id==d&&(v=t)}),v?v.ref?e.push(new n(c,r.ref,"ref cannot reference another ref layer")):h=o(v.type):e.push(new n(c,r.ref,'ref layer "%s" not found',d))}else if("background"!==h)if(r.source){var g=p.sources&&p.sources[r.source];g?"vector"==g.type&&"raster"==h?e.push(new n(c,r.source,'layer "%s" requires a raster source',r.id)):"raster"==g.type&&"raster"!=h?e.push(new n(c,r.source,'layer "%s" requires a vector source',r.id)):"vector"!=g.type||r["source-layer"]||e.push(new n(c,r,'layer "%s" must specify a "source-layer"',r.id)):e.push(new n(c,r.source,'source "%s" not found',r.source))}else e.push(new n(c,r,'missing required property "source"'));return e=e.concat(i({key:c,value:r,valueSpec:f.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{filter:a,layout:function(t){return i({layer:r,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return l(u({layerType:h},t))}}})},paint:function(t){return i({layer:r,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return s(u({layerType:h},t))}}})}}}))}},{"../error/validation_error":284,"../util/extend":285,"../util/unbundle_jsonlint":287,"./validate_filter":294,"./validate_layout_property":298,"./validate_object":300,"./validate_paint_property":301}],298:[function(t,e,r){"use strict";var n=t("./validate"),o=t("../error/validation_error");e.exports=function(t){var e=t.key,r=t.style,i=t.styleSpec,a=t.value,s=t.objectKey,l=i["layout_"+t.layerType];if(t.valueSpec||l[s]){var u=[];return"symbol"===t.layerType&&("icon-image"===s&&r&&!r.sprite?u.push(new o(e,a,'use of "icon-image" requires a style "sprite" property')):"text-field"===s&&r&&!r.glyphs&&u.push(new o(e,a,'use of "text-field" requires a style "glyphs" property'))),u.concat(n({key:t.key,value:a,valueSpec:t.valueSpec||l[s],style:r,styleSpec:i}))}return[new o(e,a,'unknown property "%s"',s)]}},{"../error/validation_error":284,"./validate":288}],299:[function(t,e,r){"use strict";var n=t("../util/get_type"),o=t("../error/validation_error");e.exports=function(t){var e=t.key,r=t.value,i=t.valueSpec,a=n(r);return"number"!==a?[new o(e,r,"number expected, %s found",a)]:"minimum"in i&&r<i.minimum?[new o(e,r,"%s is less than the minimum value %s",r,i.minimum)]:"maximum"in i&&r>i.maximum?[new o(e,r,"%s is greater than the maximum value %s",r,i.maximum)]:[]}},{"../error/validation_error":284,"../util/get_type":286}],300:[function(t,e,r){"use strict";var n=t("../error/validation_error"),o=t("../util/get_type"),i=t("./validate");e.exports=function(t){var e=t.key,r=t.value,a=t.valueSpec,s=t.objectElementValidators||{},l=t.style,u=t.styleSpec,c=[],p=o(r);if("object"!==p)return[new n(e,r,"object expected, %s found",p)];for(var f in r){var h=f.split(".")[0],d=a&&(a[h]||a["*"]),y=s[h]||s["*"];d||y?c=c.concat((y||i)({key:(e?e+".":e)+f,value:r[f],valueSpec:d,style:l,styleSpec:u,object:r,objectKey:f})):""!==e&&1!==e.split(".").length&&c.push(new n(e,r[f],'unknown property "%s"',f))}for(h in a)a[h].required&&void 0===a[h].default&&void 0===r[h]&&c.push(new n(e,r,'missing required property "%s"',h));return c}},{"../error/validation_error":284,"../util/get_type":286,"./validate":288}],301:[function(t,e,r){"use strict";var n=t("./validate"),o=t("../error/validation_error");e.exports=function(t){var e=t.key,r=t.style,i=t.styleSpec,a=t.value,s=t.objectKey,l=i["paint_"+t.layerType],u=s.match(/^(.*)-transition$/);return u&&l[u[1]]&&l[u[1]].transition?n({key:e,value:a,valueSpec:i.transition,style:r,styleSpec:i}):t.valueSpec||l[s]?n({key:t.key,value:a,valueSpec:t.valueSpec||l[s],style:r,styleSpec:i}):[new o(e,a,'unknown property "%s"',s)]}},{"../error/validation_error":284,"./validate":288}],302:[function(t,e,r){"use strict";var n=t("../error/validation_error"),o=t("../util/unbundle_jsonlint"),i=t("./validate_object"),a=t("./validate_enum");e.exports=function(t){var e=t.value,r=t.key,s=t.styleSpec,l=t.style;if(!e.type)return[new n(r,e,'"type" is required')];var u=o(e.type);switch(u){case"vector":case"raster":var c=[];if(c=c.concat(i({key:r,value:e,valueSpec:s.source_tile,style:t.style,styleSpec:s})),"url"in e)for(var p in e)["type","url","tileSize"].indexOf(p)<0&&c.push(new n(r+"."+p,e[p],'a source with a "url" property may not include a "%s" property',p));return c;case"geojson":return i({key:r,value:e,valueSpec:s.source_geojson,style:l,styleSpec:s});case"video":return i({key:r,value:e,valueSpec:s.source_video,style:l,styleSpec:s});case"image":return i({key:r,value:e,valueSpec:s.source_image,style:l,styleSpec:s});default:return a({key:r+".type",value:e.type,valueSpec:{values:["vector","raster","geojson","video","image"]},style:l,styleSpec:s})}}},{"../error/validation_error":284,"../util/unbundle_jsonlint":287,"./validate_enum":293,"./validate_object":300}],303:[function(t,e,r){"use strict";var n=t("../util/get_type"),o=t("../error/validation_error");e.exports=function(t){var e=t.value,r=t.key,i=n(e);return"string"!==i?[new o(r,e,"string expected, %s found",i)]:[]}},{"../error/validation_error":284,"../util/get_type":286}],304:[function(t,e,r){"use strict";function n(t,e){e=e||l;var r=[];return r=r.concat(s({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:u}})),e.$version>7&&t.constants&&(r=r.concat(a({key:"constants",value:t.constants,style:t,styleSpec:e}))),o(r)}function o(t){return[].concat(t).sort(function(t,e){return t.line-e.line})}function i(t){return function(){return o(t.apply(this,arguments))}}var a=t("./validate/validate_constants"),s=t("./validate/validate"),l=t("../reference/latest.min"),u=t("./validate/validate_glyphs_url");n.source=i(t("./validate/validate_source")),n.layer=i(t("./validate/validate_layer")),n.filter=i(t("./validate/validate_filter")),n.paintProperty=i(t("./validate/validate_paint_property")),n.layoutProperty=i(t("./validate/validate_layout_property")),e.exports=n},{"../reference/latest.min":305,"./validate/validate":288,"./validate/validate_constants":292,"./validate/validate_filter":294,"./validate/validate_glyphs_url":296,"./validate/validate_layer":297,"./validate/validate_layout_property":298,"./validate/validate_paint_property":301,"./validate/validate_source":302}],305:[function(t,e,r){e.exports=t("./v8.min.json")},{"./v8.min.json":306}],306:[function(t,e,r){e.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_tile","source_geojson","source_video","source_image"],source_tile:{type:{required:!0,type:"enum",values:["vector","raster"]},url:{type:"string"},tiles:{type:"array",value:"string"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:["geojson"]},data:{type:"*"},maxzoom:{type:"number",default:14},buffer:{type:"number",default:64},tolerance:{type:"number",default:3},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:400},clusterMaxZoom:{type:"number"}},source_video:{type:{required:!0,type:"enum",values:["video"]},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:["image"]},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:["fill","line","symbol","circle","raster","background"]},metadata:{type:"*"},ref:{type:"string"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:22},maxzoom:{type:"number",minimum:0,maximum:22},interactive:{type:"boolean",default:!1},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"},"paint.*":{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_symbol","layout_raster","layout_background"],layout_background:{visibility:{type:"enum",function:"piecewise-constant","zoom-function":!0,values:["visible","none"],default:"visible"}},layout_fill:{visibility:{type:"enum",function:"piecewise-constant","zoom-function":!0,values:["visible","none"],default:"visible"}},layout_circle:{visibility:{type:"enum",function:"piecewise-constant","zoom-function":!0,values:["visible","none"],default:"visible"}},layout_line:{"line-cap":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["butt","round","square"],default:"butt"},"line-join":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["bevel","round","miter"],default:"miter"},"line-miter-limit":{type:"number",default:2,function:"interpolated","zoom-function":!0,"property-function":!0,requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number",default:1.05,function:"interpolated","zoom-function":!0,"property-function":!0,requires:[{"line-join":"round"}]},visibility:{type:"enum",function:"piecewise-constant","zoom-function":!0,values:["visible","none"],default:"visible"}},layout_symbol:{"symbol-placement":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["point","line"],default:"point"},"symbol-spacing":{type:"number",default:250,minimum:1,function:"interpolated","zoom-function":!0,"property-function":!0,units:"pixels",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:!1},"icon-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:!1,requires:["icon-image"]},"icon-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:!1,requires:["icon-image"]},"icon-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:!1,requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],default:"viewport",requires:["icon-image"]},"icon-size":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image"]},"icon-text-fit":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!1,values:["none","both","width","height"],default:"none",requires:["icon-image","text-field"]},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image","icon-text-fit","text-field"]},"icon-image":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,tokens:!0},"icon-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,"property-function":!0,units:"degrees",requires:["icon-image"]},"icon-padding":{type:"number",default:2,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,units:"pixels",requires:["icon-image"]},"icon-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image"]},"text-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],requires:["text-field"]},"text-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],default:"viewport",requires:["text-field"]},"text-field":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:"",tokens:!0},"text-font":{type:"array",value:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"]},"text-size":{type:"number",default:16,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-max-width":{type:"number",default:10,minimum:0,units:"em",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-line-height":{type:"number",default:1.2,units:"em",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-letter-spacing":{type:"number",default:0,units:"em",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-justify":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["left","center","right"],default:"center",requires:["text-field"]},"text-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:"center",requires:["text-field"]},"text-max-angle":{type:"number",default:45,units:"degrees",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number",default:0,period:360,units:"degrees",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["none","uppercase","lowercase"],default:"none",requires:["text-field"]},"text-offset":{type:"array",value:"number",units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,length:2,default:[0,0],
requires:["text-field"]},"text-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:!1,requires:["text-field"]},"text-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:!1,requires:["text-field"]},"text-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:!1,requires:["text-field","icon-image"]},visibility:{type:"enum",function:"piecewise-constant","zoom-function":!0,values:["visible","none"],default:"visible"}},layout_raster:{visibility:{type:"enum",function:"piecewise-constant","zoom-function":!0,values:["visible","none"],default:"visible"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:["==","!=",">",">=","<","<=","in","!in","all","any","none","has","!has"]},geometry_type:{type:"enum",values:["Point","LineString","Polygon"]},color_operation:{type:"enum",values:["lighten","saturate","spin","fade","mix"]},function:{stops:{type:"array",required:!0,value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:["exponential","interval","categorical"],default:"exponential"}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},paint:["paint_fill","paint_line","paint_circle","paint_symbol","paint_raster","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:!0},"fill-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"fill-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"fill-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],default:"map",requires:["fill-translate"]},"fill-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,transition:!0}},paint_line:{"line-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"line-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],default:"map",requires:["line-translate"]},"line-width":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-gap-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-offset":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-dasharray":{type:"array",value:"number",function:"piecewise-constant","zoom-function":!0,"property-function":!0,minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,transition:!0}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-blur":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],default:"map",requires:["circle-translate"]},"circle-pitch-scale":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],default:"map"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],default:"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],default:"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-hue-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,transition:!0,units:"degrees"},"raster-brightness-min":{type:"number",function:"interpolated","zoom-function":!0,default:0,minimum:0,maximum:1,transition:!0},"raster-brightness-max":{type:"number",function:"interpolated","zoom-function":!0,default:1,minimum:0,maximum:1,transition:!0},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-fade-duration":{type:"number",default:300,minimum:0,function:"interpolated","zoom-function":!0,transition:!0,units:"milliseconds"}},paint_background:{"background-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}}}},{}],307:[function(t,e,r){"use strict";function n(t){return!!(o()&&i()&&a()&&s()&&l()&&u()&&c()&&p(t&&t.failIfMajorPerformanceCaveat))}function o(){return"undefined"!=typeof window&&"undefined"!=typeof document}function i(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function a(){return Function.prototype&&Function.prototype.bind}function s(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function l(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function u(){return"Worker"in window}function c(){return"Uint8ClampedArray"in window}function p(t){return void 0===h[t]&&(h[t]=f(t)),h[t]}function f(t){var e=document.createElement("canvas"),r=Object.create(n.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=t,e.probablySupportsContext?e.probablySupportsContext("webgl",r)||e.probablySupportsContext("experimental-webgl",r):e.supportsContext?e.supportsContext("webgl",r)||e.supportsContext("experimental-webgl",r):e.getContext("webgl",r)||e.getContext("experimental-webgl",r)}"undefined"!=typeof e&&e.exports?e.exports=n:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=n);var h={};n.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}},{}],308:[function(t,e,r){"use strict";function n(t){var e=t.layoutVertexArrayType;this.layoutVertexArray=new e;var r=t.elementArrayType;r&&(this.elementArray=new r);var n=t.elementArrayType2;n&&(this.elementArray2=new n),this.paintVertexArrays=o.mapObject(t.paintVertexArrayTypes,function(t){return new t})}var o=t("../util/util");e.exports=n,n.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,n.prototype.hasCapacityFor=function(t){return this.layoutVertexArray.length+t<=n.MAX_VERTEX_ARRAY_LENGTH},n.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},n.prototype.trim=function(){this.layoutVertexArray.trim(),this.elementArray&&this.elementArray.trim(),this.elementArray2&&this.elementArray2.trim();for(var t in this.paintVertexArrays)this.paintVertexArrays[t].trim()},n.prototype.serialize=function(){return{layoutVertexArray:this.layoutVertexArray.serialize(),elementArray:this.elementArray&&this.elementArray.serialize(),elementArray2:this.elementArray2&&this.elementArray2.serialize(),paintVertexArrays:o.mapObject(this.paintVertexArrays,function(t){return t.serialize()})}},n.prototype.getTransferables=function(t){t.push(this.layoutVertexArray.arrayBuffer),this.elementArray&&t.push(this.elementArray.arrayBuffer),this.elementArray2&&t.push(this.elementArray2.arrayBuffer);for(var e in this.paintVertexArrays)t.push(this.paintVertexArrays[e].arrayBuffer)}},{"../util/util":422}],309:[function(t,e,r){"use strict";function n(t){if(this.zoom=t.zoom,this.overscaling=t.overscaling,this.layer=t.layer,this.childLayers=t.childLayers,this.type=this.layer.type,this.features=[],this.id=this.layer.id,this.index=t.index,this.sourceLayer=this.layer.sourceLayer,this.sourceLayerIndex=t.sourceLayerIndex,this.minZoom=this.layer.minzoom,this.maxZoom=this.layer.maxzoom,this.paintAttributes=o(this),t.arrays){var e=this.programInterfaces;this.bufferGroups=c.mapObject(t.arrays,function(r,n){var o=e[n],i=t.paintVertexArrayTypes[n];return r.map(function(t){return new u(t,{layoutVertexArrayType:o.layoutVertexArrayType.serialize(),elementArrayType:o.elementArrayType&&o.elementArrayType.serialize(),elementArrayType2:o.elementArrayType2&&o.elementArrayType2.serialize(),paintVertexArrayTypes:i})})})}}function o(t){var e={};for(var r in t.programInterfaces){for(var n=e[r]={},o=0;o<t.childLayers.length;o++){var s=t.childLayers[o];n[s.id]={attributes:[],uniforms:[],defines:[],vertexPragmas:{define:{},initialize:{}},fragmentPragmas:{define:{},initialize:{}}}}var l=t.programInterfaces[r];if(l.paintAttributes)for(var u="{precision}",p="{type}",h=0;h<l.paintAttributes.length;h++){var d=l.paintAttributes[h];d.multiplier=d.multiplier||1;for(var y=0;y<t.childLayers.length;y++){var m=t.childLayers[y],v=n[m.id],g=d.name;f("a_"===d.name.slice(0,2));var b,x=d.name.slice(2);if(v.fragmentPragmas.initialize[x]="",m.isPaintValueFeatureConstant(d.paintProperty))v.uniforms.push(d),v.fragmentPragmas.define[x]=v.vertexPragmas.define[x]=["uniform",u,p,g].join(" ")+";",v.fragmentPragmas.initialize[x]=v.vertexPragmas.initialize[x]=[u,p,x,"=",g].join(" ")+";\n";else if(m.isPaintValueZoomConstant(d.paintProperty)){v.attributes.push(c.extend({},d,{name:g})),b=["varying",u,p,x].join(" ")+";\n";var _=[v.fragmentPragmas.define[x],"attribute",u,p,g].join(" ")+";\n";v.fragmentPragmas.define[x]=b,v.vertexPragmas.define[x]=b+_,v.vertexPragmas.initialize[x]=[x,"=",g,"/",d.multiplier.toFixed(1)].join(" ")+";\n"}else{for(var w="u_"+g.slice(2)+"_t",T=m.getPaintValueStopZoomLevels(d.paintProperty),M=0;M<T.length&&T[M]<t.zoom;)M++;for(var S=Math.max(0,Math.min(T.length-4,M-2)),E=[],k=0;k<4;k++)E.push(T[Math.min(S+k,T.length-1)]);b=["varying",u,p,x].join(" ")+";\n",v.vertexPragmas.define[x]=b+["uniform","lowp","float",w].join(" ")+";\n",v.fragmentPragmas.define[x]=b,v.uniforms.push(c.extend({},d,{name:w,getValue:a(d,S),components:1}));var C=d.components;if(1===C)v.attributes.push(c.extend({},d,{getValue:i(d,E),isFunction:!0,components:4*C})),v.vertexPragmas.define[x]+=["attribute",u,"vec4",g].join(" ")+";\n",v.vertexPragmas.initialize[x]=[x,"=","evaluate_zoom_function_1("+g+", "+w+")","/",d.multiplier.toFixed(1)].join(" ")+";\n";else{for(var A=[],P=0;P<4;P++)A.push(g+P),v.attributes.push(c.extend({},d,{getValue:i(d,[E[P]]),isFunction:!0,name:g+P})),v.vertexPragmas.define[x]+=["attribute",u,p,g+P].join(" ")+";\n";v.vertexPragmas.initialize[x]=[x," = ","evaluate_zoom_function_4("+A.join(", ")+", "+w+")","/",d.multiplier.toFixed(1)].join(" ")+";\n"}}}}}return e}function i(t,e){return function(r,n,o){if(1===e.length)return t.getValue(r,c.extend({},n,{zoom:e[0]}),o);for(var i=[],a=0;a<e.length;a++){var s=e[a];i.push(t.getValue(r,c.extend({},n,{zoom:s}),o)[0])}return i}}function a(t,e){return function(r,n){var o=r.getPaintInterpolationT(t.paintProperty,n.zoom);return[Math.max(0,Math.min(4,o-e))]}}var s=t("feature-filter"),l=t("./array_group"),u=t("./buffer_group"),c=t("../util/util"),p=t("../util/struct_array"),f=t("assert");e.exports=n,n.create=function(e){var r={fill:t("./bucket/fill_bucket"),line:t("./bucket/line_bucket"),circle:t("./bucket/circle_bucket"),symbol:t("./bucket/symbol_bucket")};return new r[e.layer.type](e)},n.EXTENT=8192,n.prototype.populateArrays=function(){this.createArrays(),this.recalculateStyleLayers();for(var t=0;t<this.features.length;t++)this.addFeature(this.features[t]);this.trimArrays()},n.prototype.prepareArrayGroup=function(t,e){var r=this.arrayGroups[t],n=r.length&&r[r.length-1];return n&&n.hasCapacityFor(e)||(n=new l({layoutVertexArrayType:this.programInterfaces[t].layoutVertexArrayType,elementArrayType:this.programInterfaces[t].elementArrayType,elementArrayType2:this.programInterfaces[t].elementArrayType2,paintVertexArrayTypes:this.paintVertexArrayTypes[t]}),n.index=r.length,r.push(n)),n},n.prototype.createArrays=function(){this.arrayGroups={},this.paintVertexArrayTypes={};for(var t in this.programInterfaces){this.arrayGroups[t]=[];var e=this.paintVertexArrayTypes[t]={},r=this.paintAttributes[t];for(var o in r)e[o]=new n.VertexArrayType(r[o].attributes)}},n.prototype.destroy=function(t){for(var e in this.bufferGroups)for(var r=this.bufferGroups[e],n=0;n<r.length;n++)r[n].destroy(t)},n.prototype.trimArrays=function(){for(var t in this.arrayGroups)for(var e=this.arrayGroups[t],r=0;r<e.length;r++)e[r].trim()},n.prototype.isEmpty=function(){for(var t in this.arrayGroups)for(var e=this.arrayGroups[t],r=0;r<e.length;r++)if(!e[r].isEmpty())return!1;return!0},n.prototype.getTransferables=function(t){for(var e in this.arrayGroups)for(var r=this.arrayGroups[e],n=0;n<r.length;n++)r[n].getTransferables(t)},n.prototype.setUniforms=function(t,e,r,n,o){for(var i=this.paintAttributes[e][n.id].uniforms,a=0;a<i.length;a++){var s=i[a],l=r[s.name];t["uniform"+s.components+"fv"](l,s.getValue(n,o))}},n.prototype.serialize=function(){return{layerId:this.layer.id,zoom:this.zoom,arrays:c.mapObject(this.arrayGroups,function(t){return t.map(function(t){return t.serialize()})}),paintVertexArrayTypes:c.mapObject(this.paintVertexArrayTypes,function(t){return c.mapObject(t,function(t){return t.serialize()})}),childLayerIds:this.childLayers.map(function(t){return t.id})}},n.prototype.createFilter=function(){this.filter||(this.filter=s(this.layer.filter))};var h={lastIntegerZoom:1/0,lastIntegerZoomTime:0,lastZoom:0};n.prototype.recalculateStyleLayers=function(){for(var t=0;t<this.childLayers.length;t++)this.childLayers[t].recalculate(this.zoom,h)},n.prototype.populatePaintArrays=function(t,e,r,n,o){for(var i=0;i<this.childLayers.length;i++)for(var a=this.childLayers[i],s=this.arrayGroups[t],l=n.index;l<s.length;l++){var u=s[l],c=u.layoutVertexArray.length,p=u.paintVertexArrays[a.id];p.resize(c);for(var f=this.paintAttributes[t][a.id].attributes,h=0;h<f.length;h++)for(var d=f[h],y=d.getValue(a,e,r),m=d.multiplier||1,v=d.components||1,g=l===n.index?o:0,b=g;b<c;b++)for(var x=p.get(b),_=0;_<v;_++){var w=v>1?d.name+_:d.name;x[w]=y[_]*m}}},n.VertexArrayType=function(t){return new p({members:t,alignment:4})},n.ElementArrayType=function(t){return new p({members:[{type:"Uint16",name:"vertices",components:t||3}]})}},{"../util/struct_array":420,"../util/util":422,"./array_group":308,"./bucket/circle_bucket":310,"./bucket/fill_bucket":311,"./bucket/line_bucket":312,"./bucket/symbol_bucket":313,"./buffer_group":315,assert:37,"feature-filter":114}],310:[function(t,e,r){"use strict";function n(){o.apply(this,arguments)}var o=t("../bucket"),i=t("../../util/util"),a=t("../load_geometry"),s=o.EXTENT;e.exports=n,n.prototype=i.inherit(o,{}),n.prototype.addCircleVertex=function(t,e,r,n,o){return t.emplaceBack(2*e+(n+1)/2,2*r+(o+1)/2)},n.prototype.programInterfaces={circle:{layoutVertexArrayType:new o.VertexArrayType([{name:"a_pos",components:2,type:"Int16"}]),elementArrayType:new o.ElementArrayType,paintAttributes:[{name:"a_color",components:4,type:"Uint8",getValue:function(t,e,r){return t.getPaintValue("circle-color",e,r)},multiplier:255,paintProperty:"circle-color"},{name:"a_radius",components:1,type:"Uint16",isLayerConstant:!1,getValue:function(t,e,r){return[t.getPaintValue("circle-radius",e,r)]},multiplier:10,paintProperty:"circle-radius"},{name:"a_blur",components:1,type:"Uint16",isLayerConstant:!1,getValue:function(t,e,r){return[t.getPaintValue("circle-blur",e,r)]},multiplier:10,paintProperty:"circle-blur"},{name:"a_opacity",components:1,type:"Uint16",isLayerConstant:!1,getValue:function(t,e,r){return[t.getPaintValue("circle-opacity",e,r)]},multiplier:255,paintProperty:"circle-opacity"}]}},n.prototype.addFeature=function(t){for(var e={zoom:this.zoom},r=a(t),n=this.prepareArrayGroup("circle",0),o=n.layoutVertexArray.length,i=0;i<r.length;i++)for(var l=0;l<r[i].length;l++){var u=r[i][l].x,c=r[i][l].y;if(!(u<0||u>=s||c<0||c>=s)){var p=this.prepareArrayGroup("circle",4),f=p.layoutVertexArray,h=this.addCircleVertex(f,u,c,-1,-1);this.addCircleVertex(f,u,c,1,-1),this.addCircleVertex(f,u,c,1,1),this.addCircleVertex(f,u,c,-1,1),p.elementArray.emplaceBack(h,h+1,h+2),p.elementArray.emplaceBack(h,h+3,h+2)}}this.populatePaintArrays("circle",e,t.properties,n,o)}},{"../../util/util":422,"../bucket":309,"../load_geometry":317}],311:[function(t,e,r){"use strict";function n(){o.apply(this,arguments)}var o=t("../bucket"),i=t("../../util/util"),a=t("../load_geometry"),s=t("earcut"),l=t("../../util/classify_rings"),u=500;e.exports=n,n.prototype=i.inherit(o,{}),n.prototype.programInterfaces={fill:{layoutVertexArrayType:new o.VertexArrayType([{name:"a_pos",components:2,type:"Int16"}]),elementArrayType:new o.ElementArrayType(1),elementArrayType2:new o.ElementArrayType(2),paintAttributes:[{name:"a_color",components:4,type:"Uint8",getValue:function(t,e,r){return t.getPaintValue("fill-color",e,r)},multiplier:255,paintProperty:"fill-color"},{name:"a_outline_color",components:4,type:"Uint8",getValue:function(t,e,r){return t.getPaintValue("fill-outline-color",e,r)},multiplier:255,paintProperty:"fill-outline-color"},{name:"a_opacity",components:1,type:"Uint8",getValue:function(t,e,r){return[t.getPaintValue("fill-opacity",e,r)]},multiplier:255,paintProperty:"fill-opacity"}]}},n.prototype.addFeature=function(t){for(var e=a(t),r=l(e,u),n=this.prepareArrayGroup("fill",0),o=n.layoutVertexArray.length,i=0;i<r.length;i++)this.addPolygon(r[i]);this.populatePaintArrays("fill",{zoom:this.zoom},t.properties,n,o)},n.prototype.addPolygon=function(t){for(var e=0,r=0;r<t.length;r++)e+=t[r].length;for(var n=this.prepareArrayGroup("fill",e),o=[],i=[],a=n.layoutVertexArray.length,l=0;l<t.length;l++){var u=t[l];l>0&&i.push(o.length/2);for(var c=0;c<u.length;c++){var p=u[c],f=n.layoutVertexArray.emplaceBack(p.x,p.y);c>=1&&n.elementArray2.emplaceBack(f-1,f),o.push(p.x),o.push(p.y)}}for(var h=s(o,i),d=0;d<h.length;d++)n.elementArray.emplaceBack(h[d]+a)}},{"../../util/classify_rings":410,"../../util/util":422,"../bucket":309,"../load_geometry":317,earcut:108}],312:[function(t,e,r){"use strict";function n(){o.apply(this,arguments)}var o=t("../bucket"),i=t("../../util/util"),a=t("../load_geometry"),s=o.EXTENT,l=63,u=Math.cos(37.5*(Math.PI/180)),c=15,p=15,f=.5,h=Math.pow(2,p-1)/f;e.exports=n,n.prototype=i.inherit(o,{}),n.prototype.addLineVertex=function(t,e,r,n,o,i,a){return t.emplaceBack(e.x<<1|n,e.y<<1|o,Math.round(l*r.x)+128,Math.round(l*r.y)+128,(0===i?0:i<0?-1:1)+1|(a*f&63)<<2,a*f>>6)},n.prototype.programInterfaces={line:{layoutVertexArrayType:new o.VertexArrayType([{name:"a_pos",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}]),elementArrayType:new o.ElementArrayType}},n.prototype.addFeature=function(t){for(var e=a(t,p),r=0;r<e.length;r++)this.addLine(e[r],this.layer.layout["line-join"],this.layer.layout["line-cap"],this.layer.layout["line-miter-limit"],this.layer.layout["line-round-limit"])},n.prototype.addLine=function(t,e,r,n,o){for(var i=t.length;i>2&&t[i-1].equals(t[i-2]);)i--;if(!(t.length<2)){"bevel"===e&&(n=1.05);var a=c*(s/(512*this.overscaling)),l=t[0],p=t[i-1],f=l.equals(p);if(this.prepareArrayGroup("line",10*i),2!==i||!f){this.distance=0;var h,d,y,m,v,g,b,x=r,_=f?"butt":r,w=!0;this.e1=this.e2=this.e3=-1,f&&(h=t[i-2],v=l.sub(h)._unit()._perp());for(var T=0;T<i;T++)if(y=f&&T===i-1?t[1]:t[T+1],!y||!t[T].equals(y)){v&&(m=v),h&&(d=h),h=t[T],v=y?y.sub(h)._unit()._perp():m,m=m||v;var M=m.add(v)._unit(),S=M.x*v.x+M.y*v.y,E=1/S,k=S<u&&d&&y;if(k&&T>0){var C=h.dist(d);if(C>2*a){var A=h.sub(h.sub(d)._mult(a/C)._round());this.distance+=A.dist(d),this.addCurrentVertex(A,this.distance,m.mult(1),0,0,!1),d=A}}var P=d&&y,L=P?e:y?x:_;if(P&&"round"===L&&(E<o?L="miter":E<=2&&(L="fakeround")),"miter"===L&&E>n&&(L="bevel"),"bevel"===L&&(E>2&&(L="flipbevel"),E<n&&(L="miter")),d&&(this.distance+=h.dist(d)),"miter"===L)M._mult(E),this.addCurrentVertex(h,this.distance,M,0,0,!1);else if("flipbevel"===L){if(E>100)M=v.clone();else{var D=m.x*v.y-m.y*v.x>0?-1:1,O=E*m.add(v).mag()/m.sub(v).mag();M._perp()._mult(O*D)}this.addCurrentVertex(h,this.distance,M,0,0,!1),this.addCurrentVertex(h,this.distance,M.mult(-1),0,0,!1)}else if("bevel"===L||"fakeround"===L){var I=m.x*v.y-m.y*v.x>0,R=-Math.sqrt(E*E-1);if(I?(b=0,g=R):(g=0,b=R),w||this.addCurrentVertex(h,this.distance,m,g,b,!1),"fakeround"===L){for(var N,j=Math.floor(8*(.5-(S-.5))),F=0;F<j;F++)N=v.mult((F+1)/(j+1))._add(m)._unit(),this.addPieSliceVertex(h,this.distance,N,I);this.addPieSliceVertex(h,this.distance,M,I);for(var z=j-1;z>=0;z--)N=m.mult((z+1)/(j+1))._add(v)._unit(),this.addPieSliceVertex(h,this.distance,N,I)}y&&this.addCurrentVertex(h,this.distance,v,-g,-b,!1)}else"butt"===L?(w||this.addCurrentVertex(h,this.distance,m,0,0,!1),y&&this.addCurrentVertex(h,this.distance,v,0,0,!1)):"square"===L?(w||(this.addCurrentVertex(h,this.distance,m,1,1,!1),this.e1=this.e2=-1),y&&this.addCurrentVertex(h,this.distance,v,-1,-1,!1)):"round"===L&&(w||(this.addCurrentVertex(h,this.distance,m,0,0,!1),this.addCurrentVertex(h,this.distance,m,1,1,!0),this.e1=this.e2=-1),y&&(this.addCurrentVertex(h,this.distance,v,-1,-1,!0),this.addCurrentVertex(h,this.distance,v,0,0,!1)));if(k&&T<i-1){var B=h.dist(y);if(B>2*a){var U=h.add(y.sub(h)._mult(a/B)._round());this.distance+=U.dist(h),this.addCurrentVertex(U,this.distance,v.mult(1),0,0,!1),h=U}}w=!1}}}},n.prototype.addCurrentVertex=function(t,e,r,n,o,i){var a,s=i?1:0,l=this.arrayGroups.line[this.arrayGroups.line.length-1],u=l.layoutVertexArray,c=l.elementArray;a=r.clone(),n&&a._sub(r.perp()._mult(n)),this.e3=this.addLineVertex(u,t,a,s,0,n,e),this.e1>=0&&this.e2>=0&&c.emplaceBack(this.e1,this.e2,this.e3),this.e1=this.e2,this.e2=this.e3,a=r.mult(-1),o&&a._sub(r.perp()._mult(o)),this.e3=this.addLineVertex(u,t,a,s,1,-o,e),this.e1>=0&&this.e2>=0&&c.emplaceBack(this.e1,this.e2,this.e3),this.e1=this.e2,this.e2=this.e3,e>h/2&&(this.distance=0,this.addCurrentVertex(t,this.distance,r,n,o,i))},n.prototype.addPieSliceVertex=function(t,e,r,n){var o=n?1:0;r=r.mult(n?-1:1);var i=this.arrayGroups.line[this.arrayGroups.line.length-1],a=i.layoutVertexArray,s=i.elementArray;this.e3=this.addLineVertex(a,t,r,0,o,0,e),this.e1>=0&&this.e2>=0&&s.emplaceBack(this.e1,this.e2,this.e3),n?this.e2=this.e3:this.e1=this.e3}},{"../../util/util":422,"../bucket":309,"../load_geometry":317}],313:[function(t,e,r){"use strict";function n(t){a.apply(this,arguments),this.showCollisionBoxes=t.showCollisionBoxes,this.overscaling=t.overscaling,this.collisionBoxArray=t.collisionBoxArray,this.symbolQuadsArray=t.symbolQuadsArray,this.symbolInstancesArray=t.symbolInstancesArray,this.sdfIcons=t.sdfIcons,this.iconsNeedLinear=t.iconsNeedLinear,this.adjustedTextSize=t.adjustedTextSize,this.adjustedIconSize=t.adjustedIconSize,this.fontstack=t.fontstack}function o(t,e,r,n,o,i,a,s,l,u,c){return t.emplaceBack(e,r,Math.round(64*n),Math.round(64*o),i/4,a/4,10*(u||0),c,10*(s||0),10*Math.min(l||25,25))}var i=t("point-geometry"),a=t("../bucket"),s=t("../../symbol/anchor"),l=t("../../symbol/get_anchors"),u=t("../../util/token"),c=t("../../symbol/quads"),p=t("../../symbol/shaping"),f=t("../../symbol/resolve_text"),h=t("../../symbol/mergelines"),d=t("../../symbol/clip_line"),y=t("../../util/util"),m=t("../load_geometry"),v=t("../../symbol/collision_feature"),g=p.shapeText,b=p.shapeIcon,x=c.getGlyphQuads,_=c.getIconQuads,w=a.EXTENT;e.exports=n,n.MAX_QUADS=65535,n.prototype=y.inherit(a,{}),n.prototype.serialize=function(){var t=a.prototype.serialize.apply(this);return t.sdfIcons=this.sdfIcons,t.iconsNeedLinear=this.iconsNeedLinear,t.adjustedTextSize=this.adjustedTextSize,t.adjustedIconSize=this.adjustedIconSize,t.fontstack=this.fontstack,t};var T=new a.VertexArrayType([{name:"a_pos",components:2,type:"Int16"},{name:"a_offset",components:2,type:"Int16"},{name:"a_texture_pos",components:2,type:"Uint16"},{name:"a_data",components:4,type:"Uint8"}]),M=new a.ElementArrayType;n.prototype.addCollisionBoxVertex=function(t,e,r,n,o){return t.emplaceBack(e.x,e.y,Math.round(r.x),Math.round(r.y),10*n,10*o)},n.prototype.programInterfaces={glyph:{layoutVertexArrayType:T,elementArrayType:M},icon:{layoutVertexArrayType:T,elementArrayType:M},collisionBox:{layoutVertexArrayType:new a.VertexArrayType([{name:"a_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"},{name:"a_data",components:2,type:"Uint8"}])}},n.prototype.populateArrays=function(t,e,r){var n={lastIntegerZoom:1/0,lastIntegerZoomTime:0,lastZoom:0};this.adjustedTextMaxSize=this.layer.getLayoutValue("text-size",{zoom:18,zoomHistory:n}),this.adjustedTextSize=this.layer.getLayoutValue("text-size",{zoom:this.zoom+1,zoomHistory:n}),this.adjustedIconMaxSize=this.layer.getLayoutValue("icon-size",{zoom:18,zoomHistory:n}),this.adjustedIconSize=this.layer.getLayoutValue("icon-size",{zoom:this.zoom+1,zoomHistory:n});var o=512*this.overscaling;this.tilePixelRatio=w/o,this.compareText={},this.iconsNeedLinear=!1,this.symbolInstancesStartIndex=this.symbolInstancesArray.length;var i=this.layer.layout,a=this.features,s=this.textFeatures,l=.5,c=.5;switch(i["text-anchor"]){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(i["text-anchor"]){case"bottom":case"bottom-right":case"bottom-left":c=1;break;case"top":case"top-right":case"top-left":c=0}for(var p="right"===i["text-justify"]?1:"left"===i["text-justify"]?0:.5,f=24,d=i["text-line-height"]*f,v="line"!==i["symbol-placement"]?i["text-max-width"]*f:0,x=i["text-letter-spacing"]*f,_=[i["text-offset"][0]*f,i["text-offset"][1]*f],T=this.fontstack=i["text-font"].join(","),M=[],S=0;S<a.length;S++)M.push(m(a[S]));if("line"===i["symbol-placement"]){var E=h(a,s,M);M=E.geometries,a=E.features,s=E.textFeatures}for(var k,C,A=0;A<a.length;A++)if(M[A]){if(k=s[A]?g(s[A],e[T],v,d,l,c,p,x,_):null,i["icon-image"]){var P=u(a[A].properties,i["icon-image"]),L=r[P];C=b(L,i),L&&(void 0===this.sdfIcons?this.sdfIcons=L.sdf:this.sdfIcons!==L.sdf&&y.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),1!==L.pixelRatio?this.iconsNeedLinear=!0:0===i["icon-rotate"]&&this.layer.isLayoutValueFeatureConstant("icon-rotate")||(this.iconsNeedLinear=!0))}else C=null;(k||C)&&this.addFeature(M[A],k,C,a[A])}this.symbolInstancesEndIndex=this.symbolInstancesArray.length,this.placeFeatures(t,this.showCollisionBoxes),this.trimArrays()},n.prototype.addFeature=function(t,e,r,n){var o=this.layer.layout,i=24,a=this.adjustedTextSize/i,u=void 0!==this.adjustedTextMaxSize?this.adjustedTextMaxSize:this.adjustedTextSize,c=this.tilePixelRatio*a,p=this.tilePixelRatio*u/i,f=this.tilePixelRatio*this.adjustedIconSize,h=this.tilePixelRatio*o["symbol-spacing"],y=o["symbol-avoid-edges"],m=o["text-padding"]*this.tilePixelRatio,v=o["icon-padding"]*this.tilePixelRatio,g=o["text-max-angle"]/180*Math.PI,b="map"===o["text-rotation-alignment"]&&"line"===o["symbol-placement"],x="map"===o["icon-rotation-alignment"]&&"line"===o["symbol-placement"],_=o["text-allow-overlap"]||o["icon-allow-overlap"]||o["text-ignore-placement"]||o["icon-ignore-placement"],T="line"===o["symbol-placement"],M=h/2;T&&(t=d(t,0,0,w,w));for(var S=0;S<t.length;S++){var E,k=t[S];E=T?l(k,h,g,e,r,i,p,this.overscaling,w):[new s(k[0].x,k[0].y,0)];for(var C=0,A=E.length;C<A;C++){var P=E[C];if(!(e&&T&&this.anchorIsTooClose(e.text,M,P))){var L=!(P.x<0||P.x>w||P.y<0||P.y>w);if(!y||L){var D=L||_;this.addSymbolInstance(P,k,e,r,this.layer,D,this.symbolInstancesArray.length,this.collisionBoxArray,n.index,this.sourceLayerIndex,this.index,c,m,b,f,v,x,{zoom:this.zoom},n.properties)}}}}},n.prototype.anchorIsTooClose=function(t,e,r){var n=this.compareText;if(t in n){for(var o=n[t],i=o.length-1;i>=0;i--)if(r.dist(o[i])<e)return!0;
}else n[t]=[];return n[t].push(r),!1},n.prototype.placeFeatures=function(t,e){this.recalculateStyleLayers(),this.createArrays();var r=this.layer.layout,n=t.maxScale,o="map"===r["text-rotation-alignment"]&&"line"===r["symbol-placement"],i="map"===r["icon-rotation-alignment"]&&"line"===r["symbol-placement"],a=r["text-allow-overlap"]||r["icon-allow-overlap"]||r["text-ignore-placement"]||r["icon-ignore-placement"];if(a){var s=this.symbolInstancesArray.toArray(this.symbolInstancesStartIndex,this.symbolInstancesEndIndex),l=t.angle,u=Math.sin(l),c=Math.cos(l);this.sortedSymbolInstances=s.sort(function(t,e){var r=u*t.anchorPointX+c*t.anchorPointY|0,n=u*e.anchorPointX+c*e.anchorPointY|0;return r-n||e.index-t.index})}for(var p=this.symbolInstancesStartIndex;p<this.symbolInstancesEndIndex;p++){var f=this.sortedSymbolInstances?this.sortedSymbolInstances[p-this.symbolInstancesStartIndex]:this.symbolInstancesArray.get(p),h={boxStartIndex:f.textBoxStartIndex,boxEndIndex:f.textBoxEndIndex},d={boxStartIndex:f.iconBoxStartIndex,boxEndIndex:f.iconBoxEndIndex},y=!(f.textBoxStartIndex===f.textBoxEndIndex),m=!(f.iconBoxStartIndex===f.iconBoxEndIndex),v=r["text-optional"]||!y,g=r["icon-optional"]||!m,b=y?t.placeCollisionFeature(h,r["text-allow-overlap"],r["symbol-avoid-edges"]):t.minScale,x=m?t.placeCollisionFeature(d,r["icon-allow-overlap"],r["symbol-avoid-edges"]):t.minScale;v||g?!g&&b?b=Math.max(x,b):!v&&x&&(x=Math.max(x,b)):x=b=Math.max(x,b),y&&(t.insertCollisionFeature(h,b,r["text-ignore-placement"]),b<=n&&this.addSymbols("glyph",f.glyphQuadStartIndex,f.glyphQuadEndIndex,b,r["text-keep-upright"],o,t.angle)),m&&(t.insertCollisionFeature(d,x,r["icon-ignore-placement"]),x<=n&&this.addSymbols("icon",f.iconQuadStartIndex,f.iconQuadEndIndex,x,r["icon-keep-upright"],i,t.angle))}e&&this.addToDebugBuffers(t)},n.prototype.addSymbols=function(t,e,r,n,i,a,s){for(var l=this.prepareArrayGroup(t,4*(r-e)),u=l.elementArray,c=l.layoutVertexArray,p=this.zoom,f=Math.max(Math.log(n)/Math.LN2+p,0),h=e;h<r;h++){var d=this.symbolQuadsArray.get(h).SymbolQuad,y=(d.anchorAngle+s+Math.PI)%(2*Math.PI);if(!(i&&a&&(y<=Math.PI/2||y>3*Math.PI/2))){var m=d.tl,v=d.tr,g=d.bl,b=d.br,x=d.tex,_=d.anchorPoint,w=Math.max(p+Math.log(d.minScale)/Math.LN2,f),T=Math.min(p+Math.log(d.maxScale)/Math.LN2,25);if(!(T<=w)){w===f&&(w=0);var M=Math.round(d.glyphAngle/(2*Math.PI)*256),S=o(c,_.x,_.y,m.x,m.y,x.x,x.y,w,T,f,M);o(c,_.x,_.y,v.x,v.y,x.x+x.w,x.y,w,T,f,M),o(c,_.x,_.y,g.x,g.y,x.x,x.y+x.h,w,T,f,M),o(c,_.x,_.y,b.x,b.y,x.x+x.w,x.y+x.h,w,T,f,M),u.emplaceBack(S,S+1,S+2),u.emplaceBack(S+1,S+2,S+3)}}}},n.prototype.updateIcons=function(t){this.recalculateStyleLayers();var e=this.layer.layout["icon-image"];if(e)for(var r=0;r<this.features.length;r++){var n=u(this.features[r].properties,e);n&&(t[n]=!0)}},n.prototype.updateFont=function(t){this.recalculateStyleLayers();var e=this.layer.layout["text-font"],r=t[e]=t[e]||{};this.textFeatures=f(this.features,this.layer.layout,r)},n.prototype.addToDebugBuffers=function(t){for(var e=this.prepareArrayGroup("collisionBox",0),r=e.layoutVertexArray,n=-t.angle,o=t.yStretch,a=this.symbolInstancesStartIndex;a<this.symbolInstancesEndIndex;a++){var s=this.symbolInstancesArray.get(a);s.textCollisionFeature={boxStartIndex:s.textBoxStartIndex,boxEndIndex:s.textBoxEndIndex},s.iconCollisionFeature={boxStartIndex:s.iconBoxStartIndex,boxEndIndex:s.iconBoxEndIndex};for(var l=0;l<2;l++){var u=s[0===l?"textCollisionFeature":"iconCollisionFeature"];if(u)for(var c=u.boxStartIndex;c<u.boxEndIndex;c++){var p=this.collisionBoxArray.get(c),f=p.anchorPoint,h=new i(p.x1,p.y1*o)._rotate(n),d=new i(p.x2,p.y1*o)._rotate(n),y=new i(p.x1,p.y2*o)._rotate(n),m=new i(p.x2,p.y2*o)._rotate(n),v=Math.max(0,Math.min(25,this.zoom+Math.log(p.maxScale)/Math.LN2)),g=Math.max(0,Math.min(25,this.zoom+Math.log(p.placementScale)/Math.LN2));this.addCollisionBoxVertex(r,f,h,v,g),this.addCollisionBoxVertex(r,f,d,v,g),this.addCollisionBoxVertex(r,f,d,v,g),this.addCollisionBoxVertex(r,f,m,v,g),this.addCollisionBoxVertex(r,f,m,v,g),this.addCollisionBoxVertex(r,f,y,v,g),this.addCollisionBoxVertex(r,f,y,v,g),this.addCollisionBoxVertex(r,f,h,v,g)}}}},n.prototype.addSymbolInstance=function(t,e,r,o,i,a,s,l,u,c,p,f,h,d,m,g,b,w,T){var M,S,E,k,C,A,P,L;if(r&&(P=a?x(t,r,f,e,i,d):[],C=new v(l,e,t,u,c,p,r,f,h,d,!1)),M=this.symbolQuadsArray.length,P&&P.length)for(var D=0;D<P.length;D++)this.addSymbolQuad(P[D]);S=this.symbolQuadsArray.length;var O=C?C.boxStartIndex:this.collisionBoxArray.length,I=C?C.boxEndIndex:this.collisionBoxArray.length;o&&(L=a?_(t,o,m,e,i,b,r,w,T):[],A=new v(l,e,t,u,c,p,o,m,g,b,!0)),E=this.symbolQuadsArray.length,L&&1===L.length&&this.addSymbolQuad(L[0]),k=this.symbolQuadsArray.length;var R=A?A.boxStartIndex:this.collisionBoxArray.length,N=A?A.boxEndIndex:this.collisionBoxArray.length;return k>n.MAX_QUADS&&y.warnOnce("Too many symbols being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),S>n.MAX_QUADS&&y.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),this.symbolInstancesArray.emplaceBack(O,I,R,N,M,S,E,k,t.x,t.y,s)},n.prototype.addSymbolQuad=function(t){return this.symbolQuadsArray.emplaceBack(t.anchorPoint.x,t.anchorPoint.y,t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y,t.tex.h,t.tex.w,t.tex.x,t.tex.y,t.anchorAngle,t.glyphAngle,t.maxScale,t.minScale)}},{"../../symbol/anchor":371,"../../symbol/clip_line":373,"../../symbol/collision_feature":375,"../../symbol/get_anchors":377,"../../symbol/mergelines":380,"../../symbol/quads":381,"../../symbol/resolve_text":382,"../../symbol/shaping":383,"../../util/token":421,"../../util/util":422,"../bucket":309,"../load_geometry":317,"point-geometry":463}],314:[function(t,e,r){"use strict";function n(t,e,r){this.arrayBuffer=t.arrayBuffer,this.length=t.length,this.attributes=e.members,this.itemSize=e.bytesPerElement,this.type=r,this.arrayType=e}e.exports=n,n.prototype.bind=function(t){var e=t[this.type];this.buffer?t.bindBuffer(e,this.buffer):(this.buffer=t.createBuffer(),t.bindBuffer(e,this.buffer),t.bufferData(e,this.arrayBuffer,t.STATIC_DRAW),this.arrayBuffer=null)};var o={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT"};n.prototype.setVertexAttribPointers=function(t,e){for(var r=0;r<this.attributes.length;r++){var n=this.attributes[r],i=e[n.name];void 0!==i&&t.vertexAttribPointer(i,n.components,t[o[n.type]],!1,this.arrayType.bytesPerElement,n.offset)}},n.prototype.destroy=function(t){this.buffer&&t.deleteBuffer(this.buffer)},n.BufferType={VERTEX:"ARRAY_BUFFER",ELEMENT:"ELEMENT_ARRAY_BUFFER"}},{}],315:[function(t,e,r){"use strict";function n(t,e){this.layoutVertexBuffer=new i(t.layoutVertexArray,e.layoutVertexArrayType,i.BufferType.VERTEX),t.elementArray&&(this.elementBuffer=new i(t.elementArray,e.elementArrayType,i.BufferType.ELEMENT));var r,n=this.vaos={};t.elementArray2&&(this.elementBuffer2=new i(t.elementArray2,e.elementArrayType2,i.BufferType.ELEMENT),r=this.secondVaos={}),this.paintVertexBuffers=o.mapObject(t.paintVertexArrays,function(o,s){return n[s]=new a,t.elementArray2&&(r[s]=new a),new i(o,e.paintVertexArrayTypes[s],i.BufferType.VERTEX)})}var o=t("../util/util"),i=t("./buffer"),a=t("../render/vertex_array_object");e.exports=n,n.prototype.destroy=function(t){this.layoutVertexBuffer.destroy(t),this.elementBuffer&&this.elementBuffer.destroy(t),this.elementBuffer2&&this.elementBuffer2.destroy(t);for(var e in this.paintVertexBuffers)this.paintVertexBuffers[e].destroy(t);for(var r in this.vaos)this.vaos[r].destroy(t);for(var n in this.secondVaos)this.secondVaos[n].destroy(t)}},{"../render/vertex_array_object":337,"../util/util":422,"./buffer":314}],316:[function(t,e,r){"use strict";function n(t,e,r){if(t.grid){var n=t,o=e;t=n.coord,e=n.overscaling,this.grid=new d(n.grid),this.featureIndexArray=new M(n.featureIndexArray),this.rawTileData=o,this.bucketLayerIDs=n.bucketLayerIDs}else this.grid=new d(p,16,0),this.featureIndexArray=new M;this.coord=t,this.overscaling=e,this.x=t.x,this.y=t.y,this.z=t.z-Math.log(e)/Math.LN2,this.setCollisionTile(r)}function o(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function i(t,e){return e-t}function a(t){return t["line-gap-width"]>0?t["line-gap-width"]+2*t["line-width"]:t["line-width"]}function s(t,e,r,n,o){if(!e[0]&&!e[1])return t;e=u.convert(e),"viewport"===r&&e._rotate(-n);for(var i=[],a=0;a<t.length;a++){for(var s=t[a],l=[],c=0;c<s.length;c++)l.push(s[c].sub(e._mult(o)));i.push(l)}return i}function l(t,e){for(var r=[],n=new u(0,0),o=0;o<t.length;o++){for(var i=t[o],a=[],s=0;s<i.length;s++){var l=i[s-1],c=i[s],p=i[s+1],f=0===s?n:c.sub(l)._unit()._perp(),h=s===i.length-1?n:p.sub(c)._unit()._perp(),d=f._add(h)._unit(),y=d.x*h.x+d.y*h.y;d._mult(1/y),a.push(d._mult(e)._add(c))}r.push(a)}return r}var u=t("point-geometry"),c=t("./load_geometry"),p=t("./bucket").EXTENT,f=t("feature-filter"),h=t("../util/struct_array"),d=t("grid-index"),y=t("../util/dictionary_coder"),m=t("vector-tile"),v=t("pbf"),g=t("../util/vectortile_to_geojson"),b=t("../util/util").arraysIntersect,x=t("../util/intersection_tests"),_=x.multiPolygonIntersectsBufferedMultiPoint,w=x.multiPolygonIntersectsMultiPolygon,T=x.multiPolygonIntersectsBufferedMultiLine,M=new h({members:[{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]});e.exports=n,n.prototype.insert=function(t,e,r,n){var o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(e,r,n);for(var i=c(t),a=0;a<i.length;a++){for(var s=i[a],l=[1/0,1/0,-(1/0),-(1/0)],u=0;u<s.length;u++){var p=s[u];l[0]=Math.min(l[0],p.x),l[1]=Math.min(l[1],p.y),l[2]=Math.max(l[2],p.x),l[3]=Math.max(l[3],p.y)}this.grid.insert(o,l[0],l[1],l[2],l[3])}},n.prototype.setCollisionTile=function(t){this.collisionTile=t},n.prototype.serialize=function(){var t={coord:this.coord,overscaling:this.overscaling,grid:this.grid.toArrayBuffer(),featureIndexArray:this.featureIndexArray.serialize(),bucketLayerIDs:this.bucketLayerIDs};return{data:t,transferables:[t.grid,t.featureIndexArray.arrayBuffer]}},n.prototype.query=function(t,e){this.vtLayers||(this.vtLayers=new m.VectorTile(new v(new Uint8Array(this.rawTileData))).layers,this.sourceLayerCoder=new y(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]));var r={},n=t.params||{},s=p/t.tileSize/t.scale,l=f(n.filter),c=0;for(var h in e){var d=e[h],g=d.paint,b=0;"line"===d.type?b=a(g)/2+Math.abs(g["line-offset"])+o(g["line-translate"]):"fill"===d.type?b=o(g["fill-translate"]):"circle"===d.type&&(b=g["circle-radius"]+o(g["circle-translate"])),c=Math.max(c,b*s)}for(var x=t.queryGeometry.map(function(t){return t.map(function(t){return new u(t.x,t.y)})}),_=1/0,w=1/0,T=-(1/0),M=-(1/0),S=0;S<x.length;S++)for(var E=x[S],k=0;k<E.length;k++){var C=E[k];_=Math.min(_,C.x),w=Math.min(w,C.y),T=Math.max(T,C.x),M=Math.max(M,C.y)}var A=this.grid.query(_-c,w-c,T+c,M+c);A.sort(i),this.filterMatching(r,A,this.featureIndexArray,x,l,n.layers,e,t.bearing,s);var P=this.collisionTile.queryRenderedSymbols(_,w,T,M,t.scale);return P.sort(),this.filterMatching(r,P,this.collisionTile.collisionBoxArray,x,l,n.layers,e,t.bearing,s),r},n.prototype.filterMatching=function(t,e,r,n,o,i,u,p,f){for(var h,d=0;d<e.length;d++){var y=e[d];if(y!==h){h=y;var m=r.get(y),v=this.bucketLayerIDs[m.bucketIndex];if(!i||b(i,v)){var x=this.sourceLayerCoder.decode(m.sourceLayerIndex),M=this.vtLayers[x],S=M.feature(m.featureIndex);if(o(S))for(var E=null,k=0;k<v.length;k++){var C=v[k];if(!(i&&i.indexOf(C)<0)){var A=u[C];if(A){var P;if("symbol"!==A.type){E||(E=c(S));var L=A.paint;if("line"===A.type){P=s(n,L["line-translate"],L["line-translate-anchor"],p,f);var D=a(L)/2*f;if(L["line-offset"]&&(E=l(E,L["line-offset"]*f)),!T(P,E,D))continue}else if("fill"===A.type){if(P=s(n,L["fill-translate"],L["fill-translate-anchor"],p,f),!w(P,E))continue}else if("circle"===A.type){P=s(n,L["circle-translate"],L["circle-translate-anchor"],p,f);var O=L["circle-radius"]*f;if(!_(P,E,O))continue}}var I=new g(S,this.z,this.x,this.y);I.layer=A.serialize({includeRefProperties:!0});var R=t[C];void 0===R&&(R=t[C]=[]),R.push(I)}}}}}}}},{"../util/dictionary_coder":412,"../util/intersection_tests":417,"../util/struct_array":420,"../util/util":422,"../util/vectortile_to_geojson":423,"./bucket":309,"./load_geometry":317,"feature-filter":114,"grid-index":269,pbf:457,"point-geometry":463,"vector-tile":528}],317:[function(t,e,r){"use strict";function n(t){return{min:-1*Math.pow(2,t-1),max:Math.pow(2,t-1)-1}}var o=t("../util/util"),i=t("./bucket").EXTENT,a=t("assert"),s={15:n(15),16:n(16)};e.exports=function(t,e){var r=s[e||16];a(r);for(var n=i/t.extent,l=t.loadGeometry(),u=0;u<l.length;u++)for(var c=l[u],p=0;p<c.length;p++){var f=c[p];f.x=Math.round(f.x*n),f.y=Math.round(f.y*n),(f.x<r.min||f.x>r.max||f.y<r.min||f.y>r.max)&&o.warnOnce("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return l}},{"../util/util":422,"./bucket":309,assert:37}],318:[function(t,e,r){"use strict";function n(t,e,r){this.column=t,this.row=e,this.zoom=r}e.exports=n,n.prototype={clone:function(){return new n(this.column,this.row,this.zoom)},zoomTo:function(t){return this.clone()._zoomTo(t)},sub:function(t){return this.clone()._sub(t)},_zoomTo:function(t){var e=Math.pow(2,t-this.zoom);return this.column*=e,this.row*=e,this.zoom=t,this},_sub:function(t){return t=t.zoomTo(this.zoom),this.column-=t.column,this.row-=t.row,this}}},{}],319:[function(t,e,r){"use strict";function n(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}e.exports=n;var o=t("../util/util").wrap;n.prototype.wrap=function(){return new n(o(this.lng,-180,180),this.lat)},n.prototype.toArray=function(){return[this.lng,this.lat]},n.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},n.convert=function(t){return t instanceof n?t:Array.isArray(t)?new n(t[0],t[1]):t}},{"../util/util":422}],320:[function(t,e,r){"use strict";function n(t,e){t&&(e?this.extend(t).extend(e):4===t.length?this.extend([t[0],t[1]]).extend([t[2],t[3]]):this.extend(t[0]).extend(t[1]))}e.exports=n;var o=t("./lng_lat");n.prototype={extend:function(t){var e,r,i=this._sw,a=this._ne;if(t instanceof o)e=t,r=t;else{if(!(t instanceof n))return t?this.extend(o.convert(t)||n.convert(t)):this;if(e=t._sw,r=t._ne,!e||!r)return this}return i||a?(i.lng=Math.min(e.lng,i.lng),i.lat=Math.min(e.lat,i.lat),a.lng=Math.max(r.lng,a.lng),a.lat=Math.max(r.lat,a.lat)):(this._sw=new o(e.lng,e.lat),this._ne=new o(r.lng,r.lat)),this},getCenter:function(){return new o((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},getSouthWest:function(){return this._sw},getNorthEast:function(){return this._ne},getNorthWest:function(){return new o(this.getWest(),this.getNorth())},getSouthEast:function(){return new o(this.getEast(),this.getSouth())},getWest:function(){return this._sw.lng},getSouth:function(){return this._sw.lat},getEast:function(){return this._ne.lng},getNorth:function(){return this._ne.lat},toArray:function(){return[this._sw.toArray(),this._ne.toArray()]},toString:function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"}},n.convert=function(t){return!t||t instanceof n?t:new n(t)}},{"./lng_lat":319}],321:[function(t,e,r){"use strict";function n(t,e){this.tileSize=512,this._minZoom=t||0,this._maxZoom=e||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new o(0,0),this.zoom=0,this.angle=0,this._altitude=1.5,this._pitch=0,this._unmodified=!0}var o=t("./lng_lat"),i=t("point-geometry"),a=t("./coordinate"),s=t("../util/util").wrap,l=t("../util/interpolate"),u=t("../source/tile_coord"),c=t("../data/bucket").EXTENT,p=t("gl-matrix"),f=p.vec4,h=p.mat4,d=p.mat2;e.exports=n,n.prototype={get minZoom(){return this._minZoom},set minZoom(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},get maxZoom(){return this._maxZoom},set maxZoom(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},get worldSize(){return this.tileSize*this.scale},get centerPoint(){return this.size._div(2)},get size(){return new i(this.width,this.height)},get bearing(){return-this.angle/Math.PI*180},set bearing(t){var e=-s(t,-180,180)*Math.PI/180;this.angle!==e&&(this._unmodified=!1,this.angle=e,this._calcMatrices(),this.rotationMatrix=d.create(),d.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},get pitch(){return this._pitch/Math.PI*180},set pitch(t){var e=Math.min(60,t)/180*Math.PI;this._pitch!==e&&(this._unmodified=!1,this._pitch=e,this._calcMatrices())},get altitude(){return this._altitude},set altitude(t){var e=Math.max(.75,t);this._altitude!==e&&(this._unmodified=!1,this._altitude=e,this._calcMatrices())},get zoom(){return this._zoom},set zoom(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._calcMatrices(),this._constrain())},get center(){return this._center},set center(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._calcMatrices(),this._constrain())},coveringZoomLevel:function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},coveringTiles:function(t){var e=this.coveringZoomLevel(t),r=e;if(e<t.minzoom)return[];e>t.maxzoom&&(e=t.maxzoom);var n=this,o=n.locationCoordinate(n.center)._zoomTo(e),a=new i(o.column-.5,o.row-.5);return u.cover(e,[n.pointCoordinate(new i(0,0))._zoomTo(e),n.pointCoordinate(new i(n.width,0))._zoomTo(e),n.pointCoordinate(new i(n.width,n.height))._zoomTo(e),n.pointCoordinate(new i(0,n.height))._zoomTo(e)],t.reparseOverscaled?r:e).sort(function(t,e){return a.dist(t)-a.dist(e)})},resize:function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._calcMatrices(),this._constrain()},get unmodified(){return this._unmodified},zoomScale:function(t){return Math.pow(2,t)},scaleZoom:function(t){return Math.log(t)/Math.LN2},project:function(t,e){return new i(this.lngX(t.lng,e),this.latY(t.lat,e))},unproject:function(t,e){return new o(this.xLng(t.x,e),this.yLat(t.y,e))},get x(){return this.lngX(this.center.lng)},get y(){return this.latY(this.center.lat)},get point(){return new i(this.x,this.y)},lngX:function(t,e){return(180+t)*(e||this.worldSize)/360},latY:function(t,e){var r=180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360));return(180-r)*(e||this.worldSize)/360},xLng:function(t,e){return 360*t/(e||this.worldSize)-180},yLat:function(t,e){var r=180-360*t/(e||this.worldSize);return 360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90},panBy:function(t){var e=this.centerPoint._add(t);this.center=this.pointLocation(e)},setLocationAtPoint:function(t,e){var r=this.locationCoordinate(t),n=this.pointCoordinate(e),o=this.pointCoordinate(this.centerPoint),i=n._sub(r);this._unmodified=!1,this.center=this.coordinateLocation(o._sub(i))},locationPoint:function(t){return this.coordinatePoint(this.locationCoordinate(t))},pointLocation:function(t){return this.coordinateLocation(this.pointCoordinate(t))},locationCoordinate:function(t){var e=this.zoomScale(this.tileZoom)/this.worldSize,r=o.convert(t);return new a(this.lngX(r.lng)*e,this.latY(r.lat)*e,this.tileZoom)},coordinateLocation:function(t){var e=this.zoomScale(t.zoom);return new o(this.xLng(t.column,e),this.yLat(t.row,e))},pointCoordinate:function(t){var e=0,r=[t.x,t.y,0,1],n=[t.x,t.y,1,1];f.transformMat4(r,r,this.pixelMatrixInverse),f.transformMat4(n,n,this.pixelMatrixInverse);var o=r[3],i=n[3],s=r[0]/o,u=n[0]/i,c=r[1]/o,p=n[1]/i,h=r[2]/o,d=n[2]/i,y=h===d?0:(e-h)/(d-h),m=this.worldSize/this.zoomScale(this.tileZoom);return new a(l(s,u,y)/m,l(c,p,y)/m,this.tileZoom)},coordinatePoint:function(t){var e=this.worldSize/this.zoomScale(t.zoom),r=[t.column*e,t.row*e,0,1];return f.transformMat4(r,r,this.pixelMatrix),new i(r[0]/r[3],r[1]/r[3])},calculatePosMatrix:function(t,e){void 0===e&&(e=1/0),t instanceof u&&(t=t.toCoordinate(e));var r=Math.min(t.zoom,e),n=this.worldSize/Math.pow(2,r),o=new Float64Array(16);return h.identity(o),h.translate(o,o,[t.column*n,t.row*n,0]),h.scale(o,o,[n/c,n/c,1]),h.multiply(o,this.projMatrix,o),new Float32Array(o)},_constrain:function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,e,r,n,o,a,s,l,u=this.size,c=this._unmodified;this.latRange&&(t=this.latY(this.latRange[1]),e=this.latY(this.latRange[0]),o=e-t<u.y?u.y/(e-t):0),this.lngRange&&(r=this.lngX(this.lngRange[0]),n=this.lngX(this.lngRange[1]),a=n-r<u.x?u.x/(n-r):0);var p=Math.max(a||0,o||0);if(p)return this.center=this.unproject(new i(a?(n+r)/2:this.x,o?(e+t)/2:this.y)),this.zoom+=this.scaleZoom(p),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var f=this.y,h=u.y/2;f-h<t&&(l=t+h),f+h>e&&(l=e-h)}if(this.lngRange){var d=this.x,y=u.x/2;d-y<r&&(s=r+y),d+y>n&&(s=n-y)}void 0===s&&void 0===l||(this.center=this.unproject(new i(void 0!==s?s:this.x,void 0!==l?l:this.y))),this._unmodified=c,this._constraining=!1}},_calcMatrices:function(){if(this.height){var t=Math.atan(.5/this.altitude),e=Math.sin(t)*this.altitude/Math.sin(Math.PI/2-this._pitch-t),r=Math.cos(Math.PI/2-this._pitch)*e+this.altitude,n=new Float64Array(16);if(h.perspective(n,2*Math.atan(this.height/2/this.altitude),this.width/this.height,.1,r),h.translate(n,n,[0,0,-this.altitude]),h.scale(n,n,[1,-1,1/this.height]),h.rotateX(n,n,this._pitch),h.rotateZ(n,n,this.angle),h.translate(n,n,[-this.x,-this.y,0]),this.projMatrix=n,n=h.create(),h.scale(n,n,[this.width/2,-this.height/2,1]),h.translate(n,n,[1,-1,0]),this.pixelMatrix=h.multiply(new Float64Array(16),n,this.projMatrix),n=h.invert(new Float64Array(16),this.pixelMatrix),!n)throw new Error("failed to invert matrix");this.pixelMatrixInverse=n}}}},{"../data/bucket":309,"../source/tile_coord":349,"../util/interpolate":416,"../util/util":422,"./coordinate":318,"./lng_lat":319,"gl-matrix":174,"point-geometry":463}],322:[function(t,e,r){"use strict";var n={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]};e.exports=function(t,e,r,o){o=o||1;var i,a,s,l,u,c,p,f,h=[];for(i=0,a=t.length;i<a;i++)if(u=n[t[i]]){for(f=null,s=0,l=u[1].length;s<l;s+=2)u[1][s]===-1&&u[1][s+1]===-1?f=null:(c=e+u[1][s]*o,p=r-u[1][s+1]*o,f&&h.push(f.x,f.y,c,p),f={x:c,y:p});e+=u[0]*o}return h}},{}],323:[function(t,e,r){"use strict";var n=e.exports={};n.version=t("../package.json").version,n.Map=t("./ui/map"),n.Control=t("./ui/control/control"),n.Navigation=t("./ui/control/navigation"),n.Geolocate=t("./ui/control/geolocate"),n.Attribution=t("./ui/control/attribution"),n.Popup=t("./ui/popup"),n.Marker=t("./ui/marker"),n.Style=t("./style/style"),n.LngLat=t("./geo/lng_lat"),n.LngLatBounds=t("./geo/lng_lat_bounds"),n.Point=t("point-geometry"),n.Evented=t("./util/evented"),n.util=t("./util/util"),n.supported=t("./util/browser").supported;var o=t("./util/ajax");n.util.getJSON=o.getJSON,n.util.getArrayBuffer=o.getArrayBuffer;var i=t("./util/config");n.config=i,Object.defineProperty(n,"accessToken",{get:function(){return i.ACCESS_TOKEN},set:function(t){i.ACCESS_TOKEN=t}})},{"../package.json":424,"./geo/lng_lat":319,"./geo/lng_lat_bounds":320,"./style/style":358,"./ui/control/attribution":389,"./ui/control/control":390,"./ui/control/geolocate":391,"./ui/control/navigation":392,"./ui/map":401,"./ui/marker":402,"./ui/popup":403,"./util/ajax":405,"./util/browser":406,"./util/config":411,"./util/evented":414,"./util/util":422,"point-geometry":463}],324:[function(t,e,r){"use strict";var n=t("assert");e.exports=function(t){for(var e={define:{},initialize:{}},r=0;r<t.length;r++){var o=t[r];n("u_"===o.name.slice(0,2));var i="{precision} "+(1===o.components?"float":"vec"+o.components);e.define[o.name.slice(2)]="uniform "+i+" "+o.name+";\n",e.initialize[o.name.slice(2)]=i+" "+o.name.slice(2)+" = "+o.name+";\n"}return e}},{assert:37}],325:[function(t,e,r){"use strict";function n(t,e,r){var n,s=t.gl,l=t.transform,u=r.paint["background-color"],c=r.paint["background-pattern"],p=r.paint["background-opacity"],f=c?t.spriteAtlas.getPosition(c.from,!0):null,h=c?t.spriteAtlas.getPosition(c.to,!0):null;if(t.setDepthSublayer(0),f&&h){if(t.isOpaquePass)return;n=t.useProgram("pattern"),s.uniform1i(n.u_image,0),s.uniform2fv(n.u_pattern_tl_a,f.tl),s.uniform2fv(n.u_pattern_br_a,f.br),s.uniform2fv(n.u_pattern_tl_b,h.tl),s.uniform2fv(n.u_pattern_br_b,h.br),s.uniform1f(n.u_opacity,p),s.uniform1f(n.u_mix,c.t),s.uniform2fv(n.u_pattern_size_a,f.size),s.uniform2fv(n.u_pattern_size_b,h.size),s.uniform1f(n.u_scale_a,c.fromScale),s.uniform1f(n.u_scale_b,c.toScale),s.activeTexture(s.TEXTURE0),t.spriteAtlas.bind(s,!0),t.tileExtentPatternVAO.bind(s,n,t.tileExtentBuffer)}else{if(t.isOpaquePass!==(1===u[3]))return;var d=i([{name:"u_color",components:4},{name:"u_opacity",components:1}]);n=t.useProgram("fill",[],d,d),s.uniform4fv(n.u_color,u),s.uniform1f(n.u_opacity,p),t.tileExtentVAO.bind(s,n,t.tileExtentBuffer);
}s.disable(s.STENCIL_TEST);for(var y=l.coveringTiles({tileSize:a}),m=0;m<y.length;m++){var v=y[m];if(f&&h){var g={coord:v,tileSize:a};s.uniform1f(n.u_tile_units_to_pixels,1/o(g,1,t.transform.tileZoom));var b=g.tileSize*Math.pow(2,t.transform.tileZoom-g.coord.z),x=b*(g.coord.x+v.w*Math.pow(2,g.coord.z)),_=b*g.coord.y;s.uniform2f(n.u_pixel_coord_upper,x>>16,_>>16),s.uniform2f(n.u_pixel_coord_lower,65535&x,65535&_)}s.uniformMatrix4fv(n.u_matrix,!1,t.transform.calculatePosMatrix(v)),s.drawArrays(s.TRIANGLE_STRIP,0,t.tileExtentBuffer.length)}s.stencilMask(0),s.stencilFunc(s.EQUAL,128,128)}var o=t("../source/pixels_to_tile_units"),i=t("./create_uniform_pragmas"),a=512;e.exports=n},{"../source/pixels_to_tile_units":343,"./create_uniform_pragmas":324}],326:[function(t,e,r){"use strict";function n(t,e,r,n){if(!t.isOpaquePass){var i=t.gl;t.setDepthSublayer(0),t.depthMask(!1),i.disable(i.STENCIL_TEST);for(var a=0;a<n.length;a++){var s=n[a],l=e.getTile(s),u=l.getBucket(r);if(u){var c=u.bufferGroups.circle;if(c){var p=u.paintAttributes.circle[r.id],f=t.useProgram("circle",p.defines,p.vertexPragmas,p.fragmentPragmas);"map"===r.paint["circle-pitch-scale"]?(i.uniform1i(f.u_scale_with_map,!0),i.uniform2f(f.u_extrude_scale,t.transform.pixelsToGLUnits[0]*t.transform.altitude,t.transform.pixelsToGLUnits[1]*t.transform.altitude)):(i.uniform1i(f.u_scale_with_map,!1),i.uniform2fv(f.u_extrude_scale,t.transform.pixelsToGLUnits)),i.uniform1f(f.u_devicepixelratio,o.devicePixelRatio),i.uniformMatrix4fv(f.u_matrix,!1,t.translatePosMatrix(s.posMatrix,l,r.paint["circle-translate"],r.paint["circle-translate-anchor"])),u.setUniforms(i,"circle",f,r,{zoom:t.transform.zoom});for(var h=0;h<c.length;h++){var d=c[h];d.vaos[r.id].bind(i,f,d.layoutVertexBuffer,d.elementBuffer,d.paintVertexBuffers[r.id]),i.drawElements(i.TRIANGLES,3*d.elementBuffer.length,i.UNSIGNED_SHORT,0)}}}}}}var o=t("../util/browser");e.exports=n},{"../util/browser":406}],327:[function(t,e,r){"use strict";function n(t,e,r,n){var o=t.gl;o.enable(o.STENCIL_TEST);for(var i=t.useProgram("collisionbox"),a=0;a<n.length;a++){var s=n[a],l=e.getTile(s),u=l.getBucket(r);if(u){var c=u.bufferGroups.collisionBox;if(c&&c.length){var p=c[0];0!==p.layoutVertexBuffer.length&&(o.uniformMatrix4fv(i.u_matrix,!1,s.posMatrix),t.enableTileClippingMask(s),t.lineWidth(1),o.uniform1f(i.u_scale,Math.pow(2,t.transform.zoom-l.coord.z)),o.uniform1f(i.u_zoom,10*t.transform.zoom),o.uniform1f(i.u_maxzoom,10*(l.coord.z+1)),p.vaos[r.id].bind(o,i,p.layoutVertexBuffer),o.drawArrays(o.LINES,0,p.layoutVertexBuffer.length))}}}}e.exports=n},{}],328:[function(t,e,r){"use strict";function n(t,e,r){if(!t.isOpaquePass&&t.options.debug)for(var n=0;n<r.length;n++)o(t,e,r[n])}function o(t,e,r){var n=t.gl;n.disable(n.STENCIL_TEST),t.lineWidth(1*a.devicePixelRatio);var o=r.posMatrix,p=t.useProgram("debug");n.uniformMatrix4fv(p.u_matrix,!1,o),n.uniform4f(p.u_color,1,0,0,1),t.debugVAO.bind(n,p,t.debugBuffer),n.drawArrays(n.LINE_STRIP,0,t.debugBuffer.length);for(var f=i(r.toString(),50,200,5),h=new t.PosArray,d=0;d<f.length;d+=2)h.emplaceBack(f[d],f[d+1]);var y=new u(h.serialize(),t.PosArray.serialize(),u.BufferType.VERTEX),m=new c;m.bind(n,p,y),n.uniform4f(p.u_color,1,1,1,1);for(var v=e.getTile(r).tileSize,g=l/(Math.pow(2,t.transform.zoom-r.z)*v),b=[[-1,-1],[-1,1],[1,-1],[1,1]],x=0;x<b.length;x++){var _=b[x];n.uniformMatrix4fv(p.u_matrix,!1,s.translate([],o,[g*_[0],g*_[1],0])),n.drawArrays(n.LINES,0,y.length)}n.uniform4f(p.u_color,0,0,0,1),n.uniformMatrix4fv(p.u_matrix,!1,o),n.drawArrays(n.LINES,0,y.length)}var i=t("../lib/debugtext"),a=t("../util/browser"),s=t("gl-matrix").mat4,l=t("../data/bucket").EXTENT,u=t("../data/buffer"),c=t("./vertex_array_object");e.exports=n},{"../data/bucket":309,"../data/buffer":314,"../lib/debugtext":322,"../util/browser":406,"./vertex_array_object":337,"gl-matrix":174}],329:[function(t,e,r){"use strict";function n(t,e,r,n){var a=t.gl;a.enable(a.STENCIL_TEST);var s;if(s=!r.paint["fill-pattern"]&&(r.isPaintValueFeatureConstant("fill-color")&&r.isPaintValueFeatureConstant("fill-opacity")&&1===r.paint["fill-color"][3]&&1===r.paint["fill-opacity"]),t.isOpaquePass===s){t.setDepthSublayer(1);for(var l=0;l<n.length;l++)o(t,e,r,n[l])}if(!t.isOpaquePass&&r.paint["fill-antialias"]){t.lineWidth(2),t.depthMask(!1);var u=r.getPaintProperty("fill-outline-color");(u||!r.paint["fill-pattern"])&&u?t.setDepthSublayer(2):t.setDepthSublayer(0);for(var c=0;c<n.length;c++)i(t,e,r,n[c])}}function o(t,e,r,n){var o=e.getTile(n),i=o.getBucket(r);if(i){var s=i.bufferGroups.fill;if(s){var l,u=t.gl,c=r.paint["fill-pattern"];if(c)l=t.useProgram("pattern"),a(c,r.paint["fill-opacity"],o,n,t,l),u.activeTexture(u.TEXTURE0),t.spriteAtlas.bind(u,!0);else{var p=i.paintAttributes.fill[r.id];l=t.useProgram("fill",p.defines,p.vertexPragmas,p.fragmentPragmas),i.setUniforms(u,"fill",l,r,{zoom:t.transform.zoom})}u.uniformMatrix4fv(l.u_matrix,!1,t.translatePosMatrix(n.posMatrix,o,r.paint["fill-translate"],r.paint["fill-translate-anchor"])),t.enableTileClippingMask(n);for(var f=0;f<s.length;f++){var h=s[f];h.vaos[r.id].bind(u,l,h.layoutVertexBuffer,h.elementBuffer,h.paintVertexBuffers[r.id]),u.drawElements(u.TRIANGLES,h.elementBuffer.length,u.UNSIGNED_SHORT,0)}}}}function i(t,e,r,n){var o=e.getTile(n),i=o.getBucket(r);if(i){var s,l=t.gl,u=i.bufferGroups.fill,c=r.paint["fill-pattern"],p=r.paint["fill-opacity"],f=r.getPaintProperty("fill-outline-color");if(c&&!f)s=t.useProgram("outlinepattern"),l.uniform2f(s.u_world,l.drawingBufferWidth,l.drawingBufferHeight);else{var h=i.paintAttributes.fill[r.id];s=t.useProgram("outline",h.defines,h.vertexPragmas,h.fragmentPragmas),l.uniform2f(s.u_world,l.drawingBufferWidth,l.drawingBufferHeight),l.uniform1f(s.u_opacity,p),i.setUniforms(l,"fill",s,r,{zoom:t.transform.zoom})}l.uniformMatrix4fv(s.u_matrix,!1,t.translatePosMatrix(n.posMatrix,o,r.paint["fill-translate"],r.paint["fill-translate-anchor"])),c&&a(c,p,o,n,t,s),t.enableTileClippingMask(n);for(var d=0;d<u.length;d++){var y=u[d];y.secondVaos[r.id].bind(l,s,y.layoutVertexBuffer,y.elementBuffer2,y.paintVertexBuffers[r.id]),l.drawElements(l.LINES,2*y.elementBuffer2.length,l.UNSIGNED_SHORT,0)}}}function a(t,e,r,n,o,i){var a=o.gl,l=o.spriteAtlas.getPosition(t.from,!0),u=o.spriteAtlas.getPosition(t.to,!0);if(l&&u){a.uniform1i(i.u_image,0),a.uniform2fv(i.u_pattern_tl_a,l.tl),a.uniform2fv(i.u_pattern_br_a,l.br),a.uniform2fv(i.u_pattern_tl_b,u.tl),a.uniform2fv(i.u_pattern_br_b,u.br),a.uniform1f(i.u_opacity,e),a.uniform1f(i.u_mix,t.t),a.uniform1f(i.u_tile_units_to_pixels,1/s(r,1,o.transform.tileZoom)),a.uniform2fv(i.u_pattern_size_a,l.size),a.uniform2fv(i.u_pattern_size_b,u.size),a.uniform1f(i.u_scale_a,t.fromScale),a.uniform1f(i.u_scale_b,t.toScale);var c=r.tileSize*Math.pow(2,o.transform.tileZoom-r.coord.z),p=c*(r.coord.x+n.w*Math.pow(2,r.coord.z)),f=c*r.coord.y;a.uniform2f(i.u_pixel_coord_upper,p>>16,f>>16),a.uniform2f(i.u_pixel_coord_lower,65535&p,65535&f),a.activeTexture(a.TEXTURE0),o.spriteAtlas.bind(a,!0)}}var s=t("../source/pixels_to_tile_units");e.exports=n},{"../source/pixels_to_tile_units":343}],330:[function(t,e,r){"use strict";var n=t("../util/browser"),o=t("gl-matrix").mat2,i=t("../source/pixels_to_tile_units");e.exports=function(t,e,r,a){if(!t.isOpaquePass){t.setDepthSublayer(0),t.depthMask(!1);var s=t.gl;if(s.enable(s.STENCIL_TEST),!(r.paint["line-width"]<=0)){var l=1/n.devicePixelRatio,u=r.paint["line-blur"]+l,c=r.paint["line-color"],p=t.transform,f=o.create();o.scale(f,f,[1,Math.cos(p._pitch)]),o.rotate(f,f,t.transform.angle);var h,d,y,m,v,g=Math.sqrt(p.height*p.height/4*(1+p.altitude*p.altitude)),b=p.height/2*Math.tan(p._pitch),x=(g+b)/g-1,_=r.paint["line-dasharray"],w=r.paint["line-pattern"];if(_)h=t.useProgram("linesdfpattern"),s.uniform1f(h.u_linewidth,r.paint["line-width"]/2),s.uniform1f(h.u_gapwidth,r.paint["line-gap-width"]/2),s.uniform1f(h.u_antialiasing,l/2),s.uniform1f(h.u_blur,u),s.uniform4fv(h.u_color,c),s.uniform1f(h.u_opacity,r.paint["line-opacity"]),d=t.lineAtlas.getDash(_.from,"round"===r.layout["line-cap"]),y=t.lineAtlas.getDash(_.to,"round"===r.layout["line-cap"]),s.uniform1i(h.u_image,0),s.activeTexture(s.TEXTURE0),t.lineAtlas.bind(s),s.uniform1f(h.u_tex_y_a,d.y),s.uniform1f(h.u_tex_y_b,y.y),s.uniform1f(h.u_mix,_.t),s.uniform1f(h.u_extra,x),s.uniform1f(h.u_offset,-r.paint["line-offset"]),s.uniformMatrix2fv(h.u_antialiasingmatrix,!1,f);else if(w){if(m=t.spriteAtlas.getPosition(w.from,!0),v=t.spriteAtlas.getPosition(w.to,!0),!m||!v)return;h=t.useProgram("linepattern"),s.uniform1i(h.u_image,0),s.activeTexture(s.TEXTURE0),t.spriteAtlas.bind(s,!0),s.uniform1f(h.u_linewidth,r.paint["line-width"]/2),s.uniform1f(h.u_gapwidth,r.paint["line-gap-width"]/2),s.uniform1f(h.u_antialiasing,l/2),s.uniform1f(h.u_blur,u),s.uniform2fv(h.u_pattern_tl_a,m.tl),s.uniform2fv(h.u_pattern_br_a,m.br),s.uniform2fv(h.u_pattern_tl_b,v.tl),s.uniform2fv(h.u_pattern_br_b,v.br),s.uniform1f(h.u_fade,w.t),s.uniform1f(h.u_opacity,r.paint["line-opacity"]),s.uniform1f(h.u_extra,x),s.uniform1f(h.u_offset,-r.paint["line-offset"]),s.uniformMatrix2fv(h.u_antialiasingmatrix,!1,f)}else h=t.useProgram("line"),s.uniform1f(h.u_linewidth,r.paint["line-width"]/2),s.uniform1f(h.u_gapwidth,r.paint["line-gap-width"]/2),s.uniform1f(h.u_antialiasing,l/2),s.uniform1f(h.u_blur,u),s.uniform1f(h.u_extra,x),s.uniform1f(h.u_offset,-r.paint["line-offset"]),s.uniformMatrix2fv(h.u_antialiasingmatrix,!1,f),s.uniform4fv(h.u_color,c),s.uniform1f(h.u_opacity,r.paint["line-opacity"]);for(var T=0;T<a.length;T++){var M=a[T],S=e.getTile(M),E=S.getBucket(r);if(E){var k=E.bufferGroups.line;if(k){t.enableTileClippingMask(M);var C=t.translatePosMatrix(M.posMatrix,S,r.paint["line-translate"],r.paint["line-translate-anchor"]);s.uniformMatrix4fv(h.u_matrix,!1,C);var A=1/i(S,1,t.transform.zoom);if(_){var P=d.width*_.fromScale,L=y.width*_.toScale,D=[1/i(S,P,t.transform.tileZoom),-d.height/2],O=[1/i(S,L,t.transform.tileZoom),-y.height/2],I=t.lineAtlas.width/(256*Math.min(P,L)*n.devicePixelRatio)/2;s.uniform1f(h.u_ratio,A),s.uniform2fv(h.u_patternscale_a,D),s.uniform2fv(h.u_patternscale_b,O),s.uniform1f(h.u_sdfgamma,I)}else w?(s.uniform1f(h.u_ratio,A),s.uniform2fv(h.u_pattern_size_a,[i(S,m.size[0]*w.fromScale,t.transform.tileZoom),v.size[1]]),s.uniform2fv(h.u_pattern_size_b,[i(S,v.size[0]*w.toScale,t.transform.tileZoom),v.size[1]])):s.uniform1f(h.u_ratio,A);for(var R=0;R<k.length;R++){var N=k[R];N.vaos[r.id].bind(s,h,N.layoutVertexBuffer,N.elementBuffer),s.drawElements(s.TRIANGLES,3*N.elementBuffer.length,s.UNSIGNED_SHORT,0)}}}}}}}},{"../source/pixels_to_tile_units":343,"../util/browser":406,"gl-matrix":174}],331:[function(t,e,r){"use strict";function n(t,e,r,n){if(!t.isOpaquePass){var i=t.gl;i.enable(i.DEPTH_TEST),t.depthMask(!0),i.depthFunc(i.LESS);for(var a=n.length&&n[0].z,s=0;s<n.length;s++){var l=n[s];t.setDepthSublayer(l.z-a),o(t,e,r,l)}i.depthFunc(i.LEQUAL)}}function o(t,e,r,n){var o=t.gl;o.disable(o.STENCIL_TEST);var u=e.getTile(n),c=t.transform.calculatePosMatrix(n,e.maxzoom),p=t.useProgram("raster");o.uniformMatrix4fv(p.u_matrix,!1,c),o.uniform1f(p.u_brightness_low,r.paint["raster-brightness-min"]),o.uniform1f(p.u_brightness_high,r.paint["raster-brightness-max"]),o.uniform1f(p.u_saturation_factor,s(r.paint["raster-saturation"])),o.uniform1f(p.u_contrast_factor,a(r.paint["raster-contrast"])),o.uniform3fv(p.u_spin_weights,i(r.paint["raster-hue-rotate"]));var f,h,d=u.source&&u.source.findLoadedParent(n,0,{}),y=l(u,d,r,t.transform);o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,u.texture),o.activeTexture(o.TEXTURE1),d?(o.bindTexture(o.TEXTURE_2D,d.texture),f=Math.pow(2,d.coord.z-u.coord.z),h=[u.coord.x*f%1,u.coord.y*f%1]):(o.bindTexture(o.TEXTURE_2D,u.texture),y[1]=0),o.uniform2fv(p.u_tl_parent,h||[0,0]),o.uniform1f(p.u_scale_parent,f||1),o.uniform1f(p.u_buffer_scale,1),o.uniform1f(p.u_opacity0,y[0]),o.uniform1f(p.u_opacity1,y[1]),o.uniform1i(p.u_image0,0),o.uniform1i(p.u_image1,1);var m=u.boundsBuffer||t.rasterBoundsBuffer,v=u.boundsVAO||t.rasterBoundsVAO;v.bind(o,p,m),o.drawArrays(o.TRIANGLE_STRIP,0,m.length)}function i(t){t*=Math.PI/180;var e=Math.sin(t),r=Math.cos(t);return[(2*r+1)/3,(-Math.sqrt(3)*e-r+1)/3,(Math.sqrt(3)*e-r+1)/3]}function a(t){return t>0?1/(1-t):1+t}function s(t){return t>0?1-1/(1.001-t):-t}function l(t,e,r,n){var o=[1,0],i=r.paint["raster-fade-duration"];if(t.source&&i>0){var a=(new Date).getTime(),s=(a-t.timeAdded)/i,l=e?(a-e.timeAdded)/i:-1,c=n.coveringZoomLevel(t.source),p=!!e&&Math.abs(e.coord.z-c)>Math.abs(t.coord.z-c);!e||p?(o[0]=u.clamp(s,0,1),o[1]=1-o[0]):(o[0]=u.clamp(1-l,0,1),o[1]=1-o[0])}var f=r.paint["raster-opacity"];return o[0]*=f,o[1]*=f,o}var u=t("../util/util"),c=t("../util/struct_array");e.exports=n,n.RasterBoundsArray=new c({members:[{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]})},{"../util/struct_array":420,"../util/util":422}],332:[function(t,e,r){"use strict";function n(t,e,r,n){if(!t.isOpaquePass){var i=!(r.layout["text-allow-overlap"]||r.layout["icon-allow-overlap"]||r.layout["text-ignore-placement"]||r.layout["icon-ignore-placement"]),a=t.gl;i?a.disable(a.STENCIL_TEST):a.enable(a.STENCIL_TEST),t.setDepthSublayer(0),t.depthMask(!1),a.disable(a.DEPTH_TEST),o(t,e,r,n,!1,r.paint["icon-translate"],r.paint["icon-translate-anchor"],r.layout["icon-rotation-alignment"],r.layout["icon-rotation-alignment"],r.layout["icon-size"],r.paint["icon-halo-width"],r.paint["icon-halo-color"],r.paint["icon-halo-blur"],r.paint["icon-opacity"],r.paint["icon-color"]),o(t,e,r,n,!0,r.paint["text-translate"],r.paint["text-translate-anchor"],r.layout["text-rotation-alignment"],r.layout["text-pitch-alignment"],r.layout["text-size"],r.paint["text-halo-width"],r.paint["text-halo-color"],r.paint["text-halo-blur"],r.paint["text-opacity"],r.paint["text-color"]),a.enable(a.DEPTH_TEST),e.map.showCollisionBoxes&&s(t,e,r,n)}}function o(t,e,r,n,o,a,s,l,u,c,p,f,h,d,y){for(var m=0;m<n.length;m++){var v=e.getTile(n[m]),g=v.getBucket(r);if(g){var b=g.bufferGroups,x=o?b.glyph:b.icon;x.length&&(t.enableTileClippingMask(n[m]),i(t,r,n[m].posMatrix,v,g,x,o,o||g.sdfIcons,!o&&g.iconsNeedLinear,o?g.adjustedTextSize:g.adjustedIconSize,g.fontstack,a,s,l,u,c,p,f,h,d,y))}}}function i(t,e,r,n,o,i,s,u,c,p,f,h,d,y,m,v,g,b,x,_,w){var T,M,S,E=t.gl,k=t.transform,C="map"===y,A="map"===m,P=s?24:1,L=v/P;if(A?(M=l(n,1,t.transform.zoom)*L,S=1/Math.cos(k._pitch),T=[M,M]):(M=t.transform.altitude*L,S=1,T=[k.pixelsToGLUnits[0]*M,k.pixelsToGLUnits[1]*M]),s||t.style.sprite.loaded()){var D=t.useProgram(u?"sdf":"icon");if(E.uniformMatrix4fv(D.u_matrix,!1,t.translatePosMatrix(r,n,h,d)),E.uniform1i(D.u_rotate_with_map,C),E.uniform1i(D.u_pitch_with_map,A),E.uniform2fv(D.u_extrude_scale,T),E.activeTexture(E.TEXTURE0),E.uniform1i(D.u_texture,0),s){var O=f&&t.glyphSource.getGlyphAtlas(f);if(!O)return;O.updateTexture(E),E.uniform2f(D.u_texsize,O.width/4,O.height/4)}else{var I=t.options.rotating||t.options.zooming,R=1!==L||a.devicePixelRatio!==t.spriteAtlas.pixelRatio||c,N=A||t.transform.pitch;t.spriteAtlas.bind(E,u||I||R||N),E.uniform2f(D.u_texsize,t.spriteAtlas.width/4,t.spriteAtlas.height/4)}var j=Math.log(v/p)/Math.LN2||0;E.uniform1f(D.u_zoom,10*(t.transform.zoom-j)),E.activeTexture(E.TEXTURE1),t.frameHistory.bind(E),E.uniform1i(D.u_fadetexture,1);var F;if(u){var z=8,B=1.19,U=6,V=.105*P/v/a.devicePixelRatio;if(g){E.uniform1f(D.u_gamma,(x*B/L/z+V)*S),E.uniform4fv(D.u_color,b),E.uniform1f(D.u_opacity,_),E.uniform1f(D.u_buffer,(U-g/L)/z);for(var H=0;H<i.length;H++)F=i[H],F.vaos[e.id].bind(E,D,F.layoutVertexBuffer,F.elementBuffer),E.drawElements(E.TRIANGLES,3*F.elementBuffer.length,E.UNSIGNED_SHORT,0)}E.uniform1f(D.u_gamma,V*S),E.uniform4fv(D.u_color,w),E.uniform1f(D.u_opacity,_),E.uniform1f(D.u_buffer,.75),E.uniform1f(D.u_pitch,k.pitch/360*2*Math.PI),E.uniform1f(D.u_bearing,k.bearing/360*2*Math.PI),E.uniform1f(D.u_aspect_ratio,k.width/k.height);for(var W=0;W<i.length;W++)F=i[W],F.vaos[e.id].bind(E,D,F.layoutVertexBuffer,F.elementBuffer),E.drawElements(E.TRIANGLES,3*F.elementBuffer.length,E.UNSIGNED_SHORT,0)}else{E.uniform1f(D.u_opacity,_);for(var q=0;q<i.length;q++)F=i[q],F.vaos[e.id].bind(E,D,F.layoutVertexBuffer,F.elementBuffer),E.drawElements(E.TRIANGLES,3*F.elementBuffer.length,E.UNSIGNED_SHORT,0)}}}var a=t("../util/browser"),s=t("./draw_collision_debug"),l=t("../source/pixels_to_tile_units");e.exports=n},{"../source/pixels_to_tile_units":343,"../util/browser":406,"./draw_collision_debug":327}],333:[function(t,e,r){"use strict";function n(){this.changeTimes=new Float64Array(256),this.changeOpacities=new Uint8Array(256),this.opacities=new Uint8ClampedArray(256),this.array=new Uint8Array(this.opacities.buffer),this.fadeDuration=300,this.previousZoom=0,this.firstFrame=!0}e.exports=n,n.prototype.record=function(t){var e=Date.now();this.firstFrame&&(e=0,this.firstFrame=!1),t=Math.floor(10*t);var r;if(t<this.previousZoom)for(r=t+1;r<=this.previousZoom;r++)this.changeTimes[r]=e,this.changeOpacities[r]=this.opacities[r];else for(r=t;r>this.previousZoom;r--)this.changeTimes[r]=e,this.changeOpacities[r]=this.opacities[r];for(r=0;r<256;r++){var n=e-this.changeTimes[r],o=n/this.fadeDuration*255;r<=t?this.opacities[r]=this.changeOpacities[r]+o:this.opacities[r]=this.changeOpacities[r]-o}this.changed=!0,this.previousZoom=t},n.prototype.bind=function(t){this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.changed&&(t.texSubImage2D(t.TEXTURE_2D,0,0,0,256,1,t.ALPHA,t.UNSIGNED_BYTE,this.array),this.changed=!1)):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,256,1,0,t.ALPHA,t.UNSIGNED_BYTE,this.array))}},{}],334:[function(t,e,r){"use strict";function n(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}}var o=t("../util/util");e.exports=n,n.prototype.setSprite=function(t){this.sprite=t},n.prototype.getDash=function(t,e){var r=t.join(",")+e;return this.positions[r]||(this.positions[r]=this.addDash(t,e)),this.positions[r]},n.prototype.addDash=function(t,e){var r=e?7:0,n=2*r+1,i=128;if(this.nextRow+n>this.height)return o.warnOnce("LineAtlas out of space"),null;for(var a=0,s=0;s<t.length;s++)a+=t[s];for(var l=this.width/a,u=l/2,c=t.length%2===1,p=-r;p<=r;p++)for(var f=this.nextRow+r+p,h=this.width*f,d=c?-t[t.length-1]:0,y=t[0],m=1,v=0;v<this.width;v++){for(;y<v/l;)d=y,y+=t[m],c&&m===t.length-1&&(y+=t[0]),m++;var g,b=Math.abs(v-d*l),x=Math.abs(v-y*l),_=Math.min(b,x),w=m%2===1;if(e){var T=r?p/r*(u+1):0;if(w){var M=u-Math.abs(T);g=Math.sqrt(_*_+M*M)}else g=u-Math.sqrt(_*_+T*T)}else g=(w?1:-1)*_;this.data[3+4*(h+v)]=Math.max(0,Math.min(255,g+i))}var S={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:a};return this.nextRow+=n,this.dirty=!0,S},n.prototype.bind=function(t){this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.data))}},{"../util/util":422}],335:[function(t,e,r){"use strict";function n(t,e){this.gl=t,this.transform=e,this.reusableTextures={},this.preFbos={},this.frameHistory=new a,this.setup(),this.numSublayers=s.maxUnderzooming+s.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.lineWidthRange=t.getParameter(t.ALIASED_LINE_WIDTH_RANGE)}var o=t("../util/browser"),i=t("gl-matrix").mat4,a=t("./frame_history"),s=t("../source/source_cache"),l=t("../data/bucket").EXTENT,u=t("../source/pixels_to_tile_units"),c=t("../util/util"),p=t("../util/struct_array"),f=t("../data/buffer"),h=t("./vertex_array_object"),d=t("./draw_raster").RasterBoundsArray,y=t("./create_uniform_pragmas");e.exports=n,c.extend(n.prototype,t("./painter/use_program")),n.prototype.resize=function(t,e){var r=this.gl;this.width=t*o.devicePixelRatio,this.height=e*o.devicePixelRatio,r.viewport(0,0,this.width,this.height)},n.prototype.setup=function(){var t=this.gl;t.verbose=!0,t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.enable(t.STENCIL_TEST),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),this._depthMask=!1,t.depthMask(!1);var e=this.PosArray=new p({members:[{name:"a_pos",type:"Int16",components:2}]}),r=new e;r.emplaceBack(0,0),r.emplaceBack(l,0),r.emplaceBack(0,l),r.emplaceBack(l,l),this.tileExtentBuffer=new f(r.serialize(),e.serialize(),f.BufferType.VERTEX),this.tileExtentVAO=new h,this.tileExtentPatternVAO=new h;var n=new e;n.emplaceBack(0,0),n.emplaceBack(l,0),n.emplaceBack(l,l),n.emplaceBack(0,l),n.emplaceBack(0,0),this.debugBuffer=new f(n.serialize(),e.serialize(),f.BufferType.VERTEX),this.debugVAO=new h;var o=new d;o.emplaceBack(0,0,0,0),o.emplaceBack(l,0,32767,0),o.emplaceBack(0,l,0,32767),o.emplaceBack(l,l,32767,32767),this.rasterBoundsBuffer=new f(o.serialize(),d.serialize(),f.BufferType.VERTEX),this.rasterBoundsVAO=new h},n.prototype.clearColor=function(){var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},n.prototype.clearStencil=function(){var t=this.gl;t.clearStencil(0),t.stencilMask(255),t.clear(t.STENCIL_BUFFER_BIT)},n.prototype.clearDepth=function(){var t=this.gl;t.clearDepth(1),this.depthMask(!0),t.clear(t.DEPTH_BUFFER_BIT)},n.prototype._renderTileClippingMasks=function(t){var e=this.gl;e.colorMask(!1,!1,!1,!1),this.depthMask(!1),e.disable(e.DEPTH_TEST),e.enable(e.STENCIL_TEST),e.stencilMask(248),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE);var r=1;this._tileClippingMaskIDs={};for(var n=0;n<t.length;n++){var o=t[n],i=this._tileClippingMaskIDs[o.id]=r++<<3;e.stencilFunc(e.ALWAYS,i,248);var a=y([{name:"u_color",components:4},{name:"u_opacity",components:1}]),s=this.useProgram("fill",[],a,a);e.uniformMatrix4fv(s.u_matrix,!1,o.posMatrix),this.tileExtentVAO.bind(e,s,this.tileExtentBuffer),e.drawArrays(e.TRIANGLE_STRIP,0,this.tileExtentBuffer.length)}e.stencilMask(0),e.colorMask(!0,!0,!0,!0),this.depthMask(!0),e.enable(e.DEPTH_TEST)},n.prototype.enableTileClippingMask=function(t){var e=this.gl;e.stencilFunc(e.EQUAL,this._tileClippingMaskIDs[t.id],248)},n.prototype.prepareBuffers=function(){},n.prototype.bindDefaultFramebuffer=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)};var m={symbol:t("./draw_symbol"),circle:t("./draw_circle"),line:t("./draw_line"),fill:t("./draw_fill"),raster:t("./draw_raster"),background:t("./draw_background"),debug:t("./draw_debug")};n.prototype.render=function(t,e){this.style=t,this.options=e,this.lineAtlas=t.lineAtlas,this.spriteAtlas=t.spriteAtlas,this.spriteAtlas.setSprite(t.sprite),this.glyphSource=t.glyphSource,this.frameHistory.record(this.transform.zoom),this.prepareBuffers(),this.clearColor(),this.clearDepth(),this.showOverdrawInspector(e.showOverdrawInspector),this.depthRange=(t._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass({isOpaquePass:!0}),this.renderPass({isOpaquePass:!1})},n.prototype.renderPass=function(t){var e=this.style._groups,r=t.isOpaquePass;this.currentLayer=r?this.style._order.length:-1;for(var n=0;n<e.length;n++){var o,i=e[r?e.length-1-n:n],a=this.style.sources[i.source],s=[];if(a){for(s=a.getVisibleCoordinates(),o=0;o<s.length;o++)s[o].posMatrix=this.transform.calculatePosMatrix(s[o],a.maxzoom);this.clearStencil(),a.prepare&&a.prepare(),a.isTileClipped&&this._renderTileClippingMasks(s)}for(r?(this._showOverdrawInspector||this.gl.disable(this.gl.BLEND),this.isOpaquePass=!0):(this.gl.enable(this.gl.BLEND),this.isOpaquePass=!1,s.reverse()),o=0;o<i.length;o++){var l=i[r?i.length-1-o:o];this.currentLayer+=r?-1:1,this.renderLayer(this,a,l,s)}a&&m.debug(this,a,s)}},n.prototype.depthMask=function(t){t!==this._depthMask&&(this._depthMask=t,this.gl.depthMask(t))},n.prototype.renderLayer=function(t,e,r,n){r.isHidden(this.transform.zoom)||("background"===r.type||n.length)&&(this.id=r.id,m[r.type](t,e,r,n))},n.prototype.setDepthSublayer=function(t){var e=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,r=e-1+this.depthRange;this.gl.depthRange(r,e)},n.prototype.translatePosMatrix=function(t,e,r,n){if(!r[0]&&!r[1])return t;if("viewport"===n){var o=Math.sin(-this.transform.angle),a=Math.cos(-this.transform.angle);r=[r[0]*a-r[1]*o,r[0]*o+r[1]*a]}var s=[u(e,r[0],this.transform.zoom),u(e,r[1],this.transform.zoom),0],l=new Float32Array(16);return i.translate(l,t,s),l},n.prototype.saveTexture=function(t){var e=this.reusableTextures[t.size];e?e.push(t):this.reusableTextures[t.size]=[t]},n.prototype.getTexture=function(t){var e=this.reusableTextures[t];return e&&e.length>0?e.pop():null},n.prototype.lineWidth=function(t){this.gl.lineWidth(c.clamp(t,this.lineWidthRange[0],this.lineWidthRange[1]))},n.prototype.showOverdrawInspector=function(t){if(t||this._showOverdrawInspector){this._showOverdrawInspector=t;var e=this.gl;if(t){e.blendFunc(e.CONSTANT_COLOR,e.ONE);var r=8,n=1/r;e.blendColor(n,n,n,0),e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)}else e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)}}},{"../data/bucket":309,"../data/buffer":314,"../source/pixels_to_tile_units":343,"../source/source_cache":347,"../util/browser":406,"../util/struct_array":420,"../util/util":422,"./create_uniform_pragmas":324,"./draw_background":325,"./draw_circle":326,"./draw_debug":328,"./draw_fill":329,"./draw_line":330,"./draw_raster":331,"./draw_symbol":332,"./frame_history":333,"./painter/use_program":336,"./vertex_array_object":337,"gl-matrix":174}],336:[function(t,e,r){"use strict";function n(t,e){return t.replace(/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,function(t,r,n,o,i){return e[r][i].replace(/{type}/g,o).replace(/{precision}/g,n)})}var o=t("assert"),i=t("../../util/util"),a=t("mapbox-gl-shaders"),s=a.util;e.exports._createProgram=function(t,e,r,l){for(var u=this.gl,c=u.createProgram(),p=a[t],f="#define MAPBOX_GL_JS;\n",h=0;h<e.length;h++)f+="#define "+e[h]+";\n";var d=u.createShader(u.FRAGMENT_SHADER);u.shaderSource(d,n(f+p.fragmentSource,l)),u.compileShader(d),o(u.getShaderParameter(d,u.COMPILE_STATUS),u.getShaderInfoLog(d)),u.attachShader(c,d);var y=u.createShader(u.VERTEX_SHADER);u.shaderSource(y,n(f+s+p.vertexSource,r)),u.compileShader(y),o(u.getShaderParameter(y,u.COMPILE_STATUS),u.getShaderInfoLog(y)),u.attachShader(c,y),u.linkProgram(c),o(u.getProgramParameter(c,u.LINK_STATUS),u.getProgramInfoLog(c));for(var m={},v=u.getProgramParameter(c,u.ACTIVE_ATTRIBUTES),g=0;g<v;g++){var b=u.getActiveAttrib(c,g);m[b.name]=u.getAttribLocation(c,b.name)}for(var x={},_=u.getProgramParameter(c,u.ACTIVE_UNIFORMS),w=0;w<_;w++){var T=u.getActiveUniform(c,w);x[T.name]=u.getUniformLocation(c,T.name)}return i.extend({program:c,definition:p,attributes:m,numAttributes:v},m,x)},e.exports._createProgramCached=function(t,e,r,n){this.cache=this.cache||{};var o=JSON.stringify({name:t,defines:e,vertexPragmas:r,fragmentPragmas:n});return this.cache[o]||(this.cache[o]=this._createProgram(t,e,r,n)),this.cache[o]},e.exports.useProgram=function(t,e,r,n){var o=this.gl;e=e||[],this._showOverdrawInspector&&(e=e.concat("OVERDRAW_INSPECTOR"));var i=this._createProgramCached(t,e,r,n),a=this.currentProgram;return a!==i&&(o.useProgram(i.program),this.currentProgram=i),i}},{"../../util/util":422,assert:37,"mapbox-gl-shaders":283}],337:[function(t,e,r){"use strict";function n(){this.boundProgram=null,this.boundVertexBuffer=null,this.boundVertexBuffer2=null,this.boundElementBuffer=null,this.vao=null}var o=t("assert");e.exports=n,n.prototype.bind=function(t,e,r,n,o){void 0===t.extVertexArrayObject&&(t.extVertexArrayObject=t.getExtension("OES_vertex_array_object"));var i=!this.vao||this.boundProgram!==e||this.boundVertexBuffer!==r||this.boundVertexBuffer2!==o||this.boundElementBuffer!==n;!t.extVertexArrayObject||i?this.freshBind(t,e,r,n,o):t.extVertexArrayObject.bindVertexArrayOES(this.vao)},n.prototype.freshBind=function(t,e,r,n,i){var a,s=e.numAttributes;if(t.extVertexArrayObject)this.vao&&this.destroy(t),this.vao=t.extVertexArrayObject.createVertexArrayOES(),t.extVertexArrayObject.bindVertexArrayOES(this.vao),a=0,this.boundProgram=e,this.boundVertexBuffer=r,this.boundVertexBuffer2=i,this.boundElementBuffer=n;else{a=t.currentNumAttributes||0;for(var l=s;l<a;l++)o(0!==l),t.disableVertexAttribArray(l)}for(var u=a;u<s;u++)t.enableVertexAttribArray(u);r.bind(t),r.setVertexAttribPointers(t,e),i&&(i.bind(t),i.setVertexAttribPointers(t,e)),n&&n.bind(t),t.currentNumAttributes=s},n.prototype.unbind=function(t){var e=t.extVertexArrayObject;e&&e.bindVertexArrayOES(null)},n.prototype.destroy=function(t){var e=t.extVertexArrayObject;e&&this.vao&&(e.deleteVertexArrayOES(this.vao),this.vao=null)}},{assert:37}],338:[function(t,e,r){"use strict";function n(t,e,r){e=e||{},this.id=t,this.dispatcher=r,this._data=e.data,void 0!==e.maxzoom&&(this.maxzoom=e.maxzoom),e.type&&(this.type=e.type);var n=s/this.tileSize;this.workerOptions=i.extend({source:this.id,cluster:e.cluster||!1,geojsonVtOptions:{buffer:(void 0!==e.buffer?e.buffer:128)*n,tolerance:(void 0!==e.tolerance?e.tolerance:.375)*n,extent:s,maxZoom:this.maxzoom},superclusterOptions:{maxZoom:Math.min(e.clusterMaxZoom,this.maxzoom-1)||this.maxzoom-1,extent:s,radius:(e.clusterRadius||50)*n,log:!1}},e.workerOptions),this._updateWorkerData(function(t){return t?void this.fire("error",{error:t}):void this.fire("load")}.bind(this))}var o=t("../util/evented"),i=t("../util/util"),a=t("resolve-url"),s=t("../data/bucket").EXTENT;e.exports=n,n.prototype=i.inherit(o,{type:"geojson",minzoom:0,maxzoom:18,tileSize:512,isTileClipped:!0,reparseOverscaled:!0,onAdd:function(t){this.map=t},setData:function(t){return this._data=t,this._updateWorkerData(function(t){return t?this.fire("error",{error:t}):void this.fire("change")}.bind(this)),this},_updateWorkerData:function(t){var e=i.extend({},this.workerOptions),r=this._data;"string"==typeof r?e.url="undefined"!=typeof window?a(window.location.href,r):r:e.data=JSON.stringify(r),this.workerID=this.dispatcher.send(this.type+".loadData",e,function(e){this._loaded=!0,t(e)}.bind(this))},loadTile:function(t,e){var r=t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,n={type:this.type,uid:t.uid,coord:t.coord,zoom:t.coord.z,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,overscaling:r,angle:this.map.transform.angle,pitch:this.map.transform.pitch,showCollisionBoxes:this.map.showCollisionBoxes};t.workerID=this.dispatcher.send("load tile",n,function(r,n){if(t.unloadVectorData(this.map.painter),!t.aborted)return r?e(r):(t.loadVectorData(n,this.map.style),t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(this)),e(null))}.bind(this),this.workerID)},abortTile:function(t){t.aborted=!0},unloadTile:function(t){t.unloadVectorData(this.map.painter),this.dispatcher.send("remove tile",{uid:t.uid,source:this.id},function(){},t.workerID)},serialize:function(){return{type:this.type,data:this._data}}})},{"../data/bucket":309,"../util/evented":414,"../util/util":422,"resolve-url":480}],339:[function(t,e,r){"use strict";function n(t,e,r){r&&(this.loadGeoJSON=r),p.call(this,t,e)}var o=t("../util/util"),i=t("../util/ajax"),a=t("geojson-rewind"),s=t("./geojson_wrapper"),l=t("vt-pbf"),u=t("supercluster"),c=t("geojson-vt"),p=t("./vector_tile_worker_source");e.exports=n,n.prototype=o.inherit(p,{_geoJSONIndexes:{},loadVectorData:function(t,e){var r=t.source,n=t.coord;if(!this._geoJSONIndexes[r])return e(null,null);var o=this._geoJSONIndexes[r].getTile(Math.min(n.z,t.maxZoom),n.x,n.y);if(!o)return e(null,null);var i=new s(o.features);i.name="_geojsonTileLayer";var a=l({layers:{
_geojsonTileLayer:i}});0===a.byteOffset&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),e(null,{tile:i,rawTileData:a.buffer})},loadData:function(t,e){var r=function(r,n){return r?e(r):"object"!=typeof n?e(new Error("Input data is not a valid GeoJSON object.")):(a(n,!0),void this._indexData(n,t,function(r,n){return r?e(r):(this._geoJSONIndexes[t.source]=n,void e(null))}.bind(this)))}.bind(this);this.loadGeoJSON(t,r)},loadGeoJSON:function(t,e){if(t.url)i.getJSON(t.url,e);else{if("string"!=typeof t.data)return e(new Error("Input data is not a valid GeoJSON object."));try{return e(null,JSON.parse(t.data))}catch(t){return e(new Error("Input data is not a valid GeoJSON object."))}}},_indexData:function(t,e,r){try{e.cluster?r(null,u(e.superclusterOptions).load(t.features)):r(null,c(t,e.geojsonVtOptions))}catch(t){return r(t)}}})},{"../util/ajax":405,"../util/util":422,"./geojson_wrapper":340,"./vector_tile_worker_source":351,"geojson-rewind":120,"geojson-vt":124,supercluster:507,"vt-pbf":534}],340:[function(t,e,r){"use strict";function n(t){this.features=t,this.length=t.length,this.extent=s}function o(t){if(this.type=t.type,1===t.type){this.rawGeometry=[];for(var e=0;e<t.geometry.length;e++)this.rawGeometry.push([t.geometry[e]])}else this.rawGeometry=t.geometry;this.properties=t.tags,this.extent=s}var i=t("point-geometry"),a=t("vector-tile").VectorTileFeature,s=t("../data/bucket").EXTENT;e.exports=n,n.prototype.feature=function(t){return new o(this.features[t])},o.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var r=t[e],n=[],o=0;o<r.length;o++)n.push(new i(r[o][0],r[o][1]));this.geometry.push(n)}return this.geometry},o.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,r=-(1/0),n=1/0,o=-(1/0),i=0;i<t.length;i++)for(var a=t[i],s=0;s<a.length;s++){var l=a[s];e=Math.min(e,l.x),r=Math.max(r,l.x),n=Math.min(n,l.y),o=Math.max(o,l.y)}return[e,n,r,o]},o.prototype.toGeoJSON=a.prototype.toGeoJSON},{"../data/bucket":309,"point-geometry":463,"vector-tile":528}],341:[function(t,e,r){"use strict";function n(t,e,r){this.id=t,this.dispatcher=r,this.url=e.url,this.coordinates=e.coordinates,u.getImage(e.url,function(t,r){return t?this.fire("error",{error:t}):(this.image=r,this.image.addEventListener("load",function(){this.map._rerender()}.bind(this)),this._loaded=!0,this.fire("load"),void(this.map&&this.setCoordinates(e.coordinates)))}.bind(this))}var o=t("../util/util"),i=t("./tile_coord"),a=t("../geo/lng_lat"),s=t("point-geometry"),l=t("../util/evented"),u=t("../util/ajax"),c=t("../data/bucket").EXTENT,p=t("../render/draw_raster").RasterBoundsArray,f=t("../data/buffer"),h=t("../render/vertex_array_object");e.exports=n,n.prototype=o.inherit(l,{minzoom:0,maxzoom:22,tileSize:512,onAdd:function(t){this.map=t,this.image&&this.setCoordinates(this.coordinates)},setCoordinates:function(t){this.coordinates=t;var e=this.map,r=t.map(function(t){return e.transform.locationCoordinate(a.convert(t)).zoomTo(0)}),n=this.centerCoord=o.getCoordinatesCenter(r);return n.column=Math.round(n.column),n.row=Math.round(n.row),this.minzoom=this.maxzoom=n.zoom,this._coord=new i(n.zoom,n.column,n.row),this._tileCoords=r.map(function(t){var e=t.zoomTo(n.zoom);return new s(Math.round((e.column-n.column)*c),Math.round((e.row-n.row)*c))}),this.fire("change"),this},_setTile:function(t){this._prepared=!1,this.tile=t;var e=32767,r=new p;r.emplaceBack(this._tileCoords[0].x,this._tileCoords[0].y,0,0),r.emplaceBack(this._tileCoords[1].x,this._tileCoords[1].y,e,0),r.emplaceBack(this._tileCoords[3].x,this._tileCoords[3].y,0,e),r.emplaceBack(this._tileCoords[2].x,this._tileCoords[2].y,e,e),this.tile.buckets={},this.tile.boundsBuffer=new f(r.serialize(),p.serialize(),f.BufferType.VERTEX),this.tile.boundsVAO=new h,this.tile.state="loaded"},prepare:function(){if(this._loaded&&this.image&&this.image.complete&&this.tile){var t=this.map.painter,e=t.gl;this._prepared?(e.bindTexture(e.TEXTURE_2D,this.tile.texture),e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,this.image)):(this.tile.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.tile.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.image))}},loadTile:function(t,e){this._coord&&this._coord.toString()===t.coord.toString()?(this._setTile(t),e(null)):(t.state="errored",e(null))},serialize:function(){return{type:"image",urls:this.url,coordinates:this.coordinates}}})},{"../data/bucket":309,"../data/buffer":314,"../geo/lng_lat":319,"../render/draw_raster":331,"../render/vertex_array_object":337,"../util/ajax":405,"../util/evented":414,"../util/util":422,"./tile_coord":349,"point-geometry":463}],342:[function(t,e,r){"use strict";var n=t("../util/util"),o=t("../util/ajax"),i=t("../util/browser"),a=t("../util/mapbox").normalizeSourceURL;e.exports=function(t,e){var r=function(t,r){if(t)return e(t);var o=n.pick(r,["tiles","minzoom","maxzoom","attribution"]);r.vector_layers&&(o.vectorLayers=r.vector_layers,o.vectorLayerIds=o.vectorLayers.map(function(t){return t.id})),e(null,o)};t.url?o.getJSON(a(t.url),r):i.frame(r.bind(null,null,t))}},{"../util/ajax":405,"../util/browser":406,"../util/mapbox":419,"../util/util":422}],343:[function(t,e,r){"use strict";var n=t("../data/bucket");e.exports=function(t,e,r){return e*(n.EXTENT/(t.tileSize*Math.pow(2,r-t.coord.z)))}},{"../data/bucket":309}],344:[function(t,e,r){"use strict";function n(t,e){var r=t.coord,n=e.coord;return r.z-n.z||r.y-n.y||r.w-n.w||r.x-n.x}function o(t){for(var e=t[0]||{},r=1;r<t.length;r++){var n=t[r];for(var o in n){var i=n[o],a=e[o];if(void 0===a)a=e[o]=i;else for(var s=0;s<i.length;s++)a.push(i[s])}}return e}var i=t("./tile_coord");r.rendered=function(t,e,r,i,a,s){var l=t.tilesIn(r);l.sort(n);for(var u=[],c=0;c<l.length;c++){var p=l[c];p.tile.featureIndex&&u.push(p.tile.featureIndex.query({queryGeometry:p.queryGeometry,scale:p.scale,tileSize:p.tile.tileSize,bearing:s,params:i},e))}return o(u)},r.source=function(t,e){for(var r=t.getRenderableIds().map(function(e){return t.getTileByID(e)}),n=[],o={},a=0;a<r.length;a++){var s=r[a],l=new i(Math.min(s.sourceMaxZoom,s.coord.z),s.coord.x,s.coord.y,0).id;o[l]||(o[l]=!0,s.querySourceFeatures(n,e))}return n}},{"./tile_coord":349}],345:[function(t,e,r){"use strict";function n(t,e,r){this.id=t,this.dispatcher=r,o.extend(this,o.pick(e,["url","scheme","tileSize"])),s(e,function(t,e){return t?this.fire("error",t):(o.extend(this,e),void this.fire("load"))}.bind(this))}var o=t("../util/util"),i=t("../util/ajax"),a=t("../util/evented"),s=t("./load_tilejson"),l=t("../util/mapbox").normalizeTileURL;e.exports=n,n.prototype=o.inherit(a,{minzoom:0,maxzoom:22,roundZoom:!0,scheme:"xyz",tileSize:512,_loaded:!1,onAdd:function(t){this.map=t},serialize:function(){return{type:"raster",url:this.url,tileSize:this.tileSize}},loadTile:function(t,e){function r(r,n){if(delete t.request,!t.aborted){if(r)return e(r);var o=this.map.painter.gl;t.texture=this.map.painter.getTexture(n.width),t.texture?(o.bindTexture(o.TEXTURE_2D,t.texture),o.texSubImage2D(o.TEXTURE_2D,0,0,0,o.RGBA,o.UNSIGNED_BYTE,n)):(t.texture=o.createTexture(),o.bindTexture(o.TEXTURE_2D,t.texture),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR_MIPMAP_NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,n),t.texture.size=n.width),o.generateMipmap(o.TEXTURE_2D),this.map.animationLoop.set(this.map.style.rasterFadeDuration),t.state="loaded",e(null)}}var n=l(t.coord.url(this.tiles,null,this.scheme),this.url,this.tileSize);t.request=i.getImage(n,r.bind(this))},abortTile:function(t){t.request&&(t.request.abort(),delete t.request)},unloadTile:function(t){t.texture&&this.map.painter.saveTexture(t.texture)}})},{"../util/ajax":405,"../util/evented":414,"../util/mapbox":419,"../util/util":422,"./load_tilejson":342}],346:[function(t,e,r){"use strict";var n=t("../util/util"),o={vector:t("../source/vector_tile_source"),raster:t("../source/raster_tile_source"),geojson:t("../source/geojson_source"),video:t("../source/video_source"),image:t("../source/image_source")};r.create=function(t,e,r){if(e=new o[e.type](t,e,r),e.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+e.id);return n.bindAll(["load","abort","unload","serialize","prepare"],e),e},r.getType=function(t){return o[t]},r.setType=function(t,e){o[t]=e}},{"../source/geojson_source":338,"../source/image_source":341,"../source/raster_tile_source":345,"../source/vector_tile_source":350,"../source/video_source":352,"../util/util":422}],347:[function(t,e,r){"use strict";function n(t,e,r){this.id=t,this.dispatcher=r;var n=this._source=a.create(t,e,r).on("load",function(){this.map&&this._source.onAdd&&this._source.onAdd(this.map),this._sourceLoaded=!0,this.tileSize=n.tileSize,this.minzoom=n.minzoom,this.maxzoom=n.maxzoom,this.roundZoom=n.roundZoom,this.reparseOverscaled=n.reparseOverscaled,this.isTileClipped=n.isTileClipped,this.attribution=n.attribution,this.vectorLayerIds=n.vectorLayerIds,this.fire("load")}.bind(this)).on("error",function(t){this._sourceErrored=!0,this.fire("error",t)}.bind(this)).on("change",function(){this.reload(),this.transform&&this.update(this.transform,this.map&&this.map.style.rasterFadeDuration),this.fire("change")}.bind(this));this._tiles={},this._cache=new c(0,this.unloadTile.bind(this)),this._isIdRenderable=this._isIdRenderable.bind(this)}function o(t,e,r){var n=r.zoomTo(Math.min(t.z,e));return{x:(n.column-(t.x+t.w*Math.pow(2,t.z)))*h,y:(n.row-t.y)*h}}function i(t,e){return t%32-e%32}var a=t("./source"),s=t("./tile"),l=t("../util/evented"),u=t("./tile_coord"),c=t("../util/lru_cache"),p=t("../geo/coordinate"),f=t("../util/util"),h=t("../data/bucket").EXTENT;e.exports=n,n.maxOverzooming=10,n.maxUnderzooming=3,n.prototype=f.inherit(l,{onAdd:function(t){this.map=t,this._source&&this._source.onAdd&&this._source.onAdd(t)},loaded:function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},getSource:function(){return this._source},loadTile:function(t,e){return this._source.loadTile(t,e)},unloadTile:function(t){if(this._source.unloadTile)return this._source.unloadTile(t)},abortTile:function(t){if(this._source.abortTile)return this._source.abortTile(t)},serialize:function(){return this._source.serialize()},prepare:function(){if(this._sourceLoaded&&this._source.prepare)return this._source.prepare()},getIds:function(){return Object.keys(this._tiles).map(Number).sort(i)},getRenderableIds:function(){return this.getIds().filter(this._isIdRenderable)},_isIdRenderable:function(t){return this._tiles[t].isRenderable()&&!this._coveredTiles[t]},reload:function(){this._cache.reset();for(var t in this._tiles){var e=this._tiles[t];"loading"!==e.state&&(e.state="reloading"),this.loadTile(this._tiles[t],this._tileLoaded.bind(this,this._tiles[t]))}},_tileLoaded:function(t,e){return e?(t.state="errored",this.fire("tile.error",{tile:t,error:e}),void this._source.fire("tile.error",{tile:t,error:e})):(t.source=this,t.timeAdded=(new Date).getTime(),this.fire("tile.load",{tile:t}),void this._source.fire("tile.load",{tile:t}))},getTile:function(t){return this.getTileByID(t.id)},getTileByID:function(t){return this._tiles[t]},getZoom:function(t){return t.zoom+t.scaleZoom(t.tileSize/this.tileSize)},findLoadedChildren:function(t,e,r){var n=!1;for(var o in this._tiles){var i=this._tiles[o];if(!(r[o]||!i.isRenderable()||i.coord.z<=t.z||i.coord.z>e)){var a=Math.pow(2,Math.min(i.coord.z,this.maxzoom)-Math.min(t.z,this.maxzoom));if(Math.floor(i.coord.x/a)===t.x&&Math.floor(i.coord.y/a)===t.y)for(r[o]=!0,n=!0;i&&i.coord.z-1>t.z;){var s=i.coord.parent(this.maxzoom).id;i=this._tiles[s],i&&i.isRenderable()&&(delete r[o],r[s]=!0)}}}return n},findLoadedParent:function(t,e,r){for(var n=t.z-1;n>=e;n--){t=t.parent(this.maxzoom);var o=this._tiles[t.id];if(o&&o.isRenderable())return r[t.id]=!0,o;if(this._cache.has(t.id))return this.addTile(t),r[t.id]=!0,this._tiles[t.id]}},updateCacheSize:function(t){var e=Math.ceil(t.width/t.tileSize)+1,r=Math.ceil(t.height/t.tileSize)+1,n=e*r,o=5;this._cache.setMaxSize(Math.floor(n*o))},update:function(t,e){if(this._sourceLoaded){var r,o,i;this.updateCacheSize(t);var a=(this.roundZoom?Math.round:Math.floor)(this.getZoom(t)),s=Math.max(a-n.maxOverzooming,this.minzoom),l=Math.max(a+n.maxUnderzooming,this.minzoom),c={},p=(new Date).getTime();this._coveredTiles={};var h=this.used?t.coveringTiles(this._source):[];for(r=0;r<h.length;r++)o=h[r],i=this.addTile(o),c[o.id]=!0,i.isRenderable()||this.findLoadedChildren(o,l,c)||this.findLoadedParent(o,s,c);for(var d={},y=Object.keys(c),m=0;m<y.length;m++){var v=y[m];o=u.fromID(v),i=this._tiles[v],i&&i.timeAdded>p-(e||0)&&(this.findLoadedChildren(o,l,c)&&(c[v]=!0),this.findLoadedParent(o,s,d))}var g;for(g in d)c[g]||(this._coveredTiles[g]=!0);for(g in d)c[g]=!0;var b=f.keysDifference(this._tiles,c);for(r=0;r<b.length;r++)this.removeTile(+b[r]);this.transform=t}},addTile:function(t){var e=this._tiles[t.id];if(e)return e;var r=t.wrapped();if(e=this._tiles[r.id],e||(e=this._cache.get(r.id),e&&this._redoPlacement&&this._redoPlacement(e)),!e){var n=t.z,o=n>this.maxzoom?Math.pow(2,n-this.maxzoom):1;e=new s(r,this.tileSize*o,this.maxzoom),this.loadTile(e,this._tileLoaded.bind(this,e))}return e.uses++,this._tiles[t.id]=e,this.fire("tile.add",{tile:e}),this._source.fire("tile.add",{tile:e}),e},removeTile:function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this.fire("tile.remove",{tile:e}),this._source.fire("tile.remove",{tile:e}),e.uses>0||(e.isRenderable()?this._cache.add(e.coord.wrapped().id,e):(e.aborted=!0,this.abortTile(e),this.unloadTile(e))))},clearTiles:function(){for(var t in this._tiles)this.removeTile(t);this._cache.reset()},tilesIn:function(t){for(var e={},r=this.getIds(),n=1/0,i=1/0,a=-(1/0),s=-(1/0),l=t[0].zoom,c=0;c<t.length;c++){var f=t[c];n=Math.min(n,f.column),i=Math.min(i,f.row),a=Math.max(a,f.column),s=Math.max(s,f.row)}for(var d=0;d<r.length;d++){var y=this._tiles[r[d]],m=u.fromID(r[d]),v=[o(m,y.sourceMaxZoom,new p(n,i,l)),o(m,y.sourceMaxZoom,new p(a,s,l))];if(v[0].x<h&&v[0].y<h&&v[1].x>=0&&v[1].y>=0){for(var g=[],b=0;b<t.length;b++)g.push(o(m,y.sourceMaxZoom,t[b]));var x=e[y.coord.id];void 0===x&&(x=e[y.coord.id]={tile:y,coord:m,queryGeometry:[],scale:Math.pow(2,this.transform.zoom-y.coord.z)}),x.queryGeometry.push(g)}}var _=[];for(var w in e)_.push(e[w]);return _},redoPlacement:function(){for(var t=this.getIds(),e=0;e<t.length;e++){var r=this.getTileByID(t[e]);r.redoPlacement(this)}},getVisibleCoordinates:function(){return this.getRenderableIds().map(u.fromID)}})},{"../data/bucket":309,"../geo/coordinate":318,"../util/evented":414,"../util/lru_cache":418,"../util/util":422,"./source":346,"./tile":348,"./tile_coord":349}],348:[function(t,e,r){"use strict";function n(t,e,r){this.coord=t,this.uid=i.uniqueId(),this.uses=0,this.tileSize=e,this.sourceMaxZoom=r,this.buckets={},this.state="loading"}function o(t,e){if(e){for(var r={},n=0;n<t.length;n++){var o=e.getLayer(t[n].layerId);if(o){var s=a.create(i.extend({layer:o,childLayers:t[n].childLayerIds.map(e.getLayer.bind(e)).filter(function(t){return t})},t[n]));r[s.id]=s}}return r}}var i=t("../util/util"),a=t("../data/bucket"),s=t("../data/feature_index"),l=t("vector-tile"),u=t("pbf"),c=t("../util/vectortile_to_geojson"),p=t("feature-filter"),f=t("../symbol/collision_tile"),h=t("../symbol/collision_box"),d=t("../symbol/symbol_instances"),y=t("../symbol/symbol_quads");e.exports=n,n.prototype={loadVectorData:function(t,e){this.state="loaded",t&&(this.collisionBoxArray=new h(t.collisionBoxArray),this.collisionTile=new f(t.collisionTile,this.collisionBoxArray),this.symbolInstancesArray=new d(t.symbolInstancesArray),this.symbolQuadsArray=new y(t.symbolQuadsArray),this.featureIndex=new s(t.featureIndex,t.rawTileData,this.collisionTile),this.rawTileData=t.rawTileData,this.buckets=o(t.buckets,e))},reloadSymbolData:function(t,e,r){if("unloaded"!==this.state){this.collisionTile=new f(t.collisionTile,this.collisionBoxArray),this.featureIndex.setCollisionTile(this.collisionTile);for(var n in this.buckets){var a=this.buckets[n];"symbol"===a.type&&(a.destroy(e.gl),delete this.buckets[n])}i.extend(this.buckets,o(t.buckets,r))}},unloadVectorData:function(t){for(var e in this.buckets){var r=this.buckets[e];r.destroy(t.gl)}this.collisionBoxArray=null,this.symbolQuadsArray=null,this.symbolInstancesArray=null,this.collisionTile=null,this.featureIndex=null,this.rawTileData=null,this.buckets=null,this.state="unloaded"},redoPlacement:function(t){function e(e,r){this.reloadSymbolData(r,t.map.painter,t.map.style),t.fire("tile.load",{tile:this}),this.state="loaded",this.redoWhenDone&&(this.redoPlacement(t),this.redoWhenDone=!1)}return"loaded"!==this.state||"reloading"===this.state?void(this.redoWhenDone=!0):(this.state="reloading",void t.dispatcher.send("redo placement",{uid:this.uid,source:t.id,angle:t.map.transform.angle,pitch:t.map.transform.pitch,showCollisionBoxes:t.map.showCollisionBoxes},e.bind(this),this.workerID))},getBucket:function(t){return this.buckets&&this.buckets[t.ref||t.id]},querySourceFeatures:function(t,e){if(this.rawTileData){this.vtLayers||(this.vtLayers=new l.VectorTile(new u(new Uint8Array(this.rawTileData))).layers);var r=this.vtLayers._geojsonTileLayer||this.vtLayers[e.sourceLayer];if(r)for(var n=p(e.filter),o={z:this.coord.z,x:this.coord.x,y:this.coord.y},i=0;i<r.length;i++){var a=r.feature(i);if(n(a)){var s=new c(a,this.coord.z,this.coord.x,this.coord.y);s.tile=o,t.push(s)}}}},isRenderable:function(){return"loaded"===this.state||"reloading"===this.state}}},{"../data/bucket":309,"../data/feature_index":316,"../symbol/collision_box":374,"../symbol/collision_tile":376,"../symbol/symbol_instances":385,"../symbol/symbol_quads":386,"../util/util":422,"../util/vectortile_to_geojson":423,"feature-filter":114,pbf:457,"vector-tile":528}],349:[function(t,e,r){"use strict";function n(t,e,r,n){l(!isNaN(t)&&t>=0&&t%1===0),l(!isNaN(e)&&e>=0&&e%1===0),l(!isNaN(r)&&r>=0&&r%1===0),isNaN(n)&&(n=0),this.z=+t,this.x=+e,this.y=+r,this.w=+n,n*=2,n<0&&(n=n*-1-1);var o=1<<this.z;this.id=32*(o*o*n+o*this.y+this.x)+this.z,this.posMatrix=null}function o(t,e,r){for(var n,o="",i=t;i>0;i--)n=1<<i-1,o+=(e&n?1:0)+(r&n?2:0);return o}function i(t,e){if(t.row>e.row){var r=t;t=e,e=r}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function a(t,e,r,n,o){var i=Math.max(r,Math.floor(e.y0)),a=Math.min(n,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var l=t.dx/t.dy,u=e.dx/e.dy,c=t.dx>0,p=e.dx<0,f=i;f<a;f++){var h=l*Math.max(0,Math.min(t.dy,f+c-t.y0))+t.x0,d=u*Math.max(0,Math.min(e.dy,f+p-e.y0))+e.x0;o(Math.floor(d),Math.ceil(h),f)}}function s(t,e,r,n,o,s){var l,u=i(t,e),c=i(e,r),p=i(r,t);u.dy>c.dy&&(l=u,u=c,c=l),u.dy>p.dy&&(l=u,u=p,p=l),c.dy>p.dy&&(l=c,c=p,p=l),u.dy&&a(p,u,n,o,s),c.dy&&a(p,c,n,o,s)}var l=t("assert"),u=t("whoots-js"),c=t("../geo/coordinate");e.exports=n,n.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y},n.prototype.toCoordinate=function(t){var e=Math.min(this.z,t),r=Math.pow(2,e),n=this.y,o=this.x+r*this.w;return new c(o,n,e)},n.fromID=function(t){var e=t%32,r=1<<e,o=(t-e)/32,i=o%r,a=(o-i)/r%r,s=Math.floor(o/(r*r));return s%2!==0&&(s=s*-1-1),s/=2,new n(e,i,a,s)},n.prototype.url=function(t,e,r){var n=u.getTileBBox(this.x,this.y,this.z),i=o(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",Math.min(this.z,e||this.z)).replace("{x}",this.x).replace("{y}","tms"===r?Math.pow(2,this.z)-this.y-1:this.y).replace("{quadkey}",i).replace("{bbox-epsg-3857}",n)},n.prototype.parent=function(t){return 0===this.z?null:this.z>t?new n(this.z-1,this.x,this.y,this.w):new n(this.z-1,Math.floor(this.x/2),Math.floor(this.y/2),this.w)},n.prototype.wrapped=function(){return new n(this.z,this.x,this.y,0)},n.prototype.children=function(t){if(this.z>=t)return[new n(this.z+1,this.x,this.y,this.w)];var e=this.z+1,r=2*this.x,o=2*this.y;return[new n(e,r,o,this.w),new n(e,r+1,o,this.w),new n(e,r,o+1,this.w),new n(e,r+1,o+1,this.w)]},n.cover=function(t,e,r){function o(t,e,o){var s,l,u;if(o>=0&&o<=i)for(s=t;s<e;s++)l=(s%i+i)%i,u=new n(r,l,o,Math.floor(s/i)),a[u.id]=u}var i=1<<t,a={};return s(e[0],e[1],e[2],0,i,o),s(e[2],e[3],e[0],0,i,o),Object.keys(a).map(function(t){return a[t]})}},{"../geo/coordinate":318,assert:37,"whoots-js":544}],350:[function(t,e,r){"use strict";function n(t,e,r){if(this.id=t,this.dispatcher=r,i.extend(this,i.pick(e,["url","scheme","tileSize"])),this._options=i.extend({type:"vector"},e),512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");a(e,function(t,e){return t?void this.fire("error",t):(i.extend(this,e),void this.fire("load"))}.bind(this))}var o=t("../util/evented"),i=t("../util/util"),a=t("./load_tilejson"),s=t("../util/mapbox").normalizeTileURL;e.exports=n,n.prototype=i.inherit(o,{minzoom:0,maxzoom:22,scheme:"xyz",tileSize:512,reparseOverscaled:!0,isTileClipped:!0,onAdd:function(t){this.map=t},serialize:function(){return i.extend({},this._options)},loadTile:function(t,e){function r(r,n){if(!t.aborted){if(r)return e(r);t.loadVectorData(n,this.map.style),t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(this)),e(null),t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)}}var n=t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,o={url:s(t.coord.url(this.tiles,this.maxzoom,this.scheme),this.url),uid:t.uid,coord:t.coord,zoom:t.coord.z,tileSize:this.tileSize*n,source:this.id,overscaling:n,angle:this.map.transform.angle,pitch:this.map.transform.pitch,showCollisionBoxes:this.map.showCollisionBoxes};t.workerID?"loading"===t.state?t.reloadCallback=e:(o.rawTileData=t.rawTileData,this.dispatcher.send("reload tile",o,r.bind(this),t.workerID)):t.workerID=this.dispatcher.send("load tile",o,r.bind(this))},abortTile:function(t){this.dispatcher.send("abort tile",{uid:t.uid,source:this.id},null,t.workerID)},unloadTile:function(t){t.unloadVectorData(this.map.painter),this.dispatcher.send("remove tile",{uid:t.uid,source:this.id},null,t.workerID)}})},{"../util/evented":414,"../util/mapbox":419,"../util/util":422,"./load_tilejson":342}],351:[function(t,e,r){"use strict";function n(t,e,r){this.actor=t,this.styleLayers=e,r&&(this.loadVectorData=r),this.loading={},this.loaded={}}var o=t("../util/ajax"),i=t("vector-tile"),a=t("pbf"),s=t("./worker_tile");e.exports=n,n.prototype={loadTile:function(t,e){function r(t,r){return delete this.loading[n][o],t?e(t):r?(i.data=r.tile,i.parse(i.data,this.styleLayers.getLayerFamilies(),this.actor,r.rawTileData,e),this.loaded[n]=this.loaded[n]||{},void(this.loaded[n][o]=i)):e(null,null)}var n=t.source,o=t.uid;this.loading[n]||(this.loading[n]={});var i=this.loading[n][o]=new s(t);i.abort=this.loadVectorData(t,r.bind(this))},reloadTile:function(t,e){var r=this.loaded[t.source],n=t.uid;if(r&&r[n]){var o=r[n];o.parse(o.data,this.styleLayers.getLayerFamilies(),this.actor,t.rawTileData,e)}},abortTile:function(t){var e=this.loading[t.source],r=t.uid;e&&e[r]&&e[r].abort&&(e[r].abort(),delete e[r])},removeTile:function(t){var e=this.loaded[t.source],r=t.uid;e&&e[r]&&delete e[r]},loadVectorData:function(t,e){function r(t,r){if(t)return e(t);var n=new i.VectorTile(new a(new Uint8Array(r)));e(t,{tile:n,rawTileData:r})}var n=o.getArrayBuffer(t.url,r.bind(this));return function(){n.abort()}},redoPlacement:function(t,e){var r=this.loaded[t.source],n=this.loading[t.source],o=t.uid;if(r&&r[o]){var i=r[o],a=i.redoPlacement(t.angle,t.pitch,t.showCollisionBoxes);a.result&&e(null,a.result,a.transferables)}else n&&n[o]&&(n[o].angle=t.angle)}}},{"../util/ajax":405,"./worker_tile":354,pbf:457,"vector-tile":528}],352:[function(t,e,r){"use strict";function n(t,e){this.id=t,this.urls=e.urls,this.coordinates=e.coordinates,u.getVideo(e.urls,function(t,r){if(t)return this.fire("error",{error:t});this.video=r,this.video.loop=!0;var n;this.video.addEventListener("playing",function(){n=this.map.style.animationLoop.set(1/0),this.map._rerender()}.bind(this)),this.video.addEventListener("pause",function(){this.map.style.animationLoop.cancel(n)}.bind(this)),this.map&&(this.video.play(),this.setCoordinates(e.coordinates)),this.fire("load")}.bind(this))}var o=t("../util/util"),i=t("./tile_coord"),a=t("../geo/lng_lat"),s=t("point-geometry"),l=t("../util/evented"),u=t("../util/ajax"),c=t("../data/bucket").EXTENT,p=t("../render/draw_raster").RasterBoundsArray,f=t("../data/buffer"),h=t("../render/vertex_array_object");e.exports=n,n.prototype=o.inherit(l,{minzoom:0,maxzoom:22,tileSize:512,roundZoom:!0,getVideo:function(){return this.video},onAdd:function(t){this.map||(this.map=t,this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},setCoordinates:function(t){this.coordinates=t;var e=this.map,r=t.map(function(t){return e.transform.locationCoordinate(a.convert(t)).zoomTo(0)}),n=this.centerCoord=o.getCoordinatesCenter(r);return n.column=Math.round(n.column),n.row=Math.round(n.row),this.minzoom=this.maxzoom=n.zoom,this._coord=new i(n.zoom,n.column,n.row),this._tileCoords=r.map(function(t){var e=t.zoomTo(n.zoom);return new s(Math.round((e.column-n.column)*c),Math.round((e.row-n.row)*c))}),this.fire("change"),this},_setTile:function(t){this._prepared=!1,this.tile=t;var e=32767,r=new p;r.emplaceBack(this._tileCoords[0].x,this._tileCoords[0].y,0,0),r.emplaceBack(this._tileCoords[1].x,this._tileCoords[1].y,e,0),r.emplaceBack(this._tileCoords[3].x,this._tileCoords[3].y,0,e),r.emplaceBack(this._tileCoords[2].x,this._tileCoords[2].y,e,e),this.tile.buckets={},this.tile.boundsBuffer=new f(r.serialize(),p.serialize(),f.BufferType.VERTEX),this.tile.boundsVAO=new h,this.tile.state="loaded"},prepare:function(){if(!(this.video.readyState<2)&&this.tile){var t=this.map.painter.gl;this._prepared?(t.bindTexture(t.TEXTURE_2D,this.tile.texture),t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,this.video)):(this._prepared=!0,this.tile.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.tile.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.video)),this._currentTime=this.video.currentTime}},loadTile:function(t,e){this._coord&&this._coord.toString()===t.coord.toString()?(this._setTile(t),e(null)):(t.state="errored",e(null))},serialize:function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}})},{"../data/bucket":309,"../data/buffer":314,"../geo/lng_lat":319,"../render/draw_raster":331,"../render/vertex_array_object":337,"../util/ajax":405,"../util/evented":414,"../util/util":422,"./tile_coord":349,"point-geometry":463}],353:[function(t,e,r){"use strict";function n(t){this.self=t,this.actor=new i(t,this);var e={getLayers:function(){return this.layers}.bind(this),getLayerFamilies:function(){return this.layerFamilies}.bind(this)};this.workerSources={vector:new l(this.actor,e),geojson:new u(this.actor,e)},this.self.registerWorkerSource=function(t,r){if(this.workerSources[t])throw new Error('Worker source with name "'+t+'" already registered.');this.workerSources[t]=new r(this.actor,e)}.bind(this)}function o(t){var e={};for(var r in t){var n=t[r],o=n.ref||n.id,i=t[o];i.layout&&"none"===i.layout.visibility||(e[o]=e[o]||[],r===o?e[o].unshift(n):e[o].push(n))}return e}var i=t("../util/actor"),a=t("../style/style_layer"),s=t("../util/util"),l=t("./vector_tile_worker_source"),u=t("./geojson_worker_source");e.exports=function(t){return new n(t)},s.extend(n.prototype,{"set layers":function(t){function e(t){var e=a.create(t,t.ref&&r.layers[t.ref]);e.updatePaintTransitions({},{transition:!1}),r.layers[e.id]=e}this.layers={};for(var r=this,n=[],i=0;i<t.length;i++){var s=t[i];"fill"!==s.type&&"line"!==s.type&&"circle"!==s.type&&"symbol"!==s.type||(s.ref?n.push(i):e(s))}for(var l=0;l<n.length;l++)e(t[n[l]]);this.layerFamilies=o(this.layers)},"update layers":function(t){function e(t){var e=i.layers[t.ref];i.layers[t.id]?i.layers[t.id].set(t,e):i.layers[t.id]=a.create(t,e),i.layers[t.id].updatePaintTransitions({},{transition:!1})}var r,n,i=this;for(r in t)n=t[r],n.ref&&e(n);for(r in t)n=t[r],n.ref||e(n);this.layerFamilies=o(this.layers)},"load tile":function(t,e){var r=t.type||"vector";this.workerSources[r].loadTile(t,e)},"reload tile":function(t,e){var r=t.type||"vector";this.workerSources[r].reloadTile(t,e)},"abort tile":function(t){var e=t.type||"vector";this.workerSources[e].abortTile(t)},"remove tile":function(t){var e=t.type||"vector";this.workerSources[e].removeTile(t)},"redo placement":function(t,e){var r=t.type||"vector";this.workerSources[r].redoPlacement(t,e)},"load worker source":function(t,e){try{this.self.importScripts(t.url),e()}catch(t){e(t)}}})},{"../style/style_layer":361,"../util/actor":404,"../util/util":422,"./geojson_worker_source":339,"./vector_tile_worker_source":351}],354:[function(t,e,r){"use strict";function n(t){this.coord=t.coord,this.uid=t.uid,this.zoom=t.zoom,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=t.overscaling,this.angle=t.angle,this.pitch=t.pitch,this.showCollisionBoxes=t.showCollisionBoxes}function o(t){return!t.isEmpty()}function i(t){return t.serialize()}function a(t){var e=[];for(var r in t)t[r].getTransferables(e);return e}function s(t){return t.id}var l=t("../data/feature_index"),u=t("../symbol/collision_tile"),c=t("../data/bucket"),p=t("../symbol/collision_box"),f=t("../util/dictionary_coder"),h=t("../util/util"),d=t("../symbol/symbol_instances"),y=t("../symbol/symbol_quads");e.exports=n,n.prototype.parse=function(t,e,r,n,m){function v(t,e){for(var r=0;r<t.length;r++){var n=t.feature(r);n.index=r;for(var o in e)e[o].filter(n)&&e[o].features.push(n)}}function g(t){if(t)return m(t);if(z++,2===z){for(var e=I.length-1;e>=0;e--)b(C,I[e]);x()}}function b(t,e){if(e.populateArrays(S,F,j),"symbol"!==e.type)for(var r=0;r<e.features.length;r++){var n=e.features[r];E.insert(n,n.index,e.sourceLayerIndex,e.index)}e.features=null}function x(){C.status="done",C.redoPlacementAfterDone&&(C.redoPlacement(C.angle,C.pitch,null),C.redoPlacementAfterDone=!1);var t=E.serialize(),e=S.serialize(),r=C.collisionBoxArray.serialize(),s=C.symbolInstancesArray.serialize(),l=C.symbolQuadsArray.serialize(),u=[n].concat(t.transferables).concat(e.transferables),c=O.filter(o);m(null,{buckets:c.map(i),featureIndex:t.data,collisionTile:e.data,collisionBoxArray:r,symbolInstancesArray:s,symbolQuadsArray:l,rawTileData:n},a(c).concat(u))}this.status="parsing",this.data=t,this.collisionBoxArray=new p,this.symbolInstancesArray=new d,this.symbolQuadsArray=new y;var _,w,T,M,S=new u(this.angle,this.pitch,this.collisionBoxArray),E=new l(this.coord,this.overscaling,S,t.layers),k=new f(t.layers?Object.keys(t.layers).sort():["_geojsonTileLayer"]),C=this,A={},P={},L=0;for(var D in e)w=e[D][0],w.source===this.source&&(w.ref||w.minzoom&&this.zoom<w.minzoom||w.maxzoom&&this.zoom>=w.maxzoom||w.layout&&"none"===w.layout.visibility||t.layers&&!t.layers[w.sourceLayer]||(M=c.create({layer:w,index:L++,childLayers:e[D],zoom:this.zoom,overscaling:this.overscaling,showCollisionBoxes:this.showCollisionBoxes,collisionBoxArray:this.collisionBoxArray,
symbolQuadsArray:this.symbolQuadsArray,symbolInstancesArray:this.symbolInstancesArray,sourceLayerIndex:k.encode(w.sourceLayer||"_geojsonTileLayer")}),M.createFilter(),A[w.id]=M,t.layers&&(T=w.sourceLayer,P[T]=P[T]||{},P[T][w.id]=M)));if(t.layers)for(T in P)1===w.version&&h.warnOnce('Vector tile source "'+this.source+'" layer "'+T+'" does not use vector tile spec v2 and therefore may have some rendering errors.'),w=t.layers[T],w&&v(w,P[T]);else v(t,A);var O=[],I=this.symbolBuckets=[],R=[];E.bucketLayerIDs={};for(var N in A)M=A[N],0!==M.features.length&&(E.bucketLayerIDs[M.index]=M.childLayers.map(s),O.push(M),"symbol"===M.type?I.push(M):R.push(M));var j={},F={},z=0;if(I.length>0){for(_=I.length-1;_>=0;_--)I[_].updateIcons(j),I[_].updateFont(F);for(var B in F)F[B]=Object.keys(F[B]).map(Number);j=Object.keys(j),r.send("get glyphs",{uid:this.uid,stacks:F},function(t,e){F=e,g(t)}),j.length?r.send("get icons",{icons:j},function(t,e){j=e,g(t)}):g()}for(_=R.length-1;_>=0;_--)b(this,R[_]);if(0===I.length)return x()},n.prototype.redoPlacement=function(t,e,r){if("done"!==this.status)return this.redoPlacementAfterDone=!0,this.angle=t,{};for(var n=new u(t,e,this.collisionBoxArray),s=this.symbolBuckets,l=s.length-1;l>=0;l--)s[l].placeFeatures(n,r);var c=n.serialize(),p=s.filter(o);return{result:{buckets:p.map(i),collisionTile:c.data},transferables:a(p).concat(c.transferables)}}},{"../data/bucket":309,"../data/feature_index":316,"../symbol/collision_box":374,"../symbol/collision_tile":376,"../symbol/symbol_instances":385,"../symbol/symbol_quads":386,"../util/dictionary_coder":412,"../util/util":422}],355:[function(t,e,r){"use strict";function n(){this.n=0,this.times=[]}e.exports=n,n.prototype.stopped=function(){return this.times=this.times.filter(function(t){return t.time>=(new Date).getTime()}),!this.times.length},n.prototype.set=function(t){return this.times.push({id:this.n,time:t+(new Date).getTime()}),this.n++},n.prototype.cancel=function(t){this.times=this.times.filter(function(e){return e.id!==t})}},{}],356:[function(t,e,r){"use strict";function n(t){this.base=t,this.retina=s.devicePixelRatio>1;var e=this.retina?"@2x":"";a.getJSON(l(t,e,".json"),function(t,e){return t?void this.fire("error",{error:t}):(this.data=e,void(this.img&&this.fire("load")))}.bind(this)),a.getImage(l(t,e,".png"),function(t,e){if(t)return void this.fire("error",{error:t});for(var r=e.getData(),n=e.data=new Uint8Array(r.length),o=0;o<r.length;o+=4){var i=r[o+3]/255;n[o+0]=r[o+0]*i,n[o+1]=r[o+1]*i,n[o+2]=r[o+2]*i,n[o+3]=r[o+3]}this.img=e,this.data&&this.fire("load")}.bind(this))}function o(){}var i=t("../util/evented"),a=t("../util/ajax"),s=t("../util/browser"),l=t("../util/mapbox").normalizeSpriteURL;e.exports=n,n.prototype=Object.create(i),n.prototype.toJSON=function(){return this.base},n.prototype.loaded=function(){return!(!this.data||!this.img)},n.prototype.resize=function(){if(s.devicePixelRatio>1!==this.retina){var t=new n(this.base);t.on("load",function(){this.img=t.img,this.data=t.data,this.retina=t.retina}.bind(this))}},o.prototype={x:0,y:0,width:0,height:0,pixelRatio:1,sdf:!1},n.prototype.getSpritePosition=function(t){if(!this.loaded())return new o;var e=this.data&&this.data[t];return e&&this.img?e:new o}},{"../util/ajax":405,"../util/browser":406,"../util/evented":414,"../util/mapbox":419}],357:[function(t,e,r){"use strict";var n=t("csscolorparser").parseCSSColor,o=t("../util/util"),i=t("./style_function"),a={};e.exports=function t(e){if(i.isFunctionDefinition(e))return o.extend({},e,{stops:e.stops.map(function(e){return[e[0],t(e[1])]})});if("string"==typeof e){if(!a[e]){var r=n(e);if(!r)throw new Error("Invalid color "+e);a[e]=[r[0]/255*r[3],r[1]/255*r[3],r[2]/255*r[3],r[3]]}return a[e]}throw new Error("Invalid color "+e)}},{"../util/util":422,"./style_function":360,csscolorparser:98}],358:[function(t,e,r){"use strict";function n(t,e,r){this.animationLoop=e||new y,this.dispatcher=new d(r||1,this),this.spriteAtlas=new l(1024,1024),this.lineAtlas=new u(256,512),this._layers={},this._order=[],this._groups=[],this.sources={},this.zoomHistory={},c.bindAll(["_forwardSourceEvent","_forwardTileEvent","_forwardLayerEvent","_redoPlacement"],this),this._resetUpdates();var n=function(t,e){if(t)return void this.fire("error",{error:t});if(!m.emitErrors(this,m(e))){this._loaded=!0,this.stylesheet=e,this.updateClasses();var r=e.sources;for(var n in r)this.addSource(n,r[n]);e.sprite&&(this.sprite=new a(e.sprite),this.sprite.on("load",this.fire.bind(this,"change"))),this.glyphSource=new s(e.glyphs),this._resolve(),this.fire("load")}}.bind(this);"string"==typeof t?p.getJSON(f(t),n):h.frame(n.bind(this,null,t)),this.on("source.load",function(t){var e=t.source;if(e&&e.vectorLayerIds)for(var r in this._layers){var n=this._layers[r];n.source===e.id&&this._validateLayer(n)}})}var o=t("../util/evented"),i=t("./style_layer"),a=t("./image_sprite"),s=t("../symbol/glyph_source"),l=t("../symbol/sprite_atlas"),u=t("../render/line_atlas"),c=t("../util/util"),p=t("../util/ajax"),f=t("../util/mapbox").normalizeStyleURL,h=t("../util/browser"),d=t("../util/dispatcher"),y=t("./animation_loop"),m=t("./validate_style"),v=t("../source/source"),g=t("../source/query_features"),b=t("../source/source_cache"),x=t("./style_spec"),_=t("./style_function");e.exports=n,n.prototype=c.inherit(o,{_loaded:!1,_validateLayer:function(t){var e=this.sources[t.source];t.sourceLayer&&e&&e.vectorLayerIds&&e.vectorLayerIds.indexOf(t.sourceLayer)===-1&&this.fire("error",{error:new Error('Source layer "'+t.sourceLayer+'" does not exist on source "'+e.id+'" as specified by style layer "'+t.id+'"')})},loaded:function(){if(!this._loaded)return!1;if(Object.keys(this._updates.sources).length)return!1;for(var t in this.sources)if(!this.sources[t].loaded())return!1;return!(this.sprite&&!this.sprite.loaded())},_resolve:function(){var t,e;this._layers={},this._order=this.stylesheet.layers.map(function(t){return t.id});for(var r=0;r<this.stylesheet.layers.length;r++)e=this.stylesheet.layers[r],e.ref||(t=i.create(e),this._layers[t.id]=t,t.on("error",this._forwardLayerEvent));for(var n=0;n<this.stylesheet.layers.length;n++)if(e=this.stylesheet.layers[n],e.ref){var o=this.getLayer(e.ref);t=i.create(e,o),this._layers[t.id]=t,t.on("error",this._forwardLayerEvent)}this._groupLayers(),this._updateWorkerLayers()},_groupLayers:function(){var t;this._groups=[];for(var e=0;e<this._order.length;++e){var r=this._layers[this._order[e]];t&&r.source===t.source||(t=[],t.source=r.source,this._groups.push(t)),t.push(r)}},_updateWorkerLayers:function(t){this.dispatcher.broadcast(t?"update layers":"set layers",this._serializeLayers(t))},_serializeLayers:function(t){t=t||this._order;for(var e=[],r={includeRefProperties:!0},n=0;n<t.length;n++)e.push(this._layers[t[n]].serialize(r));return e},_applyClasses:function(t,e){if(this._loaded){t=t||[],e=e||{transition:!0};var r=this.stylesheet.transition||{},n=this._updates.allPaintProps?this._layers:this._updates.paintProps;for(var o in n){var i=this._layers[o],a=this._updates.paintProps[o];if(this._updates.allPaintProps||a.all)i.updatePaintTransitions(t,e,r,this.animationLoop);else for(var s in a)this._layers[o].updatePaintTransition(s,t,e,r,this.animationLoop)}}},_recalculate:function(t){for(var e in this.sources)this.sources[e].used=!1;this._updateZoomHistory(t),this.rasterFadeDuration=300;for(var r in this._layers){var n=this._layers[r];n.recalculate(t,this.zoomHistory),!n.isHidden(t)&&n.source&&(this.sources[n.source].used=!0)}var o=300;Math.floor(this.z)!==Math.floor(t)&&this.animationLoop.set(o),this.z=t,this.fire("zoom")},_updateZoomHistory:function(t){var e=this.zoomHistory;void 0===e.lastIntegerZoom&&(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=0,e.lastZoom=t),Math.floor(e.lastZoom)<Math.floor(t)?(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=Date.now()):Math.floor(e.lastZoom)>Math.floor(t)&&(e.lastIntegerZoom=Math.floor(t+1),e.lastIntegerZoomTime=Date.now()),e.lastZoom=t},_checkLoaded:function(){if(!this._loaded)throw new Error("Style is not done loading")},update:function(t,e){if(!this._updates.changed)return this;if(this._updates.allLayers)this._groupLayers(),this._updateWorkerLayers();else{var r=Object.keys(this._updates.layers);r.length&&this._updateWorkerLayers(r)}var n,o=Object.keys(this._updates.sources);for(n=0;n<o.length;n++)this._reloadSource(o[n]);for(n=0;n<this._updates.events.length;n++){var i=this._updates.events[n];this.fire(i[0],i[1])}return this._applyClasses(t,e),this._updates.changed&&this.fire("change"),this._resetUpdates(),this},_resetUpdates:function(){this._updates={events:[],layers:{},sources:{},paintProps:{}}},addSource:function(t,e){if(this._checkLoaded(),void 0!==this.sources[t])throw new Error("There is already a source with this ID");if(!e.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(e)+".");var r=["vector","raster","geojson","video","image"],n=r.indexOf(e.type)>=0;return n&&this._handleErrors(m.source,"sources."+t,e)?this:(e=new b(t,e,this.dispatcher),this.sources[t]=e,e.style=this,e.on("load",this._forwardSourceEvent).on("error",this._forwardSourceEvent).on("change",this._forwardSourceEvent).on("tile.add",this._forwardTileEvent).on("tile.load",this._forwardTileEvent).on("tile.error",this._forwardTileEvent).on("tile.remove",this._forwardTileEvent).on("tile.stats",this._forwardTileEvent),this._updates.events.push(["source.add",{source:e}]),this._updates.changed=!0,this)},removeSource:function(t){if(this._checkLoaded(),void 0===this.sources[t])throw new Error("There is no source with this ID");var e=this.sources[t];return delete this.sources[t],delete this._updates.sources[t],e.off("load",this._forwardSourceEvent).off("error",this._forwardSourceEvent).off("change",this._forwardSourceEvent).off("tile.add",this._forwardTileEvent).off("tile.load",this._forwardTileEvent).off("tile.error",this._forwardTileEvent).off("tile.remove",this._forwardTileEvent).off("tile.stats",this._forwardTileEvent),this._updates.events.push(["source.remove",{source:e}]),this._updates.changed=!0,this},getSource:function(t){return this.sources[t]&&this.sources[t].getSource()},addLayer:function(t,e){if(this._checkLoaded(),!(t instanceof i)){if(this._handleErrors(m.layer,"layers."+t.id,t,!1,{arrayIndex:-1}))return this;var r=t.ref&&this.getLayer(t.ref);t=i.create(t,r)}return this._validateLayer(t),t.on("error",this._forwardLayerEvent),this._layers[t.id]=t,this._order.splice(e?this._order.indexOf(e):1/0,0,t.id),this._updates.allLayers=!0,t.source&&(this._updates.sources[t.source]=!0),this._updates.events.push(["layer.add",{layer:t}]),this.updateClasses(t.id)},removeLayer:function(t){this._checkLoaded();var e=this._layers[t];if(void 0===e)throw new Error("There is no layer with this ID");for(var r in this._layers)this._layers[r].ref===t&&this.removeLayer(r);return e.off("error",this._forwardLayerEvent),delete this._layers[t],delete this._updates.layers[t],delete this._updates.paintProps[t],this._order.splice(this._order.indexOf(t),1),this._updates.allLayers=!0,this._updates.events.push(["layer.remove",{layer:e}]),this._updates.changed=!0,this},getLayer:function(t){return this._layers[t]},getReferentLayer:function(t){var e=this.getLayer(t);return e.ref&&(e=this.getLayer(e.ref)),e},setLayerZoomRange:function(t,e,r){this._checkLoaded();var n=this.getReferentLayer(t);return n.minzoom===e&&n.maxzoom===r?this:(null!=e&&(n.minzoom=e),null!=r&&(n.maxzoom=r),this._updateLayer(n))},setFilter:function(t,e){this._checkLoaded();var r=this.getReferentLayer(t);return null!==e&&this._handleErrors(m.filter,"layers."+r.id+".filter",e)?this:c.deepEqual(r.filter,e)?this:(r.filter=c.clone(e),this._updateLayer(r))},getFilter:function(t){return this.getReferentLayer(t).filter},setLayoutProperty:function(t,e,r){this._checkLoaded();var n=this.getReferentLayer(t);return c.deepEqual(n.getLayoutProperty(e),r)?this:(n.setLayoutProperty(e,r),this._updateLayer(n))},getLayoutProperty:function(t,e){return this.getReferentLayer(t).getLayoutProperty(e)},setPaintProperty:function(t,e,r,n){this._checkLoaded();var o=this.getLayer(t);if(c.deepEqual(o.getPaintProperty(e,n),r))return this;var i=o.isPaintValueFeatureConstant(e);o.setPaintProperty(e,r,n);var a=!(r&&_.isFunctionDefinition(r)&&"$zoom"!==r.property&&void 0!==r.property);return a&&i||(this._updates.layers[t]=!0,o.source&&(this._updates.sources[o.source]=!0)),this.updateClasses(t,e)},getPaintProperty:function(t,e,r){return this.getLayer(t).getPaintProperty(e,r)},updateClasses:function(t,e){if(this._updates.changed=!0,t){var r=this._updates.paintProps;r[t]||(r[t]={}),r[t][e||"all"]=!0}else this._updates.allPaintProps=!0;return this},serialize:function(){return c.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:c.mapObject(this.sources,function(t){return t.serialize()}),layers:this._order.map(function(t){return this._layers[t].serialize()},this)},function(t){return void 0!==t})},_updateLayer:function(t){return this._updates.layers[t.id]=!0,t.source&&(this._updates.sources[t.source]=!0),this._updates.changed=!0,this},_flattenRenderedFeatures:function(t){for(var e=[],r=this._order.length-1;r>=0;r--)for(var n=this._order[r],o=0;o<t.length;o++){var i=t[o][n];if(i)for(var a=0;a<i.length;a++)e.push(i[a])}return e},queryRenderedFeatures:function(t,e,r,n){e&&e.filter&&this._handleErrors(m.filter,"queryRenderedFeatures.filter",e.filter,!0);var o={};if(e&&e.layers)for(var i=0;i<e.layers.length;i++){var a=e.layers[i];o[this._layers[a].source]=!0}var s=[];for(var l in this.sources)if(!e.layers||o[l]){var u=this.sources[l],c=g.rendered(u,this._layers,t,e,r,n);s.push(c)}return this._flattenRenderedFeatures(s)},querySourceFeatures:function(t,e){e&&e.filter&&this._handleErrors(m.filter,"querySourceFeatures.filter",e.filter,!0);var r=this.sources[t];return r?g.source(r,e):[]},addSourceType:function(t,e,r){return v.getType(t)?r(new Error('A source type called "'+t+'" already exists.')):(v.setType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("load worker source",{name:t,url:e.workerSourceURL},r):r(null,null))},_handleErrors:function(t,e,r,n,o){var i=n?m.throwErrors:m.emitErrors,a=t.call(m,c.extend({key:e,style:this.serialize(),value:r,styleSpec:x},o));return i.call(m,this,a)},_remove:function(){this.dispatcher.remove()},_reloadSource:function(t){this.sources[t].reload()},_updateSources:function(t){for(var e in this.sources)this.sources[e].update(t)},_redoPlacement:function(){for(var t in this.sources)this.sources[t].redoPlacement&&this.sources[t].redoPlacement()},_forwardSourceEvent:function(t){this.fire("source."+t.type,c.extend({source:t.target.getSource()},t))},_forwardTileEvent:function(t){this.fire(t.type,c.extend({source:t.target},t))},_forwardLayerEvent:function(t){this.fire("layer."+t.type,c.extend({layer:{id:t.target.id}},t))},"get sprite json":function(t,e){var r=this.sprite;r.loaded()?e(null,{sprite:r.data,retina:r.retina}):r.on("load",function(){e(null,{sprite:r.data,retina:r.retina})})},"get icons":function(t,e){var r=this.sprite,n=this.spriteAtlas;r.loaded()?(n.setSprite(r),n.addIcons(t.icons,e)):r.on("load",function(){n.setSprite(r),n.addIcons(t.icons,e)})},"get glyphs":function(t,e){function r(t,r,n){t&&console.error(t),i[n]=r,o--,0===o&&e(null,i)}var n=t.stacks,o=Object.keys(n).length,i={};for(var a in n)this.glyphSource.getSimpleGlyphs(a,n[a],t.uid,r)}})},{"../render/line_atlas":334,"../source/query_features":344,"../source/source":346,"../source/source_cache":347,"../symbol/glyph_source":379,"../symbol/sprite_atlas":384,"../util/ajax":405,"../util/browser":406,"../util/dispatcher":413,"../util/evented":414,"../util/mapbox":419,"../util/util":422,"./animation_loop":355,"./image_sprite":356,"./style_function":360,"./style_layer":361,"./style_spec":368,"./validate_style":370}],359:[function(t,e,r){"use strict";function n(t,e){this.value=s.clone(e),this.isFunction=i.isFunctionDefinition(e),this.json=JSON.stringify(this.value);var r="color"===t.type&&this.value?a(this.value):e;if(this.calculate=i[t.function||"piecewise-constant"](r),this.isFeatureConstant=this.calculate.isFeatureConstant,this.isZoomConstant=this.calculate.isZoomConstant,"piecewise-constant"===t.function&&t.transition&&(this.calculate=o(this.calculate)),!this.isFeatureConstant&&!this.isZoomConstant){this.stopZoomLevels=[];for(var n=[],l=this.value.stops,u=0;u<this.value.stops.length;u++){var c=l[u][0].zoom;this.stopZoomLevels.indexOf(c)<0&&(this.stopZoomLevels.push(c),n.push([c,n.length]))}this.calculateInterpolationT=i.interpolated({stops:n,base:e.base})}}function o(t){return function(e,r){var n,o,i,a=e.zoom,s=e.zoomHistory,l=e.duration,u=a%1,c=Math.min((Date.now()-s.lastIntegerZoomTime)/l,1),p=1,f=1;return a>s.lastIntegerZoom?(n=u+(1-u)*c,p*=2,o=t({zoom:a-1},r),i=t({zoom:a},r)):(n=1-(1-c)*u,i=t({zoom:a},r),o=t({zoom:a+1},r),p/=2),void 0===o||void 0===i?void 0:{from:o,fromScale:p,to:i,toScale:f,t:n}}}var i=t("./style_function"),a=t("./parse_color"),s=t("../util/util");e.exports=n},{"../util/util":422,"./parse_color":357,"./style_function":360}],360:[function(t,e,r){"use strict";var n=t("mapbox-gl-function");r.interpolated=function(t){var e=n.interpolated(t),r=function(t,r){return e(t&&t.zoom,r||{})};return r.isFeatureConstant=e.isFeatureConstant,r.isZoomConstant=e.isZoomConstant,r},r["piecewise-constant"]=function(t){var e=n["piecewise-constant"](t),r=function(t,r){return e(t&&t.zoom,r||{})};return r.isFeatureConstant=e.isFeatureConstant,r.isZoomConstant=e.isZoomConstant,r},r.isFunctionDefinition=n.isFunctionDefinition},{"mapbox-gl-function":282}],361:[function(t,e,r){"use strict";function n(t,e){this.set(t,e)}function o(t){return t.value}var i=t("../util/util"),a=t("./style_transition"),s=t("./style_declaration"),l=t("./style_spec"),u=t("./validate_style"),c=t("./parse_color"),p=t("../util/evented");e.exports=n;var f="-transition";n.create=function(e,r){var n={background:t("./style_layer/background_style_layer"),circle:t("./style_layer/circle_style_layer"),fill:t("./style_layer/fill_style_layer"),line:t("./style_layer/line_style_layer"),raster:t("./style_layer/raster_style_layer"),symbol:t("./style_layer/symbol_style_layer")};return new n[(r||e).type](e,r)},n.prototype=i.inherit(p,{set:function(t,e){this.id=t.id,this.ref=t.ref,this.metadata=t.metadata,this.type=(e||t).type,this.source=(e||t).source,this.sourceLayer=(e||t)["source-layer"],this.minzoom=(e||t).minzoom,this.maxzoom=(e||t).maxzoom,this.filter=(e||t).filter,this.paint={},this.layout={},this._paintSpecifications=l["paint_"+this.type],this._layoutSpecifications=l["layout_"+this.type],this._paintTransitions={},this._paintTransitionOptions={},this._paintDeclarations={},this._layoutDeclarations={},this._layoutFunctions={};var r,n;for(var o in t){var i=o.match(/^paint(?:\.(.*))?$/);if(i){var a=i[1]||"";for(r in t[o])this.setPaintProperty(r,t[o][r],a)}}if(this.ref)this._layoutDeclarations=e._layoutDeclarations;else for(n in t.layout)this.setLayoutProperty(n,t.layout[n]);for(r in this._paintSpecifications)this.paint[r]=this.getPaintValue(r);for(n in this._layoutSpecifications)this._updateLayoutValue(n)},setLayoutProperty:function(t,e){if(null==e)delete this._layoutDeclarations[t];else{var r="layers."+this.id+".layout."+t;if(this._handleErrors(u.layoutProperty,r,t,e))return;this._layoutDeclarations[t]=new s(this._layoutSpecifications[t],e)}this._updateLayoutValue(t)},getLayoutProperty:function(t){return this._layoutDeclarations[t]&&this._layoutDeclarations[t].value},getLayoutValue:function(t,e,r){var n=this._layoutSpecifications[t],o=this._layoutDeclarations[t];return o?o.calculate(e,r):n.default},setPaintProperty:function(t,e,r){var n="layers."+this.id+(r?'["paint.'+r+'"].':".paint.")+t;if(i.endsWith(t,f))if(this._paintTransitionOptions[r||""]||(this._paintTransitionOptions[r||""]={}),null===e||void 0===e)delete this._paintTransitionOptions[r||""][t];else{if(this._handleErrors(u.paintProperty,n,t,e))return;this._paintTransitionOptions[r||""][t]=e}else if(this._paintDeclarations[r||""]||(this._paintDeclarations[r||""]={}),null===e||void 0===e)delete this._paintDeclarations[r||""][t];else{if(this._handleErrors(u.paintProperty,n,t,e))return;this._paintDeclarations[r||""][t]=new s(this._paintSpecifications[t],e)}},getPaintProperty:function(t,e){return e=e||"",i.endsWith(t,f)?this._paintTransitionOptions[e]&&this._paintTransitionOptions[e][t]:this._paintDeclarations[e]&&this._paintDeclarations[e][t]&&this._paintDeclarations[e][t].value},getPaintValue:function(t,e,r){var n=this._paintSpecifications[t],o=this._paintTransitions[t];return o?o.calculate(e,r):"color"===n.type&&n.default?c(n.default):n.default},getPaintValueStopZoomLevels:function(t){var e=this._paintTransitions[t];return e?e.declaration.stopZoomLevels:[]},getPaintInterpolationT:function(t,e){var r=this._paintTransitions[t];return r.declaration.calculateInterpolationT({zoom:e})},isPaintValueFeatureConstant:function(t){var e=this._paintTransitions[t];return!e||e.declaration.isFeatureConstant},isLayoutValueFeatureConstant:function(t){var e=this._layoutDeclarations[t];return!e||e.isFeatureConstant},isPaintValueZoomConstant:function(t){var e=this._paintTransitions[t];return!e||e.declaration.isZoomConstant},isHidden:function(t){return!!(this.minzoom&&t<this.minzoom)||(!!(this.maxzoom&&t>=this.maxzoom)||("none"===this.layout.visibility||0===this.paint[this.type+"-opacity"]))},updatePaintTransitions:function(t,e,r,n){for(var o=i.extend({},this._paintDeclarations[""]),a=0;a<t.length;a++)i.extend(o,this._paintDeclarations[t[a]]);var s;for(s in o)this._applyPaintDeclaration(s,o[s],e,r,n);for(s in this._paintTransitions)s in o||this._applyPaintDeclaration(s,null,e,r,n)},updatePaintTransition:function(t,e,r,n,o){for(var i=this._paintDeclarations[""][t],a=0;a<e.length;a++){var s=this._paintDeclarations[e[a]];s&&s[t]&&(i=s[t])}this._applyPaintDeclaration(t,i,r,n,o)},recalculate:function(t,e){for(var r in this._paintTransitions)this.paint[r]=this.getPaintValue(r,{zoom:t,zoomHistory:e});for(var n in this._layoutFunctions)this.layout[n]=this.getLayoutValue(n,{zoom:t,zoomHistory:e})},serialize:function(t){var e={id:this.id,ref:this.ref,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom};for(var r in this._paintDeclarations){var n=""===r?"paint":"paint."+r;e[n]=i.mapObject(this._paintDeclarations[r],o)}return(!this.ref||t&&t.includeRefProperties)&&i.extend(e,{type:this.type,source:this.source,"source-layer":this.sourceLayer,filter:this.filter,layout:i.mapObject(this._layoutDeclarations,o)}),i.filterObject(e,function(t,e){return void 0!==t&&!("layout"===e&&!Object.keys(t).length)})},_applyPaintDeclaration:function(t,e,r,n,o){var l=r.transition?this._paintTransitions[t]:void 0,u=this._paintSpecifications[t];if(null!==e&&void 0!==e||(e=new s(u,u.default)),!l||l.declaration.json!==e.json){var c=i.extend({duration:300,delay:0},n,this.getPaintProperty(t+f)),p=this._paintTransitions[t]=new a(u,e,l,c);p.instant()||(p.loopID=o.set(p.endTime-Date.now())),l&&o.cancel(l.loopID)}},_updateLayoutValue:function(t){var e=this._layoutDeclarations[t];e&&e.isFunction?this._layoutFunctions[t]=!0:(delete this._layoutFunctions[t],this.layout[t]=this.getLayoutValue(t))},_handleErrors:function(t,e,r,n){return u.emitErrors(this,t.call(u,{key:e,layerType:this.type,objectKey:r,value:n,styleSpec:l,style:{glyphs:!0,sprite:!0}}))}})},{"../util/evented":414,"../util/util":422,"./parse_color":357,"./style_declaration":359,"./style_layer/background_style_layer":362,"./style_layer/circle_style_layer":363,"./style_layer/fill_style_layer":364,"./style_layer/line_style_layer":365,"./style_layer/raster_style_layer":366,"./style_layer/symbol_style_layer":367,"./style_spec":368,"./style_transition":369,"./validate_style":370}],362:[function(t,e,r){"use strict";function n(){i.apply(this,arguments)}var o=t("../../util/util"),i=t("../style_layer");e.exports=n,n.prototype=o.inherit(i,{})},{"../../util/util":422,"../style_layer":361}],363:[function(t,e,r){"use strict";function n(){i.apply(this,arguments)}var o=t("../../util/util"),i=t("../style_layer");e.exports=n,n.prototype=o.inherit(i,{})},{"../../util/util":422,"../style_layer":361}],364:[function(t,e,r){"use strict";function n(){i.apply(this,arguments)}var o=t("../../util/util"),i=t("../style_layer");n.prototype=o.inherit(i,{getPaintValue:function(t,e,r){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?i.prototype.getPaintValue.call(this,"fill-color",e,r):i.prototype.getPaintValue.call(this,t,e,r)},getPaintValueStopZoomLevels:function(t){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?i.prototype.getPaintValueStopZoomLevels.call(this,"fill-color"):i.prototype.getPaintValueStopZoomLevels.call(this,arguments)},getPaintInterpolationT:function(t,e){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?i.prototype.getPaintInterpolationT.call(this,"fill-color",e):i.prototype.getPaintInterpolationT.call(this,t,e)},isPaintValueFeatureConstant:function(t){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?i.prototype.isPaintValueFeatureConstant.call(this,"fill-color"):i.prototype.isPaintValueFeatureConstant.call(this,t)},isPaintValueZoomConstant:function(t){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?i.prototype.isPaintValueZoomConstant.call(this,"fill-color"):i.prototype.isPaintValueZoomConstant.call(this,t)}}),e.exports=n},{"../../util/util":422,"../style_layer":361}],365:[function(t,e,r){"use strict";function n(){i.apply(this,arguments)}var o=t("../../util/util"),i=t("../style_layer");e.exports=n,n.prototype=o.inherit(i,{getPaintValue:function(t,e,r){var n=i.prototype.getPaintValue.apply(this,arguments);if(n&&"line-dasharray"===t){var o=Math.floor(e.zoom);this._flooredZoom!==o&&(this._flooredZoom=o,this._flooredLineWidth=this.getPaintValue("line-width",e,r)),n.fromScale*=this._flooredLineWidth,n.toScale*=this._flooredLineWidth}return n}})},{"../../util/util":422,"../style_layer":361}],366:[function(t,e,r){"use strict";function n(){i.apply(this,arguments)}var o=t("../../util/util"),i=t("../style_layer");e.exports=n,n.prototype=o.inherit(i,{})},{"../../util/util":422,"../style_layer":361}],367:[function(t,e,r){"use strict";function n(){i.apply(this,arguments)}var o=t("../../util/util"),i=t("../style_layer");e.exports=n,n.prototype=o.inherit(i,{isHidden:function(){if(i.prototype.isHidden.apply(this,arguments))return!0;var t=0===this.paint["text-opacity"]||!this.layout["text-field"],e=0===this.paint["icon-opacity"]||!this.layout["icon-image"];return!(!t||!e)},getLayoutValue:function(t,e,r){return("text-rotation-alignment"!==t||"line"!==this.getLayoutValue("symbol-placement",e,r)||this.getLayoutProperty("text-rotation-alignment"))&&("icon-rotation-alignment"!==t||"line"!==this.getLayoutValue("symbol-placement",e,r)||this.getLayoutProperty("icon-rotation-alignment"))?"text-pitch-alignment"!==t||this.getLayoutProperty("text-pitch-alignment")?i.prototype.getLayoutValue.apply(this,arguments):this.getLayoutValue("text-rotation-alignment"):"map"}})},{"../../util/util":422,"../style_layer":361}],368:[function(t,e,r){"use strict";e.exports=t("mapbox-gl-style-spec/reference/latest.min")},{"mapbox-gl-style-spec/reference/latest.min":305}],369:[function(t,e,r){"use strict";function n(t,e,r,n){this.declaration=e,this.startTime=this.endTime=(new Date).getTime(),"piecewise-constant"===t.function&&t.transition?this.interp=o:this.interp=a[t.type],this.oldTransition=r,this.duration=n.duration||0,this.delay=n.delay||0,this.instant()||(this.endTime=this.startTime+this.duration+this.delay,this.ease=i.easeCubicInOut),r&&r.endTime<=this.startTime&&delete r.oldTransition}function o(t,e,r){return void 0===(t&&t.to)||void 0===(e&&e.to)?void 0:{from:t.to,fromScale:t.toScale,to:e.to,toScale:e.toScale,t:r}}var i=t("../util/util"),a=t("../util/interpolate");e.exports=n,n.prototype.instant=function(){return!this.oldTransition||!this.interp||0===this.duration&&0===this.delay},n.prototype.calculate=function(t,e){var r=this.declaration.calculate(i.extend({},t,{duration:this.duration}),e);if(this.instant())return r;var n=t.time||Date.now();if(n<this.endTime){var o=this.oldTransition.calculate(i.extend({},t,{time:this.startTime}),e),a=this.ease((n-this.startTime-this.delay)/this.duration);r=this.interp(o,r,a)}return r}},{"../util/interpolate":416,"../util/util":422}],370:[function(t,e,r){"use strict";e.exports=t("mapbox-gl-style-spec/lib/validate_style.min"),e.exports.emitErrors=function(t,e){if(e&&e.length){for(var r=0;r<e.length;r++)t.fire("error",{error:new Error(e[r].message)});return!0}return!1},e.exports.throwErrors=function(t,e){if(e)for(var r=0;r<e.length;r++)throw new Error(e[r].message)}},{"mapbox-gl-style-spec/lib/validate_style.min":304}],371:[function(t,e,r){"use strict";function n(t,e,r,n){this.x=t,this.y=e,this.angle=r,void 0!==n&&(this.segment=n)}var o=t("point-geometry");e.exports=n,n.prototype=Object.create(o.prototype),n.prototype.clone=function(){return new n(this.x,this.y,this.angle,this.segment)}},{"point-geometry":463}],372:[function(t,e,r){"use strict";function n(t,e,r,n,o){if(void 0===e.segment)return!0;for(var i=e,a=e.segment+1,s=0;s>-r/2;){if(a--,a<0)return!1;s-=t[a].dist(i),i=t[a]}s+=t[a].dist(t[a+1]),a++;for(var l=[],u=0;s<r/2;){var c=t[a-1],p=t[a],f=t[a+1];if(!f)return!1;var h=c.angleTo(p)-p.angleTo(f);for(h=Math.abs((h+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:h}),u+=h;s-l[0].distance>n;)u-=l.shift().angleDelta;if(u>o)return!1;a++,s+=p.dist(f)}return!0}e.exports=n},{}],373:[function(t,e,r){"use strict";function n(t,e,r,n,i){for(var a=[],s=0;s<t.length;s++)for(var l,u=t[s],c=0;c<u.length-1;c++){var p=u[c],f=u[c+1];p.x<e&&f.x<e||(p.x<e?p=new o(e,p.y+(f.y-p.y)*((e-p.x)/(f.x-p.x)))._round():f.x<e&&(f=new o(e,p.y+(f.y-p.y)*((e-p.x)/(f.x-p.x)))._round()),p.y<r&&f.y<r||(p.y<r?p=new o(p.x+(f.x-p.x)*((r-p.y)/(f.y-p.y)),r)._round():f.y<r&&(f=new o(p.x+(f.x-p.x)*((r-p.y)/(f.y-p.y)),r)._round()),p.x>=n&&f.x>=n||(p.x>=n?p=new o(n,p.y+(f.y-p.y)*((n-p.x)/(f.x-p.x)))._round():f.x>=n&&(f=new o(n,p.y+(f.y-p.y)*((n-p.x)/(f.x-p.x)))._round()),p.y>=i&&f.y>=i||(p.y>=i?p=new o(p.x+(f.x-p.x)*((i-p.y)/(f.y-p.y)),i)._round():f.y>=i&&(f=new o(p.x+(f.x-p.x)*((i-p.y)/(f.y-p.y)),i)._round()),l&&p.equals(l[l.length-1])||(l=[p],a.push(l)),l.push(f)))))}return a}var o=t("point-geometry");e.exports=n},{"point-geometry":463}],374:[function(t,e,r){"use strict";var n=t("../util/struct_array"),o=t("../util/util"),i=t("point-geometry"),a=e.exports=new n({members:[{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Float32",name:"maxScale"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"bbox0"},{type:"Int16",name:"bbox1"},{type:"Int16",name:"bbox2"},{type:"Int16",name:"bbox3"},{type:"Float32",name:"placementScale"}]});o.extendAll(a.prototype.StructType.prototype,{get anchorPoint(){return new i(this.anchorPointX,this.anchorPointY)}})},{"../util/struct_array":420,"../util/util":422,"point-geometry":463}],375:[function(t,e,r){"use strict";function n(t,e,r,n,o,i,a,s,l,u,c){var p=a.top*s-l,f=a.bottom*s+l,h=a.left*s-l,d=a.right*s+l;if(this.boxStartIndex=t.length,u){var y=f-p,m=d-h;if(y>0)if(y=Math.max(10*s,y),c){var v=e[r.segment+1].sub(e[r.segment])._unit()._mult(m),g=[r.sub(v),r.add(v)];this._addLineCollisionBoxes(t,g,r,0,m,y,n,o,i)}else this._addLineCollisionBoxes(t,e,r,r.segment,m,y,n,o,i)}else t.emplaceBack(r.x,r.y,h,p,d,f,1/0,n,o,i,0,0,0,0,0);
this.boxEndIndex=t.length}e.exports=n,n.prototype._addLineCollisionBoxes=function(t,e,r,n,o,i,a,s,l){var u=i/2,c=Math.floor(o/u),p=-i/2,f=this.boxes,h=r,d=n+1,y=p;do{if(d--,d<0)return f;y-=e[d].dist(h),h=e[d]}while(y>-o/2);for(var m=e[d].dist(e[d+1]),v=0;v<c;v++){for(var g=-o/2+v*u;y+m<g;){if(y+=m,d++,d+1>=e.length)return f;m=e[d].dist(e[d+1])}var b=g-y,x=e[d],_=e[d+1],w=_.sub(x)._unit()._mult(b)._add(x)._round(),T=Math.max(Math.abs(g-p)-u/2,0),M=o/2/T;t.emplaceBack(w.x,w.y,-i/2,-i/2,i/2,i/2,M,a,s,l,0,0,0,0,0)}return f}},{}],376:[function(t,e,r){"use strict";function n(t,e,r){if("object"==typeof t){var n=t;r=e,t=n.angle,e=n.pitch,this.grid=new a(n.grid),this.ignoredGrid=new a(n.ignoredGrid)}else this.grid=new a(i,12,6),this.ignoredGrid=new a(i,12,0);this.angle=t,this.pitch=e;var o=Math.sin(t),s=Math.cos(t);if(this.rotationMatrix=[s,-o,o,s],this.reverseRotationMatrix=[s,o,-o,s],this.yStretch=1/Math.cos(e/180*Math.PI),this.yStretch=Math.pow(this.yStretch,1.3),this.collisionBoxArray=r,0===r.length){r.emplaceBack();var l=32767;r.emplaceBack(0,0,0,-l,0,l,l,0,0,0,0,0,0,0,0,0),r.emplaceBack(i,0,0,-l,0,l,l,0,0,0,0,0,0,0,0,0),r.emplaceBack(0,0,-l,0,l,0,l,0,0,0,0,0,0,0,0,0),r.emplaceBack(0,i,-l,0,l,0,l,0,0,0,0,0,0,0,0,0)}this.tempCollisionBox=r.get(0),this.edges=[r.get(1),r.get(2),r.get(3),r.get(4)]}var o=t("point-geometry"),i=t("../data/bucket").EXTENT,a=t("grid-index");e.exports=n,n.prototype.serialize=function(){var t={angle:this.angle,pitch:this.pitch,grid:this.grid.toArrayBuffer(),ignoredGrid:this.ignoredGrid.toArrayBuffer()};return{data:t,transferables:[t.grid,t.ignoredGrid]}},n.prototype.minScale=.25,n.prototype.maxScale=2,n.prototype.placeCollisionFeature=function(t,e,r){for(var n=this.collisionBoxArray,i=this.minScale,a=this.rotationMatrix,s=this.yStretch,l=t.boxStartIndex;l<t.boxEndIndex;l++){var u=n.get(l),c=u.anchorPoint._matMult(a),p=c.x,f=c.y,h=p+u.x1,d=f+u.y1*s,y=p+u.x2,m=f+u.y2*s;if(u.bbox0=h,u.bbox1=d,u.bbox2=y,u.bbox3=m,!e)for(var v=this.grid.query(h,d,y,m),g=0;g<v.length;g++){var b=n.get(v[g]),x=b.anchorPoint._matMult(a);if(i=this.getPlacementScale(i,c,u,x,b),i>=this.maxScale)return i}if(r){var _;if(this.angle){var w=this.reverseRotationMatrix,T=new o(u.x1,u.y1).matMult(w),M=new o(u.x2,u.y1).matMult(w),S=new o(u.x1,u.y2).matMult(w),E=new o(u.x2,u.y2).matMult(w);_=this.tempCollisionBox,_.anchorPointX=u.anchorPoint.x,_.anchorPointY=u.anchorPoint.y,_.x1=Math.min(T.x,M.x,S.x,E.x),_.y1=Math.min(T.y,M.x,S.x,E.x),_.x2=Math.max(T.x,M.x,S.x,E.x),_.y2=Math.max(T.y,M.x,S.x,E.x),_.maxScale=u.maxScale}else _=u;for(var k=0;k<this.edges.length;k++){var C=this.edges[k];if(i=this.getPlacementScale(i,u.anchorPoint,_,C.anchorPoint,C),i>=this.maxScale)return i}}}return i},n.prototype.queryRenderedSymbols=function(t,e,r,n,i){var a={},s=[],l=this.collisionBoxArray,u=this.rotationMatrix,c=new o(t,e)._matMult(u),p=this.tempCollisionBox;p.anchorX=c.x,p.anchorY=c.y,p.x1=0,p.y1=0,p.x2=r-t,p.y2=n-e,p.maxScale=i,i=p.maxScale;for(var f=[c.x+p.x1/i,c.y+p.y1/i*this.yStretch,c.x+p.x2/i,c.y+p.y2/i*this.yStretch],h=this.grid.query(f[0],f[1],f[2],f[3]),d=this.ignoredGrid.query(f[0],f[1],f[2],f[3]),y=0;y<d.length;y++)h.push(d[y]);for(var m=0;m<h.length;m++){var v=l.get(h[m]),g=v.sourceLayerIndex,b=v.featureIndex;if(void 0===a[g]&&(a[g]={}),!a[g][b]){var x=v.anchorPoint.matMult(u),_=this.getPlacementScale(this.minScale,c,p,x,v);_>=i&&(a[g][b]=!0,s.push(h[m]))}}return s},n.prototype.getPlacementScale=function(t,e,r,n,o){var i=e.x-n.x,a=e.y-n.y,s=(o.x1-r.x2)/i,l=(o.x2-r.x1)/i,u=(o.y1-r.y2)*this.yStretch/a,c=(o.y2-r.y1)*this.yStretch/a;(isNaN(s)||isNaN(l))&&(s=l=1),(isNaN(u)||isNaN(c))&&(u=c=1);var p=Math.min(Math.max(s,l),Math.max(u,c)),f=o.maxScale,h=r.maxScale;return p>f&&(p=f),p>h&&(p=h),p>t&&p>=o.placementScale&&(t=p),t},n.prototype.insertCollisionFeature=function(t,e,r){for(var n=r?this.ignoredGrid:this.grid,o=this.collisionBoxArray,i=t.boxStartIndex;i<t.boxEndIndex;i++){var a=o.get(i);a.placementScale=e,e<this.maxScale&&n.insert(i,a.bbox0,a.bbox1,a.bbox2,a.bbox3)}}},{"../data/bucket":309,"grid-index":269,"point-geometry":463}],377:[function(t,e,r){"use strict";function n(t,e,r,n,i,a,s,l,u){var c=n?.6*a*s:0,p=Math.max(n?n.right-n.left:0,i?i.right-i.left:0),f=0===t[0].x||t[0].x===u||0===t[0].y||t[0].y===u;e-p*s<e/4&&(e=p*s+e/4);var h=2*a,d=f?e/2*l%e:(p/2+h)*s*l%e;return o(t,d,e,c,r,p*s,f,!1,u)}function o(t,e,r,n,l,u,c,p,f){for(var h=u/2,d=0,y=0;y<t.length-1;y++)d+=t[y].dist(t[y+1]);for(var m=0,v=e-r,g=[],b=0;b<t.length-1;b++){for(var x=t[b],_=t[b+1],w=x.dist(_),T=_.angleTo(x);v+r<m+w;){v+=r;var M=(v-m)/w,S=i(x.x,_.x,M),E=i(x.y,_.y,M);if(S>=0&&S<f&&E>=0&&E<f&&v-h>=0&&v+h<=d){var k=new a(S,E,T,b)._round();n&&!s(t,k,u,n,l)||g.push(k)}}m+=w}return p||g.length||c||(g=o(t,m/2,r,n,l,u,c,!0,f)),g}var i=t("../util/interpolate"),a=t("../symbol/anchor"),s=t("./check_max_angle");e.exports=n},{"../symbol/anchor":371,"../util/interpolate":416,"./check_max_angle":372}],378:[function(t,e,r){"use strict";function n(){this.width=s,this.height=s,this.bin=new o(this.width,this.height),this.index={},this.ids={},this.data=new Uint8Array(this.width*this.height)}var o=t("shelf-pack"),i=t("../util/util"),a=4,s=128,l=2048;e.exports=n,n.prototype.getGlyphs=function(){var t,e,r,n={};for(var o in this.ids)t=o.split("#"),e=t[0],r=t[1],n[e]||(n[e]=[]),n[e].push(r);return n},n.prototype.getRects=function(){var t,e,r,n={};for(var o in this.ids)t=o.split("#"),e=t[0],r=t[1],n[e]||(n[e]={}),n[e][r]=this.index[o];return n},n.prototype.addGlyph=function(t,e,r,n){if(!r)return null;var o=e+"#"+r.id;if(this.index[o])return this.ids[o].indexOf(t)<0&&this.ids[o].push(t),this.index[o];if(!r.bitmap)return null;var a=r.width+2*n,s=r.height+2*n,l=1,u=a+2*l,c=s+2*l;u+=4-u%4,c+=4-c%4;var p=this.bin.packOne(u,c);if(p||(this.resize(),p=this.bin.packOne(u,c)),!p)return i.warnOnce("glyph bitmap overflow"),null;this.index[o]=p,this.ids[o]=[t];for(var f=this.data,h=r.bitmap,d=0;d<s;d++)for(var y=this.width*(p.y+d+l)+p.x+l,m=a*d,v=0;v<a;v++)f[y+v]=h[m+v];return this.dirty=!0,p},n.prototype.resize=function(){var t=this.width,e=this.height;if(!(t>=l||e>=l)){this.texture&&(this.gl&&this.gl.deleteTexture(this.texture),this.texture=null),this.width*=a,this.height*=a,this.bin.resize(this.width,this.height);for(var r=new ArrayBuffer(this.width*this.height),n=0;n<e;n++){var o=new Uint8Array(this.data.buffer,e*n,t),i=new Uint8Array(r,e*n*a,t);i.set(o)}this.data=new Uint8Array(r)}},n.prototype.bind=function(t){this.gl=t,this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,null))},n.prototype.updateTexture=function(t){this.bind(t),this.dirty&&(t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data),this.dirty=!1)}},{"../util/util":422,"shelf-pack":493}],379:[function(t,e,r){"use strict";function n(t){this.url=t&&a(t),this.atlases={},this.stacks={},this.loading={}}function o(t,e,r){var n=1;this.advance=t.advance,this.left=t.left-r-n,this.top=t.top+r+n,this.rect=e}function i(t,e,r,n){return n=n||"abc",r.replace("{s}",n[t.length%n.length]).replace("{fontstack}",t).replace("{range}",e)}var a=t("../util/mapbox").normalizeGlyphsURL,s=t("../util/ajax").getArrayBuffer,l=t("../util/glyphs"),u=t("../symbol/glyph_atlas"),c=t("pbf");e.exports=n,n.prototype.getSimpleGlyphs=function(t,e,r,n){void 0===this.stacks[t]&&(this.stacks[t]={}),void 0===this.atlases[t]&&(this.atlases[t]=new u);for(var i,a={},s=this.stacks[t],l=this.atlases[t],c=3,p={},f=0,h=0;h<e.length;h++){var d=e[h];if(i=Math.floor(d/256),s[i]){var y=s[i].glyphs[d],m=l.addGlyph(r,t,y,c);y&&(a[d]=new o(y,m,c))}else void 0===p[i]&&(p[i]=[],f++),p[i].push(d)}f||n(void 0,a,t);var v=function(e,i,s){if(!e)for(var u=this.stacks[t][i]=s.stacks[0],h=0;h<p[i].length;h++){var d=p[i][h],y=u.glyphs[d],m=l.addGlyph(r,t,y,c);y&&(a[d]=new o(y,m,c))}f--,f||n(void 0,a,t)}.bind(this);for(var g in p)this.loadRange(t,g,v)},n.prototype.loadRange=function(t,e,r){if(256*e>65535)return r("glyphs > 65535 not supported");void 0===this.loading[t]&&(this.loading[t]={});var n=this.loading[t];if(n[e])n[e].push(r);else{n[e]=[r];var o=256*e+"-"+(256*e+255),a=i(t,o,this.url);s(a,function(t,r){for(var o=!t&&new l(new c(new Uint8Array(r))),i=0;i<n[e].length;i++)n[e][i](t,e,o);delete n[e]})}},n.prototype.getGlyphAtlas=function(t){return this.atlases[t]}},{"../symbol/glyph_atlas":378,"../util/ajax":405,"../util/glyphs":415,"../util/mapbox":419,pbf:457}],380:[function(t,e,r){"use strict";e.exports=function(t,e,r){function n(n){c.push(t[n]),p.push(r[n]),f.push(e[n]),h++}function o(t,e,r){var n=u[t];return delete u[t],u[e]=n,p[n][0].pop(),p[n][0]=p[n][0].concat(r[0]),n}function i(t,e,r){var n=l[e];return delete l[e],l[t]=n,p[n][0].shift(),p[n][0]=r[0].concat(p[n][0]),n}function a(t,e,r){var n=r?e[0][e[0].length-1]:e[0][0];return t+":"+n.x+":"+n.y}var s,l={},u={},c=[],p=[],f=[],h=0;for(s=0;s<t.length;s++){var d=r[s],y=e[s];if(y){var m=a(y,d),v=a(y,d,!0);if(m in u&&v in l&&u[m]!==l[v]){var g=i(m,v,d),b=o(m,v,p[g]);delete l[m],delete u[v],u[a(y,p[b],!0)]=b,p[g]=null}else m in u?o(m,v,d):v in l?i(m,v,d):(n(s),l[m]=h-1,u[v]=h-1)}else n(s)}return{features:c,textFeatures:f,geometries:p}}},{}],381:[function(t,e,r){"use strict";function n(t,e,r,n,o,i,a,s,l,u){this.anchorPoint=t,this.tl=e,this.tr=r,this.bl=n,this.br=o,this.tex=i,this.anchorAngle=a,this.glyphAngle=s,this.minScale=l,this.maxScale=u}function o(t,e,r,o,i,a,u,c,p){var f,h,d,y,m=e.image.rect,v=i.layout,g=1,b=e.left-g,x=b+m.w/e.image.pixelRatio,_=e.top-g,w=_+m.h/e.image.pixelRatio;if("none"!==v["icon-text-fit"]&&u){var T=x-b,M=w-_,S=v["text-size"]/24,E=u.left*S,k=u.right*S,C=u.top*S,A=u.bottom*S,P=k-E,L=A-C,D=v["icon-text-fit-padding"][0],O=v["icon-text-fit-padding"][1],I=v["icon-text-fit-padding"][2],R=v["icon-text-fit-padding"][3],N="width"===v["icon-text-fit"]?.5*(L-M):0,j="height"===v["icon-text-fit"]?.5*(P-T):0,F="width"===v["icon-text-fit"]||"both"===v["icon-text-fit"]?P:T,z="height"===v["icon-text-fit"]||"both"===v["icon-text-fit"]?L:M;f=new s(E+j-R,C+N-D),h=new s(E+j+O+F,C+N-D),d=new s(E+j+O+F,C+N+I+z),y=new s(E+j-R,C+N+I+z)}else f=new s(b,_),h=new s(x,_),d=new s(x,w),y=new s(b,w);var B=i.getLayoutValue("icon-rotate",c,p)*Math.PI/180;if(a){var U=o[t.segment];if(t.y===U.y&&t.x===U.x&&t.segment+1<o.length){var V=o[t.segment+1];B+=Math.atan2(t.y-V.y,t.x-V.x)+Math.PI}else B+=Math.atan2(t.y-U.y,t.x-U.x)}if(B){var H=Math.sin(B),W=Math.cos(B),q=[W,-H,H,W];f=f.matMult(q),h=h.matMult(q),y=y.matMult(q),d=d.matMult(q)}return[new n(new s(t.x,t.y),f,h,y,d,e.image.rect,0,0,l,1/0)]}function i(t,e,r,o,i,u){for(var c=i.layout["text-rotate"]*Math.PI/180,p=i.layout["text-keep-upright"],f=e.positionedGlyphs,h=[],d=0;d<f.length;d++){var y=f[d],m=y.glyph,v=m.rect;if(v){var g,b=(y.x+m.advance/2)*r,x=l;u?(g=[],x=a(g,t,b,o,t.segment,!0),p&&(x=Math.min(x,a(g,t,b,o,t.segment,!1)))):g=[{anchorPoint:new s(t.x,t.y),offset:0,angle:0,maxScale:1/0,minScale:l}];for(var _=y.x+m.left,w=y.y-m.top,T=_+v.w,M=w+v.h,S=new s(_,w),E=new s(T,w),k=new s(_,M),C=new s(T,M),A=0;A<g.length;A++){var P=g[A],L=S,D=E,O=k,I=C;if(c){var R=Math.sin(c),N=Math.cos(c),j=[N,-R,R,N];L=L.matMult(j),D=D.matMult(j),O=O.matMult(j),I=I.matMult(j)}var F=Math.max(P.minScale,x),z=(t.angle+P.offset+2*Math.PI)%(2*Math.PI),B=(P.angle+P.offset+2*Math.PI)%(2*Math.PI);h.push(new n(P.anchorPoint,L,D,O,I,v,z,B,F,P.maxScale))}}}return h}function a(t,e,r,n,o,i){var a=!i;r<0&&(i=!i),i&&o++;var u=new s(e.x,e.y),c=n[o],p=1/0;r=Math.abs(r);for(var f=l;;){var h=u.dist(c),d=r/h,y=Math.atan2(c.y-u.y,c.x-u.x);if(i||(y+=Math.PI),t.push({anchorPoint:u,offset:a?Math.PI:0,minScale:d,maxScale:p,angle:(y+2*Math.PI)%(2*Math.PI)}),d<=f)break;for(u=c;u.equals(c);)if(o+=i?1:-1,c=n[o],!c)return d;var m=c.sub(u)._unit();u=u.sub(m._mult(h)),p=d}return f}var s=t("point-geometry");e.exports={getIconQuads:o,getGlyphQuads:i,SymbolQuad:n};var l=.5},{"point-geometry":463}],382:[function(t,e,r){"use strict";function n(t,e,r){for(var n=[],i=0,a=t.length;i<a;i++){var s=o(t[i].properties,e["text-field"]);if(s){s=s.toString();var l=e["text-transform"];"uppercase"===l?s=s.toLocaleUpperCase():"lowercase"===l&&(s=s.toLocaleLowerCase());for(var u=0;u<s.length;u++)r[s.charCodeAt(u)]=!0;n[i]=s}else n[i]=null}return n}var o=t("../util/token");e.exports=n},{"../util/token":421}],383:[function(t,e,r){"use strict";function n(t,e,r,n){this.codePoint=t,this.x=e,this.y=r,this.glyph=n}function o(t,e,r,n,o,i){this.positionedGlyphs=t,this.text=e,this.top=r,this.bottom=n,this.left=o,this.right=i}function i(t,e,r,i,s,l,u,c,p){for(var f=[],h=new o(f,t,p[1],p[1],p[0],p[0]),d=-17,y=0,m=d,v=0;v<t.length;v++){var g=t.charCodeAt(v),b=e[g];b&&(f.push(new n(g,y,m,b)),y+=b.advance+c)}return!!f.length&&(a(h,e,i,r,s,l,u,p),h)}function a(t,e,r,n,o,i,a,u){var c=null,h=0,d=0,y=0,m=0,v=t.positionedGlyphs;if(n)for(var g=0;g<v.length;g++){var b=v[g];if(b.x-=h,b.y+=r*y,b.x>n&&null!==c){var x=v[c+1].x;m=Math.max(x,m);for(var _=c+1;_<=g;_++)v[_].y+=r,v[_].x-=x;if(a){var w=c;p[v[c].codePoint]&&w--,s(v,e,d,w,a)}d=c+1,c=null,h+=x,y++}f[b.codePoint]&&(c=g)}var T=v[v.length-1],M=T.x+e[T.codePoint].advance;m=Math.max(m,M);var S=(y+1)*r;s(v,e,d,v.length-1,a),l(v,a,o,i,m,r,y,u),t.top+=-i*S,t.bottom=t.top+S,t.left+=-o*m,t.right=t.left+m}function s(t,e,r,n,o){for(var i=e[t[n].codePoint].advance,a=(t[n].x+i)*o,s=r;s<=n;s++)t[s].x-=a}function l(t,e,r,n,o,i,a,s){for(var l=(e-r)*o+s[0],u=(-n*(a+1)+.5)*i+s[1],c=0;c<t.length;c++)t[c].x+=l,t[c].y+=u}function u(t,e){if(!t||!t.rect)return null;var r=e["icon-offset"][0],n=e["icon-offset"][1],o=r-t.width/2,i=o+t.width,a=n-t.height/2,s=a+t.height;return new c(t,a,s,o,i)}function c(t,e,r,n,o){this.image=t,this.top=e,this.bottom=r,this.left=n,this.right=o}e.exports={shapeText:i,shapeIcon:u};var p={32:!0,8203:!0},f={32:!0,38:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0}},{}],384:[function(t,e,r){"use strict";function n(t,e){this.width=t,this.height=e,this.bin=new a(t,e),this.images={},this.data=!1,this.texture=0,this.filter=0,this.pixelRatio=1,this.dirty=!0}function o(t,e,r,n,o,i,a,s,l,u,c){var p,f,h=n*e+r,d=s*i+a;if(c)for(d-=i,f=-1;f<=u;f++,h=((f+u)%u+n)*e+r,d+=i)for(p=-1;p<=l;p++)o[d+p]=t[h+(p+l)%l];else for(f=0;f<u;f++,h+=e,d+=i)for(p=0;p<l;p++)o[d+p]=t[h+p]}function i(t,e,r,n,o){this.rect=t,this.width=e,this.height=r,this.sdf=n,this.pixelRatio=o}var a=t("shelf-pack"),s=t("../util/browser"),l=t("../util/util");e.exports=n,n.prototype.allocateImage=function(t,e){t/=this.pixelRatio,e/=this.pixelRatio;var r=2,n=t+r+(4-(t+r)%4),o=e+r+(4-(e+r)%4),i=this.bin.packOne(n,o);return i?i:(l.warnOnce("SpriteAtlas out of space."),null)},n.prototype.getImage=function(t,e){if(this.images[t])return this.images[t];if(!this.sprite)return null;var r=this.sprite.getSpritePosition(t);if(!r.width||!r.height)return null;var n=this.allocateImage(r.width,r.height);if(!n)return null;var o=new i(n,r.width/r.pixelRatio,r.height/r.pixelRatio,r.sdf,r.pixelRatio/this.pixelRatio);return this.images[t]=o,this.copy(n,r,e),o},n.prototype.getPosition=function(t,e){var r=this.getImage(t,e),n=r&&r.rect;if(!n)return null;var o=r.width*r.pixelRatio,i=r.height*r.pixelRatio,a=1;return{size:[r.width,r.height],tl:[(n.x+a)/this.width,(n.y+a)/this.height],br:[(n.x+a+o)/this.width,(n.y+a+i)/this.height]}},n.prototype.allocate=function(){if(!this.data){var t=Math.floor(this.width*this.pixelRatio),e=Math.floor(this.height*this.pixelRatio);this.data=new Uint32Array(t*e);for(var r=0;r<this.data.length;r++)this.data[r]=0}},n.prototype.copy=function(t,e,r){if(this.sprite.img.data){var n=new Uint32Array(this.sprite.img.data.buffer);this.allocate();var i=this.data,a=1;o(n,this.sprite.img.width,e.x,e.y,i,this.width*this.pixelRatio,(t.x+a)*this.pixelRatio,(t.y+a)*this.pixelRatio,e.width,e.height,r),this.dirty=!0}},n.prototype.setSprite=function(t){t&&(this.pixelRatio=s.devicePixelRatio>1?2:1,this.canvas&&(this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio)),this.sprite=t},n.prototype.addIcons=function(t,e){for(var r=0;r<t.length;r++)this.getImage(t[r]);e(null,this.images)},n.prototype.bind=function(t,e){var r=!1;this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),r=!0);var n=e?t.LINEAR:t.NEAREST;n!==this.filter&&(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,n),this.filter=n),this.dirty&&(this.allocate(),r?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width*this.pixelRatio,this.height*this.pixelRatio,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width*this.pixelRatio,this.height*this.pixelRatio,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)),this.dirty=!1)}},{"../util/browser":406,"../util/util":422,"shelf-pack":493}],385:[function(t,e,r){"use strict";var n=t("../util/struct_array"),o=t("../util/util"),i=t("point-geometry"),a=e.exports=new n({members:[{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"glyphQuadStartIndex"},{type:"Uint16",name:"glyphQuadEndIndex"},{type:"Uint16",name:"iconQuadStartIndex"},{type:"Uint16",name:"iconQuadEndIndex"},{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int8",name:"index"}]});o.extendAll(a.prototype.StructType.prototype,{get anchorPoint(){return new i(this.anchorPointX,this.anchorPointY)}})},{"../util/struct_array":420,"../util/util":422,"point-geometry":463}],386:[function(t,e,r){"use strict";var n=t("../util/struct_array"),o=t("../util/util"),i=t("point-geometry"),a=t("./quads").SymbolQuad,s=e.exports=new n({members:[{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Float32",name:"tlX"},{type:"Float32",name:"tlY"},{type:"Float32",name:"trX"},{type:"Float32",name:"trY"},{type:"Float32",name:"blX"},{type:"Float32",name:"blY"},{type:"Float32",name:"brX"},{type:"Float32",name:"brY"},{type:"Int16",name:"texH"},{type:"Int16",name:"texW"},{type:"Int16",name:"texX"},{type:"Int16",name:"texY"},{type:"Float32",name:"anchorAngle"},{type:"Float32",name:"glyphAngle"},{type:"Float32",name:"maxScale"},{type:"Float32",name:"minScale"}]});o.extendAll(s.prototype.StructType.prototype,{get anchorPoint(){return new i(this.anchorPointX,this.anchorPointY)},get SymbolQuad(){return new a(this.anchorPoint,new i(this.tlX,this.tlY),new i(this.trX,this.trY),new i(this.blX,this.blY),new i(this.brX,this.brY),{x:this.texX,y:this.texY,h:this.texH,w:this.texW,height:this.texH,width:this.texW},this.anchorAngle,this.glyphAngle,this.minScale,this.maxScale)}})},{"../util/struct_array":420,"../util/util":422,"./quads":381,"point-geometry":463}],387:[function(t,e,r){"use strict";var n=t("../util/dom"),o=t("point-geometry"),i={scrollZoom:t("./handler/scroll_zoom"),boxZoom:t("./handler/box_zoom"),dragRotate:t("./handler/drag_rotate"),dragPan:t("./handler/drag_pan"),keyboard:t("./handler/keyboard"),doubleClickZoom:t("./handler/dblclick_zoom"),touchZoomRotate:t("./handler/touch_zoom_rotate")};e.exports=function(t,e){function r(t){v("mouseout",t)}function a(e){t.stop(),_=n.mousePos(b,e),v("mousedown",e)}function s(e){var r=t.dragRotate&&t.dragRotate.isActive();x&&!r&&v("contextmenu",x),x=null,v("mouseup",e)}function l(e){if(!(t.dragPan&&t.dragPan.isActive()||t.dragRotate&&t.dragRotate.isActive())){for(var r=e.toElement||e.target;r&&r!==b;)r=r.parentNode;r===b&&v("mousemove",e)}}function u(e){t.stop(),g("touchstart",e),!e.touches||e.touches.length>1||(w?(clearTimeout(w),w=null,v("dblclick",e)):w=setTimeout(h,300))}function c(t){g("touchmove",t)}function p(t){g("touchend",t)}function f(t){g("touchcancel",t)}function h(){w=null}function d(t){var e=n.mousePos(b,t);e.equals(_)&&v("click",t)}function y(t){v("dblclick",t),t.preventDefault()}function m(t){x=t,t.preventDefault()}function v(e,r){var o=n.mousePos(b,r);return t.fire(e,{lngLat:t.unproject(o),point:o,originalEvent:r})}function g(e,r){var i=n.touchPos(b,r),a=i.reduce(function(t,e,r,n){return t.add(e.div(n.length))},new o(0,0));return t.fire(e,{lngLat:t.unproject(a),point:a,lngLats:i.map(function(e){return t.unproject(e)},this),points:i,originalEvent:r})}var b=t.getCanvasContainer(),x=null,_=null,w=null;for(var T in i)t[T]=new i[T](t,e),e.interactive&&e[T]&&t[T].enable();b.addEventListener("mouseout",r,!1),b.addEventListener("mousedown",a,!1),b.addEventListener("mouseup",s,!1),b.addEventListener("mousemove",l,!1),b.addEventListener("touchstart",u,!1),b.addEventListener("touchend",p,!1),b.addEventListener("touchmove",c,!1),b.addEventListener("touchcancel",f,!1),b.addEventListener("click",d,!1),b.addEventListener("dblclick",y,!1),b.addEventListener("contextmenu",m,!1)}},{"../util/dom":408,"./handler/box_zoom":393,"./handler/dblclick_zoom":394,"./handler/drag_pan":395,"./handler/drag_rotate":396,"./handler/keyboard":397,"./handler/scroll_zoom":398,"./handler/touch_zoom_rotate":399,"point-geometry":463}],388:[function(t,e,r){"use strict";var n=t("../util/util"),o=t("../util/interpolate"),i=t("../util/browser"),a=t("../geo/lng_lat"),s=t("../geo/lng_lat_bounds"),l=t("point-geometry"),u=e.exports=function(){};n.extend(u.prototype,{getCenter:function(){return this.transform.center},setCenter:function(t,e){return this.jumpTo({center:t},e),this},panBy:function(t,e,r){return this.panTo(this.transform.center,n.extend({offset:l.convert(t).mult(-1)},e),r),this},panTo:function(t,e,r){return this.easeTo(n.extend({center:t},e),r)},getZoom:function(){return this.transform.zoom},setZoom:function(t,e){return this.jumpTo({zoom:t},e),this},zoomTo:function(t,e,r){return this.easeTo(n.extend({zoom:t},e),r)},zoomIn:function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},zoomOut:function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},getBearing:function(){return this.transform.bearing},setBearing:function(t,e){return this.jumpTo({bearing:t},e),this},rotateTo:function(t,e,r){return this.easeTo(n.extend({bearing:t},e),r)},resetNorth:function(t,e){return this.rotateTo(0,n.extend({duration:1e3},t),e),this},snapToNorth:function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},getPitch:function(){return this.transform.pitch},setPitch:function(t,e){return this.jumpTo({pitch:t},e),this},fitBounds:function(t,e,r){e=n.extend({padding:0,offset:[0,0],maxZoom:1/0},e),t=s.convert(t);var o=l.convert(e.offset),i=this.transform,a=i.project(t.getNorthWest()),u=i.project(t.getSouthEast()),c=u.sub(a),p=(i.width-2*e.padding-2*Math.abs(o.x))/c.x,f=(i.height-2*e.padding-2*Math.abs(o.y))/c.y;return e.center=i.unproject(a.add(u).div(2)),e.zoom=Math.min(i.scaleZoom(i.scale*Math.min(p,f)),e.maxZoom),e.bearing=0,e.linear?this.easeTo(e,r):this.flyTo(e,r)},jumpTo:function(t,e){this.stop();var r=this.transform,n=!1,o=!1,i=!1;return"zoom"in t&&r.zoom!==+t.zoom&&(n=!0,r.zoom=+t.zoom),"center"in t&&(r.center=a.convert(t.center)),"bearing"in t&&r.bearing!==+t.bearing&&(o=!0,r.bearing=+t.bearing),"pitch"in t&&r.pitch!==+t.pitch&&(i=!0,r.pitch=+t.pitch),this.fire("movestart",e).fire("move",e),n&&this.fire("zoomstart",e).fire("zoom",e).fire("zoomend",e),o&&this.fire("rotate",e),i&&this.fire("pitch",e),this.fire("moveend",e)},easeTo:function(t,e){this.stop(),t=n.extend({offset:[0,0],duration:500,easing:n.ease},t);var r,i,s=this.transform,u=l.convert(t.offset),c=this.getZoom(),p=this.getBearing(),f=this.getPitch(),h="zoom"in t?+t.zoom:c,d="bearing"in t?this._normalizeBearing(t.bearing,p):p,y="pitch"in t?+t.pitch:f;"center"in t?(r=a.convert(t.center),i=s.centerPoint.add(u)):"around"in t?(r=a.convert(t.around),i=s.locationPoint(r)):(i=s.centerPoint.add(u),r=s.pointLocation(i));var m=s.locationPoint(r);return t.animate===!1&&(t.duration=0),this.zooming=h!==c,this.rotating=p!==d,this.pitching=y!==f,t.noMoveStart||this.fire("movestart",e),this.zooming&&this.fire("zoomstart",e),clearTimeout(this._onEaseEnd),this._ease(function(t){this.zooming&&(s.zoom=o(c,h,t)),this.rotating&&(s.bearing=o(p,d,t)),this.pitching&&(s.pitch=o(f,y,t)),s.setLocationAtPoint(r,m.add(i.sub(m)._mult(t))),this.fire("move",e),this.zooming&&this.fire("zoom",e),this.rotating&&this.fire("rotate",e),this.pitching&&this.fire("pitch",e)},function(){t.delayEndEvents?this._onEaseEnd=setTimeout(this._easeToEnd.bind(this,e),t.delayEndEvents):this._easeToEnd(e)}.bind(this),t),this},_easeToEnd:function(t){var e=this.zooming;this.zooming=!1,this.rotating=!1,this.pitching=!1,e&&this.fire("zoomend",t),this.fire("moveend",t)},flyTo:function(t,e){function r(t){var e=(S*S-M*M+(t?-1:1)*A*A*E*E)/(2*(t?S:M)*A*E);return Math.log(Math.sqrt(e*e+1)-e)}function i(t){return(Math.exp(t)-Math.exp(-t))/2}function s(t){return(Math.exp(t)+Math.exp(-t))/2}function u(t){return i(t)/s(t)}this.stop(),t=n.extend({offset:[0,0],speed:1.2,curve:1.42,easing:n.ease},t);var c=this.transform,p=l.convert(t.offset),f=this.getZoom(),h=this.getBearing(),d=this.getPitch(),y="center"in t?a.convert(t.center):this.getCenter(),m="zoom"in t?+t.zoom:f,v="bearing"in t?this._normalizeBearing(t.bearing,h):h,g="pitch"in t?+t.pitch:d;Math.abs(c.center.lng)+Math.abs(y.lng)>180&&(c.center.lng>0&&y.lng<0?y.lng+=360:c.center.lng<0&&y.lng>0&&(y.lng-=360));var b=c.zoomScale(m-f),x=c.point,_="center"in t?c.project(y).sub(p.div(b)):x,w=c.worldSize,T=t.curve,M=Math.max(c.width,c.height),S=M/b,E=_.sub(x).mag();if("minZoom"in t){var k=n.clamp(Math.min(t.minZoom,f,m),c.minZoom,c.maxZoom),C=M/c.zoomScale(k-f);T=Math.sqrt(C/E*2)}var A=T*T,P=r(0),L=function(t){return s(P)/s(P+T*t)},D=function(t){return M*((s(P)*u(P+T*t)-i(P))/A)/E},O=(r(1)-P)/T;if(Math.abs(E)<1e-6){if(Math.abs(M-S)<1e-6)return this.easeTo(t);var I=S<M?-1:1;O=Math.abs(Math.log(S/M))/T,D=function(){return 0},L=function(t){return Math.exp(I*T*t)}}if("duration"in t)t.duration=+t.duration;else{var R="screenSpeed"in t?+t.screenSpeed/T:+t.speed;t.duration=1e3*O/R}return this.zooming=!0,h!==v&&(this.rotating=!0),d!==g&&(this.pitching=!0),this.fire("movestart",e),this.fire("zoomstart",e),this._ease(function(t){var r=t*O,n=D(r);c.zoom=f+c.scaleZoom(1/L(r)),c.center=c.unproject(x.add(_.sub(x).mult(n)),w),this.rotating&&(c.bearing=o(h,v,t)),this.pitching&&(c.pitch=o(d,g,t)),this.fire("move",e),this.fire("zoom",e),this.rotating&&this.fire("rotate",e),this.pitching&&this.fire("pitch",e)},function(){this.zooming=!1,this.rotating=!1,this.pitching=!1,this.fire("zoomend",e),this.fire("moveend",e)},t),this},isEasing:function(){return!!this._abortFn},stop:function(){return this._abortFn&&(this._abortFn(),this._finishEase()),this},_ease:function(t,e,r){this._finishFn=e,this._abortFn=i.timed(function(e){t.call(this,r.easing(e)),1===e&&this._finishEase()},r.animate===!1?0:r.duration,this)},_finishEase:function(){delete this._abortFn;var t=this._finishFn;delete this._finishFn,t.call(this)},_normalizeBearing:function(t,e){t=n.wrap(t,-180,180);var r=Math.abs(t-e);return Math.abs(t-360-e)<r&&(t-=360),Math.abs(t+360-e)<r&&(t+=360),t},_updateEasing:function(t,e,r){var o;if(this.ease){var i=this.ease,a=(Date.now()-i.start)/i.duration,s=i.easing(a+.01)-i.easing(a),l=.27/Math.sqrt(s*s+1e-4)*.01,u=Math.sqrt(.0729-l*l);o=n.bezier(l,u,.25,1)}else o=r?n.bezier.apply(n,r):n.ease;return this.ease={start:(new Date).getTime(),to:Math.pow(2,e),duration:t,easing:o},o}})},{"../geo/lng_lat":319,"../geo/lng_lat_bounds":320,"../util/browser":406,"../util/interpolate":416,"../util/util":422,"point-geometry":463}],389:[function(t,e,r){"use strict";function n(t){a.setOptions(this,t)}var o=t("./control"),i=t("../../util/dom"),a=t("../../util/util");e.exports=n,n.createAttributionString=function(t){var e=[];for(var r in t){var n=t[r];n.attribution&&e.indexOf(n.attribution)<0&&e.push(n.attribution)}return e.sort(function(t,e){return t.length-e.length}),e=e.filter(function(t,r){for(var n=r+1;n<e.length;n++)if(e[n].indexOf(t)>=0)return!1;return!0}),e.join(" | ")},n.prototype=a.inherit(o,{options:{position:"bottom-right"},onAdd:function(t){var e="mapboxgl-ctrl-attrib",r=this._container=i.create("div",e,t.getContainer());return this._update(),t.on("source.load",this._update.bind(this)),t.on("source.change",this._update.bind(this)),t.on("source.remove",this._update.bind(this)),t.on("moveend",this._updateEditLink.bind(this)),r},_update:function(){this._map.style&&(this._container.innerHTML=n.createAttributionString(this._map.style.sources)),this._editLink=this._container.getElementsByClassName("mapbox-improve-map")[0],this._updateEditLink()},_updateEditLink:function(){if(this._editLink){var t=this._map.getCenter();this._editLink.href="https://www.mapbox.com/map-feedback/#/"+t.lng+"/"+t.lat+"/"+Math.round(this._map.getZoom()+1)}}})},{"../../util/dom":408,"../../util/util":422,"./control":390}],390:[function(t,e,r){"use strict";function n(){}var o=t("../../util/util"),i=t("../../util/evented");e.exports=n,n.prototype={addTo:function(t){this._map=t;var e=this._container=this.onAdd(t);if(this.options&&this.options.position){var r=this.options.position,n=t._controlCorners[r];e.className+=" mapboxgl-ctrl",r.indexOf("bottom")!==-1?n.insertBefore(e,n.firstChild):n.appendChild(e)}return this},remove:function(){return this._container.parentNode.removeChild(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this}},o.extend(n.prototype,i)},{"../../util/evented":414,"../../util/util":422}],391:[function(t,e,r){"use strict";function n(t){s.setOptions(this,t)}var o=t("./control"),i=t("../../util/browser"),a=t("../../util/dom"),s=t("../../util/util");e.exports=n;var l={enableHighAccuracy:!1,timeout:6e3};n.prototype=s.inherit(o,{options:{position:"top-right"},onAdd:function(t){var e="mapboxgl-ctrl",r=this._container=a.create("div",e+"-group",t.getContainer());return i.supportsGeolocation?(this._container.addEventListener("contextmenu",this._onContextMenu.bind(this)),this._geolocateButton=a.create("button",e+"-icon "+e+"-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.addEventListener("click",this._onClickGeolocate.bind(this)),r):r},_onContextMenu:function(t){t.preventDefault()},_onClickGeolocate:function(){navigator.geolocation.getCurrentPosition(this._success.bind(this),this._error.bind(this),l),this._timeoutId=setTimeout(this._finish.bind(this),1e4)},_success:function(t){this._map.jumpTo({center:[t.coords.longitude,t.coords.latitude],zoom:17,bearing:0,pitch:0}),this.fire("geolocate",t),this._finish()},_error:function(t){this.fire("error",t),this._finish()},_finish:function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}})},{"../../util/browser":406,"../../util/dom":408,"../../util/util":422,"./control":390}],392:[function(t,e,r){"use strict";function n(t){s.setOptions(this,t)}function o(t){return new MouseEvent(t.type,{button:2,buttons:2,bubbles:!0,cancelable:!0,detail:t.detail,view:t.view,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,movementX:t.movementX,movementY:t.movementY,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey})}var i=t("./control"),a=t("../../util/dom"),s=t("../../util/util");e.exports=n,n.prototype=s.inherit(i,{options:{position:"top-right"},onAdd:function(t){var e="mapboxgl-ctrl",r=this._container=a.create("div",e+"-group",t.getContainer());return this._container.addEventListener("contextmenu",this._onContextMenu.bind(this)),this._zoomInButton=this._createButton(e+"-icon "+e+"-zoom-in",t.zoomIn.bind(t)),this._zoomOutButton=this._createButton(e+"-icon "+e+"-zoom-out",t.zoomOut.bind(t)),this._compass=this._createButton(e+"-icon "+e+"-compass",t.resetNorth.bind(t)),
this._compassArrow=a.create("div","arrow",this._compass),this._compass.addEventListener("mousedown",this._onCompassDown.bind(this)),this._onCompassMove=this._onCompassMove.bind(this),this._onCompassUp=this._onCompassUp.bind(this),t.on("rotate",this._rotateCompassArrow.bind(this)),this._rotateCompassArrow(),this._el=t.getCanvasContainer(),r},_onContextMenu:function(t){t.preventDefault()},_onCompassDown:function(t){0===t.button&&(a.disableDrag(),document.addEventListener("mousemove",this._onCompassMove),document.addEventListener("mouseup",this._onCompassUp),this._el.dispatchEvent(o(t)),t.stopPropagation())},_onCompassMove:function(t){0===t.button&&(this._el.dispatchEvent(o(t)),t.stopPropagation())},_onCompassUp:function(t){0===t.button&&(document.removeEventListener("mousemove",this._onCompassMove),document.removeEventListener("mouseup",this._onCompassUp),a.enableDrag(),this._el.dispatchEvent(o(t)),t.stopPropagation())},_createButton:function(t,e){var r=a.create("button",t,this._container);return r.type="button",r.addEventListener("click",function(){e()}),r},_rotateCompassArrow:function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t}})},{"../../util/dom":408,"../../util/util":422,"./control":390}],393:[function(t,e,r){"use strict";function n(t){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),a.bindHandlers(this)}var o=t("../../util/dom"),i=t("../../geo/lng_lat_bounds"),a=t("../../util/util");e.exports=n,n.prototype={_enabled:!1,_active:!1,isEnabled:function(){return this._enabled},isActive:function(){return this._active},enable:function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onMouseDown,!1),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onMouseDown),this._enabled=!1)},_onMouseDown:function(t){t.shiftKey&&0===t.button&&(document.addEventListener("mousemove",this._onMouseMove,!1),document.addEventListener("keydown",this._onKeyDown,!1),document.addEventListener("mouseup",this._onMouseUp,!1),o.disableDrag(),this._startPos=o.mousePos(this._el,t),this._active=!0)},_onMouseMove:function(t){var e=this._startPos,r=o.mousePos(this._el,t);this._box||(this._box=o.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var n=Math.min(e.x,r.x),i=Math.max(e.x,r.x),a=Math.min(e.y,r.y),s=Math.max(e.y,r.y);o.setTransform(this._box,"translate("+n+"px,"+a+"px)"),this._box.style.width=i-n+"px",this._box.style.height=s-a+"px"},_onMouseUp:function(t){if(0===t.button){var e=this._startPos,r=o.mousePos(this._el,t),n=new i(this._map.unproject(e),this._map.unproject(r));this._finish(),e.x===r.x&&e.y===r.y?this._fireEvent("boxzoomcancel",t):this._map.fitBounds(n,{linear:!0}).fire("boxzoomend",{originalEvent:t,boxZoomBounds:n})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},_finish:function(){this._active=!1,document.removeEventListener("mousemove",this._onMouseMove,!1),document.removeEventListener("keydown",this._onKeyDown,!1),document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.parentNode.removeChild(this._box),this._box=null),o.enableDrag()},_fireEvent:function(t,e){return this._map.fire(t,{originalEvent:e})}}},{"../../geo/lng_lat_bounds":320,"../../util/dom":408,"../../util/util":422}],394:[function(t,e,r){"use strict";function n(t){this._map=t,this._onDblClick=this._onDblClick.bind(this)}e.exports=n,n.prototype={_enabled:!1,isEnabled:function(){return this._enabled},enable:function(){this.isEnabled()||(this._map.on("dblclick",this._onDblClick),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._map.off("dblclick",this._onDblClick),this._enabled=!1)},_onDblClick:function(t){this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)}}},{}],395:[function(t,e,r){"use strict";function n(t){this._map=t,this._el=t.getCanvasContainer(),i.bindHandlers(this)}var o=t("../../util/dom"),i=t("../../util/util");e.exports=n;var a=.3,s=i.bezier(0,0,a,1),l=1400,u=2500;n.prototype={_enabled:!1,_active:!1,isEnabled:function(){return this._enabled},isActive:function(){return this._active},enable:function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._el.addEventListener("touchstart",this._onDown),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._el.removeEventListener("touchstart",this._onDown),this._enabled=!1)},_onDown:function(t){this._ignoreEvent(t)||this.isActive()||(t.touches?(document.addEventListener("touchmove",this._onMove),document.addEventListener("touchend",this._onTouchEnd)):(document.addEventListener("mousemove",this._onMove),document.addEventListener("mouseup",this._onMouseUp)),this._active=!1,this._startPos=this._pos=o.mousePos(this._el,t),this._inertia=[[Date.now(),this._pos]])},_onMove:function(t){if(!this._ignoreEvent(t)){this.isActive()||(this._active=!0,this._fireEvent("dragstart",t),this._fireEvent("movestart",t));var e=o.mousePos(this._el,t),r=this._map;r.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),e]),r.transform.setLocationAtPoint(r.transform.pointLocation(this._pos),e),this._fireEvent("drag",t),this._fireEvent("move",t),this._pos=e,t.preventDefault()}},_onUp:function(t){if(this.isActive()){this._active=!1,this._fireEvent("dragend",t),this._drainInertiaBuffer();var e=function(){this._fireEvent("moveend",t)}.bind(this),r=this._inertia;if(r.length<2)return void e();var n=r[r.length-1],o=r[0],i=n[1].sub(o[1]),c=(n[0]-o[0])/1e3;if(0===c||n[1].equals(o[1]))return void e();var p=i.mult(a/c),f=p.mag();f>l&&(f=l,p._unit()._mult(f));var h=f/(u*a),d=p.mult(-h/2);this._map.panBy(d,{duration:1e3*h,easing:s,noMoveStart:!0},{originalEvent:t})}},_onMouseUp:function(t){this._ignoreEvent(t)||(this._onUp(t),document.removeEventListener("mousemove",this._onMove),document.removeEventListener("mouseup",this._onMouseUp))},_onTouchEnd:function(t){this._ignoreEvent(t)||(this._onUp(t),document.removeEventListener("touchmove",this._onMove),document.removeEventListener("touchend",this._onTouchEnd))},_fireEvent:function(t,e){return this._map.fire(t,{originalEvent:e})},_ignoreEvent:function(t){var e=this._map;if(e.boxZoom&&e.boxZoom.isActive())return!0;if(e.dragRotate&&e.dragRotate.isActive())return!0;if(t.touches)return t.touches.length>1;if(t.ctrlKey)return!0;var r=1,n=0;return"mousemove"===t.type?t.buttons&0===r:t.button!==n},_drainInertiaBuffer:function(){for(var t=this._inertia,e=Date.now(),r=160;t.length>0&&e-t[0][0]>r;)t.shift()}}},{"../../util/dom":408,"../../util/util":422}],396:[function(t,e,r){"use strict";function n(t,e){this._map=t,this._el=t.getCanvasContainer(),this._bearingSnap=e.bearingSnap,a.bindHandlers(this)}var o=t("../../util/dom"),i=t("point-geometry"),a=t("../../util/util");e.exports=n;var s=.25,l=a.bezier(0,0,s,1),u=180,c=720;n.prototype={_enabled:!1,_active:!1,isEnabled:function(){return this._enabled},isActive:function(){return this._active},enable:function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._enabled=!1)},_onDown:function(t){if(!this._ignoreEvent(t)&&!this.isActive()){document.addEventListener("mousemove",this._onMove),document.addEventListener("mouseup",this._onUp),this._active=!1,this._inertia=[[Date.now(),this._map.getBearing()]],this._startPos=this._pos=o.mousePos(this._el,t),this._center=this._map.transform.centerPoint;var e=this._startPos.sub(this._center),r=e.mag();r<200&&(this._center=this._startPos.add(new i(-200,0)._rotate(e.angle()))),t.preventDefault()}},_onMove:function(t){if(!this._ignoreEvent(t)){this.isActive()||(this._active=!0,this._fireEvent("rotatestart",t),this._fireEvent("movestart",t));var e=this._map;e.stop();var r=this._pos,n=o.mousePos(this._el,t),i=this._center,a=r.sub(i).angleWith(n.sub(i))/Math.PI*180,s=e.getBearing()-a,l=this._inertia,u=l[l.length-1];this._drainInertiaBuffer(),l.push([Date.now(),e._normalizeBearing(s,u[1])]),e.transform.bearing=s,this._fireEvent("rotate",t),this._fireEvent("move",t),this._pos=n}},_onUp:function(t){if(!this._ignoreEvent(t)&&(document.removeEventListener("mousemove",this._onMove),document.removeEventListener("mouseup",this._onUp),this.isActive())){this._active=!1,this._fireEvent("rotateend",t),this._drainInertiaBuffer();var e=this._map,r=e.getBearing(),n=this._inertia,o=function(){Math.abs(r)<this._bearingSnap?e.resetNorth({noMoveStart:!0},{originalEvent:t}):this._fireEvent("moveend",t)}.bind(this);if(n.length<2)return void o();var i=n[0],a=n[n.length-1],p=n[n.length-2],f=e._normalizeBearing(r,p[1]),h=a[1]-i[1],d=h<0?-1:1,y=(a[0]-i[0])/1e3;if(0===h||0===y)return void o();var m=Math.abs(h*(s/y));m>u&&(m=u);var v=m/(c*s),g=d*m*(v/2);f+=g,Math.abs(e._normalizeBearing(f,0))<this._bearingSnap&&(f=e._normalizeBearing(0,f)),e.rotateTo(f,{duration:1e3*v,easing:l,noMoveStart:!0},{originalEvent:t})}},_fireEvent:function(t,e){return this._map.fire(t,{originalEvent:e})},_ignoreEvent:function(t){var e=this._map;if(e.boxZoom&&e.boxZoom.isActive())return!0;if(e.dragPan&&e.dragPan.isActive())return!0;if(t.touches)return t.touches.length>1;var r=t.ctrlKey?1:2,n=t.ctrlKey?0:2;return"mousemove"===t.type?t.buttons&0===r:t.button!==n},_drainInertiaBuffer:function(){for(var t=this._inertia,e=Date.now(),r=160;t.length>0&&e-t[0][0]>r;)t.shift()}}},{"../../util/dom":408,"../../util/util":422,"point-geometry":463}],397:[function(t,e,r){"use strict";function n(t){this._map=t,this._el=t.getCanvasContainer(),this._onKeyDown=this._onKeyDown.bind(this)}e.exports=n;var o=80,i=2,a=5;n.prototype={_enabled:!1,isEnabled:function(){return this._enabled},enable:function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=this._map,r={originalEvent:t};if(!e.isEasing())switch(t.keyCode){case 61:case 107:case 171:case 187:e.zoomTo(Math.round(e.getZoom())+(t.shiftKey?2:1),r);break;case 189:case 109:case 173:e.zoomTo(Math.round(e.getZoom())-(t.shiftKey?2:1),r);break;case 37:t.shiftKey?e.easeTo({bearing:e.getBearing()-i},r):(t.preventDefault(),e.panBy([-o,0],r));break;case 39:t.shiftKey?e.easeTo({bearing:e.getBearing()+i},r):(t.preventDefault(),e.panBy([o,0],r));break;case 38:t.shiftKey?e.easeTo({pitch:e.getPitch()+a},r):(t.preventDefault(),e.panBy([0,-o],r));break;case 40:t.shiftKey?e.easeTo({pitch:Math.max(e.getPitch()-a,0)},r):(t.preventDefault(),e.panBy([0,o],r))}}}}},{}],398:[function(t,e,r){"use strict";function n(t){this._map=t,this._el=t.getCanvasContainer(),a.bindHandlers(this)}var o=t("../../util/dom"),i=t("../../util/browser"),a=t("../../util/util");e.exports=n;var s="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",l=s.indexOf("firefox")!==-1,u=s.indexOf("safari")!==-1&&s.indexOf("chrom")===-1;n.prototype={_enabled:!1,isEnabled:function(){return this._enabled},enable:function(){this.isEnabled()||(this._el.addEventListener("wheel",this._onWheel,!1),this._el.addEventListener("mousewheel",this._onWheel,!1),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._el.removeEventListener("wheel",this._onWheel),this._el.removeEventListener("mousewheel",this._onWheel),this._enabled=!1)},_onWheel:function(t){var e;"wheel"===t.type?(e=t.deltaY,l&&t.deltaMode===window.WheelEvent.DOM_DELTA_PIXEL&&(e/=i.devicePixelRatio),t.deltaMode===window.WheelEvent.DOM_DELTA_LINE&&(e*=40)):"mousewheel"===t.type&&(e=-t.wheelDeltaY,u&&(e/=3));var r=i.now(),n=r-(this._time||0);this._pos=o.mousePos(this._el,t),this._time=r,0!==e&&e%4.000244140625===0?(this._type="wheel",e=Math.floor(e/4)):0!==e&&Math.abs(e)<4?this._type="trackpad":n>400?(this._type=null,this._lastValue=e,this._timeout=setTimeout(this._onTimeout,40)):this._type||(this._type=Math.abs(n*e)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,e+=this._lastValue)),t.shiftKey&&e&&(e/=4),this._type&&this._zoom(-e,t),t.preventDefault()},_onTimeout:function(){this._type="wheel",this._zoom(-this._lastValue)},_zoom:function(t,e){if(0!==t){var r=this._map,n=2/(1+Math.exp(-Math.abs(t/100)));t<0&&0!==n&&(n=1/n);var o=r.ease?r.ease.to:r.transform.scale,i=r.transform.scaleZoom(o*n);r.zoomTo(i,{duration:0,around:r.unproject(this._pos),delayEndEvents:200},{originalEvent:e})}}}},{"../../util/browser":406,"../../util/dom":408,"../../util/util":422}],399:[function(t,e,r){"use strict";function n(t){this._map=t,this._el=t.getCanvasContainer(),i.bindHandlers(this)}var o=t("../../util/dom"),i=t("../../util/util");e.exports=n;var a=.15,s=i.bezier(0,0,a,1),l=12,u=2.5,c=.15,p=4;n.prototype={_enabled:!1,isEnabled:function(){return this._enabled},enable:function(){this.isEnabled()||(this._el.addEventListener("touchstart",this._onStart,!1),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._el.removeEventListener("touchstart",this._onStart),this._enabled=!1)},disableRotation:function(){this._rotationDisabled=!0},enableRotation:function(){this._rotationDisabled=!1},_onStart:function(t){if(2===t.touches.length){var e=o.mousePos(this._el,t.touches[0]),r=o.mousePos(this._el,t.touches[1]);this._startVec=e.sub(r),this._startScale=this._map.transform.scale,this._startBearing=this._map.transform.bearing,this._gestureIntent=void 0,this._inertia=[],document.addEventListener("touchmove",this._onMove,!1),document.addEventListener("touchend",this._onEnd,!1)}},_onMove:function(t){if(2===t.touches.length){var e=o.mousePos(this._el,t.touches[0]),r=o.mousePos(this._el,t.touches[1]),n=e.add(r).div(2),i=e.sub(r),a=i.mag()/this._startVec.mag(),s=this._rotationDisabled?0:180*i.angleWith(this._startVec)/Math.PI,l=this._map;if(this._gestureIntent){var u={duration:0,around:l.unproject(n)};"rotate"===this._gestureIntent&&(u.bearing=this._startBearing+s),"zoom"!==this._gestureIntent&&"rotate"!==this._gestureIntent||(u.zoom=l.transform.scaleZoom(this._startScale*a)),l.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),a,n]),l.easeTo(u,{originalEvent:t})}else{var f=Math.abs(1-a)>c,h=Math.abs(s)>p;h?this._gestureIntent="rotate":f&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._startVec=i,this._startScale=l.transform.scale,this._startBearing=l.transform.bearing)}t.preventDefault()}},_onEnd:function(t){document.removeEventListener("touchmove",this._onMove),document.removeEventListener("touchend",this._onEnd),this._drainInertiaBuffer();var e=this._inertia,r=this._map;if(e.length<2)return void r.snapToNorth({},{originalEvent:t});var n=e[e.length-1],o=e[0],i=r.transform.scaleZoom(this._startScale*n[1]),c=r.transform.scaleZoom(this._startScale*o[1]),p=i-c,f=(n[0]-o[0])/1e3,h=n[2];if(0===f||i===c)return void r.snapToNorth({},{originalEvent:t});var d=p*a/f;Math.abs(d)>u&&(d=d>0?u:-u);var y=1e3*Math.abs(d/(l*a)),m=i+d*y/2e3;m<0&&(m=0),r.easeTo({zoom:m,duration:y,easing:s,around:r.unproject(h)},{originalEvent:t})},_drainInertiaBuffer:function(){for(var t=this._inertia,e=Date.now(),r=160;t.length>2&&e-t[0][0]>r;)t.shift()}}},{"../../util/dom":408,"../../util/util":422}],400:[function(t,e,r){"use strict";function n(){o.bindAll(["_onHashChange","_updateHash"],this)}e.exports=n;var o=t("../util/util");n.prototype={addTo:function(t){return this._map=t,window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},remove:function(){return window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},_onHashChange:function(){var t=location.hash.replace("#","").split("/");return t.length>=3&&(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0)}),!0)},_updateHash:function(){var t=this._map.getCenter(),e=this._map.getZoom(),r=this._map.getBearing(),n=Math.max(0,Math.ceil(Math.log(e)/Math.LN2)),o="#"+Math.round(100*e)/100+"/"+t.lat.toFixed(n)+"/"+t.lng.toFixed(n)+(r?"/"+Math.round(10*r)/10:"");window.history.replaceState("","",o)}}},{"../util/util":422}],401:[function(t,e,r){"use strict";function n(t){t.parentNode&&t.parentNode.removeChild(t)}var o=t("../util/canvas"),i=t("../util/util"),a=t("../util/browser"),s=t("../util/browser").window,l=t("../util/evented"),u=t("../util/dom"),c=t("../style/style"),p=t("../style/animation_loop"),f=t("../render/painter"),h=t("../geo/transform"),d=t("./hash"),y=t("./bind_handlers"),m=t("./camera"),v=t("../geo/lng_lat"),g=t("../geo/lng_lat_bounds"),b=t("point-geometry"),x=t("./control/attribution"),_=0,w=20,T={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:_,maxZoom:w,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,workerCount:Math.max(a.hardwareConcurrency-1,1)},M=e.exports=function(t){if(t=i.extend({},T,t),t.workerCount<1)throw new Error("workerCount must an integer greater than or equal to 1.");this._interactive=t.interactive,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._trackResize=t.trackResize,this._workerCount=t.workerCount,this._bearingSnap=t.bearingSnap,"string"==typeof t.container?this._container=document.getElementById(t.container):this._container=t.container,this.animationLoop=new p,this.transform=new h(t.minZoom,t.maxZoom),t.maxBounds&&this.setMaxBounds(t.maxBounds),i.bindAll(["_forwardStyleEvent","_forwardSourceEvent","_forwardLayerEvent","_forwardTileEvent","_onStyleLoad","_onStyleChange","_onSourceAdd","_onSourceRemove","_onSourceUpdate","_onWindowOnline","_onWindowResize","_update","_render"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),this.on("moveend",function(){this.animationLoop.set(300),this._rerender()}.bind(this)),"undefined"!=typeof s&&(s.addEventListener("online",this._onWindowOnline,!1),s.addEventListener("resize",this._onWindowResize,!1)),y(this,t),this._hash=t.hash&&(new d).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),this.stacks={},this._classes=[],this.resize(),t.classes&&this.setClasses(t.classes),t.style&&this.setStyle(t.style),t.attributionControl&&this.addControl(new x(t.attributionControl));var e=this.fire.bind(this,"error");this.on("style.error",e),this.on("source.error",e),this.on("tile.error",e),this.on("layer.error",e)};i.extend(M.prototype,l),i.extend(M.prototype,m.prototype),i.extend(M.prototype,{addControl:function(t){return t.addTo(this),this},addClass:function(t,e){return this._classes.indexOf(t)>=0||""===t?this:(this._classes.push(t),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0))},removeClass:function(t,e){var r=this._classes.indexOf(t);return r<0||""===t?this:(this._classes.splice(r,1),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0))},setClasses:function(t,e){for(var r={},n=0;n<t.length;n++)""!==t[n]&&(r[t[n]]=!0);return this._classes=Object.keys(r),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0)},hasClass:function(t){return this._classes.indexOf(t)>=0},getClasses:function(){return this._classes},resize:function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),this._canvas.resize(t,e),this.transform.resize(t,e),this.painter.resize(t,e),this.fire("movestart").fire("move").fire("resize").fire("moveend")},getBounds:function(){var t=new g(this.transform.pointLocation(new b(0,0)),this.transform.pointLocation(this.transform.size));return(this.transform.angle||this.transform.pitch)&&(t.extend(this.transform.pointLocation(new b(this.transform.size.x,0))),t.extend(this.transform.pointLocation(new b(0,this.transform.size.y)))),t},setMaxBounds:function(t){if(t){var e=g.convert(t);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()],this.transform._constrain(),this._update()}else null!==t&&void 0!==t||(this.transform.lngRange=[],this.transform.latRange=[],this._update());return this},setMinZoom:function(t){if(t=null===t||void 0===t?_:t,t>=_&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between "+_+" and the current maxZoom, inclusive")},setMaxZoom:function(t){if(t=null===t||void 0===t?w:t,t>=this.transform.minZoom&&t<=w)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be between the current minZoom and "+w+", inclusive")},project:function(t){return this.transform.locationPoint(v.convert(t))},unproject:function(t){return this.transform.pointLocation(b.convert(t))},queryRenderedFeatures:function(){function t(t){return t instanceof b||Array.isArray(t)}var e,r={};return 2===arguments.length?(e=arguments[0],r=arguments[1]):1===arguments.length&&t(arguments[0])?e=arguments[0]:1===arguments.length&&(r=arguments[0]),this.style.queryRenderedFeatures(this._makeQueryGeometry(e),r,this.transform.zoom,this.transform.angle)},_makeQueryGeometry:function(t){void 0===t&&(t=[b.convert([0,0]),b.convert([this.transform.width,this.transform.height])]);var e,r=t instanceof b||"number"==typeof t[0];if(r){var n=b.convert(t);e=[n]}else{var o=[b.convert(t[0]),b.convert(t[1])];e=[o[0],new b(o[1].x,o[0].y),o[1],new b(o[0].x,o[1].y),o[0]]}return e=e.map(function(t){return this.transform.pointCoordinate(t)}.bind(this))},querySourceFeatures:function(t,e){return this.style.querySourceFeatures(t,e)},setStyle:function(t){return this.style&&(this.style.off("load",this._onStyleLoad).off("error",this._forwardStyleEvent).off("change",this._onStyleChange).off("source.add",this._onSourceAdd).off("source.remove",this._onSourceRemove).off("source.load",this._onSourceUpdate).off("source.error",this._forwardSourceEvent).off("source.change",this._onSourceUpdate).off("layer.add",this._forwardLayerEvent).off("layer.remove",this._forwardLayerEvent).off("layer.error",this._forwardLayerEvent).off("tile.add",this._forwardTileEvent).off("tile.remove",this._forwardTileEvent).off("tile.load",this._update).off("tile.error",this._forwardTileEvent).off("tile.stats",this._forwardTileEvent)._remove(),this.off("rotate",this.style._redoPlacement),this.off("pitch",this.style._redoPlacement)),t?(t instanceof c?this.style=t:this.style=new c(t,this.animationLoop,this._workerCount),this.style.on("load",this._onStyleLoad).on("error",this._forwardStyleEvent).on("change",this._onStyleChange).on("source.add",this._onSourceAdd).on("source.remove",this._onSourceRemove).on("source.load",this._onSourceUpdate).on("source.error",this._forwardSourceEvent).on("source.change",this._onSourceUpdate).on("layer.add",this._forwardLayerEvent).on("layer.remove",this._forwardLayerEvent).on("layer.error",this._forwardLayerEvent).on("tile.add",this._forwardTileEvent).on("tile.remove",this._forwardTileEvent).on("tile.load",this._update).on("tile.error",this._forwardTileEvent).on("tile.stats",this._forwardTileEvent),this.on("rotate",this.style._redoPlacement),this.on("pitch",this.style._redoPlacement),this):(this.style=null,this)},getStyle:function(){if(this.style)return this.style.serialize()},addSource:function(t,e){return this.style.addSource(t,e),this._update(!0),this},addSourceType:function(t,e,r){return this.style.addSourceType(t,e,r)},removeSource:function(t){return this.style.removeSource(t),this._update(!0),this},getSource:function(t){return this.style.getSource(t)},addLayer:function(t,e){return this.style.addLayer(t,e),this._update(!0),this},removeLayer:function(t){return this.style.removeLayer(t),this._update(!0),this},getLayer:function(t){return this.style.getLayer(t)},setFilter:function(t,e){return this.style.setFilter(t,e),this._update(!0),this},setLayerZoomRange:function(t,e,r){return this.style.setLayerZoomRange(t,e,r),this._update(!0),this},getFilter:function(t){return this.style.getFilter(t)},setPaintProperty:function(t,e,r,n){return this.style.setPaintProperty(t,e,r,n),this._update(!0),this},getPaintProperty:function(t,e,r){return this.style.getPaintProperty(t,e,r)},setLayoutProperty:function(t,e,r){return this.style.setLayoutProperty(t,e,r),this._update(!0),this},getLayoutProperty:function(t,e){return this.style.getLayoutProperty(t,e)},getContainer:function(){return this._container},getCanvasContainer:function(){return this._canvasContainer},getCanvas:function(){return this._canvas.getElement()},_setupContainer:function(){var t=this._container;t.classList.add("mapboxgl-map");var e=this._canvasContainer=u.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=new o(this,e);var r=this._controlContainer=u.create("div","mapboxgl-control-container",t),n=this._controlCorners={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){n[t]=u.create("div","mapboxgl-ctrl-"+t,r)})},_setupPainter:function(){var t=this._canvas.getWebGLContext({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer});return t?void(this.painter=new f(t,this.transform)):void this.fire("error",{error:new Error("Failed to initialize WebGL")})},_contextLost:function(t){t.preventDefault(),this._frameId&&a.cancelFrame(this._frameId),this.fire("webglcontextlost",{originalEvent:t})},_contextRestored:function(t){this._setupPainter(),this.resize(),this._update(),this.fire("webglcontextrestored",{originalEvent:t})},loaded:function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},_update:function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender(),this):this},_render:function(){try{this.style&&this._styleDirty&&(this._styleDirty=!1,this.style.update(this._classes,this._classOptions),this._classOptions=null,this.style._recalculate(this.transform.zoom)),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.painter.render(this.style,{debug:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,vertices:this.vertices,rotating:this.rotating,zooming:this.zooming}),this.fire("render"),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire("load")),this._frameId=null,this.animationLoop.stopped()||(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty)&&this._rerender()}catch(t){this.fire("error",{error:t})}return this},remove:function(){this._hash&&this._hash.remove(),a.cancelFrame(this._frameId),this.setStyle(null),"undefined"!=typeof s&&s.removeEventListener("resize",this._onWindowResize,!1);var t=this.painter.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),n(this._canvasContainer),n(this._controlContainer),this._container.classList.remove("mapboxgl-map")},_rerender:function(){this.style&&!this._frameId&&(this._frameId=a.frame(this._render))},_forwardStyleEvent:function(t){this.fire("style."+t.type,i.extend({style:t.target},t))},_forwardSourceEvent:function(t){this.fire(t.type,i.extend({style:t.target},t))},_forwardLayerEvent:function(t){this.fire(t.type,i.extend({style:t.target},t))},_forwardTileEvent:function(t){this.fire(t.type,i.extend({style:t.target},t))},_onStyleLoad:function(t){this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this.style.update(this._classes,{transition:!1}),this._forwardStyleEvent(t)},_onStyleChange:function(t){this._update(!0),this._forwardStyleEvent(t)},_onSourceAdd:function(t){var e=t.source;e.onAdd&&e.onAdd(this),this._forwardSourceEvent(t)},_onSourceRemove:function(t){var e=t.source;e.onRemove&&e.onRemove(this),this._forwardSourceEvent(t)},_onSourceUpdate:function(t){this._update(),this._forwardSourceEvent(t)},_onWindowOnline:function(){this._update()},_onWindowResize:function(){this._trackResize&&this.stop().resize()._update()}}),i.extendAll(M.prototype,{_showTileBoundaries:!1,get showTileBoundaries(){return this._showTileBoundaries},set showTileBoundaries(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},_showCollisionBoxes:!1,get showCollisionBoxes(){return this._showCollisionBoxes},set showCollisionBoxes(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,this.style._redoPlacement())},_showOverdrawInspector:!1,get showOverdrawInspector(){return this._showOverdrawInspector},set showOverdrawInspector(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},_repaint:!1,get repaint(){return this._repaint},set repaint(t){this._repaint=t,this._update()},_vertices:!1,get vertices(){return this._vertices},set vertices(t){this._vertices=t,this._update()}})},{"../geo/lng_lat":319,"../geo/lng_lat_bounds":320,"../geo/transform":321,"../render/painter":335,"../style/animation_loop":355,"../style/style":358,"../util/browser":406,"../util/canvas":407,"../util/dom":408,"../util/evented":414,"../util/util":422,"./bind_handlers":387,"./camera":388,"./control/attribution":389,"./hash":400,"point-geometry":463}],402:[function(t,e,r){"use strict";function n(t,e){t||(t=o.create("div")),t.classList.add("mapboxgl-marker"),this._el=t,this._offset=a.convert(e&&e.offset||[0,0]),this._update=this._update.bind(this)}e.exports=n;var o=t("../util/dom"),i=t("../geo/lng_lat"),a=t("point-geometry");n.prototype={addTo:function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._el),t.on("move",this._update),this._update(),this},remove:function(){this._map&&(this._map.off("move",this._update),this._map=null);var t=this._el.parentNode;return t&&t.removeChild(this._el),this},getLngLat:function(){return this._lngLat},setLngLat:function(t){return this._lngLat=i.convert(t),this._update(),this},getElement:function(){return this._el},_update:function(){if(this._map){var t=this._map.project(this._lngLat)._add(this._offset);o.setTransform(this._el,"translate("+t.x+"px,"+t.y+"px)")}}}},{"../geo/lng_lat":319,"../util/dom":408,"point-geometry":463}],403:[function(t,e,r){"use strict";function n(t){o.setOptions(this,t),o.bindAll(["_update","_onClickClose"],this)}e.exports=n;var o=t("../util/util"),i=t("../util/evented"),a=t("../util/dom"),s=t("../geo/lng_lat");n.prototype=o.inherit(i,{options:{closeButton:!0,closeOnClick:!0},addTo:function(t){return this._map=t,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this},remove:function(){return this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._container&&(this._container.parentNode.removeChild(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire("close"),this},getLngLat:function(){return this._lngLat},setLngLat:function(t){return this._lngLat=s.convert(t),this._update(),this},setText:function(t){return this.setDOMContent(document.createTextNode(t))},setHTML:function(t){var e,r=document.createDocumentFragment(),n=document.createElement("body");for(n.innerHTML=t;;){if(e=n.firstChild,!e)break;r.appendChild(e)}return this.setDOMContent(r)},setDOMContent:function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},_createContent:function(){this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._content=a.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=a.create("button","mapboxgl-popup-close-button",this._content),
this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},_update:function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=a.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=a.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content));var t=this._map.project(this._lngLat).round(),e=this.options.anchor;if(!e){var r=this._container.offsetWidth,n=this._container.offsetHeight;e=t.y<n?["top"]:t.y>this._map.transform.height-n?["bottom"]:[],t.x<r/2?e.push("left"):t.x>this._map.transform.width-r/2&&e.push("right"),e=0===e.length?"bottom":e.join("-")}var o={top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},i=this._container.classList;for(var s in o)i.remove("mapboxgl-popup-anchor-"+s);i.add("mapboxgl-popup-anchor-"+e),a.setTransform(this._container,o[e]+" translate("+t.x+"px,"+t.y+"px)")}},_onClickClose:function(){this.remove()}})},{"../geo/lng_lat":319,"../util/dom":408,"../util/evented":414,"../util/util":422}],404:[function(t,e,r){"use strict";function n(t,e){this.target=t,this.parent=e,this.callbacks={},this.callbackID=0,this.receive=this.receive.bind(this),this.target.addEventListener("message",this.receive,!1)}e.exports=n,n.prototype.receive=function(t){function e(t,e,r){this.postMessage({type:"<response>",id:String(o),error:t?String(t):null,data:e},r)}var r,n=t.data,o=n.id;if("<response>"===n.type)r=this.callbacks[n.id],delete this.callbacks[n.id],r&&r(n.error||null,n.data);else if("undefined"!=typeof n.id&&this.parent[n.type])this.parent[n.type](n.data,e.bind(this));else if("undefined"!=typeof n.id&&this.parent.workerSources){var i=n.type.split(".");this.parent.workerSources[i[0]][i[1]](n.data,e.bind(this))}else this.parent[n.type](n.data)},n.prototype.send=function(t,e,r,n){var o=null;r&&(this.callbacks[o=this.callbackID++]=r),this.postMessage({type:t,id:String(o),data:e},n)},n.prototype.postMessage=function(t,e){this.target.postMessage(t,e)}},{}],405:[function(t,e,r){"use strict";function n(t){var e=document.createElement("a");return e.href=t,e.protocol===document.location.protocol&&e.host===document.location.host}r.getJSON=function(t,e){var r=new XMLHttpRequest;return r.open("GET",t,!0),r.setRequestHeader("Accept","application/json"),r.onerror=function(t){e(t)},r.onload=function(){if(r.status>=200&&r.status<300&&r.response){var t;try{t=JSON.parse(r.response)}catch(t){return e(t)}e(null,t)}else e(new Error(r.statusText))},r.send(),r},r.getArrayBuffer=function(t,e){var r=new XMLHttpRequest;return r.open("GET",t,!0),r.responseType="arraybuffer",r.onerror=function(t){e(t)},r.onload=function(){r.status>=200&&r.status<300&&r.response?e(null,r.response):e(new Error(r.statusText))},r.send(),r},r.getImage=function(t,e){return r.getArrayBuffer(t,function(t,r){if(t)return e(t);var n=new Image;n.onload=function(){e(null,n),(window.URL||window.webkitURL).revokeObjectURL(n.src)};var o=new Blob([new Uint8Array(r)],{type:"image/png"});return n.src=(window.URL||window.webkitURL).createObjectURL(o),n.getData=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return t.width=n.width,t.height=n.height,e.drawImage(n,0,0),e.getImageData(0,0,n.width,n.height).data},n})},r.getVideo=function(t,e){var r=document.createElement("video");r.onloadstart=function(){e(null,r)};for(var o=0;o<t.length;o++){var i=document.createElement("source");n(t[o])||(r.crossOrigin="Anonymous"),i.src=t[o],r.appendChild(i)}return r.getData=function(){return r},r}},{}],406:[function(t,e,r){"use strict";r.window=window,e.exports.now=function(){return window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now.bind(Date)}();var n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;r.frame=function(t){return n(t)};var o=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame;r.cancelFrame=function(t){o(t)},r.timed=function(t,n,o){function i(l){a||(l=e.exports.now(),l>=s+n?t.call(o,1):(t.call(o,(l-s)/n),r.frame(i)))}if(!n)return t.call(o,1),null;var a=!1,s=e.exports.now();return r.frame(i),function(){a=!0}},r.supported=t("mapbox-gl-supported"),r.hardwareConcurrency=navigator.hardwareConcurrency||4,Object.defineProperty(r,"devicePixelRatio",{get:function(){return window.devicePixelRatio}}),r.supportsWebp=!1;var i=document.createElement("img");i.onload=function(){r.supportsWebp=!0},i.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=",r.supportsGeolocation=!!navigator.geolocation},{"mapbox-gl-supported":307}],407:[function(t,e,r){"use strict";function n(t,e){this.canvas=document.createElement("canvas"),t&&e&&(this.canvas.style.position="absolute",this.canvas.classList.add("mapboxgl-canvas"),this.canvas.addEventListener("webglcontextlost",t._contextLost.bind(t),!1),this.canvas.addEventListener("webglcontextrestored",t._contextRestored.bind(t),!1),this.canvas.setAttribute("tabindex",0),e.appendChild(this.canvas))}var o=t("../util"),i=t("mapbox-gl-supported");e.exports=n,n.prototype.resize=function(t,e){var r=window.devicePixelRatio||1;this.canvas.width=r*t,this.canvas.height=r*e,this.canvas.style.width=t+"px",this.canvas.style.height=e+"px"},n.prototype.getWebGLContext=function(t){return t=o.extend({},t,i.webGLContextAttributes),this.canvas.getContext("webgl",t)||this.canvas.getContext("experimental-webgl",t)},n.prototype.getElement=function(){return this.canvas}},{"../util":422,"mapbox-gl-supported":307}],408:[function(t,e,r){"use strict";function n(t){for(var e=0;e<t.length;e++)if(t[e]in s)return t[e]}function o(t){t.preventDefault(),t.stopPropagation(),window.removeEventListener("click",o,!0)}var i=t("point-geometry");r.create=function(t,e,r){var n=document.createElement(t);return e&&(n.className=e),r&&r.appendChild(n),n};var a,s=document.documentElement.style,l=n(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);r.disableDrag=function(){l&&(a=s[l],s[l]="none")},r.enableDrag=function(){l&&(s[l]=a)};var u=n(["transform","WebkitTransform"]);r.setTransform=function(t,e){t.style[u]=e},r.suppressClick=function(){window.addEventListener("click",o,!0),window.setTimeout(function(){window.removeEventListener("click",o,!0)},0)},r.mousePos=function(t,e){var r=t.getBoundingClientRect();return e=e.touches?e.touches[0]:e,new i(e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop)},r.touchPos=function(t,e){for(var r=t.getBoundingClientRect(),n=[],o=0;o<e.touches.length;o++)n.push(new i(e.touches[o].clientX-r.left-t.clientLeft,e.touches[o].clientY-r.top-t.clientTop));return n}},{"point-geometry":463}],409:[function(t,e,r){"use strict";var n=t("webworkify");e.exports=function(){return new n(t("../../source/worker"))}},{"../../source/worker":353,webworkify:542}],410:[function(t,e,r){"use strict";function n(t,e){return e.area-t.area}function o(t){for(var e,r,n=0,o=0,i=t.length,a=i-1;o<i;a=o++)e=t[o],r=t[a],n+=(r.x-e.x)*(e.y+r.y);return n}var i=t("quickselect");e.exports=function(t,e){var r=t.length;if(r<=1)return[t];for(var a,s,l=[],u=0;u<r;u++){var c=o(t[u]);0!==c&&(t[u].area=Math.abs(c),void 0===s&&(s=c<0),s===c<0?(a&&l.push(a),a=[t[u]]):a.push(t[u]))}if(a&&l.push(a),e>1)for(var p=0;p<l.length;p++)l[p].length<=e||(i(l[p],e,1,l[p].length-1,n),l[p]=l[p].slice(0,e));return l}},{quickselect:472}],411:[function(t,e,r){"use strict";e.exports={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0}},{}],412:[function(t,e,r){"use strict";function n(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var r=t[e];this._stringToNumber[r]=e,this._numberToString[e]=r}}var o=t("assert");e.exports=n,n.prototype.encode=function(t){return o(t in this._stringToNumber),this._stringToNumber[t]},n.prototype.decode=function(t){return o(t<this._numberToString.length),this._numberToString[t]}},{assert:37}],413:[function(t,e,r){"use strict";function n(t,e){this.actors=[],this.currentActor=0;for(var r=0;r<t;r++){var n=new a,o=new i(n,e);o.name="Worker "+r,this.actors.push(o)}}var o=t("./util"),i=t("./actor"),a=t("./web_worker");e.exports=n,n.prototype={broadcast:function(t,e,r){r=r||function(){},o.asyncAll(this.actors,function(r,n){r.send(t,e,n)},r)},send:function(t,e,r,n,o){return("number"!=typeof n||isNaN(n))&&(n=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[n].send(t,e,r,o),n},remove:function(){for(var t=0;t<this.actors.length;t++)this.actors[t].target.terminate();this.actors=[]}}},{"./actor":404,"./util":422,"./web_worker":409}],414:[function(t,e,r){"use strict";var n=t("./util"),o={on:function(t,e){return this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e),this},off:function(t,e){if(!t)return delete this._events,this;if(!this.listens(t))return this;if(e){var r=this._events[t].indexOf(e);r>=0&&this._events[t].splice(r,1),this._events[t].length||delete this._events[t]}else delete this._events[t];return this},once:function(t,e){var r=function(n){this.off(t,r),e.call(this,n)}.bind(this);return this.on(t,r),this},fire:function(t,e){if(!this.listens(t))return n.endsWith(t,"error")&&console.error(e&&e.error||e||"Empty error event"),this;e=n.extend({},e),n.extend(e,{type:t,target:this});for(var r=this._events[t].slice(),o=0;o<r.length;o++)r[o].call(this,e);return this},listens:function(t){return!(!this._events||!this._events[t])}};e.exports=o},{"./util":422}],415:[function(t,e,r){"use strict";function n(t,e){this.stacks=t.readFields(o,[],e)}function o(t,e,r){if(1===t){var n=r.readMessage(i,{glyphs:{}});e.push(n)}}function i(t,e,r){if(1===t)e.name=r.readString();else if(2===t)e.range=r.readString();else if(3===t){var n=r.readMessage(a,{});e.glyphs[n.id]=n}}function a(t,e,r){1===t?e.id=r.readVarint():2===t?e.bitmap=r.readBytes():3===t?e.width=r.readVarint():4===t?e.height=r.readVarint():5===t?e.left=r.readSVarint():6===t?e.top=r.readSVarint():7===t&&(e.advance=r.readVarint())}e.exports=n},{}],416:[function(t,e,r){"use strict";function n(t,e,r){return t*(1-r)+e*r}e.exports=n,n.number=n,n.vec2=function(t,e,r){return[n(t[0],e[0],r),n(t[1],e[1],r)]},n.color=function(t,e,r){return[n(t[0],e[0],r),n(t[1],e[1],r),n(t[2],e[2],r),n(t[3],e[3],r)]},n.array=function(t,e,r){return t.map(function(t,o){return n(t,e[o],r)})}},{}],417:[function(t,e,r){"use strict";function n(t,e,r){for(var n=0;n<t.length;n++)for(var o=t[n],i=0;i<e.length;i++)for(var a=e[i],s=0;s<a.length;s++){var l=a[s];if(h(o,l))return!0;if(c(l,o,r))return!0}return!1}function o(t,e){if(1===t.length&&1===t[0].length)return f(e,t[0][0]);for(var r=0;r<e.length;r++)for(var n=e[r],o=0;o<n.length;o++)if(f(t,n[o]))return!0;for(var i=0;i<t.length;i++){for(var a=t[i],l=0;l<a.length;l++)if(f(e,a[l]))return!0;for(var u=0;u<e.length;u++)if(s(a,e[u]))return!0}return!1}function i(t,e,r){for(var n=0;n<e.length;n++)for(var o=e[n],i=0;i<t.length;i++){var s=t[i];if(s.length>=3)for(var l=0;l<o.length;l++)if(h(s,o[l]))return!0;if(a(s,o,r))return!0}return!1}function a(t,e,r){if(t.length>1){if(s(t,e))return!0;for(var n=0;n<e.length;n++)if(c(e[n],t,r))return!0}for(var o=0;o<t.length;o++)if(c(t[o],e,r))return!0;return!1}function s(t,e){for(var r=0;r<t.length-1;r++)for(var n=t[r],o=t[r+1],i=0;i<e.length-1;i++){var a=e[i],s=e[i+1];if(u(n,o,a,s))return!0}return!1}function l(t,e,r){return(r.y-t.y)*(e.x-t.x)>(e.y-t.y)*(r.x-t.x)}function u(t,e,r,n){return l(t,r,n)!==l(e,r,n)&&l(t,e,r)!==l(t,e,n)}function c(t,e,r){var n=r*r;if(1===e.length)return t.distSqr(e[0])<n;for(var o=1;o<e.length;o++){var i=e[o-1],a=e[o];if(p(t,i,a)<n)return!0}return!1}function p(t,e,r){var n=e.distSqr(r);if(0===n)return t.distSqr(e);var o=((t.x-e.x)*(r.x-e.x)+(t.y-e.y)*(r.y-e.y))/n;return o<0?t.distSqr(e):o>1?t.distSqr(r):t.distSqr(r.sub(e)._mult(o)._add(e))}function f(t,e){for(var r,n,o,i=!1,a=0;a<t.length;a++){r=t[a];for(var s=0,l=r.length-1;s<r.length;l=s++)n=r[s],o=r[l],n.y>e.y!=o.y>e.y&&e.x<(o.x-n.x)*(e.y-n.y)/(o.y-n.y)+n.x&&(i=!i)}return i}function h(t,e){for(var r=!1,n=0,o=t.length-1;n<t.length;o=n++){var i=t[n],a=t[o];i.y>e.y!=a.y>e.y&&e.x<(a.x-i.x)*(e.y-i.y)/(a.y-i.y)+i.x&&(r=!r)}return r}e.exports={multiPolygonIntersectsBufferedMultiPoint:n,multiPolygonIntersectsMultiPolygon:o,multiPolygonIntersectsBufferedMultiLine:i}},{}],418:[function(t,e,r){"use strict";function n(t,e){this.max=t,this.onRemove=e,this.reset()}e.exports=n,n.prototype.reset=function(){for(var t in this.data)this.onRemove(this.data[t]);return this.data={},this.order=[],this},n.prototype.add=function(t,e){if(this.has(t))this.order.splice(this.order.indexOf(t),1),this.data[t]=e,this.order.push(t);else if(this.data[t]=e,this.order.push(t),this.order.length>this.max){var r=this.get(this.order[0]);r&&this.onRemove(r)}return this},n.prototype.has=function(t){return t in this.data},n.prototype.keys=function(){return this.order},n.prototype.get=function(t){if(!this.has(t))return null;var e=this.data[t];return delete this.data[t],this.order.splice(this.order.indexOf(t),1),e},n.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this.get(this.order[0]);e&&this.onRemove(e)}return this}},{}],419:[function(t,e,r){"use strict";function n(t,e,r){if(r=r||a.ACCESS_TOKEN,!r&&a.REQUIRE_ACCESS_TOKEN)throw new Error("An API access token is required to use Mapbox GL. See https://www.mapbox.com/developers/api/#access-tokens");if(t=t.replace(/^mapbox:\/\//,a.API_URL+e),t+=t.indexOf("?")!==-1?"&access_token=":"?access_token=",a.REQUIRE_ACCESS_TOKEN){if("s"===r[0])throw new Error("Use a public access token (pk.*) with Mapbox GL JS, not a secret access token (sk.*). See https://www.mapbox.com/developers/api/#access-tokens");t+=r}return t}function o(t){return t?"?"+t:""}function i(t){return t.access_token&&"tk."===t.access_token.slice(0,3)?u.extend({},t,{access_token:a.ACCESS_TOKEN}):t}var a=t("./config"),s=t("./browser"),l=t("url"),u=t("./util");e.exports.normalizeStyleURL=function(t,e){var r=l.parse(t);return"mapbox:"!==r.protocol?t:n("mapbox:/"+r.pathname+o(r.query),"/styles/v1/",e)},e.exports.normalizeSourceURL=function(t,e){var r=l.parse(t);return"mapbox:"!==r.protocol?t:n(t+".json","/v4/",e)+"&secure"},e.exports.normalizeGlyphsURL=function(t,e){var r=l.parse(t);if("mapbox:"!==r.protocol)return t;var i=r.pathname.split("/")[1];return n("mapbox://"+i+"/{fontstack}/{range}.pbf"+o(r.query),"/fonts/v1/",e)},e.exports.normalizeSpriteURL=function(t,e,r,i){var a=l.parse(t);return"mapbox:"!==a.protocol?(a.pathname+=e+r,l.format(a)):n("mapbox:/"+a.pathname+"/sprite"+e+r+o(a.query),"/styles/v1/",i)},e.exports.normalizeTileURL=function(t,e,r){var n=l.parse(t,!0);if(!e)return t;var o=l.parse(e);if("mapbox:"!==o.protocol)return t;var a=s.supportsWebp?".webp":"$1",u=s.devicePixelRatio>=2||512===r?"@2x":"";return l.format({protocol:n.protocol,hostname:n.hostname,pathname:n.pathname.replace(/(\.(?:png|jpg)\d*)/,u+a),query:i(n.query)})}},{"./browser":406,"./config":411,"./util":422,url:523}],420:[function(t,e,r){"use strict";function n(t){function e(){f.apply(this,arguments)}function r(){h.apply(this,arguments),this.members=e.prototype.members}var n=JSON.stringify(t);if(m[n])return m[n];void 0===t.alignment&&(t.alignment=1),e.prototype=Object.create(f.prototype);var s=0,u=0,v=["Uint8"];return e.prototype.members=t.members.map(function(r){r={name:r.name,type:r.type,components:r.components||1},d(r.name.length),d(r.type in y),v.indexOf(r.type)<0&&v.push(r.type);var n=a(r.type);u=Math.max(u,n),r.offset=s=i(s,Math.max(t.alignment,n));for(var o=0;o<r.components;o++)Object.defineProperty(e.prototype,r.name+(1===r.components?"":o),{get:c(r,o),set:p(r,o)});return s+=n*r.components,r}),e.prototype.alignment=t.alignment,e.prototype.size=i(s,Math.max(u,t.alignment)),r.serialize=o,r.prototype=Object.create(h.prototype),r.prototype.StructType=e,r.prototype.bytesPerElement=e.prototype.size,r.prototype.emplaceBack=l(e.prototype.members,e.prototype.size),r.prototype._usedTypes=v,m[n]=r,r}function o(){return{members:this.prototype.StructType.prototype.members,alignment:this.prototype.StructType.prototype.alignment,bytesPerElement:this.prototype.bytesPerElement}}function i(t,e){return Math.ceil(t/e)*e}function a(t){return y[t].BYTES_PER_ELEMENT}function s(t){return t.toLowerCase()}function l(t,e){for(var r=[],n=[],o="var i = this.length;\nthis.resize(this.length + 1);\n",i=0;i<t.length;i++){var l=t[i],u=a(l.type);r.indexOf(u)<0&&(r.push(u),o+="var o"+u.toFixed(0)+" = i * "+(e/u).toFixed(0)+";\n");for(var c=0;c<l.components;c++){var p="v"+n.length,f="o"+u.toFixed(0)+" + "+(l.offset/u+c).toFixed(0);o+="this."+s(l.type)+"["+f+"] = "+p+";\n",n.push(p)}}return o+="return i;",new Function(n,o)}function u(t,e){var r="this._pos"+a(t.type).toFixed(0),n=(t.offset/a(t.type)+e).toFixed(0),o=r+" + "+n;return"this._structArray."+s(t.type)+"["+o+"]"}function c(t,e){return new Function([],"return "+u(t,e)+";")}function p(t,e){return new Function(["x"],u(t,e)+" = x;")}function f(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}function h(t){void 0!==t?(this.arrayBuffer=t.arrayBuffer,this.length=t.length,this.capacity=this.arrayBuffer.byteLength/this.bytesPerElement,this._refreshViews()):(this.capacity=-1,this.resize(0))}var d=t("assert");e.exports=n;var y={Int8:Int8Array,Uint8:Uint8Array,Uint8Clamped:Uint8ClampedArray,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array,Float64:Float64Array},m={};h.prototype.DEFAULT_CAPACITY=128,h.prototype.RESIZE_MULTIPLIER=5,h.prototype.serialize=function(){return this.trim(),{length:this.length,arrayBuffer:this.arrayBuffer}},h.prototype.get=function(t){return new this.StructType(this,t)},h.prototype.trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},h.prototype.resize=function(t){if(this.length=t,t>this.capacity){this.capacity=Math.max(t,Math.floor(this.capacity*this.RESIZE_MULTIPLIER),this.DEFAULT_CAPACITY),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},h.prototype._refreshViews=function(){for(var t=0;t<this._usedTypes.length;t++){var e=this._usedTypes[t];this[s(e)]=new y[e](this.arrayBuffer)}},h.prototype.toArray=function(t,e){for(var r=[],n=t;n<e;n++){var o=this.get(n);r.push(o)}return r}},{assert:37}],421:[function(t,e,r){"use strict";function n(t,e){return e.replace(/{([^{}]+)}/g,function(e,r){return r in t?t[r]:""})}e.exports=n},{}],422:[function(t,e,r){"use strict";var n=t("unitbezier"),o=t("../geo/coordinate");r.easeCubicInOut=function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,r=e*t;return 4*(t<.5?r:3*(t-e)+r-.75)},r.bezier=function(t,e,r,o){var i=new n(t,e,r,o);return function(t){return i.solve(t)}},r.ease=r.bezier(.25,.1,.25,1),r.clamp=function(t,e,r){return Math.min(r,Math.max(e,t))},r.wrap=function(t,e,r){var n=r-e,o=((t-e)%n+n)%n+e;return o===e?r:o},r.coalesce=function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];if(null!==e&&void 0!==e)return e}},r.asyncAll=function(t,e,r){if(!t.length)return r(null,[]);var n=t.length,o=new Array(t.length),i=null;t.forEach(function(t,a){e(t,function(t,e){t&&(i=t),o[a]=e,0===--n&&r(i,o)})})},r.keysDifference=function(t,e){var r=[];for(var n in t)n in e||r.push(n);return r},r.extend=function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t},r.extendAll=function(t,e){for(var r in e)Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r));return t},r.inherit=function(t,e){var n="function"==typeof t?t.prototype:t,o=Object.create(n);return r.extendAll(o,e),o},r.pick=function(t,e){for(var r={},n=0;n<e.length;n++){var o=e[n];o in t&&(r[o]=t[o])}return r};var i=1;r.uniqueId=function(){return i++},r.debounce=function(t,e){var r,n;return function(){n=arguments,clearTimeout(r),r=setTimeout(function(){t.apply(null,n)},e)}},r.bindAll=function(t,e){t.forEach(function(t){e[t]&&(e[t]=e[t].bind(e))})},r.bindHandlers=function(t){for(var e in t)"function"==typeof t[e]&&0===e.indexOf("_on")&&(t[e]=t[e].bind(t))},r.setOptions=function(t,e){t.hasOwnProperty("options")||(t.options=t.options?Object.create(t.options):{});for(var r in e)t.options[r]=e[r];return t.options},r.getCoordinatesCenter=function(t){for(var e=1/0,r=1/0,n=-(1/0),i=-(1/0),a=0;a<t.length;a++)e=Math.min(e,t[a].column),r=Math.min(r,t[a].row),n=Math.max(n,t[a].column),i=Math.max(i,t[a].row);var s=n-e,l=i-r,u=Math.max(s,l);return new o((e+n)/2,(r+i)/2,0).zoomTo(Math.floor(-Math.log(u)/Math.LN2))},r.endsWith=function(t,e){return t.indexOf(e,t.length-e.length)!==-1},r.startsWith=function(t,e){return 0===t.indexOf(e)},r.mapObject=function(t,e,r){var n={};for(var o in t)n[o]=e.call(r||this,t[o],o,t);return n},r.filterObject=function(t,e,r){var n={};for(var o in t)e.call(r||this,t[o],o,t)&&(n[o]=t[o]);return n},r.deepEqual=function t(e,r){if(Array.isArray(e)){if(!Array.isArray(r)||e.length!==r.length)return!1;for(var n=0;n<e.length;n++)if(!t(e[n],r[n]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==r){if("object"!=typeof r)return!1;var o=Object.keys(e);if(o.length!==Object.keys(r).length)return!1;for(var i in e)if(!t(e[i],r[i]))return!1;return!0}return e===r},r.clone=function(t){return Array.isArray(t)?t.map(r.clone):"object"==typeof t?r.mapObject(t,r.clone):t},r.arraysIntersect=function(t,e){for(var r=0;r<t.length;r++)if(e.indexOf(t[r])>=0)return!0;return!1};var a={};r.warnOnce=function(t){a[t]||("undefined"!=typeof console&&console.warn(t),a[t]=!0)}},{"../geo/coordinate":318,unitbezier:522}],423:[function(t,e,r){"use strict";function n(t,e,r,n){this._vectorTileFeature=t,t._z=e,t._x=r,t._y=n,this.properties=t.properties,null!=t.id&&(this.id=t.id)}e.exports=n,n.prototype={type:"Feature",get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},set geometry(t){this._geometry=t},toJSON:function(){var t={};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&"toJSON"!==e&&(t[e]=this[e]);return t}}},{}],424:[function(t,e,r){e.exports={_args:[[{raw:"mapbox-gl@^0.22.0",scope:null,escapedName:"mapbox-gl",name:"mapbox-gl",rawSpec:"^0.22.0",spec:">=0.22.0 <0.23.0",type:"range"},"/home/etienne/Documents/plotly/plotly.js"]],_from:"mapbox-gl@>=0.22.0 <0.23.0",_id:"mapbox-gl@0.22.1",_inCache:!0,_location:"/mapbox-gl",_nodeVersion:"4.4.5",_npmOperationalInternal:{host:"packages-12-west.internal.npmjs.com",tmp:"tmp/mapbox-gl-0.22.1.tgz_1471549891670_0.8762630566488951"},_npmUser:{name:"lucaswoj",email:"lucas@lucaswoj.com"},_npmVersion:"2.15.5",_phantomChildren:{},_requested:{raw:"mapbox-gl@^0.22.0",scope:null,escapedName:"mapbox-gl",name:"mapbox-gl",rawSpec:"^0.22.0",spec:">=0.22.0 <0.23.0",type:"range"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/mapbox-gl/-/mapbox-gl-0.22.1.tgz",_shasum:"92a965547d4c2f24c22cbc487eeda48694cb627a",_shrinkwrap:null,_spec:"mapbox-gl@^0.22.0",_where:"/home/etienne/Documents/plotly/plotly.js",browser:{"./js/util/ajax.js":"./js/util/browser/ajax.js","./js/util/browser.js":"./js/util/browser/browser.js","./js/util/canvas.js":"./js/util/browser/canvas.js","./js/util/dom.js":"./js/util/browser/dom.js","./js/util/web_worker.js":"./js/util/browser/web_worker.js"},bugs:{url:"https://github.com/mapbox/mapbox-gl-js/issues"},dependencies:{csscolorparser:"^1.0.2",earcut:"^2.0.3","feature-filter":"^2.2.0","geojson-rewind":"^0.1.0","geojson-vt":"^2.4.0","gl-matrix":"^2.3.1","grid-index":"^1.0.0","mapbox-gl-function":"^1.2.1","mapbox-gl-shaders":"github:mapbox/mapbox-gl-shaders#de2ab007455aa2587c552694c68583f94c9f2747","mapbox-gl-style-spec":"github:mapbox/mapbox-gl-style-spec#83b1a3e5837d785af582efd5ed1a212f2df6a4ae","mapbox-gl-supported":"^1.2.0",pbf:"^1.3.2",pngjs:"^2.2.0","point-geometry":"^0.0.0",quickselect:"^1.0.0",request:"^2.39.0","resolve-url":"^0.2.1","shelf-pack":"^1.0.0",supercluster:"^2.0.1",unassertify:"^2.0.0",unitbezier:"^0.0.0","vector-tile":"^1.3.0","vt-pbf":"^2.0.2",webworkify:"^1.3.0","whoots-js":"^2.0.0"},description:"A WebGL interactive maps library",devDependencies:{"babel-preset-react":"^6.11.1",babelify:"^7.3.0",benchmark:"~2.1.0",browserify:"^13.0.0",clipboard:"^1.5.12","concat-stream":"1.5.1",coveralls:"^2.11.8",doctrine:"^1.2.1",documentation:"https://github.com/documentationjs/documentation/archive/bb41619c734e59ef3fbc3648610032efcfdaaace.tar.gz","documentation-theme-utils":"3.0.0",envify:"^3.4.0",eslint:"^2.5.3","eslint-config-mourner":"^2.0.0","eslint-plugin-html":"^1.5.1",gl:"^4.0.1",handlebars:"4.0.5","highlight.js":"9.3.0",istanbul:"^0.4.2","json-loader":"^0.5.4",lodash:"^4.13.1","mapbox-gl-test-suite":"github:mapbox/mapbox-gl-test-suite#7babab52fb02788ebbc38384139bf350e8e38552","memory-fs":"^0.3.0",minifyify:"^7.0.1","npm-run-all":"^3.0.0",nyc:"6.4.0",proxyquire:"^1.7.9",remark:"4.2.2","remark-html":"3.0.0",sinon:"^1.15.4",st:"^1.2.0",tap:"^5.7.0","transform-loader":"^0.2.3","unist-util-visit":"1.1.0",vinyl:"1.1.1","vinyl-fs":"2.4.3",watchify:"^3.7.0",webpack:"^1.13.1","webworkify-webpack":"^1.1.3"},directories:{},dist:{shasum:"92a965547d4c2f24c22cbc487eeda48694cb627a",tarball:"https://registry.npmjs.org/mapbox-gl/-/mapbox-gl-0.22.1.tgz"},engines:{node:">=4.0.0"},gitHead:"13a9015341f0602ccb55c98c53079838ad4b70b5",homepage:"https://github.com/mapbox/mapbox-gl-js#readme",license:"BSD-3-Clause",main:"js/mapbox-gl.js",maintainers:[{name:"aaronlidman",email:"aaronlidman@gmail.com"},{name:"ajashton",email:"aj.ashton@gmail.com"},{name:"ansis",email:"ansis.brammanis@gmail.com"},{name:"bergwerkgis",email:"wb@bergwerk-gis.at"},{name:"bhousel",email:"bryan@mapbox.com"},{name:"bsudekum",email:"bobby@mapbox.com"},{name:"camilleanne",email:"camille@mapbox.com"},{name:"dnomadb",email:"damon@mapbox.com"},{name:"dthompson",email:"dthompson@gmail.com"},{name:"emilymcafee",email:"emily@mapbox.com"},{name:"flippmoke",email:"flippmoke@gmail.com"},{name:"freenerd",email:"spam@freenerd.de"},{name:"gretacb",email:"carol@mapbox.com"},{name:"ian29",email:"ian.villeda@gmail.com"},{name:"ianshward",email:"ian@mapbox.com"},{name:"ingalls",email:"nicholas.ingalls@gmail.com"},{name:"jfirebaugh",email:"john.firebaugh@gmail.com"},{name:"jrpruit1",email:"jake@jakepruitt.com"},{name:"karenzshea",email:"karen@mapbox.com"},{name:"kkaefer",email:"kkaefer@gmail.com"},{name:"lbud",email:"lauren@mapbox.com"},{name:"lucaswoj",email:"lucas@lucaswoj.com"},{name:"lxbarth",email:"alex@mapbox.com"},{name:"lyzidiamond",email:"lyzi@mapbox.com"},{name:"mapbox-admin",email:"accounts@mapbox.com"},{name:"mateov",email:"matt@mapbox.com"},{name:"mcwhittemore",email:"mcwhittemore@gmail.com"},{name:"miccolis",email:"jeff@miccolis.net"},{name:"mikemorris",email:"michael.patrick.morris@gmail.com"},{name:"morganherlocker",email:"morgan.herlocker@gmail.com"},{name:"mourner",email:"agafonkin@gmail.com"},{name:"nickidlugash",email:"nicki@mapbox.com"},{name:"rclark",email:"ryan.clark.j@gmail.com"},{name:"samanbb",email:"saman@mapbox.com"},{name:"sbma44",email:"tlee@mapbox.com"},{name:"scothis",email:"scothis@gmail.com"},{name:"sgillies",email:"sean@mapbox.com"},{name:"springmeyer",email:"dane@mapbox.com"},{name:"themarex",email:"patrick@mapbox.com"},{name:"tmcw",email:"tom@macwright.org"},{name:"tristen",email:"tristen.brown@gmail.com"},{name:"willwhite",email:"will@mapbox.com"},{name:"yhahn",email:"young@mapbox.com"}],name:"mapbox-gl",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git://github.com/mapbox/mapbox-gl-js.git"},scripts:{build:"npm run build-docs # invoked by publisher when publishing docs on the mb-pages branch","build-dev":"browserify js/mapbox-gl.js --debug --standalone mapboxgl > dist/mapbox-gl-dev.js && tap --no-coverage test/build/dev.test.js","build-docs":"documentation build --github --format html -c documentation.yml --theme ./docs/_theme --output docs/api/","build-min":"browserify js/mapbox-gl.js --debug -t unassertify --plugin [minifyify --map mapbox-gl.js.map --output dist/mapbox-gl.js.map] --standalone mapboxgl > dist/mapbox-gl.js && tap --no-coverage test/build/min.test.js","build-token":"browserify debug/access-token-src.js --debug -t envify > debug/access-token.js",lint:"eslint  --ignore-path .gitignore js test bench docs/_posts/examples/*.html","open-changed-examples":"git diff --name-only mb-pages HEAD -- docs/_posts/examples/*.html | awk '{print \"http://127.0.0.1:4000/mapbox-gl-js/example/\" substr($0,33,length($0)-37)}' | xargs open",start:"run-p build-token watch-dev watch-bench start-server","start-bench":"run-p build-token watch-bench start-server","start-debug":"run-p build-token watch-dev start-server","start-docs":"npm run build-min && npm run build-docs && jekyll serve -w","start-server":"st --no-cache --localhost --port 9966 --index index.html .",test:"npm run lint && tap --reporter dot test/js/*/*.js test/build/webpack.test.js","test-suite":"node test/render.test.js && node test/query.test.js","watch-bench":"node bench/download-data.js && watchify bench/index.js --plugin [minifyify --no-map] -t [babelify --presets react] -t unassertify -t envify -o bench/bench.js -v","watch-dev":"watchify js/mapbox-gl.js --debug --standalone mapboxgl -o dist/mapbox-gl-dev.js -v"},version:"0.22.1"}},{}],425:[function(t,e,r){"use strict";function n(t,e,r){for(var n=new Array(t),o=0;o<t;++o)n[o]=0,o===e&&(n[o]+=.5),o===r&&(n[o]+=.5);return n}function o(t,e){if(0===e||e===(1<<t+1)-1)return[];for(var r=[],o=[],i=0;i<=t;++i)if(e&1<<i){r.push(n(t,i-1,i-1)),o.push(null);for(var s=0;s<=t;++s)~e&1<<s&&(r.push(n(t,i-1,s-1)),o.push([i,s]))}var l=a(r),u=[];t:for(var i=0;i<l.length;++i){for(var c=l[i],p=[],s=0;s<c.length;++s){if(!o[c[s]])continue t;p.push(o[c[s]].slice())}u.push(p)}return u}function i(t){for(var e=1<<t+1,r=new Array(e),n=0;n<e;++n)r[n]=o(t,n);return r}e.exports=i;var a=t("convex-hull")},{"convex-hull":93}],426:[function(t,e,r){function n(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3];return t[0]=r[0]*n+r[4]*o+r[8]*i+r[12]*a,t[1]=r[1]*n+r[5]*o+r[9]*i+r[13]*a,t[2]=r[2]*n+r[6]*o+r[10]*i+r[14]*a,t[3]=r[3]*n+r[7]*o+r[11]*i+r[15]*a,t}function o(t,e){t[0][0]=e[0],t[0][1]=e[1],t[0][2]=e[2],t[1][0]=e[4],t[1][1]=e[5],t[1][2]=e[6],t[2][0]=e[8],t[2][1]=e[9],t[2][2]=e[10]}function i(t,e,r,n,o){t[0]=e[0]*n+r[0]*o,t[1]=e[1]*n+r[1]*o,t[2]=e[2]*n+r[2]*o}var a=t("./normalize"),s=t("gl-mat4/create"),l=t("gl-mat4/clone"),u=t("gl-mat4/determinant"),c=t("gl-mat4/invert"),p=t("gl-mat4/transpose"),f={length:t("gl-vec3/length"),normalize:t("gl-vec3/normalize"),dot:t("gl-vec3/dot"),cross:t("gl-vec3/cross")},h=s(),d=s(),y=[0,0,0,0],m=[[0,0,0],[0,0,0],[0,0,0]],v=[0,0,0];e.exports=function(t,e,r,s,g,b){if(e||(e=[0,0,0]),r||(r=[0,0,0]),s||(s=[0,0,0]),g||(g=[0,0,0,1]),b||(b=[0,0,0,1]),!a(h,t))return!1;if(l(d,h),d[3]=0,d[7]=0,d[11]=0,d[15]=1,Math.abs(u(d)<1e-8))return!1;var x=h[3],_=h[7],w=h[11],T=h[12],M=h[13],S=h[14],E=h[15];if(0!==x||0!==_||0!==w){y[0]=x,y[1]=_,y[2]=w,y[3]=E;var k=c(d,d);if(!k)return!1;p(d,d),n(g,y,d)}else g[0]=g[1]=g[2]=0,g[3]=1;if(e[0]=T,e[1]=M,e[2]=S,o(m,h),r[0]=f.length(m[0]),f.normalize(m[0],m[0]),s[0]=f.dot(m[0],m[1]),i(m[1],m[1],m[0],1,-s[0]),r[1]=f.length(m[1]),f.normalize(m[1],m[1]),s[0]/=r[1],s[1]=f.dot(m[0],m[2]),i(m[2],m[2],m[0],1,-s[1]),s[2]=f.dot(m[1],m[2]),i(m[2],m[2],m[1],1,-s[2]),r[2]=f.length(m[2]),f.normalize(m[2],m[2]),s[1]/=r[2],s[2]/=r[2],f.cross(v,m[1],m[2]),f.dot(m[0],v)<0)for(var C=0;C<3;C++)r[C]*=-1,m[C][0]*=-1,m[C][1]*=-1,m[C][2]*=-1;return b[0]=.5*Math.sqrt(Math.max(1+m[0][0]-m[1][1]-m[2][2],0)),b[1]=.5*Math.sqrt(Math.max(1-m[0][0]+m[1][1]-m[2][2],0)),
b[2]=.5*Math.sqrt(Math.max(1-m[0][0]-m[1][1]+m[2][2],0)),b[3]=.5*Math.sqrt(Math.max(1+m[0][0]+m[1][1]+m[2][2],0)),m[2][1]>m[1][2]&&(b[0]=-b[0]),m[0][2]>m[2][0]&&(b[1]=-b[1]),m[1][0]>m[0][1]&&(b[2]=-b[2]),!0}},{"./normalize":427,"gl-mat4/clone":156,"gl-mat4/create":157,"gl-mat4/determinant":158,"gl-mat4/invert":162,"gl-mat4/transpose":172,"gl-vec3/cross":254,"gl-vec3/dot":255,"gl-vec3/length":256,"gl-vec3/normalize":258}],427:[function(t,e,r){e.exports=function(t,e){var r=e[15];if(0===r)return!1;for(var n=1/r,o=0;o<16;o++)t[o]=e[o]*n;return!0}},{}],428:[function(t,e,r){function n(t,e,r,n){if(0===c(e)||0===c(r))return!1;var o=u(e,f.translate,f.scale,f.skew,f.perspective,f.quaternion),i=u(r,h.translate,h.scale,h.skew,h.perspective,h.quaternion);return!(!o||!i)&&(s(d.translate,f.translate,h.translate,n),s(d.skew,f.skew,h.skew,n),s(d.scale,f.scale,h.scale,n),s(d.perspective,f.perspective,h.perspective,n),p(d.quaternion,f.quaternion,h.quaternion,n),l(t,d.translate,d.scale,d.skew,d.perspective,d.quaternion),!0)}function o(){return{translate:i(),scale:i(1),skew:i(),perspective:a(),quaternion:a()}}function i(t){return[t||0,t||0,t||0]}function a(){return[0,0,0,1]}var s=t("gl-vec3/lerp"),l=t("mat4-recompose"),u=t("mat4-decompose"),c=t("gl-mat4/determinant"),p=t("quat-slerp"),f=o(),h=o(),d=o();e.exports=n},{"gl-mat4/determinant":158,"gl-vec3/lerp":257,"mat4-decompose":426,"mat4-recompose":429,"quat-slerp":468}],429:[function(t,e,r){var n={identity:t("gl-mat4/identity"),translate:t("gl-mat4/translate"),multiply:t("gl-mat4/multiply"),create:t("gl-mat4/create"),scale:t("gl-mat4/scale"),fromRotationTranslation:t("gl-mat4/fromRotationTranslation")},o=(n.create(),n.create());e.exports=function(t,e,r,i,a,s){return n.identity(t),n.fromRotationTranslation(t,s,e),t[3]=a[0],t[7]=a[1],t[11]=a[2],t[15]=a[3],n.identity(o),0!==i[2]&&(o[9]=i[2],n.multiply(t,t,o)),0!==i[1]&&(o[9]=0,o[8]=i[1],n.multiply(t,t,o)),0!==i[0]&&(o[8]=0,o[4]=i[0],n.multiply(t,t,o)),n.scale(t,t,r),t}},{"gl-mat4/create":157,"gl-mat4/fromRotationTranslation":160,"gl-mat4/identity":161,"gl-mat4/multiply":164,"gl-mat4/scale":170,"gl-mat4/translate":171}],430:[function(t,e,r){"use strict";function n(t){this._components=t.slice(),this._time=[0],this.prevMatrix=t.slice(),this.nextMatrix=t.slice(),this.computedMatrix=t.slice(),this.computedInverse=t.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-(1/0),1/0]}function o(t){t=t||{};var e=t.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new n(e)}var i=t("binary-search-bounds"),a=t("mat4-interpolate"),s=t("gl-mat4/invert"),l=t("gl-mat4/rotateX"),u=t("gl-mat4/rotateY"),c=t("gl-mat4/rotateZ"),p=t("gl-mat4/lookAt"),f=t("gl-mat4/translate"),h=(t("gl-mat4/scale"),t("gl-vec3/normalize")),d=[0,0,0];e.exports=o;var y=n.prototype;y.recalcMatrix=function(t){var e=this._time,r=i.le(e,t),n=this.computedMatrix;if(!(r<0)){var o=this._components;if(r===e.length-1)for(var l=16*r,u=0;u<16;++u)n[u]=o[l++];else{for(var c=e[r+1]-e[r],l=16*r,p=this.prevMatrix,f=!0,u=0;u<16;++u)p[u]=o[l++];for(var d=this.nextMatrix,u=0;u<16;++u)d[u]=o[l++],f=f&&p[u]===d[u];if(c<1e-6||f)for(var u=0;u<16;++u)n[u]=p[u];else a(n,p,d,(t-e[r])/c)}var y=this.computedUp;y[0]=n[1],y[1]=n[5],y[2]=n[6],h(y,y);var m=this.computedInverse;s(m,n);var v=this.computedEye,g=m[15];v[0]=m[12]/g,v[1]=m[13]/g,v[2]=m[14]/g;for(var b=this.computedCenter,x=Math.exp(this.computedRadius[0]),u=0;u<3;++u)b[u]=v[u]-n[2+4*u]*x}},y.idle=function(t){if(!(t<this.lastT())){for(var e=this._components,r=e.length-16,n=0;n<16;++n)e.push(e[r++]);this._time.push(t)}},y.flush=function(t){var e=i.gt(this._time,t)-2;e<0||(this._time.slice(0,e),this._components.slice(0,16*e))},y.lastT=function(){return this._time[this._time.length-1]},y.lookAt=function(t,e,r,n){this.recalcMatrix(t),e=e||this.computedEye,r=r||d,n=n||this.computedUp,this.setMatrix(t,p(this.computedMatrix,e,r,n));for(var o=0,i=0;i<3;++i)o+=Math.pow(r[i]-e[i],2);o=Math.log(Math.sqrt(o)),this.computedRadius[0]=o},y.rotate=function(t,e,r,n){this.recalcMatrix(t);var o=this.computedInverse;e&&u(o,o,e),r&&l(o,o,r),n&&c(o,o,n),this.setMatrix(t,s(this.computedMatrix,o))};var m=[0,0,0];y.pan=function(t,e,r,n){m[0]=-(e||0),m[1]=-(r||0),m[2]=-(n||0),this.recalcMatrix(t);var o=this.computedInverse;f(o,o,m),this.setMatrix(t,s(o,o))},y.translate=function(t,e,r,n){m[0]=e||0,m[1]=r||0,m[2]=n||0,this.recalcMatrix(t);var o=this.computedMatrix;f(o,o,m),this.setMatrix(t,o)},y.setMatrix=function(t,e){if(!(t<this.lastT())){this._time.push(t);for(var r=0;r<16;++r)this._components.push(e[r])}},y.setDistance=function(t,e){this.computedRadius[0]=e},y.setDistanceLimits=function(t,e){var r=this._limits;r[0]=t,r[1]=e},y.getDistanceLimits=function(t){var e=this._limits;return t?(t[0]=e[0],t[1]=e[1],t):e}},{"binary-search-bounds":56,"gl-mat4/invert":162,"gl-mat4/lookAt":163,"gl-mat4/rotateX":167,"gl-mat4/rotateY":168,"gl-mat4/rotateZ":169,"gl-mat4/scale":170,"gl-mat4/translate":171,"gl-vec3/normalize":258,"mat4-interpolate":428}],431:[function(t,e,r){"use strict";function n(t){var e=t.length;if(e<3){for(var r=new Array(e),n=0;n<e;++n)r[n]=n;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:r}for(var i=new Array(e),n=0;n<e;++n)i[n]=n;i.sort(function(e,r){var n=t[e][0]-t[r][0];return n?n:t[e][1]-t[r][1]});for(var a=[i[0],i[1]],s=[i[0],i[1]],n=2;n<e;++n){for(var l=i[n],u=t[l],c=a.length;c>1&&o(t[a[c-2]],t[a[c-1]],u)<=0;)c-=1,a.pop();for(a.push(l),c=s.length;c>1&&o(t[s[c-2]],t[s[c-1]],u)>=0;)c-=1,s.pop();s.push(l)}for(var r=new Array(s.length+a.length-2),p=0,n=0,f=a.length;n<f;++n)r[p++]=a[n];for(var h=s.length-2;h>0;--h)r[p++]=s[h];return r}e.exports=n;var o=t("robust-orientation")[3]},{"robust-orientation":487}],432:[function(t,e,r){"use strict";function n(t,e){function r(t){var e=!1;return"altKey"in t&&(e=e||t.altKey!==m.alt,m.alt=!!t.altKey),"shiftKey"in t&&(e=e||t.shiftKey!==m.shift,m.shift=!!t.shiftKey),"ctrlKey"in t&&(e=e||t.ctrlKey!==m.control,m.control=!!t.ctrlKey),"metaKey"in t&&(e=e||t.metaKey!==m.meta,m.meta=!!t.metaKey),e}function n(t,n){var i=o.x(n),a=o.y(n);"buttons"in n&&(t=0|n.buttons),(t!==h||i!==d||a!==y||r(n))&&(h=0|t,d=i||0,y=a||0,e&&e(h,d,y,m))}function i(t){n(0,t)}function a(){(h||d||y||m.shift||m.alt||m.meta||m.control)&&(d=y=0,h=0,m.shift=m.alt=m.control=m.meta=!1,e&&e(0,0,0,m))}function s(t){r(t)&&e&&e(h,d,y,m)}function l(t){0===o.buttons(t)?n(0,t):n(h,t)}function u(t){n(h|o.buttons(t),t)}function c(t){n(h&~o.buttons(t),t)}function p(){v||(v=!0,t.addEventListener("mousemove",l),t.addEventListener("mousedown",u),t.addEventListener("mouseup",c),t.addEventListener("mouseleave",i),t.addEventListener("mouseenter",i),t.addEventListener("mouseout",i),t.addEventListener("mouseover",i),t.addEventListener("blur",a),t.addEventListener("keyup",s),t.addEventListener("keydown",s),t.addEventListener("keypress",s),t!==window&&(window.addEventListener("blur",a),window.addEventListener("keyup",s),window.addEventListener("keydown",s),window.addEventListener("keypress",s)))}function f(){v&&(v=!1,t.removeEventListener("mousemove",l),t.removeEventListener("mousedown",u),t.removeEventListener("mouseup",c),t.removeEventListener("mouseleave",i),t.removeEventListener("mouseenter",i),t.removeEventListener("mouseout",i),t.removeEventListener("mouseover",i),t.removeEventListener("blur",a),t.removeEventListener("keyup",s),t.removeEventListener("keydown",s),t.removeEventListener("keypress",s),t!==window&&(window.removeEventListener("blur",a),window.removeEventListener("keyup",s),window.removeEventListener("keydown",s),window.removeEventListener("keypress",s)))}e||(e=t,t=window);var h=0,d=0,y=0,m={shift:!1,alt:!1,control:!1,meta:!1},v=!1;p();var g={element:t};return Object.defineProperties(g,{enabled:{get:function(){return v},set:function(t){t?p():f()},enumerable:!0},buttons:{get:function(){return h},enumerable:!0},x:{get:function(){return d},enumerable:!0},y:{get:function(){return y},enumerable:!0},mods:{get:function(){return m},enumerable:!0}}),g}e.exports=n;var o=t("mouse-event")},{"mouse-event":434}],433:[function(t,e,r){function n(t,e,r){e=e||t.currentTarget||t.srcElement,Array.isArray(r)||(r=[0,0]);var n=t.clientX||0,i=t.clientY||0,a=o(e);return r[0]=n-a.left,r[1]=i-a.top,r}function o(t){return t===window||t===document||t===document.body?i:t.getBoundingClientRect()}var i={left:0,top:0};e.exports=n},{}],434:[function(t,e,r){"use strict";function n(t){if("object"==typeof t){if("buttons"in t)return t.buttons;if("which"in t){var e=t.which;if(2===e)return 4;if(3===e)return 2;if(e>0)return 1<<e-1}else if("button"in t){var e=t.button;if(1===e)return 4;if(2===e)return 2;if(e>=0)return 1<<e}}return 0}function o(t){return t.target||t.srcElement||window}function i(t){if("object"==typeof t){if("offsetX"in t)return t.offsetX;var e=o(t),r=e.getBoundingClientRect();return t.clientX-r.left}return 0}function a(t){if("object"==typeof t){if("offsetY"in t)return t.offsetY;var e=o(t),r=e.getBoundingClientRect();return t.clientY-r.top}return 0}r.buttons=n,r.element=o,r.x=i,r.y=a},{}],435:[function(t,e,r){"use strict";function n(t,e,r){"function"==typeof t&&(r=!!e,e=t,t=window);var n=o("ex",t),i=function(t){r&&t.preventDefault();var o=t.deltaX||0,i=t.deltaY||0,a=t.deltaZ||0,s=t.deltaMode,l=1;switch(s){case 1:l=n;break;case 2:l=window.innerHeight}if(o*=l,i*=l,a*=l,o||i||a)return e(o,i,a,t)};return t.addEventListener("wheel",i),i}var o=t("to-px");e.exports=n},{"to-px":513}],436:[function(t,e,r){"use strict";function n(t){return"a"+t}function o(t){return"d"+t}function i(t,e){return"c"+t+"_"+e}function a(t){return"s"+t}function s(t,e){return"t"+t+"_"+e}function l(t){return"o"+t}function u(t){return"x"+t}function c(t){return"p"+t}function p(t,e){return"d"+t+"_"+e}function f(t){return"i"+t}function h(t,e){return"u"+t+"_"+e}function d(t){return"b"+t}function y(t){return"y"+t}function m(t){return"e"+t}function v(t){return"v"+t}function g(t,e,r){for(var n=0,o=0;o<t;++o)e&1<<o&&(n|=1<<r[o]);return n}function b(t,e,r,b,x,C){function A(t,e){F.push("for(",f(x[t]),"=",e,";",f(x[t]),"<",a(x[t]),";","++",f(x[t]),"){")}function P(t){for(var e=0;e<R;++e)F.push(c(e),"+=",h(e,x[t]),";");F.push("}")}function L(t){for(var e=t-1;e>=0;--e)A(e,0);for(var r=[],e=0;e<R;++e)C[e]?r.push(o(e)+".get("+c(e)+")"):r.push(o(e)+"["+c(e)+"]");for(var e=0;e<b;++e)r.push(u(e));F.push(T,"[",E,"++]=phase(",r.join(),");");for(var e=0;e<t;++e)P(e);for(var n=0;n<R;++n)F.push(c(n),"+=",h(n,x[t]),";")}function D(t){for(var e=0;e<R;++e)C[e]?F.push(i(e,0),"=",o(e),".get(",c(e),");"):F.push(i(e,0),"=",o(e),"[",c(e),"];");for(var r=[],e=0;e<R;++e)r.push(i(e,0));for(var e=0;e<b;++e)r.push(u(e));F.push(d(0),"=",T,"[",E,"]=phase(",r.join(),");");for(var n=1;n<1<<N;++n)F.push(d(n),"=",T,"[",E,"+",m(n),"];");for(var a=[],n=1;n<1<<N;++n)a.push("("+d(0)+"!=="+d(n)+")");F.push("if(",a.join("||"),"){");for(var s=[],e=0;e<N;++e)s.push(f(e));for(var e=0;e<R;++e){s.push(i(e,0));for(var n=1;n<1<<N;++n)C[e]?F.push(i(e,n),"=",o(e),".get(",c(e),"+",p(e,n),");"):F.push(i(e,n),"=",o(e),"[",c(e),"+",p(e,n),"];"),s.push(i(e,n))}for(var e=0;e<1<<N;++e)s.push(d(e));for(var e=0;e<b;++e)s.push(u(e));F.push("vertex(",s.join(),");",v(0),"=",w,"[",E,"]=",M,"++;");for(var l=(1<<N)-1,h=d(l),n=0;n<N;++n)if(0===(t&~(1<<n))){for(var y=l^1<<n,g=d(y),x=[],_=y;_>0;_=_-1&y)x.push(w+"["+E+"+"+m(_)+"]");x.push(v(0));for(var _=0;_<R;++_)1&n?x.push(i(_,l),i(_,y)):x.push(i(_,y),i(_,l));1&n?x.push(h,g):x.push(g,h);for(var _=0;_<b;++_)x.push(u(_));F.push("if(",h,"!==",g,"){","face(",x.join(),")}")}F.push("}",E,"+=1;")}function O(){for(var t=1;t<1<<N;++t)F.push(k,"=",m(t),";",m(t),"=",y(t),";",y(t),"=",k,";")}function I(t,e){if(t<0)return void D(e);L(t),F.push("if(",a(x[t]),">0){",f(x[t]),"=1;"),I(t-1,e|1<<x[t]);for(var r=0;r<R;++r)F.push(c(r),"+=",h(r,x[t]),";");t===N-1&&(F.push(E,"=0;"),O()),A(t,2),I(t-1,e),t===N-1&&(F.push("if(",f(x[N-1]),"&1){",E,"=0;}"),O()),P(t),F.push("}")}var R=C.length,N=x.length;if(N<2)throw new Error("ndarray-extract-contour: Dimension must be at least 2");for(var j="extractContour"+x.join("_"),F=[],z=[],B=[],U=0;U<R;++U)B.push(n(U));for(var U=0;U<b;++U)B.push(u(U));for(var U=0;U<N;++U)z.push(a(U)+"="+n(0)+".shape["+U+"]|0");for(var U=0;U<R;++U){z.push(o(U)+"="+n(U)+".data",l(U)+"="+n(U)+".offset|0");for(var V=0;V<N;++V)z.push(s(U,V)+"="+n(U)+".stride["+V+"]|0")}for(var U=0;U<R;++U){z.push(c(U)+"="+l(U)),z.push(i(U,0));for(var V=1;V<1<<N;++V){for(var H=[],W=0;W<N;++W)V&1<<W&&H.push("-"+s(U,W));z.push(p(U,V)+"=("+H.join("")+")|0"),z.push(i(U,V)+"=0")}}for(var U=0;U<R;++U)for(var V=0;V<N;++V){var q=[s(U,x[V])];V>0&&q.push(s(U,x[V-1])+"*"+a(x[V-1])),z.push(h(U,x[V])+"=("+q.join("-")+")|0")}for(var U=0;U<N;++U)z.push(f(U)+"=0");z.push(M+"=0");for(var G=["2"],U=N-2;U>=0;--U)G.push(a(x[U]));z.push(S+"=("+G.join("*")+")|0",T+"=mallocUint32("+S+")",w+"=mallocUint32("+S+")",E+"=0"),z.push(d(0)+"=0");for(var V=1;V<1<<N;++V){for(var Y=[],X=[],W=0;W<N;++W)V&1<<W&&(0===X.length?Y.push("1"):Y.unshift(X.join("*"))),X.push(a(x[W]));var K="";Y[0].indexOf(a(x[N-2]))<0&&(K="-");var Z=g(N,V,x);z.push(m(Z)+"=(-"+Y.join("-")+")|0",y(Z)+"=("+K+Y.join("-")+")|0",d(Z)+"=0")}z.push(v(0)+"=0",k+"=0"),I(N-1,0),F.push("freeUint32(",w,");freeUint32(",T,");");var J=["'use strict';","function ",j,"(",B.join(),"){","var ",z.join(),";",F.join(""),"}","return ",j].join(""),$=new Function("vertex","face","phase","mallocUint32","freeUint32",J);return $(t,e,r,_.mallocUint32,_.freeUint32)}function x(t){function e(t){throw new Error("ndarray-extract-contour: "+t)}"object"!=typeof t&&e("Must specify arguments");var r=t.order;Array.isArray(r)||e("Must specify order");var n=t.arrayArguments||1;n<1&&e("Must have at least one array argument");var o=t.scalarArguments||0;o<0&&e("Scalar arg count must be > 0"),"function"!=typeof t.vertex&&e("Must specify vertex creation function"),"function"!=typeof t.cell&&e("Must specify cell creation function"),"function"!=typeof t.phase&&e("Must specify phase function");for(var i=t.getters||[],a=new Array(n),s=0;s<n;++s)i.indexOf(s)>=0?a[s]=!0:a[s]=!1;return b(t.vertex,t.cell,t.phase,o,r,a)}var _=t("typedarray-pool");e.exports=x;var w="V",T="P",M="N",S="Q",E="X",k="T"},{"typedarray-pool":519}],437:[function(t,e,r){"use strict";var n=t("cwise/lib/wrapper")({args:["index","array","scalar"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_1_arg1_=_inline_1_arg2_.apply(void 0,_inline_1_arg0_)}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"cwise",blockSize:64});e.exports=function(t,e){return n(t,e),t}},{"cwise/lib/wrapper":103}],438:[function(t,e,r){"use strict";function n(t){if(t in l)return l[t];for(var e=[],r=0;r<t;++r)e.push("out",r,"s=0.5*(inp",r,"l-inp",r,"r);");for(var n=["array"],o=["junk"],r=0;r<t;++r){n.push("array"),o.push("out"+r+"s");var i=a(t);i[r]=-1,n.push({array:0,offset:i.slice()}),i[r]=1,n.push({array:0,offset:i.slice()}),o.push("inp"+r+"l","inp"+r+"r")}return l[t]=s({args:n,pre:c,post:c,body:{body:e.join(""),args:o.map(function(t){return{name:t,lvalue:0===t.indexOf("out"),rvalue:0===t.indexOf("inp"),count:"junk"!==t|0}}),thisVars:[],localVars:[]},funcName:"fdTemplate"+t})}function o(t){function e(e){for(var r=i-e.length,n=[],o=[],s=[],l=0;l<i;++l)e.indexOf(l+1)>=0?s.push("0"):e.indexOf(-(l+1))>=0?s.push("s["+l+"]-1"):(s.push("-1"),n.push("1"),o.push("s["+l+"]-2"));var u=".lo("+n.join()+").hi("+o.join()+")";if(0===n.length&&(u=""),r>0){a.push("if(1");for(var l=0;l<i;++l)e.indexOf(l+1)>=0||e.indexOf(-(l+1))>=0||a.push("&&s[",l,"]>2");a.push("){grad",r,"(src.pick(",s.join(),")",u);for(var l=0;l<i;++l)e.indexOf(l+1)>=0||e.indexOf(-(l+1))>=0||a.push(",dst.pick(",s.join(),",",l,")",u);a.push(");")}for(var l=0;l<e.length;++l){var c=Math.abs(e[l])-1,p="dst.pick("+s.join()+","+c+")"+u;switch(t[c]){case"clamp":var f=s.slice(),h=s.slice();e[l]<0?f[c]="s["+c+"]-2":h[c]="1",0===r?a.push("if(s[",c,"]>1){dst.set(",s.join(),",",c,",0.5*(src.get(",f.join(),")-src.get(",h.join(),")))}else{dst.set(",s.join(),",",c,",0)};"):a.push("if(s[",c,"]>1){diff(",p,",src.pick(",f.join(),")",u,",src.pick(",h.join(),")",u,");}else{zero(",p,");};");break;case"mirror":0===r?a.push("dst.set(",s.join(),",",c,",0);"):a.push("zero(",p,");");break;case"wrap":var d=s.slice(),y=s.slice();e[l]<0?(d[c]="s["+c+"]-2",y[c]="0"):(d[c]="s["+c+"]-1",y[c]="1"),0===r?a.push("if(s[",c,"]>2){dst.set(",s.join(),",",c,",0.5*(src.get(",d.join(),")-src.get(",y.join(),")))}else{dst.set(",s.join(),",",c,",0)};"):a.push("if(s[",c,"]>2){diff(",p,",src.pick(",d.join(),")",u,",src.pick(",y.join(),")",u,");}else{zero(",p,");};");break;default:throw new Error("ndarray-gradient: Invalid boundary condition")}}r>0&&a.push("};")}var r=t.join(),o=u[r];if(o)return o;for(var i=t.length,a=["function gradient(dst,src){var s=src.shape.slice();"],s=0;s<1<<i;++s){for(var c=[],h=0;h<i;++h)s&1<<h&&c.push(h+1);for(var d=0;d<1<<c.length;++d){for(var y=c.slice(),h=0;h<c.length;++h)d&1<<h&&(y[h]=-y[h]);e(y)}}a.push("return dst;};return gradient");for(var m=["diff","zero"],v=[p,f],s=1;s<=i;++s)m.push("grad"+s),v.push(n(s));m.push(a.join(""));var g=Function.apply(void 0,m),o=g.apply(void 0,v);return l[r]=o,o}function i(t,e,r){if(Array.isArray(r)){if(r.length!==e.dimension)throw new Error("ndarray-gradient: invalid boundary conditions")}else r="string"==typeof r?a(e.dimension,r):a(e.dimension,"clamp");if(t.dimension!==e.dimension+1)throw new Error("ndarray-gradient: output dimension must be +1 input dimension");if(t.shape[e.dimension]!==e.dimension)throw new Error("ndarray-gradient: output shape must match input shape");for(var n=0;n<e.dimension;++n)if(t.shape[n]!==e.shape[n])throw new Error("ndarray-gradient: shape mismatch");if(0===e.size)return t;if(e.dimension<=0)return t.set(0),t;var i=o(r);return i(t,e)}e.exports=i;var a=t("dup"),s=t("cwise-compiler"),l={},u={},c={body:"",args:[],thisVars:[],localVars:[]},p=s({args:["array","array","array"],pre:c,post:c,body:{args:[{name:"out",lvalue:!0,rvalue:!1,count:1},{name:"left",lvalue:!1,rvalue:!0,count:1},{name:"right",lvalue:!1,rvalue:!0,count:1}],body:"out=0.5*(left-right)",thisVars:[],localVars:[]},funcName:"cdiff"}),f=s({args:["array"],pre:c,post:c,body:{args:[{name:"out",lvalue:!0,rvalue:!1,count:1}],body:"out=0",thisVars:[],localVars:[]},funcName:"zero"})},{"cwise-compiler":100,dup:107}],439:[function(t,e,r){"use strict";function n(t,e,r){var n=e.dimension,a=i([],r);return o(t,e,function(t,e){for(var r=0;r<n;++r){t[r]=a[(n+1)*n+r];for(var o=0;o<n;++o)t[r]+=a[(n+1)*o+r]*e[o]}for(var i=a[(n+1)*(n+1)-1],o=0;o<n;++o)i+=a[(n+1)*o+n]*e[o];for(var s=1/i,r=0;r<n;++r)t[r]*=s;return t}),t}var o=t("ndarray-warp"),i=t("gl-matrix-invert");e.exports=n},{"gl-matrix-invert":173,"ndarray-warp":446}],440:[function(t,e,r){"use strict";function n(t,e){var r=Math.floor(e),n=e-r,o=0<=r&&r<t.shape[0],i=0<=r+1&&r+1<t.shape[0],a=o?+t.get(r):0,s=i?+t.get(r+1):0;return(1-n)*a+n*s}function o(t,e,r){var n=Math.floor(e),o=e-n,i=0<=n&&n<t.shape[0],a=0<=n+1&&n+1<t.shape[0],s=Math.floor(r),l=r-s,u=0<=s&&s<t.shape[1],c=0<=s+1&&s+1<t.shape[1],p=i&&u?t.get(n,s):0,f=i&&c?t.get(n,s+1):0,h=a&&u?t.get(n+1,s):0,d=a&&c?t.get(n+1,s+1):0;return(1-l)*((1-o)*p+o*h)+l*((1-o)*f+o*d)}function i(t,e,r,n){var o=Math.floor(e),i=e-o,a=0<=o&&o<t.shape[0],s=0<=o+1&&o+1<t.shape[0],l=Math.floor(r),u=r-l,c=0<=l&&l<t.shape[1],p=0<=l+1&&l+1<t.shape[1],f=Math.floor(n),h=n-f,d=0<=f&&f<t.shape[2],y=0<=f+1&&f+1<t.shape[2],m=a&&c&&d?t.get(o,l,f):0,v=a&&p&&d?t.get(o,l+1,f):0,g=s&&c&&d?t.get(o+1,l,f):0,b=s&&p&&d?t.get(o+1,l+1,f):0,x=a&&c&&y?t.get(o,l,f+1):0,_=a&&p&&y?t.get(o,l+1,f+1):0,w=s&&c&&y?t.get(o+1,l,f+1):0,T=s&&p&&y?t.get(o+1,l+1,f+1):0;return(1-h)*((1-u)*((1-i)*m+i*g)+u*((1-i)*v+i*b))+h*((1-u)*((1-i)*x+i*w)+u*((1-i)*_+i*T))}function a(t){var e,r,n=0|t.shape.length,o=new Array(n),i=new Array(n),a=new Array(n),s=new Array(n);for(e=0;e<n;++e)r=+arguments[e+1],o[e]=Math.floor(r),i[e]=r-o[e],a[e]=0<=o[e]&&o[e]<t.shape[e],s[e]=0<=o[e]+1&&o[e]+1<t.shape[e];var l,u,c,p=0;t:for(e=0;e<1<<n;++e){for(u=1,c=t.offset,l=0;l<n;++l)if(e&1<<l){if(!s[l])continue t;u*=i[l],c+=t.stride[l]*(o[l]+1)}else{if(!a[l])continue t;u*=1-i[l],c+=t.stride[l]*o[l]}p+=u*t.data[c]}return p}function s(t,e,r,s){switch(t.shape.length){case 0:return 0;case 1:return n(t,e);case 2:return o(t,e,r);case 3:return i(t,e,r,s);default:return a.apply(void 0,arguments)}}e.exports=s,e.exports.d1=n,e.exports.d2=o,e.exports.d3=i},{}],441:[function(t,e,r){"use strict";function n(t){if(!t)return s;for(var e=0;e<t.args.length;++e){var r=t.args[e];0===e?t.args[e]={name:r,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:t.args[e]={name:r,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function o(t){return a({args:t.args,pre:n(t.pre),body:n(t.body),post:n(t.proc),funcName:t.funcName})}function i(t){for(var e=[],r=0;r<t.args.length;++r)e.push("a"+r);var n=new Function("P",["return function ",t.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""));return n(o(t))}var a=t("cwise-compiler"),s={body:"",args:[],thisVars:[],localVars:[]},l={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in l){var e=l[t];r[t]=i({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+e+"c"},funcName:t}),r[t+"eq"]=i({args:["array","array"],body:{args:["a","b"],body:"a"+e+"=b"},rvalue:!0,funcName:t+"eq"}),r[t+"s"]=i({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+e+"s"},funcName:t+"s"}),r[t+"seq"]=i({args:["array","scalar"],body:{args:["a","s"],body:"a"+e+"=s"},rvalue:!0,funcName:t+"seq"})}}();var u={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in u){var e=u[t];r[t]=i({args:["array","array"],body:{args:["a","b"],body:"a="+e+"b"},funcName:t}),r[t+"eq"]=i({args:["array"],body:{args:["a"],body:"a="+e+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var c={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in c){var e=c[t];r[t]=i({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+e+"c"},funcName:t}),r[t+"s"]=i({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+e+"s"},funcName:t+"s"}),r[t+"eq"]=i({args:["array","array"],body:{args:["a","b"],body:"a=a"+e+"b"},rvalue:!0,count:2,funcName:t+"eq"}),r[t+"seq"]=i({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+e+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var p=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<p.length;++t){var e=p[t];r[e]=i({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:e}),r[e+"eq"]=i({args:["array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"eq"})}}();var f=["max","min","atan2","pow"];!function(){for(var t=0;t<f.length;++t){var e=f[t];r[e]=i({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:e}),r[e+"s"]=i({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:e+"s"}),r[e+"eq"]=i({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"eq"}),r[e+"seq"]=i({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"seq"})}}();var h=["atan2","pow"];!function(){for(var t=0;t<h.length;++t){var e=h[t];r[e+"op"]=i({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:e+"op"}),r[e+"ops"]=i({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:e+"ops"}),r[e+"opeq"]=i({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"opeq"}),r[e+"opseq"]=i({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"opseq"})}}(),r.any=a({args:["array"],pre:s,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),r.all=a({args:["array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),r.sum=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),r.prod=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),r.norm2squared=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),r.norm2=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),r.norminf=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),r.norm1=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),r.sup=a({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.inf=a({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.argmin=a({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.argmax=a({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.random=i({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),r.assign=i({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),r.assigns=i({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),r.equals=a({args:["array","array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},{"cwise-compiler":100}],442:[function(t,e,r){"use strict";var n=t("ndarray"),o=t("./doConvert.js");e.exports=function(t,e){for(var r=[],i=t,a=1;Array.isArray(i);)r.push(i.length),a*=i.length,i=i[0];return 0===r.length?n():(e||(e=n(new Float64Array(a),r)),o(e,t),e)}},{"./doConvert.js":443,ndarray:447}],443:[function(t,e,r){e.exports=t("cwise-compiler")({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})},{"cwise-compiler":100}],444:[function(t,e,r){"use strict";function n(t){switch(t){case"uint8":return[l.mallocUint8,l.freeUint8];case"uint16":return[l.mallocUint16,l.freeUint16];case"uint32":return[l.mallocUint32,l.freeUint32];case"int8":return[l.mallocInt8,l.freeInt8];case"int16":return[l.mallocInt16,l.freeInt16];case"int32":return[l.mallocInt32,l.freeInt32];case"float32":return[l.mallocFloat,l.freeFloat];case"float64":return[l.mallocDouble,l.freeDouble];default:return null}}function o(t){for(var e=[],r=0;r<t;++r)e.push("s"+r);for(var r=0;r<t;++r)e.push("n"+r);for(var r=1;r<t;++r)e.push("d"+r);for(var r=1;r<t;++r)e.push("e"+r);for(var r=1;r<t;++r)e.push("f"+r);return e}function i(t,e){function r(t){return"generic"===e?["data.get(",t,")"].join(""):["data[",t,"]"].join("")}function i(t,r){return"generic"===e?["data.set(",t,",",r,")"].join(""):["data[",t,"]=",r].join("")}var a=["'use strict'"],s=["ndarrayInsertionSort",t.join("d"),e].join(""),l=["left","right","data","offset"].concat(o(t.length)),u=n(e),c=["i,j,cptr,ptr=left*s0+offset"];if(t.length>1){for(var p=[],f=1;f<t.length;++f)c.push("i"+f),p.push("n"+f);u?c.push("scratch=malloc("+p.join("*")+")"):c.push("scratch=new Array("+p.join("*")+")"),c.push("dptr","sptr","a","b")}else c.push("scratch");if(a.push(["function ",s,"(",l.join(","),"){var ",c.join(",")].join(""),"for(i=left+1;i<=right;++i){","j=i;ptr+=s0","cptr=ptr"),
t.length>1){a.push("dptr=0;sptr=ptr");for(var f=t.length-1;f>=0;--f){var h=t[f];0!==h&&a.push(["for(i",h,"=0;i",h,"<n",h,";++i",h,"){"].join(""))}a.push("scratch[dptr++]=",r("sptr"));for(var f=0;f<t.length;++f){var h=t[f];0!==h&&a.push("sptr+=d"+h,"}")}a.push("__g:while(j-->left){","dptr=0","sptr=cptr-s0");for(var f=1;f<t.length;++f)1===f&&a.push("__l:"),a.push(["for(i",f,"=0;i",f,"<n",f,";++i",f,"){"].join(""));a.push(["a=",r("sptr"),"\nb=scratch[dptr]\nif(a<b){break __g}\nif(a>b){break __l}"].join(""));for(var f=t.length-1;f>=1;--f)a.push("sptr+=e"+f,"dptr+=f"+f,"}");a.push("dptr=cptr;sptr=cptr-s0");for(var f=t.length-1;f>=0;--f){var h=t[f];0!==h&&a.push(["for(i",h,"=0;i",h,"<n",h,";++i",h,"){"].join(""))}a.push(i("dptr",r("sptr")));for(var f=0;f<t.length;++f){var h=t[f];0!==h&&a.push(["dptr+=d",h,";sptr+=d",h].join(""),"}")}a.push("cptr-=s0\n}"),a.push("dptr=cptr;sptr=0");for(var f=t.length-1;f>=0;--f){var h=t[f];0!==h&&a.push(["for(i",h,"=0;i",h,"<n",h,";++i",h,"){"].join(""))}a.push(i("dptr","scratch[sptr++]"));for(var f=0;f<t.length;++f){var h=t[f];0!==h&&a.push("dptr+=d"+h,"}")}}else a.push("scratch="+r("ptr"),"while((j-->left)&&("+r("cptr-s0")+">scratch)){",i("cptr",r("cptr-s0")),"cptr-=s0","}",i("cptr","scratch"));if(a.push("}"),t.length>1&&u&&a.push("free(scratch)"),a.push("} return "+s),u){var d=new Function("malloc","free",a.join("\n"));return d(u[0],u[1])}var d=new Function(a.join("\n"));return d()}function a(t,e,r){function i(t){return["(offset+",t,"*s0)"].join("")}function a(t){return"generic"===e?["data.get(",t,")"].join(""):["data[",t,"]"].join("")}function s(t,r){return"generic"===e?["data.set(",t,",",r,")"].join(""):["data[",t,"]=",r].join("")}function l(e,r,n){if(1===e.length)_.push("ptr0="+i(e[0]));else for(var o=0;o<e.length;++o)_.push(["b_ptr",o,"=s0*",e[o]].join(""));r&&_.push("pivot_ptr=0"),_.push("ptr_shift=offset");for(var o=t.length-1;o>=0;--o){var a=t[o];0!==a&&_.push(["for(i",a,"=0;i",a,"<n",a,";++i",a,"){"].join(""))}if(e.length>1)for(var o=0;o<e.length;++o)_.push(["ptr",o,"=b_ptr",o,"+ptr_shift"].join(""));_.push(n),r&&_.push("++pivot_ptr");for(var o=0;o<t.length;++o){var a=t[o];0!==a&&(e.length>1?_.push("ptr_shift+=d"+a):_.push("ptr0+=d"+a),_.push("}"))}}function c(e,r,n,o){if(1===r.length)_.push("ptr0="+i(r[0]));else{for(var a=0;a<r.length;++a)_.push(["b_ptr",a,"=s0*",r[a]].join(""));_.push("ptr_shift=offset")}n&&_.push("pivot_ptr=0"),e&&_.push(e+":");for(var a=1;a<t.length;++a)_.push(["for(i",a,"=0;i",a,"<n",a,";++i",a,"){"].join(""));if(r.length>1)for(var a=0;a<r.length;++a)_.push(["ptr",a,"=b_ptr",a,"+ptr_shift"].join(""));_.push(o);for(var a=t.length-1;a>=1;--a)n&&_.push("pivot_ptr+=f"+a),r.length>1?_.push("ptr_shift+=e"+a):_.push("ptr0+=e"+a),_.push("}")}function p(){t.length>1&&M&&_.push("free(pivot1)","free(pivot2)")}function f(e,r){var n="el"+e,o="el"+r;if(t.length>1){var s="__l"+ ++S;c(s,[n,o],!1,["comp=",a("ptr0"),"-",a("ptr1"),"\n","if(comp>0){tmp0=",n,";",n,"=",o,";",o,"=tmp0;break ",s,"}\n","if(comp<0){break ",s,"}"].join(""))}else _.push(["if(",a(i(n)),">",a(i(o)),"){tmp0=",n,";",n,"=",o,";",o,"=tmp0}"].join(""))}function h(e,r){t.length>1?l([e,r],!1,s("ptr0",a("ptr1"))):_.push(s(i(e),a(i(r))))}function d(e,r,n){if(t.length>1){var o="__l"+ ++S;c(o,[r],!0,[e,"=",a("ptr0"),"-pivot",n,"[pivot_ptr]\n","if(",e,"!==0){break ",o,"}"].join(""))}else _.push([e,"=",a(i(r)),"-pivot",n].join(""))}function y(e,r){t.length>1?l([e,r],!1,["tmp=",a("ptr0"),"\n",s("ptr0",a("ptr1")),"\n",s("ptr1","tmp")].join("")):_.push(["ptr0=",i(e),"\n","ptr1=",i(r),"\n","tmp=",a("ptr0"),"\n",s("ptr0",a("ptr1")),"\n",s("ptr1","tmp")].join(""))}function m(e,r,n){t.length>1?(l([e,r,n],!1,["tmp=",a("ptr0"),"\n",s("ptr0",a("ptr1")),"\n",s("ptr1",a("ptr2")),"\n",s("ptr2","tmp")].join("")),_.push("++"+r,"--"+n)):_.push(["ptr0=",i(e),"\n","ptr1=",i(r),"\n","ptr2=",i(n),"\n","++",r,"\n","--",n,"\n","tmp=",a("ptr0"),"\n",s("ptr0",a("ptr1")),"\n",s("ptr1",a("ptr2")),"\n",s("ptr2","tmp")].join(""))}function v(t,e){y(t,e),_.push("--"+e)}function g(e,r,n){t.length>1?l([e,r],!0,[s("ptr0",a("ptr1")),"\n",s("ptr1",["pivot",n,"[pivot_ptr]"].join(""))].join("")):_.push(s(i(e),a(i(r))),s(i(r),"pivot"+n))}function b(e,r){_.push(["if((",r,"-",e,")<=",u,"){\n","insertionSort(",e,",",r,",data,offset,",o(t.length).join(","),")\n","}else{\n",w,"(",e,",",r,",data,offset,",o(t.length).join(","),")\n","}"].join(""))}function x(e,r,n){t.length>1?(_.push(["__l",++S,":while(true){"].join("")),l([e],!0,["if(",a("ptr0"),"!==pivot",r,"[pivot_ptr]){break __l",S,"}"].join("")),_.push(n,"}")):_.push(["while(",a(i(e)),"===pivot",r,"){",n,"}"].join(""))}var _=["'use strict'"],w=["ndarrayQuickSort",t.join("d"),e].join(""),T=["left","right","data","offset"].concat(o(t.length)),M=n(e),S=0;_.push(["function ",w,"(",T.join(","),"){"].join(""));var E=["sixth=((right-left+1)/6)|0","index1=left+sixth","index5=right-sixth","index3=(left+right)>>1","index2=index3-sixth","index4=index3+sixth","el1=index1","el2=index2","el3=index3","el4=index4","el5=index5","less=left+1","great=right-1","pivots_are_equal=true","tmp","tmp0","x","y","z","k","ptr0","ptr1","ptr2","comp_pivot1=0","comp_pivot2=0","comp=0"];if(t.length>1){for(var k=[],C=1;C<t.length;++C)k.push("n"+C),E.push("i"+C);for(var C=0;C<8;++C)E.push("b_ptr"+C);E.push("ptr3","ptr4","ptr5","ptr6","ptr7","pivot_ptr","ptr_shift","elementSize="+k.join("*")),M?E.push("pivot1=malloc(elementSize)","pivot2=malloc(elementSize)"):E.push("pivot1=new Array(elementSize),pivot2=new Array(elementSize)")}else E.push("pivot1","pivot2");if(_.push("var "+E.join(",")),f(1,2),f(4,5),f(1,3),f(2,3),f(1,4),f(3,4),f(2,5),f(2,3),f(4,5),t.length>1?l(["el1","el2","el3","el4","el5","index1","index3","index5"],!0,["pivot1[pivot_ptr]=",a("ptr1"),"\n","pivot2[pivot_ptr]=",a("ptr3"),"\n","pivots_are_equal=pivots_are_equal&&(pivot1[pivot_ptr]===pivot2[pivot_ptr])\n","x=",a("ptr0"),"\n","y=",a("ptr2"),"\n","z=",a("ptr4"),"\n",s("ptr5","x"),"\n",s("ptr6","y"),"\n",s("ptr7","z")].join("")):_.push(["pivot1=",a(i("el2")),"\n","pivot2=",a(i("el4")),"\n","pivots_are_equal=pivot1===pivot2\n","x=",a(i("el1")),"\n","y=",a(i("el3")),"\n","z=",a(i("el5")),"\n",s(i("index1"),"x"),"\n",s(i("index3"),"y"),"\n",s(i("index5"),"z")].join("")),h("index2","left"),h("index4","right"),_.push("if(pivots_are_equal){"),_.push("for(k=less;k<=great;++k){"),d("comp","k",1),_.push("if(comp===0){continue}"),_.push("if(comp<0){"),_.push("if(k!==less){"),y("k","less"),_.push("}"),_.push("++less"),_.push("}else{"),_.push("while(true){"),d("comp","great",1),_.push("if(comp>0){"),_.push("great--"),_.push("}else if(comp<0){"),m("k","less","great"),_.push("break"),_.push("}else{"),v("k","great"),_.push("break"),_.push("}"),_.push("}"),_.push("}"),_.push("}"),_.push("}else{"),_.push("for(k=less;k<=great;++k){"),d("comp_pivot1","k",1),_.push("if(comp_pivot1<0){"),_.push("if(k!==less){"),y("k","less"),_.push("}"),_.push("++less"),_.push("}else{"),d("comp_pivot2","k",2),_.push("if(comp_pivot2>0){"),_.push("while(true){"),d("comp","great",2),_.push("if(comp>0){"),_.push("if(--great<k){break}"),_.push("continue"),_.push("}else{"),d("comp","great",1),_.push("if(comp<0){"),m("k","less","great"),_.push("}else{"),v("k","great"),_.push("}"),_.push("break"),_.push("}"),_.push("}"),_.push("}"),_.push("}"),_.push("}"),_.push("}"),g("left","(less-1)",1),g("right","(great+1)",2),b("left","(less-2)"),b("(great+2)","right"),_.push("if(pivots_are_equal){"),p(),_.push("return"),_.push("}"),_.push("if(less<index1&&great>index5){"),x("less",1,"++less"),x("great",2,"--great"),_.push("for(k=less;k<=great;++k){"),d("comp_pivot1","k",1),_.push("if(comp_pivot1===0){"),_.push("if(k!==less){"),y("k","less"),_.push("}"),_.push("++less"),_.push("}else{"),d("comp_pivot2","k",2),_.push("if(comp_pivot2===0){"),_.push("while(true){"),d("comp","great",2),_.push("if(comp===0){"),_.push("if(--great<k){break}"),_.push("continue"),_.push("}else{"),d("comp","great",1),_.push("if(comp<0){"),m("k","less","great"),_.push("}else{"),v("k","great"),_.push("}"),_.push("break"),_.push("}"),_.push("}"),_.push("}"),_.push("}"),_.push("}"),_.push("}"),p(),b("less","great"),_.push("}return "+w),t.length>1&&M){var A=new Function("insertionSort","malloc","free",_.join("\n"));return A(r,M[0],M[1])}var A=new Function("insertionSort",_.join("\n"));return A(r)}function s(t,e){var r=["'use strict'"],n=["ndarraySortWrapper",t.join("d"),e].join(""),s=["array"];r.push(["function ",n,"(",s.join(","),"){"].join(""));for(var l=["data=array.data,offset=array.offset|0,shape=array.shape,stride=array.stride"],c=0;c<t.length;++c)l.push(["s",c,"=stride[",c,"]|0,n",c,"=shape[",c,"]|0"].join(""));for(var p=new Array(t.length),f=[],c=0;c<t.length;++c){var h=t[c];0!==h&&(0===f.length?p[h]="1":p[h]=f.join("*"),f.push("n"+h))}for(var d=-1,y=-1,c=0;c<t.length;++c){var m=t[c];0!==m&&(d>0?l.push(["d",m,"=s",m,"-d",d,"*n",d].join("")):l.push(["d",m,"=s",m].join("")),d=m);var h=t.length-1-c;0!==h&&(y>0?l.push(["e",h,"=s",h,"-e",y,"*n",y,",f",h,"=",p[h],"-f",y,"*n",y].join("")):l.push(["e",h,"=s",h,",f",h,"=",p[h]].join("")),y=h)}r.push("var "+l.join(","));var v=["0","n0-1","data","offset"].concat(o(t.length));r.push(["if(n0<=",u,"){","insertionSort(",v.join(","),")}else{","quickSort(",v.join(","),")}"].join("")),r.push("}return "+n);var g=new Function("insertionSort","quickSort",r.join("\n")),b=i(t,e),x=a(t,e,b);return g(b,x)}var l=t("typedarray-pool"),u=32;e.exports=s},{"typedarray-pool":519}],445:[function(t,e,r){"use strict";function n(t){var e=t.order,r=t.dtype,n=[e,r],a=n.join(":"),s=i[a];return s||(i[a]=s=o(e,r)),s(t),t}var o=t("./lib/compile_sort.js"),i={};e.exports=n},{"./lib/compile_sort.js":444}],446:[function(t,e,r){"use strict";var n=t("ndarray-linear-interpolate"),o=t("cwise/lib/wrapper")({args:["index","array","scalar","scalar","scalar"],pre:{body:"{this_warped=new Array(_inline_9_arg4_)}",args:[{name:"_inline_9_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_9_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_9_arg2_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_9_arg3_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_9_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_warped"],localVars:[]},body:{body:"{_inline_10_arg2_(this_warped,_inline_10_arg0_),_inline_10_arg1_=_inline_10_arg3_.apply(void 0,this_warped)}",args:[{name:"_inline_10_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_10_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_10_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_10_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_10_arg4_",lvalue:!1,rvalue:!1,count:0}],thisVars:["this_warped"],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"warpND",blockSize:64}),i=t("cwise/lib/wrapper")({args:["index","array","scalar","scalar","scalar"],pre:{body:"{this_warped=[0]}",args:[],thisVars:["this_warped"],localVars:[]},body:{body:"{_inline_13_arg2_(this_warped,_inline_13_arg0_),_inline_13_arg1_=_inline_13_arg3_(_inline_13_arg4_,this_warped[0])}",args:[{name:"_inline_13_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_13_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_13_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_13_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_13_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_warped"],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"warp1D",blockSize:64}),a=t("cwise/lib/wrapper")({args:["index","array","scalar","scalar","scalar"],pre:{body:"{this_warped=[0,0]}",args:[],thisVars:["this_warped"],localVars:[]},body:{body:"{_inline_16_arg2_(this_warped,_inline_16_arg0_),_inline_16_arg1_=_inline_16_arg3_(_inline_16_arg4_,this_warped[0],this_warped[1])}",args:[{name:"_inline_16_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_16_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_warped"],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"warp2D",blockSize:64}),s=t("cwise/lib/wrapper")({args:["index","array","scalar","scalar","scalar"],pre:{body:"{this_warped=[0,0,0]}",args:[],thisVars:["this_warped"],localVars:[]},body:{body:"{_inline_19_arg2_(this_warped,_inline_19_arg0_),_inline_19_arg1_=_inline_19_arg3_(_inline_19_arg4_,this_warped[0],this_warped[1],this_warped[2])}",args:[{name:"_inline_19_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_19_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_warped"],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"warp3D",blockSize:64});e.exports=function(t,e,r){switch(e.shape.length){case 1:i(t,r,n.d1,e);break;case 2:a(t,r,n.d2,e);break;case 3:s(t,r,n.d3,e);break;default:o(t,r,n.bind(void 0,e),e.shape.length)}return t}},{"cwise/lib/wrapper":103,"ndarray-linear-interpolate":440}],447:[function(t,e,r){function n(t,e){return t[0]-e[0]}function o(){var t,e=this.stride,r=new Array(e.length);for(t=0;t<r.length;++t)r[t]=[Math.abs(e[t]),t];r.sort(n);var o=new Array(r.length);for(t=0;t<o.length;++t)o[t]=r[t][1];return o}function i(t,e){var r=["View",e,"d",t].join("");e<0&&(r="View_Nil"+t);var n="generic"===t;if(e===-1){var i="function "+r+"(a){this.data=a;};\tvar proto="+r+".prototype;\tproto.dtype='"+t+"';\tproto.index=function(){return -1};\tproto.size=0;\tproto.dimension=-1;\tproto.shape=proto.stride=proto.order=[];\tproto.lo=proto.hi=proto.transpose=proto.step=\tfunction(){return new "+r+"(this.data);};\tproto.get=proto.set=function(){};\tproto.pick=function(){return null};\treturn function construct_"+r+"(a){return new "+r+"(a);}",a=new Function(i);return a()}if(0===e){var i="function "+r+"(a,d) {\tthis.data = a;\tthis.offset = d\t};\tvar proto="+r+".prototype;\tproto.dtype='"+t+"';\tproto.index=function(){return this.offset};\tproto.dimension=0;\tproto.size=1;\tproto.shape=\tproto.stride=\tproto.order=[];\tproto.lo=\tproto.hi=\tproto.transpose=\tproto.step=function "+r+"_copy() {\treturn new "+r+"(this.data,this.offset)\t};\tproto.pick=function "+r+"_pick(){\treturn TrivialArray(this.data);\t};\tproto.valueOf=proto.get=function "+r+"_get(){\treturn "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};\tproto.set=function "+r+"_set(v){\treturn "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"\t};\treturn function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",a=new Function("TrivialArray",i);return a(p[t][0])}var i=["'use strict'"],s=l(e),u=s.map(function(t){return"i"+t}),c="this.offset+"+s.map(function(t){return"this.stride["+t+"]*i"+t}).join("+"),f=s.map(function(t){return"b"+t}).join(","),h=s.map(function(t){return"c"+t}).join(",");i.push("function "+r+"(a,"+f+","+h+",d){this.data=a","this.shape=["+f+"]","this.stride=["+h+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),i.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){\treturn "+s.map(function(t){return"this.shape["+t+"]"}).join("*"),"}})"),1===e?i.push("proto.order=[0]"):(i.push("Object.defineProperty(proto,'order',{get:"),e<4?(i.push("function "+r+"_order(){"),2===e?i.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&i.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);\tif(s0>s1){\tif(s1>s2){\treturn [2,1,0];\t}else if(s0>s2){\treturn [1,2,0];\t}else{\treturn [1,0,2];\t}\t}else if(s0>s2){\treturn [2,0,1];\t}else if(s2>s1){\treturn [0,1,2];\t}else{\treturn [0,2,1];\t}}})")):i.push("ORDER})")),i.push("proto.set=function "+r+"_set("+u.join(",")+",v){"),n?i.push("return this.data.set("+c+",v)}"):i.push("return this.data["+c+"]=v}"),i.push("proto.get=function "+r+"_get("+u.join(",")+"){"),n?i.push("return this.data.get("+c+")}"):i.push("return this.data["+c+"]}"),i.push("proto.index=function "+r+"_index(",u.join(),"){return "+c+"}"),i.push("proto.hi=function "+r+"_hi("+u.join(",")+"){return new "+r+"(this.data,"+s.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")}).join(",")+","+s.map(function(t){return"this.stride["+t+"]"}).join(",")+",this.offset)}");var d=s.map(function(t){return"a"+t+"=this.shape["+t+"]"}),y=s.map(function(t){return"c"+t+"=this.stride["+t+"]"});i.push("proto.lo=function "+r+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+y.join(","));for(var m=0;m<e;++m)i.push("if(typeof i"+m+"==='number'&&i"+m+">=0){\td=i"+m+"|0;\tb+=c"+m+"*d;\ta"+m+"-=d}");i.push("return new "+r+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"c"+t}).join(",")+",b)}"),i.push("proto.step=function "+r+"_step("+u.join(",")+"){var "+s.map(function(t){return"a"+t+"=this.shape["+t+"]"}).join(",")+","+s.map(function(t){return"b"+t+"=this.stride["+t+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var m=0;m<e;++m)i.push("if(typeof i"+m+"==='number'){\td=i"+m+"|0;\tif(d<0){\tc+=b"+m+"*(a"+m+"-1);\ta"+m+"=ceil(-a"+m+"/d)\t}else{\ta"+m+"=ceil(a"+m+"/d)\t}\tb"+m+"*=d\t}");i.push("return new "+r+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"b"+t}).join(",")+",c)}");for(var v=new Array(e),g=new Array(e),m=0;m<e;++m)v[m]="a[i"+m+"]",g[m]="b[i"+m+"]";i.push("proto.transpose=function "+r+"_transpose("+u+"){"+u.map(function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+v.join(",")+","+g.join(",")+",this.offset)}"),i.push("proto.pick=function "+r+"_pick("+u+"){var a=[],b=[],c=this.offset");for(var m=0;m<e;++m)i.push("if(typeof i"+m+"==='number'&&i"+m+">=0){c=(c+this.stride["+m+"]*i"+m+")|0}else{a.push(this.shape["+m+"]);b.push(this.stride["+m+"])}");i.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),i.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+s.map(function(t){return"shape["+t+"]"}).join(",")+","+s.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}");var a=new Function("CTOR_LIST","ORDER",i.join("\n"));return a(p[t],o)}function a(t){if(u(t))return"buffer";if(c)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}function s(t,e,r,n){if(void 0===t){var o=p.array[0];return o([])}"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var s=e.length;if(void 0===r){r=new Array(s);for(var l=s-1,u=1;l>=0;--l)r[l]=u,u*=e[l]}if(void 0===n){n=0;for(var l=0;l<s;++l)r[l]<0&&(n-=(e[l]-1)*r[l])}for(var c=a(t),f=p[c];f.length<=s+1;)f.push(i(c,f.length-1));var o=f[s+1];return o(t,e,r,n)}var l=t("iota-array"),u=t("is-buffer"),c="undefined"!=typeof Float64Array,p={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};e.exports=s},{"iota-array":274,"is-buffer":275}],448:[function(t,e,r){"use strict";function n(t,e){if(isNaN(t)||isNaN(e))return NaN;if(t===e)return t;if(0===t)return e<0?-i:i;var r=o.hi(t),n=o.lo(t);return e>t==t>0?n===a?(r+=1,n=0):n+=1:0===n?(n=a,r-=1):n-=1,o.pack(n,r)}var o=t("double-bits"),i=Math.pow(2,-1074),a=-1>>>0;e.exports=n},{"double-bits":106}],449:[function(t,e,r){var n=1e-6,o=1e-6;r.vertexNormals=function(t,e,r){for(var o=e.length,i=new Array(o),a=void 0===r?n:r,s=0;s<o;++s)i[s]=[0,0,0];for(var s=0;s<t.length;++s)for(var l=t[s],u=0,c=l[l.length-1],p=l[0],f=0;f<l.length;++f){u=c,c=p,p=l[(f+1)%l.length];for(var h=e[u],d=e[c],y=e[p],m=new Array(3),v=0,g=new Array(3),b=0,x=0;x<3;++x)m[x]=h[x]-d[x],v+=m[x]*m[x],g[x]=y[x]-d[x],b+=g[x]*g[x];if(v*b>a)for(var _=i[c],w=1/Math.sqrt(v*b),x=0;x<3;++x){var T=(x+1)%3,M=(x+2)%3;_[x]+=w*(g[T]*m[M]-g[M]*m[T])}}for(var s=0;s<o;++s){for(var _=i[s],S=0,x=0;x<3;++x)S+=_[x]*_[x];if(S>a)for(var w=1/Math.sqrt(S),x=0;x<3;++x)_[x]*=w;else for(var x=0;x<3;++x)_[x]=0}return i},r.faceNormals=function(t,e,r){for(var n=t.length,i=new Array(n),a=void 0===r?o:r,s=0;s<n;++s){for(var l=t[s],u=new Array(3),c=0;c<3;++c)u[c]=e[l[c]];for(var p=new Array(3),f=new Array(3),c=0;c<3;++c)p[c]=u[1][c]-u[0][c],f[c]=u[2][c]-u[0][c];for(var h=new Array(3),d=0,c=0;c<3;++c){var y=(c+1)%3,m=(c+2)%3;h[c]=p[y]*f[m]-p[m]*f[y],d+=h[c]*h[c]}d=d>a?1/Math.sqrt(d):0;for(var c=0;c<3;++c)h[c]*=d;i[s]=h}return i}},{}],450:[function(t,e,r){/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/
"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function o(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==n.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(t){o[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(t){return!1}}var i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;e.exports=o()?Object.assign:function(t,e){for(var r,o,l=n(t),u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var c in r)a.call(r,c)&&(l[c]=r[c]);if(i){o=i(r);for(var p=0;p<o.length;p++)s.call(r,o[p])&&(l[o[p]]=r[o[p]])}}return l}},{}],451:[function(t,e,r){"use strict";function n(t,e,r,n,o,i,a,s,l,u){var c=e+i+u;if(p>0){var p=Math.sqrt(c+1);t[0]=.5*(a-l)/p,t[1]=.5*(s-n)/p,t[2]=.5*(r-i)/p,t[3]=.5*p}else{var f=Math.max(e,i,u),p=Math.sqrt(2*f-c+1);e>=f?(t[0]=.5*p,t[1]=.5*(o+r)/p,t[2]=.5*(s+n)/p,t[3]=.5*(a-l)/p):i>=f?(t[0]=.5*(r+o)/p,t[1]=.5*p,t[2]=.5*(l+a)/p,t[3]=.5*(s-n)/p):(t[0]=.5*(n+s)/p,t[1]=.5*(a+l)/p,t[2]=.5*p,t[3]=.5*(r-o)/p)}return t}e.exports=n},{}],452:[function(t,e,r){"use strict";function n(t,e,r){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(r,2))}function o(t,e,r,n){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(r,2)+Math.pow(n,2))}function i(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=o(r,n,i,a);s>1e-6?(t[0]=r/s,t[1]=n/s,t[2]=i/s,t[3]=a/s):(t[0]=t[1]=t[2]=0,t[3]=1)}function a(t,e,r){this.radius=l([r]),this.center=l(e),this.rotation=l(t),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}function s(t){t=t||{};var e=t.center||[0,0,0],r=t.rotation||[0,0,0,1],n=t.radius||1;e=[].slice.call(e,0,3),r=[].slice.call(r,0,4),i(r,r);var o=new a(r,e,Math.log(n));return o.setDistanceLimits(t.zoomMin,t.zoomMax),("eye"in t||"up"in t)&&o.lookAt(0,t.eye,t.center,t.up),o}e.exports=s;var l=t("filtered-vector"),u=t("gl-mat4/lookAt"),c=t("gl-mat4/fromQuat"),p=t("gl-mat4/invert"),f=t("./lib/quatFromFrame"),h=a.prototype;h.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},h.recalcMatrix=function(t){this.radius.curve(t),this.center.curve(t),this.rotation.curve(t);var e=this.computedRotation;i(e,e);var r=this.computedMatrix;c(r,e);var n=this.computedCenter,o=this.computedEye,a=this.computedUp,s=Math.exp(this.computedRadius[0]);o[0]=n[0]+s*r[2],o[1]=n[1]+s*r[6],o[2]=n[2]+s*r[10],a[0]=r[1],a[1]=r[5],a[2]=r[9];for(var l=0;l<3;++l){for(var u=0,p=0;p<3;++p)u+=r[l+4*p]*o[p];r[12+l]=-u}},h.getMatrix=function(t,e){this.recalcMatrix(t);var r=this.computedMatrix;if(e){for(var n=0;n<16;++n)e[n]=r[n];return e}return r},h.idle=function(t){this.center.idle(t),this.radius.idle(t),this.rotation.idle(t)},h.flush=function(t){this.center.flush(t),this.radius.flush(t),this.rotation.flush(t)},h.pan=function(t,e,r,o){e=e||0,r=r||0,o=o||0,this.recalcMatrix(t);var i=this.computedMatrix,a=i[1],s=i[5],l=i[9],u=n(a,s,l);a/=u,s/=u,l/=u;var c=i[0],p=i[4],f=i[8],h=c*a+p*s+f*l;c-=a*h,p-=s*h,f-=l*h;var d=n(c,p,f);c/=d,p/=d,f/=d;var y=i[2],m=i[6],v=i[10],g=y*a+m*s+v*l,b=y*c+m*p+v*f;y-=g*a+b*c,m-=g*s+b*p,v-=g*l+b*f;var x=n(y,m,v);y/=x,m/=x,v/=x;var _=c*e+a*r,w=p*e+s*r,T=f*e+l*r;this.center.move(t,_,w,T);var M=Math.exp(this.computedRadius[0]);M=Math.max(1e-4,M+o),this.radius.set(t,Math.log(M))},h.rotate=function(t,e,r,i){this.recalcMatrix(t),e=e||0,r=r||0;var a=this.computedMatrix,s=a[0],l=a[4],u=a[8],c=a[1],p=a[5],f=a[9],h=a[2],d=a[6],y=a[10],m=e*s+r*c,v=e*l+r*p,g=e*u+r*f,b=-(d*g-y*v),x=-(y*m-h*g),_=-(h*v-d*m),w=Math.sqrt(Math.max(0,1-Math.pow(b,2)-Math.pow(x,2)-Math.pow(_,2))),T=o(b,x,_,w);T>1e-6?(b/=T,x/=T,_/=T,w/=T):(b=x=_=0,w=1);var M=this.computedRotation,S=M[0],E=M[1],k=M[2],C=M[3],A=S*w+C*b+E*_-k*x,P=E*w+C*x+k*b-S*_,L=k*w+C*_+S*x-E*b,D=C*w-S*b-E*x-k*_;if(i){b=h,x=d,_=y;var O=Math.sin(i)/n(b,x,_);b*=O,x*=O,_*=O,w=Math.cos(e),A=A*w+D*b+P*_-L*x,P=P*w+D*x+L*b-A*_,L=L*w+D*_+A*x-P*b,D=D*w-A*b-P*x-L*_}var I=o(A,P,L,D);I>1e-6?(A/=I,P/=I,L/=I,D/=I):(A=P=L=0,D=1),this.rotation.set(t,A,P,L,D)},h.lookAt=function(t,e,r,n){this.recalcMatrix(t),r=r||this.computedCenter,e=e||this.computedEye,n=n||this.computedUp;var o=this.computedMatrix;u(o,e,r,n);var a=this.computedRotation;f(a,o[0],o[1],o[2],o[4],o[5],o[6],o[8],o[9],o[10]),i(a,a),this.rotation.set(t,a[0],a[1],a[2],a[3]);for(var s=0,l=0;l<3;++l)s+=Math.pow(r[l]-e[l],2);this.radius.set(t,.5*Math.log(Math.max(s,1e-6))),this.center.set(t,r[0],r[1],r[2])},h.translate=function(t,e,r,n){this.center.move(t,e||0,r||0,n||0)},h.setMatrix=function(t,e){var r=this.computedRotation;f(r,e[0],e[1],e[2],e[4],e[5],e[6],e[8],e[9],e[10]),i(r,r),this.rotation.set(t,r[0],r[1],r[2],r[3]);var n=this.computedMatrix;p(n,e);var o=n[15];if(Math.abs(o)>1e-6){var a=n[12]/o,s=n[13]/o,l=n[14]/o;this.recalcMatrix(t);var u=Math.exp(this.computedRadius[0]);this.center.set(t,a-n[2]*u,s-n[6]*u,l-n[10]*u),this.radius.idle(t)}else this.center.idle(t),this.radius.idle(t)},h.setDistance=function(t,e){e>0&&this.radius.set(t,Math.log(e))},h.setDistanceLimits=function(t,e){t=t>0?Math.log(t):-(1/0),e=e>0?Math.log(e):1/0,e=Math.max(e,t),this.radius.bounds[0][0]=t,this.radius.bounds[1][0]=e},h.getDistanceLimits=function(t){var e=this.radius.bounds;return t?(t[0]=Math.exp(e[0][0]),t[1]=Math.exp(e[1][0]),t):[Math.exp(e[0][0]),Math.exp(e[1][0])]},h.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},h.fromJSON=function(t){var e=this.lastT(),r=t.center;r&&this.center.set(e,r[0],r[1],r[2]);var n=t.rotation;n&&this.rotation.set(e,n[0],n[1],n[2],n[3]);var o=t.distance;o&&o>0&&this.radius.set(e,Math.log(o)),this.setDistanceLimits(t.zoomMin,t.zoomMax)}},{"./lib/quatFromFrame":451,"filtered-vector":115,"gl-mat4/fromQuat":159,"gl-mat4/invert":162,"gl-mat4/lookAt":163}],453:[function(t,e,r){/*!
	 * pad-left <https://github.com/jonschlinkert/pad-left>
	 *
	 * Copyright (c) 2014-2015, Jon Schlinkert.
	 * Licensed under the MIT license.
	 */
"use strict";var n=t("repeat-string");e.exports=function(t,e,r){return r="undefined"!=typeof r?r+"":" ",n(r,e)+t}},{"repeat-string":479}],454:[function(t,e,r){e.exports=function(t,e){e||(e=[0,""]),t=String(t);var r=parseFloat(t,10);return e[0]=r,e[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},{}],455:[function(t,e,r){(function(t){function e(t,e){for(var r=0,n=t.length-1;n>=0;n--){var o=t[n];"."===o?t.splice(n,1):".."===o?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return o.exec(t).slice(1)};r.resolve=function(){for(var r="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(r=a+"/"+r,o="/"===a.charAt(0))}return r=e(n(r.split("/"),function(t){return!!t}),!o).join("/"),(o?"/":"")+r||"."},r.normalize=function(t){var o=r.isAbsolute(t),i="/"===a(t,-1);return t=e(n(t.split("/"),function(t){return!!t}),!o).join("/"),t||o||(t="."),t&&i&&(t+="/"),(o?"/":"")+t},r.isAbsolute=function(t){return"/"===t.charAt(0)},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(n(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},r.relative=function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=r.resolve(t).substr(1),e=r.resolve(e).substr(1);for(var o=n(t.split("/")),i=n(e.split("/")),a=Math.min(o.length,i.length),s=a,l=0;l<a;l++)if(o[l]!==i[l]){s=l;break}for(var u=[],l=s;l<o.length;l++)u.push("..");return u=u.concat(i.slice(s)),u.join("/")},r.sep="/",r.delimiter=":",r.dirname=function(t){var e=i(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},r.basename=function(t,e){var r=i(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},r.extname=function(t){return i(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,t("_process"))},{_process:466}],456:[function(t,e,r){"use strict";function n(t){var e;t&&t.length&&(e=t,t=e.length);var r=new Uint8Array(t||0);return e&&r.set(e),r.readUInt32LE=i.readUInt32LE,r.writeUInt32LE=i.writeUInt32LE,r.readInt32LE=i.readInt32LE,r.writeInt32LE=i.writeInt32LE,r.readFloatLE=i.readFloatLE,r.writeFloatLE=i.writeFloatLE,r.readDoubleLE=i.readDoubleLE,r.writeDoubleLE=i.writeDoubleLE,r.toString=i.toString,r.write=i.write,r.slice=i.slice,r.copy=i.copy,r._isBuffer=!0,r}function o(t){for(var e,r,n=t.length,o=[],i=0;i<n;i++){if(e=t.charCodeAt(i),e>55295&&e<57344){if(!r){e>56319||i+1===n?o.push(239,191,189):r=e;continue}if(e<56320){o.push(239,191,189),r=e;continue}e=r-55296<<10|e-56320|65536,r=null}else r&&(o.push(239,191,189),r=null);e<128?o.push(e):e<2048?o.push(e>>6|192,63&e|128):e<65536?o.push(e>>12|224,e>>6&63|128,63&e|128):o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}return o}e.exports=n;var i,a,s,l=t("ieee754");i={readUInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},writeUInt32LE:function(t,e){this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24},readInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+(this[t+3]<<24)},readFloatLE:function(t){return l.read(this,t,!0,23,4)},readDoubleLE:function(t){return l.read(this,t,!0,52,8)},writeFloatLE:function(t,e){return l.write(this,t,e,!0,23,4)},writeDoubleLE:function(t,e){return l.write(this,t,e,!0,52,8)},toString:function(t,e,r){var n="",o="";e=e||0,r=Math.min(this.length,r||this.length);for(var i=e;i<r;i++){var a=this[i];a<=127?(n+=decodeURIComponent(o)+String.fromCharCode(a),o=""):o+="%"+a.toString(16)}return n+=decodeURIComponent(o)},write:function(t,e){for(var r=t===a?s:o(t),n=0;n<r.length;n++)this[e+n]=r[n]},slice:function(t,e){return this.subarray(t,e)},copy:function(t,e){e=e||0;for(var r=0;r<this.length;r++)t[e+r]=this[r]}},i.writeInt32LE=i.writeUInt32LE,n.byteLength=function(t){return a=t,s=o(t),s.length},n.isBuffer=function(t){return!(!t||!t._isBuffer)}},{ieee754:270}],457:[function(t,r,n){(function(e){"use strict";function n(t){this.buf=m.isBuffer(t)?t:new m(t||0),this.pos=0,this.length=this.buf.length}function o(t,e){var r,n=e.buf;if(r=n[e.pos++],t+=268435456*(127&r),r<128)return t;if(r=n[e.pos++],t+=34359738368*(127&r),r<128)return t;if(r=n[e.pos++],t+=4398046511104*(127&r),r<128)return t;if(r=n[e.pos++],t+=562949953421312*(127&r),r<128)return t;if(r=n[e.pos++],t+=72057594037927940*(127&r),r<128)return t;if(r=n[e.pos++],t+=0x8000000000000000*(127&r),r<128)return t;throw new Error("Expected varint not more than 10 bytes")}function i(t,e){e.realloc(10);for(var r=e.pos+10;t>=1;){if(e.pos>=r)throw new Error("Given varint doesn't fit into 10 bytes");var n=255&t;e.buf[e.pos++]=n|(t>=128?128:0),t/=128}}function a(t,e,r){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));r.realloc(n);for(var o=r.pos-1;o>=t;o--)r.buf[o+n]=r.buf[o]}function s(t,e){for(var r=0;r<t.length;r++)e.writeVarint(t[r])}function l(t,e){for(var r=0;r<t.length;r++)e.writeSVarint(t[r])}function u(t,e){for(var r=0;r<t.length;r++)e.writeFloat(t[r])}function c(t,e){for(var r=0;r<t.length;r++)e.writeDouble(t[r])}function p(t,e){for(var r=0;r<t.length;r++)e.writeBoolean(t[r])}function f(t,e){for(var r=0;r<t.length;r++)e.writeFixed32(t[r])}function h(t,e){for(var r=0;r<t.length;r++)e.writeSFixed32(t[r])}function d(t,e){for(var r=0;r<t.length;r++)e.writeFixed64(t[r])}function y(t,e){for(var r=0;r<t.length;r++)e.writeSFixed64(t[r])}r.exports=n;var m=e.Buffer||t("./buffer");n.Varint=0,n.Fixed64=1,n.Bytes=2,n.Fixed32=5;var v=4294967296,g=1/v,b=Math.pow(2,63);n.prototype={destroy:function(){this.buf=null},readFields:function(t,e,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),o=n>>3,i=this.pos;t(o,e,this),this.pos===i&&this.skip(n)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=this.buf.readUInt32LE(this.pos);return this.pos+=4,t},readSFixed32:function(){var t=this.buf.readInt32LE(this.pos);return this.pos+=4,t},readFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readUInt32LE(this.pos+4)*v;return this.pos+=8,t},readSFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readInt32LE(this.pos+4)*v;return this.pos+=8,t},readFloat:function(){var t=this.buf.readFloatLE(this.pos);return this.pos+=4,t},readDouble:function(){var t=this.buf.readDoubleLE(this.pos);return this.pos+=8,t},readVarint:function(){var t,e,r=this.buf;return e=r[this.pos++],t=127&e,e<128?t:(e=r[this.pos++],t|=(127&e)<<7,e<128?t:(e=r[this.pos++],t|=(127&e)<<14,e<128?t:(e=r[this.pos++],t|=(127&e)<<21,e<128?t:o(t,this))))},readVarint64:function(){var t=this.pos,e=this.readVarint();if(e<b)return e;for(var r=this.pos-2;255===this.buf[r];)r--;r<t&&(r=t),e=0;for(var n=0;n<r-t+1;n++){var o=127&~this.buf[t+n];e+=n<4?o<<7*n:o*Math.pow(2,7*n)}return-e-1},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.buf.toString("utf8",this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.slice(this.pos,t);return this.pos=t,e},readPackedVarint:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readVarint());return e},readPackedSVarint:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(t){var e=7&t;if(e===n.Varint)for(;this.buf[this.pos++]>127;);else if(e===n.Bytes)this.pos=this.readVarint()+this.pos;else if(e===n.Fixed32)this.pos+=4;else{if(e!==n.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var r=new m(e);this.buf.copy(r),this.buf=r,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.slice(0,this.length)},writeFixed32:function(t){this.realloc(4),this.buf.writeUInt32LE(t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),this.buf.writeInt32LE(t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(t&-1,this.pos),this.buf.writeUInt32LE(Math.floor(t*g),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(t&-1,this.pos),this.buf.writeInt32LE(Math.floor(t*g),this.pos+4),this.pos+=8},writeVarint:function(t){return t=+t,t>268435455?void i(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),void(t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127)))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t);var e=m.byteLength(t);this.writeVarint(e),this.realloc(e),this.buf.write(t,this.pos),this.pos+=e},writeFloat:function(t){this.realloc(4),this.buf.writeFloatLE(t,this.pos),this.pos+=4},writeDouble:function(t){this.realloc(8),this.buf.writeDoubleLE(t,this.pos),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var r=0;r<e;r++)this.buf[this.pos++]=t[r]},writeRawMessage:function(t,e){this.pos++;var r=this.pos;t(e,this);var n=this.pos-r;n>=128&&a(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,r){this.writeTag(t,n.Bytes),this.writeRawMessage(e,r)},writePackedVarint:function(t,e){this.writeMessage(t,s,e)},writePackedSVarint:function(t,e){this.writeMessage(t,l,e)},writePackedBoolean:function(t,e){this.writeMessage(t,p,e)},writePackedFloat:function(t,e){this.writeMessage(t,u,e)},writePackedDouble:function(t,e){this.writeMessage(t,c,e)},writePackedFixed32:function(t,e){this.writeMessage(t,f,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,h,e)},writePackedFixed64:function(t,e){this.writeMessage(t,d,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,y,e)},writeBytesField:function(t,e){this.writeTag(t,n.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,n.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,n.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,n.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./buffer":456}],458:[function(t,e,r){"use strict";function n(t){var e=t.length;if(e<o){for(var r=1,n=0;n<e;++n)for(var a=0;a<n;++a)if(t[n]<t[a])r=-r;else if(t[n]===t[a])return 0;return r}for(var s=i.mallocUint8(e),n=0;n<e;++n)s[n]=0;for(var r=1,n=0;n<e;++n)if(!s[n]){var l=1;s[n]=1;for(var a=t[n];a!==n;a=t[a]){if(s[a])return i.freeUint8(s),0;l+=1,s[a]=1}1&l||(r=-r)}return i.freeUint8(s),r}e.exports=n;var o=32,i=t("typedarray-pool")},{"typedarray-pool":519}],459:[function(t,e,r){"use strict";function n(t){var e=t.length;switch(e){case 0:case 1:return 0;case 2:return t[1]}var r,n,o,s=i.mallocUint32(e),l=i.mallocUint32(e),u=0;for(a(t,l),o=0;o<e;++o)s[o]=t[o];for(o=e-1;o>0;--o)n=l[o],r=s[o],s[o]=s[n],s[n]=r,l[o]=l[r],l[r]=n,u=(u+r)*o;return i.freeUint32(l),i.freeUint32(s),u}function o(t,e,r){switch(t){case 0:return r?r:[];case 1:return r?(r[0]=0,r):[0];case 2:return r?(e?(r[0]=0,r[1]=1):(r[0]=1,r[1]=0),r):e?[0,1]:[1,0]}r=r||new Array(t);var n,o,i,a=1;for(r[0]=0,i=1;i<t;++i)r[i]=i,a=a*i|0;for(i=t-1;i>0;--i)n=e/a|0,e=e-n*a|0,a=a/i|0,o=0|r[i],r[i]=0|r[n],r[n]=0|o;return r}var i=t("typedarray-pool"),a=t("invert-permutation");r.rank=n,r.unrank=o},{"invert-permutation":273,"typedarray-pool":519}],460:[function(t,e,r){"use strict";function n(t,e){function r(t,e){var r=u[e][t[e]];r.splice(r.indexOf(t),1)}function n(t,n,i){for(var a,s,l,c=0;c<2;++c)if(u[c][n].length>0){a=u[c][n][0],l=c;break}s=a[1^l];for(var p=0;p<2;++p)for(var f=u[p][n],h=0;h<f.length;++h){var d=f[h],y=d[1^p],m=o(e[t],e[n],e[s],e[y]);m>0&&(a=d,s=y,l=p)}return i?s:(a&&r(a,l),s)}function i(t,i){var a=u[i][t][0],s=[t];r(a,i);for(var l=a[1^i];;){for(;l!==t;)s.push(l),l=n(s[s.length-2],l,!1);if(u[0][t].length+u[1][t].length===0)break;var c=s[s.length-1],p=t,f=s[1],h=n(c,p,!0);if(o(e[c],e[p],e[f],e[h])<0)break;s.push(t),l=n(c,p)}return s}function a(t,e){return e[1]===e[e.length-1]}for(var s=0|e.length,l=t.length,u=[new Array(s),new Array(s)],c=0;c<s;++c)u[0][c]=[],u[1][c]=[];for(var c=0;c<l;++c){var p=t[c];u[0][p[0]].push(p),u[1][p[1]].push(p)}for(var f=[],c=0;c<s;++c)u[0][c].length+u[1][c].length===0&&f.push([c]);for(var c=0;c<s;++c)for(var h=0;h<2;++h){for(var d=[];u[h][c].length>0;){var y=(u[0][c].length,i(c,h));a(d,y)?d.push.apply(d,y):(d.length>0&&f.push(d),d=y)}d.length>0&&f.push(d)}return f}e.exports=n;var o=t("compare-angle")},{"compare-angle":90}],461:[function(t,e,r){"use strict";function n(t,e){for(var r=o(t,e.length),n=new Array(e.length),i=new Array(e.length),a=[],s=0;s<e.length;++s){var l=r[s].length;i[s]=l,n[s]=!0,l<=1&&a.push(s)}for(;a.length>0;){var u=a.pop();n[u]=!1;for(var c=r[u],s=0;s<c.length;++s){var p=c[s];0===--i[p]&&a.push(p)}}for(var f=new Array(e.length),h=[],s=0;s<e.length;++s)if(n[s]){var u=h.length;f[s]=u,h.push(e[s])}else f[s]=-1;for(var d=[],s=0;s<t.length;++s){var y=t[s];n[y[0]]&&n[y[1]]&&d.push([f[y[0]],f[y[1]]])}return[d,h]}e.exports=n;var o=t("edges-to-adjacency-list")},{"edges-to-adjacency-list":109}],462:[function(t,e,r){"use strict";function n(t,e){for(var r=new Array(t),n=0;n<t;++n)r[n]=e;return r}function o(t){for(var e=new Array(t),r=0;r<t;++r)e[r]=[];return e}function i(t,e){function r(t){for(var r=t.length,n=[0],o=0;o<r;++o){var i=e[t[o]],a=e[t[(o+1)%r]],s=u(-i[0],i[1]),l=u(-i[0],a[1]),p=u(a[0],i[1]),f=u(a[0],a[1]);n=c(n,c(c(s,l),c(p,f)))}return n[n.length-1]>0}function i(t){for(var e=t.length,r=0;r<e;++r)if(!I[t[r]])return!1;return!0}var h=f(t,e);t=h[0],e=h[1];for(var d=e.length,y=(t.length,a(t,e.length)),m=0;m<d;++m)if(y[m].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var v=s(t,e);v=v.filter(r);for(var g=v.length,b=new Array(g),x=new Array(g),m=0;m<g;++m){b[m]=m;var _=new Array(g),w=v[m].map(function(t){return e[t]}),T=l([w]),M=0;t:for(var S=0;S<g;++S)if(_[S]=0,m!==S){for(var E=v[S],k=E.length,C=0;C<k;++C){var A=T(e[E[C]]);if(0!==A){A<0&&(_[S]=1,M+=1);continue t}}_[S]=1,M+=1}x[m]=[M,m,_]}x.sort(function(t,e){return e[0]-t[0]});for(var m=0;m<g;++m)for(var _=x[m],P=_[1],L=_[2],S=0;S<g;++S)L[S]&&(b[S]=P);for(var D=o(g),m=0;m<g;++m)D[m].push(b[m]),D[b[m]].push(m);for(var O={},I=n(d,!1),m=0;m<g;++m)for(var E=v[m],k=E.length,S=0;S<k;++S){var R=E[S],N=E[(S+1)%k],j=Math.min(R,N)+":"+Math.max(R,N);if(j in O){var F=O[j];D[F].push(m),D[m].push(F),I[R]=I[N]=!0}else O[j]=m}for(var z=[],B=n(g,-1),m=0;m<g;++m)b[m]!==m||i(v[m])?B[m]=-1:(z.push(m),B[m]=0);for(var h=[];z.length>0;){var U=z.pop(),V=D[U];p(V,function(t,e){return t-e});var H,W=V.length,q=B[U];if(0===q){var E=v[U];H=[E]}for(var m=0;m<W;++m){var G=V[m];if(!(B[G]>=0)&&(B[G]=1^q,z.push(G),0===q)){var E=v[G];i(E)||(E.reverse(),H.push(E))}}0===q&&h.push(H)}return h}e.exports=i;var a=t("edges-to-adjacency-list"),s=t("planar-dual"),l=t("point-in-big-polygon"),u=t("two-product"),c=t("robust-sum"),p=t("uniq"),f=t("./lib/trim-leaves")},{"./lib/trim-leaves":461,"edges-to-adjacency-list":109,"planar-dual":460,"point-in-big-polygon":464,"robust-sum":492,"two-product":517,uniq:521}],463:[function(t,e,r){"use strict";function n(t,e){this.x=t,this.y=e}e.exports=n,n.prototype={clone:function(){return new n(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,r=t.y-this.y;return e*e+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,r=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=r,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),r=Math.sin(t),n=e*this.x-r*this.y,o=r*this.x+e*this.y;return this.x=n,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},n.convert=function(t){return t instanceof n?t:Array.isArray(t)?new n(t[0],t[1]):t}},{}],464:[function(t,e,r){function n(){return!0}function o(t){return function(e,r){var o=t[e];return!!o&&!!o.queryPoint(r,n)}}function i(t){for(var e={},r=0;r<t.length;++r){var n=t[r],i=n[0][0],a=n[0][1],s=n[1][1],l=[Math.min(a,s),Math.max(a,s)];i in e?e[i].push(l):e[i]=[l]}for(var u={},c=Object.keys(e),r=0;r<c.length;++r){var p=e[c[r]];u[c[r]]=h(p)}return o(u)}function a(t,e){return function(r){var n=d.le(e,r[0]);if(n<0)return 1;var o=t[n];if(!o){if(!(n>0&&e[n]===r[0]))return 1;o=t[n-1]}for(var i=1;o;){var a=o.key,s=p(r,a[0],a[1]);if(a[0][0]<a[1][0])if(s<0)o=o.left;else{if(!(s>0))return 0;i=-1,o=o.right}else if(s>0)o=o.left;else{if(!(s<0))return 0;i=1,o=o.right}}return i}}function s(t){return 1}function l(t){return function(e){return t(e[0],e[1])?0:1}}function u(t,e){return function(r){return t(r[0],r[1])?0:e(r)}}function c(t){for(var e=t.length,r=[],n=[],o=0;o<e;++o)for(var c=t[o],p=c.length,h=p-1,d=0;d<p;h=d++){var y=c[h],m=c[d];y[0]===m[0]?n.push([y,m]):r.push([y,m])}if(0===r.length)return 0===n.length?s:l(i(n));var v=f(r),g=a(v.slabs,v.coordinates);return 0===n.length?g:u(i(n),g)}e.exports=c;var p=t("robust-orientation")[3],f=t("slab-decomposition"),h=t("interval-tree-1d"),d=t("binary-search-bounds")},{"binary-search-bounds":56,"interval-tree-1d":272,"robust-orientation":487,"slab-decomposition":504}],465:[function(t,e,r){"use strict";function n(t,e,r,n,s){o.length<n.length&&(o=new Float64Array(n.length),i=new Float64Array(n.length),a=new Float64Array(n.length));for(var l=0;l<n.length;++l)o[l]=t[l]-n[l],i[l]=e[l]-t[l],a[l]=r[l]-t[l];for(var u=0,c=0,p=0,f=0,h=0,d=0,l=0;l<n.length;++l){var y=i[l],m=a[l],v=o[l];u+=y*y,c+=y*m,p+=m*m,f+=v*y,h+=v*m,d+=v*v}var g,b=Math.abs(u*p-c*c),x=c*h-p*f,_=c*f-u*h;if(x+_<=b)if(x<0)_<0&&f<0?(_=0,-f>=u?(x=1,g=u+2*f+d):(x=-f/u,g=f*x+d)):(x=0,h>=0?(_=0,g=d):-h>=p?(_=1,g=p+2*h+d):(_=-h/p,g=h*_+d));else if(_<0)_=0,f>=0?(x=0,g=d):-f>=u?(x=1,g=u+2*f+d):(x=-f/u,g=f*x+d);else{var w=1/b;x*=w,_*=w,g=x*(u*x+c*_+2*f)+_*(c*x+p*_+2*h)+d}else{var T,M,S,E;x<0?(T=c+f,M=p+h,M>T?(S=M-T,E=u-2*c+p,S>=E?(x=1,_=0,g=u+2*f+d):(x=S/E,_=1-x,g=x*(u*x+c*_+2*f)+_*(c*x+p*_+2*h)+d)):(x=0,M<=0?(_=1,g=p+2*h+d):h>=0?(_=0,g=d):(_=-h/p,g=h*_+d))):_<0?(T=c+h,M=u+f,M>T?(S=M-T,E=u-2*c+p,S>=E?(_=1,x=0,g=p+2*h+d):(_=S/E,x=1-_,g=x*(u*x+c*_+2*f)+_*(c*x+p*_+2*h)+d)):(_=0,M<=0?(x=1,g=u+2*f+d):f>=0?(x=0,g=d):(x=-f/u,g=f*x+d))):(S=p+h-c-f,S<=0?(x=0,_=1,g=p+2*h+d):(E=u-2*c+p,S>=E?(x=1,_=0,g=u+2*f+d):(x=S/E,_=1-x,g=x*(u*x+c*_+2*f)+_*(c*x+p*_+2*h)+d)))}for(var k=1-x-_,l=0;l<n.length;++l)s[l]=k*t[l]+x*e[l]+_*r[l];return g<0?0:g}var o=new Float64Array(4),i=new Float64Array(4),a=new Float64Array(4);e.exports=n},{}],466:[function(t,e,r){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(t){if(p===setTimeout)return setTimeout(t,0);if((p===n||!p)&&setTimeout)return p=setTimeout,setTimeout(t,0);try{return p(t,0)}catch(e){try{return p.call(null,t,0)}catch(e){return p.call(this,t,0)}}}function a(t){if(f===clearTimeout)return clearTimeout(t);if((f===o||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function s(){m&&d&&(m=!1,d.length?y=d.concat(y):v=-1,y.length&&l())}function l(){if(!m){var t=i(s);m=!0;for(var e=y.length;e;){for(d=y,y=[];++v<e;)d&&d[v].run();v=-1,e=y.length}d=null,m=!1,a(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var p,f,h=e.exports={};!function(){try{p="function"==typeof setTimeout?setTimeout:n}catch(t){p=n}try{f="function"==typeof clearTimeout?clearTimeout:o}catch(t){f=o}}();var d,y=[],m=!1,v=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];y.push(new u(t,e)),1!==y.length||m||i(l)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],467:[function(r,n,o){(function(e){!function(r){function i(t){throw new RangeError(I[t])}function a(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function s(t,e){var r=t.split("@"),n="";r.length>1&&(n=r[0]+"@",t=r[1]),t=t.replace(O,".");var o=t.split("."),i=a(o,e).join(".");return n+i}function l(t){for(var e,r,n=[],o=0,i=t.length;o<i;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<i?(r=t.charCodeAt(o++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--)):n.push(e);return n}function u(t){return a(t,function(t){var e="";return t>65535&&(t-=65536,e+=j(t>>>10&1023|55296),t=56320|1023&t),e+=j(t)}).join("")}function c(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:T}function p(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function f(t,e,r){var n=0;for(t=r?N(t/k):t>>1,t+=N(t/e);t>R*S>>1;n+=T)t=N(t/R);return N(n+(R+1)*t/(t+E))}function h(t){var e,r,n,o,a,s,l,p,h,d,y=[],m=t.length,v=0,g=A,b=C;for(r=t.lastIndexOf(P),r<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&i("not-basic"),y.push(t.charCodeAt(n));for(o=r>0?r+1:0;o<m;){for(a=v,s=1,l=T;o>=m&&i("invalid-input"),p=c(t.charCodeAt(o++)),(p>=T||p>N((w-v)/s))&&i("overflow"),v+=p*s,h=l<=b?M:l>=b+S?S:l-b,!(p<h);l+=T)d=T-h,s>N(w/d)&&i("overflow"),s*=d;e=y.length+1,b=f(v-a,e,0==a),N(v/e)>w-g&&i("overflow"),g+=N(v/e),v%=e,y.splice(v++,0,g)}return u(y)}function d(t){var e,r,n,o,a,s,u,c,h,d,y,m,v,g,b,x=[];for(t=l(t),m=t.length,e=A,r=0,a=C,s=0;s<m;++s)y=t[s],y<128&&x.push(j(y));for(n=o=x.length,o&&x.push(P);n<m;){for(u=w,s=0;s<m;++s)y=t[s],y>=e&&y<u&&(u=y);for(v=n+1,u-e>N((w-r)/v)&&i("overflow"),r+=(u-e)*v,e=u,s=0;s<m;++s)if(y=t[s],y<e&&++r>w&&i("overflow"),y==e){for(c=r,h=T;d=h<=a?M:h>=a+S?S:h-a,!(c<d);h+=T)b=c-d,g=T-d,x.push(j(p(d+b%g,0))),c=N(b/g);x.push(j(p(c,0))),a=f(r,v,n==o),r=0,++n}++r,++e}return x.join("")}function y(t){return s(t,function(t){return L.test(t)?h(t.slice(4).toLowerCase()):t})}function m(t){return s(t,function(t){return D.test(t)?"xn--"+d(t):t})}var v="object"==typeof o&&o&&!o.nodeType&&o,g="object"==typeof n&&n&&!n.nodeType&&n,b="object"==typeof e&&e;b.global!==b&&b.window!==b&&b.self!==b||(r=b);var x,_,w=2147483647,T=36,M=1,S=26,E=38,k=700,C=72,A=128,P="-",L=/^xn--/,D=/[^\x20-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=T-M,N=Math.floor,j=String.fromCharCode;if(x={version:"1.4.1",ucs2:{decode:l,encode:u},decode:h,encode:d,toASCII:m,toUnicode:y},"function"==typeof t&&"object"==typeof t.amd&&t.amd)t("punycode",function(){return x});else if(v&&g)if(n.exports==v)g.exports=x;else for(_ in x)x.hasOwnProperty(_)&&(v[_]=x[_]);else r.punycode=x}(this)}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],468:[function(t,e,r){e.exports=t("gl-quat/slerp")},{"gl-quat/slerp":212}],469:[function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,r,i){e=e||"&",r=r||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var l=1e3;i&&"number"==typeof i.maxKeys&&(l=i.maxKeys);var u=t.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var p,f,h,d,y=t[c].replace(s,"%20"),m=y.indexOf(r);m>=0?(p=y.substr(0,m),f=y.substr(m+1)):(p=y,f=""),h=decodeURIComponent(p),d=decodeURIComponent(f),n(a,h)?o(a[h])?a[h].push(d):a[h]=[a[h],d]:a[h]=d}return a};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],470:[function(t,e,r){"use strict";function n(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var o=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,r,s){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?n(a(t),function(a){var s=encodeURIComponent(o(a))+r;return i(t[a])?n(t[a],function(t){return s+encodeURIComponent(o(t))}).join(e):s+encodeURIComponent(o(t[a]))}).join(e):s?encodeURIComponent(o(s))+r+encodeURIComponent(o(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},{}],471:[function(t,e,r){"use strict";r.decode=r.parse=t("./decode"),r.encode=r.stringify=t("./encode")},{"./decode":469,"./encode":470}],472:[function(t,e,r){"use strict";function n(t,e,r,a,s){for(r=r||0,a=a||t.length-1,s=s||i;a>r;){if(a-r>600){var l=a-r+1,u=e-r+1,c=Math.log(l),p=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*p*(l-p)/l)*(u-l/2<0?-1:1),h=Math.max(r,Math.floor(e-u*p/l+f)),d=Math.min(a,Math.floor(e+(l-u)*p/l+f));n(t,e,h,d,s)}var y=t[e],m=r,v=a;for(o(t,r,e),s(t[a],y)>0&&o(t,r,a);m<v;){for(o(t,m,v),m++,v--;s(t[m],y)<0;)m++;for(;s(t[v],y)>0;)v--}0===s(t[r],y)?o(t,r,v):(v++,o(t,v,a)),v<=e&&(r=v+1),e<=v&&(a=v-1)}}function o(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function i(t,e){return t<e?-1:t>e?1:0}e.exports=n},{}],473:[function(t,e,r){"use strict";function n(t,e){for(var r=t.length,n=new Array(r),i=0;i<r;++i)n[i]=o(t[i],e[i]);return n}var o=t("big-rat/add");e.exports=n},{"big-rat/add":40}],474:[function(t,e,r){"use strict";function n(t){for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=o(t[r]);return e}e.exports=n;var o=t("big-rat")},{"big-rat":43}],475:[function(t,e,r){"use strict";function n(t,e){for(var r=o(e),n=t.length,a=new Array(n),s=0;s<n;++s)a[s]=i(t[s],r);return a}var o=t("big-rat"),i=t("big-rat/mul");e.exports=n},{"big-rat":43,"big-rat/mul":52}],476:[function(t,e,r){"use strict";function n(t,e){for(var r=t.length,n=new Array(r),i=0;i<r;++i)n[i]=o(t[i],e[i]);return n}var o=t("big-rat/sub");e.exports=n},{"big-rat/sub":54}],477:[function(t,e,r){"use strict";function n(t){t.sort(i);for(var e=t.length,r=0,n=0;n<e;++n){var s=t[n],l=a(s);if(0!==l){if(r>0){var u=t[r-1];if(0===o(s,u)&&a(u)!==l){r-=1;continue}}t[r++]=s}}return t.length=r,t}var o=t("compare-cell"),i=t("compare-oriented-cell"),a=t("cell-orientation");e.exports=n},{"cell-orientation":75,"compare-cell":91,"compare-oriented-cell":92}],478:[function(e,r,n){!function(e,o){"object"==typeof n&&"undefined"!=typeof r?r.exports=o():"function"==typeof t&&t.amd?t(o):e.createREGL=o()}(this,function(){"use strict";function t(t){return"undefined"!=typeof btoa?btoa(t):"base64:"+t}function e(t){var e=new Error("(regl) "+t);throw console.error(e),e}function r(t,r){t||e(r)}function n(t){return t?": "+t:""}function o(t,r,o){t in r||e("unknown parameter ("+t+")"+n(o)+". possible values: "+Object.keys(r).join())}function i(t,r){$t(t)||e("invalid parameter type"+n(r)+". must be a typed array")}function a(t,r,o){typeof t!==r&&e("invalid parameter type"+n(o)+". expected "+r+", got "+typeof t)}function s(t,r){t>=0&&(0|t)===t||e("invalid parameter type, ("+t+")"+n(r)+". must be a nonnegative integer")}function l(t,r,o){r.indexOf(t)<0&&e("invalid value"+n(o)+". must be one of: "+r)}function u(t){Object.keys(t).forEach(function(t){te.indexOf(t)<0&&e('invalid regl constructor argument "'+t+'". must be one of '+te)})}function c(t,e){for(t+="";t.length<e;)t=" "+t;return t}function p(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function f(t,e){this.number=t,this.line=e,this.errors=[]}function h(t,e,r){this.file=t,this.line=e,this.message=r}function d(){var t=new Error,e=(t.stack||t).toString(),r=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(e);if(r)return r[1];var n=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(e);return n?n[1]:"unknown"}function y(){var t=new Error,e=(t.stack||t).toString(),r=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(e);if(r)return r[1];var n=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(e);return n?n[1]:"unknown"}function m(e,r){var n=e.split("\n"),o=1,i=0,a={unknown:new p,0:new p};a.unknown.name=a[0].name=r||d(),a.unknown.lines.push(new f(0,""));for(var s=0;s<n.length;++s){var l=n[s],u=/^\s*\#\s*(\w+)\s+(.+)\s*$/.exec(l);if(u)switch(u[1]){case"line":var c=/(\d+)(\s+\d+)?/.exec(u[2]);c&&(o=0|c[1],c[2]&&(i=0|c[2],i in a||(a[i]=new p)));break;case"define":var h=/SHADER_NAME(_B64)?\s+(.*)$/.exec(u[2]);h&&(a[i].name=h[1]?t(h[2]):h[2])}a[i].lines.push(new f(o++,l))}return Object.keys(a).forEach(function(t){var e=a[t];e.lines.forEach(function(t){e.index[t.number]=t})}),a}function v(t){var e=[];return t.split("\n").forEach(function(t){if(!(t.length<5)){var r=/^ERROR\:\s+(\d+)\:(\d+)\:\s*(.*)$/.exec(t);r?e.push(new h(0|r[1],0|r[2],r[3].trim())):t.length>0&&e.push(new h("unknown",0,t))}}),e}function g(t,e){e.forEach(function(e){var r=t[e.file];if(r){var n=r.index[e.line];if(n)return n.errors.push(e),void(r.hasErrors=!0)}t.unknown.hasErrors=!0,t.unknown.lines[0].errors.push(e)})}function b(t,e,n,o,i){if(!t.getShaderParameter(e,t.COMPILE_STATUS)){var a=t.getShaderInfoLog(e),s=o===t.FRAGMENT_SHADER?"fragment":"vertex";
E(n,"string",s+" shader source must be a string",i);var l=m(n,i),u=v(a);g(l,u),Object.keys(l).forEach(function(t){function e(t,e){n.push(t),o.push(e||"")}var r=l[t];if(r.hasErrors){var n=[""],o=[""];e("file number "+t+": "+r.name+"\n","color:red;text-decoration:underline;font-weight:bold"),r.lines.forEach(function(t){if(t.errors.length>0){e(c(t.number,4)+"|  ","background-color:yellow; font-weight:bold"),e(t.line+"\n","color:red; background-color:yellow; font-weight:bold");var r=0;t.errors.forEach(function(n){var o=n.message,i=/^\s*\'(.*)\'\s*\:\s*(.*)$/.exec(o);if(i){var a=i[1];switch(o=i[2],a){case"assign":a="="}r=Math.max(t.line.indexOf(a,r),0)}else r=0;e(c("| ",6)),e(c("^^^",r+3)+"\n","font-weight:bold"),e(c("| ",6)),e(o+"\n","font-weight:bold")}),e(c("| ",6)+"\n")}else e(c(t.number,4)+"|  "),e(t.line+"\n","color:red")}),"undefined"!=typeof document?(o[0]=n.join("%c"),console.log.apply(console,o)):console.log(n.join(""))}}),r.raise("Error compiling "+s+" shader, "+l[0].name)}}function x(t,e,n,o,i){if(!t.getProgramParameter(e,t.LINK_STATUS)){var a=t.getProgramInfoLog(e),s=m(n,i),l=m(o,i),u='Error linking program with vertex shader, "'+l[0].name+'", and fragment shader "'+s[0].name+'"';"undefined"!=typeof document?console.log("%c"+u+"\n%c"+a,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(u+"\n"+a),r.raise(u)}}function _(t){t._commandRef=d()}function w(t,e,r,n){function o(t){return t?n.id(t):0}function i(t,e){Object.keys(e).forEach(function(e){t[n.id(e)]=!0})}_(t),t._fragId=o(t.static.frag),t._vertId=o(t.static.vert);var a=t._uniformSet={};i(a,e.static),i(a,e.dynamic);var s=t._attributeSet={};i(s,r.static),i(s,r.dynamic),t._hasCount="count"in t.static||"count"in t.dynamic||"elements"in t.static||"elements"in t.dynamic}function T(t,r){var n=y();e(t+" in command "+(r||d())+("unknown"===n?"":" called from "+n))}function M(t,e,r){t||T(e,r||d())}function S(t,e,r,o){t in e||T("unknown parameter ("+t+")"+n(r)+". possible values: "+Object.keys(e).join(),o||d())}function E(t,e,r,o){typeof t!==e&&T("invalid parameter type"+n(r)+". expected "+e+", got "+typeof t,o||d())}function k(t){t()}function C(t,e,r){t.texture?l(t.texture._texture.internalformat,e,"unsupported texture format for attachment"):l(t.renderbuffer._renderbuffer.format,r,"unsupported renderbuffer format for attachment")}function A(t,e){return t===ye||t===de||t===me?2:t===ve?4:be[t]*e}function P(t){return!(t&t-1||!t)}function L(t,e,n){var o,i=e.width,a=e.height,s=e.channels;r(i>0&&i<=n.maxTextureSize&&a>0&&a<=n.maxTextureSize,"invalid texture shape"),t.wrapS===ee&&t.wrapT===ee||r(P(i)&&P(a),"incompatible wrap mode for texture, both width and height must be power of 2"),1===e.mipmask?1!==i&&1!==a&&r(t.minFilter!==ne&&t.minFilter!==ie&&t.minFilter!==oe&&t.minFilter!==ae,"min filter requires mipmap"):(r(P(i)&&P(a),"texture must be a square power of 2 to support mipmapping"),r(e.mipmask===(i<<1)-1,"missing or incomplete mipmap data")),e.type===he&&(n.extensions.indexOf("oes_texture_float_linear")<0&&r(t.minFilter===re&&t.magFilter===re,"filter not supported, must enable oes_texture_float_linear"),r(!t.genMipmaps,"mipmap generation not supported with float textures"));var l=e.images;for(o=0;o<16;++o)if(l[o]){var u=i>>o,c=a>>o;r(e.mipmask&1<<o,"missing mipmap data");var p=l[o];if(r(p.width===u&&p.height===c,"invalid shape for mip images"),r(p.format===e.format&&p.internalformat===e.internalformat&&p.type===e.type,"incompatible type for mip image"),p.compressed);else if(p.data){var f=Math.ceil(A(p.type,s)*u/p.unpackAlignment)*p.unpackAlignment;r(p.data.byteLength===f*c,"invalid data for image, buffer size is inconsistent with image format")}else p.element||p.copy}else t.genMipmaps||r(0===(e.mipmask&1<<o),"extra mipmap data");e.compressed&&r(!t.genMipmaps,"mipmap generation for compressed images not supported")}function D(t,e,n,o){var i=t.width,a=t.height,s=t.channels;r(i>0&&i<=o.maxTextureSize&&a>0&&a<=o.maxTextureSize,"invalid texture shape"),r(i===a,"cube map must be square"),r(e.wrapS===ee&&e.wrapT===ee,"wrap mode not supported by cube map");for(var l=0;l<n.length;++l){var u=n[l];r(u.width===i&&u.height===a,"inconsistent cube map face shape"),e.genMipmaps&&(r(!u.compressed,"can not generate mipmap for compressed textures"),r(1===u.mipmask,"can not specify mipmaps and generate mipmaps"));for(var c=u.images,p=0;p<16;++p){var f=c[p];if(f){var h=i>>p,d=a>>p;r(u.mipmask&1<<p,"missing mipmap data"),r(f.width===h&&f.height===d,"invalid shape for mip images"),r(f.format===t.format&&f.internalformat===t.internalformat&&f.type===t.type,"incompatible type for mip image"),f.compressed||(f.data?r(f.data.byteLength===h*d*Math.max(A(f.type,s),f.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):f.element||f.copy)}}}}function O(t,e){this.id=_e++,this.type=t,this.data=e}function I(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function R(t){if(0===t.length)return[];var e=t.charAt(0),r=t.charAt(t.length-1);if(t.length>1&&e===r&&('"'===e||"'"===e))return['"'+I(t.substr(1,t.length-2))+'"'];var n=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(t);if(n)return R(t.substr(0,n.index)).concat(R(n[1])).concat(R(t.substr(n.index+n[0].length)));var o=t.split(".");if(1===o.length)return['"'+I(t)+'"'];for(var i=[],a=0;a<o.length;++a)i=i.concat(R(o[a]));return i}function N(t){return"["+R(t).join("][")+"]"}function j(t,e){return new O(t,N(e+""))}function F(t){return"function"==typeof t&&!t._reglType||t instanceof O}function z(t,e){return"function"==typeof t?new O(we,t):t}function B(){var t={"":0},e=[""];return{id:function(r){var n=t[r];return n?n:(n=t[r]=e.length,e.push(r),n)},str:function(t){return e[t]}}}function U(t,e,r){function n(){var e=window.innerWidth,n=window.innerHeight;if(t!==document.body){var o=t.getBoundingClientRect();e=o.right-o.left,n=o.bottom-o.top}i.width=r*e,i.height=r*n,Qt(i.style,{width:e+"px",height:n+"px"})}function o(){window.removeEventListener("resize",n),t.removeChild(i)}var i=document.createElement("canvas");return Qt(i.style,{border:0,margin:0,padding:0,top:0,left:0}),t.appendChild(i),t===document.body&&(i.style.position="absolute",Qt(t.style,{margin:0,padding:0})),window.addEventListener("resize",n,!1),n(),{canvas:i,onDestroy:o}}function V(t,e){function r(r){try{return t.getContext(r,e)}catch(t){return null}}return r("webgl")||r("experimental-webgl")||r("webgl-experimental")}function H(t){return"string"==typeof t.nodeName&&"function"==typeof t.appendChild&&"function"==typeof t.getBoundingClientRect}function W(t){return"function"==typeof t.drawArrays||"function"==typeof t.drawElements}function q(t){return"string"==typeof t?t.split():(xe(Array.isArray(t),"invalid extension array"),t)}function G(t){return"string"==typeof t?(xe("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(t)):t}function Y(t){var e,r,n,o,i=t||{},a={},s=[],l=[],u="undefined"==typeof window?1:window.devicePixelRatio,c=!1,p=function(t){t&&xe.raise(t)},f=function(){};if("string"==typeof i?(xe("undefined"!=typeof document,"selector queries only supported in DOM enviroments"),e=document.querySelector(i),xe(e,"invalid query string for element")):"object"==typeof i?H(i)?e=i:W(i)?(o=i,n=o.canvas):(xe.constructor(i),"gl"in i?o=i.gl:"canvas"in i?n=G(i.canvas):"container"in i&&(r=G(i.container)),"attributes"in i&&(a=i.attributes,xe.type(a,"object","invalid context attributes")),"extensions"in i&&(s=q(i.extensions)),"optionalExtensions"in i&&(l=q(i.optionalExtensions)),"onDone"in i&&(xe.type(i.onDone,"function","invalid or missing onDone callback"),p=i.onDone),"profile"in i&&(c=!!i.profile),"pixelRatio"in i&&(u=+i.pixelRatio,xe(u>0,"invalid pixel ratio"))):xe.raise("invalid arguments to regl"),e&&("canvas"===e.nodeName.toLowerCase()?n=e:r=e),!o){if(!n){xe("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments");var h=U(r||document.body,p,u);if(!h)return null;n=h.canvas,f=h.onDestroy}o=V(n,a)}return o?{gl:o,canvas:n,container:r,extensions:s,optionalExtensions:l,pixelRatio:u,profile:c,onDone:p,onDestroy:f}:(f(),p("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function X(t,e){function r(e){xe.type(e,"string","extension name must be string");var r,o=e.toLowerCase();try{r=n[o]=t.getExtension(o)}catch(t){}return!!r}for(var n={},o=0;o<e.extensions.length;++o){var i=e.extensions[o];if(!r(i))return e.onDestroy(),e.onDone('"'+i+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return e.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach(function(t){if(!r(t))throw new Error("(regl): error restoring extension "+t)})}}}function K(t){return!!t&&"object"==typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"==typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||$t(t.data))}function Z(t,e){for(var r=Array(t),n=0;n<t;++n)r[n]=e(n);return r}function J(t){for(var e=16;e<=1<<28;e*=16)if(t<=e)return e;return 0}function $(t){var e,r;return e=(t>65535)<<4,t>>>=e,r=(t>255)<<3,t>>>=r,e|=r,r=(t>15)<<2,t>>>=r,e|=r,r=(t>3)<<1,t>>>=r,e|=r,e|t>>1}function Q(t){var e=J(t),r=lr[$(e)>>2];return r.length>0?r.pop():new ArrayBuffer(e)}function tt(t){lr[$(t.byteLength)>>2].push(t)}function et(t,e){var r=null;switch(t){case er:r=new Int8Array(Q(e),0,e);break;case rr:r=new Uint8Array(Q(e),0,e);break;case nr:r=new Int16Array(Q(2*e),0,e);break;case or:r=new Uint16Array(Q(2*e),0,e);break;case ir:r=new Int32Array(Q(4*e),0,e);break;case ar:r=new Uint32Array(Q(4*e),0,e);break;case sr:r=new Float32Array(Q(4*e),0,e);break;default:return null}return r.length!==e?r.subarray(0,e):r}function rt(t){tt(t.buffer)}function nt(t,e,r){for(var n=0;n<e;++n)r[n]=t[n]}function ot(t,e,r,n){for(var o=0,i=0;i<e;++i)for(var a=t[i],s=0;s<r;++s)n[o++]=a[s]}function it(t,e,r,n,o,i){for(var a=i,s=0;s<e;++s)for(var l=t[s],u=0;u<r;++u)for(var c=l[u],p=0;p<n;++p)o[a++]=c[p]}function at(t,e,r,n,o){for(var i=1,a=r+1;a<e.length;++a)i*=e[a];var s=e[r];if(e.length-r===4){var l=e[r+1],u=e[r+2],c=e[r+3];for(a=0;a<s;++a)it(t[a],l,u,c,n,o),o+=i}else for(a=0;a<s;++a)at(t[a],e,r+1,n,o),o+=i}function st(t,e,r,n){var o=1;if(e.length)for(var i=0;i<e.length;++i)o*=e[i];else o=0;var a=n||ur.allocType(r,o);switch(e.length){case 0:break;case 1:nt(t,e[0],a);break;case 2:ot(t,e[0],e[1],a);break;case 3:it(t,e[0],e[1],e[2],a,0);break;default:at(t,e,0,a,0)}return a}function lt(t){for(var e=[],r=t;r.length;r=r[0])e.push(r.length);return e}function ut(t){return 0|Jt[Object.prototype.toString.call(t)]}function ct(t,e){for(var r=0;r<e.length;++r)t[r]=e[r]}function pt(t,e,r,n,o,i,a){for(var s=0,l=0;l<r;++l)for(var u=0;u<n;++u)t[s++]=e[o*l+i*u+a]}function ft(t,e,r){function n(e){this.id=p++,this.buffer=t.createBuffer(),this.type=e,this.usage=Sr,this.byteLength=0,this.dimension=1,this.dtype=kr,this.persistentData=null,r.profile&&(this.stats={size:0})}function o(t,e){var r=h.pop();return r||(r=new n(t)),r.bind(),s(r,e,Er,0,1,!1),r}function i(t){h.push(t)}function a(e,r,n){e.byteLength=r.byteLength,t.bufferData(e.type,r,n)}function s(t,e,r,n,o,i){var s;if(t.usage=r,Array.isArray(e)){if(t.dtype=n||Cr,e.length>0){var l;if(Array.isArray(e[0])){s=Mr(e);for(var u=1,c=1;c<s.length;++c)u*=s[c];t.dimension=u,l=Tr(e,s,t.dtype),a(t,l,r),i?t.persistentData=l:ur.freeType(l)}else if("number"==typeof e[0]){t.dimension=o;var p=ur.allocType(t.dtype,e.length);ct(p,e),a(t,p,r),i?t.persistentData=p:ur.freeType(p)}else $t(e[0])?(t.dimension=e[0].length,t.dtype=n||ut(e[0])||Cr,l=Tr(e,[e.length,e[0].length],t.dtype),a(t,l,r),i?t.persistentData=l:ur.freeType(l)):xe.raise("invalid buffer data")}}else if($t(e))t.dtype=n||ut(e),t.dimension=o,a(t,e,r),i&&(t.persistentData=new Uint8Array(new Uint8Array(e.buffer)));else if(K(e)){s=e.shape;var f=e.stride,h=e.offset,d=0,y=0,m=0,v=0;1===s.length?(d=s[0],y=1,m=f[0],v=0):2===s.length?(d=s[0],y=s[1],m=f[0],v=f[1]):xe.raise("invalid shape"),t.dtype=n||ut(e.data)||Cr,t.dimension=y;var g=ur.allocType(t.dtype,d*y);pt(g,e.data,d,y,m,v,h),a(t,g,r),i?t.persistentData=g:ur.freeType(g)}else xe.raise("invalid buffer data")}function l(r){e.bufferCount--;var n=r.buffer;xe(n,"buffer must not be deleted already"),t.deleteBuffer(n),r.buffer=null,delete f[r.id]}function u(o,i,a,u){function c(e){var n=Sr,o=null,i=0,a=0,l=1;return Array.isArray(e)||$t(e)||K(e)?o=e:"number"==typeof e?i=0|e:e&&(xe.type(e,"object","buffer arguments must be an object, a number or an array"),"data"in e&&(xe(null===o||Array.isArray(o)||$t(o)||K(o),"invalid data for buffer"),o=e.data),"usage"in e&&(xe.parameter(e.usage,wr,"invalid buffer usage"),n=wr[e.usage]),"type"in e&&(xe.parameter(e.type,br,"invalid buffer type"),a=br[e.type]),"dimension"in e&&(xe.type(e.dimension,"number","invalid dimension"),l=0|e.dimension),"length"in e&&(xe.nni(i,"buffer length must be a nonnegative integer"),i=0|e.length)),d.bind(),o?s(d,o,n,a,l,u):(t.bufferData(d.type,i,n),d.dtype=a||kr,d.usage=n,d.dimension=l,d.byteLength=i),r.profile&&(d.stats.size=d.byteLength*Ar[d.dtype]),c}function p(e,r){xe(r+e.byteLength<=d.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+e.byteLength+" starting from offset "+r+" to a buffer of size "+d.byteLength),t.bufferSubData(d.type,r,e)}function h(t,e){var r,n=0|(e||0);if(d.bind(),Array.isArray(t)){if(t.length>0)if("number"==typeof t[0]){var o=ur.allocType(d.dtype,t.length);ct(o,t),p(o,n),ur.freeType(o)}else if(Array.isArray(t[0])||$t(t[0])){r=Mr(t);var i=Tr(t,r,d.dtype);p(i,n),ur.freeType(i)}else xe.raise("invalid buffer data")}else if($t(t))p(t,n);else if(K(t)){r=t.shape;var a=t.stride,s=0,l=0,u=0,f=0;1===r.length?(s=r[0],l=1,u=a[0],f=0):2===r.length?(s=r[0],l=r[1],u=a[0],f=a[1]):xe.raise("invalid shape");var h=Array.isArray(t.data)?d.dtype:ut(t.data),y=ur.allocType(h,s*l);pt(y,t.data,s,l,u,f,t.offset),p(y,n),ur.freeType(y)}else xe.raise("invalid data for buffer subdata");return c}e.bufferCount++;var d=new n(i);return f[d.id]=d,a||c(o),c._reglType="buffer",c._buffer=d,c.subdata=h,r.profile&&(c.stats=d.stats),c.destroy=function(){l(d)},c}function c(){tr(f).forEach(function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)})}var p=0,f={};n.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},n.prototype.destroy=function(){l(this)};var h=[];return r.profile&&(e.getTotalBufferSize=function(){var t=0;return Object.keys(f).forEach(function(e){t+=f[e].stats.size}),t}),{create:u,createStream:o,destroyStream:i,clear:function(){tr(f).forEach(l),h.forEach(l)},getBuffer:function(t){return t&&t._buffer instanceof n?t._buffer:null},restore:c,_initBuffer:s}}function ht(t,e,r,n){function o(t){this.id=p++,c[this.id]=this,this.buffer=t,this.primType=zr,this.vertCount=0,this.type=0}function i(t){var e=h.pop();return e||(e=new o(r.create(null,Gr,!0,!1)._buffer)),s(e,t,Yr,-1,-1,0,0),e}function a(t){h.push(t)}function s(n,o,i,a,s,l,u){if(n.buffer.bind(),o){var c=u;u||$t(o)&&(!K(o)||$t(o.data))||(c=e.oes_element_index_uint?qr:Hr),r._initBuffer(n.buffer,o,i,c,3)}else t.bufferData(Gr,l,i),n.buffer.dtype=p||Ur,n.buffer.usage=i,n.buffer.dimension=3,n.buffer.byteLength=l;var p=u;if(!u){switch(n.buffer.dtype){case Ur:case Br:p=Ur;break;case Hr:case Vr:p=Hr;break;case qr:case Wr:p=qr;break;default:xe.raise("unsupported type for element array")}n.buffer.dtype=p}n.type=p,xe(p!==qr||!!e.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var f=s;f<0&&(f=n.buffer.byteLength,p===Hr?f>>=1:p===qr&&(f>>=2)),n.vertCount=f;var h=a;if(a<0){h=zr;var d=n.buffer.dimension;1===d&&(h=jr),2===d&&(h=Fr),3===d&&(h=zr)}n.primType=h}function l(t){n.elementsCount--,xe(null!==t.buffer,"must not double destroy elements"),delete c[t.id],t.buffer.destroy(),t.buffer=null}function u(t,e){function i(t){if(t)if("number"==typeof t)a(t),u.primType=zr,u.vertCount=0|t,u.type=Ur;else{var e=null,r=Xr,n=-1,o=-1,l=0,c=0;Array.isArray(t)||$t(t)||K(t)?e=t:(xe.type(t,"object","invalid arguments for elements"),"data"in t&&(e=t.data,xe(Array.isArray(e)||$t(e)||K(e),"invalid data for element buffer")),"usage"in t&&(xe.parameter(t.usage,wr,"invalid element buffer usage"),r=wr[t.usage]),"primitive"in t&&(xe.parameter(t.primitive,Nr,"invalid element buffer primitive"),n=Nr[t.primitive]),"count"in t&&(xe("number"==typeof t.count&&t.count>=0,"invalid vertex count for elements"),o=0|t.count),"type"in t&&(xe.parameter(t.type,f,"invalid buffer type"),c=f[t.type]),"length"in t?l=0|t.length:(l=o,c===Hr||c===Vr?l*=2:c!==qr&&c!==Wr||(l*=4))),s(u,e,r,n,o,l,c)}else a(),u.primType=zr,u.vertCount=0,u.type=Ur;return i}var a=r.create(null,Gr,!0),u=new o(a._buffer);return n.elementsCount++,i(t),i._reglType="elements",i._elements=u,i.subdata=function(t,e){return a.subdata(t,e),i},i.destroy=function(){l(u)},i}var c={},p=0,f={uint8:Ur,uint16:Hr};e.oes_element_index_uint&&(f.uint32=qr),o.prototype.bind=function(){this.buffer.bind()};var h=[];return{create:u,createStream:i,destroyStream:a,getElements:function(t){return"function"==typeof t&&t._elements instanceof o?t._elements:null},clear:function(){tr(c).forEach(l)}}}function dt(t){for(var e=ur.allocType(Jr,t.length),r=0;r<t.length;++r)if(isNaN(t[r]))e[r]=65535;else if(t[r]===1/0)e[r]=31744;else if(t[r]===-(1/0))e[r]=64512;else{Kr[0]=t[r];var n=Zr[0],o=n>>>31<<15,i=(n<<1>>>24)-127,a=n>>13&1023;if(i<-24)e[r]=o;else if(i<-14){var s=-14-i;e[r]=o+(a+1024>>s)}else i>15?e[r]=o+31744:e[r]=o+(i+15<<10)+a}return e}function yt(t){return Array.isArray(t)||$t(t)}function mt(t){return"[object "+t+"]"}function vt(t){return Array.isArray(t)&&(0===t.length||"number"==typeof t[0])}function gt(t){if(!Array.isArray(t))return!1;var e=t.length;return!(0===e||!yt(t[0]))}function bt(t){return Object.prototype.toString.call(t)}function xt(t){return bt(t)===uo}function _t(t){return bt(t)===co}function wt(t){return bt(t)===po}function Tt(t){return bt(t)===fo}function Mt(t){if(!t)return!1;var e=bt(t);return ho.indexOf(e)>=0||(vt(t)||gt(t)||K(t))}function St(t){return 0|Jt[Object.prototype.toString.call(t)]}function Et(t,e){var r=e.length;switch(t.type){case Dn:case On:case In:case Rn:var n=ur.allocType(t.type,r);n.set(e),t.data=n;break;case bn:t.data=dt(e);break;default:xe.raise("unsupported texture type, must specify a typed array")}}function kt(t,e){return ur.allocType(t.type===bn?Rn:t.type,e)}function Ct(t,e){t.type===bn?(t.data=dt(e),ur.freeType(e)):t.data=e}function At(t,e,r,n,o,i){for(var a=t.width,s=t.height,l=t.channels,u=a*s*l,c=kt(t,u),p=0,f=0;f<s;++f)for(var h=0;h<a;++h)for(var d=0;d<l;++d)c[p++]=e[r*h+n*f+o*d+i];Ct(t,c)}function Pt(t,e,r,n,o,i){var a;if(a="undefined"!=typeof mo[t]?mo[t]:lo[t]*yo[e],i&&(a*=6),o){for(var s=0,l=r;l>=1;)s+=a*l*l,l/=2;return s}return a*r*n}function Lt(t,e,r,n,o,i,a){function s(){this.internalformat=rn,this.format=rn,this.type=Dn,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=0,this.width=0,this.height=0,this.channels=0}function l(t,e){t.internalformat=e.internalformat,t.format=e.format,t.type=e.type,t.compressed=e.compressed,t.premultiplyAlpha=e.premultiplyAlpha,t.flipY=e.flipY,t.unpackAlignment=e.unpackAlignment,t.colorSpace=e.colorSpace,t.width=e.width,t.height=e.height,t.channels=e.channels}function u(t,n){if("object"==typeof n&&n){if("premultiplyAlpha"in n&&(xe.type(n.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),t.premultiplyAlpha=n.premultiplyAlpha),"flipY"in n&&(xe.type(n.flipY,"boolean","invalid texture flip"),t.flipY=n.flipY),"alignment"in n&&(xe.oneOf(n.alignment,[1,2,4,8],"invalid texture unpack alignment"),t.unpackAlignment=n.alignment),"colorSpace"in n&&(xe.parameter(n.colorSpace,F,"invalid colorSpace"),t.colorSpace=F[n.colorSpace]),"type"in n){var o=n.type;xe(e.oes_texture_float||!("float"===o||"float32"===o),"you must enable the OES_texture_float extension in order to use floating point textures."),xe(e.oes_texture_half_float||!("half float"===o||"float16"===o),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),xe(e.webgl_depth_texture||!("uint16"===o||"uint32"===o||"depth stencil"===o),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),xe.parameter(o,z,"invalid texture type"),t.type=z[o]}var i=t.width,a=t.height,s=t.channels,l=!1;"shape"in n?(xe(Array.isArray(n.shape)&&n.shape.length>=2,"shape must be an array"),i=n.shape[0],a=n.shape[1],3===n.shape.length&&(s=n.shape[2],xe(s>0&&s<=4,"invalid number of channels"),l=!0),xe(i>=0&&i<=r.maxTextureSize,"invalid width"),xe(a>=0&&a<=r.maxTextureSize,"invalid height")):("radius"in n&&(i=a=n.radius,xe(i>=0&&i<=r.maxTextureSize,"invalid radius")),"width"in n&&(i=n.width,xe(i>=0&&i<=r.maxTextureSize,"invalid width")),"height"in n&&(a=n.height,xe(a>=0&&a<=r.maxTextureSize,"invalid height")),"channels"in n&&(s=n.channels,xe(s>0&&s<=4,"invalid number of channels"),l=!0)),t.width=0|i,t.height=0|a,t.channels=0|s;var u=!1;if("format"in n){var c=n.format;xe(e.webgl_depth_texture||!("depth"===c||"depth stencil"===c),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),xe.parameter(c,B,"invalid texture format");var p=t.internalformat=B[c];t.format=Z[p],c in z&&("type"in n||(t.type=z[c])),c in U&&(t.compressed=!0),u=!0}!l&&u?t.channels=lo[t.format]:l&&!u?t.channels!==so[t.format]&&(t.format=t.internalformat=so[t.channels]):u&&l&&xe(t.channels===lo[t.format],"number of channels inconsistent with specified format")}}function c(e){t.pixelStorei(eo,e.flipY),t.pixelStorei(ro,e.premultiplyAlpha),t.pixelStorei(no,e.colorSpace),t.pixelStorei(to,e.unpackAlignment)}function p(){s.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function f(t,e){var n=null;if(Mt(e)?n=e:e&&(xe.type(e,"object","invalid pixel data type"),u(t,e),"x"in e&&(t.xOffset=0|e.x),"y"in e&&(t.yOffset=0|e.y),Mt(e.data)&&(n=e.data)),xe(!t.compressed||n instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),e.copy){xe(!n,"can not specify copy and data field for the same texture");var i=o.viewportWidth,a=o.viewportHeight;t.width=t.width||i-t.xOffset,t.height=t.height||a-t.yOffset,t.needsCopy=!0,xe(t.xOffset>=0&&t.xOffset<i&&t.yOffset>=0&&t.yOffset<a&&t.width>0&&t.width<=i&&t.height>0&&t.height<=a,"copy texture read out of bounds")}else if(n){if($t(n))t.channels=t.channels||4,t.data=n,"type"in e||t.type!==Dn||(t.type=St(n));else if(vt(n))t.channels=t.channels||4,Et(t,n),t.alignment=1,t.needsFree=!0;else if(K(n)){var s=n.data;Array.isArray(s)||t.type!==Dn||(t.type=St(s));var l,c,p,f,h,d,y=n.shape,m=n.stride;3===y.length?(p=y[2],d=m[2]):(xe(2===y.length,"invalid ndarray pixel data, must be 2 or 3D"),p=1,d=1),l=y[0],c=y[1],f=m[0],h=m[1],t.alignment=1,t.width=l,t.height=c,t.channels=p,t.format=t.internalformat=so[p],t.needsFree=!0,At(t,s,f,h,d,n.offset)}else if(xt(n)||_t(n))xt(n)?t.element=n:t.element=n.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(wt(n))t.element=n,t.width=n.naturalWidth,t.height=n.naturalHeight,t.channels=4;else if(Tt(n))t.element=n,t.width=n.videoWidth,t.height=n.videoHeight,t.channels=4;else if(gt(n)){var v=t.width||n[0].length,g=t.height||n.length,b=t.channels;b=yt(n[0][0])?b||n[0][0].length:b||1;for(var x=cr.shape(n),_=1,w=0;w<x.length;++w)_*=x[w];var T=kt(t,_);cr.flatten(n,x,"",T),Ct(t,T),t.alignment=1,t.width=v,t.height=g,t.channels=b,t.format=t.internalformat=so[b],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4;t.type===Rn?xe(r.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):t.type===bn&&xe(r.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function h(e,r,o){var i=e.element,a=e.data,s=e.internalformat,l=e.format,u=e.type,p=e.width,f=e.height;c(e),i?t.texImage2D(r,o,l,l,u,i):e.compressed?t.compressedTexImage2D(r,o,s,p,f,0,a):e.needsCopy?(n(),t.copyTexImage2D(r,o,l,e.xOffset,e.yOffset,p,f,0)):t.texImage2D(r,o,l,p,f,0,l,u,a)}function d(e,r,o,i,a){var s=e.element,l=e.data,u=e.internalformat,p=e.format,f=e.type,h=e.width,d=e.height;c(e),s?t.texSubImage2D(r,a,o,i,p,f,s):e.compressed?t.compressedTexSubImage2D(r,a,o,i,u,h,d,l):e.needsCopy?(n(),t.copyTexSubImage2D(r,a,o,i,e.xOffset,e.yOffset,h,d)):t.texSubImage2D(r,a,o,i,h,d,p,f,l)}function y(){return J.pop()||new p}function m(t){t.needsFree&&ur.freeType(t.data),p.call(t),J.push(t)}function v(){s.call(this),this.genMipmaps=!1,this.mipmapHint=Zn,this.mipmask=0,this.images=Array(16)}function g(t,e,r){var n=t.images[0]=y();t.mipmask=1,n.width=t.width=e,n.height=t.height=r,n.channels=t.channels=4}function b(t,e){var r=null;if(Mt(e))r=t.images[0]=y(),l(r,t),f(r,e),t.mipmask=1;else if(u(t,e),Array.isArray(e.mipmap))for(var n=e.mipmap,o=0;o<n.length;++o)r=t.images[o]=y(),l(r,t),r.width>>=o,r.height>>=o,f(r,n[o]),t.mipmask|=1<<o;else r=t.images[0]=y(),l(r,t),f(r,e),t.mipmask=1;l(t,t.images[0]),(t.compressed&&t.internalformat===xn||t.internalformat===_n||t.internalformat===wn||t.internalformat===Tn)&&xe(t.width%4===0&&t.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function x(t,e){for(var r=t.images,n=0;n<r.length;++n){if(!r[n])return;h(r[n],e,n)}}function _(){var t=$.pop()||new v;s.call(t),t.mipmask=0;for(var e=0;e<16;++e)t.images[e]=null;return t}function w(t){for(var e=t.images,r=0;r<e.length;++r)e[r]&&m(e[r]),e[r]=null;$.push(t)}function T(){this.minFilter=Hn,this.magFilter=Hn,this.wrapS=zn,this.wrapT=zn,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Zn}function M(t,e){if("min"in e){var n=e.min;xe.parameter(n,j),t.minFilter=j[n],ao.indexOf(t.minFilter)>=0&&(t.genMipmaps=!0)}if("mag"in e){var o=e.mag;xe.parameter(o,N),t.magFilter=N[o]}var i=t.wrapS,a=t.wrapT;if("wrap"in e){var s=e.wrap;"string"==typeof s?(xe.parameter(s,R),i=a=R[s]):Array.isArray(s)&&(xe.parameter(s[0],R),xe.parameter(s[1],R),i=R[s[0]],a=R[s[1]])}else{if("wrapS"in e){var l=e.wrapS;xe.parameter(l,R),i=R[l]}if("wrapT"in e){var u=e.wrapT;xe.parameter(u,R),a=R[u]}}if(t.wrapS=i,t.wrapT=a,"anisotropic"in e){var c=e.anisotropic;xe("number"==typeof c&&c>=1&&c<=r.maxAnisotropic,"aniso samples must be between 1 and "),t.anisotropic=e.anisotropic}if("mipmap"in e){var p=!1;switch(typeof e.mipmap){case"string":xe.parameter(e.mipmap,I,"invalid mipmap hint"),t.mipmapHint=I[e.mipmap],t.genMipmaps=!0,p=!0;break;case"boolean":p=t.genMipmaps=e.mipmap;break;case"object":xe(Array.isArray(e.mipmap),"invalid mipmap type"),t.genMipmaps=!1,p=!0;break;default:xe.raise("invalid mipmap type")}!p||"min"in e||(t.minFilter=qn)}}function S(r,n){t.texParameteri(n,Vn,r.minFilter),t.texParameteri(n,Un,r.magFilter),t.texParameteri(n,Nn,r.wrapS),t.texParameteri(n,jn,r.wrapT),e.ext_texture_filter_anisotropic&&t.texParameteri(n,Qn,r.anisotropic),r.genMipmaps&&(t.hint(Kn,r.mipmapHint),t.generateMipmap(n))}function E(e){s.call(this),this.mipmask=0,this.internalformat=rn,this.id=Q++,this.refCount=1,this.target=e,this.texture=t.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new T,a.profile&&(this.stats={size:0})}function k(e){t.activeTexture(io),t.bindTexture(e.target,e.texture)}function C(){var e=rt[0];e?t.bindTexture(e.target,e.texture):t.bindTexture(Qr,null)}function A(e){var r=e.texture;xe(r,"must not double destroy texture");var n=e.unit,o=e.target;n>=0&&(t.activeTexture(io+n),t.bindTexture(o,null),rt[n]=null),t.deleteTexture(r),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete tt[e.id],i.textureCount--}function P(e,n){function o(t,e){var n=c.texInfo;T.call(n);var i=_();return"number"==typeof t?"number"==typeof e?g(i,0|t,0|e):g(i,0|t,0|t):t?(xe.type(t,"object","invalid arguments to regl.texture"),M(n,t),b(i,t)):g(i,1,1),n.genMipmaps&&(i.mipmask=(i.width<<1)-1),c.mipmask=i.mipmask,l(c,i),xe.texture2D(n,i,r),c.internalformat=i.internalformat,o.width=i.width,o.height=i.height,k(c),x(i,Qr),S(n,Qr),C(),w(i),a.profile&&(c.stats.size=Pt(c.internalformat,c.type,i.width,i.height,n.genMipmaps,!1)),o.format=W[c.internalformat],o.type=q[c.type],o.mag=G[n.magFilter],o.min=Y[n.minFilter],o.wrapS=X[n.wrapS],o.wrapT=X[n.wrapT],o}function s(t,e,r,n){xe(!!t,"must specify image data");var i=0|e,a=0|r,s=0|n,u=y();return l(u,c),u.width=0,u.height=0,f(u,t),u.width=u.width||(c.width>>s)-i,u.height=u.height||(c.height>>s)-a,xe(c.type===u.type&&c.format===u.format&&c.internalformat===u.internalformat,"incompatible format for texture.subimage"),xe(i>=0&&a>=0&&i+u.width<=c.width&&a+u.height<=c.height,"texture.subimage write out of bounds"),xe(c.mipmask&1<<s,"missing mipmap data"),xe(u.data||u.element||u.needsCopy,"missing image data"),k(c),d(u,Qr,i,a,s),C(),m(u),o}function u(e,r){var n=0|e,i=0|r||n;if(n===c.width&&i===c.height)return o;o.width=c.width=n,o.height=c.height=i,k(c);for(var s=0;c.mipmask>>s;++s)t.texImage2D(Qr,s,c.format,n>>s,i>>s,0,c.format,c.type,null);return C(),a.profile&&(c.stats.size=Pt(c.internalformat,c.type,n,i,!1,!1)),o}var c=new E(Qr);return tt[c.id]=c,i.textureCount++,o(e,n),o.subimage=s,o.resize=u,o._reglType="texture2d",o._texture=c,a.profile&&(o.stats=c.stats),o.destroy=function(){c.decRef()},o}function L(e,n,o,s,c,p){function h(t,e,n,o,i,s){var c,p=P.texInfo;for(T.call(p),c=0;c<6;++c)L[c]=_();if("number"!=typeof t&&t)if("object"==typeof t)if(e)b(L[0],t),b(L[1],e),b(L[2],n),b(L[3],o),b(L[4],i),b(L[5],s);else if(M(p,t),u(P,t),"faces"in t){var f=t.faces;for(xe(Array.isArray(f)&&6===f.length,"cube faces must be a length 6 array"),c=0;c<6;++c)xe("object"==typeof f[c]&&!!f[c],"invalid input for cube map face"),l(L[c],P),b(L[c],f[c])}else for(c=0;c<6;++c)b(L[c],t);else xe.raise("invalid arguments to cube map");else{var d=0|t||1;for(c=0;c<6;++c)g(L[c],d,d)}for(l(P,L[0]),p.genMipmaps?P.mipmask=(L[0].width<<1)-1:P.mipmask=L[0].mipmask,xe.textureCube(P,p,L,r),P.internalformat=L[0].internalformat,h.width=L[0].width,h.height=L[0].height,k(P),c=0;c<6;++c)x(L[c],en+c);for(S(p,tn),C(),a.profile&&(P.stats.size=Pt(P.internalformat,P.type,h.width,h.height,p.genMipmaps,!0)),h.format=W[P.internalformat],h.type=q[P.type],h.mag=G[p.magFilter],h.min=Y[p.minFilter],h.wrapS=X[p.wrapS],h.wrapT=X[p.wrapT],c=0;c<6;++c)w(L[c]);return h}function v(t,e,r,n,o){xe(!!e,"must specify image data"),xe("number"==typeof t&&t===(0|t)&&t>=0&&t<6,"invalid face");var i=0|r,a=0|n,s=0|o,u=y();return l(u,P),u.width=0,u.height=0,f(u,e),u.width=u.width||(P.width>>s)-i,u.height=u.height||(P.height>>s)-a,xe(P.type===u.type&&P.format===u.format&&P.internalformat===u.internalformat,"incompatible format for texture.subimage"),xe(i>=0&&a>=0&&i+u.width<=P.width&&a+u.height<=P.height,"texture.subimage write out of bounds"),xe(P.mipmask&1<<s,"missing mipmap data"),xe(u.data||u.element||u.needsCopy,"missing image data"),k(P),d(u,en+t,i,a,s),C(),m(u),h}function A(e){var r=0|e;if(r!==P.width){h.width=P.width=r,h.height=P.height=r,k(P);for(var n=0;n<6;++n)for(var o=0;P.mipmask>>o;++o)t.texImage2D(en+n,o,P.format,r>>o,r>>o,0,P.format,P.type,null);return C(),a.profile&&(P.stats.size=Pt(P.internalformat,P.type,h.width,h.height,!1,!0)),h}}var P=new E(tn);tt[P.id]=P,i.cubeCount++;var L=new Array(6);return h(e,n,o,s,c,p),h.subimage=v,h.resize=A,h._reglType="textureCube",h._texture=P,a.profile&&(h.stats=P.stats),h.destroy=function(){P.decRef()},h}function D(){for(var e=0;e<et;++e)t.activeTexture(io+e),t.bindTexture(Qr,null),rt[e]=null;tr(tt).forEach(A),i.cubeCount=0,i.textureCount=0}function O(){tr(tt).forEach(function(e){e.texture=t.createTexture(),t.bindTexture(e.target,e.texture);for(var r=0;r<32;++r)if(0!==(e.mipmask&1<<r))if(e.target===Qr)t.texImage2D(Qr,r,e.internalformat,e.width>>r,e.height>>r,0,e.internalformat,e.type,null);else for(var n=0;n<6;++n)t.texImage2D(en+n,r,e.internalformat,e.width>>r,e.height>>r,0,e.internalformat,e.type,null);S(e.texInfo,e.target)})}var I={"don't care":Zn,
"dont care":Zn,nice:$n,fast:Jn},R={repeat:Fn,clamp:zn,mirror:Bn},N={nearest:Hn,linear:Wn},j=Qt({mipmap:Xn,"nearest mipmap nearest":qn,"linear mipmap nearest":Gn,"nearest mipmap linear":Yn,"linear mipmap linear":Xn},N),F={none:0,browser:oo},z={uint8:Dn,rgba4:pn,rgb565:hn,"rgb5 a1":fn},B={alpha:nn,luminance:an,"luminance alpha":sn,rgb:on,rgba:rn,rgba4:ln,"rgb5 a1":un,rgb565:cn},U={};e.ext_srgb&&(B.srgb=vn,B.srgba=gn),e.oes_texture_float&&(z.float32=z.float=Rn),e.oes_texture_half_float&&(z.float16=z["half float"]=bn),e.webgl_depth_texture&&(Qt(B,{depth:yn,"depth stencil":mn}),Qt(z,{uint16:On,uint32:In,"depth stencil":dn})),e.webgl_compressed_texture_s3tc&&Qt(U,{"rgb s3tc dxt1":xn,"rgba s3tc dxt1":_n,"rgba s3tc dxt3":wn,"rgba s3tc dxt5":Tn}),e.webgl_compressed_texture_atc&&Qt(U,{"rgb atc":Mn,"rgba atc explicit alpha":Sn,"rgba atc interpolated alpha":En}),e.webgl_compressed_texture_pvrtc&&Qt(U,{"rgb pvrtc 4bppv1":kn,"rgb pvrtc 2bppv1":Cn,"rgba pvrtc 4bppv1":An,"rgba pvrtc 2bppv1":Pn}),e.webgl_compressed_texture_etc1&&(U["rgb etc1"]=Ln);var V=Array.prototype.slice.call(t.getParameter($r));Object.keys(U).forEach(function(t){var e=U[t];V.indexOf(e)>=0&&(B[t]=e)});var H=Object.keys(B);r.textureFormats=H;var W=[];Object.keys(B).forEach(function(t){var e=B[t];W[e]=t});var q=[];Object.keys(z).forEach(function(t){var e=z[t];q[e]=t});var G=[];Object.keys(N).forEach(function(t){var e=N[t];G[e]=t});var Y=[];Object.keys(j).forEach(function(t){var e=j[t];Y[e]=t});var X=[];Object.keys(R).forEach(function(t){var e=R[t];X[e]=t});var Z=H.reduce(function(t,e){var r=B[e];return r===an||r===nn||r===an||r===sn||r===yn||r===mn?t[r]=r:r===un||e.indexOf("rgba")>=0?t[r]=rn:t[r]=on,t},{}),J=[],$=[],Q=0,tt={},et=r.maxTextureUnits,rt=Array(et).map(function(){return null});return Qt(E.prototype,{bind:function(){var e=this;e.bindCount+=1;var r=e.unit;if(r<0){for(var n=0;n<et;++n){var o=rt[n];if(o){if(o.bindCount>0)continue;o.unit=-1}rt[n]=e,r=n;break}r>=et&&xe.raise("insufficient number of texture units"),a.profile&&i.maxTextureUnits<r+1&&(i.maxTextureUnits=r+1),e.unit=r,t.activeTexture(io+r),t.bindTexture(e.target,e.texture)}return r},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&A(this)}}),a.profile&&(i.getTotalTextureSize=function(){var t=0;return Object.keys(tt).forEach(function(e){t+=tt[e].stats.size}),t}),{create2D:P,createCube:L,clear:D,getTexture:function(t){return null},restore:O}}function Dt(t,e,r){return Co[t]*e*r}function Ot(t,e,r,n,o,i){function a(t,e,r){this.target=t,this.texture=e,this.renderbuffer=r;var n=0,o=0;e?(n=e.width,o=e.height):r&&(n=r.width,o=r.height),this.width=n,this.height=o}function s(t){t&&(t.texture&&t.texture._texture.decRef(),t.renderbuffer&&t.renderbuffer._renderbuffer.decRef())}function l(t,e,r){if(t)if(t.texture){var n=t.texture._texture,o=Math.max(1,n.width),i=Math.max(1,n.height);xe(o===e&&i===r,"inconsistent width/height for supplied texture"),n.refCount+=1}else{var a=t.renderbuffer._renderbuffer;xe(a.width===e&&a.height===r,"inconsistent width/height for renderbuffer"),a.refCount+=1}}function u(e,r){r&&(r.texture?t.framebufferTexture2D(Po,e,r.target,r.texture._texture.texture,0):t.framebufferRenderbuffer(Po,e,Lo,r.renderbuffer._renderbuffer.renderbuffer))}function c(t){var e=Do,r=null,n=null,o=t;"object"==typeof t&&(o=t.data,"target"in t&&(e=0|t.target)),xe.type(o,"function","invalid attachment data");var i=o._reglType;return"texture2d"===i?(r=o,xe(e===Do)):"textureCube"===i?(r=o,xe(e>=Oo&&e<Oo+6,"invalid cube map target")):"renderbuffer"===i?(n=o,e=Lo):xe.raise("invalid regl object for attachment"),new a(e,r,n)}function p(t,e,r,i,s){if(r){var l=n.create2D({width:t,height:e,format:i,type:s});return l._texture.refCount=0,new a(Do,l,null)}var u=o.create({width:t,height:e,format:i});return u._renderbuffer.refCount=0,new a(Lo,null,u)}function f(t){return t&&(t.texture||t.renderbuffer)}function h(t,e,r){t&&(t.texture?t.texture.resize(e,r):t.renderbuffer&&t.renderbuffer.resize(e,r))}function d(){this.id=S++,E[this.id]=this,this.framebuffer=t.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function y(t){t.colorAttachments.forEach(s),s(t.depthAttachment),s(t.stencilAttachment),s(t.depthStencilAttachment)}function m(e){var r=e.framebuffer;xe(r,"must not double destroy framebuffer"),t.deleteFramebuffer(r),e.framebuffer=null,i.framebufferCount--,delete E[e.id]}function v(e){var n;t.bindFramebuffer(Po,e.framebuffer);var o=e.colorAttachments;for(n=0;n<o.length;++n)u(Io+n,o[n]);for(n=o.length;n<r.maxColorAttachments;++n)t.framebufferTexture2D(Po,Io+n,Do,null,0);t.framebufferTexture2D(Po,jo,Do,null,0),t.framebufferTexture2D(Po,Ro,Do,null,0),t.framebufferTexture2D(Po,No,Do,null,0),u(Ro,e.depthAttachment),u(No,e.stencilAttachment),u(jo,e.depthStencilAttachment);var i=t.checkFramebufferStatus(Po);i!==Fo&&xe.raise("framebuffer configuration not supported, status = "+li[i]),t.bindFramebuffer(Po,_.next),_.cur=_.next,t.getError()}function g(t,n){function o(t,n){var i;xe(_.next!==s,"can not update framebuffer which is currently in use");var a=e.webgl_draw_buffers,u=0,h=0,d=!0,m=!0,g=null,b=!0,x="rgba",S="uint8",E=1,k=null,C=null,A=null,P=!1;if("number"==typeof t)u=0|t,h=0|n||u;else if(t){xe.type(t,"object","invalid arguments for framebuffer");var L=t;if("shape"in L){var D=L.shape;xe(Array.isArray(D)&&D.length>=2,"invalid shape for framebuffer"),u=D[0],h=D[1]}else"radius"in L&&(u=h=L.radius),"width"in L&&(u=L.width),"height"in L&&(h=L.height);("color"in L||"colors"in L)&&(g=L.color||L.colors,Array.isArray(g)&&xe(1===g.length||a,"multiple render targets not supported")),g||("colorCount"in L&&(E=0|L.colorCount,xe(E>0,"invalid color buffer count")),"colorTexture"in L&&(b=!!L.colorTexture,x="rgba4"),"colorType"in L&&(S=L.colorType,b?(xe(e.oes_texture_float||!("float"===S||"float32"===S),"you must enable OES_texture_float in order to use floating point framebuffer objects"),xe(e.oes_texture_half_float||!("half float"===S||"float16"===S),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===S||"float16"===S?(xe(e.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),x="rgba16f"):"float"!==S&&"float32"!==S||(xe(e.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),x="rgba32f"),xe.oneOf(S,M,"invalid color type")),"colorFormat"in L&&(x=L.colorFormat,w.indexOf(x)>=0?b=!0:T.indexOf(x)>=0?b=!1:b?xe.oneOf(L.colorFormat,w,"invalid color format for texture"):xe.oneOf(L.colorFormat,T,"invalid color format for renderbuffer"))),("depthTexture"in L||"depthStencilTexture"in L)&&(P=!(!L.depthTexture&&!L.depthStencilTexture),xe(!P||e.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in L&&("boolean"==typeof L.depth?d=L.depth:(k=L.depth,m=!1)),"stencil"in L&&("boolean"==typeof L.stencil?m=L.stencil:(C=L.stencil,d=!1)),"depthStencil"in L&&("boolean"==typeof L.depthStencil?d=m=L.depthStencil:(A=L.depthStencil,d=!1,m=!1))}else u=h=1;var O=null,I=null,R=null,N=null;if(Array.isArray(g))O=g.map(c);else if(g)O=[c(g)];else for(O=new Array(E),i=0;i<E;++i)O[i]=p(u,h,b,x,S);xe(e.webgl_draw_buffers||O.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),xe(O.length<=r.maxColorAttachments,"too many color attachments, not supported"),u=u||O[0].width,h=h||O[0].height,k?I=c(k):d&&!m&&(I=p(u,h,P,"depth","uint32")),C?R=c(C):m&&!d&&(R=p(u,h,!1,"stencil","uint8")),A?N=c(A):!k&&!C&&m&&d&&(N=p(u,h,P,"depth stencil","depth stencil")),xe(!!k+!!C+!!A<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var j=null;for(i=0;i<O.length;++i)if(l(O[i],u,h),xe(!O[i]||O[i].texture&&Xo.indexOf(O[i].texture._texture.format)>=0||O[i].renderbuffer&&si.indexOf(O[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),O[i]&&O[i].texture){var F=Ko[O[i].texture._texture.format]*Zo[O[i].texture._texture.type];null===j?j=F:xe(j===F,"all color attachments much have the same number of bits per pixel.")}return l(I,u,h),xe(!I||I.texture&&I.texture._texture.format===Yo||I.renderbuffer&&I.renderbuffer._renderbuffer.format===ti,"invalid depth attachment for framebuffer object"),l(R,u,h),xe(!R||R.renderbuffer&&R.renderbuffer._renderbuffer.format===ei,"invalid stencil attachment for framebuffer object"),l(N,u,h),xe(!N||N.texture&&N.texture._texture.format===ri||N.renderbuffer&&N.renderbuffer._renderbuffer.format===ri,"invalid depth-stencil attachment for framebuffer object"),y(s),s.width=u,s.height=h,s.colorAttachments=O,s.depthAttachment=I,s.stencilAttachment=R,s.depthStencilAttachment=N,o.color=O.map(f),o.depth=f(I),o.stencil=f(R),o.depthStencil=f(N),o.width=s.width,o.height=s.height,v(s),o}function a(t,e){xe(_.next!==s,"can not resize a framebuffer which is currently in use");var r=0|t,n=0|e||r;if(r===s.width&&n===s.height)return o;for(var i=s.colorAttachments,a=0;a<i.length;++a)h(i[a],r,n);return h(s.depthAttachment,r,n),h(s.stencilAttachment,r,n),h(s.depthStencilAttachment,r,n),s.width=o.width=r,s.height=o.height=n,v(s),o}var s=new d;return i.framebufferCount++,o(t,n),Qt(o,{resize:a,_reglType:"framebuffer",_framebuffer:s,destroy:function(){m(s),y(s)},use:function(t){_.setFBO({framebuffer:o},t)}})}function b(t){function o(t){var r;xe(a.indexOf(_.next)<0,"can not update framebuffer which is currently in use");var i=e.webgl_draw_buffers,s={color:null},l=0,u=null,c="rgba",p="uint8",f=1;if("number"==typeof t)l=0|t;else if(t){xe.type(t,"object","invalid arguments for framebuffer");var h=t;if("shape"in h){var d=h.shape;xe(Array.isArray(d)&&d.length>=2,"invalid shape for framebuffer"),xe(d[0]===d[1],"cube framebuffer must be square"),l=d[0]}else"radius"in h&&(l=0|h.radius),"width"in h?(l=0|h.width,"height"in h&&xe(h.height===l,"must be square")):"height"in h&&(l=0|h.height);("color"in h||"colors"in h)&&(u=h.color||h.colors,Array.isArray(u)&&xe(1===u.length||i,"multiple render targets not supported")),u||("colorCount"in h&&(f=0|h.colorCount,xe(f>0,"invalid color buffer count")),"colorType"in h&&(xe.oneOf(h.colorType,M,"invalid color type"),p=h.colorType),"colorFormat"in h&&(c=h.colorFormat,xe.oneOf(h.colorFormat,w,"invalid color format for texture"))),"depth"in h&&(s.depth=h.depth),"stencil"in h&&(s.stencil=h.stencil),"depthStencil"in h&&(s.depthStencil=h.depthStencil)}else l=1;var y;if(u)if(Array.isArray(u))for(y=[],r=0;r<u.length;++r)y[r]=u[r];else y=[u];else{y=Array(f);var m={radius:l,format:c,type:p};for(r=0;r<f;++r)y[r]=n.createCube(m)}for(s.color=Array(y.length),r=0;r<y.length;++r){var v=y[r];xe("function"==typeof v&&"textureCube"===v._reglType,"invalid cube map"),l=l||v.width,xe(v.width===l&&v.height===l,"invalid cube map shape"),s.color[r]={target:Oo,data:y[r]}}for(r=0;r<6;++r){for(var b=0;b<y.length;++b)s.color[b].target=Oo+r;r>0&&(s.depth=a[0].depth,s.stencil=a[0].stencil,s.depthStencil=a[0].depthStencil),a[r]?a[r](s):a[r]=g(s)}return Qt(o,{width:l,height:l,color:y})}function i(t){var e,n=0|t;if(xe(n>0&&n<=r.maxCubeMapSize,"invalid radius for cube fbo"),n===o.width)return o;var i=o.color;for(e=0;e<i.length;++e)i[e].resize(n);for(e=0;e<6;++e)a[e].resize(n);return o.width=o.height=n,o}var a=Array(6);return o(t),Qt(o,{faces:a,resize:i,_reglType:"framebufferCube",destroy:function(){a.forEach(function(t){t.destroy()})}})}function x(){tr(E).forEach(function(e){e.framebuffer=t.createFramebuffer(),v(e)})}var _={cur:null,next:null,dirty:!1,setFBO:null},w=["rgba"],T=["rgba4","rgb565","rgb5 a1"];e.ext_srgb&&T.push("srgba"),e.ext_color_buffer_half_float&&T.push("rgba16f","rgb16f"),e.webgl_color_buffer_float&&T.push("rgba32f");var M=["uint8"];e.oes_texture_half_float&&M.push("half float","float16"),e.oes_texture_float&&M.push("float","float32");var S=0,E={};return Qt(_,{getFramebuffer:function(t){if("function"==typeof t&&"framebuffer"===t._reglType){var e=t._framebuffer;if(e instanceof d)return e}return null},create:g,createCube:b,clear:function(){tr(E).forEach(m)},restore:x})}function It(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=ui,this.offset=0,this.stride=0,this.divisor=0}function Rt(t,e,r,n,o){for(var i=r.maxAttributes,a=new Array(i),s=0;s<i;++s)a[s]=new It;return{Record:It,scope:{},state:a}}function Nt(t,e,r,n){function o(t,e,r,n){this.name=t,this.id=e,this.location=r,this.info=n}function i(t,e){for(var r=0;r<t.length;++r)if(t[r].id===e.id)return void(t[r].location=e.location);t.push(e)}function a(r,n,o){var i=r===ci?c:p,a=i[n];if(!a){var s=e.str(n);a=t.createShader(r),t.shaderSource(a,s),t.compileShader(a),xe.shaderError(t,a,s,r,o),i[n]=a}return a}function s(t,e){this.id=d++,this.fragId=t,this.vertId=e,this.program=null,this.uniforms=[],this.attributes=[],n.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function l(r,s){var l,u,c=a(ci,r.fragId),p=a(pi,r.vertId),f=r.program=t.createProgram();t.attachShader(f,c),t.attachShader(f,p),t.linkProgram(f),xe.linkError(t,f,e.str(r.fragId),e.str(r.vertId),s);var h=t.getProgramParameter(f,fi);n.profile&&(r.stats.uniformsCount=h);var d=r.uniforms;for(l=0;l<h;++l)if(u=t.getActiveUniform(f,l))if(u.size>1)for(var y=0;y<u.size;++y){var m=u.name.replace("[0]","["+y+"]");i(d,new o(m,e.id(m),t.getUniformLocation(f,m),u))}else i(d,new o(u.name,e.id(u.name),t.getUniformLocation(f,u.name),u));var v=t.getProgramParameter(f,hi);n.profile&&(r.stats.attributesCount=v);var g=r.attributes;for(l=0;l<v;++l)u=t.getActiveAttrib(f,l),u&&i(g,new o(u.name,e.id(u.name),t.getAttribLocation(f,u.name),u))}function u(){c={},p={};for(var t=0;t<h.length;++t)l(h[t])}var c={},p={},f={},h=[],d=0;return n.profile&&(r.getMaxUniformsCount=function(){var t=0;return h.forEach(function(e){e.stats.uniformsCount>t&&(t=e.stats.uniformsCount)}),t},r.getMaxAttributesCount=function(){var t=0;return h.forEach(function(e){e.stats.attributesCount>t&&(t=e.stats.attributesCount)}),t}),{clear:function(){var e=t.deleteShader.bind(t);tr(c).forEach(e),c={},tr(p).forEach(e),p={},h.forEach(function(e){t.deleteProgram(e.program)}),h.length=0,f={},r.shaderCount=0},program:function(t,e,n){xe.command(t>=0,"missing vertex shader",n),xe.command(e>=0,"missing fragment shader",n);var o=f[e];o||(o=f[e]={});var i=o[t];return i||(i=new s(e,t),r.shaderCount++,l(i,n),o[t]=i,h.push(i)),i},restore:u,shader:a,frag:-1,vert:-1}}function jt(t,e,r,n,o,i){function a(a){var s;null===e.next?(xe(o.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),s=yi):(xe(null!==e.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),s=e.next.colorAttachments[0].texture._texture.type,i.oes_texture_float?xe(s===yi||s===vi,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"):xe(s===yi,"Reading from a framebuffer is only allowed for the type 'uint8'"));var l=0,u=0,c=n.framebufferWidth,p=n.framebufferHeight,f=null;$t(a)?f=a:a&&(xe.type(a,"object","invalid arguments to regl.read()"),l=0|a.x,u=0|a.y,xe(l>=0&&l<n.framebufferWidth,"invalid x offset for regl.read"),xe(u>=0&&u<n.framebufferHeight,"invalid y offset for regl.read"),c=0|(a.width||n.framebufferWidth-l),p=0|(a.height||n.framebufferHeight-u),f=a.data||null),f&&(s===yi?xe(f instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):s===vi&&xe(f instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),xe(c>0&&c+l<=n.framebufferWidth,"invalid width for read pixels"),xe(p>0&&p+u<=n.framebufferHeight,"invalid height for read pixels"),r();var h=c*p*4;return f||(s===yi?f=new Uint8Array(h):s===vi&&(f=f||new Float32Array(h))),xe.isTypedArray(f,"data buffer for regl.read() must be a typedarray"),xe(f.byteLength>=h,"data buffer for regl.read() too small"),t.pixelStorei(mi,4),t.readPixels(l,u,c,p,di,s,f),f}function s(t){var r;return e.setFBO({framebuffer:t.framebuffer},function(){r=a(t)}),r}function l(t){return t&&"framebuffer"in t?s(t):a(t)}return l}function Ft(t){return Array.prototype.slice.call(t)}function zt(t){return Ft(t).join("")}function Bt(){function t(t){for(var e=0;e<l.length;++e)if(l[e]===t)return s[e];var r="g"+a++;return s.push(r),l.push(t),r}function e(){function t(){r.push.apply(r,Ft(arguments))}function e(){var t="v"+a++;return n.push(t),arguments.length>0&&(r.push(t,"="),r.push.apply(r,Ft(arguments)),r.push(";")),t}var r=[],n=[];return Qt(t,{def:e,toString:function(){return zt([n.length>0?"var "+n+";":"",zt(r)])}})}function r(){function t(t,e){n(t,e,"=",r.def(t,e),";")}var r=e(),n=e(),o=r.toString,i=n.toString;return Qt(function(){r.apply(r,Ft(arguments))},{def:r.def,entry:r,exit:n,save:t,set:function(e,n,o){t(e,n),r(e,n,"=",o,";")},toString:function(){return o()+i()}})}function n(){var t=zt(arguments),e=r(),n=r(),o=e.toString,i=n.toString;return Qt(e,{then:function(){return e.apply(e,Ft(arguments)),this},else:function(){return n.apply(n,Ft(arguments)),this},toString:function(){var e=i();return e&&(e="else{"+e+"}"),zt(["if(",t,"){",o(),"}",e])}})}function o(t,e){function n(){var t="a"+o.length;return o.push(t),t}var o=[];e=e||0;for(var i=0;i<e;++i)n();var a=r(),s=a.toString,l=c[t]=Qt(a,{arg:n,toString:function(){return zt(["function(",o.join(),"){",s(),"}"])}});return l}function i(){var t=['"use strict";',u,"return {"];Object.keys(c).forEach(function(e){t.push('"',e,'":',c[e].toString(),",")}),t.push("}");var e=zt(t).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n"),r=Function.apply(null,s.concat(e));return r.apply(null,l)}var a=0,s=[],l=[],u=e(),c={};return{global:u,link:t,block:e,proc:o,scope:r,cond:n,compile:i}}function Ut(t){return Array.isArray(t)||$t(t)||K(t)}function Vt(t){return t.sort(function(t,e){return t===Qi?-1:e===Qi?1:t<e?-1:1})}function Ht(t,e,r,n){this.thisDep=t,this.contextDep=e,this.propDep=r,this.append=n}function Wt(t){return t&&!(t.thisDep||t.contextDep||t.propDep)}function qt(t){return new Ht(!1,!1,!1,t)}function Gt(t,e){var r=t.type;if(r===wi){var n=t.data.length;return new Ht(!0,n>=1,n>=2,e)}if(r===Ei){var o=t.data;return new Ht(o.thisDep,o.contextDep,o.propDep,e)}return new Ht(r===Si,r===Mi,r===Ti,e)}function Yt(t,e,r,n,o,i,a,s,l,u,c,p,f,h,d){function y(t){return t.replace(".","_")}function m(t,e,r){var n=y(t);et.push(t),tt[n]=Q[n]=!!r,rt[n]=e}function v(t,e,r){var n=y(t);et.push(t),Array.isArray(r)?(Q[n]=r.slice(),tt[n]=r.slice()):Q[n]=tt[n]=r,nt[n]=e}function g(){var t=Bt(),r=t.link,n=t.global;t.id=at++,t.batchId="0";var o=r(ot),i=t.shared={props:"a0"};Object.keys(ot).forEach(function(t){i[t]=n.def(o,".",t)}),xe.optional(function(){t.CHECK=r(xe),t.commandStr=xe.guessCommand(),t.command=r(t.commandStr),t.assert=function(t,e,n){t("if(!(",e,"))",this.CHECK,".commandRaise(",r(n),",",this.command,");")},it.invalidBlendCombinations=hs});var a=t.next={},s=t.current={};Object.keys(nt).forEach(function(t){Array.isArray(Q[t])&&(a[t]=n.def(i.next,".",t),s[t]=n.def(i.current,".",t))});var l=t.constants={};Object.keys(it).forEach(function(t){l[t]=n.def(JSON.stringify(it[t]))}),t.invoke=function(e,n){switch(n.type){case wi:var o=["this",i.context,i.props,t.batchId];return e.def(r(n.data),".call(",o.slice(0,Math.max(n.data.length+1,4)),")");case Ti:return e.def(i.props,n.data);case Mi:return e.def(i.context,n.data);case Si:return e.def("this",n.data);case Ei:return n.data.append(t,e),n.data.ref}},t.attribCache={};var c={};return t.scopeAttrib=function(t){var n=e.id(t);if(n in c)return c[n];var o=u.scope[n];o||(o=u.scope[n]=new X);var i=c[n]=r(o);return i},t}function b(t){var e,r=t.static,n=t.dynamic;if(ta in r){var o=!!r[ta];e=qt(function(t,e){return o}),e.enable=o}else if(ta in n){var i=n[ta];e=Gt(i,function(t,e){return t.invoke(e,i)})}return e}function x(t,e){var r=t.static,n=t.dynamic;if(ea in r){var o=r[ea];return o?(o=s.getFramebuffer(o),xe.command(o,"invalid framebuffer object"),qt(function(t,e){var r=t.link(o),n=t.shared;e.set(n.framebuffer,".next",r);var i=n.context;return e.set(i,"."+pa,r+".width"),e.set(i,"."+fa,r+".height"),r})):qt(function(t,e){var r=t.shared;e.set(r.framebuffer,".next","null");var n=r.context;return e.set(n,"."+pa,n+"."+ma),e.set(n,"."+fa,n+"."+va),"null"})}if(ea in n){var i=n[ea];return Gt(i,function(t,e){var r=t.invoke(e,i),n=t.shared,o=n.framebuffer,a=e.def(o,".getFramebuffer(",r,")");xe.optional(function(){t.assert(e,"!"+r+"||"+a,"invalid framebuffer object")}),e.set(o,".next",a);var s=n.context;return e.set(s,"."+pa,a+"?"+a+".width:"+s+"."+ma),e.set(s,"."+fa,a+"?"+a+".height:"+s+"."+va),a})}return null}function _(t,e,r){function n(t){if(t in o){var n=o[t];xe.commandType(n,"object","invalid "+t,r.commandStr);var a,s,l=!0,u=0|n.x,c=0|n.y;return"width"in n?(a=0|n.width,xe.command(a>=0,"invalid "+t,r.commandStr)):l=!1,"height"in n?(s=0|n.height,xe.command(s>=0,"invalid "+t,r.commandStr)):l=!1,new Ht(!l&&e&&e.thisDep,!l&&e&&e.contextDep,!l&&e&&e.propDep,function(t,e){var r=t.shared.context,o=a;"width"in n||(o=e.def(r,".",pa,"-",u));var i=s;return"height"in n||(i=e.def(r,".",fa,"-",c)),[u,c,o,i]})}if(t in i){var p=i[t],f=Gt(p,function(e,r){var n=e.invoke(r,p);xe.optional(function(){e.assert(r,n+"&&typeof "+n+'==="object"',"invalid "+t)});var o=e.shared.context,i=r.def(n,".x|0"),a=r.def(n,".y|0"),s=r.def('"width" in ',n,"?",n,".width|0:","(",o,".",pa,"-",i,")"),l=r.def('"height" in ',n,"?",n,".height|0:","(",o,".",fa,"-",a,")");return xe.optional(function(){e.assert(r,s+">=0&&"+l+">=0","invalid "+t)}),[i,a,s,l]});return e&&(f.thisDep=f.thisDep||e.thisDep,f.contextDep=f.contextDep||e.contextDep,f.propDep=f.propDep||e.propDep),f}return e?new Ht(e.thisDep,e.contextDep,e.propDep,function(t,e){var r=t.shared.context;return[0,0,e.def(r,".",pa),e.def(r,".",fa)]}):null}var o=t.static,i=t.dynamic,a=n(Qi);if(a){var s=a;a=new Ht(a.thisDep,a.contextDep,a.propDep,function(t,e){var r=s.append(t,e),n=t.shared.context;return e.set(n,"."+ha,r[2]),e.set(n,"."+da,r[3]),r})}return{viewport:a,scissor_box:n($i)}}function w(t){function r(t){if(t in o){var r=e.id(o[t]);xe.optional(function(){c.shader(ms[t],r,xe.guessCommand())});var n=qt(function(){return r});return n.id=r,n}if(t in i){var a=i[t];return Gt(a,function(e,r){var n=e.invoke(r,a),o=r.def(e.shared.strings,".id(",n,")");return xe.optional(function(){r(e.shared.shader,".shader(",ms[t],",",o,",",e.command,");")}),o})}return null}var n,o=t.static,i=t.dynamic,a=r(na),s=r(ra),l=null;return Wt(a)&&Wt(s)?(l=c.program(s.id,a.id),n=qt(function(t,e){return t.link(l)})):n=new Ht(a&&a.thisDep||s&&s.thisDep,a&&a.contextDep||s&&s.contextDep,a&&a.propDep||s&&s.propDep,function(t,e){var r,n=t.shared.shader;r=a?a.append(t,e):e.def(n,".",na);var o;o=s?s.append(t,e):e.def(n,".",ra);var i=n+".program("+o+","+r;return xe.optional(function(){i+=","+t.command}),e.def(i+")")}),{frag:a,vert:s,progVar:n,program:l}}function T(t,e){function r(){if(oa in s){var t=s[oa];Ut(t)?t=i.getElements(i.create(t,!0)):t&&(t=i.getElements(t),xe.command(t,"invalid elements",e.commandStr));var r=qt(function(e,r){if(t){var n=e.link(t);return e.ELEMENTS=n,n}return e.ELEMENTS=null,null});return r.value=t,r}if(oa in l){var n=l[oa];return Gt(n,function(t,e){var r=t.shared,o=r.isBufferArgs,i=r.elements,a=t.invoke(e,n),s=e.def("null"),l=e.def(o,"(",a,")"),u=t.cond(l).then(s,"=",i,".createStream(",a,");").else(s,"=",i,".getElements(",a,");");return xe.optional(function(){t.assert(u.else,"!"+a+"||"+s,"invalid elements")}),e.entry(u),e.exit(t.cond(l).then(i,".destroyStream(",s,");")),t.ELEMENTS=s,s})}return null}function n(){if(ia in s){var t=s[ia];return xe.commandParameter(t,Nr,"invalid primitve",e.commandStr),qt(function(e,r){return Nr[t]})}if(ia in l){var r=l[ia];return Gt(r,function(t,e){var n=t.constants.primTypes,o=t.invoke(e,r);return xe.optional(function(){t.assert(e,o+" in "+n,"invalid primitive, must be one of "+Object.keys(Nr))}),e.def(n,"[",o,"]")})}return u?Wt(u)?qt(u.value?function(t,e){return e.def(t.ELEMENTS,".primType")}:function(){return Ja}):new Ht(u.thisDep,u.contextDep,u.propDep,function(t,e){var r=t.ELEMENTS;return e.def(r,"?",r,".primType:",Ja)}):null}function o(t,r){if(t in s){var n=0|s[t];return xe.command(!r||n>=0,"invalid "+t,e.commandStr),qt(function(t,e){return r&&(t.OFFSET=n),n})}if(t in l){var o=l[t];return Gt(o,function(e,n){var i=e.invoke(n,o);return r&&(e.OFFSET=i,xe.optional(function(){e.assert(n,i+">=0","invalid "+t)})),i})}return r&&u?qt(function(t,e){return t.OFFSET="0",0}):null}function a(){if(aa in s){var t=0|s[aa];return xe.command("number"==typeof t&&t>=0,"invalid vertex count",e.commandStr),qt(function(){return t})}if(aa in l){var r=l[aa];return Gt(r,function(t,e){var n=t.invoke(e,r);return xe.optional(function(){t.assert(e,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")}),n})}if(u){if(Wt(u)){if(u)return c?new Ht(c.thisDep,c.contextDep,c.propDep,function(t,e){var r=e.def(t.ELEMENTS,".vertCount-",t.OFFSET);return xe.optional(function(){t.assert(e,r+">=0","invalid vertex offset/element buffer too small")}),r}):qt(function(t,e){return e.def(t.ELEMENTS,".vertCount")});var n=qt(function(){return-1});return xe.optional(function(){n.MISSING=!0}),n}var o=new Ht(u.thisDep||c.thisDep,u.contextDep||c.contextDep,u.propDep||c.propDep,function(t,e){var r=t.ELEMENTS;return t.OFFSET?e.def(r,"?",r,".vertCount-",t.OFFSET,":-1"):e.def(r,"?",r,".vertCount:-1")});return xe.optional(function(){o.DYNAMIC=!0}),o}return null}var s=t.static,l=t.dynamic,u=r(),c=o(sa,!0);return{elements:u,primitive:n(),count:a(),instances:o(la,!1),offset:c}}function M(t,e){var r=t.static,o=t.dynamic,i={};return et.forEach(function(t){function a(e,n){if(t in r){var a=e(r[t]);i[s]=qt(function(){return a})}else if(t in o){var l=o[t];i[s]=Gt(l,function(t,e){return n(t,e,t.invoke(e,l))})}}var s=y(t);switch(t){case ji:case Ci:case ki:case Gi:case Di:case Ji:case Ui:case Hi:case Wi:case Ri:return a(function(r){return xe.commandType(r,"boolean",t,e.commandStr),r},function(e,r,n){return xe.optional(function(){e.assert(r,"typeof "+n+'==="boolean"',"invalid flag "+t,e.commandStr)}),n});case Oi:return a(function(r){return xe.commandParameter(r,ds,"invalid "+t,e.commandStr),ds[r]},function(e,r,n){var o=e.constants.compareFuncs;return xe.optional(function(){e.assert(r,n+" in "+o,"invalid "+t+", must be one of "+Object.keys(ds))}),r.def(o,"[",n,"]")});case Ii:return a(function(t){return xe.command(yt(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[0]<=t[1],"depth range is 2d array",e.commandStr),t},function(t,e,r){xe.optional(function(){t.assert(e,t.shared.isArrayLike+"("+r+")&&"+r+".length===2&&typeof "+r+'[0]==="number"&&typeof '+r+'[1]==="number"&&'+r+"[0]<="+r+"[1]","depth range must be a 2d array")});var n=e.def("+",r,"[0]"),o=e.def("+",r,"[1]");return[n,o]});case Li:return a(function(t){xe.commandType(t,"object","blend.func",e.commandStr);var r="srcRGB"in t?t.srcRGB:t.src,n="srcAlpha"in t?t.srcAlpha:t.src,o="dstRGB"in t?t.dstRGB:t.dst,i="dstAlpha"in t?t.dstAlpha:t.dst;return xe.commandParameter(r,fs,s+".srcRGB",e.commandStr),xe.commandParameter(n,fs,s+".srcAlpha",e.commandStr),xe.commandParameter(o,fs,s+".dstRGB",e.commandStr),xe.commandParameter(i,fs,s+".dstAlpha",e.commandStr),xe.command(hs.indexOf(r+", "+o)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+r+", "+o+")",e.commandStr),[fs[r],fs[o],fs[n],fs[i]]},function(e,r,n){function o(o,a){var s=r.def('"',o,a,'" in ',n,"?",n,".",o,a,":",n,".",o);return xe.optional(function(){e.assert(r,s+" in "+i,"invalid "+t+"."+o+a+", must be one of "+Object.keys(fs))}),s}var i=e.constants.blendFuncs;xe.optional(function(){e.assert(r,n+"&&typeof "+n+'==="object"',"invalid blend func, must be an object")});var a=o("src","RGB"),s=o("dst","RGB");xe.optional(function(){var t=e.constants.invalidBlendCombinations;e.assert(r,t+".indexOf("+a+'+", "+'+s+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var l=r.def(i,"[",a,"]"),u=r.def(i,"[",o("src","Alpha"),"]"),c=r.def(i,"[",s,"]"),p=r.def(i,"[",o("dst","Alpha"),"]");return[l,c,u,p]});case Pi:return a(function(r){return"string"==typeof r?(xe.commandParameter(r,K,"invalid "+t,e.commandStr),[K[r],K[r]]):"object"==typeof r?(xe.commandParameter(r.rgb,K,t+".rgb",e.commandStr),xe.commandParameter(r.alpha,K,t+".alpha",e.commandStr),[K[r.rgb],K[r.alpha]]):void xe.commandRaise("invalid blend.equation",e.commandStr)},function(e,r,n){var o=e.constants.blendEquations,i=r.def(),a=r.def(),s=e.cond("typeof ",n,'==="string"');return xe.optional(function(){function r(t,r,n){e.assert(t,n+" in "+o,"invalid "+r+", must be one of "+Object.keys(K))}r(s.then,t,n),e.assert(s.else,n+"&&typeof "+n+'==="object"',"invalid "+t),r(s.else,t+".rgb",n+".rgb"),r(s.else,t+".alpha",n+".alpha")}),s.then(i,"=",a,"=",o,"[",n,"];"),s.else(i,"=",o,"[",n,".rgb];",a,"=",o,"[",n,".alpha];"),r(s),[i,a]});case Ai:return a(function(t){return xe.command(yt(t)&&4===t.length,"blend.color must be a 4d array",e.commandStr),Z(4,function(e){return+t[e]})},function(t,e,r){return xe.optional(function(){t.assert(e,t.shared.isArrayLike+"("+r+")&&"+r+".length===4","blend.color must be a 4d array")}),Z(4,function(t){return e.def("+",r,"[",t,"]")})});case Yi:return a(function(t){return xe.commandType(t,"number",s,e.commandStr),0|t},function(t,e,r){return xe.optional(function(){t.assert(e,"typeof "+r+'==="number"',"invalid stencil.mask")}),e.def(r,"|0")});case Xi:return a(function(r){xe.commandType(r,"object",s,e.commandStr);var n=r.cmp||"keep",o=r.ref||0,i="mask"in r?r.mask:-1;return xe.commandParameter(n,ds,t+".cmp",e.commandStr),xe.commandType(o,"number",t+".ref",e.commandStr),xe.commandType(i,"number",t+".mask",e.commandStr),[ds[n],o,i]},function(t,e,r){var n=t.constants.compareFuncs;xe.optional(function(){function o(){t.assert(e,Array.prototype.join.call(arguments,""),"invalid stencil.func")}o(r+"&&typeof ",r,'==="object"'),o('!("cmp" in ',r,")||(",r,".cmp in ",n,")")});var o=e.def('"cmp" in ',r,"?",n,"[",r,".cmp]",":",is),i=e.def(r,".ref|0"),a=e.def('"mask" in ',r,"?",r,".mask|0:-1");return[o,i,a]});case Ki:case Zi:return a(function(r){xe.commandType(r,"object",s,e.commandStr);var n=r.fail||"keep",o=r.zfail||"keep",i=r.zpass||"keep";return xe.commandParameter(n,ys,t+".fail",e.commandStr),xe.commandParameter(o,ys,t+".zfail",e.commandStr),xe.commandParameter(i,ys,t+".zpass",e.commandStr),[t===Zi?Qa:$a,ys[n],ys[o],ys[i]]},function(e,r,n){function o(o){return xe.optional(function(){e.assert(r,'!("'+o+'" in '+n+")||("+n+"."+o+" in "+i+")","invalid "+t+"."+o+", must be one of "+Object.keys(ys))}),r.def('"',o,'" in ',n,"?",i,"[",n,".",o,"]:",is)}var i=e.constants.stencilOps;return xe.optional(function(){e.assert(r,n+"&&typeof "+n+'==="object"',"invalid "+t)}),[t===Zi?Qa:$a,o("fail"),o("zfail"),o("zpass")]});case Vi:return a(function(t){xe.commandType(t,"object",s,e.commandStr);var r=0|t.factor,n=0|t.units;return xe.commandType(r,"number",s+".factor",e.commandStr),xe.commandType(n,"number",s+".units",e.commandStr),[r,n]},function(e,r,n){xe.optional(function(){e.assert(r,n+"&&typeof "+n+'==="object"',"invalid "+t)});var o=r.def(n,".factor|0"),i=r.def(n,".units|0");return[o,i]});case Fi:return a(function(t){var r=0;return"front"===t?r=$a:"back"===t&&(r=Qa),xe.command(!!r,s,e.commandStr),r},function(t,e,r){return xe.optional(function(){t.assert(e,r+'==="front"||'+r+'==="back"',"invalid cull.face")}),e.def(r,'==="front"?',$a,":",Qa)});case Bi:return a(function(t){return xe.command("number"==typeof t&&t>=n.lineWidthDims[0]&&t<=n.lineWidthDims[1],"invalid line width, must positive number between "+n.lineWidthDims[0]+" and "+n.lineWidthDims[1],e.commandStr),t},function(t,e,r){return xe.optional(function(){t.assert(e,"typeof "+r+'==="number"&&'+r+">="+n.lineWidthDims[0]+"&&"+r+"<="+n.lineWidthDims[1],"invalid line width")}),r});case zi:return a(function(t){return xe.commandParameter(t,vs,s,e.commandStr),vs[t];
},function(t,e,r){return xe.optional(function(){t.assert(e,r+'==="cw"||'+r+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),e.def(r+'==="cw"?'+ts+":"+es)});case Ni:return a(function(t){return xe.command(yt(t)&&4===t.length,"color.mask must be length 4 array",e.commandStr),t.map(function(t){return!!t})},function(t,e,r){return xe.optional(function(){t.assert(e,t.shared.isArrayLike+"("+r+")&&"+r+".length===4","invalid color.mask")}),Z(4,function(t){return"!!"+r+"["+t+"]"})});case qi:return a(function(t){xe.command("object"==typeof t&&t,s,e.commandStr);var r="value"in t?t.value:1,n=!!t.invert;return xe.command("number"==typeof r&&r>=0&&r<=1,"sample.coverage.value must be a number between 0 and 1",e.commandStr),[r,n]},function(t,e,r){xe.optional(function(){t.assert(e,r+"&&typeof "+r+'==="object"',"invalid sample.coverage")});var n=e.def('"value" in ',r,"?+",r,".value:1"),o=e.def("!!",r,".invert");return[n,o]})}}),i}function S(t,e){var r=t.static,n=t.dynamic,o={};return Object.keys(r).forEach(function(t){var n,i=r[t];if("number"==typeof i||"boolean"==typeof i)n=qt(function(){return i});else if("function"==typeof i){var a=i._reglType;"texture2d"===a||"textureCube"===a?n=qt(function(t){return t.link(i)}):"framebuffer"===a||"framebufferCube"===a?(xe.command(i.color.length>0,'missing color attachment for framebuffer sent to uniform "'+t+'"',e.commandStr),n=qt(function(t){return t.link(i.color[0])})):xe.commandRaise('invalid data for uniform "'+t+'"',e.commandStr)}else yt(i)?n=qt(function(e){var r=e.global.def("[",Z(i.length,function(r){return xe.command("number"==typeof i[r]||"boolean"==typeof i[r],"invalid uniform "+t,e.commandStr),i[r]}),"]");return r}):xe.commandRaise('invalid or missing data for uniform "'+t+'"',e.commandStr);n.value=i,o[t]=n}),Object.keys(n).forEach(function(t){var e=n[t];o[t]=Gt(e,function(t,r){return t.invoke(r,e)})}),o}function E(t,r){var n=t.static,i=t.dynamic,a={};return Object.keys(n).forEach(function(t){var i=n[t],s=e.id(t),l=new X;if(Ut(i))l.state=xi,l.buffer=o.getBuffer(o.create(i,ba,!1,!0)),l.type=0;else{var u=o.getBuffer(i);if(u)l.state=xi,l.buffer=u,l.type=0;else if(xe.command("object"==typeof i&&i,"invalid data for attribute "+t,r.commandStr),i.constant){var c=i.constant;l.buffer="null",l.state=_i,"number"==typeof c?l.x=c:(xe.command(yt(c)&&c.length>0&&c.length<=4,"invalid constant for attribute "+t,r.commandStr),gi.forEach(function(t,e){e<c.length&&(l[t]=c[e])}))}else{u=Ut(i.buffer)?o.getBuffer(o.create(i.buffer,ba,!1,!0)):o.getBuffer(i.buffer),xe.command(!!u,'missing buffer for attribute "'+t+'"',r.commandStr);var p=0|i.offset;xe.command(p>=0,'invalid offset for attribute "'+t+'"',r.commandStr);var f=0|i.stride;xe.command(f>=0&&f<256,'invalid stride for attribute "'+t+'", must be integer betweeen [0, 255]',r.commandStr);var h=0|i.size;xe.command(!("size"in i)||h>0&&h<=4,'invalid size for attribute "'+t+'", must be 1,2,3,4',r.commandStr);var d=!!i.normalized,y=0;"type"in i&&(xe.commandParameter(i.type,br,"invalid type for attribute "+t,r.commandStr),y=br[i.type]);var m=0|i.divisor;"divisor"in i&&(xe.command(0===m||J,'cannot specify divisor for attribute "'+t+'", instancing not supported',r.commandStr),xe.command(m>=0,'invalid divisor for attribute "'+t+'"',r.commandStr)),xe.optional(function(){var e=r.commandStr,n=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(i).forEach(function(r){xe.command(n.indexOf(r)>=0,'unknown parameter "'+r+'" for attribute pointer "'+t+'" (valid parameters are '+n+")",e)})}),l.buffer=u,l.state=xi,l.size=h,l.normalized=d,l.type=y||u.dtype,l.offset=p,l.stride=f,l.divisor=m}}a[t]=qt(function(t,e){var r=t.attribCache;if(s in r)return r[s];var n={isStream:!1};return Object.keys(l).forEach(function(t){n[t]=l[t]}),l.buffer&&(n.buffer=t.link(l.buffer),n.type=n.type||n.buffer+".dtype"),r[s]=n,n})}),Object.keys(i).forEach(function(t){function e(e,n){function o(t){n(u[t],"=",i,".",t,"|0;")}var i=e.invoke(n,r),a=e.shared,s=a.isBufferArgs,l=a.buffer;xe.optional(function(){e.assert(n,i+"&&(typeof "+i+'==="object"||typeof '+i+'==="function")&&('+s+"("+i+")||"+l+".getBuffer("+i+")||"+l+".getBuffer("+i+".buffer)||"+s+"("+i+'.buffer)||("constant" in '+i+"&&(typeof "+i+'.constant==="number"||'+a.isArrayLike+"("+i+".constant))))",'invalid dynamic attribute "'+t+'"')});var u={isStream:n.def(!1)},c=new X;c.state=xi,Object.keys(c).forEach(function(t){u[t]=n.def(""+c[t])});var p=u.buffer,f=u.type;return n("if(",s,"(",i,")){",u.isStream,"=true;",p,"=",l,".createStream(",ba,",",i,");",f,"=",p,".dtype;","}else{",p,"=",l,".getBuffer(",i,");","if(",p,"){",f,"=",p,".dtype;",'}else if("constant" in ',i,"){",u.state,"=",_i,";","if(typeof "+i+'.constant === "number"){',u[gi[0]],"=",i,".constant;",gi.slice(1).map(function(t){return u[t]}).join("="),"=0;","}else{",gi.map(function(t,e){return u[t]+"="+i+".constant.length>="+e+"?"+i+".constant["+e+"]:0;"}).join(""),"}}else{","if(",s,"(",i,".buffer)){",p,"=",l,".createStream(",ba,",",i,".buffer);","}else{",p,"=",l,".getBuffer(",i,".buffer);","}",f,'="type" in ',i,"?",a.glTypes,"[",i,".type]:",p,".dtype;",u.normalized,"=!!",i,".normalized;"),o("size"),o("offset"),o("stride"),o("divisor"),n("}}"),n.exit("if(",u.isStream,"){",l,".destroyStream(",p,");","}"),u}var r=i[t];a[t]=Gt(r,e)}),a}function k(t){var e=t.static,r=t.dynamic,n={};return Object.keys(e).forEach(function(t){var r=e[t];n[t]=qt(function(t,e){return"number"==typeof r||"boolean"==typeof r?""+r:t.link(r)})}),Object.keys(r).forEach(function(t){var e=r[t];n[t]=Gt(e,function(t,r){return t.invoke(r,e)})}),n}function C(t,e,r,n,o){function i(t){var e=u[t];e&&(p[t]=e)}var a=t.static,s=t.dynamic;xe.optional(function(){function t(t){Object.keys(t).forEach(function(t){xe.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',o.commandStr)})}var e=[ea,ra,na,oa,ia,sa,aa,la,ta].concat(et);t(a),t(s)});var l=x(t,o),u=_(t,l,o),c=T(t,o),p=M(t,o),f=w(t,o);i(Qi),i(y($i));var h=Object.keys(p).length>0,d={framebuffer:l,draw:c,shader:f,state:p,dirty:h};return d.profile=b(t,o),d.uniforms=S(r,o),d.attributes=E(e,o),d.context=k(n,o),d}function A(t,e,r){var n=t.shared,o=n.context,i=t.scope();Object.keys(r).forEach(function(n){e.save(o,"."+n);var a=r[n];i(o,".",n,"=",a.append(t,e),";")}),e(i)}function P(t,e,r,n){var o,i=t.shared,a=i.gl,s=i.framebuffer;$&&(o=e.def(i.extensions,".webgl_draw_buffers"));var l,u=t.constants,c=u.drawBuffer,p=u.backBuffer;l=r?r.append(t,e):e.def(s,".next"),n||e("if(",l,"!==",s,".cur){"),e("if(",l,"){",a,".bindFramebuffer(",cs,",",l,".framebuffer);"),$&&e(o,".drawBuffersWEBGL(",c,"[",l,".colorAttachments.length]);"),e("}else{",a,".bindFramebuffer(",cs,",null);"),$&&e(o,".drawBuffersWEBGL(",p,");"),e("}",s,".cur=",l,";"),n||e("}")}function L(t,e,r){var n=t.shared,o=n.gl,i=t.current,a=t.next,s=n.current,l=n.next,u=t.cond(s,".dirty");et.forEach(function(e){var n=y(e);if(!(n in r.state)){var c,p;if(n in a){c=a[n],p=i[n];var f=Z(Q[n].length,function(t){return u.def(c,"[",t,"]")});u(t.cond(f.map(function(t,e){return t+"!=="+p+"["+e+"]"}).join("||")).then(o,".",nt[n],"(",f,");",f.map(function(t,e){return p+"["+e+"]="+t}).join(";"),";"))}else{c=u.def(l,".",n);var h=t.cond(c,"!==",s,".",n);u(h),n in rt?h(t.cond(c).then(o,".enable(",rt[n],");").else(o,".disable(",rt[n],");"),s,".",n,"=",c,";"):h(o,".",nt[n],"(",c,");",s,".",n,"=",c,";")}}}),0===Object.keys(r.state).length&&u(s,".dirty=false;"),e(u)}function D(t,e,r,n){var o=t.shared,i=t.current,a=o.current,s=o.gl;Vt(Object.keys(r)).forEach(function(o){var l=r[o];if(!n||n(l)){var u=l.append(t,e);if(rt[o]){var c=rt[o];Wt(l)?u?e(s,".enable(",c,");"):e(s,".disable(",c,");"):e(t.cond(u).then(s,".enable(",c,");").else(s,".disable(",c,");")),e(a,".",o,"=",u,";")}else if(yt(u)){var p=i[o];e(s,".",nt[o],"(",u,");",u.map(function(t,e){return p+"["+e+"]="+t}).join(";"),";")}else e(s,".",nt[o],"(",u,");",a,".",o,"=",u,";")}})}function O(t,e){J&&(t.instancing=e.def(t.shared.extensions,".angle_instanced_arrays"))}function I(t,e,r,n,o){function i(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function a(t){u=e.def(),t(u,"=",i(),";"),"string"==typeof o?t(d,".count+=",o,";"):t(d,".count++;"),h&&(n?(c=e.def(),t(c,"=",m,".getNumPendingQueries();")):t(m,".beginQuery(",d,");"))}function s(t){t(d,".cpuTime+=",i(),"-",u,";"),h&&(n?t(m,".pushScopeStats(",c,",",m,".getNumPendingQueries(),",d,");"):t(m,".endQuery();"))}function l(t){var r=e.def(y,".profile");e(y,".profile=",t,";"),e.exit(y,".profile=",r,";")}var u,c,p,f=t.shared,d=t.stats,y=f.current,m=f.timer,v=r.profile;if(v){if(Wt(v))return void(v.enable?(a(e),s(e.exit),l("true")):l("false"));p=v.append(t,e),l(p)}else p=e.def(y,".profile");var g=t.block();a(g),e("if(",p,"){",g,"}");var b=t.block();s(b),e.exit("if(",p,"){",b,"}")}function R(t,e,r,n,o){function i(t){switch(t){case Ra:case za:case Ha:return 2;case Na:case Ba:case Wa:return 3;case ja:case Ua:case qa:return 4;default:return 1}}function a(r,n,o){function i(){e("if(!",c,".buffer){",l,".enableVertexAttribArray(",u,");}");var r,i=o.type;if(r=o.size?e.def(o.size,"||",n):n,e("if(",c,".type!==",i,"||",c,".size!==",r,"||",d.map(function(t){return c+"."+t+"!=="+o[t]}).join("||"),"){",l,".bindBuffer(",ba,",",f,".buffer);",l,".vertexAttribPointer(",[u,r,i,o.normalized,o.stride,o.offset],");",c,".type=",i,";",c,".size=",r,";",d.map(function(t){return c+"."+t+"="+o[t]+";"}).join(""),"}"),J){var a=o.divisor;e("if(",c,".divisor!==",a,"){",t.instancing,".vertexAttribDivisorANGLE(",[u,a],");",c,".divisor=",a,";}")}}function a(){e("if(",c,".buffer){",l,".disableVertexAttribArray(",u,");","}if(",gi.map(function(t,e){return c+"."+t+"!=="+h[e]}).join("||"),"){",l,".vertexAttrib4f(",u,",",h,");",gi.map(function(t,e){return c+"."+t+"="+h[e]+";"}).join(""),"}")}var l=s.gl,u=e.def(r,".location"),c=e.def(s.attributes,"[",u,"]"),p=o.state,f=o.buffer,h=[o.x,o.y,o.z,o.w],d=["buffer","normalized","offset","stride"];p===xi?i():p===_i?a():(e("if(",p,"===",xi,"){"),i(),e("}else{"),a(),e("}"))}var s=t.shared;n.forEach(function(n){var s,l=n.name,u=r.attributes[l];if(u){if(!o(u))return;s=u.append(t,e)}else{if(!o(gs))return;var c=t.scopeAttrib(l);xe.optional(function(){t.assert(e,c+".state","missing attribute "+l)}),s={},Object.keys(new X).forEach(function(t){s[t]=e.def(c,".",t)})}a(t.link(n),i(n.info.type),s)})}function N(t,r,n,o,i){for(var a,s=t.shared,l=s.gl,u=0;u<o.length;++u){var c,p=o[u],f=p.name,h=p.info.type,d=n.uniforms[f],y=t.link(p),m=y+".location";if(d){if(!i(d))continue;if(Wt(d)){var v=d.value;if(xe.command(null!==v&&"undefined"!=typeof v,'missing uniform "'+f+'"',t.commandStr),h===Ka||h===Za){xe.command("function"==typeof v&&(h===Ka&&("texture2d"===v._reglType||"framebuffer"===v._reglType)||h===Za&&("textureCube"===v._reglType||"framebufferCube"===v._reglType)),"invalid texture for uniform "+f,t.commandStr);var g=t.link(v._texture||v.color[0]._texture);r(l,".uniform1i(",m,",",g+".bind());"),r.exit(g,".unbind();")}else if(h===Ga||h===Ya||h===Xa){xe.optional(function(){xe.command(yt(v),"invalid matrix for uniform "+f,t.commandStr),xe.command(h===Ga&&4===v.length||h===Ya&&9===v.length||h===Xa&&16===v.length,"invalid length for matrix uniform "+f,t.commandStr)});var b=t.global.def("new Float32Array(["+Array.prototype.slice.call(v)+"])"),x=2;h===Ya?x=3:h===Xa&&(x=4),r(l,".uniformMatrix",x,"fv(",m,",false,",b,");")}else{switch(h){case Ia:xe.commandType(v,"number","uniform "+f,t.commandStr),a="1f";break;case Ra:xe.command(yt(v)&&2===v.length,"uniform "+f,t.commandStr),a="2f";break;case Na:xe.command(yt(v)&&3===v.length,"uniform "+f,t.commandStr),a="3f";break;case ja:xe.command(yt(v)&&4===v.length,"uniform "+f,t.commandStr),a="4f";break;case Va:xe.commandType(v,"boolean","uniform "+f,t.commandStr),a="1i";break;case Fa:xe.commandType(v,"number","uniform "+f,t.commandStr),a="1i";break;case Ha:xe.command(yt(v)&&2===v.length,"uniform "+f,t.commandStr),a="2i";break;case za:xe.command(yt(v)&&2===v.length,"uniform "+f,t.commandStr),a="2i";break;case Wa:xe.command(yt(v)&&3===v.length,"uniform "+f,t.commandStr),a="3i";break;case Ba:xe.command(yt(v)&&3===v.length,"uniform "+f,t.commandStr),a="3i";break;case qa:xe.command(yt(v)&&4===v.length,"uniform "+f,t.commandStr),a="4i";break;case Ua:xe.command(yt(v)&&4===v.length,"uniform "+f,t.commandStr),a="4i"}r(l,".uniform",a,"(",m,",",yt(v)?Array.prototype.slice.call(v):v,");")}continue}c=d.append(t,r)}else{if(!i(gs))continue;c=r.def(s.uniforms,"[",e.id(f),"]")}h===Ka?r("if(",c,"&&",c,'._reglType==="framebuffer"){',c,"=",c,".color[0];","}"):h===Za&&r("if(",c,"&&",c,'._reglType==="framebufferCube"){',c,"=",c,".color[0];","}"),xe.optional(function(){function e(e,n){t.assert(r,e,'bad data or missing for uniform "'+f+'".  '+n)}function n(t){e("typeof "+c+'==="'+t+'"',"invalid type, expected "+t)}function o(r,n){e(s.isArrayLike+"("+c+")&&"+c+".length==="+r,"invalid vector, should have length "+r,t.commandStr)}function i(r){e("typeof "+c+'==="function"&&'+c+'._reglType==="texture'+(r===Ta?"2d":"Cube")+'"',"invalid texture type",t.commandStr)}switch(h){case Fa:n("number");break;case za:o(2,"number");break;case Ba:o(3,"number");break;case Ua:o(4,"number");break;case Ia:n("number");break;case Ra:o(2,"number");break;case Na:o(3,"number");break;case ja:o(4,"number");break;case Va:n("boolean");break;case Ha:o(2,"boolean");break;case Wa:o(3,"boolean");break;case qa:o(4,"boolean");break;case Ga:o(4,"number");break;case Ya:o(9,"number");break;case Xa:o(16,"number");break;case Ka:i(Ta);break;case Za:i(Ma)}});var _=1;switch(h){case Ka:case Za:var w=r.def(c,"._texture");r(l,".uniform1i(",m,",",w,".bind());"),r.exit(w,".unbind();");continue;case Fa:case Va:a="1i";break;case za:case Ha:a="2i",_=2;break;case Ba:case Wa:a="3i",_=3;break;case Ua:case qa:a="4i",_=4;break;case Ia:a="1f";break;case Ra:a="2f",_=2;break;case Na:a="3f",_=3;break;case ja:a="4f",_=4;break;case Ga:a="Matrix2fv";break;case Ya:a="Matrix3fv";break;case Xa:a="Matrix4fv"}if(r(l,".uniform",a,"(",m,","),"M"===a.charAt(0)){var T=Math.pow(h-Ga+2,2),M=t.global.def("new Float32Array(",T,")");r("false,(Array.isArray(",c,")||",c," instanceof Float32Array)?",c,":(",Z(T,function(t){return M+"["+t+"]="+c+"["+t+"]"}),",",M,")")}else r(_>1?Z(_,function(t){return c+"["+t+"]"}):c);r(");")}}function j(t,e,r,n){function o(){var o,i=f.elements,a=e;return i?((i.contextDep&&n.contextDynamic||i.propDep)&&(a=r),o=i.append(t,a)):o=a.def(p,".",oa),o&&a("if("+o+")"+c+".bindBuffer("+xa+","+o+".buffer.buffer);"),o}function i(){var o,i=f.count,a=e;return i?((i.contextDep&&n.contextDynamic||i.propDep)&&(a=r),o=i.append(t,a),xe.optional(function(){i.MISSING&&t.assert(e,"false","missing vertex count"),i.DYNAMIC&&t.assert(a,o+">=0","missing vertex count")})):(o=a.def(p,".",aa),xe.optional(function(){t.assert(a,o+">=0","missing vertex count")})),o}function a(o){var i=f[o];return i?i.contextDep&&n.contextDynamic||i.propDep?i.append(t,r):i.append(t,e):e.def(p,".",o)}function s(){function t(){r(g,".drawElementsInstancedANGLE(",[d,m,b,y+"<<(("+b+"-"+bi+")>>1)",v],");")}function e(){r(g,".drawArraysInstancedANGLE(",[d,y,m,v],");")}h?x?t():(r("if(",h,"){"),t(),r("}else{"),e(),r("}")):e()}function l(){function t(){r(c+".drawElements("+[d,m,b,y+"<<(("+b+"-"+bi+")>>1)"]+");")}function e(){r(c+".drawArrays("+[d,y,m]+");")}h?x?t():(r("if(",h,"){"),t(),r("}else{"),e(),r("}")):e()}var u=t.shared,c=u.gl,p=u.draw,f=n.draw,h=o(),d=a(ia),y=a(sa),m=i();if("number"==typeof m){if(0===m)return}else r("if(",m,"){"),r.exit("}");var v,g;J&&(v=a(la),g=t.instancing);var b=h+".type",x=f.elements&&Wt(f.elements);J&&("number"!=typeof v||v>=0)?"string"==typeof v?(r("if(",v,">0){"),s(),r("}else if(",v,"<0){"),l(),r("}")):s():l()}function F(t,e,r,n,o){var i=g(),a=i.proc("body",o);return xe.optional(function(){i.commandStr=e.commandStr,i.command=i.link(e.commandStr)}),J&&(i.instancing=a.def(i.shared.extensions,".angle_instanced_arrays")),t(i,a,r,n),i.compile().body}function z(t,e,r,n){O(t,e),R(t,e,r,n.attributes,function(){return!0}),N(t,e,r,n.uniforms,function(){return!0}),j(t,e,e,r)}function B(t,e){var r=t.proc("draw",1);O(t,r),A(t,r,e.context),P(t,r,e.framebuffer),L(t,r,e),D(t,r,e.state),I(t,r,e,!1,!0);var n=e.shader.progVar.append(t,r);if(r(t.shared.gl,".useProgram(",n,".program);"),e.shader.program)z(t,r,e,e.shader.program);else{var o=t.global.def("{}"),i=r.def(n,".id"),a=r.def(o,"[",i,"]");r(t.cond(a).then(a,".call(this,a0);").else(a,"=",o,"[",i,"]=",t.link(function(r){return F(z,t,e,r,1)}),"(",n,");",a,".call(this,a0);"))}Object.keys(e.state).length>0&&r(t.shared.current,".dirty=true;")}function U(t,e,r,n){function o(){return!0}t.batchId="a1",O(t,e),R(t,e,r,n.attributes,o),N(t,e,r,n.uniforms,o),j(t,e,e,r)}function V(t,e,r,n){function o(t){return t.contextDep&&a||t.propDep}function i(t){return!o(t)}O(t,e);var a=r.contextDep,s=e.def(),l="a0",u="a1",c=e.def();t.shared.props=c,t.batchId=s;var p=t.scope(),f=t.scope();if(e(p.entry,"for(",s,"=0;",s,"<",u,";++",s,"){",c,"=",l,"[",s,"];",f,"}",p.exit),r.needsContext&&A(t,f,r.context),r.needsFramebuffer&&P(t,f,r.framebuffer),D(t,f,r.state,o),r.profile&&o(r.profile)&&I(t,f,r,!1,!0),n)R(t,p,r,n.attributes,i),R(t,f,r,n.attributes,o),N(t,p,r,n.uniforms,i),N(t,f,r,n.uniforms,o),j(t,p,f,r);else{var h=t.global.def("{}"),d=r.shader.progVar.append(t,f),y=f.def(d,".id"),m=f.def(h,"[",y,"]");f(t.shared.gl,".useProgram(",d,".program);","if(!",m,"){",m,"=",h,"[",y,"]=",t.link(function(e){return F(U,t,r,e,2)}),"(",d,");}",m,".call(this,a0[",s,"],",s,");")}}function H(t,e){function r(t){return t.contextDep&&o||t.propDep}var n=t.proc("batch",2);t.batchId="0",O(t,n);var o=!1,i=!0;Object.keys(e.context).forEach(function(t){o=o||e.context[t].propDep}),o||(A(t,n,e.context),i=!1);var a=e.framebuffer,s=!1;a?(a.propDep?o=s=!0:a.contextDep&&o&&(s=!0),s||P(t,n,a)):P(t,n,null),e.state.viewport&&e.state.viewport.propDep&&(o=!0),L(t,n,e),D(t,n,e.state,function(t){return!r(t)}),e.profile&&r(e.profile)||I(t,n,e,!1,"a1"),e.contextDep=o,e.needsContext=i,e.needsFramebuffer=s;var l=e.shader.progVar;if(l.contextDep&&o||l.propDep)V(t,n,e,null);else{var u=l.append(t,n);if(n(t.shared.gl,".useProgram(",u,".program);"),e.shader.program)V(t,n,e,e.shader.program);else{var c=t.global.def("{}"),p=n.def(u,".id"),f=n.def(c,"[",p,"]");n(t.cond(f).then(f,".call(this,a0,a1);").else(f,"=",c,"[",p,"]=",t.link(function(r){return F(V,t,e,r,2)}),"(",u,");",f,".call(this,a0,a1);"))}}Object.keys(e.state).length>0&&n(t.shared.current,".dirty=true;")}function W(t,r){function n(e){var n=r.shader[e];n&&o.set(i.shader,"."+e,n.append(t,o))}var o=t.proc("scope",3);t.batchId="a2";var i=t.shared,a=i.current;A(t,o,r.context),r.framebuffer&&r.framebuffer.append(t,o),Vt(Object.keys(r.state)).forEach(function(e){var n=r.state[e],a=n.append(t,o);yt(a)?a.forEach(function(r,n){o.set(t.next[e],"["+n+"]",r)}):o.set(i.next,"."+e,a)}),I(t,o,r,!0,!0),[oa,sa,aa,la,ia].forEach(function(e){var n=r.draw[e];n&&o.set(i.draw,"."+e,""+n.append(t,o))}),Object.keys(r.uniforms).forEach(function(n){o.set(i.uniforms,"["+e.id(n)+"]",r.uniforms[n].append(t,o))}),Object.keys(r.attributes).forEach(function(e){var n=r.attributes[e].append(t,o),i=t.scopeAttrib(e);Object.keys(new X).forEach(function(t){o.set(i,"."+t,n[t])})}),n(ra),n(na),Object.keys(r.state).length>0&&(o(a,".dirty=true;"),o.exit(a,".dirty=true;")),o("a1(",t.shared.context,",a0,",t.batchId,");")}function q(t){if("object"==typeof t&&!yt(t)){for(var e=Object.keys(t),r=0;r<e.length;++r)if(Te.isDynamic(t[e[r]]))return!0;return!1}}function G(t,e,r){function n(t,e){a.forEach(function(r){var n=o[r];if(Te.isDynamic(n)){var i=t.invoke(e,n);e(c,".",r,"=",i,";")}})}var o=e.static[r];if(o&&q(o)){var i=t.global,a=Object.keys(o),s=!1,l=!1,u=!1,c=t.global.def("{}");a.forEach(function(e){var r=o[e];if(Te.isDynamic(r)){"function"==typeof r&&(r=o[e]=Te.unbox(r));var n=Gt(r,null);s=s||n.thisDep,u=u||n.propDep,l=l||n.contextDep}else{switch(i(c,".",e,"="),typeof r){case"number":i(r);break;case"string":i('"',r,'"');break;case"object":Array.isArray(r)&&i("[",r.join(),"]");break;default:i(t.link(r))}i(";")}}),e.dynamic[r]=new Te.DynamicVariable(Ei,{thisDep:s,contextDep:l,propDep:u,ref:c,append:n}),delete e.static[r]}}function Y(t,e,r,n,o){var i=g();i.stats=i.link(o),Object.keys(e.static).forEach(function(t){G(i,e,t)}),ga.forEach(function(e){G(i,t,e)});var a=C(t,e,r,n,i);return B(i,a),W(i,a),H(i,a),i.compile()}var X=u.Record,K={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(K.min=rs,K.max=ns);var J=r.angle_instanced_arrays,$=r.webgl_draw_buffers,Q={dirty:!0,profile:d.profile},tt={},et=[],rt={},nt={};m(ki,ka),m(Ci,Ea),v(Ai,"blendColor",[0,0,0,0]),v(Pi,"blendEquationSeparate",[ls,ls]),v(Li,"blendFuncSeparate",[ss,as,ss,as]),m(Di,Aa,!0),v(Oi,"depthFunc",us),v(Ii,"depthRange",[0,1]),v(Ri,"depthMask",!0),v(Ni,Ni,[!0,!0,!0,!0]),m(ji,Sa),v(Fi,"cullFace",Qa),v(zi,zi,es),v(Bi,Bi,1),m(Ui,La),v(Vi,"polygonOffset",[0,0]),m(Hi,Da),m(Wi,Oa),v(qi,"sampleCoverage",[1,!1]),m(Gi,Ca),v(Yi,"stencilMask",-1),v(Xi,"stencilFunc",[os,0,-1]),v(Ki,"stencilOpSeparate",[$a,is,is,is]),v(Zi,"stencilOpSeparate",[Qa,is,is,is]),m(Ji,Pa),v($i,"scissor",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]),v(Qi,Qi,[0,0,t.drawingBufferWidth,t.drawingBufferHeight]);var ot={gl:t,context:f,strings:e,next:tt,current:Q,draw:p,elements:i,buffer:o,shader:c,attributes:u.state,uniforms:l,framebuffer:s,extensions:r,timer:h,isBufferArgs:Ut},it={primTypes:Nr,compareFuncs:ds,blendFuncs:fs,blendEquations:K,stencilOps:ys,glTypes:br,orientationType:vs};xe.optional(function(){ot.isArrayLike=yt}),$&&(it.backBuffer=[Qa],it.drawBuffer=Z(n.maxDrawbuffers,function(t){return 0===t?[0]:Z(t,function(t){return ps+t})}));var at=0;return{next:tt,current:Q,procs:function(){var e=g(),r=e.proc("poll"),o=e.proc("refresh"),i=e.block();r(i),o(i);var a=e.shared,s=a.gl,l=a.next,u=a.current;i(u,".dirty=false;"),P(e,r),P(e,o,null,!0);var c,p=t.getExtension("angle_instanced_arrays");p&&(c=e.link(p));for(var f=0;f<n.maxAttributes;++f){var h=o.def(a.attributes,"[",f,"]"),d=e.cond(h,".buffer");d.then(s,".enableVertexAttribArray(",f,");",s,".bindBuffer(",ba,",",h,".buffer.buffer);",s,".vertexAttribPointer(",f,",",h,".size,",h,".type,",h,".normalized,",h,".stride,",h,".offset);").else(s,".disableVertexAttribArray(",f,");",s,".vertexAttrib4f(",f,",",h,".x,",h,".y,",h,".z,",h,".w);",h,".buffer=null;"),o(d),p&&o(c,".vertexAttribDivisorANGLE(",f,",",h,".divisor);")}return Object.keys(rt).forEach(function(t){var n=rt[t],a=i.def(l,".",t),c=e.block();c("if(",a,"){",s,".enable(",n,")}else{",s,".disable(",n,")}",u,".",t,"=",a,";"),o(c),r("if(",a,"!==",u,".",t,"){",c,"}")}),Object.keys(nt).forEach(function(t){var n,a,c=nt[t],p=Q[t],f=e.block();if(f(s,".",c,"("),yt(p)){var h=p.length;n=e.global.def(l,".",t),a=e.global.def(u,".",t),f(Z(h,function(t){return n+"["+t+"]"}),");",Z(h,function(t){return a+"["+t+"]="+n+"["+t+"];"}).join("")),r("if(",Z(h,function(t){return n+"["+t+"]!=="+a+"["+t+"]"}).join("||"),"){",f,"}")}else n=i.def(l,".",t),a=i.def(u,".",t),f(n,");",u,".",t,"=",n,";"),r("if(",n,"!==",a,"){",f,"}");o(f)}),e.compile()}(),compile:Y}}function Xt(){return{bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}function Kt(t,e){for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}function Zt(t){function e(){if(0===W.length)return M&&M.update(),void(Z=null);Z=Me.next(e),f();for(var t=W.length-1;t>=0;--t){var r=W[t];r&&r(C,null,0)}v.flush(),M&&M.update()}function r(){!Z&&W.length>0&&(Z=Me.next(e))}function n(){Z&&(Me.cancel(e),Z=null)}function o(t){t.preventDefault(),b=!0,n(),q.forEach(function(t){t()})}function i(t){v.getError(),b=!1,x.restore(),R.restore(),D.restore(),N.restore(),j.restore(),F.restore(),M&&M.restore(),z.procs.refresh(),r(),G.forEach(function(t){t()})}function a(){W.length=0,n(),H&&(H.removeEventListener(ks,o),H.removeEventListener(Cs,i)),R.clear(),F.clear(),j.clear(),N.clear(),O.clear(),D.clear(),M&&M.clear(),K.forEach(function(t){t()})}function s(t){function e(t){function e(t){if(t in r){var e=r[t];delete r[t],Object.keys(e).forEach(function(n){r[t+"."+n]=e[n]})}}var r=Qt({},t);return delete r.uniforms,delete r.attributes,delete r.context,"stencil"in r&&r.stencil.op&&(r.stencil.opBack=r.stencil.opFront=r.stencil.op,delete r.stencil.op),e("blend"),e("depth"),e("cull"),e("stencil"),e("polygonOffset"),e("scissor"),e("sample"),r}function r(t){var e={},r={};return Object.keys(t).forEach(function(n){var o=t[n];Te.isDynamic(o)?r[n]=Te.unbox(o,n):e[n]=o}),{dynamic:r,static:e}}function n(t){for(;d.length<t;)d.push(null);return d}function o(t,e){var r;if(b&&xe.raise("context lost"),"function"==typeof t)return h.call(this,null,t,0);if("function"==typeof e){if("number"==typeof t){for(r=0;r<t;++r)h.call(this,null,e,r);return}if(Array.isArray(t)){for(r=0;r<t.length;++r)h.call(this,t[r],e,r);return}return h.call(this,t,e,0)}if("number"==typeof t){if(t>0)return f.call(this,n(0|t),0|t)}else{if(!Array.isArray(t))return p.call(this,t);if(t.length)return f.call(this,t,t.length)}}xe(!!t,"invalid args to regl({...})"),xe.type(t,"object","invalid args to regl({...})");var i=r(t.context||{}),a=r(t.uniforms||{}),s=r(t.attributes||{}),l=r(e(t)),u={gpuTime:0,cpuTime:0,count:0},c=z.compile(l,s,a,i,u),p=c.draw,f=c.batch,h=c.scope,d=[];return Qt(o,{stats:u})}function l(t,e){var r=0;z.procs.poll();var n=e.color;n&&(v.clearColor(+n[0]||0,+n[1]||0,+n[2]||0,+n[3]||0),r|=Ts),"depth"in e&&(v.clearDepth(+e.depth),r|=Ms),"stencil"in e&&(v.clearStencil(0|e.stencil),r|=Ss),xe(!!r,"called regl.clear with no buffer specified"),v.clear(r)}function u(t){if(xe("object"==typeof t&&t,"regl.clear() takes an object as input"),"framebuffer"in t)if(t.framebuffer&&"framebufferCube"===t.framebuffer_reglType)for(var e=0;e<6;++e)J(Qt({framebuffer:t.framebuffer.faces[e]},t),l);else J(t,l);else l(null,t)}function c(t){function e(){function e(){var t=Kt(W,e);W[t]=W[W.length-1],W.length-=1,W.length<=0&&n()}var r=Kt(W,t);xe(r>=0,"cannot cancel a frame twice"),W[r]=e}return xe.type(t,"function","regl.frame() callback must be a function"),W.push(t),r(),{cancel:e}}function p(){var t=V.viewport,e=V.scissor_box;t[0]=t[1]=e[0]=e[1]=0,C.viewportWidth=C.framebufferWidth=C.drawingBufferWidth=t[2]=e[2]=v.drawingBufferWidth,C.viewportHeight=C.framebufferHeight=C.drawingBufferHeight=t[3]=e[3]=v.drawingBufferHeight}function f(){C.tick+=1,C.time=d(),p(),z.procs.poll()}function h(){p(),z.procs.refresh(),M&&M.update()}function d(){return(Se()-S)/1e3}function y(t,e){xe.type(e,"function","listener callback must be a function");var r;switch(t){case"frame":return c(e);case"lost":r=q;break;case"restore":r=G;break;case"destroy":r=K;break;default:xe.raise("invalid event, must be one of frame,lost,restore,destroy")}return r.push(e),{cancel:function(){for(var t=0;t<r.length;++t)if(r[t]===e)return r[t]=r[r.length-1],void r.pop()}}}var m=Y(t);if(!m)return null;var v=m.gl,g=v.getContextAttributes(),b=v.isContextLost(),x=X(v,m);if(!x)return null;var _=B(),w=Xt(),T=x.extensions,M=ws(v,T),S=Se(),E=v.drawingBufferWidth,k=v.drawingBufferHeight,C={tick:0,time:0,viewportWidth:E,viewportHeight:k,framebufferWidth:E,framebufferHeight:k,drawingBufferWidth:E,drawingBufferHeight:k,pixelRatio:m.pixelRatio},A={},P={elements:null,primitive:4,count:-1,offset:0,instances:-1},L=Qe(v,T),D=ft(v,w,m),O=ht(v,T,D,w),I=Rt(v,T,L,D,_),R=Nt(v,_,w,m),N=Lt(v,T,L,function(){z.procs.poll()},C,w,m),j=Ao(v,T,L,w,m),F=Ot(v,T,L,N,j,w),z=Yt(v,_,T,L,D,O,N,F,A,I,R,P,C,M,m),U=jt(v,F,z.procs.poll,C,g,T),V=z.next,H=v.canvas,W=[],q=[],G=[],K=[m.onDestroy],Z=null;H&&(H.addEventListener(ks,o,!1),H.addEventListener(Cs,i,!1));var J=F.setFBO=s({framebuffer:Te.define.call(null,As,"framebuffer")});h();var $=Qt(s,{clear:u,prop:Te.define.bind(null,As),context:Te.define.bind(null,Ps),this:Te.define.bind(null,Ls),draw:s({}),buffer:function(t){return D.create(t,Es,!1,!1)},elements:function(t){return O.create(t,!1)},texture:N.create2D,cube:N.createCube,renderbuffer:j.create,framebuffer:F.create,framebufferCube:F.createCube,attributes:g,frame:c,on:y,limits:L,hasExtension:function(t){return L.extensions.indexOf(t.toLowerCase())>=0},read:U,destroy:a,_gl:v,_refresh:h,poll:function(){f(),M&&M.update()},now:d,stats:w});return m.onDone(null,$),$}var Jt={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},$t=function(t){return Object.prototype.toString.call(t)in Jt},Qt=function(t,e){for(var r=Object.keys(e),n=0;n<r.length;++n)t[r[n]]=e[r[n]];return t},te=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"],ee=33071,re=9728,ne=9984,oe=9985,ie=9986,ae=9987,se=5120,le=5121,ue=5122,ce=5123,pe=5124,fe=5125,he=5126,de=32819,ye=32820,me=33635,ve=34042,ge=36193,be={};be[se]=be[le]=1,be[ue]=be[ce]=be[ge]=be[me]=be[de]=be[ye]=2,be[pe]=be[fe]=be[he]=be[ve]=4;var xe=Qt(r,{optional:k,raise:e,commandRaise:T,command:M,parameter:o,commandParameter:S,constructor:u,type:a,commandType:E,isTypedArray:i,nni:s,oneOf:l,shaderError:b,linkError:x,callSite:y,saveCommandRef:_,saveDrawInfo:w,framebufferFormat:C,guessCommand:d,texture2D:L,textureCube:D}),_e=0,we=0,Te={DynamicVariable:O,define:j,isDynamic:F,unbox:z,accessor:N},Me={next:"function"==typeof requestAnimationFrame?function(t){return requestAnimationFrame(t)}:function(t){return setTimeout(t,16)},cancel:"function"==typeof cancelAnimationFrame?function(t){return cancelAnimationFrame(t)}:clearTimeout},Se="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date},Ee=3408,ke=3410,Ce=3411,Ae=3412,Pe=3413,Le=3414,De=3415,Oe=33901,Ie=33902,Re=3379,Ne=3386,je=34921,Fe=36347,ze=36348,Be=35661,Ue=35660,Ve=34930,He=36349,We=34076,qe=34024,Ge=7936,Ye=7937,Xe=7938,Ke=35724,Ze=34047,Je=36063,$e=34852,Qe=function(t,e){var r=1;e.ext_texture_filter_anisotropic&&(r=t.getParameter(Ze));var n=1,o=1;return e.webgl_draw_buffers&&(n=t.getParameter($e),o=t.getParameter(Je)),{colorBits:[t.getParameter(ke),t.getParameter(Ce),t.getParameter(Ae),t.getParameter(Pe)],depthBits:t.getParameter(Le),stencilBits:t.getParameter(De),subpixelBits:t.getParameter(Ee),extensions:Object.keys(e).filter(function(t){return!!e[t]}),maxAnisotropic:r,maxDrawbuffers:n,maxColorAttachments:o,pointSizeDims:t.getParameter(Oe),lineWidthDims:t.getParameter(Ie),maxViewportDims:t.getParameter(Ne),maxCombinedTextureUnits:t.getParameter(Be),maxCubeMapSize:t.getParameter(We),maxRenderbufferSize:t.getParameter(qe),maxTextureUnits:t.getParameter(Ve),maxTextureSize:t.getParameter(Re),maxAttributes:t.getParameter(je),maxVertexUniforms:t.getParameter(Fe),maxVertexTextureUnits:t.getParameter(Ue),maxVaryingVectors:t.getParameter(ze),maxFragmentUniforms:t.getParameter(He),glsl:t.getParameter(Ke),renderer:t.getParameter(Ye),vendor:t.getParameter(Ge),version:t.getParameter(Xe)}},tr=function(t){return Object.keys(t).map(function(e){return t[e]})},er=5120,rr=5121,nr=5122,or=5123,ir=5124,ar=5125,sr=5126,lr=Z(8,function(){return[]}),ur={alloc:Q,free:tt,allocType:et,freeType:rt},cr={shape:lt,flatten:st},pr=5120,fr=5122,hr=5124,dr=5121,yr=5123,mr=5125,vr=5126,gr=5126,br={int8:pr,int16:fr,int32:hr,uint8:dr,uint16:yr,uint32:mr,float:vr,float32:gr},xr=35048,_r=35040,wr={dynamic:xr,stream:_r,static:35044},Tr=cr.flatten,Mr=cr.shape,Sr=35044,Er=35040,kr=5121,Cr=5126,Ar=[];Ar[5120]=1,Ar[5122]=2,Ar[5124]=4,Ar[5121]=1,Ar[5123]=2,Ar[5125]=4,Ar[5126]=4;var Pr=0,Lr=0,Dr=1,Or=1,Ir=4,Rr=4,Nr={points:Pr,point:Lr,lines:Dr,line:Or,triangles:Ir,triangle:Rr,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},jr=0,Fr=1,zr=4,Br=5120,Ur=5121,Vr=5122,Hr=5123,Wr=5124,qr=5125,Gr=34963,Yr=35040,Xr=35044,Kr=new Float32Array(1),Zr=new Uint32Array(Kr.buffer),Jr=5123,$r=34467,Qr=3553,tn=34067,en=34069,rn=6408,nn=6406,on=6407,an=6409,sn=6410,ln=32854,un=32855,cn=36194,pn=32819,fn=32820,hn=33635,dn=34042,yn=6402,mn=34041,vn=35904,gn=35906,bn=36193,xn=33776,_n=33777,wn=33778,Tn=33779,Mn=35986,Sn=35987,En=34798,kn=35840,Cn=35841,An=35842,Pn=35843,Ln=36196,Dn=5121,On=5123,In=5125,Rn=5126,Nn=10242,jn=10243,Fn=10497,zn=33071,Bn=33648,Un=10240,Vn=10241,Hn=9728,Wn=9729,qn=9984,Gn=9985,Yn=9986,Xn=9987,Kn=33170,Zn=4352,Jn=4353,$n=4354,Qn=34046,to=3317,eo=37440,ro=37441,no=37443,oo=37444,io=33984,ao=[qn,Yn,Gn,Xn],so=[0,an,sn,on,rn],lo={};
lo[an]=lo[nn]=lo[yn]=1,lo[mn]=lo[sn]=2,lo[on]=lo[vn]=3,lo[rn]=lo[gn]=4;var uo=mt("HTMLCanvasElement"),co=mt("CanvasRenderingContext2D"),po=mt("HTMLImageElement"),fo=mt("HTMLVideoElement"),ho=Object.keys(Jt).concat([uo,co,po,fo]),yo=[];yo[Dn]=1,yo[Rn]=4,yo[bn]=2,yo[On]=2,yo[In]=4;var mo=[];mo[ln]=2,mo[un]=2,mo[cn]=2,mo[mn]=4,mo[xn]=.5,mo[_n]=.5,mo[wn]=1,mo[Tn]=1,mo[Mn]=.5,mo[Sn]=1,mo[En]=1,mo[kn]=.5,mo[Cn]=.25,mo[An]=.5,mo[Pn]=.25,mo[Ln]=.5;var vo=36161,go=32854,bo=32855,xo=36194,_o=33189,wo=36168,To=34041,Mo=35907,So=34836,Eo=34842,ko=34843,Co=[];Co[go]=2,Co[bo]=2,Co[xo]=2,Co[_o]=2,Co[wo]=1,Co[To]=4,Co[Mo]=4,Co[So]=16,Co[Eo]=8,Co[ko]=6;var Ao=function(t,e,r,n,o){function i(t){this.id=p++,this.refCount=1,this.renderbuffer=t,this.format=go,this.width=0,this.height=0,o.profile&&(this.stats={size:0})}function a(e){var r=e.renderbuffer;xe(r,"must not double destroy renderbuffer"),t.bindRenderbuffer(vo,null),t.deleteRenderbuffer(r),e.renderbuffer=null,e.refCount=0,delete f[e.id],n.renderbufferCount--}function s(e,a){function s(e,n){var i=0,a=0,l=go;if("object"==typeof e&&e){var f=e;if("shape"in f){var h=f.shape;xe(Array.isArray(h)&&h.length>=2,"invalid renderbuffer shape"),i=0|h[0],a=0|h[1]}else"radius"in f&&(i=a=0|f.radius),"width"in f&&(i=0|f.width),"height"in f&&(a=0|f.height);"format"in f&&(xe.parameter(f.format,u,"invalid renderbuffer format"),l=u[f.format])}else"number"==typeof e?(i=0|e,a="number"==typeof n?0|n:i):e?xe.raise("invalid arguments to renderbuffer constructor"):i=a=1;if(xe(i>0&&a>0&&i<=r.maxRenderbufferSize&&a<=r.maxRenderbufferSize,"invalid renderbuffer size"),i!==p.width||a!==p.height||l!==p.format)return s.width=p.width=i,s.height=p.height=a,p.format=l,t.bindRenderbuffer(vo,p.renderbuffer),t.renderbufferStorage(vo,l,i,a),o.profile&&(p.stats.size=Dt(p.format,p.width,p.height)),s.format=c[p.format],s}function l(e,n){var i=0|e,a=0|n||i;return i===p.width&&a===p.height?s:(xe(i>0&&a>0&&i<=r.maxRenderbufferSize&&a<=r.maxRenderbufferSize,"invalid renderbuffer size"),s.width=p.width=i,s.height=p.height=a,t.bindRenderbuffer(vo,p.renderbuffer),t.renderbufferStorage(vo,p.format,i,a),o.profile&&(p.stats.size=Dt(p.format,p.width,p.height)),s)}var p=new i(t.createRenderbuffer());return f[p.id]=p,n.renderbufferCount++,s(e,a),s.resize=l,s._reglType="renderbuffer",s._renderbuffer=p,o.profile&&(s.stats=p.stats),s.destroy=function(){p.decRef()},s}function l(){tr(f).forEach(function(e){e.renderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(vo,e.renderbuffer),t.renderbufferStorage(vo,e.format,e.width,e.height)}),t.bindRenderbuffer(vo,null)}var u={rgba4:go,rgb565:xo,"rgb5 a1":bo,depth:_o,stencil:wo,"depth stencil":To};e.ext_srgb&&(u.srgba=Mo),e.ext_color_buffer_half_float&&(u.rgba16f=Eo,u.rgb16f=ko),e.webgl_color_buffer_float&&(u.rgba32f=So);var c=[];Object.keys(u).forEach(function(t){var e=u[t];c[e]=t});var p=0,f={};return i.prototype.decRef=function(){--this.refCount<=0&&a(this)},o.profile&&(n.getTotalRenderbufferSize=function(){var t=0;return Object.keys(f).forEach(function(e){t+=f[e].stats.size}),t}),{create:s,clear:function(){tr(f).forEach(a)},restore:l}},Po=36160,Lo=36161,Do=3553,Oo=34069,Io=36064,Ro=36096,No=36128,jo=33306,Fo=36053,zo=36054,Bo=36055,Uo=36057,Vo=36061,Ho=36193,Wo=5121,qo=5126,Go=6408,Yo=6402,Xo=[Go],Ko=[];Ko[Go]=4;var Zo=[];Zo[Wo]=1,Zo[qo]=4,Zo[Ho]=2;var Jo=32854,$o=32855,Qo=36194,ti=33189,ei=36168,ri=34041,ni=35907,oi=34836,ii=34842,ai=34843,si=[Jo,$o,Qo,ni,ii,ai,oi],li={};li[Fo]="complete",li[zo]="incomplete attachment",li[Uo]="incomplete dimensions",li[Bo]="incomplete, missing attachment",li[Vo]="unsupported";var ui=5126,ci=35632,pi=35633,fi=35718,hi=35721,di=6408,yi=5121,mi=3333,vi=5126,gi="xyzw".split(""),bi=5121,xi=1,_i=2,wi=0,Ti=1,Mi=2,Si=3,Ei=4,ki="dither",Ci="blend.enable",Ai="blend.color",Pi="blend.equation",Li="blend.func",Di="depth.enable",Oi="depth.func",Ii="depth.range",Ri="depth.mask",Ni="colorMask",ji="cull.enable",Fi="cull.face",zi="frontFace",Bi="lineWidth",Ui="polygonOffset.enable",Vi="polygonOffset.offset",Hi="sample.alpha",Wi="sample.enable",qi="sample.coverage",Gi="stencil.enable",Yi="stencil.mask",Xi="stencil.func",Ki="stencil.opFront",Zi="stencil.opBack",Ji="scissor.enable",$i="scissor.box",Qi="viewport",ta="profile",ea="framebuffer",ra="vert",na="frag",oa="elements",ia="primitive",aa="count",sa="offset",la="instances",ua="Width",ca="Height",pa=ea+ua,fa=ea+ca,ha=Qi+ua,da=Qi+ca,ya="drawingBuffer",ma=ya+ua,va=ya+ca,ga=[Li,Pi,Xi,Ki,Zi,qi,Qi,$i,Vi],ba=34962,xa=34963,_a=35632,wa=35633,Ta=3553,Ma=34067,Sa=2884,Ea=3042,ka=3024,Ca=2960,Aa=2929,Pa=3089,La=32823,Da=32926,Oa=32928,Ia=5126,Ra=35664,Na=35665,ja=35666,Fa=5124,za=35667,Ba=35668,Ua=35669,Va=35670,Ha=35671,Wa=35672,qa=35673,Ga=35674,Ya=35675,Xa=35676,Ka=35678,Za=35680,Ja=4,$a=1028,Qa=1029,ts=2304,es=2305,rs=32775,ns=32776,os=519,is=7680,as=0,ss=1,ls=32774,us=513,cs=36160,ps=36064,fs={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},hs=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],ds={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},ys={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},ms={frag:_a,vert:wa},vs={cw:ts,ccw:es},gs=new Ht(!1,!1,!1,function(){}),bs=34918,xs=34919,_s=35007,ws=function(t,e){function r(){return f.pop()||p.createQueryEXT()}function n(t){f.push(t)}function o(t){var e=r();p.beginQueryEXT(_s,e),h.push(e),u(h.length-1,h.length,t)}function i(){p.endQueryEXT(_s)}function a(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}function s(){return d.pop()||new a}function l(t){d.push(t)}function u(t,e,r){var n=s();n.startQueryIndex=t,n.endQueryIndex=e,n.sum=0,n.stats=r,y.push(n)}function c(){var t,e,r=h.length;if(0!==r){v.length=Math.max(v.length,r+1),m.length=Math.max(m.length,r+1),m[0]=0,v[0]=0;var o=0;for(t=0,e=0;e<h.length;++e){var i=h[e];p.getQueryObjectEXT(i,xs)?(o+=p.getQueryObjectEXT(i,bs),n(i)):h[t++]=i,m[e+1]=o,v[e+1]=t}for(h.length=t,t=0,e=0;e<y.length;++e){var a=y[e],s=a.startQueryIndex,u=a.endQueryIndex;a.sum+=m[u]-m[s];var c=v[s],f=v[u];f===c?(a.stats.gpuTime+=a.sum/1e6,l(a)):(a.startQueryIndex=c,a.endQueryIndex=f,y[t++]=a)}y.length=t}}var p=e.ext_disjoint_timer_query;if(!p)return null;var f=[],h=[],d=[],y=[],m=[],v=[];return{beginQuery:o,endQuery:i,pushScopeStats:u,update:c,getNumPendingQueries:function(){return h.length},clear:function(){f.push.apply(f,h);for(var t=0;t<f.length;t++)p.deleteQueryEXT(f[t]);h.length=0,f.length=0},restore:function(){h.length=0,f.length=0}}},Ts=16384,Ms=256,Ss=1024,Es=34962,ks="webglcontextlost",Cs="webglcontextrestored",As=1,Ps=2,Ls=3;return Zt})},{}],479:[function(t,e,r){/*!
	 * repeat-string <https://github.com/jonschlinkert/repeat-string>
	 *
	 * Copyright (c) 2014-2015, Jon Schlinkert.
	 * Licensed under the MIT License.
	 */
"use strict";function n(t,e){if("string"!=typeof t)throw new TypeError("expected a string");if(1===e)return t;if(2===e)return t+t;var r=t.length*e;if(o!==t||"undefined"==typeof o)o=t,i="";else if(i.length>=r)return i.substr(0,r);for(;r>i.length&&e>1;)1&e&&(i+=t),e>>=1,t+=t;return i+=t,i=i.substr(0,r)}var o,i="";e.exports=n},{}],480:[function(e,r,n){void function(e,o){"function"==typeof t&&t.amd?t(o):"object"==typeof n?r.exports=o():e.resolveUrl=o()}(this,function(){function t(){var t=arguments.length;if(0===t)throw new Error("resolveUrl requires at least one argument; got none.");var e=document.createElement("base");if(e.href=arguments[0],1===t)return e.href;var r=document.getElementsByTagName("head")[0];r.insertBefore(e,r.firstChild);for(var n,o=document.createElement("a"),i=1;i<t;i++)o.href=arguments[i],n=o.href,e.href=n;return r.removeChild(e),n}return t})},{}],481:[function(t,r,n){(function(t){r.exports=t.performance&&t.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],482:[function(t,e,r){"use strict";function n(t){for(var e=t.length,r=t[t.length-1],n=e,o=e-2;o>=0;--o){var i=r,a=t[o];r=i+a;var s=r-i,l=a-s;l&&(t[--n]=r,r=l)}for(var u=0,o=n;o<e;++o){var i=t[o],a=r;r=i+a;var s=r-i,l=a-s;l&&(t[u++]=l)}return t[u++]=r,t.length=u,t}e.exports=n},{}],483:[function(t,e,r){"use strict";function n(t,e){for(var r=new Array(t.length-1),n=1;n<t.length;++n)for(var o=r[n-1]=new Array(t.length-1),i=0,a=0;i<t.length;++i)i!==e&&(o[a++]=t[n][i]);return r}function o(t){for(var e=new Array(t),r=0;r<t;++r){e[r]=new Array(t);for(var n=0;n<t;++n)e[r][n]=["m[",r,"][",n,"]"].join("")}return e}function i(t){return 1&t?"-":""}function a(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",a(t.slice(0,e)),",",a(t.slice(e)),")"].join("")}function s(t){if(2===t.length)return["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("");for(var e=[],r=0;r<t.length;++r)e.push(["scale(",s(n(t,r)),",",i(r),t[0][r],")"].join(""));return a(e)}function l(t){var e=new Function("sum","scale","prod","compress",["function robustDeterminant",t,"(m){return compress(",s(o(t)),")};return robustDeterminant",t].join(""));return e(p,f,c,h)}function u(){for(;y.length<d;)y.push(l(y.length));for(var t=[],r=["function robustDeterminant(m){switch(m.length){"],n=0;n<d;++n)t.push("det"+n),r.push("case ",n,":return det",n,"(m);");r.push("}\tvar det=CACHE[m.length];\tif(!det)\tdet=CACHE[m.length]=gen(m.length);\treturn det(m);\t}\treturn robustDeterminant"),t.push("CACHE","gen",r.join(""));var o=Function.apply(void 0,t);e.exports=o.apply(void 0,y.concat([y,l]));for(var n=0;n<y.length;++n)e.exports[n]=y[n]}var c=t("two-product"),p=t("robust-sum"),f=t("robust-scale"),h=t("robust-compress"),d=6,y=[function(){return[0]},function(t){return[t[0][0]]}];u()},{"robust-compress":482,"robust-scale":489,"robust-sum":492,"two-product":517}],484:[function(t,e,r){"use strict";function n(t,e){for(var r=o(t[0],e[0]),n=1;n<t.length;++n)r=i(r,o(t[n],e[n]));return r}var o=t("two-product"),i=t("robust-sum");e.exports=n},{"robust-sum":492,"two-product":517}],485:[function(t,e,r){"use strict";function n(t,e){for(var r=new Array(t.length-1),n=1;n<t.length;++n)for(var o=r[n-1]=new Array(t.length-1),i=0,a=0;i<t.length;++i)i!==e&&(o[a++]=t[n][i]);return r}function o(t){for(var e=new Array(t),r=0;r<t;++r){e[r]=new Array(t);for(var n=0;n<t;++n)e[r][n]=["m",n,"[",t-r-2,"]"].join("")}return e}function i(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",i(t.slice(0,e)),",",i(t.slice(e)),")"].join("")}function a(t,e){if("m"===t.charAt(0)){if("w"===e.charAt(0)){var r=t.split("[");return["w",e.substr(1),"m",r[0].substr(1)].join("")}return["prod(",t,",",e,")"].join("")}return a(e,t)}function s(t){return t&!0?"-":""}function l(t){if(2===t.length)return[["diff(",a(t[0][0],t[1][1]),",",a(t[1][0],t[0][1]),")"].join("")];for(var e=[],r=0;r<t.length;++r)e.push(["scale(",i(l(n(t,r))),",",s(r),t[0][r],")"].join(""));return e}function u(t,e){for(var r=[],n=0;n<e-2;++n)r.push(["prod(m",t,"[",n,"],m",t,"[",n,"])"].join(""));return i(r)}function c(t){for(var e=[],r=[],a=o(t),s=0;s<t;++s)a[0][s]="1",a[t-1][s]="w"+s;for(var s=0;s<t;++s)0===(1&s)?e.push.apply(e,l(n(a,s))):r.push.apply(r,l(n(a,s)));for(var c=i(e),p=i(r),f="exactInSphere"+t,h=[],s=0;s<t;++s)h.push("m"+s);for(var d=["function ",f,"(",h.join(),"){"],s=0;s<t;++s){d.push("var w",s,"=",u(s,t),";");for(var y=0;y<t;++y)y!==s&&d.push("var w",s,"m",y,"=scale(w",s,",m",y,"[0]);")}d.push("var p=",c,",n=",p,",d=diff(p,n);return d[d.length-1];}return ",f);var x=new Function("sum","diff","prod","scale",d.join(""));return x(v,g,m,b)}function p(){return 0}function f(){return 0}function h(){return 0}function d(t){var e=_[t.length];return e||(e=_[t.length]=c(t.length)),e.apply(void 0,t)}function y(){for(;_.length<=x;)_.push(c(_.length));for(var t=[],r=["slow"],n=0;n<=x;++n)t.push("a"+n),r.push("o"+n);for(var o=["function testInSphere(",t.join(),"){switch(arguments.length){case 0:case 1:return 0;"],n=2;n<=x;++n)o.push("case ",n,":return o",n,"(",t.slice(0,n).join(),");");o.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return testInSphere"),r.push(o.join(""));var i=Function.apply(void 0,r);e.exports=i.apply(void 0,[d].concat(_));for(var n=0;n<=x;++n)e.exports[n]=_[n]}var m=t("two-product"),v=t("robust-sum"),g=t("robust-subtract"),b=t("robust-scale"),x=6,_=[p,f,h];y()},{"robust-scale":489,"robust-subtract":491,"robust-sum":492,"two-product":517}],486:[function(t,e,r){"use strict";function n(t){for(var e="robustLinearSolve"+t+"d",r=["function ",e,"(A,b){return ["],n=0;n<t;++n){r.push("det([");for(var o=0;o<t;++o){o>0&&r.push(","),r.push("[");for(var i=0;i<t;++i)i>0&&r.push(","),i===n?r.push("+b[",o,"]"):r.push("+A[",o,"][",i,"]");r.push("]")}r.push("]),")}r.push("det(A)]}return ",e);var a=new Function("det",r.join(""));return a(t<6?s[t]:s)}function o(){return[0]}function i(t,e){return[[e[0]],[t[0][0]]]}function a(){for(;u.length<l;)u.push(n(u.length));for(var t=[],r=["function dispatchLinearSolve(A,b){switch(A.length){"],o=0;o<l;++o)t.push("s"+o),r.push("case ",o,":return s",o,"(A,b);");r.push("}var s=CACHE[A.length];if(!s)s=CACHE[A.length]=g(A.length);return s(A,b)}return dispatchLinearSolve"),t.push("CACHE","g",r.join(""));var i=Function.apply(void 0,t);e.exports=i.apply(void 0,u.concat([u,n]));for(var o=0;o<l;++o)e.exports[o]=u[o]}var s=t("robust-determinant"),l=6,u=[o,i];a()},{"robust-determinant":483}],487:[function(t,e,r){"use strict";function n(t,e){for(var r=new Array(t.length-1),n=1;n<t.length;++n)for(var o=r[n-1]=new Array(t.length-1),i=0,a=0;i<t.length;++i)i!==e&&(o[a++]=t[n][i]);return r}function o(t){for(var e=new Array(t),r=0;r<t;++r){e[r]=new Array(t);for(var n=0;n<t;++n)e[r][n]=["m",n,"[",t-r-1,"]"].join("")}return e}function i(t){return 1&t?"-":""}function a(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",a(t.slice(0,e)),",",a(t.slice(e)),")"].join("")}function s(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var e=[],r=0;r<t.length;++r)e.push(["scale(",a(s(n(t,r))),",",i(r),t[0][r],")"].join(""));return e}function l(t){for(var e=[],r=[],i=o(t),l=[],u=0;u<t;++u)0===(1&u)?e.push.apply(e,s(n(i,u))):r.push.apply(r,s(n(i,u))),l.push("m"+u);var c=a(e),y=a(r),m="orientation"+t+"Exact",v=["function ",m,"(",l.join(),"){var p=",c,",n=",y,",d=sub(p,n);\treturn d[d.length-1];};return ",m].join(""),g=new Function("sum","prod","scale","sub",v);return g(f,p,h,d)}function u(t){var e=_[t.length];return e||(e=_[t.length]=l(t.length)),e.apply(void 0,t)}function c(){for(;_.length<=y;)_.push(l(_.length));for(var t=[],r=["slow"],n=0;n<=y;++n)t.push("a"+n),r.push("o"+n);for(var o=["function getOrientation(",t.join(),"){switch(arguments.length){case 0:case 1:return 0;"],n=2;n<=y;++n)o.push("case ",n,":return o",n,"(",t.slice(0,n).join(),");");o.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),r.push(o.join(""));var i=Function.apply(void 0,r);e.exports=i.apply(void 0,[u].concat(_));for(var n=0;n<=y;++n)e.exports[n]=_[n]}var p=t("two-product"),f=t("robust-sum"),h=t("robust-scale"),d=t("robust-subtract"),y=5,m=1.1102230246251565e-16,v=(3+16*m)*m,g=(7+56*m)*m,b=l(3),x=l(4),_=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,r){var n,o=(t[1]-r[1])*(e[0]-r[0]),i=(t[0]-r[0])*(e[1]-r[1]),a=o-i;if(o>0){if(i<=0)return a;n=o+i}else{if(!(o<0))return a;if(i>=0)return a;n=-(o+i)}var s=v*n;return a>=s||a<=-s?a:b(t,e,r)},function(t,e,r,n){var o=t[0]-n[0],i=e[0]-n[0],a=r[0]-n[0],s=t[1]-n[1],l=e[1]-n[1],u=r[1]-n[1],c=t[2]-n[2],p=e[2]-n[2],f=r[2]-n[2],h=i*u,d=a*l,y=a*s,m=o*u,v=o*l,b=i*s,_=c*(h-d)+p*(y-m)+f*(v-b),w=(Math.abs(h)+Math.abs(d))*Math.abs(c)+(Math.abs(y)+Math.abs(m))*Math.abs(p)+(Math.abs(v)+Math.abs(b))*Math.abs(f),T=g*w;return _>T||-_>T?_:x(t,e,r,n)}];c()},{"robust-scale":489,"robust-subtract":491,"robust-sum":492,"two-product":517}],488:[function(t,e,r){"use strict";function n(t,e){if(1===t.length)return i(e,t[0]);if(1===e.length)return i(t,e[0]);if(0===t.length||0===e.length)return[0];var r=[0];if(t.length<e.length)for(var n=0;n<t.length;++n)r=o(r,i(e,t[n]));else for(var n=0;n<e.length;++n)r=o(r,i(t,e[n]));return r}var o=t("robust-sum"),i=t("robust-scale");e.exports=n},{"robust-scale":489,"robust-sum":492}],489:[function(t,e,r){"use strict";function n(t,e){var r=t.length;if(1===r){var n=o(t[0],e);return n[0]?n:[n[1]]}var a=new Array(2*r),s=[.1,.1],l=[.1,.1],u=0;o(t[0],e,s),s[0]&&(a[u++]=s[0]);for(var c=1;c<r;++c){o(t[c],e,l);var p=s[1];i(p,l[0],s),s[0]&&(a[u++]=s[0]);var f=l[1],h=s[1],d=f+h,y=d-f,m=h-y;s[1]=d,m&&(a[u++]=m)}return s[1]&&(a[u++]=s[1]),0===u&&(a[u++]=0),a.length=u,a}var o=t("two-product"),i=t("two-sum");e.exports=n},{"two-product":517,"two-sum":518}],490:[function(t,e,r){"use strict";function n(t,e,r,n){for(var o=0;o<2;++o){var i=t[o],a=e[o],s=Math.min(i,a),l=Math.max(i,a),u=r[o],c=n[o],p=Math.min(u,c),f=Math.max(u,c);if(f<s||l<p)return!1}return!0}function o(t,e,r,o){var a=i(t,r,o),s=i(e,r,o);if(a>0&&s>0||a<0&&s<0)return!1;var l=i(r,t,e),u=i(o,t,e);return!(l>0&&u>0||l<0&&u<0)&&(0!==a||0!==s||0!==l||0!==u||n(t,e,r,o))}e.exports=o;var i=t("robust-orientation")[3]},{"robust-orientation":487}],491:[function(t,e,r){"use strict";function n(t,e){var r=t+e,n=r-t,o=r-n,i=e-n,a=t-o,s=a+i;return s?[s,r]:[r]}function o(t,e){var r=0|t.length,o=0|e.length;if(1===r&&1===o)return n(t[0],-e[0]);var i,a,s=r+o,l=new Array(s),u=0,c=0,p=0,f=Math.abs,h=t[c],d=f(h),y=-e[p],m=f(y);d<m?(a=h,c+=1,c<r&&(h=t[c],d=f(h))):(a=y,p+=1,p<o&&(y=-e[p],m=f(y))),c<r&&d<m||p>=o?(i=h,c+=1,c<r&&(h=t[c],d=f(h))):(i=y,p+=1,p<o&&(y=-e[p],m=f(y)));for(var v,g,b,x,_,w=i+a,T=w-i,M=a-T,S=M,E=w;c<r&&p<o;)d<m?(i=h,c+=1,c<r&&(h=t[c],d=f(h))):(i=y,p+=1,p<o&&(y=-e[p],m=f(y))),a=S,w=i+a,T=w-i,M=a-T,M&&(l[u++]=M),v=E+w,g=v-E,b=v-g,x=w-g,_=E-b,S=_+x,E=v;for(;c<r;)i=h,a=S,w=i+a,T=w-i,M=a-T,M&&(l[u++]=M),v=E+w,g=v-E,b=v-g,x=w-g,_=E-b,S=_+x,E=v,c+=1,c<r&&(h=t[c]);for(;p<o;)i=y,a=S,w=i+a,T=w-i,M=a-T,M&&(l[u++]=M),v=E+w,g=v-E,b=v-g,x=w-g,_=E-b,S=_+x,E=v,p+=1,p<o&&(y=-e[p]);return S&&(l[u++]=S),E&&(l[u++]=E),u||(l[u++]=0),l.length=u,l}e.exports=o},{}],492:[function(t,e,r){"use strict";function n(t,e){var r=t+e,n=r-t,o=r-n,i=e-n,a=t-o,s=a+i;return s?[s,r]:[r]}function o(t,e){var r=0|t.length,o=0|e.length;if(1===r&&1===o)return n(t[0],e[0]);var i,a,s=r+o,l=new Array(s),u=0,c=0,p=0,f=Math.abs,h=t[c],d=f(h),y=e[p],m=f(y);d<m?(a=h,c+=1,c<r&&(h=t[c],d=f(h))):(a=y,p+=1,p<o&&(y=e[p],m=f(y))),c<r&&d<m||p>=o?(i=h,c+=1,c<r&&(h=t[c],d=f(h))):(i=y,p+=1,p<o&&(y=e[p],m=f(y)));for(var v,g,b,x,_,w=i+a,T=w-i,M=a-T,S=M,E=w;c<r&&p<o;)d<m?(i=h,c+=1,c<r&&(h=t[c],d=f(h))):(i=y,p+=1,p<o&&(y=e[p],m=f(y))),a=S,w=i+a,T=w-i,M=a-T,M&&(l[u++]=M),v=E+w,g=v-E,b=v-g,x=w-g,_=E-b,S=_+x,E=v;for(;c<r;)i=h,a=S,w=i+a,T=w-i,M=a-T,M&&(l[u++]=M),v=E+w,g=v-E,b=v-g,x=w-g,_=E-b,S=_+x,E=v,c+=1,c<r&&(h=t[c]);for(;p<o;)i=y,a=S,w=i+a,T=w-i,M=a-T,M&&(l[u++]=M),v=E+w,g=v-E,b=v-g,x=w-g,_=E-b,S=_+x,E=v,p+=1,p<o&&(y=e[p]);return S&&(l[u++]=S),E&&(l[u++]=E),u||(l[u++]=0),l.length=u,l}e.exports=o},{}],493:[function(e,r,n){!function(e,o){"object"==typeof n&&"undefined"!=typeof r?r.exports=o():"function"==typeof t&&t.amd?t(o):e.ShelfPack=o()}(this,function(){function t(t,e,r){r=r||{},this.w=t||64,this.h=e||64,this.autoResize=!!r.autoResize,this.shelves=[],this.stats={},this.count=function(t){this.stats[t]=(0|this.stats[t])+1}}function e(t,e,r){this.x=0,this.y=t,this.w=this.free=e,this.h=r}return t.prototype.pack=function(t,e){t=[].concat(t),e=e||{};for(var r,n,o,i=[],a=0;a<t.length;a++)if(r=t[a].w||t[a].width,n=t[a].h||t[a].height,r&&n){if(o=this.packOne(r,n),!o)continue;e.inPlace&&(t[a].x=o.x,t[a].y=o.y),i.push(o)}if(this.shelves.length>0){for(var s=0,l=0,u=0;u<this.shelves.length;u++){var c=this.shelves[u];l+=c.h,s=Math.max(c.w-c.free,s)}this.resize(s,l)}return i},t.prototype.packOne=function(t,r){for(var n,o,i=0,a={shelf:-1,waste:1/0},s=0;s<this.shelves.length;s++){if(n=this.shelves[s],i+=n.h,r===n.h&&t<=n.free)return this.count(r),n.alloc(t,r);r>n.h||t>n.free||r<n.h&&t<=n.free&&(o=n.h-r,o<a.waste&&(a.waste=o,a.shelf=s))}if(a.shelf!==-1)return n=this.shelves[a.shelf],this.count(r),n.alloc(t,r);if(r<=this.h-i&&t<=this.w)return n=new e(i,this.w,r),this.shelves.push(n),this.count(r),n.alloc(t,r);if(this.autoResize){var l,u,c,p;return l=u=this.h,c=p=this.w,(c<=l||t>c)&&(p=2*Math.max(t,c)),(l<c||r>l)&&(u=2*Math.max(r,l)),this.resize(p,u),this.packOne(t,r)}return null},t.prototype.clear=function(){this.shelves=[],this.stats={}},t.prototype.resize=function(t,e){this.w=t,this.h=e;for(var r=0;r<this.shelves.length;r++)this.shelves[r].resize(t);return!0},e.prototype.alloc=function(t,e){if(t>this.free||e>this.h)return null;var r=this.x;return this.x+=t,this.free-=t,{x:r,y:this.y,w:t,h:e,width:t,height:e}},e.prototype.resize=function(t){return this.free+=t-this.w,this.w=t,!0},t})},{}],494:[function(t,e,r){"use strict";e.exports=function(t){return t<0?-1:t>0?1:0}},{}],495:[function(t,e,r){"use strict";function n(t){return i(o(t))}e.exports=n;var o=t("boundary-cells"),i=t("reduce-simplicial-complex")},{"boundary-cells":59,"reduce-simplicial-complex":477}],496:[function(t,e,r){"use strict";function n(t){for(var e=t.length,r=0,n=0;n<e;++n)r=0|Math.max(r,t[n].length);return r-1}function o(t,e){for(var r=t.length,n=p.mallocUint8(r),o=0;o<r;++o)n[o]=t[o]<e|0;return n}function i(t,e){for(var r=t.length,n=e*(e+1)/2*r|0,o=p.mallocUint32(2*n),i=0,a=0;a<r;++a)for(var s=t[a],e=s.length,l=0;l<e;++l)for(var u=0;u<l;++u){var h=s[u],d=s[l];o[i++]=0|Math.min(h,d),o[i++]=0|Math.max(h,d)}var y=i/2|0;f(c(o,[y,2]));for(var m=2,a=2;a<i;a+=2)o[a-2]===o[a]&&o[a-1]===o[a+1]||(o[m++]=o[a],o[m++]=o[a+1]);return c(o,[m/2|0,2])}function a(t,e,r,n){for(var o=t.data,i=t.shape[0],a=p.mallocDouble(i),s=0,l=0;l<i;++l){var u=o[2*l],f=o[2*l+1];if(r[u]!==r[f]){var h=e[u],d=e[f];o[2*s]=u,o[2*s+1]=f,a[s++]=(d-n)/(d-h)}}return t.shape[0]=s,c(a,[s])}function s(t,e){var r=p.mallocInt32(2*e),n=t.shape[0],o=t.data;r[0]=0;for(var i=0,a=0;a<n;++a){var s=o[2*a];if(s!==i){for(r[2*i+1]=a;++i<s;)r[2*i]=a,r[2*i+1]=a;r[2*i]=a}}for(r[2*i+1]=n;++i<e;)r[2*i]=r[2*i+1]=n;return r}function l(t){for(var e=0|t.shape[0],r=t.data,n=new Array(e),o=0;o<e;++o)n[o]=[r[2*o],r[2*o+1]];return n}function u(t,e,r,u){r=r||0,"undefined"==typeof u&&(u=n(t));var c=t.length;if(0===c||u<1)return{cells:[],vertexIds:[],vertexWeights:[]};var f=o(e,+r),d=i(t,u),y=a(d,e,f,+r),m=s(d,0|e.length),v=h(u)(t,d.data,m,f),g=l(d),b=[].slice.call(y.data,0,y.shape[0]);return p.free(f),p.free(d.data),p.free(y.data),p.free(m),{cells:v,vertexIds:g,vertexWeights:b}}e.exports=u;var c=t("ndarray"),p=t("typedarray-pool"),f=t("ndarray-sort"),h=t("./lib/codegen")},{"./lib/codegen":497,ndarray:447,"ndarray-sort":445,"typedarray-pool":519}],497:[function(t,e,r){"use strict";function n(t){function e(t){if(!(t.length<=0)){u.push("R.push(");for(var e=0;e<t.length;++e){var r=t[e];e>0&&u.push(","),u.push("[");for(var n=0;n<r.length;++n){var o=r[n];n>0&&u.push(","),u.push("B(C,E,c[",o[0],"],c[",o[1],"])")}u.push("]")}u.push(");")}}var r=0,n=new Array(t+1);n[0]=[[]];for(var o=1;o<=t;++o)for(var s=n[o]=a(o),l=0;l<s.length;++l)r=Math.max(r,s[o].length);for(var u=["function B(C,E,i,j){","var a=Math.min(i,j)|0,b=Math.max(i,j)|0,l=C[2*a],h=C[2*a+1];","while(l<h){","var m=(l+h)>>1,v=E[2*m+1];","if(v===b){return m}","if(b<v){h=m}else{l=m+1}","}","return l;","};","function getContour",t,"d(F,E,C,S){","var n=F.length,R=[];","for(var i=0;i<n;++i){var c=F[i],l=c.length;"],o=t+1;o>1;--o){o<t+1&&u.push("else "),u.push("if(l===",o,"){");for(var c=[],l=0;l<o;++l)c.push("(S[c["+l+"]]<<"+l+")");u.push("var M=",c.join("+"),";if(M===0||M===",(1<<o)-1,"){continue}switch(M){");for(var s=n[o-1],l=0;l<s.length;++l)u.push("case ",l,":"),e(s[l]),u.push("break;");u.push("}}")}u.push("}return R;};return getContour",t,"d");var p=new Function("pool",u.join(""));return p(i)}function o(t){var e=s[t];return e||(e=s[t]=n(t)),e}e.exports=o;var i=t("typedarray-pool"),a=t("marching-simplex-table"),s={}},{"marching-simplex-table":425,"typedarray-pool":519}],498:[function(t,e,r){"use strict";"use restrict";function n(t){for(var e=0,r=Math.max,n=0,o=t.length;n<o;++n)e=r(e,t[n].length);return e-1}function o(t){for(var e=-1,r=Math.max,n=0,o=t.length;n<o;++n)for(var i=t[n],a=0,s=i.length;a<s;++a)e=r(e,i[a]);return e+1}function i(t){for(var e=new Array(t.length),r=0,n=t.length;r<n;++r)e[r]=t[r].slice(0);return e}function a(t,e){var r=t.length,n=t.length-e.length,o=Math.min;if(n)return n;switch(r){case 0:return 0;case 1:return t[0]-e[0];case 2:var i=t[0]+t[1]-e[0]-e[1];return i?i:o(t[0],t[1])-o(e[0],e[1]);case 3:var a=t[0]+t[1],s=e[0]+e[1];if(i=a+t[2]-(s+e[2]))return i;var l=o(t[0],t[1]),u=o(e[0],e[1]),i=o(l,t[2])-o(u,e[2]);return i?i:o(l+t[2],a)-o(u+e[2],s);default:var c=t.slice(0);c.sort();var p=e.slice(0);p.sort();for(var f=0;f<r;++f)if(n=c[f]-p[f])return n;return 0}}function s(t,e){return a(t[0],e[0])}function l(t,e){if(e){for(var r=t.length,n=new Array(r),o=0;o<r;++o)n[o]=[t[o],e[o]];n.sort(s);for(var o=0;o<r;++o)t[o]=n[o][0],e[o]=n[o][1];return t}return t.sort(a),t}function u(t){if(0===t.length)return[];for(var e=1,r=t.length,n=1;n<r;++n){var o=t[n];if(a(o,t[n-1])){if(n===e){e++;continue}t[e++]=o}}return t.length=e,t}function c(t,e){for(var r=0,n=t.length-1,o=-1;r<=n;){var i=r+n>>1,s=a(t[i],e);s<=0?(0===s&&(o=i),r=i+1):s>0&&(n=i-1)}return o}function p(t,e){for(var r=new Array(t.length),n=0,o=r.length;n<o;++n)r[n]=[];for(var i=[],n=0,s=e.length;n<s;++n)for(var l=e[n],u=l.length,p=1,f=1<<u;p<f;++p){i.length=b.popCount(p);for(var h=0,d=0;d<u;++d)p&1<<d&&(i[h++]=l[d]);var y=c(t,i);if(!(y<0))for(;;)if(r[y++].push(n),y>=t.length||0!==a(t[y],i))break}return r}function f(t,e){if(!e)return p(u(d(t,0)),t,0);for(var r=new Array(e),n=0;n<e;++n)r[n]=[];for(var n=0,o=t.length;n<o;++n)for(var i=t[n],a=0,s=i.length;a<s;++a)r[i[a]].push(n);return r}function h(t){for(var e=[],r=0,n=t.length;r<n;++r)for(var o=t[r],i=0|o.length,a=1,s=1<<i;a<s;++a){for(var u=[],c=0;c<i;++c)a>>>c&1&&u.push(o[c]);e.push(u)}return l(e)}function d(t,e){if(e<0)return[];for(var r=[],n=(1<<e+1)-1,o=0;o<t.length;++o)for(var i=t[o],a=n;a<1<<i.length;a=b.nextCombination(a)){for(var s=new Array(e+1),u=0,c=0;c<i.length;++c)a&1<<c&&(s[u++]=i[c]);r.push(s)}return l(r)}function y(t){for(var e=[],r=0,n=t.length;r<n;++r)for(var o=t[r],i=0,a=o.length;i<a;++i){for(var s=new Array(o.length-1),u=0,c=0;u<a;++u)u!==i&&(s[c++]=o[u]);e.push(s)}return l(e)}function m(t,e){for(var r=new x(e),n=0;n<t.length;++n)for(var o=t[n],i=0;i<o.length;++i)for(var a=i+1;a<o.length;++a)r.link(o[i],o[a]);for(var s=[],l=r.ranks,n=0;n<l.length;++n)l[n]=-1;for(var n=0;n<t.length;++n){var u=r.find(t[n][0]);l[u]<0?(l[u]=s.length,s.push([t[n].slice(0)])):s[l[u]].push(t[n].slice(0))}return s}function v(t){for(var e=u(l(d(t,0))),r=new x(e.length),n=0;n<t.length;++n)for(var o=t[n],i=0;i<o.length;++i)for(var a=c(e,[o[i]]),s=i+1;s<o.length;++s)r.link(a,c(e,[o[s]]));for(var p=[],f=r.ranks,n=0;n<f.length;++n)f[n]=-1;for(var n=0;n<t.length;++n){var h=r.find(c(e,[t[n][0]]));f[h]<0?(f[h]=p.length,p.push([t[n].slice(0)])):p[f[h]].push(t[n].slice(0))}return p}function g(t,e){return e?m(t,e):v(t)}var b=t("bit-twiddle"),x=t("union-find");r.dimension=n,r.countVertices=o,r.cloneCells=i,r.compareCells=a,r.normalize=l,r.unique=u,r.findCell=c,r.incidence=p,r.dual=f,r.explode=h,r.skeleton=d,r.boundary=y,r.connectedComponents=g},{"bit-twiddle":57,"union-find":520}],499:[function(t,e,r){arguments[4][57][0].apply(r,arguments)},{dup:57}],500:[function(t,e,r){arguments[4][498][0].apply(r,arguments)},{"bit-twiddle":499,dup:498,"union-find":501}],501:[function(t,e,r){"use strict";"use restrict";function n(t){this.roots=new Array(t),this.ranks=new Array(t);for(var e=0;e<t;++e)this.roots[e]=e,this.ranks[e]=0}e.exports=n,n.prototype.length=function(){return this.roots.length},n.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},n.prototype.find=function(t){for(var e=this.roots;e[t]!==t;){var r=e[t];e[t]=e[r],t=r}return t},n.prototype.link=function(t,e){var r=this.find(t),n=this.find(e);if(r!==n){var o=this.ranks,i=this.roots,a=o[r],s=o[n];a<s?i[r]=n:s<a?i[n]=r:(i[n]=r,++o[r])}}},{}],502:[function(t,e,r){"use strict";function n(t,e,r){var n=Math.abs(i(t,e,r)),o=Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2));return n/o}function o(t,e,r){function o(t){if(x[t])return 1/0;var r=v[t],o=g[t];return r<0||o<0?1/0:n(e[t],e[r],e[o])}function i(t,e){var r=S[t],n=S[e];S[t]=n,S[e]=r,E[r]=e,E[n]=t}function s(t){return b[S[t]]}function l(t){return 1&t?t-1>>1:(t>>1)-1}function u(t){for(var e=s(t);;){var r=e,n=2*t+1,o=2*(t+1),a=t;if(n<C){var l=s(n);l<r&&(a=n,r=l)}if(o<C){var u=s(o);u<r&&(a=o)}if(a===t)return t;i(t,a),t=a}}function c(t){for(var e=s(t);t>0;){var r=l(t);if(r>=0){var n=s(r);if(e<n){i(t,r),t=r;continue}}return t}}function p(){if(C>0){var t=S[0];return i(0,C-1),C-=1,u(0),t}return-1}function f(t,e){var r=S[t];return b[r]===e?t:(b[r]=-(1/0),c(t),p(),b[r]=e,C+=1,c(C-1))}function h(t){if(!x[t]){x[t]=!0;var e=v[t],r=g[t];v[r]>=0&&(v[r]=e),g[e]>=0&&(g[e]=r),E[e]>=0&&f(E[e],o(e)),E[r]>=0&&f(E[r],o(r))}}function d(t,e){if(t[e]<0)return e;var r=e,n=e;do{var o=t[n];if(!x[n]||o<0||o===n)break;if(n=o,o=t[n],!x[n]||o<0||o===n)break;n=o,r=t[r]}while(r!==n);for(var i=e;i!==n;i=t[i])t[i]=n;return n}for(var y=e.length,m=t.length,v=new Array(y),g=new Array(y),b=new Array(y),x=new Array(y),_=0;_<y;++_)v[_]=g[_]=-1,b[_]=1/0,x[_]=!1;for(var _=0;_<m;++_){var w=t[_];if(2!==w.length)throw new Error("Input must be a graph");var T=w[1],M=w[0];g[M]!==-1?g[M]=-2:g[M]=T,v[T]!==-1?v[T]=-2:v[T]=M}for(var S=[],E=new Array(y),_=0;_<y;++_){var k=b[_]=o(_);k<1/0?(E[_]=S.length,S.push(_)):E[_]=-1}for(var C=S.length,_=C>>1;_>=0;--_)u(_);for(;;){var A=p();if(A<0||b[A]>r)break;h(A)}for(var P=[],_=0;_<y;++_)x[_]||(E[_]=P.length,P.push(e[_].slice()));var L=(P.length,[]);return t.forEach(function(t){var e=d(v,t[0]),r=d(g,t[1]);if(e>=0&&r>=0&&e!==r){var n=E[e],o=E[r];n!==o&&L.push([n,o])}}),a.unique(a.normalize(L)),{positions:P,edges:L}}e.exports=o;var i=t("robust-orientation"),a=t("simplicial-complex")},{"robust-orientation":487,"simplicial-complex":500}],503:[function(t,e,r){"use strict";function n(t,e){var r,n;if(e[0][0]<e[1][0])r=e[0],n=e[1];else{if(!(e[0][0]>e[1][0])){var o=Math.min(t[0][1],t[1][1]),a=Math.max(t[0][1],t[1][1]),s=Math.min(e[0][1],e[1][1]),l=Math.max(e[0][1],e[1][1]);return a<s?a-s:o>l?o-l:a-l}r=e[1],n=e[0]}var u,c;t[0][1]<t[1][1]?(u=t[0],c=t[1]):(u=t[1],c=t[0]);var p=i(n,r,u);return p?p:(p=i(n,r,c),p?p:c-n)}function o(t,e){var r,o;if(e[0][0]<e[1][0])r=e[0],o=e[1];else{if(!(e[0][0]>e[1][0]))return n(e,t);r=e[1],o=e[0]}var a,s;if(t[0][0]<t[1][0])a=t[0],s=t[1];else{if(!(t[0][0]>t[1][0]))return-n(t,e);a=t[1],s=t[0]}var l=i(r,o,s),u=i(r,o,a);if(l<0){if(u<=0)return l}else if(l>0){if(u>=0)return l}else if(u)return u;if(l=i(s,a,o),u=i(s,a,r),l<0){if(u<=0)return l}else if(l>0){if(u>=0)return l}else if(u)return u;return o[0]-s[0]}e.exports=o;var i=t("robust-orientation")},{"robust-orientation":487}],504:[function(t,e,r){"use strict";function n(t,e,r){this.slabs=t,this.coordinates=e,this.horizontal=r}function o(t,e){return t.y-e}function i(t,e){for(var r=null;t;){var n,o,a=t.key;a[0][0]<a[1][0]?(n=a[0],o=a[1]):(n=a[1],o=a[0]);var s=p(n,o,e);if(s<0)t=t.left;else if(s>0)if(e[0]!==a[1][0])r=t,t=t.right;else{var l=i(t.right,e);if(l)return l;t=t.left}else{if(e[0]!==a[1][0])return t;var l=i(t.right,e);if(l)return l;t=t.left}}return r}function a(t,e,r,n){this.y=t,this.index=e,this.start=r,this.closed=n}function s(t,e,r,n){this.x=t,this.segment=e,this.create=r,this.index=n}function l(t){for(var e=t.length,r=2*e,o=new Array(r),i=0;i<e;++i){var l=t[i],u=l[0][0]<l[1][0];o[2*i]=new s(l[0][0],l,u,i),o[2*i+1]=new s(l[1][0],l,!u,i)}o.sort(function(t,e){var r=t.x-e.x;return r?r:(r=t.create-e.create,r?r:Math.min(t.segment[0][1],t.segment[1][1])-Math.min(e.segment[0][1],e.segment[1][1]))});for(var p=c(f),h=[],d=[],y=[],i=0;i<r;){for(var m=o[i].x,v=[];i<r;){var g=o[i];if(g.x!==m)break;i+=1,g.segment[0][0]===g.x&&g.segment[1][0]===g.x?g.create&&(g.segment[0][1]<g.segment[1][1]?(v.push(new a(g.segment[0][1],g.index,!0,!0)),v.push(new a(g.segment[1][1],g.index,!1,!1))):(v.push(new a(g.segment[1][1],g.index,!0,!1)),v.push(new a(g.segment[0][1],g.index,!1,!0)))):p=g.create?p.insert(g.segment,g.index):p.remove(g.segment)}h.push(p.root),d.push(m),y.push(v)}return new n(h,d,y)}e.exports=l;var u=t("binary-search-bounds"),c=t("functional-red-black-tree"),p=t("robust-orientation"),f=t("./lib/order-segments"),h=n.prototype;h.castUp=function(t){var e=u.le(this.coordinates,t[0]);if(e<0)return-1;var r=(this.slabs[e],i(this.slabs[e],t)),n=-1;if(r&&(n=r.value),this.coordinates[e]===t[0]){var a=null;if(r&&(a=r.key),e>0){var s=i(this.slabs[e-1],t);s&&(a?f(s.key,a)>0&&(a=s.key,n=s.value):(n=s.value,a=s.key))}var l=this.horizontal[e];if(l.length>0){var c=u.ge(l,t[1],o);if(c<l.length){var h=l[c];if(t[1]===h.y){if(h.closed)return h.index;for(;c<l.length-1&&l[c+1].y===t[1];)if(c+=1,h=l[c],h.closed)return h.index;if(h.y===t[1]&&!h.start){if(c+=1,c>=l.length)return n;h=l[c]}}if(h.start)if(a){var d=p(a[0],a[1],[t[0],h.y]);a[0][0]>a[1][0]&&(d=-d),d>0&&(n=h.index)}else n=h.index;else h.y!==t[1]&&(n=h.index)}}}return n}},{"./lib/order-segments":503,"binary-search-bounds":56,"functional-red-black-tree":117,"robust-orientation":487}],505:[function(t,e,r){"use strict";function n(t,e){var r=u(l(t,e),[e[e.length-1]]);return r[r.length-1]}function o(t,e,r,n){var o=n-e,i=-e/o;i<0?i=0:i>1&&(i=1);for(var a=1-i,s=t.length,l=new Array(s),u=0;u<s;++u)l[u]=i*t[u]+a*r[u];return l}function i(t,e){for(var r=[],i=[],a=n(t[t.length-1],e),s=t[t.length-1],l=t[0],u=0;u<t.length;++u,s=l){l=t[u];var c=n(l,e);if(a<0&&c>0||a>0&&c<0){var p=o(s,c,l,a);r.push(p),i.push(p.slice())}c<0?i.push(l.slice()):c>0?r.push(l.slice()):(r.push(l.slice()),i.push(l.slice())),a=c}return{positive:r,negative:i}}function a(t,e){for(var r=[],i=n(t[t.length-1],e),a=t[t.length-1],s=t[0],l=0;l<t.length;++l,a=s){s=t[l];var u=n(s,e);(i<0&&u>0||i>0&&u<0)&&r.push(o(a,u,s,i)),u>=0&&r.push(s.slice()),i=u}return r}function s(t,e){for(var r=[],i=n(t[t.length-1],e),a=t[t.length-1],s=t[0],l=0;l<t.length;++l,a=s){s=t[l];var u=n(s,e);(i<0&&u>0||i>0&&u<0)&&r.push(o(a,u,s,i)),u<=0&&r.push(s.slice()),i=u}return r}var l=t("robust-dot-product"),u=t("robust-sum");e.exports=i,e.exports.positive=a,e.exports.negative=s},{"robust-dot-product":484,"robust-sum":492}],506:[function(e,r,n){!function(e){function r(){var t=arguments[0],e=r.cache;return e[t]&&e.hasOwnProperty(t)||(e[t]=r.parse(t)),r.format.call(null,e[t],arguments)}function o(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function i(t,e){return Array(e+1).join(t)}var a={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};r.format=function(t,e){var n,s,l,u,c,p,f,h=1,d=t.length,y="",m=[],v=!0,g="";for(s=0;s<d;s++)if(y=o(t[s]),"string"===y)m[m.length]=t[s];else if("array"===y){if(u=t[s],u[2])for(n=e[h],l=0;l<u[2].length;l++){if(!n.hasOwnProperty(u[2][l]))throw new Error(r("[sprintf] property '%s' does not exist",u[2][l]));n=n[u[2][l]]}else n=u[1]?e[u[1]]:e[h++];if("function"==o(n)&&(n=n()),a.not_string.test(u[8])&&a.not_json.test(u[8])&&"number"!=o(n)&&isNaN(n))throw new TypeError(r("[sprintf] expecting number but found %s",o(n)));switch(a.number.test(u[8])&&(v=n>=0),u[8]){case"b":n=n.toString(2);break;case"c":n=String.fromCharCode(n);break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,u[6]?parseInt(u[6]):0);break;case"e":n=u[7]?n.toExponential(u[7]):n.toExponential();break;case"f":n=u[7]?parseFloat(n).toFixed(u[7]):parseFloat(n);break;case"g":n=u[7]?parseFloat(n).toPrecision(u[7]):parseFloat(n);break;case"o":n=n.toString(8);break;case"s":n=(n=String(n))&&u[7]?n.substring(0,u[7]):n;break;case"u":n>>>=0;break;case"x":n=n.toString(16);break;case"X":n=n.toString(16).toUpperCase()}a.json.test(u[8])?m[m.length]=n:(!a.number.test(u[8])||v&&!u[3]?g="":(g=v?"+":"-",n=n.toString().replace(a.sign,"")),p=u[4]?"0"===u[4]?"0":u[4].charAt(1):" ",f=u[6]-(g+n).length,c=u[6]&&f>0?i(p,f):"",m[m.length]=u[5]?g+n+c:"0"===p?g+c+n:c+g+n)}return m.join("")},r.cache={},r.parse=function(t){for(var e=t,r=[],n=[],o=0;e;){if(null!==(r=a.text.exec(e)))n[n.length]=r[0];else if(null!==(r=a.modulo.exec(e)))n[n.length]="%";else{if(null===(r=a.placeholder.exec(e)))throw new SyntaxError("[sprintf] unexpected placeholder");if(r[2]){o|=1;var i=[],s=r[2],l=[];if(null===(l=a.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(i[i.length]=l[1];""!==(s=s.substring(l[0].length));)if(null!==(l=a.key_access.exec(s)))i[i.length]=l[1];else{if(null===(l=a.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");i[i.length]=l[1]}r[2]=i}else o|=2;if(3===o)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n[n.length]=r}e=e.substring(r[0].length)}return n};var s=function(t,e,n){return n=(e||[]).slice(0),n.splice(0,0,t),r.apply(null,n)};"undefined"!=typeof n?(n.sprintf=r,n.vsprintf=s):(e.sprintf=r,e.vsprintf=s,"function"==typeof t&&t.amd&&t(function(){return{sprintf:r,vsprintf:s}}))}("undefined"==typeof window?this:window)},{}],507:[function(t,e,r){"use strict";function n(t){return new o(t)}function o(t){this.options=h(Object.create(this.options),t),this.trees=new Array(this.options.maxZoom+1)}function i(t,e,r,n,o){return{x:t,y:e,zoom:1/0,id:n,properties:o,parentId:-1,numPoints:r}}function a(t,e){var r=t.geometry.coordinates;return{x:u(r[0]),y:c(r[1]),zoom:1/0,id:e,parentId:-1}}function s(t){return{type:"Feature",properties:l(t),geometry:{type:"Point",coordinates:[p(t.x),f(t.y)]}}}function l(t){var e=t.numPoints,r=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return h(h({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:r})}function u(t){return t/360+.5}function c(t){var e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r<0?0:r>1?1:r}function p(t){return 360*(t-.5)}function f(t){var e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function h(t,e){for(var r in e)t[r]=e[r];return t}function d(t){return t.x}function y(t){return t.y}var m=t("kdbush");e.exports=n,o.prototype={options:{minZoom:0,maxZoom:16,radius:40,
extent:512,nodeSize:64,log:!1,reduce:null,initial:function(){return{}},map:function(t){return t}},load:function(t){var e=this.options.log;e&&console.time("total time");var r="prepare "+t.length+" points";e&&console.time(r),this.points=t;var n=t.map(a);e&&console.timeEnd(r);for(var o=this.options.maxZoom;o>=this.options.minZoom;o--){var i=+Date.now();this.trees[o+1]=m(n,d,y,this.options.nodeSize,Float32Array),n=this._cluster(n,o),e&&console.log("z%d: %d clusters in %dms",o,n.length,+Date.now()-i)}return this.trees[this.options.minZoom]=m(n,d,y,this.options.nodeSize,Float32Array),e&&console.timeEnd("total time"),this},getClusters:function(t,e){for(var r=this.trees[this._limitZoom(e)],n=r.range(u(t[0]),c(t[3]),u(t[2]),c(t[1])),o=[],i=0;i<n.length;i++){var a=r.points[n[i]];o.push(a.numPoints?s(a):this.points[a.id])}return o},getChildren:function(t,e){for(var r=this.trees[e+1].points[t],n=this.options.radius/(this.options.extent*Math.pow(2,e)),o=this.trees[e+1].within(r.x,r.y,n),i=[],a=0;a<o.length;a++){var l=this.trees[e+1].points[o[a]];l.parentId===t&&i.push(l.numPoints?s(l):this.points[l.id])}return i},getLeaves:function(t,e,r,n){r=r||10,n=n||0;var o=[];return this._appendLeaves(o,t,e,r,n,0),o},getTile:function(t,e,r){var n=this.trees[this._limitZoom(t)],o=Math.pow(2,t),i=this.options.extent,a=this.options.radius,s=a/i,l=(r-s)/o,u=(r+1+s)/o,c={features:[]};return this._addTileFeatures(n.range((e-s)/o,l,(e+1+s)/o,u),n.points,e,r,o,c),0===e&&this._addTileFeatures(n.range(1-s/o,l,1,u),n.points,o,r,o,c),e===o-1&&this._addTileFeatures(n.range(0,l,s/o,u),n.points,-1,r,o,c),c.features.length?c:null},getClusterExpansionZoom:function(t,e){for(;e<this.options.maxZoom;){var r=this.getChildren(t,e);if(e++,1!==r.length)break;t=r[0].properties.cluster_id}return e},_appendLeaves:function(t,e,r,n,o,i){for(var a=this.getChildren(e,r),s=0;s<a.length;s++){var l=a[s].properties;if(l.cluster?i+l.point_count<=o?i+=l.point_count:i=this._appendLeaves(t,l.cluster_id,r+1,n,o,i):i<o?i++:t.push(a[s]),t.length===n)break}return i},_addTileFeatures:function(t,e,r,n,o,i){for(var a=0;a<t.length;a++){var s=e[t[a]];i.features.push({type:1,geometry:[[Math.round(this.options.extent*(s.x*o-r)),Math.round(this.options.extent*(s.y*o-n))]],tags:s.numPoints?l(s):this.points[s.id].properties})}},_limitZoom:function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},_cluster:function(t,e){for(var r=[],n=this.options.radius/(this.options.extent*Math.pow(2,e)),o=0;o<t.length;o++){var a=t[o];if(!(a.zoom<=e)){a.zoom=e;var s=this.trees[e+1],l=s.within(a.x,a.y,n),u=a.numPoints||1,c=a.x*u,p=a.y*u,f=null;this.options.reduce&&(f=this.options.initial(),this._accumulate(f,a));for(var h=0;h<l.length;h++){var d=s.points[l[h]];if(e<d.zoom){var y=d.numPoints||1;d.zoom=e,c+=d.x*y,p+=d.y*y,u+=y,d.parentId=o,this.options.reduce&&this._accumulate(f,d)}}1===u?r.push(a):(a.parentId=o,r.push(i(c/u,p/u,u,o,f)))}}return r},_accumulate:function(t,e){var r=e.numPoints?e.properties:this.options.map(this.points[e.id].properties);this.options.reduce(t,r)}}},{kdbush:278}],508:[function(t,e,r){"use strict";function n(t){return t.split("").map(function(t){return t in o?o[t]:""}).join("")}e.exports=n;var o={" ":" ",0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","+":"⁺","-":"⁻",a:"ᵃ",b:"ᵇ",c:"ᶜ",d:"ᵈ",e:"ᵉ",f:"ᶠ",g:"ᵍ",h:"ʰ",i:"ⁱ",j:"ʲ",k:"ᵏ",l:"ˡ",m:"ᵐ",n:"ⁿ",o:"ᵒ",p:"ᵖ",r:"ʳ",s:"ˢ",t:"ᵗ",u:"ᵘ",v:"ᵛ",w:"ʷ",x:"ˣ",y:"ʸ",z:"ᶻ"}},{}],509:[function(t,e,r){"use strict";function n(t,e){var r=t.length,n=["'use strict';"],o="surfaceNets"+t.join("_")+"d"+e;n.push("var contour=genContour({","order:[",t.join(),"],","scalarArguments: 3,","phase:function phaseFunc(p,a,b,c) { return (p > c)|0 },"),"generic"===e&&n.push("getters:[0],");for(var i=[],l=[],u=0;u<r;++u)i.push("d"+u),l.push("d"+u);for(var u=0;u<1<<r;++u)i.push("v"+u),l.push("v"+u);for(var u=0;u<1<<r;++u)i.push("p"+u),l.push("p"+u);i.push("a","b","c"),l.push("a","c"),n.push("vertex:function vertexFunc(",i.join(),"){");for(var c=[],u=0;u<1<<r;++u)c.push("(p"+u+"<<"+u+")");n.push("var m=(",c.join("+"),")|0;if(m===0||m===",(1<<(1<<r))-1,"){return}");var p=[],f=[];1<<(1<<r)<=128?(n.push("switch(m){"),f=n):n.push("switch(m>>>7){");for(var u=0;u<1<<(1<<r);++u){if(1<<(1<<r)>128&&u%128===0){p.length>0&&f.push("}}");var h="vExtra"+p.length;n.push("case ",u>>>7,":",h,"(m&0x7f,",l.join(),");break;"),f=["function ",h,"(m,",l.join(),"){switch(m){"],p.push(f)}f.push("case ",127&u,":");for(var d=new Array(r),y=new Array(r),m=new Array(r),v=new Array(r),g=0,b=0;b<r;++b)d[b]=[],y[b]=[],m[b]=0,v[b]=0;for(var b=0;b<1<<r;++b)for(var x=0;x<r;++x){var _=b^1<<x;if(!(_>b)&&!(u&1<<_)!=!(u&1<<b)){var w=1;u&1<<_?y[x].push("v"+_+"-v"+b):(y[x].push("v"+b+"-v"+_),w=-w),w<0?(d[x].push("-v"+b+"-v"+_),m[x]+=2):(d[x].push("v"+b+"+v"+_),m[x]-=2),g+=1;for(var T=0;T<r;++T)T!==x&&(_&1<<T?v[T]+=1:v[T]-=1)}}for(var M=[],x=0;x<r;++x)if(0===d[x].length)M.push("d"+x+"-0.5");else{var S="";m[x]<0?S=m[x]+"*c":m[x]>0&&(S="+"+m[x]+"*c");var E=.5*(d[x].length/g),k=.5+.5*(v[x]/g);M.push("d"+x+"-"+k+"-"+E+"*("+d[x].join("+")+S+")/("+y[x].join("+")+")")}f.push("a.push([",M.join(),"]);","break;")}n.push("}},"),p.length>0&&f.push("}}");for(var C=[],u=0;u<1<<r-1;++u)C.push("v"+u);C.push("c0","c1","p0","p1","a","b","c"),n.push("cell:function cellFunc(",C.join(),"){");var A=s(r-1);n.push("if(p0){b.push(",A.map(function(t){return"["+t.map(function(t){return"v"+t})+"]"}).join(),")}else{b.push(",A.map(function(t){var e=t.slice();return e.reverse(),"["+e.map(function(t){return"v"+t})+"]"}).join(),")}}});function ",o,"(array,level){var verts=[],cells=[];contour(array,verts,cells,level);return {positions:verts,cells:cells};} return ",o,";");for(var u=0;u<p.length;++u)n.push(p[u].join(""));var P=new Function("genContour",n.join(""));return P(a)}function o(t,e){for(var r=l(t,e),n=r.length,o=new Array(n),i=new Array(n),a=0;a<n;++a)o[a]=[r[a]],i[a]=[a];return{positions:o,cells:i}}function i(t,e){if(t.dimension<=0)return{positions:[],cells:[]};if(1===t.dimension)return o(t,e);var r=t.order.join()+"-"+t.dtype,i=u[r],e=+e||0;return i||(i=u[r]=n(t.order,t.dtype)),i(t,e)}e.exports=i;var a=t("ndarray-extract-contour"),s=t("triangulate-hypercube"),l=t("zero-crossings"),u={}},{"ndarray-extract-contour":436,"triangulate-hypercube":515,"zero-crossings":562}],510:[function(t,e,r){(function(r){"use strict";function n(t){for(var e=t.cells,r=t.positions,n=new Float32Array(6*e.length),o=0,i=0,a=0;a<e.length;++a)for(var s=e[a],l=0;l<3;++l){var u=r[s[l]];n[o++]=u[0],n[o++]=u[1]+1.4,i=Math.max(u[0],i)}return{data:n,shape:i}}function o(t,e,r){var r=r||{},a=s[t];a||(a=s[t]={" ":{data:new Float32Array(0),shape:.2}});var l=a[e];if(!l)if(e.length<=1||!/\d/.test(e))l=a[e]=n(i(e,{triangles:!0,font:t,textAlign:r.textAlign||"left",textBaseline:"alphabetic"}));else{for(var u=e.split(/(\d|\s)/),c=new Array(u.length),p=0,f=0,h=0;h<u.length;++h)c[h]=o(t,u[h]),p+=c[h].data.length,f+=c[h].shape,h>0&&(f+=.02);for(var d=new Float32Array(p),y=0,m=-.5*f,h=0;h<c.length;++h){for(var v=c[h].data,g=0;g<v.length;g+=2)d[y++]=v[g]+m,d[y++]=v[g+1];m+=c[h].shape+.02}l=a[e]={data:d,shape:f}}return l}e.exports=o;var i=t("vectorize-text"),a=window||r.global||{},s=a.__TEXT_CACHE||{};a.__TEXT_CACHE={}}).call(this,t("_process"))},{_process:466,"vectorize-text":532}],511:[function(t,e,r){"use strict";function n(t,e,r,n,o){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=n||.25,this.fontFamily=o||"sans-serif",this.radius=r||8;var i=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=i,this.ctx=this.canvas.getContext("2d"),this.ctx.font=t+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(i*i),this.gridInner=new Float64Array(i*i),this.f=new Float64Array(i),this.d=new Float64Array(i),this.z=new Float64Array(i+1),this.v=new Int16Array(i),this.middle=Math.round(i/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function o(t,e,r,n,o,a,s){for(var l=0;l<e;l++){for(var u=0;u<r;u++)n[u]=t[u*e+l];for(i(n,o,a,s,r),u=0;u<r;u++)t[u*e+l]=o[u]}for(u=0;u<r;u++){for(l=0;l<e;l++)n[l]=t[u*e+l];for(i(n,o,a,s,e),l=0;l<e;l++)t[u*e+l]=Math.sqrt(o[l])}}function i(t,e,r,n,o){r[0]=0,n[0]=-a,n[1]=+a;for(var i=1,s=0;i<o;i++){for(var l=(t[i]+i*i-(t[r[s]]+r[s]*r[s]))/(2*i-2*r[s]);l<=n[s];)s--,l=(t[i]+i*i-(t[r[s]]+r[s]*r[s]))/(2*i-2*r[s]);s++,r[s]=i,n[s]=l,n[s+1]=+a}for(i=0,s=0;i<o;i++){for(;n[s+1]<i;)s++;e[i]=(i-r[s])*(i-r[s])+t[r[s]]}}e.exports=n;var a=1e20;n.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),r=e.data,n=0;n<this.size*this.size;n++){var i=r[4*n+3]/255;this.gridOuter[n]=1===i?0:0===i?a:Math.pow(Math.max(0,.5-i),2),this.gridInner[n]=1===i?a:0===i?0:Math.pow(Math.max(0,i-.5),2)}for(o(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),o(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),n=0;n<this.size*this.size;n++){var s=this.gridOuter[n]-this.gridInner[n],l=Math.max(0,Math.min(255,Math.round(255-255*(s/this.radius+this.cutoff))));r[4*n+0]=l,r[4*n+1]=l,r[4*n+2]=l,r[4*n+3]=255}return e}},{}],512:[function(e,r,n){!function(e){function n(t,e){if(t=t?t:"",e=e||{},t instanceof n)return t;if(!(this instanceof n))return new n(t,e);var r=o(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=H(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=H(this._r)),this._g<1&&(this._g=H(this._g)),this._b<1&&(this._b=H(this._b)),this._ok=r.ok,this._tc_id=V++}function o(t){var e={r:0,g:0,b:0},r=1,n=null,o=null,a=null,l=!1,c=!1;return"string"==typeof t&&(t=F(t)),"object"==typeof t&&(j(t.r)&&j(t.g)&&j(t.b)?(e=i(t.r,t.g,t.b),l=!0,c="%"===String(t.r).substr(-1)?"prgb":"rgb"):j(t.h)&&j(t.s)&&j(t.v)?(n=I(t.s),o=I(t.v),e=u(t.h,n,o),l=!0,c="hsv"):j(t.h)&&j(t.s)&&j(t.l)&&(n=I(t.s),a=I(t.l),e=s(t.h,n,a),l=!0,c="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=k(r),{ok:l,format:t.format||c,r:W(255,q(e.r,0)),g:W(255,q(e.g,0)),b:W(255,q(e.b,0)),a:r}}function i(t,e,r){return{r:255*C(t,255),g:255*C(e,255),b:255*C(r,255)}}function a(t,e,r){t=C(t,255),e=C(e,255),r=C(r,255);var n,o,i=q(t,e,r),a=W(t,e,r),s=(i+a)/2;if(i==a)n=o=0;else{var l=i-a;switch(o=s>.5?l/(2-i-a):l/(i+a),i){case t:n=(e-r)/l+(e<r?6:0);break;case e:n=(r-t)/l+2;break;case r:n=(t-e)/l+4}n/=6}return{h:n,s:o,l:s}}function s(t,e,r){function n(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}var o,i,a;if(t=C(t,360),e=C(e,100),r=C(r,100),0===e)o=i=a=r;else{var s=r<.5?r*(1+e):r+e-r*e,l=2*r-s;o=n(l,s,t+1/3),i=n(l,s,t),a=n(l,s,t-1/3)}return{r:255*o,g:255*i,b:255*a}}function l(t,e,r){t=C(t,255),e=C(e,255),r=C(r,255);var n,o,i=q(t,e,r),a=W(t,e,r),s=i,l=i-a;if(o=0===i?0:l/i,i==a)n=0;else{switch(i){case t:n=(e-r)/l+(e<r?6:0);break;case e:n=(r-t)/l+2;break;case r:n=(t-e)/l+4}n/=6}return{h:n,s:o,v:s}}function u(t,r,n){t=6*C(t,360),r=C(r,100),n=C(n,100);var o=e.floor(t),i=t-o,a=n*(1-r),s=n*(1-i*r),l=n*(1-(1-i)*r),u=o%6,c=[n,s,a,a,l,n][u],p=[l,n,n,s,a,a][u],f=[a,a,l,n,n,s][u];return{r:255*c,g:255*p,b:255*f}}function c(t,e,r,n){var o=[O(H(t).toString(16)),O(H(e).toString(16)),O(H(r).toString(16))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function p(t,e,r,n,o){var i=[O(H(t).toString(16)),O(H(e).toString(16)),O(H(r).toString(16)),O(R(n))];return o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function f(t,e,r,n){var o=[O(R(n)),O(H(t).toString(16)),O(H(e).toString(16)),O(H(r).toString(16))];return o.join("")}function h(t,e){e=0===e?0:e||10;var r=n(t).toHsl();return r.s-=e/100,r.s=A(r.s),n(r)}function d(t,e){e=0===e?0:e||10;var r=n(t).toHsl();return r.s+=e/100,r.s=A(r.s),n(r)}function y(t){return n(t).desaturate(100)}function m(t,e){e=0===e?0:e||10;var r=n(t).toHsl();return r.l+=e/100,r.l=A(r.l),n(r)}function v(t,e){e=0===e?0:e||10;var r=n(t).toRgb();return r.r=q(0,W(255,r.r-H(255*-(e/100)))),r.g=q(0,W(255,r.g-H(255*-(e/100)))),r.b=q(0,W(255,r.b-H(255*-(e/100)))),n(r)}function g(t,e){e=0===e?0:e||10;var r=n(t).toHsl();return r.l-=e/100,r.l=A(r.l),n(r)}function b(t,e){var r=n(t).toHsl(),o=(r.h+e)%360;return r.h=o<0?360+o:o,n(r)}function x(t){var e=n(t).toHsl();return e.h=(e.h+180)%360,n(e)}function _(t){var e=n(t).toHsl(),r=e.h;return[n(t),n({h:(r+120)%360,s:e.s,l:e.l}),n({h:(r+240)%360,s:e.s,l:e.l})]}function w(t){var e=n(t).toHsl(),r=e.h;return[n(t),n({h:(r+90)%360,s:e.s,l:e.l}),n({h:(r+180)%360,s:e.s,l:e.l}),n({h:(r+270)%360,s:e.s,l:e.l})]}function T(t){var e=n(t).toHsl(),r=e.h;return[n(t),n({h:(r+72)%360,s:e.s,l:e.l}),n({h:(r+216)%360,s:e.s,l:e.l})]}function M(t,e,r){e=e||6,r=r||30;var o=n(t).toHsl(),i=360/r,a=[n(t)];for(o.h=(o.h-(i*e>>1)+720)%360;--e;)o.h=(o.h+i)%360,a.push(n(o));return a}function S(t,e){e=e||6;for(var r=n(t).toHsv(),o=r.h,i=r.s,a=r.v,s=[],l=1/e;e--;)s.push(n({h:o,s:i,v:a})),a=(a+l)%1;return s}function E(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}function k(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function C(t,r){L(t)&&(t="100%");var n=D(t);return t=W(r,q(0,parseFloat(t))),n&&(t=parseInt(t*r,10)/100),e.abs(t-r)<1e-6?1:t%r/parseFloat(r)}function A(t){return W(1,q(0,t))}function P(t){return parseInt(t,16)}function L(t){return"string"==typeof t&&t.indexOf(".")!=-1&&1===parseFloat(t)}function D(t){return"string"==typeof t&&t.indexOf("%")!=-1}function O(t){return 1==t.length?"0"+t:""+t}function I(t){return t<=1&&(t=100*t+"%"),t}function R(t){return e.round(255*parseFloat(t)).toString(16)}function N(t){return P(t)/255}function j(t){return!!K.CSS_UNIT.exec(t)}function F(t){t=t.replace(B,"").replace(U,"").toLowerCase();var e=!1;if(Y[t])t=Y[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=K.rgb.exec(t))?{r:r[1],g:r[2],b:r[3]}:(r=K.rgba.exec(t))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=K.hsl.exec(t))?{h:r[1],s:r[2],l:r[3]}:(r=K.hsla.exec(t))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=K.hsv.exec(t))?{h:r[1],s:r[2],v:r[3]}:(r=K.hsva.exec(t))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=K.hex8.exec(t))?{r:P(r[1]),g:P(r[2]),b:P(r[3]),a:N(r[4]),format:e?"name":"hex8"}:(r=K.hex6.exec(t))?{r:P(r[1]),g:P(r[2]),b:P(r[3]),format:e?"name":"hex"}:(r=K.hex4.exec(t))?{r:P(r[1]+""+r[1]),g:P(r[2]+""+r[2]),b:P(r[3]+""+r[3]),a:N(r[4]+""+r[4]),format:e?"name":"hex8"}:!!(r=K.hex3.exec(t))&&{r:P(r[1]+""+r[1]),g:P(r[2]+""+r[2]),b:P(r[3]+""+r[3]),format:e?"name":"hex"}}function z(t){var e,r;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==r&&"large"!==r&&(r="small"),{level:e,size:r}}var B=/^\s+/,U=/\s+$/,V=0,H=e.round,W=e.min,q=e.max,G=e.random;n.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,r,n,o,i,a,s=this.toRgb();return t=s.r/255,r=s.g/255,n=s.b/255,o=t<=.03928?t/12.92:e.pow((t+.055)/1.055,2.4),i=r<=.03928?r/12.92:e.pow((r+.055)/1.055,2.4),a=n<=.03928?n/12.92:e.pow((n+.055)/1.055,2.4),.2126*o+.7152*i+.0722*a},setAlpha:function(t){return this._a=k(t),this._roundA=H(100*this._a)/100,this},toHsv:function(){var t=l(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=l(this._r,this._g,this._b),e=H(360*t.h),r=H(100*t.s),n=H(100*t.v);return 1==this._a?"hsv("+e+", "+r+"%, "+n+"%)":"hsva("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=a(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=a(this._r,this._g,this._b),e=H(360*t.h),r=H(100*t.s),n=H(100*t.l);return 1==this._a?"hsl("+e+", "+r+"%, "+n+"%)":"hsla("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(t){return c(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return p(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:H(this._r),g:H(this._g),b:H(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+H(this._r)+", "+H(this._g)+", "+H(this._b)+")":"rgba("+H(this._r)+", "+H(this._g)+", "+H(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:H(100*C(this._r,255))+"%",g:H(100*C(this._g,255))+"%",b:H(100*C(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+H(100*C(this._r,255))+"%, "+H(100*C(this._g,255))+"%, "+H(100*C(this._b,255))+"%)":"rgba("+H(100*C(this._r,255))+"%, "+H(100*C(this._g,255))+"%, "+H(100*C(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(X[c(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+f(this._r,this._g,this._b,this._a),r=e,o=this._gradientType?"GradientType = 1, ":"";if(t){var i=n(t);r="#"+f(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+e+",endColorstr="+r+")"},toString:function(t){var e=!!t;t=t||this._format;var r=!1,n=this._a<1&&this._a>=0,o=!e&&n&&("hex"===t||"hex6"===t||"hex3"===t||"hex4"===t||"hex8"===t||"name"===t);return o?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(r=this.toRgbString()),"prgb"===t&&(r=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(r=this.toHexString()),"hex3"===t&&(r=this.toHexString(!0)),"hex4"===t&&(r=this.toHex8String(!0)),"hex8"===t&&(r=this.toHex8String()),"name"===t&&(r=this.toName()),"hsl"===t&&(r=this.toHslString()),"hsv"===t&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return n(this.toString())},_applyModification:function(t,e){var r=t.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(g,arguments)},desaturate:function(){return this._applyModification(h,arguments)},saturate:function(){return this._applyModification(d,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(M,arguments)},complement:function(){return this._applyCombination(x,arguments)},monochromatic:function(){return this._applyCombination(S,arguments)},splitcomplement:function(){return this._applyCombination(T,arguments)},triad:function(){return this._applyCombination(_,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},n.fromRatio=function(t,e){if("object"==typeof t){var r={};for(var o in t)t.hasOwnProperty(o)&&("a"===o?r[o]=t[o]:r[o]=I(t[o]));t=r}return n(t,e)},n.equals=function(t,e){return!(!t||!e)&&n(t).toRgbString()==n(e).toRgbString()},n.random=function(){return n.fromRatio({r:G(),g:G(),b:G()})},n.mix=function(t,e,r){r=0===r?0:r||50;var o=n(t).toRgb(),i=n(e).toRgb(),a=r/100,s={r:(i.r-o.r)*a+o.r,g:(i.g-o.g)*a+o.g,b:(i.b-o.b)*a+o.b,a:(i.a-o.a)*a+o.a};return n(s)},n.readability=function(t,r){var o=n(t),i=n(r);return(e.max(o.getLuminance(),i.getLuminance())+.05)/(e.min(o.getLuminance(),i.getLuminance())+.05)},n.isReadable=function(t,e,r){var o,i,a=n.readability(t,e);switch(i=!1,o=z(r),o.level+o.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7}return i},n.mostReadable=function(t,e,r){var o,i,a,s,l=null,u=0;r=r||{},i=r.includeFallbackColors,a=r.level,s=r.size;for(var c=0;c<e.length;c++)o=n.readability(t,e[c]),o>u&&(u=o,l=n(e[c]));return n.isReadable(t,l,{level:a,size:s})||!i?l:(r.includeFallbackColors=!1,n.mostReadable(t,["#fff","#000"],r))};var Y=n.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},X=n.hexNames=E(Y),K=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+t+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",o="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof r&&r.exports?r.exports=n:"function"==typeof t&&t.amd?t(function(){return n}):window.tinycolor=n}(Math)},{}],513:[function(t,e,r){"use strict";function n(t,e){var r=a(getComputedStyle(t).getPropertyValue(e));return r[0]*i(r[1],t)}function o(t,e){var r=document.createElement("div");r.style["font-size"]="128"+t,e.appendChild(r);var o=n(r,"font-size")/128;return e.removeChild(r),o}function i(t,e){switch(e=e||document.body,t=(t||"px").trim().toLowerCase(),e!==window&&e!==document||(e=document.body),t){case"%":return e.clientHeight/100;case"ch":case"ex":return o(t,e);case"em":return n(e,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return s;case"cm":return s/2.54;case"mm":return s/25.4;case"pt":return s/72;case"pc":return s/6}return 1}var a=t("parse-unit");e.exports=i;var s=96},{"parse-unit":454}],514:[function(e,r,n){!function(e,o){"object"==typeof n&&"undefined"!=typeof r?o(n):"function"==typeof t&&t.amd?t(["exports"],o):o(e.topojson=e.topojson||{})}(this,function(t){"use strict";function e(t,e){var n=e.id,o=e.bbox,i=null==e.properties?{}:e.properties,a=r(t,e);return null==n&&null==o?{type:"Feature",properties:i,geometry:a}:null==o?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:o,properties:i,geometry:a}}function r(t,e){function r(t,e){e.length&&e.pop();for(var r=p[t<0?~t:t],n=0,o=r.length;n<o;++n)e.push(u(r[n].slice(),n));t<0&&c(e,o)}function n(t){return u(t.slice())}function o(t){for(var e=[],n=0,o=t.length;n<o;++n)r(t[n],e);return e.length<2&&e.push(e[0].slice()),e}function i(t){for(var e=o(t);e.length<4;)e.push(e[0].slice());return e}function a(t){return t.map(i)}function s(t){var e,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(s)};case"Point":e=n(t.coordinates);break;case"MultiPoint":e=t.coordinates.map(n);break;case"LineString":e=o(t.arcs);break;case"MultiLineString":e=t.arcs.map(o);break;case"Polygon":e=a(t.arcs);break;case"MultiPolygon":e=t.arcs.map(a);break;default:return null}return{type:r,coordinates:e}}var u=l(t),p=t.arcs;return s(e)}function n(t,e,r){var n,i,a;if(arguments.length>1)n=o(t,e,r);else for(i=0,n=new Array(a=t.arcs.length);i<a;++i)n[i]=i;return{type:"MultiLineString",arcs:f(t,n)}}function o(t,e,r){function n(t){var e=t<0?~t:t;(c[e]||(c[e]=[])).push({i:t,g:l})}function o(t){t.forEach(n)}function i(t){t.forEach(o)}function a(t){t.forEach(i)}function s(t){switch(l=t,t.type){case"GeometryCollection":t.geometries.forEach(s);break;case"LineString":o(t.arcs);break;case"MultiLineString":case"Polygon":i(t.arcs);break;case"MultiPolygon":a(t.arcs)}}var l,u=[],c=[];return s(e),c.forEach(null==r?function(t){u.push(t[0].i)}:function(t){r(t[0].g,t[t.length-1].g)&&u.push(t[0].i)}),u}function i(t){for(var e,r=-1,n=t.length,o=t[n-1],i=0;++r<n;)e=o,o=t[r],i+=e[0]*o[1]-e[1]*o[0];return Math.abs(i)}function a(t,e){function n(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(n);break;case"Polygon":o(t.arcs);break;case"MultiPolygon":t.arcs.forEach(o)}}function o(t){t.forEach(function(e){e.forEach(function(e){(s[e=e<0?~e:e]||(s[e]=[])).push(t)})}),l.push(t)}function a(e){return i(r(t,{type:"Polygon",arcs:[e]}).coordinates[0])}var s={},l=[],u=[];return e.forEach(n),l.forEach(function(t){if(!t._){var e=[],r=[t];for(t._=1,u.push(e);t=r.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){s[t<0?~t:t].forEach(function(t){t._||(t._=1,r.push(t))})})})}}),l.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:u.map(function(e){var r,n=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){s[t<0?~t:t].length<2&&n.push(t)})})}),n=f(t,n),(r=n.length)>1)for(var o,i,l=1,u=a(n[0]);l<r;++l)(o=a(n[l]))>u&&(i=n[0],n[0]=n[l],n[l]=i,u=o);return n})}}var s=function(t){return t},l=function(t){if(null==(e=t.transform))return s;var e,r,n,o=e.scale[0],i=e.scale[1],a=e.translate[0],l=e.translate[1];return function(t,e){return e||(r=n=0),t[0]=(r+=t[0])*o+a,t[1]=(n+=t[1])*i+l,t}},u=function(t){function e(t){s[0]=t[0],s[1]=t[1],a(s),s[0]<u&&(u=s[0]),s[0]>p&&(p=s[0]),s[1]<c&&(c=s[1]),s[1]>f&&(f=s[1])}function r(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(r);break;case"Point":e(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(e)}}var n=t.bbox;if(!n){var o,i,a=l(t),s=new Array(2),u=1/0,c=u,p=-u,f=-u;t.arcs.forEach(function(t){for(var e=-1,r=t.length;++e<r;)o=t[e],s[0]=o[0],s[1]=o[1],a(s,e),s[0]<u&&(u=s[0]),s[0]>p&&(p=s[0]),s[1]<c&&(c=s[1]),s[1]>f&&(f=s[1])});for(i in t.objects)r(t.objects[i]);n=t.bbox=[u,c,p,f]}return n},c=function(t,e){for(var r,n=t.length,o=n-e;o<--n;)r=t[o],t[o++]=t[n],t[n]=r},p=function(t,r){return"GeometryCollection"===r.type?{type:"FeatureCollection",features:r.geometries.map(function(r){return e(t,r)})}:e(t,r)},f=function(t,e){function r(e){var r,n=t.arcs[e<0?~e:e],o=n[0];return t.transform?(r=[0,0],n.forEach(function(t){r[0]+=t[0],r[1]+=t[1]})):r=n[n.length-1],e<0?[r,o]:[o,r]}function n(t,e){for(var r in t){var n=t[r];delete e[n.start],delete n.start,delete n.end,n.forEach(function(t){o[t<0?~t:t]=1}),s.push(n)}}var o={},i={},a={},s=[],l=-1;return e.forEach(function(r,n){var o,i=t.arcs[r<0?~r:r];i.length<3&&!i[1][0]&&!i[1][1]&&(o=e[++l],e[l]=r,e[n]=o)}),e.forEach(function(t){var e,n,o=r(t),s=o[0],l=o[1];if(e=a[s])if(delete a[e.end],e.push(t),e.end=l,n=i[l]){delete i[n.start];var u=n===e?e:e.concat(n);i[u.start=e.start]=a[u.end=n.end]=u}else i[e.start]=a[e.end]=e;else if(e=i[l])if(delete i[e.start],e.unshift(t),e.start=s,n=a[s]){delete a[n.end];var c=n===e?e:n.concat(e);i[c.start=n.start]=a[c.end=e.end]=c}else i[e.start]=a[e.end]=e;else e=[t],i[e.start=s]=a[e.end=l]=e}),n(a,i),n(i,a),e.forEach(function(t){o[t<0?~t:t]||s.push([t])}),s},h=function(t){return r(t,n.apply(this,arguments))},d=function(t){return r(t,a.apply(this,arguments))},y=function(t,e){for(var r=0,n=t.length;r<n;){var o=r+n>>>1;t[o]<e?r=o+1:n=o}return r},m=function(t){function e(t,e){t.forEach(function(t){t<0&&(t=~t);var r=o[t];r?r.push(e):o[t]=[e]})}function r(t,r){t.forEach(function(t){e(t,r)})}function n(t,e){"GeometryCollection"===t.type?t.geometries.forEach(function(t){n(t,e)}):t.type in a&&a[t.type](t.arcs,e)}var o={},i=t.map(function(){return[]}),a={LineString:e,MultiLineString:r,Polygon:r,MultiPolygon:function(t,e){t.forEach(function(t){r(t,e)})}};t.forEach(n);for(var s in o)for(var l=o[s],u=l.length,c=0;c<u;++c)for(var p=c+1;p<u;++p){var f,h=l[c],d=l[p];(f=i[h])[s=y(f,d)]!==d&&f.splice(s,0,d),(f=i[d])[s=y(f,h)]!==h&&f.splice(s,0,h)}return i},v=function(t,e){function r(t){t[0]=Math.round((t[0]-a)/s),t[1]=Math.round((t[1]-l)/c)}function n(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(n);break;case"Point":r(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(r)}}if(!((e=Math.floor(e))>=2))throw new Error("n must be ≥2");if(t.transform)throw new Error("already quantized");var o,i=u(t),a=i[0],s=(i[2]-a)/(e-1)||1,l=i[1],c=(i[3]-l)/(e-1)||1;t.arcs.forEach(function(t){for(var e,r,n,o=1,i=1,u=t.length,p=t[0],f=p[0]=Math.round((p[0]-a)/s),h=p[1]=Math.round((p[1]-l)/c);o<u;++o)p=t[o],r=Math.round((p[0]-a)/s),n=Math.round((p[1]-l)/c),r===f&&n===h||(e=t[i++],e[0]=r-f,f=r,e[1]=n-h,h=n);i<2&&(e=t[i++],e[0]=0,e[1]=0),t.length=i});for(o in t.objects)n(t.objects[o]);return t.transform={scale:[s,c],translate:[a,l]},t},g=function(t){if(null==(e=t.transform))return s;var e,r,n,o=e.scale[0],i=e.scale[1],a=e.translate[0],l=e.translate[1];return function(t,e){e||(r=n=0);var s=Math.round((t[0]-a)/o),u=Math.round((t[1]-l)/i);return t[0]=s-r,r=s,t[1]=u-n,n=u,t}};t.bbox=u,t.feature=p,t.mesh=h,t.meshArcs=n,t.merge=d,t.mergeArcs=a,t.neighbors=m,t.quantize=v,t.transform=l,t.untransform=g,Object.defineProperty(t,"__esModule",{value:!0})})},{}],515:[function(t,e,r){"use strict";function n(t){if(t<0)return[];if(0===t)return[[0]];for(var e=0|Math.round(a(t+1)),r=[],n=0;n<e;++n){for(var s=o.unrank(t,n),l=[0],u=0,c=0;c<s.length;++c)u+=1<<s[c],l.push(u);i(s)<1&&(l[0]=u,l[t]=0),r.push(l)}return r}e.exports=n;var o=t("permutation-rank"),i=t("permutation-parity"),a=t("gamma");
},{gamma:118,"permutation-parity":458,"permutation-rank":459}],516:[function(t,e,r){"use strict";function n(t,e,r){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(r,2))}function o(t){return Math.min(1,Math.max(-1,t))}function i(t){var e=Math.abs(t[0]),r=Math.abs(t[1]),n=Math.abs(t[2]),o=[0,0,0];e>Math.max(r,n)?o[2]=1:r>Math.max(e,n)?o[0]=1:o[1]=1;for(var i=0,a=0,s=0;s<3;++s)i+=t[s]*t[s],a+=o[s]*t[s];for(var s=0;s<3;++s)o[s]-=a/i*t[s];return f(o,o),o}function a(t,e,r,n,o,i,a,s){this.center=l(r),this.up=l(n),this.right=l(o),this.radius=l([i]),this.angle=l([a,s]),this.angle.bounds=[[-(1/0),-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(t,e),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var u=0;u<16;++u)this.computedMatrix[u]=.5;this.recalcMatrix(0)}function s(t){t=t||{};var e=t.center||[0,0,0],r=t.up||[0,1,0],o=t.right||i(r),s=t.radius||1,l=t.theta||0,u=t.phi||0;if(e=[].slice.call(e,0,3),r=[].slice.call(r,0,3),f(r,r),o=[].slice.call(o,0,3),f(o,o),"eye"in t){var c=t.eye,d=[c[0]-e[0],c[1]-e[1],c[2]-e[2]];p(o,d,r),n(o[0],o[1],o[2])<1e-6?o=i(r):f(o,o),s=n(d[0],d[1],d[2]);var y=h(r,d)/s,m=h(o,d)/s;u=Math.acos(y),l=Math.acos(m)}return s=Math.log(s),new a(t.zoomMin,t.zoomMax,e,r,o,s,l,u)}e.exports=s;var l=t("filtered-vector"),u=t("gl-mat4/invert"),c=t("gl-mat4/rotate"),p=t("gl-vec3/cross"),f=t("gl-vec3/normalize"),h=t("gl-vec3/dot"),d=a.prototype;d.setDistanceLimits=function(t,e){t=t>0?Math.log(t):-(1/0),e=e>0?Math.log(e):1/0,e=Math.max(e,t),this.radius.bounds[0][0]=t,this.radius.bounds[1][0]=e},d.getDistanceLimits=function(t){var e=this.radius.bounds[0];return t?(t[0]=Math.exp(e[0][0]),t[1]=Math.exp(e[1][0]),t):[Math.exp(e[0][0]),Math.exp(e[1][0])]},d.recalcMatrix=function(t){this.center.curve(t),this.up.curve(t),this.right.curve(t),this.radius.curve(t),this.angle.curve(t);for(var e=this.computedUp,r=this.computedRight,o=0,i=0,a=0;a<3;++a)i+=e[a]*r[a],o+=e[a]*e[a];for(var s=Math.sqrt(o),l=0,a=0;a<3;++a)r[a]-=e[a]*i/o,l+=r[a]*r[a],e[a]/=s;for(var u=Math.sqrt(l),a=0;a<3;++a)r[a]/=u;var c=this.computedToward;p(c,e,r),f(c,c);for(var h=Math.exp(this.computedRadius[0]),d=this.computedAngle[0],y=this.computedAngle[1],m=Math.cos(d),v=Math.sin(d),g=Math.cos(y),b=Math.sin(y),x=this.computedCenter,_=m*g,w=v*g,T=b,M=-m*b,S=-v*b,E=g,k=this.computedEye,C=this.computedMatrix,a=0;a<3;++a){var A=_*r[a]+w*c[a]+T*e[a];C[4*a+1]=M*r[a]+S*c[a]+E*e[a],C[4*a+2]=A,C[4*a+3]=0}var P=C[1],L=C[5],D=C[9],O=C[2],I=C[6],R=C[10],N=L*R-D*I,j=D*O-P*R,F=P*I-L*O,z=n(N,j,F);N/=z,j/=z,F/=z,C[0]=N,C[4]=j,C[8]=F;for(var a=0;a<3;++a)k[a]=x[a]+C[2+4*a]*h;for(var a=0;a<3;++a){for(var l=0,B=0;B<3;++B)l+=C[a+4*B]*k[B];C[12+a]=-l}C[15]=1},d.getMatrix=function(t,e){this.recalcMatrix(t);var r=this.computedMatrix;if(e){for(var n=0;n<16;++n)e[n]=r[n];return e}return r};var y=[0,0,0];d.rotate=function(t,e,r,n){if(this.angle.move(t,e,r),n){this.recalcMatrix(t);var o=this.computedMatrix;y[0]=o[2],y[1]=o[6],y[2]=o[10];for(var i=this.computedUp,a=this.computedRight,s=this.computedToward,l=0;l<3;++l)o[4*l]=i[l],o[4*l+1]=a[l],o[4*l+2]=s[l];c(o,o,n,y);for(var l=0;l<3;++l)i[l]=o[4*l],a[l]=o[4*l+1];this.up.set(t,i[0],i[1],i[2]),this.right.set(t,a[0],a[1],a[2])}},d.pan=function(t,e,r,o){e=e||0,r=r||0,o=o||0,this.recalcMatrix(t);var i=this.computedMatrix,a=(Math.exp(this.computedRadius[0]),i[1]),s=i[5],l=i[9],u=n(a,s,l);a/=u,s/=u,l/=u;var c=i[0],p=i[4],f=i[8],h=c*a+p*s+f*l;c-=a*h,p-=s*h,f-=l*h;var d=n(c,p,f);c/=d,p/=d,f/=d;var y=c*e+a*r,m=p*e+s*r,v=f*e+l*r;this.center.move(t,y,m,v);var g=Math.exp(this.computedRadius[0]);g=Math.max(1e-4,g+o),this.radius.set(t,Math.log(g))},d.translate=function(t,e,r,n){this.center.move(t,e||0,r||0,n||0)},d.setMatrix=function(t,e,r,i){var a=1;"number"==typeof r&&(a=0|r),(a<0||a>3)&&(a=1);var s=(a+2)%3;e||(this.recalcMatrix(t),e=this.computedMatrix);var l=e[a],c=e[a+4],p=e[a+8];if(i){var f=Math.abs(l),h=Math.abs(c),d=Math.abs(p),y=Math.max(f,h,d);f===y?(l=l<0?-1:1,c=p=0):d===y?(p=p<0?-1:1,l=c=0):(c=c<0?-1:1,l=p=0)}else{var m=n(l,c,p);l/=m,c/=m,p/=m}var v=e[s],g=e[s+4],b=e[s+8],x=v*l+g*c+b*p;v-=l*x,g-=c*x,b-=p*x;var _=n(v,g,b);v/=_,g/=_,b/=_;var w=c*b-p*g,T=p*v-l*b,M=l*g-c*v,S=n(w,T,M);w/=S,T/=S,M/=S,this.center.jump(t,W,q,G),this.radius.idle(t),this.up.jump(t,l,c,p),this.right.jump(t,v,g,b);var E,k;if(2===a){var C=e[1],A=e[5],P=e[9],L=C*v+A*g+P*b,D=C*w+A*T+P*M;E=N<0?-Math.PI/2:Math.PI/2,k=Math.atan2(D,L)}else{var O=e[2],I=e[6],R=e[10],N=O*l+I*c+R*p,j=O*v+I*g+R*b,F=O*w+I*T+R*M;E=Math.asin(o(N)),k=Math.atan2(F,j)}this.angle.jump(t,k,E),this.recalcMatrix(t);var z=e[2],B=e[6],U=e[10],V=this.computedMatrix;u(V,e);var H=V[15],W=V[12]/H,q=V[13]/H,G=V[14]/H,Y=Math.exp(this.computedRadius[0]);this.center.jump(t,W-z*Y,q-B*Y,G-U*Y)},d.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},d.idle=function(t){this.center.idle(t),this.up.idle(t),this.right.idle(t),this.radius.idle(t),this.angle.idle(t)},d.flush=function(t){this.center.flush(t),this.up.flush(t),this.right.flush(t),this.radius.flush(t),this.angle.flush(t)},d.setDistance=function(t,e){e>0&&this.radius.set(t,Math.log(e))},d.lookAt=function(t,e,r,i){this.recalcMatrix(t),e=e||this.computedEye,r=r||this.computedCenter,i=i||this.computedUp;var a=i[0],s=i[1],l=i[2],u=n(a,s,l);if(!(u<1e-6)){a/=u,s/=u,l/=u;var c=e[0]-r[0],p=e[1]-r[1],f=e[2]-r[2],h=n(c,p,f);if(!(h<1e-6)){c/=h,p/=h,f/=h;var d=this.computedRight,y=d[0],m=d[1],v=d[2],g=a*y+s*m+l*v;y-=g*a,m-=g*s,v-=g*l;var b=n(y,m,v);if(!(b<.01&&(y=s*f-l*p,m=l*c-a*f,v=a*p-s*c,b=n(y,m,v),b<1e-6))){y/=b,m/=b,v/=b,this.up.set(t,a,s,l),this.right.set(t,y,m,v),this.center.set(t,r[0],r[1],r[2]),this.radius.set(t,Math.log(h));var x=s*v-l*m,_=l*y-a*v,w=a*m-s*y,T=n(x,_,w);x/=T,_/=T,w/=T;var M=a*c+s*p+l*f,S=y*c+m*p+v*f,E=x*c+_*p+w*f,k=Math.asin(o(M)),C=Math.atan2(E,S),A=this.angle._state,P=A[A.length-1],L=A[A.length-2];P%=2*Math.PI;var D=Math.abs(P+2*Math.PI-C),O=Math.abs(P-C),I=Math.abs(P-2*Math.PI-C);D<O&&(P+=2*Math.PI),I<O&&(P-=2*Math.PI),this.angle.jump(this.angle.lastT(),P,L),this.angle.set(t,C,k)}}}}},{"filtered-vector":115,"gl-mat4/invert":162,"gl-mat4/rotate":166,"gl-vec3/cross":254,"gl-vec3/dot":255,"gl-vec3/normalize":258}],517:[function(t,e,r){"use strict";function n(t,e,r){var n=t*e,i=o*t,a=i-t,s=i-a,l=t-s,u=o*e,c=u-e,p=u-c,f=e-p,h=n-s*p,d=h-l*p,y=d-s*f,m=l*f-y;return r?(r[0]=m,r[1]=n,r):[m,n]}e.exports=n;var o=+(Math.pow(2,27)+1)},{}],518:[function(t,e,r){"use strict";function n(t,e,r){var n=t+e,o=n-t,i=n-o,a=e-o,s=t-i;return r?(r[0]=s+a,r[1]=n,r):[s+a,n]}e.exports=n},{}],519:[function(t,r,n){(function(e,r){"use strict";function o(t){if(t){var e=t.length||t.byteLength,r=g.log2(e);w[r].push(t)}}function i(t){o(t.buffer)}function a(t){var t=g.nextPow2(t),e=g.log2(t),r=w[e];return r.length>0?r.pop():new ArrayBuffer(t)}function s(t){return new Uint8Array(a(t),0,t)}function l(t){return new Uint16Array(a(2*t),0,t)}function u(t){return new Uint32Array(a(4*t),0,t)}function c(t){return new Int8Array(a(t),0,t)}function p(t){return new Int16Array(a(2*t),0,t)}function f(t){return new Int32Array(a(4*t),0,t)}function h(t){return new Float32Array(a(4*t),0,t)}function d(t){return new Float64Array(a(8*t),0,t)}function y(t){return x?new Uint8ClampedArray(a(t),0,t):s(t)}function m(t){return new DataView(a(t),0,t)}function v(t){t=g.nextPow2(t);var e=g.log2(t),n=T[e];return n.length>0?n.pop():new r(t)}var g=t("bit-twiddle"),b=t("dup");e.__TYPEDARRAY_POOL||(e.__TYPEDARRAY_POOL={UINT8:b([32,0]),UINT16:b([32,0]),UINT32:b([32,0]),INT8:b([32,0]),INT16:b([32,0]),INT32:b([32,0]),FLOAT:b([32,0]),DOUBLE:b([32,0]),DATA:b([32,0]),UINT8C:b([32,0]),BUFFER:b([32,0])});var x="undefined"!=typeof Uint8ClampedArray,_=e.__TYPEDARRAY_POOL;_.UINT8C||(_.UINT8C=b([32,0])),_.BUFFER||(_.BUFFER=b([32,0]));var w=_.DATA,T=_.BUFFER;n.free=function(t){if(r.isBuffer(t))T[g.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,n=0|g.log2(e);w[n].push(t)}},n.freeUint8=n.freeUint16=n.freeUint32=n.freeInt8=n.freeInt16=n.freeInt32=n.freeFloat32=n.freeFloat=n.freeFloat64=n.freeDouble=n.freeUint8Clamped=n.freeDataView=i,n.freeArrayBuffer=o,n.freeBuffer=function(t){T[g.log2(t.length)].push(t)},n.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return a(t);switch(e){case"uint8":return s(t);case"uint16":return l(t);case"uint32":return u(t);case"int8":return c(t);case"int16":return p(t);case"int32":return f(t);case"float":case"float32":return h(t);case"double":case"float64":return d(t);case"uint8_clamped":return y(t);case"buffer":return v(t);case"data":case"dataview":return m(t);default:return null}return null},n.mallocArrayBuffer=a,n.mallocUint8=s,n.mallocUint16=l,n.mallocUint32=u,n.mallocInt8=c,n.mallocInt16=p,n.mallocInt32=f,n.mallocFloat32=n.mallocFloat=h,n.mallocFloat64=n.mallocDouble=d,n.mallocUint8Clamped=y,n.mallocDataView=m,n.mallocBuffer=v,n.clearCache=function(){for(var t=0;t<32;++t)_.UINT8[t].length=0,_.UINT16[t].length=0,_.UINT32[t].length=0,_.INT8[t].length=0,_.INT16[t].length=0,_.INT32[t].length=0,_.FLOAT[t].length=0,_.DOUBLE[t].length=0,_.UINT8C[t].length=0,w[t].length=0,T[t].length=0}}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"bit-twiddle":57,buffer:67,dup:107}],520:[function(t,e,r){"use strict";"use restrict";function n(t){this.roots=new Array(t),this.ranks=new Array(t);for(var e=0;e<t;++e)this.roots[e]=e,this.ranks[e]=0}e.exports=n;var o=n.prototype;Object.defineProperty(o,"length",{get:function(){return this.roots.length}}),o.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},o.find=function(t){for(var e=t,r=this.roots;r[t]!==t;)t=r[t];for(;r[e]!==t;){var n=r[e];r[e]=t,e=n}return t},o.link=function(t,e){var r=this.find(t),n=this.find(e);if(r!==n){var o=this.ranks,i=this.roots,a=o[r],s=o[n];a<s?i[r]=n:s<a?i[n]=r:(i[n]=r,++o[r])}}},{}],521:[function(t,e,r){"use strict";function n(t,e){for(var r=1,n=t.length,o=t[0],i=t[0],a=1;a<n;++a)if(i=o,o=t[a],e(o,i)){if(a===r){r++;continue}t[r++]=o}return t.length=r,t}function o(t){for(var e=1,r=t.length,n=t[0],o=t[0],i=1;i<r;++i,o=n)if(o=n,n=t[i],n!==o){if(i===e){e++;continue}t[e++]=n}return t.length=e,t}function i(t,e,r){return 0===t.length?t:e?(r||t.sort(e),n(t,e)):(r||t.sort(),o(t))}e.exports=i},{}],522:[function(t,e,r){function n(t,e,r,n){this.cx=3*t,this.bx=3*(r-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(n-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=n,this.p2x=r,this.p2y=n}e.exports=n,n.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},n.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},n.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},n.prototype.solveCurveX=function(t,e){"undefined"==typeof e&&(e=1e-6);var r,n,o,i,a;for(o=t,a=0;a<8;a++){if(i=this.sampleCurveX(o)-t,Math.abs(i)<e)return o;var s=this.sampleCurveDerivativeX(o);if(Math.abs(s)<1e-6)break;o-=i/s}if(r=0,n=1,o=t,o<r)return r;if(o>n)return n;for(;r<n;){if(i=this.sampleCurveX(o),Math.abs(i-t)<e)return o;t>i?r=o:n=o,o=.5*(n-r)+r}return o},n.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}},{}],523:[function(t,e,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(t,e,r){if(t&&u.isObject(t)&&t instanceof n)return t;var o=new n;return o.parse(t,e,r),o}function i(t){return u.isString(t)&&(t=o(t)),t instanceof n?t.format():n.prototype.format.call(t)}function a(t,e){return o(t,!1,!0).resolve(e)}function s(t,e){return t?o(t,!1,!0).resolveObject(e):e}var l=t("punycode"),u=t("./util");r.parse=o,r.resolve=a,r.resolveObject=s,r.format=i,r.Url=n;var c=/^([a-z0-9.+-]+:)/i,p=/:[0-9]*$/,f=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["<",">",'"',"`"," ","\r","\n","\t"],d=["{","}","|","\\","^","`"].concat(h),y=["'"].concat(d),m=["%","/","?",";","#"].concat(y),v=["/","?","#"],g=255,b=/^[+a-z0-9A-Z_-]{0,63}$/,x=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},T={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},M=t("querystring");n.prototype.parse=function(t,e,r){if(!u.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),o=n!==-1&&n<t.indexOf("#")?"?":"#",i=t.split(o),a=/\\/g;i[0]=i[0].replace(a,"/"),t=i.join(o);var s=t;if(s=s.trim(),!r&&1===t.split("#").length){var p=f.exec(s);if(p)return this.path=s,this.href=s,this.pathname=p[1],p[2]?(this.search=p[2],e?this.query=M.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var h=c.exec(s);if(h){h=h[0];var d=h.toLowerCase();this.protocol=d,s=s.substr(h.length)}if(r||h||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===s.substr(0,2);!S||h&&w[h]||(s=s.substr(2),this.slashes=!0)}if(!w[h]&&(S||h&&!T[h])){for(var E=-1,k=0;k<v.length;k++){var C=s.indexOf(v[k]);C!==-1&&(E===-1||C<E)&&(E=C)}var A,P;P=E===-1?s.lastIndexOf("@"):s.lastIndexOf("@",E),P!==-1&&(A=s.slice(0,P),s=s.slice(P+1),this.auth=decodeURIComponent(A)),E=-1;for(var k=0;k<m.length;k++){var C=s.indexOf(m[k]);C!==-1&&(E===-1||C<E)&&(E=C)}E===-1&&(E=s.length),this.host=s.slice(0,E),s=s.slice(E),this.parseHost(),this.hostname=this.hostname||"";var L="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!L)for(var D=this.hostname.split(/\./),k=0,O=D.length;k<O;k++){var I=D[k];if(I&&!I.match(b)){for(var R="",N=0,j=I.length;N<j;N++)R+=I.charCodeAt(N)>127?"x":I[N];if(!R.match(b)){var F=D.slice(0,k),z=D.slice(k+1),B=I.match(x);B&&(F.push(B[1]),z.unshift(B[2])),z.length&&(s="/"+z.join(".")+s),this.hostname=F.join(".");break}}}this.hostname.length>g?this.hostname="":this.hostname=this.hostname.toLowerCase(),L||(this.hostname=l.toASCII(this.hostname));var U=this.port?":"+this.port:"",V=this.hostname||"";this.host=V+U,this.href+=this.host,L&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!_[d])for(var k=0,O=y.length;k<O;k++){var H=y[k];if(s.indexOf(H)!==-1){var W=encodeURIComponent(H);W===H&&(W=escape(H)),s=s.split(H).join(W)}}var q=s.indexOf("#");q!==-1&&(this.hash=s.substr(q),s=s.slice(0,q));var G=s.indexOf("?");if(G!==-1?(this.search=s.substr(G),this.query=s.substr(G+1),e&&(this.query=M.parse(this.query)),s=s.slice(0,G)):e&&(this.search="",this.query={}),s&&(this.pathname=s),T[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",Y=this.search||"";this.path=U+Y}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,i="";this.host?o=t+this.host:this.hostname&&(o=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&u.isObject(this.query)&&Object.keys(this.query).length&&(i=M.stringify(this.query));var a=this.search||i&&"?"+i||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||T[e])&&o!==!1?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),e+o+r+a+n},n.prototype.resolve=function(t){return this.resolveObject(o(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(u.isString(t)){var e=new n;e.parse(t,!1,!0),t=e}for(var r=new n,o=Object.keys(this),i=0;i<o.length;i++){var a=o[i];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),l=0;l<s.length;l++){var c=s[l];"protocol"!==c&&(r[c]=t[c])}return T[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!T[t.protocol]){for(var p=Object.keys(t),f=0;f<p.length;f++){var h=p[f];r[h]=t[h]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||w[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var y=r.pathname||"",m=r.search||"";r.path=y+m}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var v=r.pathname&&"/"===r.pathname.charAt(0),g=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=g||v||r.host&&t.pathname,x=b,_=r.pathname&&r.pathname.split("/")||[],d=t.pathname&&t.pathname.split("/")||[],M=r.protocol&&!T[r.protocol];if(M&&(r.hostname="",r.port=null,r.host&&(""===_[0]?_[0]=r.host:_.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),b=b&&(""===d[0]||""===_[0])),g)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,_=d;else if(d.length)_||(_=[]),_.pop(),_=_.concat(d),r.search=t.search,r.query=t.query;else if(!u.isNullOrUndefined(t.search)){if(M){r.hostname=r.host=_.shift();var S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");S&&(r.auth=S.shift(),r.host=r.hostname=S.shift())}return r.search=t.search,r.query=t.query,u.isNull(r.pathname)&&u.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!_.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=_.slice(-1)[0],k=(r.host||t.host||_.length>1)&&("."===E||".."===E)||""===E,C=0,A=_.length;A>=0;A--)E=_[A],"."===E?_.splice(A,1):".."===E?(_.splice(A,1),C++):C&&(_.splice(A,1),C--);if(!b&&!x)for(;C--;C)_.unshift("..");!b||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),k&&"/"!==_.join("/").substr(-1)&&_.push("");var P=""===_[0]||_[0]&&"/"===_[0].charAt(0);if(M){r.hostname=r.host=P?"":_.length?_.shift():"";var S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");S&&(r.auth=S.shift(),r.host=r.hostname=S.shift())}return b=b||r.host&&_.length,b&&!P&&_.unshift(""),_.length?r.pathname=_.join("/"):(r.pathname=null,r.path=null),u.isNull(r.pathname)&&u.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var t=this.host,e=p.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":524,punycode:467,querystring:471}],524:[function(t,e,r){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],525:[function(t,e,r){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],526:[function(t,e,r){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],527:[function(t,r,n){(function(e,r){function o(t,e){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(e)?r.showHidden=e:e&&n._extend(r,e),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),l(r,t,r.depth)}function i(t,e){var r=o.styles[e];return r?"["+o.colors[r][0]+"m"+t+"["+o.colors[r][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,r){e[t]=!0}),e}function l(t,e,r){if(t.customInspect&&e&&E(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var o=e.inspect(r,t);return b(o)||(o=l(t,o,r)),o}var i=u(t,e);if(i)return i;var a=Object.keys(e),y=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),S(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(e);if(0===a.length){if(E(e)){var m=e.name?": "+e.name:"";return t.stylize("[Function"+m+"]","special")}if(w(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(M(e))return t.stylize(Date.prototype.toString.call(e),"date");if(S(e))return c(e)}var v="",g=!1,x=["{","}"];if(d(e)&&(g=!0,x=["[","]"]),E(e)){var _=e.name?": "+e.name:"";v=" [Function"+_+"]"}if(w(e)&&(v=" "+RegExp.prototype.toString.call(e)),M(e)&&(v=" "+Date.prototype.toUTCString.call(e)),S(e)&&(v=" "+c(e)),0===a.length&&(!g||0==e.length))return x[0]+v+x[1];if(r<0)return w(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var T;return T=g?p(t,e,r,y,a):a.map(function(n){return f(t,e,r,y,n,g)}),t.seen.pop(),h(T,v,x)}function u(t,e){if(_(e))return t.stylize("undefined","undefined");if(b(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}return g(e)?t.stylize(""+e,"number"):y(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,r,n,o){for(var i=[],a=0,s=e.length;a<s;++a)L(e,String(a))?i.push(f(t,e,r,n,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(f(t,e,r,n,o,!0))}),i}function f(t,e,r,n,o,i){var a,s,u;if(u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},u.get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),L(n,o)||(a="["+o+"]"),s||(t.seen.indexOf(u.value)<0?(s=m(r)?l(t,u.value,null):l(t,u.value,r-1),s.indexOf("\n")>-1&&(s=i?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),_(a)){if(i&&o.match(/^\d+$/))return s;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function h(t,e,r){var n=0,o=t.reduce(function(t,e){return n++,e.indexOf("\n")>=0&&n++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function d(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function m(t){return null===t}function v(t){return null==t}function g(t){return"number"==typeof t}function b(t){return"string"==typeof t}function x(t){return"symbol"==typeof t}function _(t){return void 0===t}function w(t){return T(t)&&"[object RegExp]"===C(t)}function T(t){return"object"==typeof t&&null!==t}function M(t){return T(t)&&"[object Date]"===C(t)}function S(t){return T(t)&&("[object Error]"===C(t)||t instanceof Error)}function E(t){return"function"==typeof t}function k(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function C(t){return Object.prototype.toString.call(t)}function A(t){return t<10?"0"+t.toString(10):t.toString(10)}function P(){var t=new Date,e=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(":");return[t.getDate(),R[t.getMonth()],e].join(" ")}function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var D=/%[sdj%]/g;n.format=function(t){if(!b(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(o(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,i=n.length,a=String(t).replace(D,function(t){if("%%"===t)return"%";if(r>=i)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}}),s=n[r];r<i;s=n[++r])a+=m(s)||!T(s)?" "+s:" "+o(s);return a},n.deprecate=function(t,o){function i(){if(!a){if(e.throwDeprecation)throw new Error(o);e.traceDeprecation?console.trace(o):console.error(o),a=!0}return t.apply(this,arguments)}if(_(r.process))return function(){return n.deprecate(t,o).apply(this,arguments)};if(e.noDeprecation===!0)return t;var a=!1;return i};var O,I={};n.debuglog=function(t){if(_(O)&&(O=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!I[t])if(new RegExp("\\b"+t+"\\b","i").test(O)){var r=e.pid;I[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,r,e)}}else I[t]=function(){};return I[t]},n.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=d,n.isBoolean=y,n.isNull=m,n.isNullOrUndefined=v,n.isNumber=g,n.isString=b,n.isSymbol=x,n.isUndefined=_,n.isRegExp=w,n.isObject=T,n.isDate=M,n.isError=S,n.isFunction=E,n.isPrimitive=k,n.isBuffer=t("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",P(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!T(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}).call(this,t("_process"),"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":526,_process:466,inherits:525}],528:[function(t,e,r){e.exports.VectorTile=t("./lib/vectortile.js"),e.exports.VectorTileFeature=t("./lib/vectortilefeature.js"),e.exports.VectorTileLayer=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":529,"./lib/vectortilefeature.js":530,"./lib/vectortilelayer.js":531}],529:[function(t,e,r){"use strict";function n(t,e){this.layers=t.readFields(o,{},e)}function o(t,e,r){if(3===t){var n=new i(r,r.readVarint()+r.pos);n.length&&(e[n.name]=n)}}var i=t("./vectortilelayer");e.exports=n},{"./vectortilelayer":531}],530:[function(t,e,r){"use strict";function n(t,e,r,n,i){this.properties={},this.extent=r,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=i,t.readFields(o,this,e)}function o(t,e,r){1==t?e.id=r.readVarint():2==t?i(r,e):3==t?e.type=r.readVarint():4==t&&(e._geometry=r.pos)}function i(t,e){for(var r=t.readVarint()+t.pos;t.pos<r;){var n=e._keys[t.readVarint()],o=e._values[t.readVarint()];e.properties[n]=o}}function a(t){var e=t.length;if(e<=1)return[t];for(var r,n,o=[],i=0;i<e;i++){var a=s(t[i]);0!==a&&(void 0===n&&(n=a<0),n===a<0?(r&&o.push(r),r=[t[i]]):r.push(t[i]))}return r&&o.push(r),o}function s(t){for(var e,r,n=0,o=0,i=t.length,a=i-1;o<i;a=o++)e=t[o],r=t[a],n+=(r.x-e.x)*(e.y+r.y);return n}var l=t("point-geometry");e.exports=n,n.types=["Unknown","Point","LineString","Polygon"],n.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,r=t.readVarint()+t.pos,n=1,o=0,i=0,a=0,s=[];t.pos<r;){if(!o){var u=t.readVarint();n=7&u,o=u>>3}if(o--,1===n||2===n)i+=t.readSVarint(),a+=t.readSVarint(),1===n&&(e&&s.push(e),e=[]),e.push(new l(i,a));else{if(7!==n)throw new Error("unknown command "+n);e&&e.push(e[0].clone())}}return e&&s.push(e),s},n.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,r=1,n=0,o=0,i=0,a=1/0,s=-(1/0),l=1/0,u=-(1/0);t.pos<e;){if(!n){var c=t.readVarint();r=7&c,n=c>>3}if(n--,1===r||2===r)o+=t.readSVarint(),i+=t.readSVarint(),o<a&&(a=o),o>s&&(s=o),i<l&&(l=i),i>u&&(u=i);else if(7!==r)throw new Error("unknown command "+r)}return[a,l,s,u]},n.prototype.toGeoJSON=function(t,e,r){function o(t){for(var e=0;e<t.length;e++){var r=t[e],n=180-360*(r.y+c)/l;t[e]=[360*(r.x+u)/l-180,360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90]}}var i,s,l=this.extent*Math.pow(2,r),u=this.extent*t,c=this.extent*e,p=this.loadGeometry(),f=n.types[this.type];switch(this.type){case 1:var h=[];for(i=0;i<p.length;i++)h[i]=p[i][0];p=h,o(p);break;case 2:for(i=0;i<p.length;i++)o(p[i]);break;case 3:for(p=a(p),i=0;i<p.length;i++)for(s=0;s<p[i].length;s++)o(p[i][s])}1===p.length?p=p[0]:f="Multi"+f;var d={type:"Feature",geometry:{type:f,coordinates:p},properties:this.properties};return"id"in this&&(d.id=this.id),d}},{"point-geometry":463}],531:[function(t,e,r){"use strict";function n(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(o,this,e),this.length=this._features.length}function o(t,e,r){15===t?e.version=r.readVarint():1===t?e.name=r.readString():5===t?e.extent=r.readVarint():2===t?e._features.push(r.pos):3===t?e._keys.push(r.readString()):4===t&&e._values.push(i(r))}function i(t){for(var e=null,r=t.readVarint()+t.pos;t.pos<r;){var n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null}return e}var a=t("./vectortilefeature.js");e.exports=n,n.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new a(this._pbf,e,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":530}],532:[function(t,e,r){"use strict";function n(t,e){return"object"==typeof e&&null!==e||(e={}),o(t,e.canvas||i,e.context||a,e)}e.exports=n;var o=t("./lib/vtext"),i=null,a=null;"undefined"!=typeof document&&(i=document.createElement("canvas"),i.width=8192,i.height=1024,a=i.getContext("2d"))},{"./lib/vtext":533}],533:[function(t,e,r){"use strict";function n(t,e,r){for(var n=e.textAlign||"start",o=e.textBaseline||"alphabetic",i=[1<<30,1<<30],a=[0,0],s=t.length,l=0;l<s;++l)for(var u=t[l],c=0;c<2;++c)i[c]=0|Math.min(i[c],u[c]),a[c]=0|Math.max(a[c],u[c]);var p=0;switch(n){case"center":p=-.5*(i[0]+a[0]);break;case"right":case"end":p=-a[0];break;case"left":case"start":p=-i[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+n+"'")}var f=0;switch(o){case"hanging":case"top":f=-i[1];break;case"middle":f=-.5*(i[1]+a[1]);break;case"alphabetic":case"ideographic":f=-3*r;break;case"bottom":f=-a[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+o+"'")}var h=1/r;return"lineHeight"in e?h*=+e.lineHeight:"width"in e?h=e.width/(a[0]-i[0]):"height"in e&&(h=e.height/(a[1]-i[1])),t.map(function(t){return[h*(t[0]+p),h*(t[1]+f)]})}function o(t,e,r,n){var o=0|Math.ceil(e.measureText(r).width+2*n);if(o>8192)throw new Error("vectorize-text: String too long (sorry, this will get fixed later)");var i=3*n;t.height<i&&(t.height=i),e.fillStyle="#000",e.fillRect(0,0,t.width,t.height),e.fillStyle="#fff",e.fillText(r,n,2*n);var a=e.getImageData(0,0,o,i),s=c(a.data,[i,o,4]);return s.pick(-1,-1,0).transpose(1,0)}function i(t,e){var r=u(t,128);return e?p(r.cells,r.positions,.25):{edges:r.cells,positions:r.positions}}function a(t,e,r,o){var a=i(t,o),s=n(a.positions,e,r),l=a.edges,u="ccw"===e.orientation;if(f(s,l),e.polygons||e.polygon||e.polyline){for(var c=d(l,s),p=new Array(c.length),y=0;y<c.length;++y){for(var m=c[y],v=new Array(m.length),g=0;g<m.length;++g){for(var b=m[g],x=new Array(b.length),_=0;_<b.length;++_)x[_]=s[b[_]].slice();u&&x.reverse(),v[g]=x}p[y]=v}return p}return e.triangles||e.triangulate||e.triangle?{cells:h(s,l,{delaunay:!1,exterior:!1,interior:!0}),positions:s}:{edges:l,positions:s
}}function s(t,e,r){try{return a(t,e,r,!0)}catch(t){}try{return a(t,e,r,!1)}catch(t){}return e.polygons||e.polyline||e.polygon?[]:e.triangles||e.triangulate||e.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function l(t,e,r,n){var i=n.size||64,a=n.font||"normal";r.font=i+"px "+a,r.textAlign="start",r.textBaseline="alphabetic",r.direction="ltr";var l=o(e,r,t,i);return s(l,n,i)}e.exports=l,e.exports.processPixels=s;var u=t("surface-nets"),c=t("ndarray"),p=t("simplify-planar-graph"),f=t("clean-pslg"),h=t("cdt2d"),d=t("planar-graph-to-polyline")},{cdt2d:69,"clean-pslg":79,ndarray:447,"planar-graph-to-polyline":462,"simplify-planar-graph":502,"surface-nets":509}],534:[function(t,e,r){function n(t){var e=[];for(var r in t.layers)e.push(i(t.layers[r]));var n=new c;return p.tile.write({layers:e},n),n.finish()}function o(t){var e={};for(var r in t)e[r]=new f(t[r].features),e[r].name=r;return n({layers:e})}function i(t){for(var e={name:t.name||"",version:t.version||1,extent:t.extent||4096,keys:[],values:[],features:[]},r={},n={},o=0;o<t.length;o++){var i=t.feature(o);i.geometry=l(i.loadGeometry());var a=[];for(var s in i.properties){var c=r[s];"undefined"==typeof c&&(e.keys.push(s),c=e.keys.length-1,r[s]=c);var p=u(i.properties[s]),f=n[p.key];"undefined"==typeof f&&(e.values.push(p),f=e.values.length-1,n[p.key]=f),a.push(c),a.push(f)}i.tags=a,e.features.push(i)}return e}function a(t,e){return(e<<3)+(7&t)}function s(t){return t<<1^t>>31}function l(t){for(var e=[],r=0,n=0,o=t.length,i=0;i<o;i++){var l=t[i];e.push(a(1,1));for(var u=0;u<l.length;u++){1===u&&e.push(a(2,l.length-1));var c=l[u].x-r,p=l[u].y-n;e.push(s(c),s(p)),r+=c,n+=p}}return e}function u(t){var e,r=typeof t;return"string"===r?e={string_value:t}:"boolean"===r?e={bool_value:t}:"number"===r?e=t%1!==0?{double_value:t}:t<0?{sint_value:t}:{uint_value:t}:(t=JSON.stringify(t),e={string_value:t}),e.key=r+":"+t,e}var c=t("pbf"),p=t("./vector-tile-pb"),f=t("./lib/geojson_wrapper");e.exports=n,e.exports.fromVectorTileJs=n,e.exports.fromGeojsonVt=o,e.exports.GeoJSONWrapper=f},{"./lib/geojson_wrapper":535,"./vector-tile-pb":536,pbf:457}],535:[function(t,e,r){"use strict";function n(t){this.features=t,this.length=t.length}function o(t){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=4096}var i=t("point-geometry"),a=t("vector-tile").VectorTileFeature;e.exports=n,n.prototype.feature=function(t){return new o(this.features[t])},o.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var r=t[e],n=[],o=0;o<r.length;o++)n.push(new i(r[o][0],r[o][1]));this.geometry.push(n)}return this.geometry},o.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,r=-(1/0),n=1/0,o=-(1/0),i=0;i<t.length;i++)for(var a=t[i],s=0;s<a.length;s++){var l=a[s];e=Math.min(e,l.x),r=Math.max(r,l.x),n=Math.min(n,l.y),o=Math.max(o,l.y)}return[e,n,r,o]},o.prototype.toGeoJSON=a.prototype.toGeoJSON},{"point-geometry":463,"vector-tile":528}],536:[function(t,e,r){"use strict";function n(t,e){return t.readFields(o,{layers:[]},e)}function o(t,e,r){3===t&&e.layers.push(f(r,r.readVarint()+r.pos))}function i(t,e){var r;if(void 0!==t.layers)for(r=0;r<t.layers.length;r++)e.writeMessage(3,d,t.layers[r])}function a(t,e){return t.readFields(s,{},e)}function s(t,e,r){1===t?e.string_value=r.readString():2===t?e.float_value=r.readFloat():3===t?e.double_value=r.readDouble():4===t?e.int_value=r.readVarint():5===t?e.uint_value=r.readVarint():6===t?e.sint_value=r.readSVarint():7===t&&(e.bool_value=r.readBoolean())}function l(t,e){void 0!==t.string_value&&e.writeStringField(1,t.string_value),void 0!==t.float_value&&e.writeFloatField(2,t.float_value),void 0!==t.double_value&&e.writeDoubleField(3,t.double_value),void 0!==t.int_value&&e.writeVarintField(4,t.int_value),void 0!==t.uint_value&&e.writeVarintField(5,t.uint_value),void 0!==t.sint_value&&e.writeSVarintField(6,t.sint_value),void 0!==t.bool_value&&e.writeBooleanField(7,t.bool_value)}function u(t,e){var r=t.readFields(c,{},e);return void 0===r.type&&(r.type="Unknown"),r}function c(t,e,r){1===t?e.id=r.readVarint():2===t?e.tags=r.readPackedVarint():3===t?e.type=r.readVarint():4===t&&(e.geometry=r.readPackedVarint())}function p(t,e){void 0!==t.id&&e.writeVarintField(1,t.id),void 0!==t.tags&&e.writePackedVarint(2,t.tags),void 0!==t.type&&e.writeVarintField(3,t.type),void 0!==t.geometry&&e.writePackedVarint(4,t.geometry)}function f(t,e){return t.readFields(h,{features:[],keys:[],values:[]},e)}function h(t,e,r){15===t?e.version=r.readVarint():1===t?e.name=r.readString():2===t?e.features.push(u(r,r.readVarint()+r.pos)):3===t?e.keys.push(r.readString()):4===t?e.values.push(a(r,r.readVarint()+r.pos)):5===t&&(e.extent=r.readVarint())}function d(t,e){void 0!==t.version&&e.writeVarintField(15,t.version),void 0!==t.name&&e.writeStringField(1,t.name);var r;if(void 0!==t.features)for(r=0;r<t.features.length;r++)e.writeMessage(2,p,t.features[r]);if(void 0!==t.keys)for(r=0;r<t.keys.length;r++)e.writeStringField(3,t.keys[r]);if(void 0!==t.values)for(r=0;r<t.values.length;r++)e.writeMessage(4,l,t.values[r]);void 0!==t.extent&&e.writeVarintField(5,t.extent)}var y=r.tile={read:n,write:i};y.GeomType={Unknown:0,Point:1,LineString:2,Polygon:3},y.value={read:a,write:l},y.feature={read:u,write:p},y.layer={read:f,write:d}},{}],537:[function(t,e,r){!function(){"use strict";function t(e){e.permitHostObjects___&&e.permitHostObjects___(t)}function r(t){return!(t.substr(0,h.length)==h&&"___"===t.substr(t.length-3))}function n(t){if(t!==Object(t))throw new TypeError("Not an object: "+t);var e=t[d];if(e&&e.key===t)return e;if(f(t)){e={key:t};try{return p(t,d,{value:e,writable:!1,enumerable:!1,configurable:!1}),e}catch(t){return}}}function o(t){return t.prototype=null,Object.freeze(t)}function i(){g||"undefined"==typeof console||(g=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=t);var a=!1;if("function"==typeof WeakMap){var s=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent));else{var l=new s,u=Object.freeze({});if(l.set(u,1),1===l.get(u))return void(e.exports=WeakMap);a=!0}}var c=(Object.prototype.hasOwnProperty,Object.getOwnPropertyNames),p=Object.defineProperty,f=Object.isExtensible,h="weakmap:",d=h+"ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var y=new ArrayBuffer(25),m=new Uint8Array(y);crypto.getRandomValues(m),d=h+"rand:"+Array.prototype.map.call(m,function(t){return(t%36).toString(36)}).join("")+"___"}if(p(Object,"getOwnPropertyNames",{value:function(t){return c(t).filter(r)}}),"getPropertyNames"in Object){var v=Object.getPropertyNames;p(Object,"getPropertyNames",{value:function(t){return v(t).filter(r)}})}!function(){var t=Object.freeze;p(Object,"freeze",{value:function(e){return n(e),t(e)}});var e=Object.seal;p(Object,"seal",{value:function(t){return n(t),e(t)}});var r=Object.preventExtensions;p(Object,"preventExtensions",{value:function(t){return n(t),r(t)}})}();var g=!1,b=0,x=function(){function t(t,e){var r,o=n(t);return o?u in o?o[u]:e:(r=s.indexOf(t),r>=0?l[r]:e)}function e(t){var e=n(t);return e?u in e:s.indexOf(t)>=0}function r(t,e){var r,o=n(t);return o?o[u]=e:(r=s.indexOf(t),r>=0?l[r]=e:(r=s.length,l[r]=e,s[r]=t)),this}function a(t){var e,r,o=n(t);return o?u in o&&delete o[u]:(e=s.indexOf(t),!(e<0)&&(r=s.length-1,s[e]=void 0,l[e]=l[r],s[e]=s[r],s.length=r,l.length=r,!0))}this instanceof x||i();var s=[],l=[],u=b++;return Object.create(x.prototype,{get___:{value:o(t)},has___:{value:o(e)},set___:{value:o(r)},delete___:{value:o(a)}})};x.prototype=Object.create(Object.prototype,{get:{value:function(t,e){return this.get___(t,e)},writable:!0,configurable:!0},has:{value:function(t){return this.has___(t)},writable:!0,configurable:!0},set:{value:function(t,e){return this.set___(t,e)},writable:!0,configurable:!0},delete:{value:function(t){return this.delete___(t)},writable:!0,configurable:!0}}),"function"==typeof s?!function(){function r(){function e(t,e){return c?u.has(t)?u.get(t):c.get___(t,e):u.get(t,e)}function r(t){return u.has(t)||!!c&&c.has___(t)}function n(t){var e=!!u.delete(t);return c?c.delete___(t)||e:e}this instanceof x||i();var l,u=new s,c=void 0,p=!1;return l=a?function(t,e){return u.set(t,e),u.has(t)||(c||(c=new x),c.set(t,e)),this}:function(t,e){if(p)try{u.set(t,e)}catch(r){c||(c=new x),c.set___(t,e)}else u.set(t,e);return this},Object.create(x.prototype,{get___:{value:o(e)},has___:{value:o(r)},set___:{value:o(l)},delete___:{value:o(n)},permitHostObjects___:{value:o(function(e){if(e!==t)throw new Error("bogus call to permitHostObjects___");p=!0})}})}a&&"undefined"!=typeof Proxy&&(Proxy=void 0),r.prototype=x.prototype,e.exports=r,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),e.exports=x)}}()},{}],538:[function(t,e,r){function n(){var t={};return function(e){if(("object"!=typeof e||null===e)&&"function"!=typeof e)throw new Error("Weakmap-shim: Key must be object");var r=e.valueOf(t);return r&&r.identity===t?r:o(e,t)}}var o=t("./hidden-store.js");e.exports=n},{"./hidden-store.js":539}],539:[function(t,e,r){function n(t,e){var r={identity:e},n=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(t){return t!==e?n.apply(this,arguments):r},writable:!0}),r}e.exports=n},{}],540:[function(t,e,r){function n(){var t=o();return{get:function(e,r){var n=t(e);return n.hasOwnProperty("value")?n.value:r},set:function(e,r){return t(e).value=r,this},has:function(e){return"value"in t(e)},delete:function(e){return delete t(e).value}}}var o=t("./create-store.js");e.exports=n},{"./create-store.js":538}],541:[function(t,e,r){var n=t("get-canvas-context");e.exports=function(t){return n("webgl",t)}},{"get-canvas-context":129}],542:[function(t,e,r){var n=arguments[3],o=arguments[4],i=arguments[5],a=JSON.stringify;e.exports=function(t,e){function r(t){m[t]=!0;for(var e in o[t][1]){var n=o[t][1][e];m[n]||r(n)}}for(var s,l=Object.keys(i),u=0,c=l.length;u<c;u++){var p=l[u],f=i[p].exports;if(f===t||f&&f.default===t){s=p;break}}if(!s){s=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var h={},u=0,c=l.length;u<c;u++){var p=l[u];h[p]=p}o[s]=[Function(["require","module","exports"],"("+t+")(self)"),h]}var d=Math.floor(Math.pow(16,8)*Math.random()).toString(16),y={};y[s]=s,o[d]=[Function(["require"],"var f = require("+a(s)+");(f.default ? f.default : f)(self);"),y];var m={};r(d);var v="("+n+")({"+Object.keys(m).map(function(t){return a(t)+":["+o[t][0]+","+a(o[t][1])+"]"}).join(",")+"},{},["+a(d)+"])",g=window.URL||window.webkitURL||window.mozURL||window.msURL,b=new Blob([v],{type:"text/javascript"});if(e&&e.bare)return b;var x=g.createObjectURL(b),_=new Worker(x);return _.objectURL=x,_}},{}],543:[function(t,e,r){e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142},{}],544:[function(e,r,n){!function(e,o){"object"==typeof n&&"undefined"!=typeof r?o(n):"function"==typeof t&&t.amd?t(["exports"],o):o(e.WhooTS=e.WhooTS||{})}(this,function(t){function e(t,e,n,o,i,a){a=a||{};var s=t+"?"+["bbox="+r(n,o,i),"format="+(a.format||"image/png"),"service="+(a.service||"WMS"),"version="+(a.version||"1.1.1"),"request="+(a.request||"GetMap"),"srs="+(a.srs||"EPSG:3857"),"width="+(a.width||256),"height="+(a.height||256),"layers="+e].join("&");return s}function r(t,e,r){e=Math.pow(2,r)-e-1;var o=n(256*t,256*e,r),i=n(256*(t+1),256*(e+1),r);return o[0]+","+o[1]+","+i[0]+","+i[1]}function n(t,e,r){var n=2*Math.PI*6378137/256/Math.pow(2,r),o=t*n-2*Math.PI*6378137/2,i=e*n-2*Math.PI*6378137/2;return[o,i]}t.getURL=e,t.getTileBBox=r,t.getMercCoords=n,Object.defineProperty(t,"__esModule",{value:!0})})},{}],545:[function(t,e,r){function n(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}function o(t,e,r,n){var o,i;if("object"==typeof t)o=t,i=e||{};else{var a="number"==typeof t&&t>=1888&&t<=2111;if(!a)throw new Error("Solar year outside range 1888-2111");var s="number"==typeof e&&e>=1&&e<=12;if(!s)throw new Error("Solar month outside range 1 - 12");var l="number"==typeof r&&r>=1&&r<=31;if(!l)throw new Error("Solar day outside range 1 - 31");o={year:t,month:e,day:r},i=n||{}}var u=d[o.year-d[0]],c=o.year<<9|o.month<<5|o.day;i.year=c>=u?o.year:o.year-1,u=d[i.year-d[0]];var p,f=u>>9&4095,y=u>>5&15,m=31&u,v=new Date(f,y-1,m),g=new Date(o.year,o.month-1,o.day);p=Math.round((g-v)/864e5);var b,x=h[i.year-h[0]];for(b=0;b<13;b++){var _=x&1<<12-b?30:29;if(p<_)break;p-=_}var w=x>>13;return!w||b<w?(i.isIntercalary=!1,i.month=1+b):b===w?(i.isIntercalary=!0,i.month=b):(i.isIntercalary=!1,i.month=b),i.day=1+p,i}function i(t,e,r,n,o){var i,a;if("object"==typeof t)a=t,i=e||{};else{var s="number"==typeof t&&t>=1888&&t<=2111;if(!s)throw new Error("Lunar year outside range 1888-2111");var l="number"==typeof e&&e>=1&&e<=12;if(!l)throw new Error("Lunar month outside range 1 - 12");var u="number"==typeof r&&r>=1&&r<=30;if(!u)throw new Error("Lunar day outside range 1 - 30");var c;"object"==typeof n?(c=!1,i=n):(c=!!n,i=o||{}),a={year:t,month:e,day:r,isIntercalary:c}}var p;p=a.day-1;var f,y=h[a.year-h[0]],m=y>>13;f=m?a.month>m?a.month:a.isIntercalary?a.month:a.month-1:a.month-1;for(var v=0;v<f;v++){var g=y&1<<12-v?30:29;p+=g}var b=d[a.year-d[0]],x=b>>9&4095,_=b>>5&15,w=31&b,T=new Date(x,_-1,w+p);return i.year=T.getFullYear(),i.month=1+T.getMonth(),i.day=T.getDate(),i}var a=t("../main"),s=t("object-assign"),l=a.instance();n.prototype=new a.baseCalendar,s(n.prototype,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(t,e){if("string"==typeof t){var r=t.match(c);return r?r[0]:""}var n=this._validateYear(t),o=t.month(),i=""+this.toChineseMonth(n,o);return e&&i.length<2&&(i="0"+i),this.isIntercalaryMonth(n,o)&&(i+="i"),i},monthNames:function(t){if("string"==typeof t){var e=t.match(p);return e?e[0]:""}var r=this._validateYear(t),n=t.month(),o=this.toChineseMonth(r,n),i=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][o-1];return this.isIntercalaryMonth(r,n)&&(i="闰"+i),i},monthNamesShort:function(t){if("string"==typeof t){var e=t.match(f);return e?e[0]:""}var r=this._validateYear(t),n=t.month(),o=this.toChineseMonth(r,n),i=["一","二","三","四","五","六","七","八","九","十","十一","十二"][o-1];return this.isIntercalaryMonth(r,n)&&(i="闰"+i),i},parseMonth:function(t,e){t=this._validateYear(t);var r,n=parseInt(e);if(isNaN(n))"闰"===e[0]&&(r=!0,e=e.substring(1)),"月"===e[e.length-1]&&(e=e.substring(0,e.length-1)),n=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(e);else{var o=e[e.length-1];r="i"===o||"I"===o}var i=this.toMonthIndex(t,n,r);return i},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(t,e){if(t.year&&(t=t.year()),"number"!=typeof t||t<1888||t>2111)throw e.replace(/\{0\}/,this.local.name);return t},toMonthIndex:function(t,e,r){var n=this.intercalaryMonth(t),o=r&&e!==n;if(o||e<1||e>12)throw a.local.invalidMonth.replace(/\{0\}/,this.local.name);var i;return i=n?!r&&e<=n?e-1:e:e-1},toChineseMonth:function(t,e){t.year&&(t=t.year(),e=t.month());var r=this.intercalaryMonth(t),n=r?12:11;if(e<0||e>n)throw a.local.invalidMonth.replace(/\{0\}/,this.local.name);var o;return o=r?e<r?e+1:e:e+1},intercalaryMonth:function(t){t=this._validateYear(t);var e=h[t-h[0]],r=e>>13;return r},isIntercalaryMonth:function(t,e){t.year&&(t=t.year(),e=t.month());var r=this.intercalaryMonth(t);return!!r&&r===e},leapYear:function(t){return 0!==this.intercalaryMonth(t)},weekOfYear:function(t,e,r){var n,o=this._validateYear(t,a.local.invalidyear),i=d[o-d[0]],s=i>>9&4095,u=i>>5&15,c=31&i;n=l.newDate(s,u,c),n.add(4-(n.dayOfWeek()||7),"d");var p=this.toJD(t,e,r)-n.toJD();return 1+Math.floor(p/7)},monthsInYear:function(t){return this.leapYear(t)?13:12},daysInMonth:function(t,e){t.year&&(e=t.month(),t=t.year()),t=this._validateYear(t);var r=h[t-h[0]],n=r>>13,o=n?12:11;if(e>o)throw a.local.invalidMonth.replace(/\{0\}/,this.local.name);var i=r&1<<12-e?30:29;return i},weekDay:function(t,e,r){return(this.dayOfWeek(t,e,r)||7)<6},toJD:function(t,e,r){var n=this._validate(t,s,r,a.local.invalidDate);t=this._validateYear(n.year()),e=n.month(),r=n.day();var o=this.isIntercalaryMonth(t,e),s=this.toChineseMonth(t,e),u=i(t,s,r,o);return l.toJD(u.year,u.month,u.day)},fromJD:function(t){var e=l.fromJD(t),r=o(e.year(),e.month(),e.day()),n=this.toMonthIndex(r.year,r.month,r.isIntercalary);return this.newDate(r.year,n,r.day)},fromString:function(t){var e=t.match(u),r=this._validateYear(+e[1]),n=+e[2],o=!!e[3],i=this.toMonthIndex(r,n,o),a=+e[4];return this.newDate(r,i,a)},add:function(t,e,r){var o=t.year(),i=t.month(),a=this.isIntercalaryMonth(o,i),s=this.toChineseMonth(o,i),l=Object.getPrototypeOf(n.prototype).add.call(this,t,e,r);if("y"===r){var u=l.year(),c=l.month(),p=this.isIntercalaryMonth(u,s),f=a&&p?this.toMonthIndex(u,s,!0):this.toMonthIndex(u,s,!1);f!==c&&l.month(f)}return l}});var u=/^\s*(-?\d\d\d\d|\d\d)[-\/](\d?\d)([iI]?)[-\/](\d?\d)/m,c=/^\d?\d[iI]?/m,p=/^闰?十?[一二三四五六七八九]?月/m,f=/^闰?十?[一二三四五六七八九]?/m;a.calendars.chinese=n;var h=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],d=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},{"../main":559,"object-assign":450}],546:[function(t,e,r){function n(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}var o=t("../main"),i=t("object-assign");n.prototype=new o.baseCalendar,i(n.prototype,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,o.local.invalidYear),t=e.year()+(e.year()<0?1:0);return t%4===3||t%4===-1},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear),13},weekOfYear:function(t,e,r){var n=this.newDate(t,e,r);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,e){var r=this._validate(t,e,this.minDay,o.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(13===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,r){return(this.dayOfWeek(t,e,r)||7)<6},toJD:function(t,e,r){var n=this._validate(t,e,r,o.local.invalidDate);return t=n.year(),t<0&&t++,n.day()+30*(n.month()-1)+365*(t-1)+Math.floor(t/4)+this.jdEpoch-1},fromJD:function(t){var e=Math.floor(t)+.5-this.jdEpoch,r=Math.floor((e-Math.floor((e+366)/1461))/365)+1;r<=0&&r--,e=Math.floor(t)+.5-this.newDate(r,1,1).toJD();var n=Math.floor(e/30)+1,o=e-30*(n-1)+1;return this.newDate(r,n,o)}}),o.calendars.coptic=n},{"../main":559,"object-assign":450}],547:[function(t,e,r){function n(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}var o=t("../main"),i=t("object-assign");n.prototype=new o.baseCalendar,i(n.prototype,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(t){return this._validate(t,this.minMonth,this.minDay,o.local.invalidYear),!1},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,o.local.invalidYear),13},daysInYear:function(t){return this._validate(t,this.minMonth,this.minDay,o.local.invalidYear),400},weekOfYear:function(t,e,r){var n=this.newDate(t,e,r);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/8)+1},daysInMonth:function(t,e){var r=this._validate(t,e,this.minDay,o.local.invalidMonth);return this.daysPerMonth[r.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(t,e,r){var n=this._validate(t,e,r,o.local.invalidDate);return(n.day()+1)%8},weekDay:function(t,e,r){var n=this.dayOfWeek(t,e,r);return n>=2&&n<=6},extraInfo:function(t,e,r){var n=this._validate(t,e,r,o.local.invalidDate);return{century:a[Math.floor((n.year()-1)/100)+1]||""}},toJD:function(t,e,r){var n=this._validate(t,e,r,o.local.invalidDate);return t=n.year()+(n.year()<0?1:0),e=n.month(),r=n.day(),r+(e>1?16:0)+(e>2?32*(e-2):0)+400*(t-1)+this.jdEpoch-1},fromJD:function(t){t=Math.floor(t+.5)-Math.floor(this.jdEpoch)-1;var e=Math.floor(t/400)+1;t-=400*(e-1),t+=t>15?16:0;var r=Math.floor(t/32)+1,n=t-32*(r-1)+1;return this.newDate(e<=0?e-1:e,r,n)}});var a={20:"Fruitbat",21:"Anchovy"};o.calendars.discworld=n},{"../main":559,"object-assign":450}],548:[function(t,e,r){function n(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}var o=t("../main"),i=t("object-assign");n.prototype=new o.baseCalendar,i(n.prototype,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,o.local.invalidYear),t=e.year()+(e.year()<0?1:0);return t%4===3||t%4===-1},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear),13},weekOfYear:function(t,e,r){var n=this.newDate(t,e,r);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,e){var r=this._validate(t,e,this.minDay,o.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(13===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,r){return(this.dayOfWeek(t,e,r)||7)<6},toJD:function(t,e,r){var n=this._validate(t,e,r,o.local.invalidDate);return t=n.year(),t<0&&t++,n.day()+30*(n.month()-1)+365*(t-1)+Math.floor(t/4)+this.jdEpoch-1},fromJD:function(t){var e=Math.floor(t)+.5-this.jdEpoch,r=Math.floor((e-Math.floor((e+366)/1461))/365)+1;r<=0&&r--,e=Math.floor(t)+.5-this.newDate(r,1,1).toJD();var n=Math.floor(e/30)+1,o=e-30*(n-1)+1;return this.newDate(r,n,o)}}),o.calendars.ethiopian=n},{"../main":559,"object-assign":450}],549:[function(t,e,r){function n(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}function o(t,e){return t-e*Math.floor(t/e)}var i=t("../main"),a=t("object-assign");n.prototype=new i.baseCalendar,a(n.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,i.local.invalidYear);return this._leapYear(e.year())},_leapYear:function(t){return t=t<0?t+1:t,o(7*t+1,19)<7},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,i.local.invalidYear),this._leapYear(t.year?t.year():t)?13:12},weekOfYear:function(t,e,r){var n=this.newDate(t,e,r);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,i.local.invalidYear);return t=e.year(),this.toJD(t===-1?1:t+1,7,1)-this.toJD(t,7,1)},daysInMonth:function(t,e){return t.year&&(e=t.month(),t=t.year()),this._validate(t,e,this.minDay,i.local.invalidMonth),12===e&&this.leapYear(t)?30:8===e&&5===o(this.daysInYear(t),10)?30:9===e&&3===o(this.daysInYear(t),10)?29:this.daysPerMonth[e-1]},weekDay:function(t,e,r){return 6!==this.dayOfWeek(t,e,r)},extraInfo:function(t,e,r){var n=this._validate(t,e,r,i.local.invalidDate);return{yearType:(this.leapYear(n)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(n)%10-3]}},toJD:function(t,e,r){var n=this._validate(t,e,r,i.local.invalidDate);t=n.year(),e=n.month(),r=n.day();var o=t<=0?t+1:t,a=this.jdEpoch+this._delay1(o)+this._delay2(o)+r+1;if(e<7){for(var s=7;s<=this.monthsInYear(t);s++)a+=this.daysInMonth(t,s);for(var s=1;s<e;s++)a+=this.daysInMonth(t,s)}else for(var s=7;s<e;s++)a+=this.daysInMonth(t,s);return a},_delay1:function(t){var e=Math.floor((235*t-234)/19),r=12084+13753*e,n=29*e+Math.floor(r/25920);return o(3*(n+1),7)<3&&n++,n},_delay2:function(t){var e=this._delay1(t-1),r=this._delay1(t),n=this._delay1(t+1);return n-r===356?2:r-e===382?1:0},fromJD:function(t){t=Math.floor(t)+.5;for(var e=Math.floor(98496*(t-this.jdEpoch)/35975351)-1;t>=this.toJD(e===-1?1:e+1,7,1);)e++;for(var r=t<this.toJD(e,1,1)?7:1;t>this.toJD(e,r,this.daysInMonth(e,r));)r++;var n=t-this.toJD(e,r,1)+1;return this.newDate(e,r,n)}}),i.calendars.hebrew=n},{"../main":559,"object-assign":450}],550:[function(t,e,r){function n(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}var o=t("../main"),i=t("object-assign");n.prototype=new o.baseCalendar,i(n.prototype,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,o.local.invalidYear);return(11*e.year()+14)%30<11},weekOfYear:function(t,e,r){var n=this.newDate(t,e,r);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(t){return this.leapYear(t)?355:354},daysInMonth:function(t,e){var r=this._validate(t,e,this.minDay,o.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(12===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,r){return 5!==this.dayOfWeek(t,e,r)},toJD:function(t,e,r){var n=this._validate(t,e,r,o.local.invalidDate);return t=n.year(),e=n.month(),r=n.day(),t=t<=0?t+1:t,r+Math.ceil(29.5*(e-1))+354*(t-1)+Math.floor((3+11*t)/30)+this.jdEpoch-1},fromJD:function(t){t=Math.floor(t)+.5;var e=Math.floor((30*(t-this.jdEpoch)+10646)/10631);e=e<=0?e-1:e;var r=Math.min(12,Math.ceil((t-29-this.toJD(e,1,1))/29.5)+1),n=t-this.toJD(e,r,1)+1;return this.newDate(e,r,n)}}),o.calendars.islamic=n},{"../main":559,"object-assign":450}],551:[function(t,e,r){function n(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}var o=t("../main"),i=t("object-assign");n.prototype=new o.baseCalendar,i(n.prototype,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],
monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,o.local.invalidYear),t=e.year()<0?e.year()+1:e.year();return t%4===0},weekOfYear:function(t,e,r){var n=this.newDate(t,e,r);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,e){var r=this._validate(t,e,this.minDay,o.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(2===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,r){return(this.dayOfWeek(t,e,r)||7)<6},toJD:function(t,e,r){var n=this._validate(t,e,r,o.local.invalidDate);return t=n.year(),e=n.month(),r=n.day(),t<0&&t++,e<=2&&(t--,e+=12),Math.floor(365.25*(t+4716))+Math.floor(30.6001*(e+1))+r-1524.5},fromJD:function(t){var e=Math.floor(t+.5),r=e+1524,n=Math.floor((r-122.1)/365.25),o=Math.floor(365.25*n),i=Math.floor((r-o)/30.6001),a=i-Math.floor(i<14?1:13),s=n-Math.floor(a>2?4716:4715),l=r-o-Math.floor(30.6001*i);return s<=0&&s--,this.newDate(s,a,l)}}),o.calendars.julian=n},{"../main":559,"object-assign":450}],552:[function(t,e,r){function n(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}function o(t,e){return t-e*Math.floor(t/e)}function i(t,e){return o(t-1,e)+1}var a=t("../main"),s=t("object-assign");n.prototype=new a.baseCalendar,s(n.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(t){return this._validate(t,this.minMonth,this.minDay,a.local.invalidYear),!1},formatYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,a.local.invalidYear);t=e.year();var r=Math.floor(t/400);t%=400,t+=t<0?400:0;var n=Math.floor(t/20);return r+"."+n+"."+t%20},forYear:function(t){if(t=t.split("."),t.length<3)throw"Invalid Mayan year";for(var e=0,r=0;r<t.length;r++){var n=parseInt(t[r],10);if(Math.abs(n)>19||r>0&&n<0)throw"Invalid Mayan year";e=20*e+n}return e},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,a.local.invalidYear),18},weekOfYear:function(t,e,r){return this._validate(t,e,r,a.local.invalidDate),0},daysInYear:function(t){return this._validate(t,this.minMonth,this.minDay,a.local.invalidYear),360},daysInMonth:function(t,e){return this._validate(t,e,this.minDay,a.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(t,e,r){var n=this._validate(t,e,r,a.local.invalidDate);return n.day()},weekDay:function(t,e,r){return this._validate(t,e,r,a.local.invalidDate),!0},extraInfo:function(t,e,r){var n=this._validate(t,e,r,a.local.invalidDate),o=n.toJD(),i=this._toHaab(o),s=this._toTzolkin(o);return{haabMonthName:this.local.haabMonths[i[0]-1],haabMonth:i[0],haabDay:i[1],tzolkinDayName:this.local.tzolkinMonths[s[0]-1],tzolkinDay:s[0],tzolkinTrecena:s[1]}},_toHaab:function(t){t-=this.jdEpoch;var e=o(t+8+340,365);return[Math.floor(e/20)+1,o(e,20)]},_toTzolkin:function(t){return t-=this.jdEpoch,[i(t+20,20),i(t+4,13)]},toJD:function(t,e,r){var n=this._validate(t,e,r,a.local.invalidDate);return n.day()+20*n.month()+360*n.year()+this.jdEpoch},fromJD:function(t){t=Math.floor(t)+.5-this.jdEpoch;var e=Math.floor(t/360);t%=360,t+=t<0?360:0;var r=Math.floor(t/20),n=t%20;return this.newDate(e,r,n)}}),a.calendars.mayan=n},{"../main":559,"object-assign":450}],553:[function(t,e,r){function n(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}var o=t("../main"),i=t("object-assign");n.prototype=new o.baseCalendar;var a=o.instance("gregorian");i(n.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return a.leapYear(e.year()+(e.year()<1?1:0)+1469)},weekOfYear:function(t,e,r){var n=this.newDate(t,e,r);return n.add(1-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,e){var r=this._validate(t,e,this.minDay,o.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(12===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,r){return(this.dayOfWeek(t,e,r)||7)<6},toJD:function(t,e,r){var n=this._validate(t,e,r,o.local.invalidMonth),t=n.year();t<0&&t++;for(var i=n.day(),s=1;s<n.month();s++)i+=this.daysPerMonth[s-1];return i+a.toJD(t+1468,3,13)},fromJD:function(t){t=Math.floor(t+.5);for(var e=Math.floor((t-(this.jdEpoch-1))/366);t>=this.toJD(e+1,1,1);)e++;for(var r=t-Math.floor(this.toJD(e,1,1)+.5)+1,n=1;r>this.daysInMonth(e,n);)r-=this.daysInMonth(e,n),n++;return this.newDate(e,n,r)}}),o.calendars.nanakshahi=n},{"../main":559,"object-assign":450}],554:[function(t,e,r){function n(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}var o=t("../main"),i=t("object-assign");n.prototype=new o.baseCalendar,i(n.prototype,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(t){return this.daysInYear(t)!==this.daysPerYear},weekOfYear:function(t,e,r){var n=this.newDate(t,e,r);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,o.local.invalidYear);if(t=e.year(),"undefined"==typeof this.NEPALI_CALENDAR_DATA[t])return this.daysPerYear;for(var r=0,n=this.minMonth;n<=12;n++)r+=this.NEPALI_CALENDAR_DATA[t][n];return r},daysInMonth:function(t,e){return t.year&&(e=t.month(),t=t.year()),this._validate(t,e,this.minDay,o.local.invalidMonth),"undefined"==typeof this.NEPALI_CALENDAR_DATA[t]?this.daysPerMonth[e-1]:this.NEPALI_CALENDAR_DATA[t][e]},weekDay:function(t,e,r){return 6!==this.dayOfWeek(t,e,r)},toJD:function(t,e,r){var n=this._validate(t,e,r,o.local.invalidDate);t=n.year(),e=n.month(),r=n.day();var i=o.instance(),a=0,s=e,l=t;this._createMissingCalendarData(t);var u=t-(s>9||9===s&&r>=this.NEPALI_CALENDAR_DATA[l][0]?56:57);for(9!==e&&(a=r,s--);9!==s;)s<=0&&(s=12,l--),a+=this.NEPALI_CALENDAR_DATA[l][s],s--;return 9===e?(a+=r-this.NEPALI_CALENDAR_DATA[l][0],a<0&&(a+=i.daysInYear(u))):a+=this.NEPALI_CALENDAR_DATA[l][9]-this.NEPALI_CALENDAR_DATA[l][0],i.newDate(u,1,1).add(a,"d").toJD()},fromJD:function(t){var e=o.instance(),r=e.fromJD(t),n=r.year(),i=r.dayOfYear(),a=n+56;this._createMissingCalendarData(a);for(var s=9,l=this.NEPALI_CALENDAR_DATA[a][0],u=this.NEPALI_CALENDAR_DATA[a][s]-l+1;i>u;)s++,s>12&&(s=1,a++),u+=this.NEPALI_CALENDAR_DATA[a][s];var c=this.NEPALI_CALENDAR_DATA[a][s]-(u-i);return this.newDate(a,s,c)},_createMissingCalendarData:function(t){var e=this.daysPerMonth.slice(0);e.unshift(17);for(var r=t-1;r<t+2;r++)"undefined"==typeof this.NEPALI_CALENDAR_DATA[r]&&(this.NEPALI_CALENDAR_DATA[r]=e)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),o.calendars.nepali=n},{"../main":559,"object-assign":450}],555:[function(t,e,r){function n(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}function o(t,e){return t-e*Math.floor(t/e)}var i=t("../main"),a=t("object-assign");n.prototype=new i.baseCalendar,a(n.prototype,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,i.local.invalidYear);return 682*((e.year()-(e.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(t,e,r){var n=this.newDate(t,e,r);return n.add(-((n.dayOfWeek()+1)%7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,e){var r=this._validate(t,e,this.minDay,i.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(12===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,r){return 5!==this.dayOfWeek(t,e,r)},toJD:function(t,e,r){var n=this._validate(t,e,r,i.local.invalidDate);t=n.year(),e=n.month(),r=n.day();var a=t-(t>=0?474:473),s=474+o(a,2820);return r+(e<=7?31*(e-1):30*(e-1)+6)+Math.floor((682*s-110)/2816)+365*(s-1)+1029983*Math.floor(a/2820)+this.jdEpoch-1},fromJD:function(t){t=Math.floor(t)+.5;var e=t-this.toJD(475,1,1),r=Math.floor(e/1029983),n=o(e,1029983),i=2820;if(1029982!==n){var a=Math.floor(n/366),s=o(n,366);i=Math.floor((2134*a+2816*s+2815)/1028522)+a+1}var l=i+2820*r+474;l=l<=0?l-1:l;var u=t-this.toJD(l,1,1)+1,c=u<=186?Math.ceil(u/31):Math.ceil((u-6)/30),p=t-this.toJD(l,c,1)+1;return this.newDate(l,c,p)}}),i.calendars.persian=n,i.calendars.jalali=n},{"../main":559,"object-assign":450}],556:[function(t,e,r){function n(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}var o=t("../main"),i=t("object-assign"),a=o.instance();n.prototype=new o.baseCalendar,i(n.prototype,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,o.local.invalidYear),t=this._t2gYear(e.year());return a.leapYear(t)},weekOfYear:function(t,e,r){var n=this._validate(t,this.minMonth,this.minDay,o.local.invalidYear),t=this._t2gYear(n.year());return a.weekOfYear(t,n.month(),n.day())},daysInMonth:function(t,e){var r=this._validate(t,e,this.minDay,o.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(2===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,r){return(this.dayOfWeek(t,e,r)||7)<6},toJD:function(t,e,r){var n=this._validate(t,e,r,o.local.invalidDate),t=this._t2gYear(n.year());return a.toJD(t,n.month(),n.day())},fromJD:function(t){var e=a.fromJD(t),r=this._g2tYear(e.year());return this.newDate(r,e.month(),e.day())},_t2gYear:function(t){return t+this.yearsOffset+(t>=-this.yearsOffset&&t<=-1?1:0)},_g2tYear:function(t){return t-this.yearsOffset-(t>=1&&t<=this.yearsOffset?1:0)}}),o.calendars.taiwan=n},{"../main":559,"object-assign":450}],557:[function(t,e,r){function n(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}var o=t("../main"),i=t("object-assign"),a=o.instance();n.prototype=new o.baseCalendar,i(n.prototype,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,o.local.invalidYear),t=this._t2gYear(e.year());return a.leapYear(t)},weekOfYear:function(t,e,r){var n=this._validate(t,this.minMonth,this.minDay,o.local.invalidYear),t=this._t2gYear(n.year());return a.weekOfYear(t,n.month(),n.day())},daysInMonth:function(t,e){var r=this._validate(t,e,this.minDay,o.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(2===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,r){return(this.dayOfWeek(t,e,r)||7)<6},toJD:function(t,e,r){var n=this._validate(t,e,r,o.local.invalidDate),t=this._t2gYear(n.year());return a.toJD(t,n.month(),n.day())},fromJD:function(t){var e=a.fromJD(t),r=this._g2tYear(e.year());return this.newDate(r,e.month(),e.day())},_t2gYear:function(t){return t-this.yearsOffset-(t>=1&&t<=this.yearsOffset?1:0)},_g2tYear:function(t){return t+this.yearsOffset+(t>=-this.yearsOffset&&t<=-1?1:0)}}),o.calendars.thai=n},{"../main":559,"object-assign":450}],558:[function(t,e,r){function n(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}var o=t("../main"),i=t("object-assign");n.prototype=new o.baseCalendar,i(n.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,o.local.invalidYear);return 355===this.daysInYear(e.year())},weekOfYear:function(t,e,r){var n=this.newDate(t,e,r);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(t){for(var e=0,r=1;r<=12;r++)e+=this.daysInMonth(t,r);return e},daysInMonth:function(t,e){for(var r=this._validate(t,e,this.minDay,o.local.invalidMonth),n=r.toJD()-24e5+.5,i=0,s=0;s<a.length;s++){if(a[s]>n)return a[i]-a[i-1];i++}return 30},weekDay:function(t,e,r){return 5!==this.dayOfWeek(t,e,r)},toJD:function(t,e,r){var n=this._validate(t,e,r,o.local.invalidDate),i=12*(n.year()-1)+n.month()-15292,s=n.day()+a[i-1]-1;return s+24e5-.5},fromJD:function(t){for(var e=t-24e5+.5,r=0,n=0;n<a.length&&!(a[n]>e);n++)r++;var o=r+15292,i=Math.floor((o-1)/12),s=i+1,l=o-12*i,u=e-a[r-1]+1;return this.newDate(s,l,u)},isValid:function(t,e,r){var n=o.baseCalendar.prototype.isValid.apply(this,arguments);return n&&(t=null!=t.year?t.year:t,n=t>=1276&&t<=1500),n},_validate:function(t,e,r,n){var i=o.baseCalendar.prototype._validate.apply(this,arguments);if(i.year<1276||i.year>1500)throw n.replace(/\{0\}/,this.local.name);return i}}),o.calendars.ummalqura=n;var a=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990];
},{"../main":559,"object-assign":450}],559:[function(t,e,r){function n(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function o(t,e,r,n){if(this._calendar=t,this._year=e,this._month=r,this._day=n,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(u.local.invalidDate||u.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function i(t,e){return t=""+t,"000000".substring(0,e-t.length)+t}function a(){this.shortYearCutoff="+10"}function s(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}var l=t("object-assign");l(n.prototype,{instance:function(t,e){t=(t||"gregorian").toLowerCase(),e=e||"";var r=this._localCals[t+"-"+e];if(!r&&this.calendars[t]&&(r=new this.calendars[t](e),this._localCals[t+"-"+e]=r),!r)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return r},newDate:function(t,e,r,n,o){return n=(null!=t&&t.year?t.calendar():"string"==typeof n?this.instance(n,o):n)||this.instance(),n.newDate(t,e,r)},substituteDigits:function(t){return function(e){return(e+"").replace(/[0-9]/g,function(e){return t[e]})}},substituteChineseDigits:function(t,e){return function(r){for(var n="",o=0;r>0;){var i=r%10;n=(0===i?"":t[i]+e[o])+n,o++,r=Math.floor(r/10)}return 0===n.indexOf(t[1]+e[1])&&(n=n.substr(1)),n||t[0]}}}),l(o.prototype,{newDate:function(t,e,r){return this._calendar.newDate(null==t?this:t,e,r)},year:function(t){return 0===arguments.length?this._year:this.set(t,"y")},month:function(t){return 0===arguments.length?this._month:this.set(t,"m")},day:function(t){return 0===arguments.length?this._day:this.set(t,"d")},date:function(t,e,r){if(!this._calendar.isValid(t,e,r))throw(u.local.invalidDate||u.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=e,this._day=r,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,e){return this._calendar.add(this,t,e)},set:function(t,e){return this._calendar.set(this,t,e)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(u.local.differentCalendars||u.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var e=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return 0===e?0:e<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+i(Math.abs(this.year()),4)+"-"+i(this.month(),2)+"-"+i(this.day(),2)}}),l(a.prototype,{_validateLevel:0,newDate:function(t,e,r){return null==t?this.today():(t.year&&(this._validate(t,e,r,u.local.invalidDate||u.regionalOptions[""].invalidDate),r=t.day(),e=t.month(),t=t.year()),new o(this,t,e,r))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){var e=this._validate(t,this.minMonth,this.minDay,u.local.invalidYear||u.regionalOptions[""].invalidYear);return e.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,u.local.invalidYear||u.regionalOptions[""].invalidYear);return(e.year()<0?"-":"")+i(Math.abs(e.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,u.local.invalidYear||u.regionalOptions[""].invalidYear),12},monthOfYear:function(t,e){var r=this._validate(t,e,this.minDay,u.local.invalidMonth||u.regionalOptions[""].invalidMonth);return(r.month()+this.monthsInYear(r)-this.firstMonth)%this.monthsInYear(r)+this.minMonth},fromMonthOfYear:function(t,e){var r=(e+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,r,this.minDay,u.local.invalidMonth||u.regionalOptions[""].invalidMonth),r},daysInYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,u.local.invalidYear||u.regionalOptions[""].invalidYear);return this.leapYear(e)?366:365},dayOfYear:function(t,e,r){var n=this._validate(t,e,r,u.local.invalidDate||u.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,e,r){var n=this._validate(t,e,r,u.local.invalidDate||u.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(t,e,r){return this._validate(t,e,r,u.local.invalidDate||u.regionalOptions[""].invalidDate),{}},add:function(t,e,r){return this._validate(t,this.minMonth,this.minDay,u.local.invalidDate||u.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,e,r),e,r)},_add:function(t,e,r){if(this._validateLevel++,"d"===r||"w"===r){var n=t.toJD()+e*("w"===r?this.daysInWeek():1),o=t.calendar().fromJD(n);return this._validateLevel--,[o.year(),o.month(),o.day()]}try{var i=t.year()+("y"===r?e:0),a=t.monthOfYear()+("m"===r?e:0),o=t.day(),s=function(t){for(;a<t.minMonth;)i--,a+=t.monthsInYear(i);for(var e=t.monthsInYear(i);a>e-1+t.minMonth;)i++,a-=e,e=t.monthsInYear(i)};"y"===r?(t.month()!==this.fromMonthOfYear(i,a)&&(a=this.newDate(i,t.month(),this.minDay).monthOfYear()),a=Math.min(a,this.monthsInYear(i)),o=Math.min(o,this.daysInMonth(i,this.fromMonthOfYear(i,a)))):"m"===r&&(s(this),o=Math.min(o,this.daysInMonth(i,this.fromMonthOfYear(i,a))));var l=[i,this.fromMonthOfYear(i,a),o];return this._validateLevel--,l}catch(t){throw this._validateLevel--,t}},_correctAdd:function(t,e,r,n){if(!(this.hasYearZero||"y"!==n&&"m"!==n||0!==e[0]&&t.year()>0==e[0]>0)){var o={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],i=r<0?-1:1;e=this._add(t,r*o[0]+i*o[1],o[2])}return t.date(e[0],e[1],e[2])},set:function(t,e,r){this._validate(t,this.minMonth,this.minDay,u.local.invalidDate||u.regionalOptions[""].invalidDate);var n="y"===r?e:t.year(),o="m"===r?e:t.month(),i="d"===r?e:t.day();return"y"!==r&&"m"!==r||(i=Math.min(i,this.daysInMonth(n,o))),t.date(n,o,i)},isValid:function(t,e,r){this._validateLevel++;var n=this.hasYearZero||0!==t;if(n){var o=this.newDate(t,e,this.minDay);n=e>=this.minMonth&&e-this.minMonth<this.monthsInYear(o)&&r>=this.minDay&&r-this.minDay<this.daysInMonth(o)}return this._validateLevel--,n},toJSDate:function(t,e,r){var n=this._validate(t,e,r,u.local.invalidDate||u.regionalOptions[""].invalidDate);return u.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(t){return this.fromJD(u.instance().fromJSDate(t).toJD())},_validate:function(t,e,r,n){if(t.year){if(0===this._validateLevel&&this.name!==t.calendar().name)throw(u.local.differentCalendars||u.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(t,e,r))throw n.replace(/\{0\}/,this.local.name);var o=this.newDate(t,e,r);return this._validateLevel--,o}catch(t){throw this._validateLevel--,t}}}),s.prototype=new a,l(s.prototype,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,u.local.invalidYear||u.regionalOptions[""].invalidYear),t=e.year()+(e.year()<0?1:0);return t%4===0&&(t%100!==0||t%400===0)},weekOfYear:function(t,e,r){var n=this.newDate(t,e,r);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,e){var r=this._validate(t,e,this.minDay,u.local.invalidMonth||u.regionalOptions[""].invalidMonth);return this.daysPerMonth[r.month()-1]+(2===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,r){return(this.dayOfWeek(t,e,r)||7)<6},toJD:function(t,e,r){var n=this._validate(t,e,r,u.local.invalidDate||u.regionalOptions[""].invalidDate);t=n.year(),e=n.month(),r=n.day(),t<0&&t++,e<3&&(e+=12,t--);var o=Math.floor(t/100),i=2-o+Math.floor(o/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(e+1))+r+i-1524.5},fromJD:function(t){var e=Math.floor(t+.5),r=Math.floor((e-1867216.25)/36524.25);r=e+1+r-Math.floor(r/4);var n=r+1524,o=Math.floor((n-122.1)/365.25),i=Math.floor(365.25*o),a=Math.floor((n-i)/30.6001),s=n-i-Math.floor(30.6001*a),l=a-(a>13.5?13:1),u=o-(l>2.5?4716:4715);return u<=0&&u--,this.newDate(u,l,s)},toJSDate:function(t,e,r){var n=this._validate(t,e,r,u.local.invalidDate||u.regionalOptions[""].invalidDate),o=new Date(n.year(),n.month()-1,n.day());return o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0),o.setHours(o.getHours()>12?o.getHours()+2:0),o},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var u=e.exports=new n;u.cdate=o,u.baseCalendar=a,u.calendars.gregorian=s},{"object-assign":450}],560:[function(t,e,r){var n=t("object-assign"),o=t("./main");n(o.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),o.local=o.regionalOptions[""],n(o.cdate.prototype,{formatDate:function(t,e){return"string"!=typeof t&&(e=t,t=""),this._calendar.formatDate(t||"",this,e)}}),n(o.baseCalendar.prototype,{UNIX_EPOCH:o.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:o.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(t,e,r){if("string"!=typeof t&&(r=e,e=t,t=""),!e)return"";if(e.calendar()!==this)throw o.local.invalidFormat||o.regionalOptions[""].invalidFormat;t=t||this.local.dateFormat,r=r||{};for(var n=r.dayNamesShort||this.local.dayNamesShort,i=r.dayNames||this.local.dayNames,a=r.monthNumbers||this.local.monthNumbers,s=r.monthNamesShort||this.local.monthNamesShort,l=r.monthNames||this.local.monthNames,u=(r.calculateWeek||this.local.calculateWeek,function(e,r){for(var n=1;b+n<t.length&&t.charAt(b+n)===e;)n++;return b+=n-1,Math.floor(n/(r||1))>1}),c=function(t,e,r,n){var o=""+e;if(u(t,n))for(;o.length<r;)o="0"+o;return o},p=function(t,e,r,n){return u(t)?n[e]:r[e]},f=this,h=function(t){return"function"==typeof a?a.call(f,t,u("m")):m(c("m",t.month(),2))},d=function(t,e){return e?"function"==typeof l?l.call(f,t):l[t.month()-f.minMonth]:"function"==typeof s?s.call(f,t):s[t.month()-f.minMonth]},y=this.local.digits,m=function(t){return r.localNumbers&&y?y(t):t},v="",g=!1,b=0;b<t.length;b++)if(g)"'"!==t.charAt(b)||u("'")?v+=t.charAt(b):g=!1;else switch(t.charAt(b)){case"d":v+=m(c("d",e.day(),2));break;case"D":v+=p("D",e.dayOfWeek(),n,i);break;case"o":v+=c("o",e.dayOfYear(),3);break;case"w":v+=c("w",e.weekOfYear(),2);break;case"m":v+=h(e);break;case"M":v+=d(e,u("M"));break;case"y":v+=u("y",2)?e.year():(e.year()%100<10?"0":"")+e.year()%100;break;case"Y":u("Y",2),v+=e.formatYear();break;case"J":v+=e.toJD();break;case"@":v+=(e.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":v+=(e.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":u("'")?v+="'":g=!0;break;default:v+=t.charAt(b)}return v},parseDate:function(t,e,r){if(null==e)throw o.local.invalidArguments||o.regionalOptions[""].invalidArguments;if(e="object"==typeof e?e.toString():e+"",""===e)return null;t=t||this.local.dateFormat,r=r||{};var n=r.shortYearCutoff||this.shortYearCutoff;n="string"!=typeof n?n:this.today().year()%100+parseInt(n,10);for(var i=r.dayNamesShort||this.local.dayNamesShort,a=r.dayNames||this.local.dayNames,s=r.parseMonth||this.local.parseMonth,l=r.monthNumbers||this.local.monthNumbers,u=r.monthNamesShort||this.local.monthNamesShort,c=r.monthNames||this.local.monthNames,p=-1,f=-1,h=-1,d=-1,y=-1,m=!1,v=!1,g=function(e,r){for(var n=1;E+n<t.length&&t.charAt(E+n)===e;)n++;return E+=n-1,Math.floor(n/(r||1))>1},b=function(t,r){var n=g(t,r),i=[2,3,n?4:2,n?4:2,10,11,20]["oyYJ@!".indexOf(t)+1],a=new RegExp("^-?\\d{1,"+i+"}"),s=e.substring(S).match(a);if(!s)throw(o.local.missingNumberAt||o.regionalOptions[""].missingNumberAt).replace(/\{0\}/,S);return S+=s[0].length,parseInt(s[0],10)},x=this,_=function(){if("function"==typeof l){g("m");var t=l.call(x,e.substring(S));return S+=t.length,t}return b("m")},w=function(t,r,n,i){for(var a=g(t,i)?n:r,s=0;s<a.length;s++)if(e.substr(S,a[s].length).toLowerCase()===a[s].toLowerCase())return S+=a[s].length,s+x.minMonth;throw(o.local.unknownNameAt||o.regionalOptions[""].unknownNameAt).replace(/\{0\}/,S)},T=function(){if("function"==typeof c){var t=g("M")?c.call(x,e.substring(S)):u.call(x,e.substring(S));return S+=t.length,t}return w("M",u,c)},M=function(){if(e.charAt(S)!==t.charAt(E))throw(o.local.unexpectedLiteralAt||o.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,S);S++},S=0,E=0;E<t.length;E++)if(v)"'"!==t.charAt(E)||g("'")?M():v=!1;else switch(t.charAt(E)){case"d":d=b("d");break;case"D":w("D",i,a);break;case"o":y=b("o");break;case"w":b("w");break;case"m":h=_();break;case"M":h=T();break;case"y":var k=E;m=!g("y",2),E=k,f=b("y",2);break;case"Y":f=b("Y",2);break;case"J":p=b("J")+.5,"."===e.charAt(S)&&(S++,b("J"));break;case"@":p=b("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":p=b("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":S=e.length;break;case"'":g("'")?M():v=!0;break;default:M()}if(S<e.length)throw o.local.unexpectedText||o.regionalOptions[""].unexpectedText;if(f===-1?f=this.today().year():f<100&&m&&(f+=n===-1?1900:this.today().year()-this.today().year()%100-(f<=n?0:100)),"string"==typeof h&&(h=s.call(this,f,h)),y>-1){h=1,d=y;for(var C=this.daysInMonth(f,h);d>C;C=this.daysInMonth(f,h))h++,d-=C}return p>-1?this.fromJD(p):this.newDate(f,h,d)},determineDate:function(t,e,r,n,o){r&&"object"!=typeof r&&(o=n,n=r,r=null),"string"!=typeof n&&(o=n,n="");var i=this,a=function(t){try{return i.parseDate(n,t,o)}catch(t){}t=t.toLowerCase();for(var e=(t.match(/^c/)&&r?r.newDate():null)||i.today(),a=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,s=a.exec(t);s;)e.add(parseInt(s[1],10),s[2]||"d"),s=a.exec(t);return e};return e=e?e.newDate():null,t=null==t?e:"string"==typeof t?a(t):"number"==typeof t?isNaN(t)||t===1/0||t===-(1/0)?e:i.today().add(t,"d"):i.newDate(t)}})},{"./main":559,"object-assign":450}],561:[function(t,e,r){e.exports=t("cwise-compiler")({args:["array",{offset:[1],array:0},"scalar","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\n        var _inline_1_da = _inline_1_arg0_ - _inline_1_arg3_\n        var _inline_1_db = _inline_1_arg1_ - _inline_1_arg3_\n        if((_inline_1_da >= 0) !== (_inline_1_db >= 0)) {\n          _inline_1_arg2_.push(_inline_1_arg4_[0] + 0.5 + 0.5 * (_inline_1_da + _inline_1_db) / (_inline_1_da - _inline_1_db))\n        }\n      }",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg3_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:["_inline_1_da","_inline_1_db"]},funcName:"zeroCrossings"})},{"cwise-compiler":100}],562:[function(t,e,r){"use strict";function n(t,e){var r=[];return e=+e||0,o(t.hi(t.shape[0]-1),r,e),r}e.exports=n;var o=t("./lib/zc-core")},{"./lib/zc-core":561}],563:[function(t,e,r){"use strict";var n=t("../../lib"),o=t("../color"),i=t("../../plots/cartesian/axes"),a=t("./attributes");e.exports=function(t,e,r,s,l){function u(r,o){return n.coerce(t,e,a,r,o)}s=s||{},l=l||{};var c=u("visible",!l.itemIsNotPlainObject),p=u("clicktoshow");if(!c&&!p)return e;u("opacity"),u("align"),u("bgcolor");var f=u("bordercolor"),h=o.opacity(f);u("borderpad");var d=u("borderwidth"),y=u("showarrow");u("text",y?" ":"new text"),u("textangle"),n.coerceFont(u,"font",r.font);for(var m=["x","y"],v=[-10,-30],g={_fullLayout:r},b=0;b<2;b++){var x=m[b],_=i.coerceRef(t,e,g,x,"","paper");if(i.coercePosition(e,g,u,_,x,.5),y){var w="a"+x,T=i.coerceRef(t,e,g,w,"pixel");"pixel"!==T&&T!==_&&(T=e[w]="pixel");var M="pixel"===T?v[b]:.4;i.coercePosition(e,g,u,T,w,M)}u(x+"anchor")}if(n.noneOrAll(t,e,["x","y"]),y&&(u("arrowcolor",h?e.bordercolor:o.defaultLine),u("arrowhead"),u("arrowsize"),u("arrowwidth",2*(h&&d||1)),u("standoff"),n.noneOrAll(t,e,["ax","ay"])),p){var S=u("xclick"),E=u("yclick");e._xclick=void 0===S?e.x:S,e._yclick=void 0===E?e.y:E}return e}},{"../../lib":681,"../../plots/cartesian/axes":720,"../color":576,"./attributes":565}],564:[function(t,e,r){"use strict";e.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0},{path:"M2,2V-2H-2V2Z",backoff:0}]},{}],565:[function(t,e,r){"use strict";var n=t("./arrow_paths"),o=t("../../plots/font_attributes"),i=t("../../plots/cartesian/constants"),a=t("../../lib/extend").extendFlat;e.exports={_isLinkedToArray:"annotation",visible:{valType:"boolean",dflt:!0},text:{valType:"string"},textangle:{valType:"angle",dflt:0},font:a({},o,{}),opacity:{valType:"number",min:0,max:1,dflt:1},align:{valType:"enumerated",values:["left","center","right"],dflt:"center"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)"},borderpad:{valType:"number",min:0,dflt:1},borderwidth:{valType:"number",min:0,dflt:1},showarrow:{valType:"boolean",dflt:!0},arrowcolor:{valType:"color"},arrowhead:{valType:"integer",min:0,max:n.length,dflt:1},arrowsize:{valType:"number",min:.3,dflt:1},arrowwidth:{valType:"number",min:.1},standoff:{valType:"number",min:0,dflt:0},ax:{valType:"any"},ay:{valType:"any"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.x.toString()]},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.y.toString()]},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()]},x:{valType:"any"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()]},y:{valType:"any"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1},xclick:{valType:"any"},yclick:{valType:"any"},_deprecated:{ref:{valType:"string"}}}},{"../../lib/extend":673,"../../plots/cartesian/constants":725,"../../plots/font_attributes":740,"./arrow_paths":564}],566:[function(t,e,r){"use strict";function n(t){var e=t._fullLayout;o.filterVisible(e.annotations).forEach(function(e){var r=i.getFromId(t,e.xref),n=i.getFromId(t,e.yref),o=3*e.arrowsize*e.arrowwidth||0;r&&r.autorange&&(e.axref===e.xref?(i.expand(r,[r.r2c(e.x)],{ppadplus:o,ppadminus:o}),i.expand(r,[r.r2c(e.ax)],{ppadplus:e._xpadplus,ppadminus:e._xpadminus})):i.expand(r,[r.r2c(e.x)],{ppadplus:Math.max(e._xpadplus,o),ppadminus:Math.max(e._xpadminus,o)})),n&&n.autorange&&(e.ayref===e.yref?(i.expand(n,[n.r2c(e.y)],{ppadplus:o,ppadminus:o}),i.expand(n,[n.r2c(e.ay)],{ppadplus:e._ypadplus,ppadminus:e._ypadminus})):i.expand(n,[n.r2c(e.y)],{ppadplus:Math.max(e._ypadplus,o),ppadminus:Math.max(e._ypadminus,o)}))})}var o=t("../../lib"),i=t("../../plots/cartesian/axes"),a=t("./draw").draw;e.exports=function(t){var e=t._fullLayout,r=o.filterVisible(e.annotations);if(r.length&&t._fullData.length){var s={};r.forEach(function(t){s[t.xref]=!0,s[t.yref]=!0});var l=i.list(t).filter(function(t){return t.autorange&&s[t._id]});if(l.length)return o.syncOrAsync([a,n],t)}}},{"../../lib":681,"../../plots/cartesian/axes":720,"./draw":570}],567:[function(t,e,r){"use strict";function n(t,e){var r=i(t,e);return r.on.length>0||r.explicitOff.length>0}function o(t,e){var r,n=i(t,e),o=n.on,s=n.off.concat(n.explicitOff),l={};if(o.length||s.length){for(r=0;r<o.length;r++)l["annotations["+o[r]+"].visible"]=!0;for(r=0;r<s.length;r++)l["annotations["+s[r]+"].visible"]=!1;return a.update(t,{},l)}}function i(t,e){var r,n,o,i,a,s,l=t._fullLayout.annotations,u=[],c=[],p=[],f=(e||[]).length;for(r=0;r<l.length;r++)if(o=l[r],i=o.clicktoshow){for(n=0;n<f;n++)if(a=e[n],a.xaxis._id===o.xref&&a.yaxis._id===o.yref&&a.xaxis.d2r(a.x)===o._xclick&&a.yaxis.d2r(a.y)===o._yclick){s=o.visible?"onout"===i?c:p:u,s.push(r);break}n===f&&o.visible&&"onout"===i&&c.push(r)}return{on:u,off:c,explicitOff:p}}var a=t("../../plotly");e.exports={hasClickToShow:n,onClick:o}},{"../../plotly":715}],568:[function(t,e,r){"use strict";var n=t("fast-isnumeric"),o=t("../../lib/to_log_range");e.exports=function(t,e,r,i){function a(t){var r=u[t],a=null;a=s?o(r,e.range):Math.pow(10,r),n(a)||(a=null),i(c+t,a)}e=e||{};var s="log"===r&&"linear"===e.type,l="linear"===r&&"log"===e.type;if(s||l)for(var u,c,p=t._fullLayout.annotations,f=e._id.charAt(0),h=0;h<p.length;h++)u=p[h],c="annotations["+h+"].",u[f+"ref"]===e._id&&a(f),u["a"+f+"ref"]===e._id&&a("a"+f)}},{"../../lib/to_log_range":701,"fast-isnumeric":113}],569:[function(t,e,r){"use strict";var n=t("../../plots/array_container_defaults"),o=t("./annotation_defaults");e.exports=function(t,e){var r={name:"annotations",handleItemDefaults:o};n(t,e,r)}},{"../../plots/array_container_defaults":717,"./annotation_defaults":563}],570:[function(t,e,r){"use strict";function n(t){var e=t._fullLayout;e._infolayer.selectAll(".annotation").remove();for(var r=0;r<e.annotations.length;r++)e.annotations[r].visible&&o(t,r);return l.previousPromises(t)}function o(t,e){function r(t){return t.call(f.font,L).attr({"text-anchor":{left:"start",right:"end"}[b.align]||"middle"}),h.convertToTspans(t,n),t}function n(){function r(t,e){return"auto"===e&&(e=t<1/3?"left":t>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[e]}D.selectAll("tspan.line").attr({y:0,x:0});var n=E.select(".annotation-math-group"),o=!n.empty(),h=f.bBox((o?n:D).node()),g=h.width,C=h.height,L=Math.round(g+2*A),O=Math.round(C+2*A);b._w=g,b._h=C;var I=!1;if(["x","y"].forEach(function(e){var n,o,i,a,s,p=b[e+"ref"]||e,f=b["a"+e+"ref"],h=c.getFromId(t,p),d=(T+("x"===e?0:-90))*Math.PI/180,y=L*Math.cos(d),m=O*Math.sin(d),g=Math.abs(y)+Math.abs(m),x=b[e+"anchor"],_=w[e];if(h){var M=h.r2fraction(b[e]);if((t._dragging||!h.autorange)&&(M<0||M>1)&&(f===p?(M=h.r2fraction(b["a"+e]),(M<0||M>1)&&(I=!0)):I=!0,I))return;n=h._offset+h.r2p(b[e]),a=.5}else"x"===e?(i=b[e],n=v.l+v.w*i):(i=1-b[e],n=v.t+v.h*i),a=b.showarrow?.5:i;if(b.showarrow){_.head=n;var S=b["a"+e];s=y*r(.5,b.xanchor)-m*r(.5,b.yanchor),f===p?(_.tail=h._offset+h.r2p(S),o=s):(_.tail=n+S,o=s+S),_.text=_.tail+s;var E=l["x"===e?"width":"height"];if("paper"===p&&(_.head=u.constrain(_.head,1,E-1)),"pixel"===f){var k=-Math.max(_.tail-3,_.text),C=Math.min(_.tail+3,_.text)-E;k>0?(_.tail+=k,_.text+=k):C>0&&(_.tail-=C,_.text-=C)}}else s=g*r(a,x),o=s,_.text=n+s;b["_"+e+"padplus"]=g/2+o,b["_"+e+"padminus"]=g/2-o,b["_"+e+"size"]=g,b["_"+e+"shift"]=s}),I)return void E.remove();if(o)n.select("svg").attr({x:A-1,y:A});else{var R=A-h.top,N=A-h.left;D.attr({x:N,y:R}),D.selectAll("tspan.line").attr({y:R,x:N})}P.call(f.setRect,k/2,k/2,L-k,O-k),E.call(f.setTranslate,Math.round(w.x.text-L/2),Math.round(w.y.text-O/2)),S.attr({transform:"rotate("+T+","+w.x.text+","+w.y.text+")"});var j="annotations["+e+"]",F=function(r,n){a.select(t).selectAll('.annotation-arrow-g[data-index="'+e+'"]').remove();var o=w.x.head,l=w.y.head,c=w.x.tail+r,h=w.y.tail+n,d=w.x.text+r,g=w.y.text+n,k=u.rotationXYMatrix(T,d,g),C=u.apply2DTransform(k),A=u.apply2DTransform2(k),L=+P.attr("width"),D=+P.attr("height"),O=d-.5*L,I=O+L,R=g-.5*D,N=R+D,F=[[O,R,O,N],[O,N,I,N],[I,N,I,R],[I,R,O,R]].map(A);if(!F.reduce(function(t,e){return t^!!i(o,l,o+1e6,l+1e6,e[0],e[1],e[2],e[3])},!1)){F.forEach(function(t){var e=i(c,h,o,l,t[0],t[1],t[2],t[3]);e&&(c=e.x,h=e.y)});var z=b.arrowwidth,B=b.arrowcolor,U=M.append("g").style({opacity:p.opacity(B)}).classed("annotation-arrow-g",!0).attr("data-index",String(e)),V=U.append("path").attr("d","M"+c+","+h+"L"+o+","+l).style("stroke-width",z+"px").call(p.stroke,p.rgb(B));if(m(V,b.arrowhead,"end",b.arrowsize,b.standoff),t._context.editable&&V.node().parentNode){var H=o,W=l;if(b.standoff){var q=Math.sqrt(Math.pow(o-c,2)+Math.pow(l-h,2));H+=b.standoff*(c-o)/q,W+=b.standoff*(h-l)/q}var G,Y,X,K=U.append("path").classed("annotation",!0).classed("anndrag",!0).attr({"data-index":String(e),d:"M3,3H-3V-3H3ZM0,0L"+(c-H)+","+(h-W),transform:"translate("+H+","+W+")"}).style("stroke-width",z+6+"px").call(p.stroke,"rgba(0,0,0,0)").call(p.fill,"rgba(0,0,0,0)");y.init({element:K.node(),prepFn:function(){var t=f.getTranslate(E);Y=t.x,X=t.y,G={},x&&x.autorange&&(G[x._name+".autorange"]=!0),_&&_.autorange&&(G[_._name+".autorange"]=!0)},moveFn:function(t,e){var r=C(Y,X),n=r[0]+t,i=r[1]+e;E.call(f.setTranslate,n,i),G[j+".x"]=x?x.p2r(x.r2p(b.x)+t):(o+t-v.l)/v.w,G[j+".y"]=_?_.p2r(_.r2p(b.y)+e):1-(l+e-v.t)/v.h,b.axref===b.xref&&(G[j+".ax"]=x?x.p2r(x.r2p(b.ax)+t):(o+t-v.l)/v.w),b.ayref===b.yref&&(G[j+".ay"]=_?_.p2r(_.r2p(b.ay)+e):1-(l+e-v.t)/v.h),U.attr("transform","translate("+t+","+e+")"),S.attr({transform:"rotate("+T+","+n+","+i+")"})},doneFn:function(e){if(e){s.relayout(t,G);var r=document.querySelector(".js-notes-box-panel");r&&r.redraw(r.selectedObj)}}})}}};if(b.showarrow&&F(0,0),t._context.editable){var z,B;y.init({element:E.node(),prepFn:function(){B=S.attr("transform"),z={}},moveFn:function(t,e){var r="pointer";if(b.showarrow)b.axref===b.xref?z[j+".ax"]=x.p2r(x.r2p(b.ax)+t):z[j+".ax"]=b.ax+t,b.ayref===b.yref?z[j+".ay"]=_.p2r(_.r2p(b.ay)+e):z[j+".ay"]=b.ay+e,F(t,e);else{if(x)z[j+".x"]=b.x+t/x._m;else{var n=b._xsize/v.w,o=b.x+b._xshift/v.w-n/2;z[j+".x"]=y.align(o+t/v.w,n,0,1,b.xanchor)}if(_)z[j+".y"]=b.y+e/_._m;else{var i=b._ysize/v.h,a=b.y-b._yshift/v.h-i/2;z[j+".y"]=y.align(a-e/v.h,i,0,1,b.yanchor)}x&&_||(r=y.getCursor(x?.5:z[j+".x"],_?.5:z[j+".y"],b.xanchor,b.yanchor))}S.attr({transform:"translate("+t+","+e+")"+B}),d(E,r)},doneFn:function(e){if(d(E),e){s.relayout(t,z);var r=document.querySelector(".js-notes-box-panel");r&&r.redraw(r.selectedObj)}}})}}var o=t.layout,l=t._fullLayout,v=t._fullLayout._size;l._infolayer.selectAll('.annotation[data-index="'+e+'"]').remove();var g=(o.annotations||[])[e],b=l.annotations[e];if(g&&b.visible!==!1){var x=c.getFromId(t,b.xref),_=c.getFromId(t,b.yref),w={x:{},y:{}},T=+b.textangle||0,M=l._infolayer.append("g").classed("annotation",!0).attr("data-index",String(e)).style("opacity",b.opacity).on("click",function(){t._dragging=!1,t.emit("plotly_clickannotation",{index:e,annotation:g,fullAnnotation:b})}),S=M.append("g").classed("annotation-text-g",!0).attr("data-index",String(e)),E=S.append("g"),k=b.borderwidth,C=b.borderpad,A=k+C,P=E.append("rect").attr("class","bg").style("stroke-width",k+"px").call(p.stroke,b.bordercolor).call(p.fill,b.bgcolor),L=b.font,D=E.append("text").classed("annotation",!0).attr("data-unformatted",b.text).text(b.text);t._context.editable?D.call(h.makeEditable,E).call(r).on("edit",function(n){b.text=n,this.attr({"data-unformatted":b.text}),this.call(r);var o={};o["annotations["+e+"].text"]=b.text,x&&x.autorange&&(o[x._name+".autorange"]=!0),_&&_.autorange&&(o[_._name+".autorange"]=!0),s.relayout(t,o)}):D.call(r)}}function i(t,e,r,n,o,i,a,s){var l=r-t,u=o-t,c=a-o,p=n-e,f=i-e,h=s-i,d=l*h-c*p;if(0===d)return null;var y=(u*h-c*f)/d,m=(u*p-l*f)/d;return m<0||m>1||y<0||y>1?null:{x:t+l*y,y:e+p*y}}var a=t("d3"),s=t("../../plotly"),l=t("../../plots/plots"),u=t("../../lib"),c=t("../../plots/cartesian/axes"),p=t("../color"),f=t("../drawing"),h=t("../../lib/svg_text_utils"),d=t("../../lib/setcursor"),y=t("../dragelement"),m=t("./draw_arrow_head");e.exports={draw:n,drawOne:o}},{"../../lib":681,"../../lib/setcursor":696,"../../lib/svg_text_utils":700,"../../plotly":715,"../../plots/cartesian/axes":720,"../../plots/plots":779,"../color":576,"../dragelement":597,"../drawing":599,"./draw_arrow_head":571,d3:104}],571:[function(t,e,r){"use strict";var n=t("d3"),o=t("fast-isnumeric"),i=t("../color"),a=t("../drawing"),s=t("./arrow_paths");e.exports=function(t,e,r,l,u){function c(){t.style("stroke-dasharray","0px,100px")}function p(r,o){h.path&&(e>5&&(o=0),n.select(f.parentElement).append("path").attr({class:t.attr("class"),d:h.path,transform:"translate("+r.x+","+r.y+")rotate("+180*o/Math.PI+")scale("+g+")"}).style({fill:b,opacity:x,"stroke-width":0}))}o(l)||(l=1);var f=t.node(),h=s[e||0];"string"==typeof r&&r||(r="end");var d,y,m,v,g=(a.getPx(t,"stroke-width")||1)*l,b=t.style("stroke")||i.defaultLine,x=t.style("stroke-opacity")||1,_=r.indexOf("start")>=0,w=r.indexOf("end")>=0,T=h.backoff*g+u;if("line"===f.nodeName){d={x:+t.attr("x1"),y:+t.attr("y1")},y={x:+t.attr("x2"),y:+t.attr("y2")};var M=d.x-y.x,S=d.y-y.y;if(m=Math.atan2(S,M),v=m+Math.PI,T){if(T*T>M*M+S*S)return void c();var E=T*Math.cos(m),k=T*Math.sin(m);_&&(d.x-=E,d.y-=k,t.attr({x1:d.x,y1:d.y})),w&&(y.x+=E,y.y+=k,t.attr({x2:y.x,y2:y.y}))}}else if("path"===f.nodeName){var C=f.getTotalLength(),A="";if(C<T)return void c();if(_){var P=f.getPointAtLength(0),L=f.getPointAtLength(.1);m=Math.atan2(P.y-L.y,P.x-L.x),d=f.getPointAtLength(Math.min(T,C)),T&&(A="0px,"+T+"px,")}if(w){var D=f.getPointAtLength(C),O=f.getPointAtLength(C-.1);if(v=Math.atan2(D.y-O.y,D.x-O.x),y=f.getPointAtLength(Math.max(0,C-T)),T){var I=A?2*T:T;A+=C-I+"px,"+C+"px"}}else A&&(A+=C+"px");A&&t.style("stroke-dasharray",A)}_&&p(d,m),w&&p(y,v)}},{"../color":576,"../drawing":599,"./arrow_paths":564,d3:104,"fast-isnumeric":113}],572:[function(t,e,r){"use strict";var n=t("./draw"),o=t("./click");e.exports={moduleType:"component",name:"annotations",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),calcAutorange:t("./calc_autorange"),draw:n.draw,drawOne:n.drawOne,hasClickToShow:o.hasClickToShow,onClick:o.onClick,convertCoords:t("./convert_coords")}},{"./attributes":565,"./calc_autorange":566,"./click":567,"./convert_coords":568,"./defaults":569,"./draw":570}],573:[function(t,e,r){"use strict";e.exports=t("world-calendars/dist/main"),t("world-calendars/dist/plus"),t("world-calendars/dist/calendars/chinese"),t("world-calendars/dist/calendars/coptic"),t("world-calendars/dist/calendars/discworld"),t("world-calendars/dist/calendars/ethiopian"),
t("world-calendars/dist/calendars/hebrew"),t("world-calendars/dist/calendars/islamic"),t("world-calendars/dist/calendars/julian"),t("world-calendars/dist/calendars/mayan"),t("world-calendars/dist/calendars/nanakshahi"),t("world-calendars/dist/calendars/nepali"),t("world-calendars/dist/calendars/persian"),t("world-calendars/dist/calendars/taiwan"),t("world-calendars/dist/calendars/thai"),t("world-calendars/dist/calendars/ummalqura")},{"world-calendars/dist/calendars/chinese":545,"world-calendars/dist/calendars/coptic":546,"world-calendars/dist/calendars/discworld":547,"world-calendars/dist/calendars/ethiopian":548,"world-calendars/dist/calendars/hebrew":549,"world-calendars/dist/calendars/islamic":550,"world-calendars/dist/calendars/julian":551,"world-calendars/dist/calendars/mayan":552,"world-calendars/dist/calendars/nanakshahi":553,"world-calendars/dist/calendars/nepali":554,"world-calendars/dist/calendars/persian":555,"world-calendars/dist/calendars/taiwan":556,"world-calendars/dist/calendars/thai":557,"world-calendars/dist/calendars/ummalqura":558,"world-calendars/dist/main":559,"world-calendars/dist/plus":560}],574:[function(t,e,r){"use strict";function n(t,e,r){for(var n,i,a,s,l,u=Math.floor((e+.05)/p)+c,f=o(r).fromJD(u),h=0;(h=t.indexOf("%",h))!==-1;)n=t.charAt(h+1),"0"===n||"-"===n||"_"===n?(a=3,i=t.charAt(h+2),"_"===n&&(n="-")):(i=n,n="0",a=2),s=b[i],s?(l=s===g?g:f.formatDate(s[n]),t=t.substr(0,h)+l+t.substr(h+a),h+=l.length):h+=a;return t}function o(t){var e=x[t];return e?e:e=x[t]=s.instance(t)}function i(t){return l.extendFlat({},f,{description:t})}function a(t){return"Sets the calendar system to use with `"+t+"` date data."}var s=t("./calendars"),l=t("../../lib"),u=t("../../constants/numerical"),c=u.EPOCHJD,p=u.ONEDAY,f={valType:"enumerated",values:Object.keys(s.calendars),dflt:"gregorian"},h=function(t,e,r,n){var o={};return o[r]=f,l.coerce(t,e,o,r,n)},d=function(t,e,r,n){for(var o=0;o<r.length;o++)h(t,e,r[o]+"calendar",n.calendar)},y={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},m={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},v={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},g="##",b={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:g,w:g,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},x={},_={xcalendar:i(a("x"))},w=l.extendFlat({},_,{ycalendar:i(a("y"))}),T=l.extendFlat({},w,{zcalendar:i(a("z"))}),M=i(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));e.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:w,bar:w,heatmap:w,contour:w,histogram:w,histogram2d:w,histogram2dcontour:w,scatter3d:T,surface:T,mesh3d:T,scattergl:w,ohlc:_,candlestick:_},layout:{calendar:i(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" ")),"xaxis.calendar":M,"yaxis.calendar":M,"scene.xaxis.calendar":M,"scene.yaxis.calendar":M,"scene.zaxis.calendar":M},transforms:{filter:{valuecalendar:i(["Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:i(["Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:f,handleDefaults:h,handleTraceDefaults:d,CANONICAL_SUNDAY:m,CANONICAL_TICK:y,DFLTRANGE:v,getCal:o,worldCalFmt:n}},{"../../constants/numerical":663,"../../lib":681,"./calendars":573}],575:[function(t,e,r){"use strict";r.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],r.defaultLine="#444",r.lightLine="#eee",r.background="#fff",r.borderLine="#BEC8D9",r.lightFraction=1e3/11},{}],576:[function(t,e,r){"use strict";function n(t){if(i(t)||"string"!=typeof t)return t;var e=t.trim();if("rgb"!==e.substr(0,3))return t;var r=e.match(/^rgba?\s*\(([^()]*)\)$/);if(!r)return t;var n=r[1].trim().split(/\s*[\s,]\s*/),o="a"===e.charAt(3)&&4===n.length;if(!o&&3!==n.length)return t;for(var a=0;a<n.length;a++){if(!n[a].length)return t;if(n[a]=Number(n[a]),!(n[a]>=0))return t;if(3===a)n[a]>1&&(n[a]=1);else if(n[a]>=1)return t}var s=Math.round(255*n[0])+", "+Math.round(255*n[1])+", "+Math.round(255*n[2]);return o?"rgba("+s+", "+n[3]+")":"rgb("+s+")"}var o=t("tinycolor2"),i=t("fast-isnumeric"),a=e.exports={},s=t("./attributes");a.defaults=s.defaults,a.defaultLine=s.defaultLine,a.lightLine=s.lightLine,a.background=s.background,a.tinyRGB=function(t){var e=t.toRgb();return"rgb("+Math.round(e.r)+", "+Math.round(e.g)+", "+Math.round(e.b)+")"},a.rgb=function(t){return a.tinyRGB(o(t))},a.opacity=function(t){return t?o(t).getAlpha():0},a.addOpacity=function(t,e){var r=o(t).toRgb();return"rgba("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+", "+e+")"},a.combine=function(t,e){var r=o(t).toRgb();if(1===r.a)return o(t).toRgbString();var n=o(e||a.background).toRgb(),i=1===n.a?n:{r:255*(1-n.a)+n.r*n.a,g:255*(1-n.a)+n.g*n.a,b:255*(1-n.a)+n.b*n.a},s={r:i.r*(1-r.a)+r.r*r.a,g:i.g*(1-r.a)+r.g*r.a,b:i.b*(1-r.a)+r.b*r.a};return o(s).toRgbString()},a.contrast=function(t,e,r){var n=o(t),i=n.isLight()?n.darken(r):n.lighten(e);return i.toString()},a.stroke=function(t,e){var r=o(e);t.style({stroke:a.tinyRGB(r),"stroke-opacity":r.getAlpha()})},a.fill=function(t,e){var r=o(e);t.style({fill:a.tinyRGB(r),"fill-opacity":r.getAlpha()})},a.clean=function(t){if(t&&"object"==typeof t){var e,r,o,i,s=Object.keys(t);for(e=0;e<s.length;e++)if(o=s[e],i=t[o],"color"===o.substr(o.length-5))if(Array.isArray(i))for(r=0;r<i.length;r++)i[r]=n(i[r]);else t[o]=n(i);else if("colorscale"===o.substr(o.length-10)&&Array.isArray(i))for(r=0;r<i.length;r++)Array.isArray(i[r])&&(i[r][1]=n(i[r][1]));else if(Array.isArray(i)){var l=i[0];if(!Array.isArray(l)&&l&&"object"==typeof l)for(r=0;r<i.length;r++)a.clean(i[r])}else i&&"object"==typeof i&&a.clean(i)}}},{"./attributes":575,"fast-isnumeric":113,tinycolor2:512}],577:[function(t,e,r){"use strict";var n=t("../../plots/cartesian/layout_attributes"),o=t("../../plots/font_attributes"),i=t("../../lib/extend").extendFlat;e.exports={thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",dflt:1.02,min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",dflt:.5,min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle"},ypad:{valType:"number",min:0,dflt:10},outlinecolor:n.linecolor,outlinewidth:n.linewidth,bordercolor:n.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:n.tickmode,nticks:n.nticks,tick0:n.tick0,dtick:n.dtick,tickvals:n.tickvals,ticktext:n.ticktext,ticks:i({},n.ticks,{dflt:""}),ticklen:n.ticklen,tickwidth:n.tickwidth,tickcolor:n.tickcolor,showticklabels:n.showticklabels,tickfont:n.tickfont,tickangle:n.tickangle,tickformat:n.tickformat,tickprefix:n.tickprefix,showtickprefix:n.showtickprefix,ticksuffix:n.ticksuffix,showticksuffix:n.showticksuffix,separatethousands:n.separatethousands,exponentformat:n.exponentformat,showexponent:n.showexponent,title:{valType:"string",dflt:"Click to enter colorscale title"},titlefont:i({},o,{}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},{"../../lib/extend":673,"../../plots/cartesian/layout_attributes":729,"../../plots/font_attributes":740}],578:[function(t,e,r){"use strict";var n=t("../../lib"),o=t("../../plots/cartesian/tick_value_defaults"),i=t("../../plots/cartesian/tick_mark_defaults"),a=t("../../plots/cartesian/tick_label_defaults"),s=t("./attributes");e.exports=function(t,e,r){function l(t,e){return n.coerce(c,u,s,t,e)}var u=e.colorbar={},c=t.colorbar||{},p=l("thicknessmode");l("thickness","fraction"===p?30/(r.width-r.margin.l-r.margin.r):30);var f=l("lenmode");l("len","fraction"===f?1:r.height-r.margin.t-r.margin.b),l("x"),l("xanchor"),l("xpad"),l("y"),l("yanchor"),l("ypad"),n.noneOrAll(c,u,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor"),o(c,u,l,"linear"),a(c,u,l,"linear",{outerTicks:!1,font:r.font,noHover:!0}),i(c,u,l,"linear",{outerTicks:!1,font:r.font,noHover:!0}),l("title"),n.coerceFont(l,"titlefont",r.font),l("titleside")}},{"../../lib":681,"../../plots/cartesian/tick_label_defaults":735,"../../plots/cartesian/tick_mark_defaults":736,"../../plots/cartesian/tick_value_defaults":737,"./attributes":577}],579:[function(t,e,r){"use strict";var n=t("d3"),o=t("tinycolor2"),i=t("../../plotly"),a=t("../../plots/plots"),s=t("../../registry"),l=t("../../plots/cartesian/axes"),u=t("../dragelement"),c=t("../../lib"),p=t("../../lib/extend").extendFlat,f=t("../../lib/setcursor"),h=t("../drawing"),d=t("../color"),y=t("../titles"),m=t("../../plots/cartesian/axis_defaults"),v=t("../../plots/cartesian/position_defaults"),g=t("../../plots/cartesian/layout_attributes"),b=t("./attributes");e.exports=function(t,e){function r(){function b(t,e){return c.coerce($,Q,g,t,e)}function w(){if(["top","bottom"].indexOf(_.titleside)!==-1){var e=it.select(".cbtitle"),r=e.select("text"),i=[-_.outlinewidth/2,_.outlinewidth/2],a=e.select(".h"+Q._id+"title-math-group").node(),s=15.6;if(r.node()&&(s=1.3*parseInt(r.style("font-size"),10)),a?(st=h.bBox(a).height,st>s&&(i[1]-=(st-s)/2)):r.node()&&!r.classed("js-placeholder")&&(st=h.bBox(e.node()).height),st){if(st+=5,"top"===_.titleside)Q.domain[1]-=st/E.h,i[1]*=-1;else{Q.domain[0]+=st/E.h;var u=Math.max(1,r.selectAll("tspan.line").size());i[1]+=(1-u)*s}e.attr("transform","translate("+i+")"),Q.setScale()}}it.selectAll(".cbfills,.cblines,.cbaxis").attr("transform","translate(0,"+Math.round(E.h*(1-Q.domain[1]))+")");var p=it.select(".cbfills").selectAll("rect.cbfill").data(P);p.enter().append("rect").classed("cbfill",!0).style("stroke","none"),p.exit().remove(),p.each(function(t,e){var r=[0===e?C[0]:(P[e]+P[e-1])/2,e===P.length-1?C[1]:(P[e]+P[e+1])/2].map(Q.c2p).map(Math.round);e!==P.length-1&&(r[1]+=r[1]>r[0]?1:-1);var i=D(t).replace("e-",""),a=o(i).toHexString();n.select(this).attr({x:Y,width:Math.max(B,2),y:n.min(r),height:Math.max(n.max(r)-n.min(r),2),fill:a})});var f=it.select(".cblines").selectAll("path.cbline").data(_.line.color&&_.line.width?A:[]);return f.enter().append("path").classed("cbline",!0),f.exit().remove(),f.each(function(t){n.select(this).attr("d","M"+Y+","+(Math.round(Q.c2p(t))+_.line.width/2%1)+"h"+B).call(h.lineGroupStyle,_.line.width,L(t),_.line.dash)}),Q._axislayer.selectAll("g."+Q._id+"tick,path").remove(),Q._pos=Y+B+(_.outlinewidth||0)/2-("outside"===_.ticks?1:0),Q.side="right",c.syncOrAsync([function(){return l.doTicks(t,Q,!0)},function(){if(["top","bottom"].indexOf(_.titleside)===-1){var e=Q.titlefont.size,r=Q._offset+Q._length/2,o=E.l+(Q.position||0)*E.w+("right"===Q.side?10+e*(Q.showticklabels?1:.5):-10-e*(Q.showticklabels?.5:0));T("h"+Q._id+"title",{avoid:{selection:n.select(t).selectAll("g."+Q._id+"tick"),side:_.titleside,offsetLeft:E.l,offsetTop:E.t,maxShift:S.width},attributes:{x:o,y:r,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}}])}function T(e,r){var n,o=x();n=s.traceIs(o,"markerColorscale")?"marker.colorbar.title":"colorbar.title";var i={propContainer:Q,propName:n,traceIndex:o.index,dfltName:"colorscale",containerGroup:it.select(".cbtitle")},a="h"===e.charAt(0)?e.substr(1):"h"+e;it.selectAll("."+a+",."+a+"-math-group").remove(),y.draw(t,e,p(i,r||{}))}function M(){var r=B+_.outlinewidth/2+h.bBox(Q._axislayer.node()).width;if(j=at.select("text"),j.node()&&!j.classed("js-placeholder")){var n,o=at.select(".h"+Q._id+"title-math-group").node();n=o&&["top","bottom"].indexOf(_.titleside)!==-1?h.bBox(o).width:h.bBox(at.node()).right-Y-E.l,r=Math.max(r,n)}var i=2*_.xpad+r+_.borderwidth+_.outlinewidth/2,s=Z-J;it.select(".cbbg").attr({x:Y-_.xpad-(_.borderwidth+_.outlinewidth)/2,y:J-q,width:Math.max(i,2),height:Math.max(s+2*q,2)}).call(d.fill,_.bgcolor).call(d.stroke,_.bordercolor).style({"stroke-width":_.borderwidth}),it.selectAll(".cboutline").attr({x:Y,y:J+_.ypad+("top"===_.titleside?st:0),width:Math.max(B,2),height:Math.max(s-2*_.ypad-st,2)}).call(d.stroke,_.outlinecolor).style({fill:"None","stroke-width":_.outlinewidth});var l=({center:.5,right:1}[_.xanchor]||0)*i;it.attr("transform","translate("+(E.l-l)+","+E.t+")"),a.autoMargin(t,e,{x:_.x,y:_.y,l:i*({right:1,center:.5}[_.xanchor]||0),r:i*({left:1,center:.5}[_.xanchor]||0),t:s*({bottom:1,middle:.5}[_.yanchor]||0),b:s*({top:1,middle:.5}[_.yanchor]||0)})}var S=t._fullLayout,E=S._size;if("function"!=typeof _.fillcolor&&"function"!=typeof _.line.color)return void S._infolayer.selectAll("g."+e).remove();var k,C=n.extent(("function"==typeof _.fillcolor?_.fillcolor:_.line.color).domain()),A=[],P=[],L="function"==typeof _.line.color?_.line.color:function(){return _.line.color},D="function"==typeof _.fillcolor?_.fillcolor:function(){return _.fillcolor},O=_.levels.end+_.levels.size/100,I=_.levels.size,R=1.001*C[0]-.001*C[1],N=1.001*C[1]-.001*C[0];for(k=_.levels.start;(k-O)*I<0;k+=I)k>R&&k<N&&A.push(k);if("function"==typeof _.fillcolor)if(_.filllevels)for(O=_.filllevels.end+_.filllevels.size/100,I=_.filllevels.size,k=_.filllevels.start;(k-O)*I<0;k+=I)k>C[0]&&k<C[1]&&P.push(k);else P=A.map(function(t){return t-_.levels.size/2}),P.push(P[P.length-1]+_.levels.size);else _.fillcolor&&"string"==typeof _.fillcolor&&(P=[0]);_.levels.size<0&&(A.reverse(),P.reverse());var j,F=S.height-S.margin.t-S.margin.b,z=S.width-S.margin.l-S.margin.r,B=Math.round(_.thickness*("fraction"===_.thicknessmode?z:1)),U=B/E.w,V=Math.round(_.len*("fraction"===_.lenmode?F:1)),H=V/E.h,W=_.xpad/E.w,q=(_.borderwidth+_.outlinewidth)/2,G=_.ypad/E.h,Y=Math.round(_.x*E.w+_.xpad),X=_.x-U*({middle:.5,right:1}[_.xanchor]||0),K=_.y+H*(({top:-.5,bottom:.5}[_.yanchor]||0)-.5),Z=Math.round(E.h*(1-K)),J=Z-V,$={type:"linear",range:C,tickmode:_.tickmode,nticks:_.nticks,tick0:_.tick0,dtick:_.dtick,tickvals:_.tickvals,ticktext:_.ticktext,ticks:_.ticks,ticklen:_.ticklen,tickwidth:_.tickwidth,tickcolor:_.tickcolor,showticklabels:_.showticklabels,tickfont:_.tickfont,tickangle:_.tickangle,tickformat:_.tickformat,exponentformat:_.exponentformat,separatethousands:_.separatethousands,showexponent:_.showexponent,showtickprefix:_.showtickprefix,tickprefix:_.tickprefix,showticksuffix:_.showticksuffix,ticksuffix:_.ticksuffix,title:_.title,titlefont:_.titlefont,anchor:"free",position:1},Q={},tt={letter:"y",font:S.font,noHover:!0,calendar:S.calendar};if(m($,Q,b,tt,S),v($,Q,b,tt),Q._id="y"+e,Q.position=_.x+W+U,r.axis=Q,["top","bottom"].indexOf(_.titleside)!==-1&&(Q.titleside=_.titleside,Q.titlex=_.x+W,Q.titley=K+("top"===_.titleside?H-G:G)),_.line.color&&"auto"===_.tickmode){Q.tickmode="linear",Q.tick0=_.levels.start;var et=_.levels.size,rt=c.constrain((Z-J)/50,4,15)+1,nt=(C[1]-C[0])/((_.nticks||rt)*et);if(nt>1){var ot=Math.pow(10,Math.floor(Math.log(nt)/Math.LN10));et*=ot*c.roundUp(nt/ot,[2,5,10]),(Math.abs(_.levels.start)/_.levels.size+1e-6)%1<2e-6&&(Q.tick0=0)}Q.dtick=et}Q.domain=[K+G,K+H-G],Q.setScale();var it=S._infolayer.selectAll("g."+e).data([0]);it.enter().append("g").classed(e,!0).each(function(){var t=n.select(this);t.append("rect").classed("cbbg",!0),t.append("g").classed("cbfills",!0),t.append("g").classed("cblines",!0),t.append("g").classed("cbaxis",!0).classed("crisp",!0),t.append("g").classed("cbtitleunshift",!0).append("g").classed("cbtitle",!0),t.append("rect").classed("cboutline",!0),t.select(".cbtitle").datum(0)}),it.attr("transform","translate("+Math.round(E.l)+","+Math.round(E.t)+")");var at=it.select(".cbtitleunshift").attr("transform","translate(-"+Math.round(E.l)+",-"+Math.round(E.t)+")");Q._axislayer=it.select(".cbaxis");var st=0;if(["top","bottom"].indexOf(_.titleside)!==-1){var lt,ut=E.l+(_.x+W)*E.w,ct=Q.titlefont.size;lt="top"===_.titleside?(1-(K+H-G))*E.h+E.t+3+.75*ct:(1-(K+G))*E.h+E.t-3-.25*ct,T(Q._id+"title",{attributes:{x:ut,y:lt,"text-anchor":"start"}})}var pt=c.syncOrAsync([a.previousPromises,w,a.previousPromises,M],t);if(pt&&pt.then&&(t._promises||[]).push(pt),t._context.editable){var ft,ht,dt;u.init({element:it.node(),prepFn:function(){ft=it.attr("transform"),f(it)},moveFn:function(t,e){it.attr("transform",ft+" translate("+t+","+e+")"),ht=u.align(X+t/E.w,U,0,1,_.xanchor),dt=u.align(K-e/E.h,H,0,1,_.yanchor);var r=u.getCursor(ht,dt,_.xanchor,_.yanchor);f(it,r)},doneFn:function(e){f(it),e&&void 0!==ht&&void 0!==dt&&i.restyle(t,{"colorbar.x":ht,"colorbar.y":dt},x().index)}})}return pt}function x(){var r,n,o=e.substr(2);for(r=0;r<t._fullData.length;r++)if(n=t._fullData[r],n.uid===o)return n}var _={};return Object.keys(b).forEach(function(t){_[t]=null}),_.fillcolor=null,_.line={color:null,width:null,dash:null},_.levels={start:null,end:null,size:null},_.filllevels=null,Object.keys(_).forEach(function(t){r[t]=function(e){return arguments.length?(_[t]=c.isPlainObject(_[t])?c.extendFlat(_[t],e):e,r):_[t]}}),r.options=function(t){return Object.keys(t).forEach(function(e){"function"==typeof r[e]&&r[e](t[e])}),r},r._opts=_,r}},{"../../lib":681,"../../lib/extend":673,"../../lib/setcursor":696,"../../plotly":715,"../../plots/cartesian/axes":720,"../../plots/cartesian/axis_defaults":722,"../../plots/cartesian/layout_attributes":729,"../../plots/cartesian/position_defaults":732,"../../plots/plots":779,"../../registry":794,"../color":576,"../dragelement":597,"../drawing":599,"../titles":652,"./attributes":577,d3:104,tinycolor2:512}],580:[function(t,e,r){"use strict";var n=t("../../lib");e.exports=function(t){return n.isPlainObject(t.colorbar)}},{"../../lib":681}],581:[function(t,e,r){"use strict";e.exports={zauto:{valType:"boolean",dflt:!0},zmin:{valType:"number",dflt:null},zmax:{valType:"number",dflt:null},colorscale:{valType:"colorscale"},autocolorscale:{valType:"boolean",dflt:!0},reversescale:{valType:"boolean",dflt:!1},showscale:{valType:"boolean",dflt:!0}}},{}],582:[function(t,e,r){"use strict";var n=t("../../lib"),o=t("./scales"),i=t("./flip_scale");e.exports=function(t,e,r,a){var s,l;r?(s=n.nestedProperty(t,r).get(),l=n.nestedProperty(t._input,r).get()):(s=t,l=t._input);var u=a+"auto",c=a+"min",p=a+"max",f=s[u],h=s[c],d=s[p],y=s.colorscale;f===!1&&void 0!==h||(h=n.aggNums(Math.min,null,e)),f===!1&&void 0!==d||(d=n.aggNums(Math.max,null,e)),h===d&&(h-=.5,d+=.5),s[c]=h,s[p]=d,l[c]=h,l[p]=d,l[u]=f!==!1||void 0===h&&void 0===d,s.autocolorscale&&(y=h*d<0?o.RdBu:h>=0?o.Reds:o.Blues,l.colorscale=y,s.reversescale&&(y=i(y)),s.colorscale=y)}},{"../../lib":681,"./flip_scale":587,"./scales":594}],583:[function(t,e,r){"use strict";var n=t("./attributes"),o=t("../../lib/extend").extendDeep;t("./scales.js");e.exports=function(t){return{color:{valType:"color",arrayOk:!0},colorscale:o({},n.colorscale,{}),cauto:o({},n.zauto,{}),cmax:o({},n.zmax,{}),cmin:o({},n.zmin,{}),autocolorscale:o({},n.autocolorscale,{}),reversescale:o({},n.reversescale,{})}}},{"../../lib/extend":673,"./attributes":581,"./scales.js":594}],584:[function(t,e,r){"use strict";var n=t("./scales");e.exports=n.RdBu},{"./scales":594}],585:[function(t,e,r){"use strict";var n=t("fast-isnumeric"),o=t("../../lib"),i=t("../colorbar/has_colorbar"),a=t("../colorbar/defaults"),s=t("./is_valid_scale"),l=t("./flip_scale");e.exports=function(t,e,r,u,c){var p=c.prefix,f=c.cLetter,h=p.slice(0,p.length-1),d=p?o.nestedProperty(t,h).get()||{}:t,y=p?o.nestedProperty(e,h).get()||{}:e,m=d[f+"min"],v=d[f+"max"],g=d.colorscale,b=n(m)&&n(v)&&m<v;u(p+f+"auto",!b),u(p+f+"min"),u(p+f+"max");var x;void 0!==g&&(x=!s(g)),u(p+"autocolorscale",x);var _=u(p+"colorscale"),w=u(p+"reversescale");if(w&&(y.colorscale=l(_)),"marker.line."!==p){var T;p&&(T=i(d));var M=u(p+"showscale",T);M&&a(d,y,r)}}},{"../../lib":681,"../colorbar/defaults":578,"../colorbar/has_colorbar":580,"./flip_scale":587,"./is_valid_scale":591,"fast-isnumeric":113}],586:[function(t,e,r){"use strict";e.exports=function(t,e,r){for(var n=t.length,o=new Array(n),i=new Array(n),a=0;a<n;a++){var s=t[a];o[a]=e+s[0]*(r-e),i[a]=s[1]}return{domain:o,range:i}}},{}],587:[function(t,e,r){"use strict";e.exports=function(t){for(var e,r=t.length,n=new Array(r),o=r-1,i=0;o>=0;o--,i++)e=t[o],n[i]=[1-e[0],e[1]];return n}},{}],588:[function(t,e,r){"use strict";var n=t("./scales"),o=t("./default_scale"),i=t("./is_valid_scale_array");e.exports=function(t,e){function r(){try{t=n[t]||JSON.parse(t)}catch(r){t=e}}return e||(e=o),t?("string"==typeof t&&(r(),"string"==typeof t&&r()),i(t)?t:e):e}},{"./default_scale":584,"./is_valid_scale_array":592,"./scales":594}],589:[function(t,e,r){"use strict";var n=t("fast-isnumeric"),o=t("../../lib"),i=t("./is_valid_scale");e.exports=function(t,e){var r=e?o.nestedProperty(t,e).get()||{}:t,a=r.color,s=!1;if(Array.isArray(a))for(var l=0;l<a.length;l++)if(n(a[l])){s=!0;break}return o.isPlainObject(r)&&(s||r.showscale===!0||n(r.cmin)&&n(r.cmax)||i(r.colorscale)||o.isPlainObject(r.colorbar))}},{"../../lib":681,"./is_valid_scale":591,"fast-isnumeric":113}],590:[function(t,e,r){"use strict";r.scales=t("./scales"),r.defaultScale=t("./default_scale"),r.attributes=t("./attributes"),r.handleDefaults=t("./defaults"),r.calc=t("./calc"),r.hasColorscale=t("./has_colorscale"),r.isValidScale=t("./is_valid_scale"),r.getScale=t("./get_scale"),r.flipScale=t("./flip_scale"),r.extractScale=t("./extract_scale"),r.makeColorScaleFunc=t("./make_color_scale_func")},{"./attributes":581,"./calc":582,"./default_scale":584,"./defaults":585,"./extract_scale":586,"./flip_scale":587,"./get_scale":588,"./has_colorscale":589,"./is_valid_scale":591,"./make_color_scale_func":593,"./scales":594}],591:[function(t,e,r){"use strict";var n=t("./scales"),o=t("./is_valid_scale_array");e.exports=function(t){return void 0!==n[t]||o(t)}},{"./is_valid_scale_array":592,"./scales":594}],592:[function(t,e,r){"use strict";var n=t("tinycolor2");e.exports=function(t){var e=0;if(!Array.isArray(t)||t.length<2)return!1;if(!t[0]||!t[t.length-1])return!1;if(0!==+t[0][0]||1!==+t[t.length-1][0])return!1;for(var r=0;r<t.length;r++){var o=t[r];if(2!==o.length||+o[0]<e||!n(o[1]).isValid())return!1;e=+o[0]}return!0}},{tinycolor2:512}],593:[function(t,e,r){"use strict";function n(t){var e={r:t[0],g:t[1],b:t[2],a:t[3]};return i(e).toRgbString()}var o=t("d3"),i=t("tinycolor2"),a=t("fast-isnumeric"),s=t("../color");e.exports=function(t,e){e=e||{};for(var r=t.domain,l=t.range,u=l.length,c=new Array(u),p=0;p<u;p++){var f=i(l[p]).toRgb();c[p]=[f.r,f.g,f.b,f.a]}var h,d=o.scale.linear().domain(r).range(c).clamp(!0),y=e.noNumericCheck,m=e.returnArray;return h=y&&m?d:y?function(t){return n(d(t))}:m?function(t){return a(t)?d(t):i(t).isValid()?t:s.defaultLine}:function(t){return a(t)?n(d(t)):i(t).isValid()?t:s.defaultLine},h.domain=d.domain,h.range=function(){return l},h}},{"../color":576,d3:104,"fast-isnumeric":113,tinycolor2:512}],594:[function(t,e,r){"use strict";e.exports={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]]}},{}],595:[function(t,e,r){"use strict";e.exports=function(t,e,r,n,o){var i=(t-r)/(n-r),a=i+e/(n-r),s=(i+a)/2;return"left"===o||"bottom"===o?i:"center"===o||"middle"===o?s:"right"===o||"top"===o?a:i<2/3-s?i:a>4/3-s?a:s}},{}],596:[function(t,e,r){"use strict";var n=t("../../lib"),o=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];e.exports=function(t,e,r,i){return t="left"===r?0:"center"===r?1:"right"===r?2:n.constrain(Math.floor(3*t),0,2),e="bottom"===i?0:"middle"===i?1:"top"===i?2:n.constrain(Math.floor(3*e),0,2),o[e][t]}},{"../../lib":681}],597:[function(t,e,r){"use strict";function n(){var t=document.createElement("div");t.className="dragcover";var e=t.style;return e.position="fixed",e.left=0,e.right=0,e.top=0,e.bottom=0,e.zIndex=999999999,e.background="none",document.body.appendChild(t),t}function o(t){t._dragging=!1,t._replotPending&&i.plot(t)}var i=t("../../plotly"),a=t("../../lib"),s=t("../../plots/cartesian/constants"),l=t("../../constants/interactions"),u=e.exports={};u.align=t("./align"),u.getCursor=t("./cursor");var c=t("./unhover");u.unhover=c.wrapped,u.unhoverRaw=c.raw,u.init=function(t){function e(e){return t.element.onmousemove=y,m._dragged=!1,m._dragging=!0,c=e.clientX,p=e.clientY,d=e.target,f=(new Date).getTime(),f-m._mouseDownTime<g?v+=1:(v=1,m._mouseDownTime=f),t.prepFn&&t.prepFn(e,c,p),h=n(),h.onmousemove=r,h.onmouseup=i,h.onmouseout=i,h.style.cursor=window.getComputedStyle(t.element).cursor,a.pauseEvent(e)}function r(e){var r=e.clientX-c,n=e.clientY-p,o=t.minDrag||s.MINDRAG;return Math.abs(r)<o&&(r=0),Math.abs(n)<o&&(n=0),(r||n)&&(m._dragged=!0,u.unhover(m)),t.moveFn&&t.moveFn(r,n,m._dragged),a.pauseEvent(e)}function i(e){if(y=t.element.onmousemove,t.setCursor&&(t.element.onmousemove=t.setCursor),h.onmousemove=null,h.onmouseup=null,h.onmouseout=null,a.removeElement(h),!m._dragging)return void(m._dragged=!1);if(m._dragging=!1,(new Date).getTime()-m._mouseDownTime>g&&(v=Math.max(v-1,1)),t.doneFn&&t.doneFn(m._dragged,v,e),!m._dragged){var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),d.dispatchEvent(r)}return o(m),m._dragged=!1,a.pauseEvent(e)}var c,p,f,h,d,y,m=a.getPlotDiv(t.element)||{},v=1,g=l.DBLCLICKDELAY;m._mouseDownTime||(m._mouseDownTime=0),y=t.element.onmousemove,t.setCursor&&(t.element.onmousemove=t.setCursor),t.element.onmousedown=e,t.element.style.pointerEvents="all"},u.coverSlip=n},{"../../constants/interactions":662,"../../lib":681,"../../plotly":715,"../../plots/cartesian/constants":725,"./align":595,"./cursor":596,"./unhover":598}],598:[function(t,e,r){"use strict";var n=t("../../lib/events"),o=e.exports={};o.wrapped=function(t,e,r){"string"==typeof t&&(t=document.getElementById(t)),t._hoverTimer&&(clearTimeout(t._hoverTimer),t._hoverTimer=void 0),o.raw(t,e,r)},o.raw=function(t,e){var r=t._fullLayout,o=t._hoverdata;e||(e={}),e.target&&n.triggerHandler(t,"plotly_beforehover",e)===!1||(r._hoverlayer.selectAll("g").remove(),t._hoverdata=void 0,e.target&&o&&t.emit("plotly_unhover",{points:o}))}},{"../../lib/events":672}],599:[function(t,e,r){"use strict";function n(t,e,r,n,o,i,a){if(s.traceIs(r,"symbols")){var u=d(r);e.attr("d",function(t){var e;e="various"===t.ms||"various"===i.size?3:h.isBubble(r)?u(t.ms):(i.size||6)/2,t.mrc=e;var n=y.symbolNumber(t.mx||i.symbol)||0,o=n%100;return t.om=n%200>=100,y.symbolFuncs[o](e)+(n>=200?g:"")}).style("opacity",function(t){return(t.mo+1||i.opacity+1)-1})}var c,p,f;t.so?(f=a.outlierwidth,p=a.outliercolor,c=i.outliercolor):(f=(t.mlw+1||a.width+1||(t.trace?t.trace.marker.line.width:0)+1)-1,p="mlc"in t?t.mlcc=o(t.mlc):Array.isArray(a.color)?l.defaultLine:a.color,c="mc"in t?t.mcc=n(t.mc):Array.isArray(i.color)?l.defaultLine:i.color||"rgba(0,0,0,0)"),t.om?e.call(l.stroke,c).style({"stroke-width":(f||1)+"px",fill:"none"}):(e.style("stroke-width",f+"px").call(l.fill,c),f&&e.call(l.stroke,p))}function o(t,e,r,n){var o=t[0]-e[0],a=t[1]-e[1],s=r[0]-e[0],l=r[1]-e[1],u=Math.pow(o*o+a*a,_/2),c=Math.pow(s*s+l*l,_/2),p=(c*c*o-u*u*s)*n,f=(c*c*a-u*u*l)*n,h=3*c*(u+c),d=3*u*(u+c);return[[i.round(e[0]+(h&&p/h),2),i.round(e[1]+(h&&f/h),2)],[i.round(e[0]-(d&&p/d),2),i.round(e[1]-(d&&f/d),2)]]}var i=t("d3"),a=t("fast-isnumeric"),s=t("../../registry"),l=t("../color"),u=t("../colorscale"),c=t("../../lib"),p=t("../../lib/svg_text_utils"),f=t("../../constants/xmlns_namespaces"),h=t("../../traces/scatter/subtypes"),d=t("../../traces/scatter/make_bubble_size_func"),y=e.exports={};y.font=function(t,e,r,n){e&&e.family&&(n=e.color,r=e.size,e=e.family),e&&t.style("font-family",e),r+1&&t.style("font-size",r+"px"),n&&t.call(l.fill,n)},y.setPosition=function(t,e,r){t.attr("x",e).attr("y",r)},y.setSize=function(t,e,r){t.attr("width",e).attr("height",r)},y.setRect=function(t,e,r,n,o){t.call(y.setPosition,e,r).call(y.setSize,n,o);
},y.translatePoint=function(t,e,r,n){var o=t.xp||r.c2p(t.x),i=t.yp||n.c2p(t.y);a(o)&&a(i)&&e.node()?"text"===e.node().nodeName?e.attr("x",o).attr("y",i):e.attr("transform","translate("+o+","+i+")"):e.remove()},y.translatePoints=function(t,e,r,n){t.each(function(t){var o=i.select(this);y.translatePoint(t,o,e,r,n)})},y.getPx=function(t,e){return Number(t.style(e).replace(/px$/,""))},y.crispRound=function(t,e,r){return e&&a(e)?t._context.staticPlot?e:e<1?1:Math.round(e):r||0},y.singleLineStyle=function(t,e,r,n,o){e.style("fill","none");var i=(((t||[])[0]||{}).trace||{}).line||{},a=r||i.width||0,s=o||i.dash||"";l.stroke(e,n||i.color),y.dashLine(e,s,a)},y.lineGroupStyle=function(t,e,r,n){t.style("fill","none").each(function(t){var o=(((t||[])[0]||{}).trace||{}).line||{},a=e||o.width||0,s=n||o.dash||"";i.select(this).call(l.stroke,r||o.color).call(y.dashLine,s,a)})},y.dashLine=function(t,e,r){r=+r||0;var n=Math.max(r,3);"solid"===e?e="":"dot"===e?e=n+"px,"+n+"px":"dash"===e?e=3*n+"px,"+3*n+"px":"longdash"===e?e=5*n+"px,"+5*n+"px":"dashdot"===e?e=3*n+"px,"+n+"px,"+n+"px,"+n+"px":"longdashdot"===e&&(e=5*n+"px,"+2*n+"px,"+n+"px,"+2*n+"px"),t.style({"stroke-dasharray":e,"stroke-width":r+"px"})},y.fillGroupStyle=function(t){t.style("stroke-width",0).each(function(e){var r=i.select(this);try{r.call(l.fill,e[0].trace.fillcolor)}catch(e){c.error(e,t),r.remove()}})};var m=t("./symbol_defs");y.symbolNames=[],y.symbolFuncs=[],y.symbolNeedLines={},y.symbolNoDot={},y.symbolList=[],Object.keys(m).forEach(function(t){var e=m[t];y.symbolList=y.symbolList.concat([e.n,t,e.n+100,t+"-open"]),y.symbolNames[e.n]=t,y.symbolFuncs[e.n]=e.f,e.needLine&&(y.symbolNeedLines[e.n]=!0),e.noDot?y.symbolNoDot[e.n]=!0:y.symbolList=y.symbolList.concat([e.n+200,t+"-dot",e.n+300,t+"-open-dot"])});var v=y.symbolNames.length,g="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";y.symbolNumber=function(t){if("string"==typeof t){var e=0;t.indexOf("-open")>0&&(e=100,t=t.replace("-open","")),t.indexOf("-dot")>0&&(e+=200,t=t.replace("-dot","")),t=y.symbolNames.indexOf(t),t>=0&&(t+=e)}return t%100>=v||t>=400?0:Math.floor(Math.max(t,0))},y.singlePointStyle=function(t,e,r){var o=r.marker,i=o.line,a=y.tryColorscale(o,""),s=y.tryColorscale(o,"line");n(t,e,r,a,s,o,i)},y.pointStyle=function(t,e){if(t.size()){var r=e.marker,n=y.tryColorscale(r,""),o=y.tryColorscale(r,"line");t.each(function(t){y.singlePointStyle(t,i.select(this),e,n,o)})}},y.tryColorscale=function(t,e){var r=e?c.nestedProperty(t,e).get():t,n=r.colorscale,o=r.color;return n&&Array.isArray(o)?u.makeColorScaleFunc(u.extractScale(n,r.cmin,r.cmax)):c.identity};var b={start:1,end:-1,middle:0,bottom:1,top:-1},x=1.3;y.textPointStyle=function(t,e){t.each(function(t){var r=i.select(this),n=t.tx||e.text;if(!n||Array.isArray(n))return void r.remove();var o=t.tp||e.textposition,s=o.indexOf("top")!==-1?"top":o.indexOf("bottom")!==-1?"bottom":"middle",l=o.indexOf("left")!==-1?"end":o.indexOf("right")!==-1?"start":"middle",u=t.ts||e.textfont.size,c=t.mrc?t.mrc/.8+1:0;u=a(u)&&u>0?u:0,r.call(y.font,t.tf||e.textfont.family,u,t.tc||e.textfont.color).attr("text-anchor",l).text(n).call(p.convertToTspans);var f=i.select(this.parentNode),h=r.selectAll("tspan.line"),d=((h[0].length||1)-1)*x+1,m=b[l]*c,v=.75*u+b[s]*c+(b[s]-1)*d*u/2;f.attr("transform","translate("+m+","+v+")"),d>1&&h.attr({x:r.attr("x"),y:r.attr("y")})})};var _=.5;y.smoothopen=function(t,e){if(t.length<3)return"M"+t.join("L");var r,n="M"+t[0],i=[];for(r=1;r<t.length-1;r++)i.push(o(t[r-1],t[r],t[r+1],e));for(n+="Q"+i[0][0]+" "+t[1],r=2;r<t.length-1;r++)n+="C"+i[r-2][1]+" "+i[r-1][0]+" "+t[r];return n+="Q"+i[t.length-3][1]+" "+t[t.length-1]},y.smoothclosed=function(t,e){if(t.length<3)return"M"+t.join("L")+"Z";var r,n="M"+t[0],i=t.length-1,a=[o(t[i],t[0],t[1],e)];for(r=1;r<i;r++)a.push(o(t[r-1],t[r],t[r+1],e));for(a.push(o(t[i-1],t[i],t[0],e)),r=1;r<=i;r++)n+="C"+a[r-1][1]+" "+a[r][0]+" "+t[r];return n+="C"+a[i][1]+" "+a[0][0]+" "+t[0]+"Z"};var w={hv:function(t,e){return"H"+i.round(e[0],2)+"V"+i.round(e[1],2)},vh:function(t,e){return"V"+i.round(e[1],2)+"H"+i.round(e[0],2)},hvh:function(t,e){return"H"+i.round((t[0]+e[0])/2,2)+"V"+i.round(e[1],2)+"H"+i.round(e[0],2)},vhv:function(t,e){return"V"+i.round((t[1]+e[1])/2,2)+"H"+i.round(e[0],2)+"V"+i.round(e[1],2)}},T=function(t,e){return"L"+i.round(e[0],2)+","+i.round(e[1],2)};y.steps=function(t){var e=w[t]||T;return function(t){for(var r="M"+i.round(t[0][0],2)+","+i.round(t[0][1],2),n=1;n<t.length;n++)r+=e(t[n-1],t[n]);return r}},y.makeTester=function(t){var e=i.select("body").selectAll("#js-plotly-tester").data([0]);e.enter().append("svg").attr("id","js-plotly-tester").attr(f.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"});var r=e.selectAll(".js-reference-point").data([0]);r.enter().append("path").classed("js-reference-point",!0).attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"}),e.node()._cache||(e.node()._cache={}),t._tester=e,t._testref=r};var M=[],S=1e4;y.bBox=function(t){var e=t.attributes["data-bb"];if(e&&e.value)return c.extendFlat({},M[e.value]);var r=i.select("#js-plotly-tester"),n=r.node(),o=t.cloneNode(!0);n.appendChild(o),i.select(o).attr({x:0,y:0,transform:""});var a=o.getBoundingClientRect(),s=r.select(".js-reference-point").node().getBoundingClientRect();n.removeChild(o);var l={height:a.height,width:a.width,left:a.left-s.left,top:a.top-s.top,right:a.right-s.left,bottom:a.bottom-s.top};return M.length>=S&&(i.selectAll("[data-bb]").attr("data-bb",null),M=[]),t.setAttribute("data-bb",M.length),M.push(l),c.extendFlat({},l)},y.setClipUrl=function(t,e){if(!e)return void t.attr("clip-path",null);var r="#"+e,n=i.select("base");n.size()&&n.attr("href")&&(r=window.location.href.split("#")[0]+r),t.attr("clip-path","url("+r+")")},y.getTranslate=function(t){var e=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,r=t.attr?"attr":"getAttribute",n=t[r]("transform")||"",o=n.replace(e,function(t,e,r){return[e,r].join(" ")}).split(" ");return{x:+o[0]||0,y:+o[1]||0}},y.setTranslate=function(t,e,r){var n=/(\btranslate\(.*?\);?)/,o=t.attr?"attr":"getAttribute",i=t.attr?"attr":"setAttribute",a=t[o]("transform")||"";return e=e||0,r=r||0,a=a.replace(n,"").trim(),a+=" translate("+e+", "+r+")",a=a.trim(),t[i]("transform",a),a},y.getScale=function(t){var e=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,r=t.attr?"attr":"getAttribute",n=t[r]("transform")||"",o=n.replace(e,function(t,e,r){return[e,r].join(" ")}).split(" ");return{x:+o[0]||1,y:+o[1]||1}},y.setScale=function(t,e,r){var n=/(\bscale\(.*?\);?)/,o=t.attr?"attr":"getAttribute",i=t.attr?"attr":"setAttribute",a=t[o]("transform")||"";return e=e||1,r=r||1,a=a.replace(n,"").trim(),a+=" scale("+e+", "+r+")",a=a.trim(),t[i]("transform",a),a},y.setPointGroupScale=function(t,e,r){var n,o,i;return e=e||1,r=r||1,o=1===e&&1===r?"":" scale("+e+","+r+")",i=/\s*sc.*/,t.each(function(){n=(this.getAttribute("transform")||"").replace(i,""),n+=o,n=n.trim(),this.setAttribute("transform",n)}),o}},{"../../constants/xmlns_namespaces":665,"../../lib":681,"../../lib/svg_text_utils":700,"../../registry":794,"../../traces/scatter/make_bubble_size_func":939,"../../traces/scatter/subtypes":944,"../color":576,"../colorscale":590,"./symbol_defs":600,d3:104,"fast-isnumeric":113}],600:[function(t,e,r){"use strict";var n=t("d3");e.exports={circle:{n:0,f:function(t){var e=n.round(t,2);return"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"}},square:{n:1,f:function(t){var e=n.round(t,2);return"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"}},diamond:{n:2,f:function(t){var e=n.round(1.3*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"Z"}},cross:{n:3,f:function(t){var e=n.round(.4*t,2),r=n.round(1.2*t,2);return"M"+r+","+e+"H"+e+"V"+r+"H-"+e+"V"+e+"H-"+r+"V-"+e+"H-"+e+"V-"+r+"H"+e+"V-"+e+"H"+r+"Z"}},x:{n:4,f:function(t){var e=n.round(.8*t/Math.sqrt(2),2),r="l"+e+","+e,o="l"+e+",-"+e,i="l-"+e+",-"+e,a="l-"+e+","+e;return"M0,"+e+r+o+i+o+i+a+i+a+r+a+r+"Z"}},"triangle-up":{n:5,f:function(t){var e=n.round(2*t/Math.sqrt(3),2),r=n.round(t/2,2),o=n.round(t,2);return"M-"+e+","+r+"H"+e+"L0,-"+o+"Z"}},"triangle-down":{n:6,f:function(t){var e=n.round(2*t/Math.sqrt(3),2),r=n.round(t/2,2),o=n.round(t,2);return"M-"+e+",-"+r+"H"+e+"L0,"+o+"Z"}},"triangle-left":{n:7,f:function(t){var e=n.round(2*t/Math.sqrt(3),2),r=n.round(t/2,2),o=n.round(t,2);return"M"+r+",-"+e+"V"+e+"L-"+o+",0Z"}},"triangle-right":{n:8,f:function(t){var e=n.round(2*t/Math.sqrt(3),2),r=n.round(t/2,2),o=n.round(t,2);return"M-"+r+",-"+e+"V"+e+"L"+o+",0Z"}},"triangle-ne":{n:9,f:function(t){var e=n.round(.6*t,2),r=n.round(1.2*t,2);return"M-"+r+",-"+e+"H"+e+"V"+r+"Z"}},"triangle-se":{n:10,f:function(t){var e=n.round(.6*t,2),r=n.round(1.2*t,2);return"M"+e+",-"+r+"V"+e+"H-"+r+"Z"}},"triangle-sw":{n:11,f:function(t){var e=n.round(.6*t,2),r=n.round(1.2*t,2);return"M"+r+","+e+"H-"+e+"V-"+r+"Z"}},"triangle-nw":{n:12,f:function(t){var e=n.round(.6*t,2),r=n.round(1.2*t,2);return"M-"+e+","+r+"V-"+e+"H"+r+"Z"}},pentagon:{n:13,f:function(t){var e=n.round(.951*t,2),r=n.round(.588*t,2),o=n.round(-t,2),i=n.round(t*-.309,2),a=n.round(.809*t,2);return"M"+e+","+i+"L"+r+","+a+"H-"+r+"L-"+e+","+i+"L0,"+o+"Z"}},hexagon:{n:14,f:function(t){var e=n.round(t,2),r=n.round(t/2,2),o=n.round(t*Math.sqrt(3)/2,2);return"M"+o+",-"+r+"V"+r+"L0,"+e+"L-"+o+","+r+"V-"+r+"L0,-"+e+"Z"}},hexagon2:{n:15,f:function(t){var e=n.round(t,2),r=n.round(t/2,2),o=n.round(t*Math.sqrt(3)/2,2);return"M-"+r+","+o+"H"+r+"L"+e+",0L"+r+",-"+o+"H-"+r+"L-"+e+",0Z"}},octagon:{n:16,f:function(t){var e=n.round(.924*t,2),r=n.round(.383*t,2);return"M-"+r+",-"+e+"H"+r+"L"+e+",-"+r+"V"+r+"L"+r+","+e+"H-"+r+"L-"+e+","+r+"V-"+r+"Z"}},star:{n:17,f:function(t){var e=1.4*t,r=n.round(.225*e,2),o=n.round(.951*e,2),i=n.round(.363*e,2),a=n.round(.588*e,2),s=n.round(-e,2),l=n.round(e*-.309,2),u=n.round(.118*e,2),c=n.round(.809*e,2),p=n.round(.382*e,2);return"M"+r+","+l+"H"+o+"L"+i+","+u+"L"+a+","+c+"L0,"+p+"L-"+a+","+c+"L-"+i+","+u+"L-"+o+","+l+"H-"+r+"L0,"+s+"Z"}},hexagram:{n:18,f:function(t){var e=n.round(.66*t,2),r=n.round(.38*t,2),o=n.round(.76*t,2);return"M-"+o+",0l-"+r+",-"+e+"h"+o+"l"+r+",-"+e+"l"+r+","+e+"h"+o+"l-"+r+","+e+"l"+r+","+e+"h-"+o+"l-"+r+","+e+"l-"+r+",-"+e+"h-"+o+"Z"}},"star-triangle-up":{n:19,f:function(t){var e=n.round(t*Math.sqrt(3)*.8,2),r=n.round(.8*t,2),o=n.round(1.6*t,2),i=n.round(4*t,2),a="A "+i+","+i+" 0 0 1 ";return"M-"+e+","+r+a+e+","+r+a+"0,-"+o+a+"-"+e+","+r+"Z"}},"star-triangle-down":{n:20,f:function(t){var e=n.round(t*Math.sqrt(3)*.8,2),r=n.round(.8*t,2),o=n.round(1.6*t,2),i=n.round(4*t,2),a="A "+i+","+i+" 0 0 1 ";return"M"+e+",-"+r+a+"-"+e+",-"+r+a+"0,"+o+a+e+",-"+r+"Z"}},"star-square":{n:21,f:function(t){var e=n.round(1.1*t,2),r=n.round(2*t,2),o="A "+r+","+r+" 0 0 1 ";return"M-"+e+",-"+e+o+"-"+e+","+e+o+e+","+e+o+e+",-"+e+o+"-"+e+",-"+e+"Z"}},"star-diamond":{n:22,f:function(t){var e=n.round(1.4*t,2),r=n.round(1.9*t,2),o="A "+r+","+r+" 0 0 1 ";return"M-"+e+",0"+o+"0,"+e+o+e+",0"+o+"0,-"+e+o+"-"+e+",0Z"}},"diamond-tall":{n:23,f:function(t){var e=n.round(.7*t,2),r=n.round(1.4*t,2);return"M0,"+r+"L"+e+",0L0,-"+r+"L-"+e+",0Z"}},"diamond-wide":{n:24,f:function(t){var e=n.round(1.4*t,2),r=n.round(.7*t,2);return"M0,"+r+"L"+e+",0L0,-"+r+"L-"+e+",0Z"}},hourglass:{n:25,f:function(t){var e=n.round(t,2);return"M"+e+","+e+"H-"+e+"L"+e+",-"+e+"H-"+e+"Z"},noDot:!0},bowtie:{n:26,f:function(t){var e=n.round(t,2);return"M"+e+","+e+"V-"+e+"L-"+e+","+e+"V-"+e+"Z"},noDot:!0},"circle-cross":{n:27,f:function(t){var e=n.round(t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(t){var e=n.round(t,2),r=n.round(t/Math.sqrt(2),2);return"M"+r+","+r+"L-"+r+",-"+r+"M"+r+",-"+r+"L-"+r+","+r+"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(t){var e=n.round(t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(t){var e=n.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e+"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(t){var e=n.round(1.3*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"ZM0,-"+e+"V"+e+"M-"+e+",0H"+e},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(t){var e=n.round(1.3*t,2),r=n.round(.65*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"ZM-"+r+",-"+r+"L"+r+","+r+"M-"+r+","+r+"L"+r+",-"+r},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(t){var e=n.round(1.4*t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e},needLine:!0,noDot:!0},"x-thin":{n:34,f:function(t){var e=n.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e},needLine:!0,noDot:!0},asterisk:{n:35,f:function(t){var e=n.round(1.2*t,2),r=n.round(.85*t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+r+","+r+"L-"+r+",-"+r+"M"+r+",-"+r+"L-"+r+","+r},needLine:!0,noDot:!0},hash:{n:36,f:function(t){var e=n.round(t/2,2),r=n.round(t,2);return"M"+e+","+r+"V-"+r+"m-"+r+",0V"+r+"M"+r+","+e+"H-"+r+"m0,-"+r+"H"+r},needLine:!0},"y-up":{n:37,f:function(t){var e=n.round(1.2*t,2),r=n.round(1.6*t,2),o=n.round(.8*t,2);return"M-"+e+","+o+"L0,0M"+e+","+o+"L0,0M0,-"+r+"L0,0"},needLine:!0,noDot:!0},"y-down":{n:38,f:function(t){var e=n.round(1.2*t,2),r=n.round(1.6*t,2),o=n.round(.8*t,2);return"M-"+e+",-"+o+"L0,0M"+e+",-"+o+"L0,0M0,"+r+"L0,0"},needLine:!0,noDot:!0},"y-left":{n:39,f:function(t){var e=n.round(1.2*t,2),r=n.round(1.6*t,2),o=n.round(.8*t,2);return"M"+o+","+e+"L0,0M"+o+",-"+e+"L0,0M-"+r+",0L0,0"},needLine:!0,noDot:!0},"y-right":{n:40,f:function(t){var e=n.round(1.2*t,2),r=n.round(1.6*t,2),o=n.round(.8*t,2);return"M-"+o+","+e+"L0,0M-"+o+",-"+e+"L0,0M"+r+",0L0,0"},needLine:!0,noDot:!0},"line-ew":{n:41,f:function(t){var e=n.round(1.4*t,2);return"M"+e+",0H-"+e},needLine:!0,noDot:!0},"line-ns":{n:42,f:function(t){var e=n.round(1.4*t,2);return"M0,"+e+"V-"+e},needLine:!0,noDot:!0},"line-ne":{n:43,f:function(t){var e=n.round(t,2);return"M"+e+",-"+e+"L-"+e+","+e},needLine:!0,noDot:!0},"line-nw":{n:44,f:function(t){var e=n.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e},needLine:!0,noDot:!0}}},{d3:104}],601:[function(t,e,r){"use strict";e.exports={visible:{valType:"boolean"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"]},symmetric:{valType:"boolean"},array:{valType:"data_array"},arrayminus:{valType:"data_array"},value:{valType:"number",min:0,dflt:10},valueminus:{valType:"number",min:0,dflt:10},traceref:{valType:"integer",min:0,dflt:0},tracerefminus:{valType:"integer",min:0,dflt:0},copy_ystyle:{valType:"boolean"},copy_zstyle:{valType:"boolean"},color:{valType:"color"},thickness:{valType:"number",min:0,dflt:2},width:{valType:"number",min:0},_deprecated:{opacity:{valType:"number"}}}},{}],602:[function(t,e,r){"use strict";function n(t,e,r,n){var i=e["error_"+n]||{},l=i.visible&&["linear","log"].indexOf(r.type)!==-1,u=[];if(l){for(var c=s(i),p=0;p<t.length;p++){var f=t[p],h=f[n];if(o(r.c2l(h))){var d=c(h,p);if(o(d[0])&&o(d[1])){var y=f[n+"s"]=h-d[0],m=f[n+"h"]=h+d[1];u.push(y,m)}}}a.expand(r,u,{padded:!0})}}var o=t("fast-isnumeric"),i=t("../../registry"),a=t("../../plots/cartesian/axes"),s=t("./compute_error");e.exports=function(t){for(var e=t.calcdata,r=0;r<e.length;r++){var o=e[r],s=o[0].trace;if(i.traceIs(s,"errorBarsOK")){var l=a.getFromId(t,s.xaxis),u=a.getFromId(t,s.yaxis);n(o,s,l,"x"),n(o,s,u,"y")}}}},{"../../plots/cartesian/axes":720,"../../registry":794,"./compute_error":603,"fast-isnumeric":113}],603:[function(t,e,r){"use strict";function n(t,e){return"percent"===t?function(t){return Math.abs(t*e/100)}:"constant"===t?function(){return Math.abs(e)}:"sqrt"===t?function(t){return Math.sqrt(Math.abs(t))}:void 0}e.exports=function(t){var e=t.type,r=t.symmetric;if("data"===e){var o=t.array,i=t.arrayminus;return r||void 0===i?function(t,e){var r=+o[e];return[r,r]}:function(t,e){return[+i[e],+o[e]]}}var a=n(e,t.value),s=n(e,t.valueminus);return r||void 0===t.valueminus?function(t){var e=a(t);return[e,e]}:function(t){return[s(t),a(t)]}}},{}],604:[function(t,e,r){"use strict";var n=t("fast-isnumeric"),o=t("../../registry"),i=t("../../lib"),a=t("./attributes");e.exports=function(t,e,r,s){function l(t,e){return i.coerce(p,c,a,t,e)}var u="error_"+s.axis,c=e[u]={},p=t[u]||{},f=void 0!==p.array||void 0!==p.value||"sqrt"===p.type,h=l("visible",f);if(h!==!1){var d=l("type","array"in p?"data":"percent"),y=!0;if("sqrt"!==d&&(y=l("symmetric",!(("data"===d?"arrayminus":"valueminus")in p))),"data"===d){var m=l("array");if(m||(c.array=[]),l("traceref"),!y){var v=l("arrayminus");v||(c.arrayminus=[]),l("tracerefminus")}}else"percent"!==d&&"constant"!==d||(l("value"),y||l("valueminus"));var g="copy_"+s.inherit+"style";if(s.inherit){var b=e["error_"+s.inherit];(b||{}).visible&&l(g,!(p.color||n(p.thickness)||n(p.width)))}s.inherit&&c[g]||(l("color",r),l("thickness"),l("width",o.traceIs(e,"gl3d")?0:4))}}},{"../../lib":681,"../../registry":794,"./attributes":601,"fast-isnumeric":113}],605:[function(t,e,r){"use strict";var n=e.exports={};n.attributes=t("./attributes"),n.supplyDefaults=t("./defaults"),n.calc=t("./calc"),n.calcFromTrace=function(t,e){for(var r=t.x||[],o=t.y,i=r.length||o.length,a=new Array(i),s=0;s<i;s++)a[s]={x:r[s],y:o[s]};return a[0].trace=t,n.calc({calcdata:[a],_fullLayout:e}),a},n.plot=t("./plot"),n.style=t("./style"),n.hoverInfo=function(t,e,r){(e.error_y||{}).visible&&(r.yerr=t.yh-t.y,e.error_y.symmetric||(r.yerrneg=t.y-t.ys)),(e.error_x||{}).visible&&(r.xerr=t.xh-t.x,e.error_x.symmetric||(r.xerrneg=t.x-t.xs))}},{"./attributes":601,"./calc":602,"./defaults":604,"./plot":606,"./style":607}],606:[function(t,e,r){"use strict";function n(t,e,r){var n={x:e.c2p(t.x),y:r.c2p(t.y)};return void 0!==t.yh&&(n.yh=r.c2p(t.yh),n.ys=r.c2p(t.ys),i(n.ys)||(n.noYS=!0,n.ys=r.c2p(t.ys,!0))),void 0!==t.xh&&(n.xh=e.c2p(t.xh),n.xs=e.c2p(t.xs),i(n.xs)||(n.noXS=!0,n.xs=e.c2p(t.xs,!0))),n}var o=t("d3"),i=t("fast-isnumeric"),a=t("../../traces/scatter/subtypes");e.exports=function(t,e,r){var s,l=e.xaxis,u=e.yaxis,c=r&&r.duration>0;t.each(function(t){var e,p=t[0].trace,f=p.error_x||{},h=p.error_y||{};p.ids&&(e=function(t){return t.id});var d=a.hasMarkers(p)&&p.marker.maxdisplayed>0;if(h.visible||f.visible){var y=o.select(this).selectAll("g.errorbar").data(t,e);y.exit().remove(),y.style("opacity",1);var m=y.enter().append("g").classed("errorbar",!0);c&&m.style("opacity",0).transition().duration(r.duration).style("opacity",1),y.each(function(t){var e=o.select(this),a=n(t,l,u);if(!d||t.vis){var p;if(h.visible&&i(a.x)&&i(a.yh)&&i(a.ys)){var y=h.width;p="M"+(a.x-y)+","+a.yh+"h"+2*y+"m-"+y+",0V"+a.ys,a.noYS||(p+="m-"+y+",0h"+2*y);var m=e.select("path.yerror");s=!m.size(),s?m=e.append("path").classed("yerror",!0):c&&(m=m.transition().duration(r.duration).ease(r.easing)),m.attr("d",p)}if(f.visible&&i(a.y)&&i(a.xh)&&i(a.xs)){var v=(f.copy_ystyle?h:f).width;p="M"+a.xh+","+(a.y-v)+"v"+2*v+"m0,-"+v+"H"+a.xs,a.noXS||(p+="m0,-"+v+"v"+2*v);var g=e.select("path.xerror");s=!g.size(),s?g=e.append("path").classed("xerror",!0):c&&(g=g.transition().duration(r.duration).ease(r.easing)),g.attr("d",p)}}})}})}},{"../../traces/scatter/subtypes":944,d3:104,"fast-isnumeric":113}],607:[function(t,e,r){"use strict";var n=t("d3"),o=t("../color");e.exports=function(t){t.each(function(t){var e=t[0].trace,r=e.error_y||{},i=e.error_x||{},a=n.select(this);a.selectAll("path.yerror").style("stroke-width",r.thickness+"px").call(o.stroke,r.color),i.copy_ystyle&&(i=r),a.selectAll("path.xerror").style("stroke-width",i.thickness+"px").call(o.stroke,i.color)})}},{"../color":576,d3:104}],608:[function(t,e,r){"use strict";var n=t("../../plots/cartesian/constants");e.exports={_isLinkedToArray:"image",visible:{valType:"boolean",dflt:!0},source:{valType:"string"},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},sizex:{valType:"number",dflt:0},sizey:{valType:"number",dflt:0},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain"},opacity:{valType:"number",min:0,max:1,dflt:1},x:{valType:"any",dflt:0},y:{valType:"any",dflt:0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top"},xref:{valType:"enumerated",values:["paper",n.idRegex.x.toString()],dflt:"paper"},yref:{valType:"enumerated",values:["paper",n.idRegex.y.toString()],dflt:"paper"}}},{"../../plots/cartesian/constants":725}],609:[function(t,e,r){"use strict";var n=t("fast-isnumeric"),o=t("../../lib/to_log_range");e.exports=function(t,e,r,i){e=e||{};var a="log"===r&&"linear"===e.type,s="linear"===r&&"log"===e.type;if(a||s)for(var l,u,c=t._fullLayout.images,p=e._id.charAt(0),f=0;f<c.length;f++)if(l=c[f],u="images["+f+"].",l[p+"ref"]===e._id){var h=l[p],d=l["size"+p],y=null,m=null;if(a){y=o(h,e.range);var v=d/Math.pow(10,y)/2;m=2*Math.log(v+Math.sqrt(1+v*v))/Math.LN10}else y=Math.pow(10,h),m=y*(Math.pow(10,d/2)-Math.pow(10,-d/2));n(y)?n(m)||(m=null):(y=null,m=null),i(u+p,y),i(u+"size"+p,m)}}},{"../../lib/to_log_range":701,"fast-isnumeric":113}],610:[function(t,e,r){"use strict";function n(t,e,r){function n(r,n){return o.coerce(t,e,s,r,n)}var a=n("source"),l=n("visible",!!a);if(!l)return e;n("layer"),n("xanchor"),n("yanchor"),n("sizex"),n("sizey"),n("sizing"),n("opacity");for(var u={_fullLayout:r},c=["x","y"],p=0;p<2;p++){var f=c[p],h=i.coerceRef(t,e,u,f,"paper");i.coercePosition(e,u,n,h,f,0)}return e}var o=t("../../lib"),i=t("../../plots/cartesian/axes"),a=t("../../plots/array_container_defaults"),s=t("./attributes"),l="images";e.exports=function(t,e){var r={name:l,handleItemDefaults:n};a(t,e,r)}},{"../../lib":681,"../../plots/array_container_defaults":717,"../../plots/cartesian/axes":720,"./attributes":608}],611:[function(t,e,r){"use strict";var n=t("d3"),o=t("../drawing"),i=t("../../plots/cartesian/axes"),a=t("../../constants/xmlns_namespaces");e.exports=function(t){function e(e){var r=n.select(this);if(!this.img||this.img.src!==e.source){r.attr("xmlns",a.svg);var o=new Promise(function(t){function n(){r.remove(),t()}var o=new Image;this.img=o,o.setAttribute("crossOrigin","anonymous"),o.onerror=n,o.onload=function(){var t=document.createElement("canvas");t.width=this.width,t.height=this.height;var e=t.getContext("2d");e.drawImage(this,0,0);var n=t.toDataURL("image/png");r.attr("xlink:href",n)},r.on("error",n),r.on("load",t),o.src=e.source}.bind(this));t._promises.push(o)}}function r(e){var r=n.select(this),a=i.getFromId(t,e.xref),s=i.getFromId(t,e.yref),l=u._size,c=a?Math.abs(a.l2p(e.sizex)-a.l2p(0)):e.sizex*l.w,p=s?Math.abs(s.l2p(e.sizey)-s.l2p(0)):e.sizey*l.h,f=c*y.x[e.xanchor].offset,h=p*y.y[e.yanchor].offset,d=y.x[e.xanchor].sizing+y.y[e.yanchor].sizing,m=(a?a.r2p(e.x)+a._offset:e.x*l.w+l.l)+f,v=(s?s.r2p(e.y)+s._offset:l.h-e.y*l.h+l.t)+h;switch(e.sizing){case"fill":d+=" slice";break;case"stretch":d="none"}r.attr({x:m,y:v,width:c,height:p,preserveAspectRatio:d,opacity:e.opacity});var g=a?a._id:"",b=s?s._id:"",x=g+b;r.call(o.setClipUrl,x?"clip"+u._uid+x:null)}var s,l,u=t._fullLayout,c=[],p={},f=[];for(l=0;l<u.images.length;l++){var h=u.images[l];if(h.visible)if("below"===h.layer&&"paper"!==h.xref&&"paper"!==h.yref){s=h.xref+h.yref;var d=u._plots[s];if(!d){f.push(h);continue}d.mainplot&&(s=d.mainplot.id),p[s]||(p[s]=[]),p[s].push(h)}else"above"===h.layer?c.push(h):f.push(h)}var y={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}}},m=u._imageLowerLayer.selectAll("image").data(f),v=u._imageUpperLayer.selectAll("image").data(c);m.enter().append("image"),v.enter().append("image"),m.exit().remove(),v.exit().remove(),m.each(function(t){e.bind(this)(t),r.bind(this)(t)}),v.each(function(t){e.bind(this)(t),r.bind(this)(t)});var g=Object.keys(u._plots);for(l=0;l<g.length;l++){s=g[l];var b=u._plots[s];if(b.imagelayer){var x=b.imagelayer.selectAll("image").data(p[s]||[]);x.enter().append("image"),x.exit().remove(),x.each(function(t){e.bind(this)(t),r.bind(this)(t)})}}}},{"../../constants/xmlns_namespaces":665,"../../plots/cartesian/axes":720,"../drawing":599,d3:104}],612:[function(t,e,r){"use strict";e.exports={moduleType:"component",name:"images",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),draw:t("./draw"),convertCoords:t("./convert_coords")}},{"./attributes":608,"./convert_coords":609,"./defaults":610,"./draw":611}],613:[function(t,e,r){"use strict";r.isRightAnchor=function(t){return"right"===t.xanchor||"auto"===t.xanchor&&t.x>=2/3},r.isCenterAnchor=function(t){return"center"===t.xanchor||"auto"===t.xanchor&&t.x>1/3&&t.x<2/3},r.isBottomAnchor=function(t){return"bottom"===t.yanchor||"auto"===t.yanchor&&t.y<=1/3},r.isMiddleAnchor=function(t){return"middle"===t.yanchor||"auto"===t.yanchor&&t.y>1/3&&t.y<2/3}},{}],614:[function(t,e,r){"use strict";var n=t("../../plots/font_attributes"),o=t("../color/attributes"),i=t("../../lib/extend").extendFlat;e.exports={bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:o.defaultLine},borderwidth:{valType:"number",min:0,dflt:0},font:i({},n,{}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"]},tracegroupgap:{valType:"number",min:0,dflt:10},x:{valType:"number",min:-2,max:3,dflt:1.02},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto"}}},{"../../lib/extend":673,"../../plots/font_attributes":740,"../color/attributes":575}],615:[function(t,e,r){"use strict";e.exports={scrollBarWidth:4,scrollBarHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4}},{}],616:[function(t,e,r){"use strict";var n=t("../../registry"),o=t("../../lib"),i=t("./attributes"),a=t("../../plots/layout_attributes"),s=t("./helpers");e.exports=function(t,e,r){function l(t,e){return o.coerce(h,d,i,t,e)}for(var u,c,p,f,h=t.legend||{},d=e.legend={},y=0,m="normal",v=0;v<r.length;v++){var g=r[v];s.legendGetsTrace(g)&&(y++,n.traceIs(g,"pie")&&y++),(n.traceIs(g,"bar")&&"stack"===e.barmode||["tonextx","tonexty"].indexOf(g.fill)!==-1)&&(m=s.isGrouped({traceorder:m})?"grouped+reversed":"reversed"),void 0!==g.legendgroup&&""!==g.legendgroup&&(m=s.isReversed({traceorder:m})?"reversed+grouped":"grouped")}var b=o.coerce(t,e,a,"showlegend",y>1);if(b!==!1){if(l("bgcolor",e.paper_bgcolor),l("bordercolor"),l("borderwidth"),o.coerceFont(l,"font",e.font),l("orientation"),"h"===d.orientation){var x=t.xaxis;x&&x.rangeslider&&x.rangeslider.visible?(u=0,p="left",c=1.1,f="bottom"):(u=0,p="left",c=-.1,f="top")}l("traceorder",m),s.isGrouped(e.legend)&&l("tracegroupgap"),l("x",u),l("xanchor",p),l("y",c),l("yanchor",f),o.noneOrAll(h,d,["x","y"])}}},{"../../lib":681,"../../plots/layout_attributes":770,"../../registry":794,"./attributes":614,"./helpers":619}],617:[function(t,e,r){"use strict";function n(t,e){function r(r){g.convertToTspans(r,function(){r.selectAll("tspan.line").attr({x:r.attr("x")}),t.call(a,e)})}var n=t.data()[0][0],o=e._fullLayout,i=n.trace,s=d.traceIs(i,"pie"),l=i.index,u=s?n.label:i.name,c=t.selectAll("text.legendtext").data([0]);c.enter().append("text").classed("legendtext",!0),c.attr({x:40,y:0,"data-unformatted":u}).style("text-anchor","start").classed("user-select-none",!0).call(m.font,o.legend.font).text(u),e._context.editable&&!s?c.call(g.makeEditable).call(r).on("edit",function(t){this.attr({"data-unformatted":t}),this.text(t).call(r),this.text()||(t="    ");var o,i=n.trace._fullInput||{};if(["ohlc","candlestick"].indexOf(i.type)!==-1){var a=n.trace.transforms,s=a[a.length-1].direction;o=s+".name"}else o="name";p.restyle(e,o,t,l)}):c.call(r)}function o(t,e){var r,n=1,o=t.selectAll("rect").data([0]);o.enter().append("rect").classed("legendtoggle",!0).style("cursor","pointer").attr("pointer-events","all").call(v.fill,"rgba(0,0,0,0)"),o.on("mousedown",function(){r=(new Date).getTime(),r-e._legendMouseDownTime<E?n+=1:(n=1,e._legendMouseDownTime=r)}),o.on("mouseup",function(){if(!e._dragged&&!e._editing){var r=e._fullLayout.legend;(new Date).getTime()-e._legendMouseDownTime>E&&(n=Math.max(n-1,1)),1===n?r._clickTimeout=setTimeout(function(){i(t,e,n)},E):2===n&&(r._clickTimeout&&clearTimeout(r._clickTimeout),e._legendMouseDownTime=0,i(t,e,n))}})}function i(t,e,r){if(!e._dragged&&!e._editing){var n,o,i=e._fullLayout.hiddenlabels?e._fullLayout.hiddenlabels.slice():[],a=t.data()[0][0],s=e._fullData,l=a.trace,u=l.legendgroup,c=[];if(1===r&&S&&e.data&&e._context.showTips?(f.notifier("Double click on legend to isolate individual trace","long"),S=!1):S=!1,d.traceIs(l,"pie")){var h=a.label,y=i.indexOf(h);1===r?y===-1?i.push(h):i.splice(y,1):2===r&&(i=[],e.calcdata[0].forEach(function(t){h!==t.label&&i.push(t.label)}),e._fullLayout.hiddenlabels&&e._fullLayout.hiddenlabels.length===i.length&&y===-1&&(i=[])),p.relayout(e,"hiddenlabels",i)}else{var m,v=[],g=[];for(m=0;m<s.length;m++)v.push(m),g.push("legendonly");if(""===u)c=[l.index],g[l.index]=!0;else for(m=0;m<s.length;m++)n=s[m],n.legendgroup===u&&(c.push(n.index),g[v.indexOf(m)]=!0);if(1===r)o=l.visible!==!0||"legendonly",p.restyle(e,"visible",o,c);else if(2===r){var b=!0;for(m=0;m<s.length;m++)if(s[m].visible!==g[m]){b=!1;break}b&&(g=!0),p.restyle(e,"visible",g,v)}}}}function a(t,e){var r,n,o=t.data()[0][0],i=t.select("g[class*=math-group]"),a=e._fullLayout.legend,s=1.3*a.font.size;if(!o.trace.showlegend)return void t.remove();if(i.node()){var l=m.bBox(i.node());r=l.height,n=l.width,m.setTranslate(i,0,r/4)}else{var u=t.selectAll(".legendtext"),c=t.selectAll(".legendtext>tspan"),p=c[0].length||1;r=s*p,n=u.node()&&m.bBox(u.node()).width;var f=s*(.3+(1-p)/2);u.attr("y",f),c.attr("y",f)}r=Math.max(r,16)+3,o.height=r,o.width=n}function s(t,e,r){var n=t._fullLayout,o=n.legend,i=o.borderwidth,a=T.isGrouped(o);if(T.isVertical(o))a&&e.each(function(t,e){m.setTranslate(this,0,e*o.tracegroupgap)}),o.width=0,o.height=0,r.each(function(t){var e=t[0],r=e.height,n=e.width;m.setTranslate(this,i,5+i+o.height+r/2),o.height+=r,o.width=Math.max(o.width,n)}),o.width+=45+2*i,o.height+=10+2*i,a&&(o.height+=(o._lgroupsLength-1)*o.tracegroupgap),o.width=Math.ceil(o.width),o.height=Math.ceil(o.height),r.each(function(e){var r=e[0],n=c.select(this).select(".legendtoggle");n.call(m.setRect,0,-r.height/2,(t._context.editable?0:o.width)+40,r.height)});else if(a){o.width=0,o.height=0;for(var s=[o.width],l=e.data(),u=0,p=l.length;u<p;u++){var f=l[u].map(function(t){return t[0].width}),h=40+Math.max.apply(null,f);o.width+=o.tracegroupgap+h,s.push(o.width)}e.each(function(t,e){m.setTranslate(this,s[e],0)}),e.each(function(){var t=c.select(this),e=t.selectAll("g.traces"),r=0;e.each(function(t){var e=t[0],n=e.height;m.setTranslate(this,0,5+i+r+n/2),r+=n}),o.height=Math.max(o.height,r)}),o.height+=10+2*i,o.width+=2*i,o.width=Math.ceil(o.width),o.height=Math.ceil(o.height),r.each(function(e){var r=e[0],n=c.select(this).select(".legendtoggle");n.call(m.setRect,0,-r.height/2,t._context.editable?0:o.width,r.height)})}else{o.width=0,o.height=0;var d=0,y=0,v=0,g=0;r.each(function(t){v=Math.max(40+t[0].width,v)}),r.each(function(t){var e=t[0],r=v,a=o.tracegroupgap||5;i+g+a+r>n.width-(n.margin.r+n.margin.l)&&(g=0,d+=y,o.height=o.height+y,y=0),m.setTranslate(this,i+g,5+i+e.height/2+d),o.width+=a+r,o.height=Math.max(o.height,e.height),g+=a+r,y=Math.max(e.height,y)}),o.width+=2*i,o.height+=10+2*i,o.width=Math.ceil(o.width),o.height=Math.ceil(o.height),r.each(function(e){var r=e[0],n=c.select(this).select(".legendtoggle");n.call(m.setRect,0,-r.height/2,t._context.editable?0:o.width,r.height)})}}function l(t){var e=t._fullLayout,r=e.legend,n="left";M.isRightAnchor(r)?n="right":M.isCenterAnchor(r)&&(n="center");var o="top";M.isBottomAnchor(r)?o="bottom":M.isMiddleAnchor(r)&&(o="middle"),h.autoMargin(t,"legend",{x:r.x,y:r.y,l:r.width*({right:1,center:.5}[n]||0),r:r.width*({
left:1,center:.5}[n]||0),b:r.height*({top:1,middle:.5}[o]||0),t:r.height*({bottom:1,middle:.5}[o]||0)})}function u(t){var e=t._fullLayout,r=e.legend,n="left";M.isRightAnchor(r)?n="right":M.isCenterAnchor(r)&&(n="center"),h.autoMargin(t,"legend",{x:r.x,y:.5,l:r.width*({right:1,center:.5}[n]||0),r:r.width*({left:1,center:.5}[n]||0),b:0,t:0})}var c=t("d3"),p=t("../../plotly"),f=t("../../lib"),h=t("../../plots/plots"),d=t("../../registry"),y=t("../dragelement"),m=t("../drawing"),v=t("../color"),g=t("../../lib/svg_text_utils"),b=t("./constants"),x=t("../../constants/interactions"),_=t("./get_legend_data"),w=t("./style"),T=t("./helpers"),M=t("./anchor_utils"),S=!0,E=x.DBLCLICKDELAY;e.exports=function(t){function e(t,e){A.attr("data-scroll",e).call(m.setTranslate,0,e),P.call(m.setRect,U,t,b.scrollBarWidth,b.scrollBarHeight),k.select("rect").attr({y:g.borderwidth-e})}var r=t._fullLayout,a="legend"+r._uid;if(r._infolayer&&t.calcdata){t._legendMouseDownTime||(t._legendMouseDownTime=0);var g=r.legend,x=r.showlegend&&_(t.calcdata,g),T=r.hiddenlabels||[];if(!r.showlegend||!x.length)return r._infolayer.selectAll(".legend").remove(),r._topdefs.select("#"+a).remove(),void h.autoMargin(t,"legend");var S=r._infolayer.selectAll("g.legend").data([0]);S.enter().append("g").attr({class:"legend","pointer-events":"all"});var k=r._topdefs.selectAll("#"+a).data([0]);k.enter().append("clipPath").attr("id",a).append("rect");var C=S.selectAll("rect.bg").data([0]);C.enter().append("rect").attr({class:"bg","shape-rendering":"crispEdges"}),C.call(v.stroke,g.bordercolor),C.call(v.fill,g.bgcolor),C.style("stroke-width",g.borderwidth+"px");var A=S.selectAll("g.scrollbox").data([0]);A.enter().append("g").attr("class","scrollbox");var P=S.selectAll("rect.scrollbar").data([0]);P.enter().append("rect").attr({class:"scrollbar",rx:20,ry:2,width:0,height:0}).call(v.fill,"#808BA4");var L=A.selectAll("g.groups").data(x);L.enter().append("g").attr("class","groups"),L.exit().remove();var D=L.selectAll("g.traces").data(f.identity);D.enter().append("g").attr("class","traces"),D.exit().remove(),D.call(w).style("opacity",function(t){var e=t[0].trace;return d.traceIs(e,"pie")?T.indexOf(t[0].label)!==-1?.5:1:"legendonly"===e.visible?.5:1}).each(function(){c.select(this).call(n,t).call(o,t)});var O=0!==S.enter().size();O&&(s(t,L,D),l(t));var I=0,R=r.width,N=0,j=r.height;s(t,L,D),g.height>j?u(t):l(t);var F=r._size,z=F.l+F.w*g.x,B=F.t+F.h*(1-g.y);M.isRightAnchor(g)?z-=g.width:M.isCenterAnchor(g)&&(z-=g.width/2),M.isBottomAnchor(g)?B-=g.height:M.isMiddleAnchor(g)&&(B-=g.height/2);var U=g.width,V=F.w;U>V?(z=F.l,U=V):(z+U>R&&(z=R-U),z<I&&(z=I),U=Math.min(R-z,g.width));var H=g.height,W=F.h;H>W?(B=F.t,H=W):(B+H>j&&(B=j-H),B<N&&(B=N),H=Math.min(j-B,g.height)),m.setTranslate(S,z,B);var q,G,Y=H-b.scrollBarHeight-2*b.scrollBarMargin,X=g.height-H;if(g.height<=H||t._context.staticPlot)C.attr({width:U-g.borderwidth,height:H-g.borderwidth,x:g.borderwidth/2,y:g.borderwidth/2}),m.setTranslate(A,0,0),k.select("rect").attr({width:U-2*g.borderwidth,height:H-2*g.borderwidth,x:g.borderwidth,y:g.borderwidth}),A.call(m.setClipUrl,a);else{q=b.scrollBarMargin,G=A.attr("data-scroll")||0,C.attr({width:U-2*g.borderwidth+b.scrollBarWidth+b.scrollBarMargin,height:H-g.borderwidth,x:g.borderwidth/2,y:g.borderwidth/2}),k.select("rect").attr({width:U-2*g.borderwidth+b.scrollBarWidth+b.scrollBarMargin,height:H-2*g.borderwidth,x:g.borderwidth,y:g.borderwidth-G}),A.call(m.setClipUrl,a),O&&e(q,G),S.on("wheel",null),S.on("wheel",function(){G=f.constrain(A.attr("data-scroll")-c.event.deltaY/Y*X,-X,0),q=b.scrollBarMargin-G/X*Y,e(q,G),c.event.preventDefault()}),P.on(".drag",null),A.on(".drag",null);var K=c.behavior.drag().on("drag",function(){q=f.constrain(c.event.y-b.scrollBarHeight/2,b.scrollBarMargin,b.scrollBarMargin+Y),G=-(q-b.scrollBarMargin)/Y*X,e(q,G)});P.call(K),A.call(K)}if(t._context.editable){var Z,J,$,Q;S.classed("cursor-move",!0),y.init({element:S.node(),prepFn:function(){var t=m.getTranslate(S);$=t.x,Q=t.y},moveFn:function(t,e){var r=$+t,n=Q+e;m.setTranslate(S,r,n),Z=y.align(r,0,F.l,F.l+F.w,g.xanchor),J=y.align(n,0,F.t+F.h,F.t,g.yanchor)},doneFn:function(e,n,o){if(e&&void 0!==Z&&void 0!==J)p.relayout(t,{"legend.x":Z,"legend.y":J});else{var a=r._infolayer.selectAll("g.traces").filter(function(){var t=this.getBoundingClientRect();return o.clientX>=t.left&&o.clientX<=t.right&&o.clientY>=t.top&&o.clientY<=t.bottom});a.size()>0&&(1===n?S._clickTimeout=setTimeout(function(){i(a,t,n)},E):2===n&&(S._clickTimeout&&clearTimeout(S._clickTimeout),i(a,t,n)))}}})}}}},{"../../constants/interactions":662,"../../lib":681,"../../lib/svg_text_utils":700,"../../plotly":715,"../../plots/plots":779,"../../registry":794,"../color":576,"../dragelement":597,"../drawing":599,"./anchor_utils":613,"./constants":615,"./get_legend_data":618,"./helpers":619,"./style":621,d3:104}],618:[function(t,e,r){"use strict";var n=t("../../registry"),o=t("./helpers");e.exports=function(t,e){function r(t,r){if(""!==t&&o.isGrouped(e))l.indexOf(t)===-1?(l.push(t),u=!0,s[t]=[[r]]):s[t].push([r]);else{var n="~~i"+p;l.push(n),s[n]=[[r]],p++}}var i,a,s={},l=[],u=!1,c={},p=0;for(i=0;i<t.length;i++){var f=t[i],h=f[0],d=h.trace,y=d.legendgroup;if(o.legendGetsTrace(d)&&d.showlegend)if(n.traceIs(d,"pie"))for(c[y]||(c[y]={}),a=0;a<f.length;a++){var m=f[a].label;c[y][m]||(r(y,{label:m,color:f[a].color,i:f[a].i,trace:d}),c[y][m]=!0)}else r(y,h)}if(!l.length)return[];var v,g,b=l.length;if(u&&o.isGrouped(e))for(g=new Array(b),i=0;i<b;i++)v=s[l[i]],g[i]=o.isReversed(e)?v.reverse():v;else{for(g=[new Array(b)],i=0;i<b;i++)v=s[l[i]][0],g[0][o.isReversed(e)?b-i-1:i]=v;b=1}return e._lgroupsLength=b,g}},{"../../registry":794,"./helpers":619}],619:[function(t,e,r){"use strict";var n=t("../../registry");r.legendGetsTrace=function(t){return t.visible&&n.traceIs(t,"showLegend")},r.isGrouped=function(t){return(t.traceorder||"").indexOf("grouped")!==-1},r.isVertical=function(t){return"h"!==t.orientation},r.isReversed=function(t){return(t.traceorder||"").indexOf("reversed")!==-1}},{"../../registry":794}],620:[function(t,e,r){"use strict";e.exports={moduleType:"component",name:"legend",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),draw:t("./draw"),style:t("./style")}},{"./attributes":614,"./defaults":616,"./draw":617,"./style":621}],621:[function(t,e,r){"use strict";function n(t){var e=t[0].trace,r=e.visible&&e.fill&&"none"!==e.fill,n=h.hasLines(e),o=l.select(this).select(".legendfill").selectAll("path").data(r?[t]:[]);o.enter().append("path").classed("js-fill",!0),o.exit().remove(),o.attr("d","M5,0h30v6h-30z").call(p.fillGroupStyle);var i=l.select(this).select(".legendlines").selectAll("path").data(n?[t]:[]);i.enter().append("path").classed("js-line",!0).attr("d","M5,0h30"),i.exit().remove(),i.call(p.lineGroupStyle)}function o(t){function e(t,e,r){var n=c.nestedProperty(a,t).get(),o=Array.isArray(n)&&e?e(n):n;if(r){if(o<r[0])return r[0];if(o>r[1])return r[1]}return o}function r(t){return t[0]}var n,o,i=t[0],a=i.trace,s=h.hasMarkers(a),u=h.hasText(a),f=h.hasLines(a);if(s||u||f){var d={},y={};s&&(d.mc=e("marker.color",r),d.mo=e("marker.opacity",c.mean,[.2,1]),d.ms=e("marker.size",c.mean,[2,16]),d.mlc=e("marker.line.color",r),d.mlw=e("marker.line.width",c.mean,[0,5]),y.marker={sizeref:1,sizemin:1,sizemode:"diameter"}),f&&(y.line={width:e("line.width",r,[0,10])}),u&&(d.tx="Aa",d.tp=e("textposition",r),d.ts=10,d.tc=e("textfont.color",r),d.tf=e("textfont.family",r)),n=[c.minExtend(i,d)],o=c.minExtend(a,y)}var m=l.select(this).select("g.legendpoints"),v=m.selectAll("path.scatterpts").data(s?n:[]);v.enter().append("path").classed("scatterpts",!0).attr("transform","translate(20,0)"),v.exit().remove(),v.call(p.pointStyle,o),s&&(n[0].mrc=3);var g=m.selectAll("g.pointtext").data(u?n:[]);g.enter().append("g").classed("pointtext",!0).append("text").attr("transform","translate(20,0)"),g.exit().remove(),g.selectAll("text").call(p.textPointStyle,o)}function i(t){var e=t[0].trace,r=e.marker||{},n=r.line||{},o=l.select(this).select("g.legendpoints").selectAll("path.legendbar").data(u.traceIs(e,"bar")?[t]:[]);o.enter().append("path").classed("legendbar",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),o.exit().remove(),o.each(function(t){var e=l.select(this),o=t[0],i=(o.mlw+1||n.width+1)-1;e.style("stroke-width",i+"px").call(f.fill,o.mc||r.color),i&&e.call(f.stroke,o.mlc||n.color)})}function a(t){var e=t[0].trace,r=l.select(this).select("g.legendpoints").selectAll("path.legendbox").data(u.traceIs(e,"box")&&e.visible?[t]:[]);r.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),r.exit().remove(),r.each(function(){var t=e.line.width,r=l.select(this);r.style("stroke-width",t+"px").call(f.fill,e.fillcolor),t&&r.call(f.stroke,e.line.color)})}function s(t){var e=t[0].trace,r=l.select(this).select("g.legendpoints").selectAll("path.legendpie").data(u.traceIs(e,"pie")&&e.visible?[t]:[]);r.enter().append("path").classed("legendpie",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),r.exit().remove(),r.size()&&r.call(d,t[0],e)}var l=t("d3"),u=t("../../registry"),c=t("../../lib"),p=t("../drawing"),f=t("../color"),h=t("../../traces/scatter/subtypes"),d=t("../../traces/pie/style_one");e.exports=function(t){t.each(function(t){var e=l.select(this),r=e.selectAll("g.layers").data([0]);r.enter().append("g").classed("layers",!0),r.style("opacity",t[0].trace.opacity);var n=r.selectAll("g.legendfill").data([t]);n.enter().append("g").classed("legendfill",!0);var o=r.selectAll("g.legendlines").data([t]);o.enter().append("g").classed("legendlines",!0);var i=r.selectAll("g.legendsymbols").data([t]);i.enter().append("g").classed("legendsymbols",!0),i.selectAll("g.legendpoints").data([t]).enter().append("g").classed("legendpoints",!0)}).each(i).each(a).each(s).each(n).each(o)}},{"../../lib":681,"../../registry":794,"../../traces/pie/style_one":918,"../../traces/scatter/subtypes":944,"../color":576,"../drawing":599,d3:104}],622:[function(t,e,r){"use strict";function n(t,e){var r=e.currentTarget,n=r.getAttribute("data-attr"),o=r.getAttribute("data-val")||!0,i=t._fullLayout,a={};if("zoom"===n){for(var s,l,c="in"===o?.5:2,f=(1+c)/2,h=(1-c)/2,d=p.list(t,null,!0),y=0;y<d.length;y++)if(s=d[y],!s.fixedrange)if(l=s._name,"auto"===o)a[l+".autorange"]=!0;else if("reset"===o)if(void 0===s._rangeInitial)a[l+".autorange"]=!0;else{var m=s._rangeInitial.slice();a[l+".range[0]"]=m[0],a[l+".range[1]"]=m[1]}else{var v=[s.r2l(s.range[0]),s.r2l(s.range[1])],g=[f*v[0]+h*v[1],f*v[1]+h*v[0]];a[l+".range[0]"]=s.l2r(g[0]),a[l+".range[1]"]=s.l2r(g[1])}}else"hovermode"!==n||"x"!==o&&"y"!==o||(o=i._isHoriz?"y":"x",r.setAttribute("data-val",o)),a[n]=o;u.relayout(t,a)}function o(t,e){for(var r=e.currentTarget,n=r.getAttribute("data-attr"),o=r.getAttribute("data-val")||!0,i=t._fullLayout,a=c.getSubplotIds(i,"gl3d"),s={},l=n.split("."),p=0;p<a.length;p++)s[a[p]+"."+l[1]]=o;u.relayout(t,s)}function i(t,e){for(var r=e.currentTarget,n=r.getAttribute("data-attr"),o=t._fullLayout,i=c.getSubplotIds(o,"gl3d"),a={},s=0;s<i.length;s++){var l=i[s],p=l+".camera",h=o[l]._scene;"resetDefault"===n?a[p]=null:"resetLastSave"===n&&(a[p]=f.extendDeep({},h.cameraInitial))}u.relayout(t,a)}function a(t,e){var r=e.currentTarget,n=r._previousVal||!1,o=t.layout,i=t._fullLayout,a=c.getSubplotIds(i,"gl3d"),s=["xaxis","yaxis","zaxis"],l=["showspikes","spikesides","spikethickness","spikecolor"],p={},h={},d={};if(n)d=f.extendDeep(o,n),r._previousVal=null;else{d={"allaxes.showspikes":!1};for(var y=0;y<a.length;y++){var m=a[y],v=i[m],g=p[m]={};g.hovermode=v.hovermode,d[m+".hovermode"]=!1;for(var b=0;b<3;b++){var x=s[b];h=g[x]={};for(var _=0;_<l.length;_++){var w=l[_];h[w]=v[x][w]}}}r._previousVal=f.extendDeep({},p)}u.relayout(t,d)}function s(t,e){for(var r=e.currentTarget,n=r.getAttribute("data-attr"),o=r.getAttribute("data-val")||!0,i=t._fullLayout,a=c.getSubplotIds(i,"geo"),s=0;s<a.length;s++){var l=i[a[s]]._subplot;if("zoom"===n){var u=l.projection.scale(),p="in"===o?2*u:.5*u;l.projection.scale(p),l.zoom.scale(p),l.render()}else"reset"===n&&l.zoomReset()}}function l(t){var e,r=t._fullLayout;e=r._has("cartesian")?r._isHoriz?"y":"x":"closest";var n=!t._fullLayout.hovermode&&e;u.relayout(t,"hovermode",n)}var u=t("../../plotly"),c=t("../../plots/plots"),p=t("../../plots/cartesian/axes"),f=t("../../lib"),h=t("../../snapshot/download"),d=t("../../../build/ploticon"),y=e.exports={};y.toImage={name:"toImage",title:"Download plot as a png",icon:d.camera,click:function(t){var e="png";f.notifier("Taking snapshot - this may take a few seconds","long"),f.isIE()&&(f.notifier("IE only supports svg.  Changing format to svg.","long"),e="svg"),h(t,{format:e}).then(function(t){f.notifier("Snapshot succeeded - "+t,"long")}).catch(function(){f.notifier("Sorry there was a problem downloading your snapshot!","long")})}},y.sendDataToCloud={name:"sendDataToCloud",title:"Save and edit plot in cloud",icon:d.disk,click:function(t){c.sendDataToCloud(t)}},y.zoom2d={name:"zoom2d",title:"Zoom",attr:"dragmode",val:"zoom",icon:d.zoombox,click:n},y.pan2d={name:"pan2d",title:"Pan",attr:"dragmode",val:"pan",icon:d.pan,click:n},y.select2d={name:"select2d",title:"Box Select",attr:"dragmode",val:"select",icon:d.selectbox,click:n},y.lasso2d={name:"lasso2d",title:"Lasso Select",attr:"dragmode",val:"lasso",icon:d.lasso,click:n},y.zoomIn2d={name:"zoomIn2d",title:"Zoom in",attr:"zoom",val:"in",icon:d.zoom_plus,click:n},y.zoomOut2d={name:"zoomOut2d",title:"Zoom out",attr:"zoom",val:"out",icon:d.zoom_minus,click:n},y.autoScale2d={name:"autoScale2d",title:"Autoscale",attr:"zoom",val:"auto",icon:d.autoscale,click:n},y.resetScale2d={name:"resetScale2d",title:"Reset axes",attr:"zoom",val:"reset",icon:d.home,click:n},y.hoverClosestCartesian={name:"hoverClosestCartesian",title:"Show closest data on hover",attr:"hovermode",val:"closest",icon:d.tooltip_basic,gravity:"ne",click:n},y.hoverCompareCartesian={name:"hoverCompareCartesian",title:"Compare data on hover",attr:"hovermode",val:function(t){return t._fullLayout._isHoriz?"y":"x"},icon:d.tooltip_compare,gravity:"ne",click:n},y.zoom3d={name:"zoom3d",title:"Zoom",attr:"scene.dragmode",val:"zoom",icon:d.zoombox,click:o},y.pan3d={name:"pan3d",title:"Pan",attr:"scene.dragmode",val:"pan",icon:d.pan,click:o},y.orbitRotation={name:"orbitRotation",title:"orbital rotation",attr:"scene.dragmode",val:"orbit",icon:d["3d_rotate"],click:o},y.tableRotation={name:"tableRotation",title:"turntable rotation",attr:"scene.dragmode",val:"turntable",icon:d["z-axis"],click:o},y.resetCameraDefault3d={name:"resetCameraDefault3d",title:"Reset camera to default",attr:"resetDefault",icon:d.home,click:i},y.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:"Reset camera to last save",attr:"resetLastSave",icon:d.movie,click:i},y.hoverClosest3d={name:"hoverClosest3d",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:d.tooltip_basic,gravity:"ne",click:a},y.zoomInGeo={name:"zoomInGeo",title:"Zoom in",attr:"zoom",val:"in",icon:d.zoom_plus,click:s},y.zoomOutGeo={name:"zoomOutGeo",title:"Zoom out",attr:"zoom",val:"out",icon:d.zoom_minus,click:s},y.resetGeo={name:"resetGeo",title:"Reset",attr:"reset",val:null,icon:d.autoscale,click:s},y.hoverClosestGeo={name:"hoverClosestGeo",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:d.tooltip_basic,gravity:"ne",click:l},y.hoverClosestGl2d={name:"hoverClosestGl2d",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:d.tooltip_basic,gravity:"ne",click:l},y.hoverClosestPie={name:"hoverClosestPie",title:"Toggle show closest data on hover",attr:"hovermode",val:"closest",icon:d.tooltip_basic,gravity:"ne",click:l},y.toggleHover={name:"toggleHover",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:d.tooltip_basic,gravity:"ne",click:function(t,e){l(t),a(t,e)}},y.resetViews={name:"resetViews",title:"Reset views",icon:d.home,click:function(t,e){var r=e.currentTarget;r.setAttribute("data-attr","zoom"),r.setAttribute("data-val","reset"),n(t,e),r.setAttribute("data-attr","resetLastSave"),i(t,e)}}},{"../../../build/ploticon":2,"../../lib":681,"../../plotly":715,"../../plots/cartesian/axes":720,"../../plots/plots":779,"../../snapshot/download":796}],623:[function(t,e,r){"use strict";r.manage=t("./manage")},{"./manage":624}],624:[function(t,e,r){"use strict";function n(t,e,r){function n(t){for(var r=[],n=0;n<t.length;n++){var o=t[n];e.indexOf(o)===-1&&r.push(p[o])}m.push(r)}var s=t._fullLayout,l=t._fullData,u=s._has("cartesian"),c=s._has("gl3d"),f=s._has("geo"),h=s._has("pie"),d=s._has("gl2d"),y=s._has("ternary"),m=[];if(n(["toImage","sendDataToCloud"]),(u||d||h||y)+f+c>1)return n(["resetViews","toggleHover"]),a(m,r);c&&(n(["zoom3d","pan3d","orbitRotation","tableRotation"]),n(["resetCameraDefault3d","resetCameraLastSave3d"]),n(["hoverClosest3d"])),f&&(n(["zoomInGeo","zoomOutGeo","resetGeo"]),n(["hoverClosestGeo"]));var v=o(s),g=[];return((u||d)&&!v||y)&&(g=["zoom2d","pan2d"]),(u||y)&&i(l)&&(g.push("select2d"),g.push("lasso2d")),g.length&&n(g),!u&&!d||v||y||n(["zoomIn2d","zoomOut2d","autoScale2d","resetScale2d"]),u&&h?n(["toggleHover"]):d?n(["hoverClosestGl2d"]):u?n(["hoverClosestCartesian","hoverCompareCartesian"]):h&&n(["hoverClosestPie"]),a(m,r)}function o(t){for(var e=l.list({_fullLayout:t},null,!0),r=!0,n=0;n<e.length;n++)if(!e[n].fixedrange){r=!1;break}return r}function i(t){for(var e=!1,r=0;r<t.length&&!e;r++){var n=t[r];n._module&&n._module.selectPoints&&("scatter"===n.type||"scatterternary"===n.type?(u.hasMarkers(n)||u.hasText(n))&&(e=!0):e=!0)}return e}function a(t,e){if(e.length)if(Array.isArray(e[0]))for(var r=0;r<e.length;r++)t.push(e[r]);else t.push(e);return t}function s(t){for(var e=0;e<t.length;e++)for(var r=t[e],n=0;n<r.length;n++){var o=r[n];if("string"==typeof o){if(void 0===p[o])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));t[e][n]=p[o]}}return t}var l=t("../../plots/cartesian/axes"),u=t("../../traces/scatter/subtypes"),c=t("./modebar"),p=t("./buttons");e.exports=function(t){var e=t._fullLayout,r=t._context,o=e._modeBar;if(!r.displayModeBar)return void(o&&(o.destroy(),delete e._modeBar));if(!Array.isArray(r.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(r.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var i,a=r.modeBarButtons;i=Array.isArray(a)&&a.length?s(a):n(t,r.modeBarButtonsToRemove,r.modeBarButtonsToAdd),o?o.update(t,i):e._modeBar=c(t,i)}},{"../../plots/cartesian/axes":720,"../../traces/scatter/subtypes":944,"./buttons":622,"./modebar":625}],625:[function(t,e,r){"use strict";function n(t){this.container=t.container,this.element=document.createElement("div"),this.update(t.graphInfo,t.buttons),this.container.appendChild(this.element)}function o(t,e){var r=t._fullLayout,o=new n({graphInfo:t,container:r._paperdiv.node(),buttons:e});return r._privateplot&&i.select(o.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),o}var i=t("d3"),a=t("../../lib"),s=t("../../../build/ploticon"),l=n.prototype;l.update=function(t,e){this.graphInfo=t;var r=this.graphInfo._context;"hover"===r.displayModeBar?this.element.className="modebar modebar--hover":this.element.className="modebar";var n=!this.hasButtons(e),o=this.hasLogo!==r.displaylogo;(n||o)&&(this.removeAllButtons(),this.updateButtons(e),r.displaylogo&&(this.element.appendChild(this.getLogo()),this.hasLogo=!0)),this.updateActiveButton()},l.updateButtons=function(t){var e=this;this.buttons=t,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(t){var r=e.createGroup();t.forEach(function(t){var n=t.name;if(!n)throw new Error("must provide button 'name' in button config");if(e.buttonsNames.indexOf(n)!==-1)throw new Error("button name '"+n+"' is taken");e.buttonsNames.push(n);var o=e.createButton(t);e.buttonElements.push(o),r.appendChild(o)}),e.element.appendChild(r)})},l.createGroup=function(){var t=document.createElement("div");return t.className="modebar-group",t},l.createButton=function(t){var e=this,r=document.createElement("a");r.setAttribute("rel","tooltip"),r.className="modebar-btn";var n=t.title;void 0===n&&(n=t.name),(n||0===n)&&r.setAttribute("data-title",n),void 0!==t.attr&&r.setAttribute("data-attr",t.attr);var o=t.val;void 0!==o&&("function"==typeof o&&(o=o(this.graphInfo)),r.setAttribute("data-val",o));var a=t.click;if("function"!=typeof a)throw new Error("must provide button 'click' function in button config");return r.addEventListener("click",function(r){t.click(e.graphInfo,r),e.updateActiveButton(r.currentTarget)}),r.setAttribute("data-toggle",t.toggle||!1),t.toggle&&i.select(r).classed("active",!0),r.appendChild(this.createIcon(t.icon||s.question)),r.setAttribute("data-gravity",t.gravity||"n"),r},l.createIcon=function(t){var e=t.ascent-t.descent,r="http://www.w3.org/2000/svg",n=document.createElementNS(r,"svg"),o=document.createElementNS(r,"path");return n.setAttribute("height","1em"),n.setAttribute("width",t.width/e+"em"),n.setAttribute("viewBox",[0,0,t.width,e].join(" ")),o.setAttribute("d",t.path),o.setAttribute("transform","matrix(1 0 0 -1 0 "+t.ascent+")"),n.appendChild(o),n},l.updateActiveButton=function(t){var e=this.graphInfo._fullLayout,r=void 0!==t?t.getAttribute("data-attr"):null;this.buttonElements.forEach(function(t){var n=t.getAttribute("data-val")||!0,o=t.getAttribute("data-attr"),s="true"===t.getAttribute("data-toggle"),l=i.select(t);if(s)o===r&&l.classed("active",!l.classed("active"));else{var u=null===o?o:a.nestedProperty(e,o).get();l.classed("active",u===n)}})},l.hasButtons=function(t){var e=this.buttons;if(!e)return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r){if(t[r].length!==e[r].length)return!1;for(var n=0;n<t[r].length;n++)if(t[r][n].name!==e[r][n].name)return!1}return!0},l.getLogo=function(){var t=this.createGroup(),e=document.createElement("a");return e.href="https://plot.ly/",e.target="_blank",e.setAttribute("data-title","Produced with Plotly"),e.className="modebar-btn plotlyjsicon modebar-btn--logo",e.appendChild(this.createIcon(s.plotlylogo)),t.appendChild(e),t},l.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},l.destroy=function(){a.removeElement(this.container.querySelector(".modebar"))},e.exports=o},{"../../../build/ploticon":2,"../../lib":681,d3:104}],626:[function(t,e,r){"use strict";var n=t("../../plots/font_attributes"),o=t("../color/attributes"),i=t("../../lib/extend").extendFlat,a=t("./button_attributes");a=i(a,{_isLinkedToArray:"button"}),e.exports={visible:{valType:"boolean"},buttons:a,x:{valType:"number",min:-2,max:3},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom"},font:i({},n,{}),bgcolor:{valType:"color",dflt:o.lightLine},activecolor:{valType:"color"},bordercolor:{valType:"color",dflt:o.defaultLine},borderwidth:{valType:"number",min:0,dflt:0}}},{"../../lib/extend":673,"../../plots/font_attributes":740,"../color/attributes":575,"./button_attributes":627}],627:[function(t,e,r){"use strict";e.exports={step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward"},count:{valType:"number",min:0,dflt:1},label:{valType:"string"}}},{}],628:[function(t,e,r){"use strict";e.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],629:[function(t,e,r){"use strict";function n(t,e,r){function n(t,e){return i.coerce(o,a,l,t,e)}for(var o,a,s=t.buttons||[],u=e.buttons=[],c=0;c<s.length;c++)if(o=s[c],a={},i.isPlainObject(o)){var p=n("step");"all"!==p&&(!r||"gregorian"===r||"month"!==p&&"year"!==p?n("stepmode"):a.stepmode="backward",n("count")),n("label"),a._index=c,u.push(a)}return u}function o(t,e,r){for(var n=r.filter(function(r){return e[r].anchor===t._id}),o=0,i=0;i<n.length;i++){var a=e[n[i]].domain;a&&(o=Math.max(a[1],o))}return[t.domain[0],o+u.yPad]}var i=t("../../lib"),a=t("../color"),s=t("./attributes"),l=t("./button_attributes"),u=t("./constants");e.exports=function(t,e,r,l,c){function p(t,e){return i.coerce(f,h,s,t,e)}var f=t.rangeselector||{},h=e.rangeselector={},d=n(f,h,c),y=p("visible",d.length>0);if(y){var m=o(e,r,l);p("x",m[0]),p("y",m[1]),i.noneOrAll(t,e,["x","y"]),p("xanchor"),p("yanchor"),i.coerceFont(p,"font",r.font);var v=p("bgcolor");p("activecolor",a.contrast(v,u.lightAmount,u.darkAmount)),p("bordercolor"),p("borderwidth")}}},{"../../lib":681,"../color":576,"./attributes":626,"./button_attributes":627,"./constants":628}],630:[function(t,e,r){"use strict";function n(t){for(var e=v.list(t,"x",!0),r=[],n=0;n<e.length;n++){var o=e[n];o.rangeselector&&o.rangeselector.visible&&r.push(o)}return r}function o(t){return t._id}function i(t,e,r){if("all"===e.step)return t.autorange===!0;var n=Object.keys(r);return t.range[0]===r[n[0]]&&t.range[1]===r[n[1]]}function a(t,e,r){var n=t.selectAll("rect").data([0]);n.enter().append("rect").classed("selector-rect",!0),n.attr("shape-rendering","crispEdges"),n.attr({rx:b.rx,ry:b.ry}),n.call(d.stroke,e.bordercolor).call(d.fill,s(e,r)).style("stroke-width",e.borderwidth+"px")}function s(t,e){return e.isActive||e.isHovered?t.activecolor:t.bgcolor}function l(t,e,r){function n(t){m.convertToTspans(t)}var o=t.selectAll("text").data([0]);o.enter().append("text").classed("selector-text",!0).classed("user-select-none",!0),o.attr("text-anchor","middle"),o.call(y.font,e.font).text(u(r)).call(n)}function u(t){return t.label?t.label:"all"===t.step?"all":t.count+t.step.charAt(0)}function c(t,e,r,n){r.width=0,r.height=0;var o=r.borderwidth;e.each(function(){var t=p.select(this),e=t.select(".selector-text"),n=e.selectAll("tspan"),o=1.3*r.font.size,i=n[0].length||1,a=Math.max(o*i,16)+3;r.height=Math.max(r.height,a)}),e.each(function(){var t=p.select(this),e=t.select(".selector-rect"),n=t.select(".selector-text"),i=n.selectAll("tspan"),a=n.node()&&y.bBox(n.node()).width,s=1.3*r.font.size,l=i[0].length||1,u=Math.max(a+10,b.minButtonWidth);t.attr("transform","translate("+(o+r.width)+","+o+")"),e.attr({x:0,y:0,width:u,height:r.height});var c={x:u/2,y:r.height/2-(l-1)*s/2+3};n.attr(c),i.attr(c),r.width+=u+5}),e.selectAll("rect").attr("height",r.height);var i=t._fullLayout._size;r.lx=i.l+i.w*r.x,r.ly=i.t+i.h*(1-r.y);var a="left";g.isRightAnchor(r)&&(r.lx-=r.width,a="right"),g.isCenterAnchor(r)&&(r.lx-=r.width/2,a="center");var s="top";g.isBottomAnchor(r)&&(r.ly-=r.height,s="bottom"),g.isMiddleAnchor(r)&&(r.ly-=r.height/2,s="middle"),r.width=Math.ceil(r.width),r.height=Math.ceil(r.height),r.lx=Math.round(r.lx),r.ly=Math.round(r.ly),h.autoMargin(t,n+"-range-selector",{x:r.x,y:r.y,l:r.width*({right:1,center:.5}[a]||0),r:r.width*({left:1,center:.5}[a]||0),b:r.height*({top:1,middle:.5}[s]||0),t:r.height*({bottom:1,middle:.5}[s]||0)})}var p=t("d3"),f=t("../../plotly"),h=t("../../plots/plots"),d=t("../color"),y=t("../drawing"),m=t("../../lib/svg_text_utils"),v=t("../../plots/cartesian/axis_ids"),g=t("../legend/anchor_utils"),b=t("./constants"),x=t("./get_update_object");e.exports=function(t){var e=t._fullLayout,r=e._infolayer.selectAll(".rangeselector").data(n(t),o);r.enter().append("g").classed("rangeselector",!0),r.exit().remove(),r.style({cursor:"pointer","pointer-events":"all"}),r.each(function(e){var r=p.select(this),n=e,o=n.rangeselector,s=r.selectAll("g.button").data(o.buttons);s.enter().append("g").classed("button",!0),s.exit().remove(),s.each(function(e){var r=p.select(this),s=x(n,e);e.isActive=i(n,e,s),r.call(a,o,e),r.call(l,o,e),r.on("click",function(){t._dragged||f.relayout(t,s)}),r.on("mouseover",function(){e.isHovered=!0,r.call(a,o,e)}),r.on("mouseout",function(){e.isHovered=!1,r.call(a,o,e)})}),c(t,s,o,n._name),r.attr("transform","translate("+o.lx+","+o.ly+")")})}},{"../../lib/svg_text_utils":700,"../../plotly":715,"../../plots/cartesian/axis_ids":723,"../../plots/plots":779,"../color":576,"../drawing":599,"../legend/anchor_utils":613,"./constants":628,"./get_update_object":631,d3:104}],631:[function(t,e,r){"use strict";function n(t,e){var r,n=t.range,i=new Date(t.r2l(n[1])),a=e.step,s=e.count;switch(e.stepmode){case"backward":r=t.l2r(+o.time[a].utc.offset(i,-s));break;case"todate":var l=o.time[a].utc.offset(i,-s);r=t.l2r(+o.time[a].utc.ceil(l))}var u=n[1];return[r,u]}var o=t("d3");e.exports=function(t,e){var r=t._name,o={};if("all"===e.step)o[r+".autorange"]=!0;else{var i=n(t,e);o[r+".range[0]"]=i[0],o[r+".range[1]"]=i[1]}return o}},{d3:104}],632:[function(t,e,r){"use strict";e.exports={moduleType:"component",name:"rangeselector",schema:{layout:{"xaxis.rangeselector":t("./attributes")}},layoutAttributes:t("./attributes"),handleDefaults:t("./defaults"),draw:t("./draw")}},{"./attributes":626,"./defaults":629,"./draw":630}],633:[function(t,e,r){"use strict";var n=t("../color/attributes");e.exports={bgcolor:{valType:"color",dflt:n.background},bordercolor:{valType:"color",dflt:n.defaultLine},borderwidth:{valType:"integer",dflt:0,min:0},autorange:{valType:"boolean",dflt:!0},range:{valType:"info_array",items:[{valType:"any"},{valType:"any"}]},thickness:{valType:"number",dflt:.15,min:0,max:1},visible:{valType:"boolean",dflt:!0}}},{"../color/attributes":575}],634:[function(t,e,r){"use strict";var n=t("../../plots/cartesian/axes"),o=t("./constants");e.exports=function(t){for(var e=n.list(t,"x",!0),r=0;r<e.length;r++){var i=e[r],a=i[o.name];a&&a.visible&&a.autorange&&i._min.length&&i._max.length&&(a._input.autorange=!0,a._input.range=a.range=n.getAutoRange(i))}}},{"../../plots/cartesian/axes":720,"./constants":635}],635:[function(t,e,r){"use strict";e.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskColor:"rgba(0,0,0,0.4)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],636:[function(t,e,r){"use strict";var n=t("../../lib"),o=t("./attributes");e.exports=function(t,e,r){function i(t,e){return n.coerce(a,l,o,t,e)}if(t[r].rangeslider){n.isPlainObject(t[r].rangeslider)||(t[r].rangeslider={});var a=t[r].rangeslider,s=e[r],l=s.rangeslider={},u=i("visible");if(u){if(i("bgcolor",e.plot_bgcolor),i("bordercolor"),i("borderwidth"),i("thickness"),i("autorange",!s.isValidRange(a.range)),i("range"),l.range){var c=l.range,p=s.range;c[0]=s.l2r(Math.min(s.r2l(c[0]),s.r2l(p[0]))),c[1]=s.l2r(Math.max(s.r2l(c[1]),s.r2l(p[1])))}s.cleanRange("rangeslider.range"),l._input=a}}}},{"../../lib":681,"./attributes":633}],637:[function(t,e,r){"use strict";function n(t){var e=w.list({_fullLayout:t},"x",!0),r=S.name,n=[];if(t._has("gl2d"))return n;for(var o=0;o<e.length;o++){var i=e[o];i[r]&&i[r].visible&&n.push(i)}return n}function o(t,e,r,n){var o=t.select("rect."+S.slideBoxClassName).node(),a=t.select("rect."+S.grabAreaMinClassName).node(),s=t.select("rect."+S.grabAreaMaxClassName).node();t.on("mousedown",function(){function l(l){var u,c,g,b=+l.clientX-f;switch(p){case o:g="ew-resize",u=d+b,c=m+b;break;case a:g="col-resize",u=d+b,c=m;break;case s:g="col-resize",u=d,c=m+b;break;default:g="ew-resize",u=h,c=h+b}if(c<u){var x=c;c=u,u=x}n._pixelMin=u,n._pixelMax=c,
M(y.select(v),g),i(t,e,r,n)}function u(){v.removeEventListener("mousemove",l),v.removeEventListener("mouseup",u),g.removeElement(v)}var c=y.event,p=c.target,f=c.clientX,h=f-t.node().getBoundingClientRect().left,d=n.d2p(r._rl[0]),m=n.d2p(r._rl[1]),v=T.coverSlip();v.addEventListener("mousemove",l),v.addEventListener("mouseup",u)})}function i(t,e,r,n){function o(t){return r.l2r(g.constrain(t,n._rl[0],n._rl[1]))}var i=o(n.p2d(n._pixelMin)),a=o(n.p2d(n._pixelMax));window.requestAnimationFrame(function(){m.relayout(e,r._name+".range",[i,a])})}function a(t,e,r,n){function o(t){return g.constrain(t,0,n._width)}function i(t){return g.constrain(t,-a,n._width+a)}var a=S.handleWidth/2,s=o(n.d2p(r._rl[0])),l=o(n.d2p(r._rl[1]));t.select("rect."+S.slideBoxClassName).attr("x",s).attr("width",l-s),t.select("rect."+S.maskMinClassName).attr("width",s),t.select("rect."+S.maskMaxClassName).attr("x",l).attr("width",n._width-l);var u=.5,c=Math.round(i(s-a))-u,p=Math.round(i(l-a))+u;t.select("g."+S.grabberMinClassName).attr("transform","translate("+c+","+u+")"),t.select("g."+S.grabberMaxClassName).attr("transform","translate("+p+","+u+")")}function s(t,e,r,n){var o=t.selectAll("rect."+S.bgClassName).data([0]);o.enter().append("rect").classed(S.bgClassName,!0).attr({x:0,y:0,"shape-rendering":"crispEdges"});var i=n.borderwidth%2===0?n.borderwidth:n.borderwidth-1,a=-n._offsetShift,s=b.crispRound(e,n.borderwidth);o.attr({width:n._width+i,height:n._height+i,transform:"translate("+a+","+a+")",fill:n.bgcolor,stroke:n.bordercolor,"stroke-width":s})}function l(t,e,r,n){var o=e._fullLayout,i=o._topdefs.selectAll("#"+n._clipId).data([0]);i.enter().append("clipPath").attr("id",n._clipId).append("rect").attr({x:0,y:0}),i.select("rect").attr({width:n._width,height:n._height})}function u(t,e,r,n){var o=w.getSubplots(e,r),i=e.calcdata,a=t.selectAll("g."+S.rangePlotClassName).data(o,g.identity);a.enter().append("g").attr("class",function(t){return S.rangePlotClassName+" "+t}).call(b.setClipUrl,n._clipId),a.order(),a.exit().remove();var s;a.each(function(t,o){var a=y.select(this),l=0===o,u=w.getFromId(e,t,"y"),p=u._name,f={data:[],layout:{xaxis:{type:r.type,domain:[0,1],range:n.range.slice(),calendar:r.calendar},width:n._width,height:n._height,margin:{t:0,b:0,l:0,r:0}}};f.layout[p]={type:u.type,domain:[0,1],range:u.range.slice(),calendar:u.calendar},v.supplyDefaults(f);var h=f._fullLayout.xaxis,d=f._fullLayout[p],m={id:t,plotgroup:a,xaxis:h,yaxis:d};l?s=m:(m.mainplot="xy",m.mainplotinfo=s),_.rangePlot(e,m,c(i,t))})}function c(t,e){for(var r=[],n=0;n<t.length;n++){var o=t[n],i=o[0].trace;i.xaxis+i.yaxis===e&&r.push(o)}return r}function p(t,e,r,n){var o=t.selectAll("rect."+S.maskMinClassName).data([0]);o.enter().append("rect").classed(S.maskMinClassName,!0).attr({x:0,y:0}).attr("shape-rendering","crispEdges"),o.attr("height",n._height).call(x.fill,S.maskColor);var i=t.selectAll("rect."+S.maskMaxClassName).data([0]);i.enter().append("rect").classed(S.maskMaxClassName,!0).attr("y",0).attr("shape-rendering","crispEdges"),i.attr("height",n._height).call(x.fill,S.maskColor)}function f(t,e,r,n){if(!e._context.staticPlot){var o=t.selectAll("rect."+S.slideBoxClassName).data([0]);o.enter().append("rect").classed(S.slideBoxClassName,!0).attr("y",0).attr("cursor",S.slideBoxCursor).attr("shape-rendering","crispEdges"),o.attr({height:n._height,fill:S.slideBoxFill})}}function h(t,e,r,n){var o=t.selectAll("g."+S.grabberMinClassName).data([0]);o.enter().append("g").classed(S.grabberMinClassName,!0);var i=t.selectAll("g."+S.grabberMaxClassName).data([0]);i.enter().append("g").classed(S.grabberMaxClassName,!0);var a={x:0,width:S.handleWidth,rx:S.handleRadius,fill:x.background,stroke:x.defaultLine,"stroke-width":S.handleStrokeWidth,"shape-rendering":"crispEdges"},s={y:Math.round(n._height/4),height:Math.round(n._height/2)},l=o.selectAll("rect."+S.handleMinClassName).data([0]);l.enter().append("rect").classed(S.handleMinClassName,!0).attr(a),l.attr(s);var u=i.selectAll("rect."+S.handleMaxClassName).data([0]);if(u.enter().append("rect").classed(S.handleMaxClassName,!0).attr(a),u.attr(s),!e._context.staticPlot){var c={width:S.grabAreaWidth,x:0,y:0,fill:S.grabAreaFill,cursor:S.grabAreaCursor},p=o.selectAll("rect."+S.grabAreaMinClassName).data([0]);p.enter().append("rect").classed(S.grabAreaMinClassName,!0).attr(c),p.attr("height",n._height);var f=i.selectAll("rect."+S.grabAreaMaxClassName).data([0]);f.enter().append("rect").classed(S.grabAreaMaxClassName,!0).attr(c),f.attr("height",n._height)}}function d(t){for(var e=t._fullLayout._pushmargin||{},r=Object.keys(e),n=0;n<r.length;n++){var o=r[n];o.indexOf(S.name)!==-1&&v.autoMargin(t,o)}}var y=t("d3"),m=t("../../plotly"),v=t("../../plots/plots"),g=t("../../lib"),b=t("../drawing"),x=t("../color"),_=t("../../plots/cartesian"),w=t("../../plots/cartesian/axes"),T=t("../dragelement"),M=t("../../lib/setcursor"),S=t("./constants");e.exports=function(t){function e(t){return t._name}var r=t._fullLayout,i=n(r),c=r._infolayer.selectAll("g."+S.containerClassName).data(i,e);c.enter().append("g").classed(S.containerClassName,!0).attr("pointer-events","all"),c.exit().each(function(t){var e=y.select(this),n=t[S.name];e.remove(),r._topdefs.select("#"+n._clipId).remove()}),c.exit().size()&&d(t),0!==i.length&&c.each(function(e){var n=y.select(this),i=e[S.name],c=r[w.id2name(e.anchor)],d=r.margin,m=r._size,g=e.domain,b=c.domain,x=(e._boundingBox||{}).height||0;i._id=S.name+e._id,i._clipId=i._id+"-"+r._uid,i._width=m.w*(g[1]-g[0]),i._height=(r.height-d.b-d.t)*i.thickness,i._offsetShift=Math.floor(i.borderwidth/2);var _=Math.round(d.l+m.w*g[0]),T=Math.round(d.t+m.h*(1-b[0])+x+i._offsetShift+S.extraPad);n.attr("transform","translate("+_+","+T+")");var M=e.r2l(i.range[0]),E=e.r2l(i.range[1]),k=E-M;i.p2d=function(t){return t/i._width*k+M},i.d2p=function(t){return(t-M)/k*i._width},i._rl=[M,E],n.call(s,t,e,i).call(l,t,e,i).call(u,t,e,i).call(p,t,e,i).call(f,t,e,i).call(h,t,e,i),o(n,t,e,i),a(n,t,e,i),v.autoMargin(t,i._id,{x:g[0],y:b[0],l:0,r:0,t:0,b:i._height+d.b+x,pad:S.extraPad+2*i._offsetShift})})}},{"../../lib":681,"../../lib/setcursor":696,"../../plotly":715,"../../plots/cartesian":728,"../../plots/cartesian/axes":720,"../../plots/plots":779,"../color":576,"../dragelement":597,"../drawing":599,"./constants":635,d3:104}],638:[function(t,e,r){"use strict";e.exports={moduleType:"component",name:"rangeslider",schema:{layout:{"xaxis.rangeslider":t("./attributes")}},layoutAttributes:t("./attributes"),handleDefaults:t("./defaults"),calcAutorange:t("./calc_autorange"),draw:t("./draw")}},{"./attributes":633,"./calc_autorange":634,"./defaults":636,"./draw":637}],639:[function(t,e,r){"use strict";var n=t("../annotations/attributes"),o=t("../../traces/scatter/attributes"),i=t("../../lib/extend").extendFlat,a=o.line;e.exports={_isLinkedToArray:"shape",visible:{valType:"boolean",dflt:!0},type:{valType:"enumerated",values:["circle","rect","path","line"]},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},xref:i({},n.xref,{}),x0:{valType:"any"},x1:{valType:"any"},yref:i({},n.yref,{}),y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string"},opacity:{valType:"number",min:0,max:1,dflt:1},line:{color:a.color,width:a.width,dash:a.dash},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"}}},{"../../lib/extend":673,"../../traces/scatter/attributes":924,"../annotations/attributes":565}],640:[function(t,e,r){"use strict";function n(t,e,r,n,o){var i="category"===t.type?Number:t.d2c;if(void 0!==e)return[i(e),i(r)];if(n){var l,u,c,p,f,h=1/0,d=-(1/0),y=n.match(a.segmentRE);for("date"===t.type&&(i=s.decodeDate(i)),l=0;l<y.length;l++)u=y[l],c=o[u.charAt(0)].drawn,void 0!==c&&(p=y[l].substr(1).match(a.paramRE),!p||p.length<c||(f=i(p[c]),f<h&&(h=f),f>d&&(d=f)));return d>=h?[h,d]:void 0}}var o=t("../../lib"),i=t("../../plots/cartesian/axes"),a=t("./constants"),s=t("./helpers");e.exports=function(t){var e=t._fullLayout,r=o.filterVisible(e.shapes);if(r.length&&t._fullData.length)for(var s=0;s<r.length;s++){var l,u,c=r[s],p=c.line.width/2;"paper"!==c.xref&&(l=i.getFromId(t,c.xref),u=n(l,c.x0,c.x1,c.path,a.paramIsX),u&&i.expand(l,u,{ppad:p})),"paper"!==c.yref&&(l=i.getFromId(t,c.yref),u=n(l,c.y0,c.y1,c.path,a.paramIsY),u&&i.expand(l,u,{ppad:p}))}}},{"../../lib":681,"../../plots/cartesian/axes":720,"./constants":641,"./helpers":644}],641:[function(t,e,r){"use strict";e.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],642:[function(t,e,r){"use strict";var n=t("../../plots/array_container_defaults"),o=t("./shape_defaults");e.exports=function(t,e){var r={name:"shapes",handleItemDefaults:o};n(t,e,r)}},{"../../plots/array_container_defaults":717,"./shape_defaults":646}],643:[function(t,e,r){"use strict";function n(t){var e=t._fullLayout;e._shapeUpperLayer.selectAll("path").remove(),e._shapeLowerLayer.selectAll("path").remove(),e._shapeSubplotLayers.selectAll("path").remove();for(var r=0;r<e.shapes.length;r++)e.shapes[r].visible&&o(t,r)}function o(t,e){function r(r){var n={"data-index":e,"fill-rule":"evenodd",d:a(t,o)},s=o.line.width?o.line.color:"rgba(0,0,0,0)",l=r.append("path").attr(n).style("opacity",o.opacity).call(f.stroke,s).call(f.fill,o.fillcolor).call(h.dashLine,o.line.dash,o.line.width),u=(o.xref+o.yref).replace(/paper/g,"");l.call(h.setClipUrl,u?"clip"+t._fullLayout._uid+u:null),t._context.editable&&i(t,l,o,e)}t._fullLayout._paper.selectAll('.shapelayer [data-index="'+e+'"]').remove();var n=(t.layout.shapes||[])[e],o=t._fullLayout.shapes[e];if(n&&o.visible!==!1)if("below"!==o.layer)r(t._fullLayout._shapeUpperLayer);else if("paper"===o.xref||"paper"===o.yref)r(t._fullLayout._shapeLowerLayer);else{var s=t._fullLayout._plots[o.xref+o.yref];if(s){var l=s.mainplot||s;r(l.shapelayer)}else r(t._fullLayout._shapeLowerLayer)}}function i(t,e,r,n){function o(t){var r=K.right-K.left,n=K.bottom-K.top,o=t.clientX-K.left,i=t.clientY-K.top,a=r>G&&n>Y&&!t.shiftKey?d.getCursor(o/r,1-i/n):"move";y(e,a),q=a.split("-")[0]}function i(e){z=p.getFromId(t,r.xref),B=p.getFromId(t,r.yref),U=v.getDataToPixel(t,z),V=v.getDataToPixel(t,B,!0),H=v.getPixelToData(t,z),W=v.getPixelToData(t,B,!0);var i="shapes["+n+"]";"path"===r.type?(j=r.path,F=i+".path"):(m=U(r.x0),g=V(r.y0),b=U(r.x1),x=V(r.y1),_=i+".x0",w=i+".y0",T=i+".x1",M=i+".y1"),m<b?(k=m,L=i+".x0",R="x0",C=b,D=i+".x1",N="x1"):(k=b,L=i+".x1",R="x1",C=m,D=i+".x0",N="x0"),g<x?(S=g,A=i+".y0",O="y0",E=x,P=i+".y1",I="y1"):(S=x,A=i+".y1",O="y1",E=g,P=i+".y0",I="y0"),h={},o(e),X.moveFn="move"===q?c:f}function s(r){y(e),r&&u.relayout(t,h)}function c(n,o){if("path"===r.type){var i=function(t){return H(U(t)+n)};z&&"date"===z.type&&(i=v.encodeDate(i));var s=function(t){return W(V(t)+o)};B&&"date"===B.type&&(s=v.encodeDate(s)),r.path=l(j,i,s),h[F]=r.path}else h[_]=r.x0=H(m+n),h[w]=r.y0=W(g+o),h[T]=r.x1=H(b+n),h[M]=r.y1=W(x+o);e.attr("d",a(t,r))}function f(n,o){if("path"===r.type){var i=function(t){return H(U(t)+n)};z&&"date"===z.type&&(i=v.encodeDate(i));var s=function(t){return W(V(t)+o)};B&&"date"===B.type&&(s=v.encodeDate(s)),r.path=l(j,i,s),h[F]=r.path}else{var u=~q.indexOf("n")?S+o:S,c=~q.indexOf("s")?E+o:E,p=~q.indexOf("w")?k+n:k,f=~q.indexOf("e")?C+n:C;c-u>Y&&(h[A]=r[O]=W(u),h[P]=r[I]=W(c)),f-p>G&&(h[L]=r[R]=H(p),h[D]=r[N]=H(f))}e.attr("d",a(t,r))}var h,m,g,b,x,_,w,T,M,S,E,k,C,A,P,L,D,O,I,R,N,j,F,z,B,U,V,H,W,q,G=10,Y=10,X={setCursor:o,element:e.node(),prepFn:i,doneFn:s},K=X.element.getBoundingClientRect();d.init(X)}function a(t,e){var r,n,o,i,a=e.type,l=p.getFromId(t,e.xref),u=p.getFromId(t,e.yref),c=t._fullLayout._size;if(l?(r=v.shapePositionToRange(l),n=function(t){return l._offset+l.r2p(r(t,!0))}):n=function(t){return c.l+c.w*t},u?(o=v.shapePositionToRange(u),i=function(t){return u._offset+u.r2p(o(t,!0))}):i=function(t){return c.t+c.h*(1-t)},"path"===a)return l&&"date"===l.type&&(n=v.decodeDate(n)),u&&"date"===u.type&&(i=v.decodeDate(i)),s(e.path,n,i);var f=n(e.x0),h=n(e.x1),d=i(e.y0),y=i(e.y1);if("line"===a)return"M"+f+","+d+"L"+h+","+y;if("rect"===a)return"M"+f+","+d+"H"+h+"V"+y+"H"+f+"Z";var m=(f+h)/2,g=(d+y)/2,b=Math.abs(m-f),x=Math.abs(g-d),_="A"+b+","+x,w=m+b+","+g,T=m+","+(g-x);return"M"+w+_+" 0 1,1 "+T+_+" 0 0,1 "+w+"Z"}function s(t,e,r){return t.replace(m.segmentRE,function(t){var n=0,o=t.charAt(0),i=m.paramIsX[o],a=m.paramIsY[o],s=m.numParams[o],l=t.substr(1).replace(m.paramRE,function(t){return i[n]?t=e(t):a[n]&&(t=r(t)),n++,n>s&&(t="X"),t});return n>s&&(l=l.replace(/[\s,]*X.*/,""),c.log("Ignoring extra params in segment "+t)),o+l})}function l(t,e,r){return t.replace(m.segmentRE,function(t){var n=0,o=t.charAt(0),i=m.paramIsX[o],a=m.paramIsY[o],s=m.numParams[o],l=t.substr(1).replace(m.paramRE,function(t){return n>=s?t:(i[n]?t=e(t):a[n]&&(t=r(t)),n++,t)});return o+l})}var u=t("../../plotly"),c=t("../../lib"),p=t("../../plots/cartesian/axes"),f=t("../color"),h=t("../drawing"),d=t("../dragelement"),y=t("../../lib/setcursor"),m=t("./constants"),v=t("./helpers");e.exports={draw:n,drawOne:o}},{"../../lib":681,"../../lib/setcursor":696,"../../plotly":715,"../../plots/cartesian/axes":720,"../color":576,"../dragelement":597,"../drawing":599,"./constants":641,"./helpers":644}],644:[function(t,e,r){"use strict";r.rangeToShapePosition=function(t){return"log"===t.type?t.r2d:function(t){return t}},r.shapePositionToRange=function(t){return"log"===t.type?t.d2r:function(t){return t}},r.decodeDate=function(t){return function(e){return e.replace&&(e=e.replace("_"," ")),t(e)}},r.encodeDate=function(t){return function(e){return t(e).replace(" ","_")}},r.getDataToPixel=function(t,e,n){var o,i=t._fullLayout._size;if(e){var a=r.shapePositionToRange(e);o=function(t){return e._offset+e.r2p(a(t,!0))},"date"===e.type&&(o=r.decodeDate(o))}else o=n?function(t){return i.t+i.h*(1-t)}:function(t){return i.l+i.w*t};return o},r.getPixelToData=function(t,e,n){var o,i=t._fullLayout._size;if(e){var a=r.rangeToShapePosition(e);o=function(t){return a(e.p2r(t-e._offset))}}else o=n?function(t){return 1-(t-i.t)/i.h}:function(t){return(t-i.l)/i.w};return o}},{}],645:[function(t,e,r){"use strict";var n=t("./draw");e.exports={moduleType:"component",name:"shapes",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),calcAutorange:t("./calc_autorange"),draw:n.draw,drawOne:n.drawOne}},{"./attributes":639,"./calc_autorange":640,"./defaults":642,"./draw":643}],646:[function(t,e,r){"use strict";var n=t("../../lib"),o=t("../../plots/cartesian/axes"),i=t("./attributes"),a=t("./helpers");e.exports=function(t,e,r,s,l){function u(r,o){return n.coerce(t,e,i,r,o)}s=s||{},l=l||{};var c=u("visible",!l.itemIsNotPlainObject);if(!c)return e;u("layer"),u("opacity"),u("fillcolor"),u("line.color"),u("line.width"),u("line.dash");for(var p=t.path?"path":"rect",f=u("type",p),h=["x","y"],d=0;d<2;d++){var y=h[d],m={_fullLayout:r},v=o.coerceRef(t,e,m,y,"","paper");if("path"!==f){var g,b,x,_=.25,w=.75;"paper"!==v?(g=o.getFromId(m,v),x=a.rangeToShapePosition(g),b=a.shapePositionToRange(g)):b=x=n.identity;var T=y+"0",M=y+"1",S=t[T],E=t[M];t[T]=b(t[T],!0),t[M]=b(t[M],!0),o.coercePosition(e,m,u,v,T,_),o.coercePosition(e,m,u,v,M,w),e[T]=x(e[T]),e[M]=x(e[M]),t[T]=S,t[M]=E}}return"path"===f?u("path"):n.noneOrAll(t,e,["x0","x1","y0","y1"]),e}},{"../../lib":681,"../../plots/cartesian/axes":720,"./attributes":639,"./helpers":644}],647:[function(t,e,r){"use strict";var n=t("../../plots/font_attributes"),o=t("../../plots/pad_attributes"),i=t("../../lib/extend").extendFlat,a=t("../../lib/extend").extendDeep,s=t("../../plots/animation_attributes"),l=t("./constants"),u={_isLinkedToArray:"step",method:{valType:"enumerated",values:["restyle","relayout","animate","update"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"}};e.exports={_isLinkedToArray:"slider",visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:u,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:a({},o,{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:s.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:i({},n,{})},font:i({},n,{}),activebgcolor:{valType:"color",dflt:l.gripBgActiveColor},bgcolor:{valType:"color",dflt:l.railBgColor},bordercolor:{valType:"color",dflt:l.railBorderColor},borderwidth:{valType:"number",min:0,dflt:l.railBorderWidth},ticklen:{valType:"number",min:0,dflt:l.tickLength},tickcolor:{valType:"color",dflt:l.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:l.minorTickLength}}},{"../../lib/extend":673,"../../plots/animation_attributes":716,"../../plots/font_attributes":740,"../../plots/pad_attributes":778,"./constants":648}],648:[function(t,e,r){"use strict";e.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,fontSizeToHeight:1.3,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],649:[function(t,e,r){"use strict";function n(t,e,r){function n(r,n){return i.coerce(t,e,s,r,n)}var a=o(t,e),l=n("visible",a.length>0);if(l){n("active"),n("x"),n("y"),i.noneOrAll(t,e,["x","y"]),n("xanchor"),n("yanchor"),n("len"),n("lenmode"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),i.coerceFont(n,"font",r.font);var u=n("currentvalue.visible");u&&(n("currentvalue.xanchor"),n("currentvalue.prefix"),n("currentvalue.suffix"),n("currentvalue.offset"),i.coerceFont(n,"currentvalue.font",e.font)),n("transition.duration"),n("transition.easing"),n("bgcolor"),n("activebgcolor"),n("bordercolor"),n("borderwidth"),n("ticklen"),n("tickwidth"),n("tickcolor"),n("minorticklen")}}function o(t,e){function r(t,e){return i.coerce(n,o,c,t,e)}for(var n,o,a=t.steps||[],s=e.steps=[],l=0;l<a.length;l++)n=a[l],o={},i.isPlainObject(n)&&Array.isArray(n.args)&&(r("method"),r("args"),r("label","step-"+l),r("value",o.label),s.push(o));return s}var i=t("../../lib"),a=t("../../plots/array_container_defaults"),s=t("./attributes"),l=t("./constants"),u=l.name,c=s.steps;e.exports=function(t,e){var r={name:u,handleItemDefaults:n};a(t,e,r)}},{"../../lib":681,"../../plots/array_container_defaults":717,"./attributes":647,"./constants":648}],650:[function(t,e,r){"use strict";function n(t){for(var e=t[C.name],r=[],n=0;n<e.length;n++){var o=e[n];o.visible&&o.steps.length&&r.push(o)}return r}function o(t){return t._index}function i(t,e){var r=t._tester.selectAll("g."+C.labelGroupClass).data(e.steps);r.enter().append("g").classed(C.labelGroupClass,!0);var n=0,o=0;if(r.each(function(t){var r=w.select(this),i=u(r,{step:t},e),a=i.node()&&S.bBox(i.node()).width||0;o=i.node()&&S.bBox(i.node()).height||0,n=Math.max(n,a)}),r.remove(),e.inputAreaWidth=Math.max(C.railWidth,C.gripHeight),e.currentValueMaxWidth=0,e.currentValueHeight=0,e.currentValueTotalHeight=0,e.currentvalue.visible){var i=t._tester.append("g");r.each(function(t){var r=s(i,e,t.label),n=r.node()&&S.bBox(r.node())||{width:0,height:0};e.currentValueMaxWidth=Math.max(e.currentValueMaxWidth,Math.ceil(n.width)),e.currentValueHeight=Math.max(e.currentValueHeight,Math.ceil(n.height))}),e.currentValueTotalHeight=e.currentValueHeight+e.currentvalue.offset,i.remove()}var a=t._fullLayout._size;e.lx=a.l+a.w*e.x,e.ly=a.t+a.h*(1-e.y),"fraction"===e.lenmode?e.outerLength=Math.round(a.w*e.len):e.outerLength=e.len,e.lenPad=Math.round(.5*C.gripWidth),e.inputAreaStart=0,e.inputAreaLength=Math.round(e.outerLength-e.pad.l-e.pad.r);var l=e.inputAreaLength-2*C.stepInset,c=l/(e.steps.length-1),p=n+C.labelPadding;e.labelStride=Math.max(1,Math.ceil(p/c)),e.labelHeight=o,e.height=e.currentValueTotalHeight+C.tickOffset+e.ticklen+C.labelOffset+e.labelHeight+e.pad.t+e.pad.b;var f="left";k.isRightAnchor(e)&&(e.lx-=e.outerLength,f="right"),k.isCenterAnchor(e)&&(e.lx-=e.outerLength/2,f="center");var h="top";k.isBottomAnchor(e)&&(e.ly-=e.height,h="bottom"),k.isMiddleAnchor(e)&&(e.ly-=e.height/2,h="middle"),e.outerLength=Math.ceil(e.outerLength),e.height=Math.ceil(e.height),e.lx=Math.round(e.lx),e.ly=Math.round(e.ly),T.autoMargin(t,C.autoMarginIdRoot+e._index,{x:e.x,y:e.y,l:e.outerLength*({right:1,center:.5}[f]||0),r:e.outerLength*({left:1,center:.5}[f]||0),b:e.height*({top:1,middle:.5}[h]||0),t:e.height*({bottom:1,middle:.5}[h]||0)})}function a(t,e,r){r.active>=r.steps.length&&(r.active=0),e.call(s,r).call(x,r).call(c,r).call(d,r).call(b,t,r).call(l,t,r),S.setTranslate(e,r.lx+r.pad.l,r.ly+r.pad.t),e.call(m,r,r.active/(r.steps.length-1),!1),e.call(s,r)}function s(t,e,r){if(e.currentvalue.visible){var n,o,i=t.selectAll("text").data([0]);switch(e.currentvalue.xanchor){case"right":n=e.inputAreaLength-C.currentValueInset-e.currentValueMaxWidth,o="left";break;case"center":n=.5*e.inputAreaLength,o="middle";break;default:n=C.currentValueInset,o="left"}i.enter().append("text").classed(C.labelClass,!0).classed("user-select-none",!0).attr("text-anchor",o);var a=e.currentvalue.prefix?e.currentvalue.prefix:"";if("string"==typeof r)a+=r;else{var s=e.steps[e.active].label;a+=s}return e.currentvalue.suffix&&(a+=e.currentvalue.suffix),i.call(S.font,e.currentvalue.font).text(a).call(E.convertToTspans),S.setTranslate(i,n,e.currentValueHeight),i}}function l(t,e,r){var n=t.selectAll("rect."+C.gripRectClass).data([0]);n.enter().append("rect").classed(C.gripRectClass,!0).call(h,e,t,r).style("pointer-events","all"),n.attr({width:C.gripWidth,height:C.gripHeight,rx:C.gripRadius,ry:C.gripRadius}).call(M.stroke,r.bordercolor).call(M.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px")}function u(t,e,r){var n=t.selectAll("text").data([0]);return n.enter().append("text").classed(C.labelClass,!0).classed("user-select-none",!0).attr("text-anchor","middle"),n.call(S.font,r.font).text(e.step.label).call(E.convertToTspans),n}function c(t,e){var r=t.selectAll("g."+C.labelsClass).data([0]);r.enter().append("g").classed(C.labelsClass,!0);var n=r.selectAll("g."+C.labelGroupClass).data(e.labelSteps);n.enter().append("g").classed(C.labelGroupClass,!0),n.exit().remove(),n.each(function(t){var r=w.select(this);r.call(u,t,e),S.setTranslate(r,v(e,t.fraction),C.tickOffset+e.ticklen+e.labelHeight+C.labelOffset+e.currentValueTotalHeight)})}function p(t,e,r,n,o){var i=Math.round(n*(r.steps.length-1));i!==r.active&&f(t,e,r,i,!0,o)}function f(t,e,r,n,o,i){var a=r.active;r._input.active=r.active=n;var l=r.steps[r.active];e.call(m,r,r.active/(r.steps.length-1),i),e.call(s,r),t.emit("plotly_sliderchange",{slider:r,step:r.steps[r.active],interaction:o,previousActive:a}),l&&l.method&&o&&(e._nextMethod?(e._nextMethod.step=l,e._nextMethod.doCallback=o,e._nextMethod.doTransition=i):(e._nextMethod={step:l,doCallback:o,doTransition:i},e._nextMethodRaf=window.requestAnimationFrame(function(){var r=e._nextMethod.step;r.method&&(T.executeAPICommand(t,r.method,r.args),e._nextMethod=null,e._nextMethodRaf=null)})))}function h(t,e,r){function n(){return r.data()[0]}var o=r.node(),i=w.select(e);t.on("mousedown",function(){var t=n();e.emit("plotly_sliderstart",{slider:t});var a=r.select("."+C.gripRectClass);w.event.stopPropagation(),w.event.preventDefault(),a.call(M.fill,t.activebgcolor);var s=g(t,w.mouse(o)[0]);p(e,r,t,s,!0),t._dragging=!0,i.on("mousemove",function(){var t=n(),i=g(t,w.mouse(o)[0]);p(e,r,t,i,!1)}),i.on("mouseup",function(){var t=n();t._dragging=!1,a.call(M.fill,t.bgcolor),i.on("mouseup",null),i.on("mousemove",null),e.emit("plotly_sliderend",{slider:t,step:t.steps[t.active]})})})}function d(t,e){var r=t.selectAll("rect."+C.tickRectClass).data(e.steps);r.enter().append("rect").classed(C.tickRectClass,!0),r.exit().remove(),r.attr({width:e.tickwidth+"px","shape-rendering":"crispEdges"}),r.each(function(t,r){var n=r%e.labelStride===0,o=w.select(this);o.attr({height:n?e.ticklen:e.minorticklen}).call(M.fill,n?e.tickcolor:e.tickcolor),S.setTranslate(o,v(e,r/(e.steps.length-1))-.5*e.tickwidth,(n?C.tickOffset:C.minorTickOffset)+e.currentValueTotalHeight)})}function y(t){t.labelSteps=[];for(var e=0,r=t.steps.length,n=e;n<r;n+=t.labelStride)t.labelSteps.push({fraction:n/(r-1),step:t.steps[n]})}function m(t,e,r,n){var o=t.select("rect."+C.gripRectClass),i=v(e,r);if(!e._invokingCommand){var a=o;n&&e.transition.duration>0&&(a=a.transition().duration(e.transition.duration).ease(e.transition.easing)),a.attr("transform","translate("+(i-.5*C.gripWidth)+","+e.currentValueTotalHeight+")")}}function v(t,e){return t.inputAreaStart+C.stepInset+(t.inputAreaLength-2*C.stepInset)*Math.min(1,Math.max(0,e))}function g(t,e){return Math.min(1,Math.max(0,(e-C.stepInset-t.inputAreaStart)/(t.inputAreaLength-2*C.stepInset-2*t.inputAreaStart)))}function b(t,e,r){var n=t.selectAll("rect."+C.railTouchRectClass).data([0]);n.enter().append("rect").classed(C.railTouchRectClass,!0).call(h,e,t,r).style("pointer-events","all"),n.attr({width:r.inputAreaLength,height:Math.max(r.inputAreaWidth,C.tickOffset+r.ticklen+r.labelHeight)}).call(M.fill,r.bgcolor).attr("opacity",0),S.setTranslate(n,0,r.currentValueTotalHeight)}function x(t,e){var r=t.selectAll("rect."+C.railRectClass).data([0]);r.enter().append("rect").classed(C.railRectClass,!0);var n=e.inputAreaLength-2*C.railInset;r.attr({width:n,height:C.railWidth,rx:C.railRadius,ry:C.railRadius,"shape-rendering":"crispEdges"}).call(M.stroke,e.bordercolor).call(M.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px"),S.setTranslate(r,C.railInset,.5*(e.inputAreaWidth-C.railWidth)+e.currentValueTotalHeight)}function _(t){for(var e=t._fullLayout._pushmargin||{},r=Object.keys(e),n=0;n<r.length;n++){var o=r[n];o.indexOf(C.autoMarginIdRoot)!==-1&&T.autoMargin(t,o)}}var w=t("d3"),T=t("../../plots/plots"),M=t("../color"),S=t("../drawing"),E=t("../../lib/svg_text_utils"),k=t("../legend/anchor_utils"),C=t("./constants");e.exports=function(t){var e=t._fullLayout,r=n(e),s=e._infolayer.selectAll("g."+C.containerClassName).data(r.length>0?[0]:[]);if(s.enter().append("g").classed(C.containerClassName,!0).style("cursor","ew-resize"),s.exit().remove(),s.exit().size()&&_(t),0!==r.length){var l=s.selectAll("g."+C.groupClassName).data(r,o);l.enter().append("g").classed(C.groupClassName,!0),l.exit().each(function(e){w.select(this).remove(),e._commandObserver.remove(),delete e._commandObserver,T.autoMargin(t,C.autoMarginIdRoot+e._index)});for(var u=0;u<r.length;u++){var c=r[u];i(t,c)}l.each(function(e){if(!(e.steps.length<2)){var r=w.select(this);y(e),T.manageCommandObserver(t,e,e.steps,function(e){var n=r.data()[0];n.active!==e.index&&(n._dragging||f(t,r,n,e.index,!1,!0))}),a(t,w.select(this),e)}})}}},{"../../lib/svg_text_utils":700,"../../plots/plots":779,"../color":576,"../drawing":599,"../legend/anchor_utils":613,"./constants":648,d3:104}],651:[function(t,e,r){"use strict";var n=t("./constants");e.exports={moduleType:"component",name:n.name,layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),draw:t("./draw")}},{"./attributes":647,"./constants":648,"./defaults":649,"./draw":650}],652:[function(t,e,r){"use strict";var n=t("d3"),o=t("fast-isnumeric"),i=t("../../plotly"),a=t("../../plots/plots"),s=t("../../lib"),l=t("../drawing"),u=t("../color"),c=t("../../lib/svg_text_utils"),p=t("../../constants/interactions"),f=e.exports={};f.draw=function(t,e,r){function f(t){s.syncOrAsync([h,d],t)}function h(e){return e.attr("transform",w?"rotate("+[w.rotate,_.x,_.y]+") translate(0, "+w.offset+")":null),e.style({"font-family":S,"font-size":n.round(E,2)+"px",fill:u.rgb(k),opacity:C*u.opacity(k),"font-weight":a.fontWeight}).attr(_).call(c.convertToTspans).attr(_),e.selectAll("tspan.line").attr(_),a.previousPromises(t)}function d(t){var e=n.select(t.node().parentNode);if(x&&x.selection&&x.side&&P){e.attr("transform",null);var r=0,i={left:"right",right:"left",top:"bottom",bottom:"top"}[x.side],a=["left","top"].indexOf(x.side)!==-1?-1:1,u=o(x.pad)?x.pad:2,c=l.bBox(e.node()),p={left:0,top:0,right:M.width,bottom:M.height},f=x.maxShift||(p[x.side]-c[x.side])*("left"===x.side||"top"===x.side?-1:1);if(f<0)r=f;else{var h=x.offsetLeft||0,d=x.offsetTop||0;c.left-=h,c.right-=h,c.top-=d,c.bottom-=d,x.selection.each(function(){var t=l.bBox(this);s.bBoxIntersect(c,t,u)&&(r=Math.max(r,a*(t[x.side]-c[i])+u))}),r=Math.min(f,r)}if(r>0||f<0){var y={left:[-r,0],right:[r,0],top:[0,-r],bottom:[0,r]}[x.side];e.attr("transform","translate("+y+")")}}}function y(){C=0,A=!0,P=D,L.attr({"data-unformatted":P}).text(P).on("mouseover.opacity",function(){n.select(this).transition().duration(p.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){n.select(this).transition().duration(p.HIDE_PLACEHOLDER).style("opacity",0)})}var m=r.propContainer,v=r.propName,g=r.traceIndex,b=r.dfltName,x=r.avoid||{},_=r.attributes,w=r.transform,T=r.containerGroup,M=t._fullLayout,S=m.titlefont.family,E=m.titlefont.size,k=m.titlefont.color,C=1,A=!1,P=m.title.trim();""===P&&(C=0),P.match(/Click to enter .+ title/)&&(C=.2,A=!0),T||(T=M._infolayer.selectAll(".g-"+e).data([0]),T.enter().append("g").classed("g-"+e,!0));var L=T.selectAll("text").data([0]);L.enter().append("text"),L.text(P).attr("class",e),L.attr({"data-unformatted":P}).call(f);var D="Click to enter "+b+" title";t._context.editable?(P?L.on(".opacity",null):y(),L.call(c.makeEditable).on("edit",function(e){void 0!==g?i.restyle(t,v,e,g):i.relayout(t,v,e)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(f)}).on("input",function(t){this.text(t||" ").attr(_).selectAll("tspan.line").attr(_)})):P&&!P.match(/Click to enter .+ title/)||L.remove(),L.classed("js-placeholder",A)}},{"../../constants/interactions":662,"../../lib":681,"../../lib/svg_text_utils":700,"../../plotly":715,"../../plots/plots":779,"../color":576,"../drawing":599,d3:104,"fast-isnumeric":113}],653:[function(t,e,r){"use strict";var n=t("../../plots/font_attributes"),o=t("../color/attributes"),i=t("../../lib/extend").extendFlat,a=t("../../plots/pad_attributes"),s={_isLinkedToArray:"button",method:{valType:"enumerated",values:["restyle","relayout","animate","update"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""}};e.exports={_isLinkedToArray:"updatemenu",_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",
values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:s,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:i({},a,{}),font:i({},n,{}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:o.borderLine},borderwidth:{valType:"number",min:0,dflt:1}}},{"../../lib/extend":673,"../../plots/font_attributes":740,"../../plots/pad_attributes":778,"../color/attributes":575}],654:[function(t,e,r){"use strict";e.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,fontSizeToHeight:1.3,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF"}},{}],655:[function(t,e,r){"use strict";function n(t,e,r){function n(r,n){return i.coerce(t,e,s,r,n)}var a=o(t,e),l=n("visible",a.length>0);l&&(n("active"),n("direction"),n("type"),n("showactive"),n("x"),n("y"),i.noneOrAll(t,e,["x","y"]),n("xanchor"),n("yanchor"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),i.coerceFont(n,"font",r.font),n("bgcolor",r.paper_bgcolor),n("bordercolor"),n("borderwidth"))}function o(t,e){function r(t,e){return i.coerce(n,o,c,t,e)}for(var n,o,a=t.buttons||[],s=e.buttons=[],l=0;l<a.length;l++)n=a[l],o={},i.isPlainObject(n)&&Array.isArray(n.args)&&(r("method"),r("args"),r("label"),o._index=l,s.push(o));return s}var i=t("../../lib"),a=t("../../plots/array_container_defaults"),s=t("./attributes"),l=t("./constants"),u=l.name,c=s.buttons;e.exports=function(t,e){var r={name:u,handleItemDefaults:n};a(t,e,r)}},{"../../lib":681,"../../plots/array_container_defaults":717,"./attributes":653,"./constants":654}],656:[function(t,e,r){"use strict";function n(t){for(var e=t[C.name],r=[],n=0;n<e.length;n++){var o=e[n];o.visible&&r.push(o)}return r}function o(t){return t._index}function i(t){return+t.attr(C.menuIndexAttrName)===-1}function a(t,e){return+t.attr(C.menuIndexAttrName)===e._index}function s(t,e,r,n,o,i,a,s){e._input.active=e.active=a,"buttons"===e.type?u(t,n,null,null,e):"dropdown"===e.type&&(o.attr(C.menuIndexAttrName,"-1"),l(t,n,o,i,e),s||u(t,n,o,i,e))}function l(t,e,r,n,o){var i=e.selectAll("g."+C.headerClassName).data([0]);i.enter().append("g").classed(C.headerClassName,!0).style("pointer-events","all");var s=o.active,l=o.buttons[s]||C.blankHeaderOpts,c={y:o.pad.t,yPad:0,x:o.pad.l,xPad:0,index:0},p={width:o.headerWidth,height:o.headerHeight};i.call(f,o,l).call(b,o,c,p);var h=e.selectAll("text."+C.headerArrowClassName).data([0]);h.enter().append("text").classed(C.headerArrowClassName,!0).classed("user-select-none",!0).attr("text-anchor","end").call(S.font,o.font).text("▼"),h.attr({x:o.headerWidth-C.arrowOffsetX+o.pad.l,y:o.headerHeight/2+C.textOffsetY+o.pad.t}),i.on("click",function(){r.call(x),r.attr(C.menuIndexAttrName,a(r,o)?-1:String(o._index)),u(t,e,r,n,o)}),i.on("mouseover",function(){i.call(m)}),i.on("mouseout",function(){i.call(v,o)}),S.setTranslate(e,o.lx,o.ly)}function u(t,e,r,n,o){r||(r=e,r.attr("pointer-events","all"));var a=i(r)&&"buttons"!==o.type?[]:o.buttons,l="dropdown"===o.type?C.dropdownButtonClassName:C.buttonClassName,u=r.selectAll("g."+l).data(a),h=u.enter().append("g").classed(l,!0),d=u.exit();"dropdown"===o.type?(h.attr("opacity","0").transition().attr("opacity","1"),d.transition().attr("opacity","0").remove()):d.remove();var g=0,x=0,_=["up","down"].indexOf(o.direction)!==-1;"dropdown"===o.type&&(_?x=o.headerHeight+C.gapButtonHeader:g=o.headerWidth+C.gapButtonHeader),"dropdown"===o.type&&"up"===o.direction&&(x=-C.gapButtonHeader+C.gapButton-o.openHeight),"dropdown"===o.type&&"left"===o.direction&&(g=-C.gapButtonHeader+C.gapButton-o.openWidth);var M={x:o.lx+g+o.pad.l,y:o.ly+x+o.pad.t,yPad:C.gapButton,xPad:C.gapButton,index:0},S={l:M.x+o.borderwidth,t:M.y+o.borderwidth};u.each(function(i,a){var l=w.select(this);l.call(f,o,i).call(b,o,M),l.on("click",function(){w.event.defaultPrevented||(s(t,o,i,e,r,n,a),T.executeAPICommand(t,i.method,i.args),t.emit("plotly_buttonclicked",{menu:o,button:i,active:o.active}))}),l.on("mouseover",function(){l.call(m)}),l.on("mouseout",function(){l.call(v,o),u.call(y,o)})}),u.call(y,o),_?(S.w=Math.max(o.openWidth,o.headerWidth),S.h=M.y-S.t):(S.w=M.x-S.l,S.h=Math.max(o.openHeight,o.headerHeight)),S.direction=o.direction,n&&(u.size()?c(t,e,r,n,o,S):p(n))}function c(t,e,r,n,o,i){var a,s,l,u=o.direction,c="up"===u||"down"===u,p=o.active;if(c)for(s=0,l=0;l<p;l++)s+=o.heights[l]+C.gapButton;else for(a=0,l=0;l<p;l++)a+=o.widths[l]+C.gapButton;n.enable(i,a,s),n.hbar&&n.hbar.attr("opacity","0").transition().attr("opacity","1"),n.vbar&&n.vbar.attr("opacity","0").transition().attr("opacity","1")}function p(t){var e=!!t.hbar,r=!!t.vbar;e&&t.hbar.transition().attr("opacity","0").each("end",function(){e=!1,r||t.disable()}),r&&t.vbar.transition().attr("opacity","0").each("end",function(){r=!1,e||t.disable()})}function f(t,e,r){t.call(h,e).call(d,e,r)}function h(t,e){var r=t.selectAll("rect").data([0]);r.enter().append("rect").classed(C.itemRectClassName,!0).attr({rx:C.rx,ry:C.ry,"shape-rendering":"crispEdges"}),r.call(M.stroke,e.bordercolor).call(M.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px")}function d(t,e,r){var n=t.selectAll("text").data([0]);n.enter().append("text").classed(C.itemTextClassName,!0).classed("user-select-none",!0).attr("text-anchor","start"),n.call(S.font,e.font).text(r.label).call(E.convertToTspans)}function y(t,e){var r=e.active;t.each(function(t,n){var o=w.select(this);n===r&&e.showactive&&o.select("rect."+C.itemRectClassName).call(M.fill,C.activeColor)})}function m(t){t.select("rect."+C.itemRectClassName).call(M.fill,C.hoverColor)}function v(t,e){t.select("rect."+C.itemRectClassName).call(M.fill,e.bgcolor)}function g(t,e){e.width1=0,e.height1=0,e.heights=[],e.widths=[],e.totalWidth=0,e.totalHeight=0,e.openWidth=0,e.openHeight=0,e.lx=0,e.ly=0;var r=t._tester.selectAll("g."+C.dropdownButtonClassName).data(e.buttons);r.enter().append("g").classed(C.dropdownButtonClassName,!0);var n=["up","down"].indexOf(e.direction)!==-1;r.each(function(t,r){var o=w.select(this);o.call(f,e,t);var i=o.select("."+C.itemTextClassName),a=i.selectAll("tspan"),s=i.node()&&S.bBox(i.node()).width,l=Math.max(s+C.textPadX,C.minWidth),u=e.font.size*C.fontSizeToHeight,c=a[0].length||1,p=Math.max(u*c,C.minHeight)+C.textOffsetY;p=Math.ceil(p),l=Math.ceil(l),e.widths[r]=l,e.heights[r]=p,e.height1=Math.max(e.height1,p),e.width1=Math.max(e.width1,l),n?(e.totalWidth=Math.max(e.totalWidth,l),e.openWidth=e.totalWidth,e.totalHeight+=p+C.gapButton,e.openHeight+=p+C.gapButton):(e.totalWidth+=l+C.gapButton,e.openWidth+=l+C.gapButton,e.totalHeight=Math.max(e.totalHeight,p),e.openHeight=e.totalHeight)}),n?e.totalHeight-=C.gapButton:e.totalWidth-=C.gapButton,e.headerWidth=e.width1+C.arrowPadX,e.headerHeight=e.height1,"dropdown"===e.type&&(n?(e.width1+=C.arrowPadX,e.totalHeight=e.height1):e.totalWidth=e.width1,e.totalWidth+=C.arrowPadX),r.remove();var o=e.totalWidth+e.pad.l+e.pad.r,i=e.totalHeight+e.pad.t+e.pad.b,a=t._fullLayout._size;e.lx=a.l+a.w*e.x,e.ly=a.t+a.h*(1-e.y);var s="left";k.isRightAnchor(e)&&(e.lx-=o,s="right"),k.isCenterAnchor(e)&&(e.lx-=o/2,s="center");var l="top";k.isBottomAnchor(e)&&(e.ly-=i,l="bottom"),k.isMiddleAnchor(e)&&(e.ly-=i/2,l="middle"),e.totalWidth=Math.ceil(e.totalWidth),e.totalHeight=Math.ceil(e.totalHeight),e.lx=Math.round(e.lx),e.ly=Math.round(e.ly),T.autoMargin(t,C.autoMarginIdRoot+e._index,{x:e.x,y:e.y,l:o*({right:1,center:.5}[s]||0),r:o*({left:1,center:.5}[s]||0),b:i*({top:1,middle:.5}[l]||0),t:i*({bottom:1,middle:.5}[l]||0)})}function b(t,e,r,n){n=n||{};var o=t.select("."+C.itemRectClassName),i=t.select("."+C.itemTextClassName),a=i.selectAll("tspan"),s=e.borderwidth,l=r.index;S.setTranslate(t,s+r.x,s+r.y);var u=["up","down"].indexOf(e.direction)!==-1;o.attr({x:0,y:0,width:n.width||(u?e.width1:e.widths[l]),height:n.height||(u?e.heights[l]:e.height1)});var c=e.font.size*C.fontSizeToHeight,p=a[0].length||1,f=(p-1)*c/4,h={x:C.textOffsetX,y:e.heights[l]/2-f+C.textOffsetY};i.attr(h),a.attr(h),u?r.y+=e.heights[l]+r.yPad:r.x+=e.widths[l]+r.xPad,r.index++}function x(t){t.selectAll("g."+C.dropdownButtonClassName).remove()}function _(t){for(var e=t._fullLayout._pushmargin||{},r=Object.keys(e),n=0;n<r.length;n++){var o=r[n];o.indexOf(C.autoMarginIdRoot)!==-1&&T.autoMargin(t,o)}}var w=t("d3"),T=t("../../plots/plots"),M=t("../color"),S=t("../drawing"),E=t("../../lib/svg_text_utils"),k=t("../legend/anchor_utils"),C=t("./constants"),A=t("./scrollbox");e.exports=function(t){var e=t._fullLayout,r=n(e),i=e._infolayer.selectAll("g."+C.containerClassName).data(r.length>0?[0]:[]);if(i.enter().append("g").classed(C.containerClassName,!0).style("cursor","pointer"),i.exit().remove(),i.exit().size()&&_(t),0!==r.length){var c=i.selectAll("g."+C.headerGroupClassName).data(r,o);c.enter().append("g").classed(C.headerGroupClassName,!0);var p=i.selectAll("g."+C.dropdownButtonGroupClassName).data([0]);p.enter().append("g").classed(C.dropdownButtonGroupClassName,!0).style("pointer-events","all");for(var f=0;f<r.length;f++){var h=r[f];g(t,h)}var d="updatemenus"+e._uid,y=new A(t,p,d);c.enter().size()&&p.call(x).attr(C.menuIndexAttrName,"-1"),c.exit().each(function(e){w.select(this).remove(),p.call(x).attr(C.menuIndexAttrName,"-1"),T.autoMargin(t,C.autoMarginIdRoot+e._index)}),c.each(function(e){var r=w.select(this),n="dropdown"===e.type?p:null;T.manageCommandObserver(t,e,e.buttons,function(o){s(t,e,e.buttons[o.index],r,n,y,o.index,!0)}),"dropdown"===e.type?(l(t,r,p,y,e),a(p,e)&&u(t,r,p,y,e)):u(t,r,null,null,e)})}}},{"../../lib/svg_text_utils":700,"../../plots/plots":779,"../color":576,"../drawing":599,"../legend/anchor_utils":613,"./constants":654,"./scrollbox":658,d3:104}],657:[function(t,e,r){arguments[4][651][0].apply(r,arguments)},{"./attributes":653,"./constants":654,"./defaults":655,"./draw":656,dup:651}],658:[function(t,e,r){"use strict";function n(t,e,r){this.gd=t,this.container=e,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}e.exports=n;var o=t("d3"),i=t("../color"),a=t("../drawing"),s=t("../../lib");n.barWidth=2,n.barLength=20,n.barRadius=2,n.barPad=1,n.barColor="#808BA4",n.prototype.enable=function(t,e,r){var s=this.gd._fullLayout,l=s.width,u=s.height;this.position=t;var c,p,f,h,d=this.position.l,y=this.position.w,m=this.position.t,v=this.position.h,g=this.position.direction,b="down"===g,x="left"===g,_="right"===g,w="up"===g,T=y,M=v;b||x||_||w||(this.position.direction="down",b=!0);var S=b||w;S?(c=d,p=c+T,b?(f=m,h=Math.min(f+M,u),M=h-f):(h=m+M,f=Math.max(h-M,0),M=h-f)):(f=m,h=f+M,x?(p=d+T,c=Math.max(p-T,0),T=p-c):(c=d,p=Math.min(c+T,l),T=p-c)),this._box={l:c,t:f,w:T,h:M};var E=y>T,k=n.barLength+2*n.barPad,C=n.barWidth+2*n.barPad,A=d,P=m+v;P+C>u&&(P=u-C);var L=this.container.selectAll("rect.scrollbar-horizontal").data(E?[0]:[]);L.exit().on(".drag",null).remove(),L.enter().append("rect").classed("scrollbar-horizontal",!0).call(i.fill,n.barColor),E?(this.hbar=L.attr({rx:n.barRadius,ry:n.barRadius,x:A,y:P,width:k,height:C}),this._hbarXMin=A+k/2,this._hbarTranslateMax=T-k):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var D=v>M,O=n.barWidth+2*n.barPad,I=n.barLength+2*n.barPad,R=d+y,N=m;R+O>l&&(R=l-O);var j=this.container.selectAll("rect.scrollbar-vertical").data(D?[0]:[]);j.exit().on(".drag",null).remove(),j.enter().append("rect").classed("scrollbar-vertical",!0).call(i.fill,n.barColor),D?(this.vbar=j.attr({rx:n.barRadius,ry:n.barRadius,x:R,y:N,width:O,height:I}),this._vbarYMin=N+I/2,this._vbarTranslateMax=M-I):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var F=this.id,z=c-.5,B=D?p+O+.5:p+.5,U=f-.5,V=E?h+C+.5:h+.5,H=s._topdefs.selectAll("#"+F).data(E||D?[0]:[]);if(H.exit().remove(),H.enter().append("clipPath").attr("id",F).append("rect"),E||D?(this._clipRect=H.select("rect").attr({x:Math.floor(z),y:Math.floor(U),width:Math.ceil(B)-Math.floor(z),height:Math.ceil(V)-Math.floor(U)}),this.container.call(a.setClipUrl,F),this.bg.attr({x:d,y:m,width:y,height:v})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),E||D){var W=o.behavior.drag().on("dragstart",function(){o.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(W);var q=o.behavior.drag().on("dragstart",function(){o.event.sourceEvent.preventDefault(),o.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));E&&this.hbar.on(".drag",null).call(q),D&&this.vbar.on(".drag",null).call(q)}this.setTranslate(e,r)},n.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},n.prototype._onBoxDrag=function(){var t=this.translateX,e=this.translateY;this.hbar&&(t-=o.event.dx),this.vbar&&(e-=o.event.dy),this.setTranslate(t,e)},n.prototype._onBoxWheel=function(){var t=this.translateX,e=this.translateY;this.hbar&&(t+=o.event.deltaY),this.vbar&&(e+=o.event.deltaY),this.setTranslate(t,e)},n.prototype._onBarDrag=function(){var t=this.translateX,e=this.translateY;if(this.hbar){var r=t+this._hbarXMin,n=r+this._hbarTranslateMax,i=s.constrain(o.event.x,r,n),a=(i-r)/(n-r),l=this.position.w-this._box.w;t=a*l}if(this.vbar){var u=e+this._vbarYMin,c=u+this._vbarTranslateMax,p=s.constrain(o.event.y,u,c),f=(p-u)/(c-u),h=this.position.h-this._box.h;e=f*h}this.setTranslate(t,e)},n.prototype.setTranslate=function(t,e){var r=this.position.w-this._box.w,n=this.position.h-this._box.h;if(t=s.constrain(t||0,0,r),e=s.constrain(e||0,0,n),this.translateX=t,this.translateY=e,this.container.call(a.setTranslate,this._box.l-this.position.l-t,this._box.t-this.position.t-e),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+t-.5),y:Math.floor(this.position.t+e-.5)}),this.hbar){var o=t/r;this.hbar.call(a.setTranslate,t+o*this._hbarTranslateMax,e)}if(this.vbar){var i=e/n;this.vbar.call(a.setTranslate,t,e+i*this._vbarTranslateMax)}}},{"../../lib":681,"../color":576,"../drawing":599,d3:104}],659:[function(t,e,r){"use strict";e.exports={solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}},{}],660:[function(t,e,r){"use strict";e.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},{}],661:[function(t,e,r){"use strict";e.exports={circle:"●","circle-open":"○",square:"■","square-open":"□",diamond:"◆","diamond-open":"◇",cross:"+",x:"❌"}},{}],662:[function(t,e,r){"use strict";e.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DBLCLICKDELAY:300}},{}],663:[function(t,e,r){"use strict";e.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE/1e4,ONEAVGYEAR:315576e5,ONEAVGMONTH:26298e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5}},{}],664:[function(t,e,r){"use strict";e.exports={entityToUnicode:{mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},unicodeToEntity:{"&":"amp","<":"lt",">":"gt",'"':"quot","'":"#x27","/":"#x2F"}}},{}],665:[function(t,e,r){"use strict";r.xmlns="http://www.w3.org/2000/xmlns/",r.svg="http://www.w3.org/2000/svg",r.xlink="http://www.w3.org/1999/xlink",r.svgAttrs={xmlns:r.svg,"xmlns:xlink":r.xlink}},{}],666:[function(t,e,r){"use strict";var n=t("./plotly");r.version="1.25.0",t("es6-promise").polyfill(),t("../build/plotcss"),t("./fonts/mathjax_config"),r.plot=n.plot,r.newPlot=n.newPlot,r.restyle=n.restyle,r.relayout=n.relayout,r.redraw=n.redraw,r.update=n.update,r.extendTraces=n.extendTraces,r.prependTraces=n.prependTraces,r.addTraces=n.addTraces,r.deleteTraces=n.deleteTraces,r.moveTraces=n.moveTraces,r.purge=n.purge,r.setPlotConfig=t("./plot_api/set_plot_config"),r.register=t("./plot_api/register"),r.toImage=t("./plot_api/to_image"),r.downloadImage=t("./snapshot/download"),r.validate=t("./plot_api/validate"),r.addFrames=n.addFrames,r.deleteFrames=n.deleteFrames,r.animate=n.animate,r.register(t("./traces/scatter")),r.register([t("./components/legend"),t("./components/annotations"),t("./components/shapes"),t("./components/images"),t("./components/updatemenus"),t("./components/sliders"),t("./components/rangeslider"),t("./components/rangeselector")]),r.Icons=t("../build/ploticon"),r.Plots=n.Plots,r.Fx=n.Fx,r.Snapshot=t("./snapshot"),r.PlotSchema=t("./plot_api/plot_schema"),r.Queue=t("./lib/queue"),r.d3=t("d3")},{"../build/plotcss":1,"../build/ploticon":2,"./components/annotations":572,"./components/images":612,"./components/legend":620,"./components/rangeselector":632,"./components/rangeslider":638,"./components/shapes":645,"./components/sliders":651,"./components/updatemenus":657,"./fonts/mathjax_config":667,"./lib/queue":693,"./plot_api/plot_schema":709,"./plot_api/register":710,"./plot_api/set_plot_config":711,"./plot_api/to_image":713,"./plot_api/validate":714,"./plotly":715,"./snapshot":799,"./snapshot/download":796,"./traces/scatter":934,d3:104,"es6-promise":110}],667:[function(t,e,r){"use strict";"undefined"!=typeof MathJax?(r.MathJax=!0,MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured()):r.MathJax=!1},{}],668:[function(t,e,r){"use strict";e.exports=function(t,e,r,n){Array.isArray(t)&&(e[r]=t[n])}},{}],669:[function(t,e,r){"use strict";var n=t("fast-isnumeric"),o=t("../constants/numerical").BADNUM,i=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;e.exports=function(t){return"string"==typeof t&&(t=t.replace(i,"")),n(t)?Number(t):o}},{"../constants/numerical":663,"fast-isnumeric":113}],670:[function(t,e,r){"use strict";var n=t("fast-isnumeric"),o=t("tinycolor2"),i=t("../components/colorscale/get_scale"),a=(Object.keys(t("../components/colorscale/scales")),t("./nested_property")),s=/^([2-9]|[1-9][0-9]+)$/;r.valObjects={data_array:{coerceFunction:function(t,e,r){Array.isArray(t)?e.set(t):void 0!==r&&e.set(r)}},enumerated:{coerceFunction:function(t,e,r,n){n.coerceNumber&&(t=+t),n.values.indexOf(t)===-1?e.set(r):e.set(t)}},boolean:{coerceFunction:function(t,e,r){t===!0||t===!1?e.set(t):e.set(r)}},number:{coerceFunction:function(t,e,r,o){!n(t)||void 0!==o.min&&t<o.min||void 0!==o.max&&t>o.max?e.set(r):e.set(+t)}},integer:{coerceFunction:function(t,e,r,o){t%1||!n(t)||void 0!==o.min&&t<o.min||void 0!==o.max&&t>o.max?e.set(r):e.set(+t)}},string:{coerceFunction:function(t,e,r,n){if("string"!=typeof t){var o="number"==typeof t;n.strict!==!0&&o?e.set(String(t)):e.set(r)}else n.noBlank&&!t?e.set(r):e.set(t)}},color:{coerceFunction:function(t,e,r){o(t).isValid()?e.set(t):e.set(r)}},colorscale:{coerceFunction:function(t,e,r){e.set(i(t,r))}},angle:{coerceFunction:function(t,e,r){"auto"===t?e.set("auto"):n(t)?(Math.abs(t)>180&&(t-=360*Math.round(t/360)),e.set(+t)):e.set(r)}},subplotid:{coerceFunction:function(t,e,r){var n=r.length;return"string"==typeof t&&t.substr(0,n)===r&&s.test(t.substr(n))?void e.set(t):void e.set(r)},validateFunction:function(t,e){var r=e.dflt,n=r.length;return t===r||"string"==typeof t&&!(t.substr(0,n)!==r||!s.test(t.substr(n)))}},flaglist:{coerceFunction:function(t,e,r,n){if("string"!=typeof t)return void e.set(r);if((n.extras||[]).indexOf(t)!==-1)return void e.set(t);for(var o=t.split("+"),i=0;i<o.length;){var a=o[i];n.flags.indexOf(a)===-1||o.indexOf(a)<i?o.splice(i,1):i++}o.length?e.set(o.join("+")):e.set(r)}},any:{coerceFunction:function(t,e,r){void 0===t?e.set(r):e.set(t)}},info_array:{coerceFunction:function(t,e,n,o){if(!Array.isArray(t))return void e.set(n);var i=o.items,a=[];n=Array.isArray(n)?n:[];for(var s=0;s<i.length;s++)r.coerce(t,a,i,"["+s+"]",n[s]);e.set(a)},validateFunction:function(t,e){if(!Array.isArray(t))return!1;var n=e.items;if(!e.freeLength&&t.length!==n.length)return!1;for(var o=0;o<t.length;o++){var i=r.validate(t[o],e.items[o]);if(!i)return!1}return!0}}},r.coerce=function(t,e,n,o,i){var s=a(n,o).get(),l=a(t,o),u=a(e,o),c=l.get();return void 0===i&&(i=s.dflt),s.arrayOk&&Array.isArray(c)?(u.set(c),c):(r.valObjects[s.valType].coerceFunction(c,u,i,s),u.get())},r.coerce2=function(t,e,n,o,i){var s=a(t,o),l=r.coerce(t,e,n,o,i),u=s.get();return void 0!==u&&null!==u&&l},r.coerceFont=function(t,e,r){var n={};return r=r||{},n.family=t(e+".family",r.family),n.size=t(e+".size",r.size),n.color=t(e+".color",r.color),n},r.validate=function(t,e){var n=r.valObjects[e.valType];if(e.arrayOk&&Array.isArray(t))return!0;if(n.validateFunction)return n.validateFunction(t,e);var o={},i=o,a={set:function(t){i=t}};return n.coerceFunction(t,a,o,e),i!==o}},{"../components/colorscale/get_scale":588,"../components/colorscale/scales":594,"./nested_property":687,"fast-isnumeric":113,tinycolor2:512}],671:[function(t,e,r){"use strict";function n(t){return t&&T.componentsRegistry.calendars&&"string"==typeof t&&"gregorian"!==t}function o(t,e){return String(t+Math.pow(10,e)).substr(1)}function i(t,e,r,n,i){if((e||r||n||i)&&(t+=" "+o(e,2)+":"+o(r,2),(n||i)&&(t+=":"+o(n,2),i))){for(var a=4;i%10===0;)a-=1,i/=10;t+="."+o(i,a)}return t}function a(t,e,r){t=t.replace(O,function(t){var r=Math.min(+t.charAt(1)||6,6),n=(e/1e3%1+2).toFixed(r).substr(2).replace(/0+$/,"")||"0";return n});var o=new Date(Math.floor(e+.05));if(n(r))try{t=T.getComponentMethod("calendars","worldCalFmt")(t,e,r)}catch(t){return"Invalid"}return M(t)(o)}function s(t,e){var r=y(t+.05,g),n=o(Math.floor(r/b),2)+":"+o(y(Math.floor(r/x),60),2);if("M"!==e){h(e)||(e=0);var i=Math.min(y(t/_,60),I[e]),a=(100+i).toFixed(e).substr(1);e>0&&(a=a.replace(/0+$/,"").replace(/[\.]$/,"")),n+=":"+a}return n}function l(t){return t.formatDate("yyyy")}function u(t){return t.formatDate("M yyyy")}function c(t){return t.formatDate("M d")}function p(t){return t.formatDate("M d, yyyy")}var f=t("d3"),h=t("fast-isnumeric"),d=t("./loggers").error,y=t("./mod"),m=t("../constants/numerical"),v=m.BADNUM,g=m.ONEDAY,b=m.ONEHOUR,x=m.ONEMIN,_=m.ONESEC,w=m.EPOCHJD,T=t("../registry"),M=f.time.format.utc,S=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m,E=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m,k=(new Date).getFullYear()-70;r.dateTick0=function(t,e){return n(t)?e?T.getComponentMethod("calendars","CANONICAL_SUNDAY")[t]:T.getComponentMethod("calendars","CANONICAL_TICK")[t]:e?"2000-01-02":"2000-01-01"},r.dfltRange=function(t){return n(t)?T.getComponentMethod("calendars","DFLTRANGE")[t]:["2000-01-01","2001-01-01"]},r.isJSDate=function(t){return"object"==typeof t&&null!==t&&"function"==typeof t.getTime};var C,A;r.dateTime2ms=function(t,e){if(r.isJSDate(t))return t=Number(t)-t.getTimezoneOffset()*x,t>=C&&t<=A?t:v;if("string"!=typeof t&&"number"!=typeof t)return v;t=String(t);var o=n(e),i=t.charAt(0);!o||"G"!==i&&"g"!==i||(t=t.substr(1),e="");var a=o&&"chinese"===e.substr(0,7),s=t.match(a?E:S);if(!s)return v;var l=s[1],u=s[3]||"1",c=Number(s[5]||1),p=Number(s[7]||0),f=Number(s[9]||0),h=Number(s[11]||0);if(o){if(2===l.length)return v;l=Number(l);var d;try{var y=T.getComponentMethod("calendars","getCal")(e);if(a){var m="i"===u.charAt(u.length-1);u=parseInt(u,10),d=y.newDate(l,y.toMonthIndex(l,u,m),c)}else d=y.newDate(l,Number(u),c)}catch(t){return v}return d?(d.toJD()-w)*g+p*b+f*x+h*_:v}l=2===l.length?(Number(l)+2e3-k)%100+k:Number(l),u-=1;var M=new Date(Date.UTC(2e3,u,c,p,f));return M.setUTCFullYear(l),M.getUTCMonth()!==u?v:M.getUTCDate()!==c?v:M.getTime()+h*_},C=r.MIN_MS=r.dateTime2ms("-9999"),A=r.MAX_MS=r.dateTime2ms("9999-12-31 23:59:59.9999"),r.isDateTime=function(t,e){return r.dateTime2ms(t,e)!==v};var P=90*g,L=3*b,D=5*x;r.ms2DateTime=function(t,e,r){if("number"!=typeof t||!(t>=C&&t<=A))return v;e||(e=0);var o,a,s,l,u,c,p=Math.floor(10*y(t+.05,1)),f=Math.round(t-p/10);if(n(r)){var h=Math.floor(f/g)+w,d=Math.floor(y(t,g));try{o=T.getComponentMethod("calendars","getCal")(r).fromJD(h).formatDate("yyyy-mm-dd")}catch(t){o=M("G%Y-%m-%d")(new Date(f))}if("-"===o.charAt(0))for(;o.length<11;)o="-0"+o.substr(1);else for(;o.length<10;)o="0"+o;a=e<P?Math.floor(d/b):0,s=e<P?Math.floor(d%b/x):0,l=e<L?Math.floor(d%x/_):0,u=e<D?d%_*10+p:0}else c=new Date(f),o=M("%Y-%m-%d")(c),a=e<P?c.getUTCHours():0,s=e<P?c.getUTCMinutes():0,l=e<L?c.getUTCSeconds():0,u=e<D?10*c.getUTCMilliseconds()+p:0;return i(o,a,s,l,u)},r.ms2DateTimeLocal=function(t){if(!(t>=C+g&&t<=A-g))return v;var e=Math.floor(10*y(t+.05,1)),r=new Date(Math.round(t-e/10)),n=f.time.format("%Y-%m-%d")(r),o=r.getHours(),a=r.getMinutes(),s=r.getSeconds(),l=10*r.getUTCMilliseconds()+e;return i(n,o,a,s,l)},r.cleanDate=function(t,e,o){if(r.isJSDate(t)||"number"==typeof t){if(n(o))return d("JS Dates and milliseconds are incompatible with world calendars",t),e;if(t=r.ms2DateTimeLocal(+t),!t&&void 0!==e)return e}else if(!r.isDateTime(t,o))return d("unrecognized date",t),e;return t};var O=/%\d?f/g,I=[59,59.9,59.99,59.999,59.9999],R=M("%Y"),N=M("%b %Y"),j=M("%b %-d"),F=M("%b %-d, %Y");r.formatDate=function(t,e,r,o){var i,f;if(o=n(o)&&o,e)return a(e,t,o);if(o)try{var h=Math.floor((t+.05)/g)+w,d=T.getComponentMethod("calendars","getCal")(o).fromJD(h);"y"===r?f=l(d):"m"===r?f=u(d):"d"===r?(i=l(d),f=c(d)):(i=p(d),f=s(t,r))}catch(t){return"Invalid"}else{var y=new Date(Math.floor(t+.05));"y"===r?f=R(y):"m"===r?f=N(y):"d"===r?(i=R(y),f=j(y)):(i=F(y),f=s(t,r))}return f+(i?"\n"+i:"")};var z=3*g;r.incrementMonth=function(t,e,r){r=n(r)&&r;var o=y(t,g);if(t=Math.round(t-o),r)try{var i=Math.round(t/g)+w,a=T.getComponentMethod("calendars","getCal")(r),s=a.fromJD(i);return e%12?a.add(s,e,"m"):a.add(s,e/12,"y"),(s.toJD()-w)*g+o}catch(e){d("invalid ms "+t+" in calendar "+r)}var l=new Date(t+z);return l.setUTCMonth(l.getUTCMonth()+e)+o-z},r.findExactDates=function(t,e){for(var r,o,i=0,a=0,s=0,l=0,u=n(e)&&T.getComponentMethod("calendars","getCal")(e),c=0;c<t.length;c++)if(o=t[c],h(o)){if(!(o%g))if(u)try{r=u.fromJD(o/g+w),1===r.day()?1===r.month()?i++:a++:s++}catch(t){}else r=new Date(o),1===r.getUTCDate()?0===r.getUTCMonth()?i++:a++:s++}else l++;a+=i,s+=a;var p=t.length-l;return{exactYears:i/p,exactMonths:a/p,exactDays:s/p}}},{"../constants/numerical":663,"../registry":794,"./loggers":684,"./mod":686,d3:104,"fast-isnumeric":113}],672:[function(t,e,r){"use strict";var n=t("events").EventEmitter,o={init:function(t){if(t._ev instanceof n)return t;var e=new n,r=new n;return t._ev=e,t._internalEv=r,t.on=e.on.bind(e),t.once=e.once.bind(e),t.removeListener=e.removeListener.bind(e),t.removeAllListeners=e.removeAllListeners.bind(e),t._internalOn=r.on.bind(r),t._internalOnce=r.once.bind(r),t._removeInternalListener=r.removeListener.bind(r),t._removeAllInternalListeners=r.removeAllListeners.bind(r),t.emit=function(n,o){"undefined"!=typeof jQuery&&jQuery(t).trigger(n,o),e.emit(n,o),r.emit(n,o)},t},triggerHandler:function(t,e,r){var n,o;"undefined"!=typeof jQuery&&(n=jQuery(t).triggerHandler(e,r));var i=t._ev;if(!i)return n;var a=i._events[e];if(!a)return n;"function"==typeof a&&(a=[a]);for(var s=a.pop(),l=0;l<a.length;l++)a[l](r);return o=s(r),void 0!==n?n:o},purge:function(t){return delete t._ev,delete t.on,delete t.once,delete t.removeListener,delete t.removeAllListeners,delete t.emit,delete t._ev,delete t._internalEv,delete t._internalOn,delete t._internalOnce,delete t._removeInternalListener,delete t._removeAllInternalListeners,t}};e.exports=o},{events:111}],673:[function(t,e,r){"use strict";function n(t,e){var r,n;for(r=0;r<t.length;r++){if(n=t[r],null!==n&&"object"==typeof n)return!1;void 0!==n&&(e[r]=n)}return!0}function o(t,e,r,s){var l,u,c,p,f,h,d,y=t[0],m=t.length;if(2===m&&a(y)&&a(t[1])&&0===y.length){if(d=n(t[1],y))return y;y.splice(0,y.length)}for(var v=1;v<m;v++){l=t[v];for(u in l)c=y[u],p=l[u],s&&a(p)?y[u]=p:e&&p&&(i(p)||(f=a(p)))?(f?(f=!1,h=c&&a(c)?c:[]):h=c&&i(c)?c:{},y[u]=o([h,p],e,r,s)):("undefined"!=typeof p||r)&&(y[u]=p)}return y}var i=t("./is_plain_object.js"),a=Array.isArray;r.extendFlat=function(){return o(arguments,!1,!1,!1)},r.extendDeep=function(){return o(arguments,!0,!1,!1)},r.extendDeepAll=function(){return o(arguments,!0,!0,!1)},r.extendDeepNoArrays=function(){return o(arguments,!0,!1,!0)}},{"./is_plain_object.js":683}],674:[function(t,e,r){"use strict";e.exports=function(t){for(var e={},r=[],n=0,o=0;o<t.length;o++){var i=t[o];1!==e[i]&&(e[i]=1,r[n++]=i)}return r}},{}],675:[function(t,e,r){"use strict";e.exports=function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];n.visible===!0&&e.push(n)}return e}},{}],676:[function(t,e,r){"use strict";function n(t,e){var r=l[t];return r(e)}function o(t){for(var e=0;e<s.length;e++){var r=s[e],n=new RegExp(i[r]);if(n.test(t.trim().toLowerCase()))return r}return a.warn("Unrecognized country name: "+t+"."),!1}var i=t("country-regex"),a=t("../lib"),s=Object.keys(i),l={"ISO-3":a.identity,"USA-states":a.identity,"country names":o};r.locationToFeature=function(t,e,r){var o=n(t,e);if(o){for(var i=0;i<r.length;i++){var s=r[i];if(s.id===o)return s}a.warn(["Location with id",o,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}},{"../lib":681,"country-regex":97}],677:[function(t,e,r){"use strict";r.calcTraceToLineCoords=function(t){for(var e=t[0].trace,r=e.connectgaps,n=[],o=[],i=0;i<t.length;i++){var a=t[i];o.push(a.lonlat),!r&&a.gapAfter&&o.length>0&&(n.push(o),o=[])}return o.length>0&&n.push(o),n},r.makeLine=function(t,e){var r={};return r=1===t.length?{type:"LineString",coordinates:t[0]}:{type:"MultiLineString",coordinates:t},e&&(r.trace=e),r},r.makePolygon=function(t,e){var r={};if(1===t.length)r={type:"Polygon",coordinates:t};else{for(var n=new Array(t.length),o=0;o<t.length;o++)n[o]=[t[o]];r={type:"MultiPolygon",coordinates:n}}return e&&(r.trace=e),r},r.makeBlank=function(){return{type:"Point",coordinates:[]}}},{}],678:[function(t,e,r){"use strict";function n(t,e){var r=t;return r[3]*=e,r}function o(t){if(s(t))return p;var e=l(t);return e.length?e:p}function i(t){return s(t)?t:f}function a(t,e,r){var a,s,c,h,d,y=t.color,m=Array.isArray(y),v=Array.isArray(e),g=[];if(a=void 0!==t.colorscale?u.makeColorScaleFunc(u.extractScale(t.colorscale,t.cmin,t.cmax)):o,s=m?function(t,e){return void 0===t[e]?p:l(a(t[e]))}:o,c=v?function(t,e){return void 0===t[e]?f:i(t[e])}:i,m||v)for(var b=0;b<r;b++)h=s(y,b),d=c(e,b),g[b]=n(h,d);else g=n(l(y),e);return g}var s=t("fast-isnumeric"),l=t("color-rgba"),u=t("../components/colorscale"),c=t("../components/color/attributes").defaultLine,p=l(c),f=1;e.exports=a},{"../components/color/attributes":575,"../components/colorscale":590,"color-rgba":85,"fast-isnumeric":113}],679:[function(t,e,r){"use strict";function n(t){for(var e=0;(e=t.indexOf("<sup>",e))>=0;){var r=t.indexOf("</sup>",e);if(r<e)break;t=t.slice(0,e)+l(t.slice(e+5,r))+t.slice(r+6);
}return t}function o(t){return t.replace(/\<br\>/g,"\n")}function i(t){return t.replace(/\<.*\>/g,"")}function a(t){for(var e=u.entityToUnicode,r=0;(r=t.indexOf("&",r))>=0;){var n=t.indexOf(";",r);if(n<r)r+=1;else{var o=e[t.slice(r+1,n)];t=o?t.slice(0,r)+o+t.slice(n+1):t.slice(0,r)+t.slice(n+1)}}return t}function s(t){return""+a(i(n(o(t))))}var l=t("superscript-text"),u=t("../constants/string_mappings");e.exports=s},{"../constants/string_mappings":664,"superscript-text":508}],680:[function(t,e,r){"use strict";e.exports=function(t){return t}},{}],681:[function(t,e,r){"use strict";var n=t("d3"),o=e.exports={};o.nestedProperty=t("./nested_property"),o.isPlainObject=t("./is_plain_object"),o.isArray=t("./is_array"),o.mod=t("./mod"),o.toLogRange=t("./to_log_range"),o.relinkPrivateKeys=t("./relink_private");var i=t("./coerce");o.valObjects=i.valObjects,o.coerce=i.coerce,o.coerce2=i.coerce2,o.coerceFont=i.coerceFont,o.validate=i.validate;var a=t("./dates");o.dateTime2ms=a.dateTime2ms,o.isDateTime=a.isDateTime,o.ms2DateTime=a.ms2DateTime,o.ms2DateTimeLocal=a.ms2DateTimeLocal,o.cleanDate=a.cleanDate,o.isJSDate=a.isJSDate,o.formatDate=a.formatDate,o.incrementMonth=a.incrementMonth,o.dateTick0=a.dateTick0,o.dfltRange=a.dfltRange,o.findExactDates=a.findExactDates,o.MIN_MS=a.MIN_MS,o.MAX_MS=a.MAX_MS;var s=t("./search");o.findBin=s.findBin,o.sorterAsc=s.sorterAsc,o.sorterDes=s.sorterDes,o.distinctVals=s.distinctVals,o.roundUp=s.roundUp;var l=t("./stats");o.aggNums=l.aggNums,o.len=l.len,o.mean=l.mean,o.variance=l.variance,o.stdev=l.stdev,o.interp=l.interp;var u=t("./matrix");o.init2dArray=u.init2dArray,o.transposeRagged=u.transposeRagged,o.dot=u.dot,o.translationMatrix=u.translationMatrix,o.rotationMatrix=u.rotationMatrix,o.rotationXYMatrix=u.rotationXYMatrix,o.apply2DTransform=u.apply2DTransform,o.apply2DTransform2=u.apply2DTransform2;var c=t("./extend");o.extendFlat=c.extendFlat,o.extendDeep=c.extendDeep,o.extendDeepAll=c.extendDeepAll,o.extendDeepNoArrays=c.extendDeepNoArrays;var p=t("./loggers");o.log=p.log,o.warn=p.warn,o.error=p.error,o.notifier=t("./notifier"),o.filterUnique=t("./filter_unique"),o.filterVisible=t("./filter_visible"),o.pushUnique=t("./push_unique"),o.cleanNumber=t("./clean_number"),o.noop=t("./noop"),o.identity=t("./identity"),o.swapAttrs=function(t,e,r,n){r||(r="x"),n||(n="y");for(var i=0;i<e.length;i++){var a=e[i],s=o.nestedProperty(t,a.replace("?",r)),l=o.nestedProperty(t,a.replace("?",n)),u=s.get();s.set(l.get()),l.set(u)}},o.pauseEvent=function(t){return t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,!1},o.constrain=function(t,e,r){return e>r?Math.max(r,Math.min(e,t)):Math.max(e,Math.min(r,t))},o.bBoxIntersect=function(t,e,r){return r=r||0,t.left<=e.right+r&&e.left<=t.right+r&&t.top<=e.bottom+r&&e.top<=t.bottom+r},o.simpleMap=function(t,e,r,n){for(var o=t.length,i=new Array(o),a=0;a<o;a++)i[a]=e(t[a],r,n);return i},o.randstr=function t(e,r,n){if(n||(n=16),void 0===r&&(r=24),r<=0)return"0";var o,i,a,s=Math.log(Math.pow(2,r))/Math.log(n),l="";for(o=2;s===1/0;o*=2)s=Math.log(Math.pow(2,r/o))/Math.log(n)*o;var u=s-Math.floor(s);for(o=0;o<Math.floor(s);o++)a=Math.floor(Math.random()*n).toString(n),l=a+l;u&&(i=Math.pow(n,u),a=Math.floor(Math.random()*i).toString(n),l=a+l);var c=parseInt(l,n);return e&&e.indexOf(l)>-1||c!==1/0&&c>=Math.pow(2,r)?t(e,r,n):l},o.OptionControl=function(t,e){t||(t={}),e||(e="opt");var r={};return r.optionList=[],r._newoption=function(n){n[e]=t,r[n.name]=n,r.optionList.push(n)},r["_"+e]=t,r},o.smooth=function(t,e){if(e=Math.round(e)||0,e<2)return t;var r,n,o,i,a=t.length,s=2*a,l=2*e-1,u=new Array(l),c=new Array(a);for(r=0;r<l;r++)u[r]=(1-Math.cos(Math.PI*(r+1)/e))/(2*e);for(r=0;r<a;r++){for(i=0,n=0;n<l;n++)o=r+n+1-e,o<-a?o-=s*Math.round(o/s):o>=s&&(o-=s*Math.floor(o/s)),o<0?o=-1-o:o>=a&&(o=s-1-o),i+=t[o]*u[n];c[r]=i}return c},o.syncOrAsync=function(t,e,r){function n(){return o.syncOrAsync(t,e,r)}for(var i,a;t.length;)if(a=t.splice(0,1)[0],i=a(e),i&&i.then)return i.then(n).then(void 0,o.promiseError);return r&&r(e)},o.stripTrailingSlash=function(t){return"/"===t.substr(-1)?t.substr(0,t.length-1):t},o.noneOrAll=function(t,e,r){if(t){var n,o,i=!1,a=!0;for(n=0;n<r.length;n++)o=t[r[n]],void 0!==o&&null!==o?i=!0:a=!1;if(i&&!a)for(n=0;n<r.length;n++)t[r[n]]=e[r[n]]}},o.mergeArray=function(t,e,r){if(Array.isArray(t))for(var n=Math.min(t.length,e.length),o=0;o<n;o++)e[o][r]=t[o]},o.minExtend=function(t,e){var r={};"object"!=typeof e&&(e={});var n,i,a,s=3,l=Object.keys(t);for(n=0;n<l.length;n++)i=l[n],a=t[i],"_"!==i.charAt(0)&&"function"!=typeof a&&("module"===i?r[i]=a:Array.isArray(a)?r[i]=a.slice(0,s):a&&"object"==typeof a?r[i]=o.minExtend(t[i],e[i]):r[i]=a);for(l=Object.keys(e),n=0;n<l.length;n++)i=l[n],a=e[i],"object"==typeof a&&i in r&&"object"==typeof r[i]||(r[i]=a);return r},o.titleCase=function(t){return t.charAt(0).toUpperCase()+t.substr(1)},o.containsAny=function(t,e){for(var r=0;r<e.length;r++)if(t.indexOf(e[r])!==-1)return!0;return!1},o.getPlotDiv=function(t){for(;t&&t.removeAttribute;t=t.parentNode)if(o.isPlotDiv(t))return t},o.isPlotDiv=function(t){var e=n.select(t);return e.node()instanceof HTMLElement&&e.size()&&e.classed("js-plotly-plot")},o.removeElement=function(t){var e=t&&t.parentNode;e&&e.removeChild(t)},o.addStyleRule=function(t,e){if(!o.styleSheet){var r=document.createElement("style");r.appendChild(document.createTextNode("")),document.head.appendChild(r),o.styleSheet=r.sheet}var n=o.styleSheet;n.insertRule?n.insertRule(t+"{"+e+"}",0):n.addRule?n.addRule(t,e,0):o.warn("addStyleRule failed")},o.isIE=function(){return"undefined"!=typeof window.navigator.msSaveBlob},o.isD3Selection=function(t){return t&&"function"==typeof t.classed},o.objectFromPath=function(t,e){for(var r,n=t.split("."),o=r={},i=0;i<n.length;i++){var a=n[i],s=null,l=n[i].match(/(.*)\[([0-9]+)\]/);l?(a=l[1],s=l[2],r=r[a]=[],i===n.length-1?r[s]=e:r[s]={},r=r[s]):(i===n.length-1?r[a]=e:r[a]={},r=r[a])}return o};var f=/^([^\[\.]+)\.(.+)?/,h=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;o.expandObjectPaths=function(t){var e,r,n,i,a,s,l;if("object"==typeof t&&!Array.isArray(t))for(r in t)t.hasOwnProperty(r)&&((e=r.match(f))?(i=t[r],n=e[1],delete t[r],t[n]=o.extendDeepNoArrays(t[n]||{},o.objectFromPath(r,o.expandObjectPaths(i))[n])):(e=r.match(h))?(i=t[r],n=e[1],a=parseInt(e[2]),delete t[r],t[n]=t[n]||[],"."===e[3]?(l=e[4],s=t[n][a]=t[n][a]||{},o.extendDeepNoArrays(s,o.objectFromPath(l,o.expandObjectPaths(i)))):t[n][a]=o.expandObjectPaths(i)):t[r]=o.expandObjectPaths(t[r]));return t},o.numSeparate=function(t,e,r){if(r||(r=!1),"string"!=typeof e||0===e.length)throw new Error("Separator string required for formatting!");"number"==typeof t&&(t=String(t));var n=/(\d+)(\d{3})/,o=e.charAt(0),i=e.charAt(1),a=t.split("."),s=a[0],l=a.length>1?o+a[1]:"";if(i&&(a.length>1||s.length>4||r))for(;n.test(s);)s=s.replace(n,"$1"+i+"$2");return s+l}},{"./clean_number":669,"./coerce":670,"./dates":671,"./extend":673,"./filter_unique":674,"./filter_visible":675,"./identity":680,"./is_array":682,"./is_plain_object":683,"./loggers":684,"./matrix":685,"./mod":686,"./nested_property":687,"./noop":688,"./notifier":689,"./push_unique":692,"./relink_private":694,"./search":695,"./stats":698,"./to_log_range":701,d3:104}],682:[function(t,e,r){"use strict";var n="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer:{isView:function(){return!1}};e.exports=function(t){return Array.isArray(t)||n.isView(t)}},{}],683:[function(t,e,r){"use strict";e.exports=function(t){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(t):"[object Object]"===Object.prototype.toString.call(t)&&Object.getPrototypeOf(t)===Object.prototype}},{}],684:[function(t,e,r){"use strict";function n(t,e){if(t.apply)t.apply(t,e);else for(var r=0;r<e.length;r++)t(e[r])}var o=t("../plot_api/plot_config"),i=e.exports={};i.log=function(){if(o.logging>1){for(var t=["LOG:"],e=0;e<arguments.length;e++)t.push(arguments[e]);n(console.trace||console.log,t)}},i.warn=function(){if(o.logging>0){for(var t=["WARN:"],e=0;e<arguments.length;e++)t.push(arguments[e]);n(console.trace||console.log,t)}},i.error=function(){if(o.logging>0){for(var t=["ERROR:"],e=0;e<arguments.length;e++)t.push(arguments[e]);n(console.error,t)}}},{"../plot_api/plot_config":708}],685:[function(t,e,r){"use strict";r.init2dArray=function(t,e){for(var r=new Array(t),n=0;n<t;n++)r[n]=new Array(e);return r},r.transposeRagged=function(t){var e,r,n=0,o=t.length;for(e=0;e<o;e++)n=Math.max(n,t[e].length);var i=new Array(n);for(e=0;e<n;e++)for(i[e]=new Array(o),r=0;r<o;r++)i[e][r]=t[r][e];return i},r.dot=function(t,e){if(!t.length||!e.length||t.length!==e.length)return null;var n,o,i=t.length;if(t[0].length)for(n=new Array(i),o=0;o<i;o++)n[o]=r.dot(t[o],e);else if(e[0].length){var a=r.transposeRagged(e);for(n=new Array(a.length),o=0;o<a.length;o++)n[o]=r.dot(t,a[o])}else for(n=0,o=0;o<i;o++)n+=t[o]*e[o];return n},r.translationMatrix=function(t,e){return[[1,0,t],[0,1,e],[0,0,1]]},r.rotationMatrix=function(t){var e=t*Math.PI/180;return[[Math.cos(e),-Math.sin(e),0],[Math.sin(e),Math.cos(e),0],[0,0,1]]},r.rotationXYMatrix=function(t,e,n){return r.dot(r.dot(r.translationMatrix(e,n),r.rotationMatrix(t)),r.translationMatrix(-e,-n))},r.apply2DTransform=function(t){return function(){var e=arguments;3===e.length&&(e=e[0]);var n=1===arguments.length?e[0]:[e[0],e[1]];return r.dot(t,[n[0],n[1],1]).slice(0,2)}},r.apply2DTransform2=function(t){var e=r.apply2DTransform(t);return function(t){return e(t.slice(0,2)).concat(e(t.slice(2,4)))}}},{}],686:[function(t,e,r){"use strict";e.exports=function(t,e){var r=t%e;return r<0?r+e:r}},{}],687:[function(t,e,r){"use strict";function n(t,e){return function(){var r,o,i,a,s,l=t;for(a=0;a<e.length-1;a++){if(r=e[a],r===-1){for(o=!0,i=[],s=0;s<l.length;s++)i[s]=n(l[s],e.slice(a+1))(),i[s]!==i[0]&&(o=!1);return o?i[0]:i}if("number"==typeof r&&!h(l))return;if(l=l[r],"object"!=typeof l||null===l)return}if("object"==typeof l&&null!==l&&(i=l[e[a]],null!==i))return i}}function o(t,e){if(!c(t)||d(t)&&"]"===e.charAt(e.length-1)||e.match(v)&&void 0!==t)return!1;if(!h(t))return!0;if(e.match(m))return!0;var r=y(e);return r&&""===r.index}function i(t,e,r){return function(n){var i,c,p=t,f="",d=[[t,f]],y=o(n,r);for(c=0;c<e.length-1;c++){if(i=e[c],"number"==typeof i&&!h(p))throw"array index but container is not an array";if(i===-1){if(y=!s(p,e.slice(c+1),n,r))break;return}if(!l(p,i,e[c+1],y))break;if(p=p[i],"object"!=typeof p||null===p)throw"container is not an object";f=a(f,i),d.push([p,f])}y?(c===e.length-1&&delete p[e[c]],u(d)):p[e[c]]=n}}function a(t,e){var r=e;return f(e)?r="["+e+"]":t&&(r="."+e),t+r}function s(t,e,r,n){var a,s=h(r),u=!0,c=r,p=n.replace("-1",0),f=!s&&o(r,p),d=e[0];for(a=0;a<t.length;a++)p=n.replace("-1",a),s&&(c=r[a%r.length],f=o(c,p)),f&&(u=!1),l(t,a,d,f)&&i(t[a],e,n.replace("-1",a))(c);return u}function l(t,e,r,n){if(void 0===t[e]){if(n)return!1;"number"==typeof r?t[e]=[]:t[e]={}}return!0}function u(t){var e,r,n,i,s,l;for(e=t.length-1;e>=0;e--){if(n=t[e][0],i=t[e][1],l=!1,h(n))for(r=n.length-1;r>=0;r--)o(n[r],a(i,r))?l?n[r]=void 0:n.pop():l=!0;else if("object"==typeof n&&null!==n)for(s=Object.keys(n),l=!1,r=s.length-1;r>=0;r--)o(n[s[r]],a(i,s[r]))?delete n[s[r]]:l=!0;if(l)return}}function c(t){return void 0===t||null===t||"object"==typeof t&&(h(t)?!t.length:!Object.keys(t).length)}function p(t,e,r){return{set:function(){throw"bad container"},get:function(){},astr:e,parts:r,obj:t}}var f=t("fast-isnumeric"),h=t("./is_array"),d=t("./is_plain_object"),y=t("../plot_api/container_array_match");e.exports=function(t,e){if(f(e))e=String(e);else if("string"!=typeof e||"[-1]"===e.substr(e.length-4))throw"bad property string";for(var r,o,a,s=0,l=e.split(".");s<l.length;){if(r=String(l[s]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(r[1])l[s]=r[1];else{if(0!==s)throw"bad property string";l.splice(0,1)}for(o=r[2].substr(1,r[2].length-2).split("]["),a=0;a<o.length;a++)s++,l.splice(s,0,Number(o[a]))}s++}return"object"!=typeof t?p(t,e,l):{set:i(t,l,e),get:n(t,l),astr:e,parts:l,obj:t}};var m=/(^|\.)((domain|range)(\.[xy])?|args|parallels)$/,v=/(^|\.)args\[/},{"../plot_api/container_array_match":704,"./is_array":682,"./is_plain_object":683,"fast-isnumeric":113}],688:[function(t,e,r){"use strict";e.exports=function(){}},{}],689:[function(t,e,r){"use strict";var n=t("d3"),o=t("fast-isnumeric"),i=[];e.exports=function(t,e){function r(t){t.duration(700).style("opacity",0).each("end",function(t){var e=i.indexOf(t);e!==-1&&i.splice(e,1),n.select(this).remove()})}if(i.indexOf(t)===-1){i.push(t);var a=1e3;o(e)?a=e:"long"===e&&(a=3e3);var s=n.select("body").selectAll(".plotly-notifier").data([0]);s.enter().append("div").classed("plotly-notifier",!0);var l=s.selectAll(".notifier-note").data(i);l.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(t){var e=n.select(this);e.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){e.transition().call(r)});for(var o=e.append("p"),i=t.split(/<br\s*\/?>/g),s=0;s<i.length;s++)s&&o.append("br"),o.append("span").text(i[s]);e.transition().duration(700).style("opacity",1).transition().delay(a).call(r)})}}},{d3:104,"fast-isnumeric":113}],690:[function(t,e,r){"use strict";var n=t("./setcursor"),o="data-savedcursor",i="!!";e.exports=function(t,e){var r=t.attr(o);if(e){if(!r){for(var a=(t.attr("class")||"").split(" "),s=0;s<a.length;s++){var l=a[s];0===l.indexOf("cursor-")&&t.attr(o,l.substr(7)).classed(l,!1)}t.attr(o)||t.attr(o,i)}n(t,e)}else r&&(t.attr(o,null),r===i?n(t):n(t,r))}},{"./setcursor":696}],691:[function(t,e,r){"use strict";var n=t("./matrix").dot,o=e.exports={};o.tester=function(t){function e(t,e){var r=t[0],n=t[1];return!(r<o||r>i||n<a||n>s)&&(!e||!u(t))}function r(t,e){var r=t[0],l=t[1];if(r<o||r>i||l<a||l>s)return!1;var u,c,p,f,h,d=n.length,y=n[0][0],m=n[0][1],v=0;for(u=1;u<d;u++)if(c=y,p=m,y=n[u][0],m=n[u][1],f=Math.min(c,y),!(r<f||r>Math.max(c,y)||l>Math.max(p,m)))if(l<Math.min(p,m))r!==f&&v++;else{if(h=y===c?l:p+(r-c)*(m-p)/(y-c),l===h)return 1!==u||!e;l<=h&&r!==f&&v++}return v%2===1}var n=t.slice(),o=n[0][0],i=o,a=n[0][1],s=a;n.push(n[0]);for(var l=1;l<n.length;l++)o=Math.min(o,n[l][0]),i=Math.max(i,n[l][0]),a=Math.min(a,n[l][1]),s=Math.max(s,n[l][1]);var u,c=!1;return 5===n.length&&(n[0][0]===n[1][0]?n[2][0]===n[3][0]&&n[0][1]===n[3][1]&&n[1][1]===n[2][1]&&(c=!0,u=function(t){return t[0]===n[0][0]}):n[0][1]===n[1][1]&&n[2][1]===n[3][1]&&n[0][0]===n[3][0]&&n[1][0]===n[2][0]&&(c=!0,u=function(t){return t[1]===n[0][1]})),{xmin:o,xmax:i,ymin:a,ymax:s,pts:n,contains:c?e:r,isRect:c}};var i=o.isSegmentBent=function(t,e,r,o){var i,a,s,l=t[e],u=[t[r][0]-l[0],t[r][1]-l[1]],c=n(u,u),p=Math.sqrt(c),f=[-u[1]/p,u[0]/p];for(i=e+1;i<r;i++)if(a=[t[i][0]-l[0],t[i][1]-l[1]],s=n(a,u),s<0||s>c||Math.abs(n(a,f))>o)return!0;return!1};o.filter=function(t,e){function r(r){t.push(r);var s=n.length,l=o;n.splice(a+1);for(var u=l+1;u<t.length;u++)(u===t.length-1||i(t,l,u+1,e))&&(n.push(t[u]),n.length<s-2&&(o=u,a=n.length-1),l=u)}var n=[t[0]],o=0,a=0;if(t.length>1){var s=t.pop();r(s)}return{addPt:r,raw:t,filtered:n}}},{"./matrix":685}],692:[function(t,e,r){"use strict";e.exports=function(t,e){if(e instanceof RegExp){var r,n=e.toString();for(r=0;r<t.length;r++)if(t[r]instanceof RegExp&&t[r].toString()===n)return t;t.push(e)}else e&&t.indexOf(e)===-1&&t.push(e);return t}},{}],693:[function(t,e,r){"use strict";function n(t,e){for(var r,n=[],i=0;i<e.length;i++)r=e[i],r===t?n[i]=r:"object"==typeof r?n[i]=Array.isArray(r)?o.extendDeep([],r):o.extendDeepAll({},r):n[i]=r;return n}var o=t("../lib"),i=t("../plot_api/plot_config"),a={};a.add=function(t,e,r,n,o){var a,s;return t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},s=t.undoQueue.index,t.autoplay?void(t.undoQueue.inSequence||(t.autoplay=!1)):(!t.undoQueue.sequence||t.undoQueue.beginSequence?(a={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},t.undoQueue.queue.splice(s,t.undoQueue.queue.length-s,a),t.undoQueue.index+=1):a=t.undoQueue.queue[s-1],t.undoQueue.beginSequence=!1,a&&(a.undo.calls.unshift(e),a.undo.args.unshift(r),a.redo.calls.push(n),a.redo.args.push(o)),void(t.undoQueue.queue.length>i.queueLength&&(t.undoQueue.queue.shift(),t.undoQueue.index--)))},a.startSequence=function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!0,t.undoQueue.beginSequence=!0},a.stopSequence=function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!1,t.undoQueue.beginSequence=!1},a.undo=function(t){var e,r;if(t.framework&&t.framework.isPolar)return void t.framework.undo();if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index<=0)){for(t.undoQueue.index--,e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,r=0;r<e.undo.calls.length;r++)a.plotDo(t,e.undo.calls[r],e.undo.args[r]);t.undoQueue.inSequence=!1,t.autoplay=!1}},a.redo=function(t){var e,r;if(t.framework&&t.framework.isPolar)return void t.framework.redo();if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index>=t.undoQueue.queue.length)){for(e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,r=0;r<e.redo.calls.length;r++)a.plotDo(t,e.redo.calls[r],e.redo.args[r]);t.undoQueue.inSequence=!1,t.autoplay=!1,t.undoQueue.index++}},a.plotDo=function(t,e,r){t.autoplay=!0,r=n(t,r),e.apply(null,r)},e.exports=a},{"../lib":681,"../plot_api/plot_config":708}],694:[function(t,e,r){"use strict";var n=t("./is_array"),o=t("./is_plain_object");e.exports=function t(e,r){for(var i=Object.keys(r||{}),a=0;a<i.length;a++){var s=i[a],l=r[s],u=e[s];if("_"===s.charAt(0)||"function"==typeof l){if(s in e)continue;e[s]=l}else if(n(l)&&n(u)&&o(l[0]))for(var c=0;c<l.length;c++)o(l[c])&&o(u[c])&&t(u[c],l[c]);else o(l)&&o(u)&&(t(u,l),Object.keys(u).length||delete e[s])}}},{"./is_array":682,"./is_plain_object":683}],695:[function(t,e,r){"use strict";function n(t,e){return t<e}function o(t,e){return t<=e}function i(t,e){return t>e}function a(t,e){return t>=e}var s=t("fast-isnumeric"),l=t("./loggers");r.findBin=function(t,e,r){if(s(e.start))return r?Math.ceil((t-e.start)/e.size)-1:Math.floor((t-e.start)/e.size);var u,c,p=0,f=e.length,h=0;for(c=e[e.length-1]>=e[0]?r?n:o:r?a:i;p<f&&h++<100;)u=Math.floor((p+f)/2),c(e[u],t)?p=u+1:f=u;return h>90&&l.log("Long binary search..."),p-1},r.sorterAsc=function(t,e){return t-e},r.sorterDes=function(t,e){return e-t},r.distinctVals=function(t){var e=t.slice();e.sort(r.sorterAsc);for(var n=e.length-1,o=e[n]-e[0]||1,i=o/(n||1)/1e4,a=[e[0]],s=0;s<n;s++)e[s+1]>e[s]+i&&(o=Math.min(o,e[s+1]-e[s]),a.push(e[s+1]));return{vals:a,minDiff:o}},r.roundUp=function(t,e,r){for(var n,o=0,i=e.length-1,a=0,s=r?0:1,l=r?1:0,u=r?Math.ceil:Math.floor;o<i&&a++<100;)n=u((o+i)/2),e[n]<=t?o=n+s:i=n-l;return e[o]}},{"./loggers":684,"fast-isnumeric":113}],696:[function(t,e,r){"use strict";e.exports=function(t,e){(t.attr("class")||"").split(" ").forEach(function(e){0===e.indexOf("cursor-")&&t.classed(e,!1)}),e&&t.classed("cursor-"+e,!0)}},{}],697:[function(t,e,r){"use strict";var n=t("../components/color"),o=function(){};e.exports=function(t){for(var e in t)"function"==typeof t[e]&&(t[e]=o);t.destroy=function(){t.container.parentNode.removeChild(t.container)};var r=document.createElement("div");return r.textContent="Webgl is not supported by your browser - visit http://get.webgl.org for more info",r.style.cursor="pointer",r.style.fontSize="24px",r.style.color=n.defaults[0],t.container.appendChild(r),t.container.style.background="#FFFFFF",t.container.onclick=function(){window.open("http://get.webgl.org")},!1}},{"../components/color":576}],698:[function(t,e,r){"use strict";var n=t("fast-isnumeric");r.aggNums=function(t,e,o,i){var a,s;if(i||(i=o.length),n(e)||(e=!1),Array.isArray(o[0])){for(s=new Array(i),a=0;a<i;a++)s[a]=r.aggNums(t,e,o[a]);o=s}for(a=0;a<i;a++)n(e)?n(o[a])&&(e=t(+e,+o[a])):e=o[a];return e},r.len=function(t){return r.aggNums(function(t){return t+1},0,t)},r.mean=function(t,e){return e||(e=r.len(t)),r.aggNums(function(t,e){return t+e},0,t)/e},r.variance=function(t,e,o){return e||(e=r.len(t)),n(o)||(o=r.mean(t,e)),r.aggNums(function(t,e){return t+Math.pow(e-o,2)},0,t)/e},r.stdev=function(t,e,n){return Math.sqrt(r.variance(t,e,n))},r.interp=function(t,e){if(!n(e))throw"n should be a finite number";if(e=e*t.length-.5,e<0)return t[0];if(e>t.length-1)return t[t.length-1];var r=e%1;return r*t[Math.ceil(e)]+(1-r)*t[Math.floor(e)]}},{"fast-isnumeric":113}],699:[function(t,e,r){"use strict";function n(t){var e=o(t);return e.length?e:[0,0,0,1]}var o=t("color-rgba");e.exports=n},{"color-rgba":85}],700:[function(t,e,r){"use strict";function n(t,e){return t.node().getBoundingClientRect()[e]}function o(t){return t.replace(/(<|&lt;|&#60;)/g,"\\lt ").replace(/(>|&gt;|&#62;)/g,"\\gt ")}function i(t,e,r){var n="math-output-"+f.randstr([],64),i=p.select("body").append("div").attr({id:n}).style({visibility:"hidden",position:"absolute"}).style({"font-size":e.fontSize+"px"}).text(o(t));MathJax.Hub.Queue(["Typeset",MathJax.Hub,i.node()],function(){var e=p.select("body").select("#MathJax_SVG_glyphs");if(i.select(".MathJax_SVG").empty()||!i.select("svg").node())f.log("There was an error in the tex syntax.",t),r();else{var n=i.select("svg").node().getBoundingClientRect();r(i.select(".MathJax_SVG"),e,n)}i.remove()})}function a(t,e){for(var r=t||"",n=0;n<e.length;n++){var o=e[n];r=r.replace(o.regExp,o.sub)}return r}function s(t){return a(t,g)}function l(t){return a(t,b)}function u(t){t=s(t),t=t.replace(x," ");for(var e=t.split(/(<[^<>]*>)/).map(function(t){var e=t.match(/<(\/?)([^ >]*)\s*(.*)>/i),n=e&&e[2].toLowerCase(),o=y[n];if(void 0!==o){var i=e[1],a=e[3],s=a.match(/^style\s*=\s*"([^"]+)"\s*/i);if("a"===n){if(i)return"</a>";if("href"!==a.substr(0,4).toLowerCase())return"<a>";var u=a.substr(4).replace(/["']/g,"").replace(/=/,""),c=document.createElement("a");return c.href=u,m.indexOf(c.protocol)===-1?"<a>":'<a xlink:show="new" xlink:href="'+l(u)+'">'}if("br"===n)return"<br>";if(i)return"sup"===n?'</tspan><tspan dy="0.42em">&#x200b;</tspan>':"sub"===n?'</tspan><tspan dy="-0.21em">&#x200b;</tspan>':"</tspan>";var p="<tspan";return"sup"!==n&&"sub"!==n||(p="&#x200b;"+p),s&&(s=s[1].replace(/(^|;)\s*color:/,"$1 fill:"),o=l(s)+(o?";"+o:"")),p+(o?' style="'+o+'"':"")+">"}return r.xml_entity_encode(t).replace(/</g,"&lt;")}),n=[],o=e.indexOf("<br>");o>0;o=e.indexOf("<br>",o+1))n.push(o);var i=0;n.forEach(function(t){for(var r=t+i,n=e.slice(0,r),o="",a=n.length-1;a>=0;a--){var s=n[a].match(/<(\/?).*>/i);if(s&&"<br>"!==n[a]){s[1]||(o=n[a]);break}}o&&(e.splice(r+1,0,o),e.splice(r,0,"</tspan>"),i+=2)});var a=e.join(""),u=a.split(/<br>/gi);return u.length>1&&(e=u.map(function(t,e){return'<tspan class="line" dy="'+1.3*e+'em">'+t+"</tspan>"})),e.join("")}function c(t,e,r){var n,o,i,a=r.horizontalAlign,s=r.verticalAlign||"top",l=t.node().getBoundingClientRect(),u=e.node().getBoundingClientRect();return o="bottom"===s?function(){return l.bottom-n.height}:"middle"===s?function(){return l.top+(l.height-n.height)/2}:function(){return l.top},i="right"===a?function(){return l.right-n.width}:"center"===a?function(){return l.left+(l.width-n.width)/2}:function(){return l.left},function(){return n=this.node().getBoundingClientRect(),this.style({top:o()-u.top+"px",left:i()-u.left+"px","z-index":1e3}),this}}var p=t("d3"),f=t("../lib"),h=t("../constants/xmlns_namespaces"),d=t("../constants/string_mappings");p.selection.prototype.appendSVG=function(t){for(var e=['<svg xmlns="',h.svg,'" ','xmlns:xlink="',h.xlink,'">',t,"</svg>"].join(""),r=(new DOMParser).parseFromString(e,"application/xml"),n=r.documentElement.firstChild;n;)this.node().appendChild(this.node().ownerDocument.importNode(n,!0)),n=n.nextSibling;return r.querySelector("parsererror")?(f.log(r.querySelector("parsererror div").textContent),null):p.select(this.node().lastChild)},r.html_entity_decode=function(t){var e=p.select("body").append("div").style({display:"none"}).html(""),r=t.replace(/(&[^;]*;)/gi,function(t){return"&lt;"===t?"&#60;":"&rt;"===t?"&#62;":t.indexOf("<")!==-1||t.indexOf(">")!==-1?"":e.html(t).text()});return e.remove(),r},r.xml_entity_encode=function(t){return t.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")},r.convertToTspans=function(t,e){function r(){h.empty()||(d=s.attr("class")+"-math",h.select("svg."+d).remove()),t.text("").style({visibility:"inherit","white-space":"pre"}),c=t.appendSVG(a),c||t.text(o),t.select("a").size()&&t.style("pointer-events","all"),e&&e.call(s)}var o=t.text(),a=u(o),s=t,l=!s.attr("data-notex")&&a.match(/([^$]*)([$]+[^$]*[$]+)([^$]*)/),c=o,h=p.select(s.node().parentNode);if(!h.empty()){var d=s.attr("class")?s.attr("class").split(" ")[0]:"text";d+="-math",h.selectAll("svg."+d).remove(),h.selectAll("g."+d+"-group").remove(),t.style({visibility:null});for(var y=t.node();y&&y.removeAttribute;y=y.parentNode)y.removeAttribute("data-bb");if(l){var m=f.getPlotDiv(s.node());(m&&m._promises||[]).push(new Promise(function(t){s.style({visibility:"hidden"});var o={fontSize:parseInt(s.style("font-size"),10)};i(l[2],o,function(o,i,a){h.selectAll("svg."+d).remove(),h.selectAll("g."+d+"-group").remove();var l=o&&o.select("svg");if(!l||!l.node())return r(),void t();var u=h.append("g").classed(d+"-group",!0).attr({"pointer-events":"none"});u.node().appendChild(l.node()),i&&i.node()&&l.node().insertBefore(i.node().cloneNode(!0),l.node().firstChild),l.attr({class:d,height:a.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var c=s.style("fill")||"black";l.select("g").attr({fill:c,stroke:c});var p=n(l,"width"),f=n(l,"height"),y=+s.attr("x")-p*{start:0,middle:.5,end:1}[s.attr("text-anchor")||"start"],m=parseInt(s.style("font-size"),10)||n(s,"height"),v=-m/4;"y"===d[0]?(u.attr({transform:"rotate("+[-90,+s.attr("x"),+s.attr("y")]+") translate("+[-p/2,v-f/2]+")"}),l.attr({x:+s.attr("x"),y:+s.attr("y")})):"l"===d[0]?l.attr({x:s.attr("x"),y:v-f/2}):"a"===d[0]?l.attr({x:0,y:v}):l.attr({x:y,y:+s.attr("y")+v-f/2}),e&&e.call(s,u),t(u)})}))}else r();return t}};var y={sup:'font-size:70%" dy="-0.6em',sub:'font-size:70%" dy="0.3em',b:"font-weight:bold",i:"font-style:italic",a:"",span:"",br:"",em:"font-style:italic;font-weight:bold"},m=["http:","https:","mailto:"],v=new RegExp("</?("+Object.keys(y).join("|")+")( [^>]*)?/?>","g"),g=Object.keys(d.entityToUnicode).map(function(t){return{regExp:new RegExp("&"+t+";","g"),sub:d.entityToUnicode[t]}}),b=Object.keys(d.unicodeToEntity).map(function(t){return{regExp:new RegExp(t,"g"),sub:"&"+d.unicodeToEntity[t]+";"}}),x=/(\r\n?|\n)/g;r.plainText=function(t){return(t||"").replace(v," ")},r.makeEditable=function(t,e,r){function n(){i(),a.style({opacity:0});var t,e=u.attr("class");t=e?"."+e.split(" ")[0]+"-math-group":"[class*=-math-group]",t&&p.select(a.node().parentNode).select(t).style({opacity:0})}function o(t){var e=t.node(),r=document.createRange();r.selectNodeContents(e);var n=window.getSelection();n.removeAllRanges(),n.addRange(r),e.focus()}function i(){var t=f.getPlotDiv(a.node()),e=p.select(t),n=e.select(".svg-container"),i=n.append("div");i.classed("plugin-editable editable",!0).style({position:"absolute","font-family":a.style("font-family")||"Arial","font-size":a.style("font-size")||12,color:r.fill||a.style("fill")||"black",opacity:1,"background-color":r.background||"transparent",outline:"#ffffff33 1px solid",margin:[-parseFloat(a.style("font-size"))/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(r.text||a.attr("data-unformatted")).call(c(a,n,r)).on("blur",function(){t._editing=!1,a.text(this.textContent).style({opacity:1});var e,r=p.select(this).attr("class");e=r?"."+r.split(" ")[0]+"-math-group":"[class*=-math-group]",e&&p.select(a.node().parentNode).select(e).style({opacity:0});var n=this.textContent;p.select(this).transition().duration(0).remove(),p.select(document).on("mouseup",null),s.edit.call(a,n)}).on("focus",function(){var e=this;t._editing=!0,p.select(document).on("mouseup",function(){return p.event.target!==e&&void(document.activeElement===i.node()&&i.node().blur())})}).on("keyup",function(){27===p.event.which?(t._editing=!1,a.style({opacity:1}),p.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),s.cancel.call(a,this.textContent)):(s.input.call(a,this.textContent),p.select(this).call(c(a,n,r)))}).on("keydown",function(){13===p.event.which&&this.blur()}).call(o)}r||(r={});var a=this,s=p.dispatch("edit","input","cancel"),l=p.select(this.node()).style({"pointer-events":"all"}),u=e||l;return e&&l.style({"pointer-events":"none"}),r.immediate?n():u.on("click",n),p.rebind(this,s,"on")}},{"../constants/string_mappings":664,"../constants/xmlns_namespaces":665,"../lib":681,d3:104}],701:[function(t,e,r){"use strict";var n=t("fast-isnumeric");e.exports=function(t,e){if(t>0)return Math.log(t)/Math.LN10;var r=Math.log(Math.min(e[0],e[1]))/Math.LN10;return n(r)||(r=Math.log(Math.max(e[0],e[1]))/Math.LN10-6),r}},{"fast-isnumeric":113}],702:[function(t,e,r){"use strict";var n=e.exports={},o=t("../plots/geo/constants").locationmodeToLayer,i=t("topojson-client").feature;n.getTopojsonName=function(t){return[t.scope.replace(/ /g,"-"),"_",t.resolution.toString(),"m"].join("")},n.getTopojsonPath=function(t,e){return t+e+".json"},n.getTopojsonFeatures=function(t,e){var r=o[t.locationmode],n=e.objects[r];return i(e,n).features}},{"../plots/geo/constants":742,"topojson-client":514}],703:[function(t,e,r){"use strict";function n(t,e){for(var r=new Float32Array(e),n=0;n<e;n++)r[n]=t[n];return r}function o(t,e){for(var r=new Float64Array(e),n=0;n<e;n++)r[n]=t[n];return r}e.exports=function(t,e){if(t instanceof Float32Array)return n(t,e);if(t instanceof Float64Array)return o(t,e);throw new Error("This array type is not yet supported by `truncate`.")}},{}],704:[function(t,e,r){"use strict";var n=t("../registry");e.exports=function(t){for(var e,r,o=n.layoutArrayContainers,i=n.layoutArrayRegexes,a=t.split("[")[0],s=0;s<i.length;s++)if(r=t.match(i[s]),r&&0===r.index){e=r[0];break}if(e||(e=o[o.indexOf(a)]),!e)return!1;var l=t.substr(e.length);return l?(r=l.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),!!r&&{array:e,index:Number(r[1]),property:r[3]||""}):{array:e,index:"",property:""}}},{"../registry":794}],705:[function(t,e,r){"use strict";function n(t,e){var r=t[e],n=e.charAt(0);r&&"paper"!==r&&(t[e]=f.cleanId(r,n))}function o(t){var e="middle",r="center";return t.indexOf("top")!==-1?e="top":t.indexOf("bottom")!==-1&&(e="bottom"),t.indexOf("left")!==-1?r="left":t.indexOf("right")!==-1&&(r="right"),e+" "+r}function i(t,e){return e in t&&"object"==typeof t[e]&&0===Object.keys(t[e]).length}function a(t){var e=t.search(d);if(e>0)return t.substr(0,e)}var s=t("fast-isnumeric"),l=t("gl-mat4/fromQuat"),u=t("../registry"),c=t("../lib"),p=t("../plots/plots"),f=t("../plots/cartesian/axes"),h=t("../components/color");r.getGraphDiv=function(t){var e;if("string"==typeof t){if(e=document.getElementById(t),null===e)throw new Error("No DOM element with id '"+t+"' exists on the page.");return e}if(null===t||void 0===t)throw new Error("DOM element provided is null or undefined");return t},r.clearPromiseQueue=function(t){Array.isArray(t._promises)&&t._promises.length>0&&c.log("Clearing previous rejected promises from queue."),t._promises=[]},r.cleanLayout=function(t){var e,r;t||(t={}),t.xaxis1&&(t.xaxis||(t.xaxis=t.xaxis1),delete t.xaxis1),t.yaxis1&&(t.yaxis||(t.yaxis=t.yaxis1),delete t.yaxis1);var o=f.list({_fullLayout:t});for(e=0;e<o.length;e++){var a=o[e];a.anchor&&"free"!==a.anchor&&(a.anchor=f.cleanId(a.anchor)),a.overlaying&&(a.overlaying=f.cleanId(a.overlaying)),a.type||(a.isdate?a.type="date":a.islog?a.type="log":a.isdate===!1&&a.islog===!1&&(a.type="linear")),"withzero"!==a.autorange&&"tozero"!==a.autorange||(a.autorange=!0,a.rangemode="tozero"),delete a.islog,delete a.isdate,delete a.categories,i(a,"domain")&&delete a.domain,void 0!==a.autotick&&(void 0===a.tickmode&&(a.tickmode=a.autotick?"auto":"linear"),
delete a.autotick)}var s=Array.isArray(t.annotations)?t.annotations.length:0;for(e=0;e<s;e++){var u=t.annotations[e];c.isPlainObject(u)&&(u.ref&&("paper"===u.ref?(u.xref="paper",u.yref="paper"):"data"===u.ref&&(u.xref="x",u.yref="y"),delete u.ref),n(u,"xref"),n(u,"yref"))}var d=Array.isArray(t.shapes)?t.shapes.length:0;for(e=0;e<d;e++){var y=t.shapes[e];c.isPlainObject(y)&&(n(y,"xref"),n(y,"yref"))}var m=t.legend;m&&(m.x>3?(m.x=1.02,m.xanchor="left"):m.x<-2&&(m.x=-.02,m.xanchor="right"),m.y>3?(m.y=1.02,m.yanchor="bottom"):m.y<-2&&(m.y=-.02,m.yanchor="top")),"rotate"===t.dragmode&&(t.dragmode="orbit"),t.scene1&&(t.scene||(t.scene=t.scene1),delete t.scene1);var v=p.getSubplotIds(t,"gl3d");for(e=0;e<v.length;e++){var g=t[v[e]],b=g.cameraposition;if(Array.isArray(b)&&4===b[0].length){var x=b[0],_=b[1],w=b[2],T=l([],x),M=[];for(r=0;r<3;++r)M[r]=_[e]+w*T[2+4*r];g.camera={eye:{x:M[0],y:M[1],z:M[2]},center:{x:_[0],y:_[1],z:_[2]},up:{x:T[1],y:T[5],z:T[9]}},delete g.cameraposition}}return h.clean(t),t},r.cleanData=function(t,e){for(var n=[],a=(t.concat(Array.isArray(e)?e:[]).filter(function(t){return"uid"in t}).map(function(t){return t.uid})),s=0;s<t.length;s++){var l,d=t[s];if(!("uid"in d)||n.indexOf(d.uid)!==-1){var y;for(l=0;l<100&&(y=c.randstr(a),n.indexOf(y)!==-1);l++);d.uid=c.randstr(a),a.push(d.uid)}if(n.push(d.uid),"histogramy"===d.type&&"xbins"in d&&!("ybins"in d)&&(d.ybins=d.xbins,delete d.xbins),d.error_y&&"opacity"in d.error_y){var m=h.defaults,v=d.error_y.color||(u.traceIs(d,"bar")?h.defaultLine:m[s%m.length]);d.error_y.color=h.addOpacity(h.rgb(v),h.opacity(v)*d.error_y.opacity),delete d.error_y.opacity}if("bardir"in d&&("h"!==d.bardir||!u.traceIs(d,"bar")&&"histogram"!==d.type.substr(0,9)||(d.orientation="h",r.swapXYData(d)),delete d.bardir),"histogramy"===d.type&&r.swapXYData(d),"histogramx"!==d.type&&"histogramy"!==d.type||(d.type="histogram"),"scl"in d&&(d.colorscale=d.scl,delete d.scl),"reversescl"in d&&(d.reversescale=d.reversescl,delete d.reversescl),d.xaxis&&(d.xaxis=f.cleanId(d.xaxis,"x")),d.yaxis&&(d.yaxis=f.cleanId(d.yaxis,"y")),u.traceIs(d,"gl3d")&&d.scene&&(d.scene=p.subplotsRegistry.gl3d.cleanId(d.scene)),u.traceIs(d,"pie")||u.traceIs(d,"bar")||(Array.isArray(d.textposition)?d.textposition=d.textposition.map(o):d.textposition&&(d.textposition=o(d.textposition))),u.traceIs(d,"2dMap")&&("YIGnBu"===d.colorscale&&(d.colorscale="YlGnBu"),"YIOrRd"===d.colorscale&&(d.colorscale="YlOrRd")),u.traceIs(d,"markerColorscale")&&d.marker){var g=d.marker;"YIGnBu"===g.colorscale&&(g.colorscale="YlGnBu"),"YIOrRd"===g.colorscale&&(g.colorscale="YlOrRd")}if("surface"===d.type&&c.isPlainObject(d.contours)){var b=["x","y","z"];for(l=0;l<b.length;l++){var x=d.contours[b[l]];c.isPlainObject(x)&&(x.highlightColor&&(x.highlightcolor=x.highlightColor,delete x.highlightColor),x.highlightWidth&&(x.highlightwidth=x.highlightWidth,delete x.highlightWidth))}}if(Array.isArray(d.transforms)){var _=d.transforms;for(l=0;l<_.length;l++){var w=_[l];c.isPlainObject(w)&&"filter"===w.type&&(w.filtersrc&&(w.target=w.filtersrc,delete w.filtersrc),w.calendar&&(w.valuecalendar||(w.valuecalendar=w.calendar),delete w.calendar))}}i(d,"line")&&delete d.line,"marker"in d&&(i(d.marker,"line")&&delete d.marker.line,i(d,"marker")&&delete d.marker),h.clean(d)}},r.swapXYData=function(t){var e;if(c.swapAttrs(t,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(t.z)&&Array.isArray(t.z[0])&&(t.transpose?delete t.transpose:t.transpose=!0),t.error_x&&t.error_y){var r=t.error_y,n="copy_ystyle"in r?r.copy_ystyle:!(r.color||r.thickness||r.width);c.swapAttrs(t,["error_?.copy_ystyle"]),n&&c.swapAttrs(t,["error_?.color","error_?.thickness","error_?.width"])}if(t.hoverinfo){var o=t.hoverinfo.split("+");for(e=0;e<o.length;e++)"x"===o[e]?o[e]="y":"y"===o[e]&&(o[e]="x");t.hoverinfo=o.join("+")}},r.coerceTraceIndices=function(t,e){return s(e)?[e]:Array.isArray(e)&&e.length?e:t.data.map(function(t,e){return e})},r.manageArrayContainers=function(t,e,r){var n=t.obj,o=t.parts,i=o.length,a=o[i-1],l=s(a);if(l&&null===e){var u=o.slice(0,i-1).join("."),p=c.nestedProperty(n,u).get();p.splice(a,1)}else l&&void 0===t.get()?(void 0===t.get()&&(r[t.astr]=null),t.set(e)):t.set(e)};var d=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;r.hasParent=function(t,e){for(var r=a(e);r;){if(r in t)return!0;r=a(r)}return!1}},{"../components/color":576,"../lib":681,"../plots/cartesian/axes":720,"../plots/plots":779,"../registry":794,"fast-isnumeric":113,"gl-mat4/fromQuat":159}],706:[function(t,e,r){"use strict";var n=t("../lib/nested_property"),o=t("../lib/is_plain_object"),i=t("../lib/noop"),a=t("../lib/loggers"),s=t("../registry");r.containerArrayMatch=t("./container_array_match");var l=r.isAddVal=function(t){return"add"===t||o(t)},u=r.isRemoveVal=function(t){return null===t||"remove"===t};r.applyContainerArrayChanges=function(t,e,r,o){var c=e.astr,p=s.getComponentMethod(c,"supplyLayoutDefaults"),f=s.getComponentMethod(c,"draw"),h=s.getComponentMethod(c,"drawOne"),d=o.replot||o.recalc||p===i||f===i,y=t.layout,m=t._fullLayout;if(r[""]){Object.keys(r).length>1&&a.warn("Full array edits are incompatible with other edits",c);var v=r[""][""];if(u(v))e.set(null);else{if(!Array.isArray(v))return a.warn("Unrecognized full array edit value",c,v),!0;e.set(v)}return!d&&(p(y,m),f(t),!0)}var g,b,x,_,w,T,M,S=Object.keys(r).map(Number).sort(),E=e.get(),k=E||[],C=n(m,c).get(),A=[],P=-1,L=k.length;for(g=0;g<S.length;g++)if(x=S[g],_=r[x],w=Object.keys(_),T=_[""],M=l(T),x<0||x>k.length-(M?0:1))a.warn("index out of range",c,x);else if(void 0!==T)w.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",c,x),u(T)?A.push(x):M?("add"===T&&(T={}),k.splice(x,0,T),C&&C.splice(x,0,{})):a.warn("Unrecognized full object edit value",c,x,T),P===-1&&(P=x);else for(b=0;b<w.length;b++)n(k[x],w[b]).set(_[w[b]]);for(g=A.length-1;g>=0;g--)k.splice(A[g],1),C&&C.splice(A[g],1);if(k.length?E||e.set(k):e.set(null),d)return!1;if(p(y,m),h!==i){var D;if(P===-1)D=S;else{for(L=Math.max(k.length,L),D=[],g=0;g<S.length&&(x=S[g],!(x>=P));g++)D.push(x);for(g=P;g<L;g++)D.push(g)}for(g=0;g<D.length;g++)h(t,D[g])}else f(t);return!0}},{"../lib/is_plain_object":683,"../lib/loggers":684,"../lib/nested_property":687,"../lib/noop":688,"../registry":794,"./container_array_match":704}],707:[function(t,e,r){"use strict";function n(t,e){t._fullLayout._paperdiv.style("background","white"),g.defaultConfig.setBackground(t,e)}function o(t,e){t._context||(t._context=b.extendFlat({},g.defaultConfig));var r=t._context;e&&(Object.keys(e).forEach(function(t){t in r&&("setBackground"===t&&"opaque"===e[t]?r[t]=n:r[t]=e[t])}),e.plot3dPixelRatio&&!r.plotGlPixelRatio&&(r.plotGlPixelRatio=r.plot3dPixelRatio)),r.staticPlot&&(r.editable=!1,r.autosizable=!1,r.scrollZoom=!1,r.doubleClick=!1,r.showTips=!1,r.showLink=!1,r.displayModeBar=!1)}function i(t,e,r){var n=m.select(t).selectAll(".plot-container").data([0]);n.enter().insert("div",":first-child").classed("plot-container plotly",!0);var o=n.selectAll(".svg-container").data([0]);o.enter().append("div").classed("svg-container",!0).style("position","relative"),o.html(""),e&&(t.data=e),r&&(t.layout=r),S.manager.fillLayout(t),o.style({width:t._fullLayout.width+"px",height:t._fullLayout.height+"px"}),t.framework=S.manager.framework(t),t.framework({data:t.data,layout:t.layout},o.node()),t.framework.setUndoPoint();var i=t.framework.svg(),a=1,s=t._fullLayout.title;""!==s&&s||(a=0);var l="Click to enter title",u=function(){this.call(A.convertToTspans)},c=i.select(".title-group text").call(u);if(t._context.editable){c.attr({"data-unformatted":s}),s&&s!==l||(a=.2,c.attr({"data-unformatted":l}).text(l).style({opacity:a}).on("mouseover.opacity",function(){m.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){m.select(this).transition().duration(1e3).style("opacity",0)}));var p=function(){this.call(A.makeEditable).on("edit",function(e){t.framework({layout:{title:e}}),this.attr({"data-unformatted":e}).text(e).call(u),this.call(p)}).on("cancel",function(){var t=this.attr("data-unformatted");this.text(t).call(u)})};c.call(p)}return t._context.setBackground(t,t._fullLayout.paper_bgcolor),T.addLinks(t),Promise.resolve()}function a(t,e){var r,n,o=e+1,i=[];for(r=0;r<t.length;r++)n=t[r],n<0?i.push(o+n):i.push(n);return i}function s(t,e,r){var n,o;for(n=0;n<e.length;n++){if(o=e[n],o!==parseInt(o,10))throw new Error("all values in "+r+" must be integers");if(o>=t.data.length||o<-t.data.length)throw new Error(r+" must be valid indices for gd.data.");if(e.indexOf(o,n+1)>-1||o>=0&&e.indexOf(-t.data.length+o)>-1||o<0&&e.indexOf(t.data.length+o)>-1)throw new Error("each index in "+r+" must be unique.")}}function l(t,e,r){if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if("undefined"==typeof e)throw new Error("currentIndices is a required argument.");if(Array.isArray(e)||(e=[e]),s(t,e,"currentIndices"),"undefined"==typeof r||Array.isArray(r)||(r=[r]),"undefined"!=typeof r&&s(t,r,"newIndices"),"undefined"!=typeof r&&e.length!==r.length)throw new Error("current and new indices must be of equal length.")}function u(t,e,r){var n,o;if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if("undefined"==typeof e)throw new Error("traces must be defined.");for(Array.isArray(e)||(e=[e]),n=0;n<e.length;n++)if(o=e[n],"object"!=typeof o||Array.isArray(o)||null===o)throw new Error("all values in traces array must be non-array objects");if("undefined"==typeof r||Array.isArray(r)||(r=[r]),"undefined"!=typeof r&&r.length!==e.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function c(t,e,r,n){var o=b.isPlainObject(n);if(!Array.isArray(t.data))throw new Error("gd.data must be an array");if(!b.isPlainObject(e))throw new Error("update must be a key:value object");if("undefined"==typeof r)throw new Error("indices must be an integer or array of integers");s(t,r,"indices");for(var i in e){if(!Array.isArray(e[i])||e[i].length!==r.length)throw new Error("attribute "+i+" must be an array of length equal to indices array length");if(o&&(!(i in n)||!Array.isArray(n[i])||n[i].length!==e[i].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function p(t,e,r,n){var o,i,s,l,u,c=b.isPlainObject(n),p=[];Array.isArray(r)||(r=[r]),r=a(r,t.data.length-1);for(var f in e)for(var h=0;h<r.length;h++){if(o=t.data[r[h]],s=b.nestedProperty(o,f),i=s.get(),l=e[f][h],!Array.isArray(l))throw new Error("attribute: "+f+" index: "+h+" must be an array");if(!Array.isArray(i))throw new Error("cannot extend missing or non-array attribute: "+f);u=c?n[f][h]:n,v(u)||(u=-1),p.push({prop:s,target:i,insert:l,maxp:Math.floor(u)})}return p}function f(t,e,r,n,o,i){c(t,e,r,n);for(var a,s,l,u=p(t,e,r,n),f=[],h={},d={},y=0;y<u.length;y++)s=u[y].prop,l=u[y].maxp,a=o(u[y].target,u[y].insert),l>=0&&l<a.length&&(f=i(a,l)),l=u[y].target.length,s.set(a),Array.isArray(h[s.astr])||(h[s.astr]=[]),Array.isArray(d[s.astr])||(d[s.astr]=[]),h[s.astr].push(f),d[s.astr].push(l);return{update:h,maxPoints:d}}function h(t,e,r){function n(){return h.map(function(){})}function o(t){var e=g.Axes.id2name(t);u.indexOf(e)===-1&&u.push(e)}function i(t){return"LAYOUT"+t+".autorange"}function a(t){return"LAYOUT"+t+".range"}function s(r,o,i){if(Array.isArray(r))return void r.forEach(function(t){s(t,o,i)});if(!(r in e||L.hasParent(e,r))){var a;a="LAYOUT"===r.substr(0,6)?b.nestedProperty(t.layout,r.replace("LAYOUT","")):b.nestedProperty(f[h[i]],r),r in m||(m[r]=n()),void 0===m[r][i]&&(m[r][i]=a.get()),void 0!==o&&a.set(o)}}var l,u,c=t._fullLayout,p=t._fullData,f=t.data,h=L.coerceTraceIndices(t,r),d={docalc:!1,docalcAutorange:!1,doplot:!1,dostyle:!1,docolorbars:!1,autorangeOn:!1,clearCalc:!1,fullReplot:!1},y={},m={},v={},x=["mode","visible","type","orientation","fill","histfunc","histnorm","text","x","y","z","a","b","c","open","high","low","close","base","width","offset","xtype","x0","dx","ytype","y0","dy","xaxis","yaxis","line.width","connectgaps","transpose","zsmooth","showscale","marker.showscale","zauto","marker.cauto","autocolorscale","marker.autocolorscale","colorscale","marker.colorscale","reversescale","marker.reversescale","autobinx","nbinsx","xbins","xbins.start","xbins.end","xbins.size","autobiny","nbinsy","ybins","ybins.start","ybins.end","ybins.size","autocontour","ncontours","contours","contours.coloring","error_y","error_y.visible","error_y.value","error_y.type","error_y.traceref","error_y.array","error_y.symmetric","error_y.arrayminus","error_y.valueminus","error_y.tracerefminus","error_x","error_x.visible","error_x.value","error_x.type","error_x.traceref","error_x.array","error_x.symmetric","error_x.arrayminus","error_x.valueminus","error_x.tracerefminus","swapxy","swapxyaxes","orientationaxes","marker.colors","values","labels","label0","dlabel","sort","textinfo","textposition","textfont.size","textfont.family","textfont.color","insidetextfont.size","insidetextfont.family","insidetextfont.color","outsidetextfont.size","outsidetextfont.family","outsidetextfont.color","hole","scalegroup","domain","domain.x","domain.y","domain.x[0]","domain.x[1]","domain.y[0]","domain.y[1]","tilt","tiltaxis","depth","direction","rotation","pull","line.showscale","line.cauto","line.autocolorscale","line.reversescale","marker.line.showscale","marker.line.cauto","marker.line.autocolorscale","marker.line.reversescale","xcalendar","ycalendar","cumulative","cumulative.enabled","cumulative.direction","cumulative.currentbin"];for(l=0;l<h.length;l++)if(w.traceIs(p[h[l]],"box")){x.push("name");break}var _=["marker","marker.size","textfont","boxpoints","jitter","pointpos","whiskerwidth","boxmean","tickwidth"],M=["zmin","zmax","zauto","xgap","ygap","marker.cmin","marker.cmax","marker.cauto","line.cmin","line.cmax","marker.line.cmin","marker.line.cmax","contours.start","contours.end","contours.size","contours.showlines","line","line.smoothing","line.shape","error_y.width","error_x.width","error_x.copy_ystyle","marker.maxdisplayed"],S=["type","x","y","x0","y0","orientation","xaxis","yaxis"],E=["zmin","zmax"],k=["xbins.start","xbins.end","xbins.size"],C=["ybins.start","ybins.end","ybins.size"],A=["contours.start","contours.end","contours.size"],P=["cartesian","pie","ternary"];c._basePlotModules.forEach(function(t){P.indexOf(t.name)===-1&&(d.docalc=!0)});for(var D in e){if(L.hasParent(e,D))throw new Error("cannot set "+D+"and a parent attribute simultaneously");var O,I,R,N,j,F=e[D];if(y[D]=F,"LAYOUT"!==D.substr(0,6)){for(m[D]=n(),l=0;l<h.length;l++)if(O=f[h[l]],I=p[h[l]],R=b.nestedProperty(O,D),N=R.get(),j=Array.isArray(F)?F[l%F.length]:F,void 0!==j){if(E.indexOf(D)!==-1)s("zauto",!1,l);else if("colorscale"===D)s("autocolorscale",!1,l);else if("autocolorscale"===D)s("colorscale",void 0,l);else if("marker.colorscale"===D)s("marker.autocolorscale",!1,l);else if("marker.autocolorscale"===D)s("marker.colorscale",void 0,l);else if("zauto"===D)s(E,void 0,l);else if(k.indexOf(D)!==-1)s("autobinx",!1,l);else if("autobinx"===D)s(k,void 0,l);else if(C.indexOf(D)!==-1)s("autobiny",!1,l);else if("autobiny"===D)s(C,void 0,l);else if(A.indexOf(D)!==-1)s("autocontour",!1,l);else if("autocontour"===D)s(A,void 0,l);else if(["x0","dx"].indexOf(D)!==-1&&I.x&&"scaled"!==I.xtype)s("xtype","scaled",l);else if(["y0","dy"].indexOf(D)!==-1&&I.y&&"scaled"!==I.ytype)s("ytype","scaled",l);else if("colorbar.thicknessmode"===D&&R.get()!==j&&["fraction","pixels"].indexOf(j)!==-1&&I.colorbar){var z=["top","bottom"].indexOf(I.colorbar.orient)!==-1?c.height-c.margin.t-c.margin.b:c.width-c.margin.l-c.margin.r;s("colorbar.thickness",I.colorbar.thickness*("fraction"===j?1/z:z),l)}else if("colorbar.lenmode"===D&&R.get()!==j&&["fraction","pixels"].indexOf(j)!==-1&&I.colorbar){var B=["top","bottom"].indexOf(I.colorbar.orient)!==-1?c.width-c.margin.l-c.margin.r:c.height-c.margin.t-c.margin.b;s("colorbar.len",I.colorbar.len*("fraction"===j?1/B:B),l)}else"colorbar.tick0"===D||"colorbar.dtick"===D?s("colorbar.tickmode","linear",l):"colorbar.tickmode"===D&&s(["colorbar.tick0","colorbar.dtick"],void 0,l);if("type"===D&&"pie"===j!=("pie"===N)){var U="x",V="y";"bar"!==j&&"bar"!==N||"h"!==O.orientation||(U="y",V="x"),b.swapAttrs(O,["?","?src"],"labels",U),b.swapAttrs(O,["d?","?0"],"label",U),b.swapAttrs(O,["?","?src"],"values",V),"pie"===N?(b.nestedProperty(O,"marker.color").set(b.nestedProperty(O,"marker.colors").get()),c._pielayer.selectAll("g.trace").remove()):w.traceIs(O,"cartesian")&&(b.nestedProperty(O,"marker.colors").set(b.nestedProperty(O,"marker.color").get()),v[O.xaxis||"x"]=!0,v[O.yaxis||"y"]=!0)}m[D][l]=N;var H=["swapxy","swapxyaxes","orientation","orientationaxes"];if(H.indexOf(D)!==-1){if("orientation"===D){if(R.set(j),R.get()===m[D][l])continue}else"orientationaxes"===D&&(O.orientation={v:"h",h:"v"}[I.orientation]);L.swapXYData(O)}else if(T.dataArrayContainers.indexOf(R.parts[0])!==-1)L.manageArrayContainers(R,j,m),d.docalc=!0;else{var W=(I._module||{}).attributes||{},q=b.nestedProperty(W,D).get()||{};q.arrayOk&&(Array.isArray(j)||Array.isArray(N))&&(d.docalc=!0),R.set(j)}}if(["swapxyaxes","orientationaxes"].indexOf(D)!==-1&&g.Axes.swap(t,h),"orientationaxes"===D){var G=b.nestedProperty(t.layout,"hovermode");"x"===G.get()?G.set("y"):"y"===G.get()&&G.set("x")}h.indexOf(0)!==-1&&S.indexOf(D)!==-1&&(g.Axes.clearTypes(t,h),d.docalc=!0),["autobinx","autobiny","zauto"].indexOf(D)!==-1&&j===!1||(d.dostyle=!0),(["colorbar","line"].indexOf(R.parts[0])!==-1||"marker"===R.parts[0]&&"colorbar"===R.parts[1])&&(d.docolorbars=!0);var Y=D.indexOf("["),X=Y===-1?D:D.substr(0,Y);if(x.indexOf(X)!==-1){if(["orientation","type"].indexOf(D)!==-1){for(u=[],l=0;l<h.length;l++){var K=f[h[l]];w.traceIs(K,"cartesian")&&(o(K.xaxis||"x"),o(K.yaxis||"y"),"type"===D&&s(["autobinx","autobiny"],!0,l))}s(u.map(i),!0,0),s(u.map(a),[0,1],0)}d.docalc=!0}else M.indexOf(X)!==-1?d.doplot=!0:_.indexOf(X)!==-1&&(d.docalcAutorange=!0)}else R=b.nestedProperty(t.layout,D.replace("LAYOUT","")),m[D]=[R.get()],R.set(Array.isArray(F)?F[0]:F),d.docalc=!0}g.Axes.list(t).forEach(function(t){t.autorange&&(d.autorangeOn=!0)});var Z=Object.keys(v);t:for(l=0;l<Z.length;l++){for(var J=Z[l],$=J.charAt(0),Q=$+"axis",tt=0;tt<f.length;tt++)if(w.traceIs(f[tt],"cartesian")&&(f[tt][Q]||$)===J)continue t;s("LAYOUT"+g.Axes.id2name(J),null,0)}return(d.docalc||d.docalcAutorange&&d.autorangeOn)&&(d.clearCalc=!0),(d.docalc||d.doplot||d.docalcAutorange)&&(d.fullReplot=!0),{flags:d,undoit:m,redoit:y,traces:h,eventData:b.extendDeepNoArrays([],[y,h])}}function d(t,e){function r(t,n){if(Array.isArray(t))return void t.forEach(function(t){r(t,n)});if(!(t in e||L.hasParent(e,t))){var o=b.nestedProperty(s,t);t in v||(v[t]=o.get()),void 0!==n&&o.set(n)}}function n(e,r){if(!b.isPlainObject(e))return!1;var n=e[r+"ref"]||r,o=g.Axes.getFromId(t,n);return o||n.charAt(0)!==r||(o=g.Axes.getFromId(t,r)),(o||{}).autorange}var o,i,a,s=t.layout,l=t._fullLayout,u=Object.keys(e),c=g.Axes.list(t),p={};for(i=0;i<u.length;i++)if(0===u[i].indexOf("allaxes")){for(a=0;a<c.length;a++){var f=c[a]._id.substr(1),h=f.indexOf("scene")!==-1?f+".":"",d=u[i].replace("allaxes",h+c[a]._name);e[d]||(e[d]=e[u[i]])}delete e[u[i]]}var y={dolegend:!1,doticks:!1,dolayoutstyle:!1,doplot:!1,docalc:!1,domodebar:!1,docamera:!1,layoutReplot:!1},m={},v={};for(var x in e){if(L.hasParent(e,x))throw new Error("cannot set "+x+"and a parent attribute simultaneously");var _=b.nestedProperty(s,x),M=e[x],S=_.parts.length,E="string"==typeof _.parts[S-1]?S-1:S-2,k=_.parts[0],C=_.parts[E],A=_.parts[E-1]+"."+C,D=_.parts.slice(0,E).join("."),I=b.nestedProperty(t.layout,D).get(),R=b.nestedProperty(l,D).get();if(void 0!==M){if(m[x]=M,v[x]="reverse"===C?M:_.get(),["width","height"].indexOf(x)!==-1&&null===M?t._fullLayout[x]=t._initialAutoSize[x]:A.match(/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/)?r(D+".autorange",!1):A.match(/^[xyz]axis[0-9]*\.autorange$/)?r([D+".range[0]",D+".range[1]"],void 0):A.match(/^aspectratio\.[xyz]$/)?r(k+".aspectmode","manual"):A.match(/^aspectmode$/)?r([D+".x",D+".y",D+".z"],void 0):"tick0"===C||"dtick"===C?r(D+".tickmode","linear"):"tickmode"===C?r([D+".tick0",D+".dtick"],void 0):/[xy]axis[0-9]*?$/.test(C)&&!Object.keys(M||{}).length?y.docalc=!0:/[xy]axis[0-9]*\.categoryorder$/.test(A)?y.docalc=!0:/[xy]axis[0-9]*\.categoryarray/.test(A)&&(y.docalc=!0),A.indexOf("rangeslider")!==-1&&(y.docalc=!0),"type"===C){var N=I,j="linear"===R.type&&"log"===M,F="log"===R.type&&"linear"===M;if(j||F){if(N&&N.range)if(R.autorange)j&&(N.range=N.range[1]>N.range[0]?[1,2]:[2,1]);else{var z=N.range[0],B=N.range[1];j?(z<=0&&B<=0&&r(D+".autorange",!0),z<=0?z=B/1e6:B<=0&&(B=z/1e6),r(D+".range[0]",Math.log(z)/Math.LN10),r(D+".range[1]",Math.log(B)/Math.LN10)):(r(D+".range[0]",Math.pow(10,z)),r(D+".range[1]",Math.pow(10,B)))}else r(D+".autorange",!0);w.getComponentMethod("annotations","convertCoords")(t,R,M,r),w.getComponentMethod("images","convertCoords")(t,R,M,r)}else r(D+".autorange",!0)}else if(C.match(O.AX_NAME_PATTERN)){var U=b.nestedProperty(l,x).get(),V=(M||{}).type;V&&"-"!==V||(V="linear"),w.getComponentMethod("annotations","convertCoords")(t,U,V,r),w.getComponentMethod("images","convertCoords")(t,U,V,r)}var H=P.containerArrayMatch(x);if(H){o=H.array,i=H.index;var W=H.property,q=b.nestedProperty(s,o),G=(q||[])[i]||{};if(""===i)x.indexOf("updatemenus")===-1&&(y.docalc=!0);else if(""===W){var Y=M;P.isAddVal(M)?v[x]=null:P.isRemoveVal(M)?(v[x]=G,Y=G):b.warn("unrecognized full object value",e),(n(Y,"x")||n(Y,"y")&&x.indexOf("updatemenus")===-1)&&(y.docalc=!0)}else!n(G,"x")&&!n(G,"y")||b.containsAny(x,["color","opacity","align","dash","updatemenus"])||(y.docalc=!0);p[o]||(p[o]={});var X=p[o][i];X||(X=p[o][i]={}),X[W]=M,delete e[x]}else if("reverse"===C)I.range?I.range.reverse():(r(D+".autorange",!0),I.range=[1,0]),R.autorange?y.docalc=!0:y.doplot=!0;else{var K=String(_.parts[1]||"");0===k.indexOf("scene")?"camera"===_.parts[1]?y.docamera=!0:y.doplot=!0:0===k.indexOf("geo")?y.doplot=!0:0===k.indexOf("ternary")?y.doplot=!0:"paper_bgcolor"===x?y.doplot=!0:!l._has("gl2d")||x.indexOf("axis")===-1&&"plot_bgcolor"!==x?"hiddenlabels"===x?y.docalc=!0:k.indexOf("legend")!==-1?y.dolegend=!0:x.indexOf("title")!==-1?y.doticks=!0:k.indexOf("bgcolor")!==-1?y.dolayoutstyle=!0:S>1&&b.containsAny(K,["tick","exponent","grid","zeroline"])?y.doticks=!0:x.indexOf(".linewidth")!==-1&&x.indexOf("axis")!==-1?y.doticks=y.dolayoutstyle=!0:S>1&&K.indexOf("line")!==-1?y.dolayoutstyle=!0:S>1&&"mirror"===K?y.doticks=y.dolayoutstyle=!0:"margin.pad"===x?y.doticks=y.dolayoutstyle=!0:"margin"===k||"autorange"===K||"rangemode"===K||"type"===K||"domain"===K||x.indexOf("calendar")!==-1||x.match(/^(bar|box|font)/)?y.docalc=!0:["hovermode","dragmode"].indexOf(x)!==-1?y.domodebar=!0:["hovermode","dragmode","height","width","autosize"].indexOf(x)===-1&&(y.doplot=!0):y.doplot=!0,_.set(M)}}}for(o in p){var Z=P.applyContainerArrayChanges(t,b.nestedProperty(s,o),p[o],y);Z||(y.doplot=!0)}var J=t._fullLayout.width,$=t._fullLayout.height;t.layout.autosize&&T.plotAutoSize(t,t.layout,t._fullLayout);var Q=e.height||e.width||t._fullLayout.width!==J||t._fullLayout.height!==$;return Q&&(y.docalc=!0),(y.doplot||y.docalc)&&(y.layoutReplot=!0),{flags:y,undoit:v,redoit:m,eventData:b.extendDeep({},m)}}function y(t){var e=m.select(t),r=t._fullLayout;if(r._container=e.selectAll(".plot-container").data([0]),r._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),r._paperdiv=r._container.selectAll(".svg-container").data([0]),r._paperdiv.enter().append("div").classed("svg-container",!0).style("position","relative"),r._glcontainer=r._paperdiv.selectAll(".gl-container").data([0]),r._glcontainer.enter().append("div").classed("gl-container",!0),r._paperdiv.selectAll(".main-svg").remove(),r._paper=r._paperdiv.insert("svg",":first-child").classed("main-svg",!0),r._toppaper=r._paperdiv.append("svg").classed("main-svg",!0),!r._uid){var n=[];m.selectAll("defs").each(function(){this.id&&n.push(this.id.split("-")[1])}),r._uid=b.randstr(n)}r._paperdiv.selectAll(".main-svg").attr(C.svgAttrs),r._defs=r._paper.append("defs").attr("id","defs-"+r._uid),r._topdefs=r._toppaper.append("defs").attr("id","topdefs-"+r._uid),r._bgLayer=r._paper.append("g").classed("bglayer",!0),r._draggers=r._paper.append("g").classed("draglayer",!0);var o=r._paper.append("g").classed("layer-below",!0);r._imageLowerLayer=o.append("g").classed("imagelayer",!0),r._shapeLowerLayer=o.append("g").classed("shapelayer",!0),r._cartesianlayer=r._paper.append("g").classed("cartesianlayer",!0),r._ternarylayer=r._paper.append("g").classed("ternarylayer",!0),r._geolayer=r._paper.append("g").classed("geolayer",!0);var i=r._paper.append("g").classed("layer-above",!0);r._imageUpperLayer=i.append("g").classed("imagelayer",!0),r._shapeUpperLayer=i.append("g").classed("shapelayer",!0),r._pielayer=r._paper.append("g").classed("pielayer",!0),r._glimages=r._paper.append("g").classed("glimages",!0),r._infolayer=r._toppaper.append("g").classed("infolayer",!0),r._zoomlayer=r._toppaper.append("g").classed("zoomlayer",!0),r._hoverlayer=r._toppaper.append("g").classed("hoverlayer",!0),t.emit("plotly_framework")}var m=t("d3"),v=t("fast-isnumeric"),g=t("../plotly"),b=t("../lib"),x=t("../lib/events"),_=t("../lib/queue"),w=t("../registry"),T=t("../plots/plots"),M=t("../plots/cartesian/graph_interact"),S=t("../plots/polar"),E=t("../components/drawing"),k=t("../components/errorbars"),C=t("../constants/xmlns_namespaces"),A=t("../lib/svg_text_utils"),P=t("./manage_arrays"),L=t("./helpers"),D=t("./subroutines"),O=t("../plots/cartesian/constants");g.plot=function(t,e,r,n){function a(){if(v)return g.addFrames(t,v)}function s(){for(var e=A._basePlotModules,r=0;r<e.length;r++)e[r].drawFramework&&e[r].drawFramework(t);return b.syncOrAsync([D.layoutStyles,f,M.init],t)}function l(){var e,r,n,o=t.calcdata;for(w.getComponentMethod("legend","draw")(t),w.getComponentMethod("rangeselector","draw")(t),w.getComponentMethod("sliders","draw")(t),w.getComponentMethod("updatemenus","draw")(t),e=0;e<o.length;e++)r=o[e],n=r[0].trace,n.visible===!0&&n._module.colorbar?n._module.colorbar(t,r):T.autoMargin(t,"cb"+n.uid);return T.doAutoMargin(t),T.previousPromises(t)}function u(){var e=JSON.stringify(A._size)===I?[]:[l,D.layoutStyles];return e=e.concat(M.init),b.syncOrAsync(e,t)}function c(){if(P){for(var e,r,n=T.getSubplotIds(A,"cartesian"),o=A._modules,i=0;i<n.length;i++){e=A._plots[n[i]];for(var a=0;a<o.length;a++)r=o[a],r.setPositions&&r.setPositions(t,e)}return k.calc(t),b.syncOrAsync([w.getComponentMethod("shapes","calcAutorange"),w.getComponentMethod("annotations","calcAutorange"),p,w.getComponentMethod("rangeslider","calcAutorange")],t)}}function p(){if(!t._transitioning)for(var e=g.Axes.list(t,"",!0),r=0;r<e.length;r++)g.Axes.doAutoRange(e[r])}function f(){return g.Axes.doTicks(t,"redraw")}function h(){var e,r=t.calcdata;for(e=0;e<r.length;e++){var n=r[e][0].trace,o=n.visible===!0,i=n.uid;if(!o||!w.traceIs(n,"2dMap")){var a=".hm"+i+",.contour"+i+",#clip"+i;A._paper.selectAll(a).remove(),A._infolayer.selectAll("g.rangeslider-container").selectAll(a).remove()}o&&n._module.colorbar||A._infolayer.selectAll(".cb"+i).remove()}var s=A._basePlotModules;for(e=0;e<s.length;e++)s[e].plot(t);var l=A._paper.selectAll(".layer-subplot");return A._shapeSubplotLayers=l.selectAll(".shapelayer"),T.style(t),w.getComponentMethod("shapes","draw")(t),w.getComponentMethod("annotations","draw")(t),T.addLinks(t),A._replotting=!1,T.previousPromises(t)}function d(){w.getComponentMethod("shapes","draw")(t),w.getComponentMethod("images","draw")(t),w.getComponentMethod("annotations","draw")(t),w.getComponentMethod("legend","draw")(t),w.getComponentMethod("rangeslider","draw")(t),w.getComponentMethod("rangeselector","draw")(t),w.getComponentMethod("sliders","draw")(t),w.getComponentMethod("updatemenus","draw")(t)}var v;if(t=L.getGraphDiv(t),x.init(t),b.isPlainObject(e)){var _=e;e=_.data,r=_.layout,n=_.config,v=_.frames}var S=x.triggerHandler(t,"plotly_beforeplot",[e,r,n]);if(S===!1)return Promise.reject();e||r||b.isPlotDiv(t)||b.warn("Calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",t),o(t,n),r||(r={}),m.select(t).classed("js-plotly-plot",!0),E.makeTester(t),t._promises=[];var C=0===(t.data||[]).length&&Array.isArray(e);if(Array.isArray(e)&&(L.cleanData(e,t.data),C?t.data=e:t.data.push.apply(t.data,e),t.empty=!1),t.layout&&!C||(t.layout=L.cleanLayout(r)),t._dragging&&!t._transitioning)return t._replotPending=!0,Promise.reject();t._replotPending=!1,T.supplyDefaults(t);var A=t._fullLayout;if(e&&e[0]&&e[0].r)return i(t,e,r);A._replotting=!0,C&&y(t),t.framework!==y&&(t.framework=y,y(t)),C&&g.Axes.saveRangeInitial(t);var P=!t.calcdata||t.calcdata.length!==(t._fullData||[]).length;P&&T.doCalcdata(t);for(var O=0;O<t.calcdata.length;O++)t.calcdata[O][0].trace=t._fullData[O];var I=JSON.stringify(A._size),R=[T.previousPromises,a,s,l,u,c,D.layoutStyles,f,h,d,T.rehover];return b.syncOrAsync(R,t),Promise.all(t._promises).then(function(){return t.emit("plotly_afterplot"),t})},g.redraw=function(t){if(t=L.getGraphDiv(t),!b.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t);return L.cleanData(t.data,t.data),L.cleanLayout(t.layout),t.calcdata=void 0,g.plot(t).then(function(){return t.emit("plotly_redraw"),t})},g.newPlot=function(t,e,r,n){return t=L.getGraphDiv(t),T.cleanPlot([],{},t._fullData||{},t._fullLayout||{}),T.purge(t),g.plot(t,e,r,n)},g.extendTraces=function t(e,r,n,o){e=L.getGraphDiv(e);var i=f(e,r,n,o,function(t,e){return t.concat(e)},function(t,e){return t.splice(0,t.length-e)}),a=g.redraw(e),s=[e,i.update,n,i.maxPoints];return _.add(e,g.prependTraces,s,t,arguments),a},g.prependTraces=function t(e,r,n,o){e=L.getGraphDiv(e);var i=f(e,r,n,o,function(t,e){return e.concat(t)},function(t,e){return t.splice(e,t.length)}),a=g.redraw(e),s=[e,i.update,n,i.maxPoints];return _.add(e,g.extendTraces,s,t,arguments),a},g.addTraces=function t(e,r,n){e=L.getGraphDiv(e);var o,i,a=[],s=g.deleteTraces,c=t,p=[e,a],f=[e,r];for(u(e,r,n),Array.isArray(r)||(r=[r]),r=r.map(function(t){return b.extendFlat({},t)}),L.cleanData(r,e.data),o=0;o<r.length;o++)e.data.push(r[o]);for(o=0;o<r.length;o++)a.push(-r.length+o);if("undefined"==typeof n)return i=g.redraw(e),_.add(e,s,p,c,f),i;Array.isArray(n)||(n=[n]);try{l(e,a,n)}catch(t){throw e.data.splice(e.data.length-r.length,r.length),t}return _.startSequence(e),_.add(e,s,p,c,f),i=g.moveTraces(e,a,n),_.stopSequence(e),i},g.deleteTraces=function t(e,r){e=L.getGraphDiv(e);var n,o,i=[],l=g.addTraces,u=t,c=[e,i,r],p=[e,r];if("undefined"==typeof r)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(r)||(r=[r]),s(e,r,"indices"),r=a(r,e.data.length-1),r.sort(b.sorterDes),n=0;n<r.length;n+=1)o=e.data.splice(r[n],1)[0],i.push(o);var f=g.redraw(e);return _.add(e,l,c,u,p),f},g.moveTraces=function t(e,r,n){e=L.getGraphDiv(e);var o,i=[],s=[],u=t,c=t,p=[e,n,r],f=[e,r,n];if(l(e,r,n),r=Array.isArray(r)?r:[r],"undefined"==typeof n)for(n=[],o=0;o<r.length;o++)n.push(-r.length+o);for(n=Array.isArray(n)?n:[n],r=a(r,e.data.length-1),n=a(n,e.data.length-1),o=0;o<e.data.length;o++)r.indexOf(o)===-1&&i.push(e.data[o]);for(o=0;o<r.length;o++)s.push({newIndex:n[o],trace:e.data[r[o]]});for(s.sort(function(t,e){return t.newIndex-e.newIndex}),o=0;o<s.length;o+=1)i.splice(s[o].newIndex,0,s[o].trace);e.data=i;var h=g.redraw(e);return _.add(e,u,p,c,f),h},g.restyle=function t(e,r,n,o){e=L.getGraphDiv(e),L.clearPromiseQueue(e);var i={};if("string"==typeof r)i[r]=n;else{if(!b.isPlainObject(r))return b.warn("Restyle fail.",r,n,o),Promise.reject();i=b.extendFlat({},r),void 0===o&&(o=n)}Object.keys(i).length&&(e.changed=!0);var a=h(e,i,o),s=a.flags;s.clearCalc&&(e.calcdata=void 0);var l=[];s.fullReplot?l.push(g.plot):(l.push(T.previousPromises),T.supplyDefaults(e),s.dostyle&&l.push(D.doTraceStyle),s.docolorbars&&l.push(D.doColorBars)),
l.push(T.rehover),_.add(e,t,[e,a.undoit,a.traces],t,[e,a.redoit,a.traces]);var u=b.syncOrAsync(l,e);return u&&u.then||(u=Promise.resolve()),u.then(function(){return e.emit("plotly_restyle",a.eventData),e})},g.relayout=function t(e,r,n){if(e=L.getGraphDiv(e),L.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);var o={};if("string"==typeof r)o[r]=n;else{if(!b.isPlainObject(r))return b.warn("Relayout fail.",r,n),Promise.reject();o=b.extendFlat({},r)}Object.keys(o).length&&(e.changed=!0);var i=d(e,o),a=i.flags;a.docalc&&(e.calcdata=void 0);var s=[T.previousPromises];a.layoutReplot?s.push(D.layoutReplot):Object.keys(o).length&&(T.supplyDefaults(e),a.dolegend&&s.push(D.doLegend),a.dolayoutstyle&&s.push(D.layoutStyles),a.doticks&&s.push(D.doTicksRelayout),a.domodebar&&s.push(D.doModeBar),a.docamera&&s.push(D.doCamera)),s.push(T.rehover),_.add(e,t,[e,i.undoit],t,[e,i.redoit]);var l=b.syncOrAsync(s,e);return l&&l.then||(l=Promise.resolve(e)),l.then(function(){return e.emit("plotly_relayout",i.eventData),e})},g.update=function t(e,r,n,o){if(e=L.getGraphDiv(e),L.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);b.isPlainObject(r)||(r={}),b.isPlainObject(n)||(n={}),Object.keys(r).length&&(e.changed=!0),Object.keys(n).length&&(e.changed=!0);var i=h(e,b.extendFlat({},r),o),a=i.flags,s=d(e,b.extendFlat({},n)),l=s.flags;(a.clearCalc||l.docalc)&&(e.calcdata=void 0);var u=[];if(a.fullReplot&&l.layoutReplot){var c=e.data,p=e.layout;e.data=void 0,e.layout=void 0,u.push(function(){return g.plot(e,c,p)})}else a.fullReplot?u.push(g.plot):l.layoutReplot?u.push(D.layoutReplot):(u.push(T.previousPromises),T.supplyDefaults(e),a.dostyle&&u.push(D.doTraceStyle),a.docolorbars&&u.push(D.doColorBars),l.dolegend&&u.push(D.doLegend),l.dolayoutstyle&&u.push(D.layoutStyles),l.doticks&&u.push(D.doTicksRelayout),l.domodebar&&u.push(D.doModeBar),l.doCamera&&u.push(D.doCamera));u.push(T.rehover),_.add(e,t,[e,i.undoit,s.undoit,i.traces],t,[e,i.redoit,s.redoit,i.traces]);var f=b.syncOrAsync(u,e);return f&&f.then||(f=Promise.resolve(e)),f.then(function(){return e.emit("plotly_update",{data:i.eventData,layout:s.eventData}),e})},g.animate=function(t,e,r){function n(t){return Array.isArray(s)?t>=s.length?s[0]:s[t]:s}function o(t){return Array.isArray(l)?t>=l.length?l[0]:l[t]:l}function i(t,e){var r=0;return function(){if(t&&++r===e)return t()}}if(t=L.getGraphDiv(t),!b.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t+". It's likely that you've failed to create a plot before animating it. For more details, see https://plot.ly/javascript/animations/");var a=t._transitionData;a._frameQueue||(a._frameQueue=[]),r=T.supplyAnimationDefaults(r);var s=r.transition,l=r.frame;return void 0===a._frameWaitingCnt&&(a._frameWaitingCnt=0),new Promise(function(l,u){function c(){if(0!==a._frameQueue.length){for(;a._frameQueue.length;){var e=a._frameQueue.pop();e.onInterrupt&&e.onInterrupt()}t.emit("plotly_animationinterrupted",[])}}function p(e){if(0!==e.length){for(var s=0;s<e.length;s++){var c;c="byname"===e[s].type?T.computeFrame(t,e[s].name):e[s].data;var p=o(s),f=n(s);f.duration=Math.min(f.duration,p.duration);var h={frame:c,name:e[s].name,frameOpts:p,transitionOpts:f};s===e.length-1&&(h.onComplete=i(l,2),h.onInterrupt=u),a._frameQueue.push(h)}"immediate"===r.mode&&(a._lastFrameAt=-(1/0)),a._animationRaf||d()}}function f(){t.emit("plotly_animated"),window.cancelAnimationFrame(a._animationRaf),a._animationRaf=null}function h(){a._currentFrame&&a._currentFrame.onComplete&&a._currentFrame.onComplete();var e=a._currentFrame=a._frameQueue.shift();if(e){var r=e.name?e.name.toString():null;t._fullLayout._currentFrame=r,a._lastFrameAt=Date.now(),a._timeToNext=e.frameOpts.duration,T.transition(t,e.frame.data,e.frame.layout,L.coerceTraceIndices(t,e.frame.traces),e.frameOpts,e.transitionOpts).then(function(){e.onComplete&&e.onComplete()}),t.emit("plotly_animatingframe",{name:r,frame:e.frame,animation:{frame:e.frameOpts,transition:e.transitionOpts}})}else f()}function d(){t.emit("plotly_animating"),a._lastFrameAt=-(1/0),a._timeToNext=0,a._runningTransitions=0,a._currentFrame=null;var e=function(){a._animationRaf=window.requestAnimationFrame(e),Date.now()-a._lastFrameAt>a._timeToNext&&h()};e()}function y(t){return Array.isArray(s)?g>=s.length?t.transitionOpts=s[g]:t.transitionOpts=s[0]:t.transitionOpts=s,g++,t}var m,v,g=0,x=[],_=void 0===e||null===e,w=Array.isArray(e),M=!_&&!w&&b.isPlainObject(e);if(M)x.push({type:"object",data:y(b.extendFlat({},e))});else if(_||["string","number"].indexOf(typeof e)!==-1)for(m=0;m<a._frames.length;m++)v=a._frames[m],v&&(_||String(v.group)===String(e))&&x.push({type:"byname",name:String(v.name),data:y({name:v.name})});else if(w)for(m=0;m<e.length;m++){var S=e[m];["number","string"].indexOf(typeof S)!==-1?(S=String(S),x.push({type:"byname",name:S,data:y({name:S})})):b.isPlainObject(S)&&x.push({type:"object",data:y(b.extendFlat({},S))})}for(m=0;m<x.length;m++)if(v=x[m],"byname"===v.type&&!a._frameHash[v.data.name])return b.warn('animate failure: frame not found: "'+v.data.name+'"'),void u();["next","immediate"].indexOf(r.mode)!==-1&&c(),"reverse"===r.direction&&x.reverse();var E=t._fullLayout._currentFrame;if(E&&r.fromcurrent){var k=-1;for(m=0;m<x.length;m++)if(v=x[m],"byname"===v.type&&v.name===E){k=m;break}if(k>0&&k<x.length-1){var C=[];for(m=0;m<x.length;m++)v=x[m],("byname"!==x[m].type||m>k)&&C.push(v);x=C}}x.length>0?p(x):(t.emit("plotly_animated"),l())})},g.addFrames=function(t,e,r){t=L.getGraphDiv(t);var n=0;if(null===e||void 0===e)return Promise.resolve();if(!b.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plot.ly/javascript/animations/");var o,i,a,s,l=t._transitionData._frames,u=t._transitionData._frameHash;if(!Array.isArray(e))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+e);var c=l.length+2*e.length,p=[];for(o=e.length-1;o>=0;o--)if(b.isPlainObject(e[o])){var f=(u[e[o].name]||{}).name,h=e[o].name;f&&h&&"number"==typeof h&&u[f]&&(n++,b.warn('addFrames: overwriting frame "'+u[f].name+'" with a frame whose name of type "number" also equates to "'+f+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),n>5&&b.warn("addFrames: This API call has yielded too many warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),p.push({frame:T.supplyFrameDefaults(e[o]),index:r&&void 0!==r[o]&&null!==r[o]?r[o]:c+o})}p.sort(function(t,e){return t.index>e.index?-1:t.index<e.index?1:0});var d=[],y=[],m=l.length;for(o=p.length-1;o>=0;o--){if(i=p[o].frame,"number"==typeof i.name&&b.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!i.name)for(;u[i.name="frame "+t._transitionData._counter++];);if(u[i.name]){for(a=0;a<l.length&&(l[a]||{}).name!==i.name;a++);d.push({type:"replace",index:a,value:i}),y.unshift({type:"replace",index:a,value:l[a]})}else s=Math.max(0,Math.min(p[o].index,m)),d.push({type:"insert",index:s,value:i}),y.unshift({type:"delete",index:s}),m++}var v=T.modifyFrames,g=T.modifyFrames,x=[t,y],w=[t,d];return _&&_.add(t,v,x,g,w),T.modifyFrames(t,d)},g.deleteFrames=function(t,e){if(t=L.getGraphDiv(t),!b.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t);var r,n,o=t._transitionData._frames,i=[],a=[];for(e=e.slice(0),e.sort(),r=e.length-1;r>=0;r--)n=e[r],i.push({type:"delete",index:n}),a.unshift({type:"insert",index:n,value:o[n]});var s=T.modifyFrames,l=T.modifyFrames,u=[t,a],c=[t,i];return _&&_.add(t,s,u,l,c),T.modifyFrames(t,i)},g.purge=function(t){t=L.getGraphDiv(t);var e=t._fullLayout||{},r=t._fullData||[];return T.cleanPlot([],{},r,e),T.purge(t),x.purge(t),e._container&&e._container.remove(),delete t._context,delete t._replotPending,delete t._mouseDownTime,delete t._legendMouseDownTime,delete t._hmpixcount,delete t._hmlumcount,t}},{"../components/drawing":599,"../components/errorbars":605,"../constants/xmlns_namespaces":665,"../lib":681,"../lib/events":672,"../lib/queue":693,"../lib/svg_text_utils":700,"../plotly":715,"../plots/cartesian/constants":725,"../plots/cartesian/graph_interact":727,"../plots/plots":779,"../plots/polar":782,"../registry":794,"./helpers":705,"./manage_arrays":706,"./subroutines":712,d3:104,"fast-isnumeric":113}],708:[function(t,e,r){"use strict";function n(t,r){try{t._fullLayout._paper.style("background",r)}catch(t){e.exports.logging>0&&console.error(t)}}e.exports={staticPlot:!1,editable:!1,autosizable:!1,queueLength:0,fillFrame:!1,frameMargins:0,scrollZoom:!1,doubleClick:"reset+autosize",showTips:!0,showAxisDragHandles:!0,showAxisRangeEntryBoxes:!0,showLink:!1,sendData:!0,linkText:"Edit chart",showSources:!1,displayModeBar:"hover",modeBarButtonsToRemove:[],modeBarButtonsToAdd:[],modeBarButtons:!1,displaylogo:!0,plotGlPixelRatio:2,setBackground:n,topojsonURL:"https://cdn.plot.ly/",mapboxAccessToken:null,logging:!1,globalTransforms:[]}},{}],709:[function(t,e,r){"use strict";function n(t){var e,r;"area"===t?(e={attributes:b},r={}):(e=h.modules[t]._module,r=e.basePlotModule);var n={};n.type=null,w(n,y),w(n,e.attributes),r.attributes&&w(n,r.attributes),Object.keys(h.componentsRegistry).forEach(function(e){var r=h.componentsRegistry[e];r.schema&&r.schema.traces&&r.schema.traces[t]&&Object.keys(r.schema.traces[t]).forEach(function(e){f(n,r.schema.traces[t][e],e)})}),n.type=t;var o={meta:e.meta||{},attributes:s(n)};if(e.layoutAttributes){var i={};w(i,e.layoutAttributes),o.layoutAttributes=s(i)}return o}function o(){var t={};return w(t,m),Object.keys(h.subplotsRegistry).forEach(function(e){var r=h.subplotsRegistry[e];if(r.layoutAttributes)if("cartesian"===r.name)p(t,r,"xaxis"),p(t,r,"yaxis");else{var n="subplot"===r.attr?r.name:r.attr;p(t,r,n)}}),t=c(t),Object.keys(h.componentsRegistry).forEach(function(e){var r=h.componentsRegistry[e];r.layoutAttributes&&(r.schema&&r.schema.layout?Object.keys(r.schema.layout).forEach(function(e){f(t,r.schema.layout[e],e)}):f(t,r.layoutAttributes,r.name))}),{layoutAttributes:s(t)}}function i(t){var e=h.transformsRegistry[t],r=w({},e.attributes);return Object.keys(h.componentsRegistry).forEach(function(e){var n=h.componentsRegistry[e];n.schema&&n.schema.transforms&&n.schema.transforms[t]&&Object.keys(n.schema.transforms[t]).forEach(function(e){f(r,n.schema.transforms[t][e],e)})}),{attributes:s(r)}}function a(){var t={frames:d.extendDeep({},v)};return s(t),t.frames}function s(t){return l(t),u(t),t}function l(t){function e(t){return{valType:"string"}}function n(t,n,o){r.isValObject(t)?"data_array"===t.valType?(t.role="data",o[n+"src"]=e(n)):t.arrayOk===!0&&(o[n+"src"]=e(n)):d.isPlainObject(t)&&(t.role="object")}r.crawl(t,n)}function u(t){function e(t,e,r){if(t){var n=t[M];n&&(delete t[M],r[e]={items:{}},r[e].items[n]=t,r[e].role="object")}}r.crawl(t,e)}function c(t){return _(t,{radialaxis:x.radialaxis,angularaxis:x.angularaxis}),_(t,x.layout),t}function p(t,e,r){var n=d.nestedProperty(t,r),o=w({},e.layoutAttributes);o[T]=!0,n.set(o)}function f(t,e,r){var n=d.nestedProperty(t,r);n.set(w(n.get()||{},e))}var h=t("../registry"),d=t("../lib"),y=t("../plots/attributes"),m=t("../plots/layout_attributes"),v=t("../plots/frame_attributes"),g=t("../plots/animation_attributes"),b=t("../plots/polar/area_attributes"),x=t("../plots/polar/axis_attributes"),_=d.extendFlat,w=d.extendDeep,T="_isSubplotObj",M="_isLinkedToArray",S="_arrayAttrRegexps",E="_deprecated",k=[T,M,S,E];r.IS_SUBPLOT_OBJ=T,r.IS_LINKED_TO_ARRAY=M,r.DEPRECATED=E,r.UNDERSCORE_ATTRS=k,r.get=function(){var t={};h.allTypes.concat("area").forEach(function(e){t[e]=n(e)});var e={};return Object.keys(h.transformsRegistry).forEach(function(t){e[t]=i(t)}),{defs:{valObjects:d.valObjects,metaKeys:k.concat(["description","role"])},traces:t,layout:o(),transforms:e,frames:a(),animation:s(g)}},r.crawl=function(t,e,n){var o=n||0;Object.keys(t).forEach(function(n){var i=t[n];k.indexOf(n)===-1&&(e(i,n,t,o),r.isValObject(i)||d.isPlainObject(i)&&r.crawl(i,e,o+1))})},r.isValObject=function(t){return t&&void 0!==t.valType},r.findArrayAttributes=function(t){function e(e,r,a,s){i=i.slice(0,s).concat([r]);var l=e&&("data_array"===e.valType||e.arrayOk===!0);if(l){var u=n(i),c=d.nestedProperty(t,u).get();Array.isArray(c)&&o.push(u)}}function n(t){return t.join(".")}var o=[],i=[];if(r.crawl(t._module.attributes,e),t.transforms)for(var a=t.transforms,s=0;s<a.length;s++){var l=a[s];i=["transforms["+s+"]"],r.crawl(l._module.attributes,e,1)}return t._fullInput&&(r.crawl(t._fullInput._module.attributes,e),o=d.filterUnique(o)),o}},{"../lib":681,"../plots/animation_attributes":716,"../plots/attributes":718,"../plots/frame_attributes":741,"../plots/layout_attributes":770,"../plots/polar/area_attributes":780,"../plots/polar/axis_attributes":781,"../registry":794}],710:[function(t,e,r){"use strict";function n(t){a.register(t,t.name,t.categories,t.meta),a.subplotsRegistry[t.basePlotModule.name]||a.registerSubplot(t.basePlotModule)}function o(t){if("string"!=typeof t.name)throw new Error("Transform module *name* must be a string.");var e="Transform module "+t.name,r="function"==typeof t.transform,n="function"==typeof t.calcTransform;if(!r&&!n)throw new Error(e+" is missing a *transform* or *calcTransform* method.");r&&n&&s.log([e+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),s.isPlainObject(t.attributes)||s.log(e+" registered without an *attributes* object."),"function"!=typeof t.supplyDefaults&&s.log(e+" registered without a *supplyDefaults* method."),a.transformsRegistry[t.name]=t}function i(t){if("string"!=typeof t.name)throw new Error("Component module *name* must be a string.");a.registerComponent(t)}var a=t("../registry"),s=t("../lib");e.exports=function(t){if(!t)throw new Error("No argument passed to Plotly.register.");t&&!Array.isArray(t)&&(t=[t]);for(var e=0;e<t.length;e++){var r=t[e];if(!r)throw new Error("Invalid module was attempted to be registered!");switch(r.moduleType){case"trace":n(r);break;case"transform":o(r);break;case"component":i(r);break;default:throw new Error("Invalid module was attempted to be registered!")}}}},{"../lib":681,"../registry":794}],711:[function(t,e,r){"use strict";var n=t("../plotly"),o=t("../lib");e.exports=function(t){return o.extendFlat(n.defaultConfig,t)}},{"../lib":681,"../plotly":715}],712:[function(t,e,r){"use strict";function n(t,e,r){for(var n=0;n<r.length;n++){var o=r[n][0],i=r[n][1];if(!(o[0]>=t[1]||o[1]<=t[0])&&i[0]<e[1]&&i[1]>e[0])return!0}return!1}var o=t("d3"),i=t("../plotly"),a=t("../registry"),s=t("../plots/plots"),l=t("../lib"),u=t("../components/color"),c=t("../components/drawing"),p=t("../components/titles"),f=t("../components/modebar");r.layoutStyles=function(t){return l.syncOrAsync([s.doAutoMargin,r.lsInner],t)},r.lsInner=function(t){var e,a=t._fullLayout,s=a._size,l=i.Axes.list(t);for(e=0;e<l.length;e++)l[e]._linepositions={};a._paperdiv.style({width:a.width+"px",height:a.height+"px"}).selectAll(".main-svg").call(c.setSize,a.width,a.height),t._context.setBackground(t,a.paper_bgcolor);var p=a._paper.selectAll("g.subplot"),h=[],d=[];p.each(function(e){var r=a._plots[e];if(r.mainplot)return r.bg&&r.bg.remove(),void(r.bg=void 0);var o=i.Axes.getFromId(t,e,"x"),s=i.Axes.getFromId(t,e,"y"),l=o.domain,u=s.domain,c=[];n(l,u,d)?c=[0]:(h.push(e),d.push([l,u]));var p=r.plotgroup.selectAll(".bg").data(c);p.enter().append("rect").classed("bg",!0),p.exit().remove(),p.each(function(){r.bg=p;var t=r.plotgroup.node();t.insertBefore(this,t.childNodes[0])})});var y=a._bgLayer.selectAll(".bg").data(h);y.enter().append("rect").classed("bg",!0),y.exit().remove(),y.each(function(t){a._plots[t].bg=o.select(this)});var m=[];return p.each(function(e){var r=a._plots[e],n=i.Axes.getFromId(t,e,"x"),o=i.Axes.getFromId(t,e,"y");n.setScale(),o.setScale(),r.bg&&r.bg.call(c.setRect,n._offset-s.p,o._offset-s.p,n._length+2*s.p,o._length+2*s.p).call(u.fill,a.plot_bgcolor).style("stroke-width",0),r.clipId="clip"+a._uid+e+"plot";var l=a._defs.selectAll("g.clips").selectAll("#"+r.clipId).data([0]);l.enter().append("clipPath").attr({class:"plotclip",id:r.clipId}).append("rect"),l.selectAll("rect").attr({width:n._length,height:o._length}),r.plot.call(c.setTranslate,n._offset,o._offset),r.plot.call(c.setClipUrl,r.clipId);var p=c.crispRound(t,n.linewidth,1),f=c.crispRound(t,o.linewidth,1),h=s.p+f,d="M"+-h+",",y="h"+(n._length+2*h),v="free"===n.anchor&&m.indexOf(n._id)===-1,g=s.h*(1-(n.position||0))+p/2%1,b=n.anchor===o._id&&(n.mirror||"top"!==n.side)||"all"===n.mirror||"allticks"===n.mirror||n.mirrors&&n.mirrors[o._id+"bottom"],x=o._length+s.p+p/2,_=n.anchor===o._id&&(n.mirror||"top"===n.side)||"all"===n.mirror||"allticks"===n.mirror||n.mirrors&&n.mirrors[o._id+"top"],w=-s.p-p/2,T=s.p,M=b?0:p,S=_?0:p,E=","+(-T-S)+"v"+(o._length+2*T+S+M),k="free"===o.anchor&&m.indexOf(o._id)===-1,C=s.w*(o.position||0)+f/2%1,A=o.anchor===n._id&&(o.mirror||"right"!==o.side)||"all"===o.mirror||"allticks"===o.mirror||o.mirrors&&o.mirrors[n._id+"left"],P=-s.p-f/2,L=o.anchor===n._id&&(o.mirror||"right"===o.side)||"all"===o.mirror||"allticks"===o.mirror||o.mirrors&&o.mirrors[n._id+"right"],D=n._length+s.p+f/2;n._linepositions[e]=[b?x:void 0,_?w:void 0,v?g:void 0],n.anchor===o._id?n._linepositions[e][3]="top"===n.side?w:x:v&&(n._linepositions[e][3]=g),o._linepositions[e]=[A?P:void 0,L?D:void 0,k?C:void 0],o.anchor===n._id?o._linepositions[e][3]="right"===o.side?D:P:k&&(o._linepositions[e][3]=C);var O="translate("+n._offset+","+o._offset+")",I=O,R=O;v&&(I="translate("+n._offset+","+s.t+")",w+=o._offset-s.t,x+=o._offset-s.t),k&&(R="translate("+s.l+","+o._offset+")",P+=n._offset-s.l,D+=n._offset-s.l),r.xlines.attr("transform",I).attr("d",(b?d+x+y:"")+(_?d+w+y:"")+(v?d+g+y:"")||"M0,0").style("stroke-width",p+"px").call(u.stroke,n.showline?n.linecolor:"rgba(0,0,0,0)"),r.ylines.attr("transform",R).attr("d",(A?"M"+P+E:"")+(L?"M"+D+E:"")+(k?"M"+C+E:"")||"M0,0").attr("stroke-width",f+"px").call(u.stroke,o.showline?o.linecolor:"rgba(0,0,0,0)"),r.xaxislayer.attr("transform",I),r.yaxislayer.attr("transform",R),r.gridlayer.attr("transform",O),r.zerolinelayer.attr("transform",O),r.draglayer.attr("transform",O),v&&m.push(n._id),k&&m.push(o._id)}),i.Axes.makeClipPaths(t),r.drawMainTitle(t),f.manage(t),t._promises.length&&Promise.all(t._promises)},r.drawMainTitle=function(t){var e=t._fullLayout;p.draw(t,"gtitle",{propContainer:e,propName:"title",dfltName:"Plot",attributes:{x:e.width/2,y:e._size.t/2,"text-anchor":"middle"}})},r.doTraceStyle=function(t){for(var e=0;e<t.calcdata.length;e++){var r=t.calcdata[e],n=((r[0]||{}).trace||{})._module||{},o=n.arraysToCalcdata;o&&o(r,r[0].trace)}return s.style(t),a.getComponentMethod("legend","draw")(t),s.previousPromises(t)},r.doColorBars=function(t){for(var e=0;e<t.calcdata.length;e++){var r=t.calcdata[e][0];if((r.t||{}).cb){var n=r.trace,o=r.t.cb;a.traceIs(n,"contour")&&o.line({width:n.contours.showlines!==!1?n.line.width:0,dash:n.line.dash,color:"line"===n.contours.coloring?o._opts.line.color:n.line.color}),a.traceIs(n,"markerColorscale")?o.options(n.marker.colorbar)():o.options(n.colorbar)()}}return s.previousPromises(t)},r.layoutReplot=function(t){var e=t.layout;return t.layout=void 0,i.plot(t,"",e)},r.doLegend=function(t){return a.getComponentMethod("legend","draw")(t),s.previousPromises(t)},r.doTicksRelayout=function(t){return i.Axes.doTicks(t,"redraw"),r.drawMainTitle(t),s.previousPromises(t)},r.doModeBar=function(t){var e,r,n=t._fullLayout;for(f.manage(t),i.Fx.init(t),e=s.getSubplotIds(n,"gl3d"),r=0;r<e.length;r++){var o=n[e[r]]._scene;o.updateFx(n.dragmode,n.hovermode)}return s.previousPromises(t)},r.doCamera=function(t){for(var e=t._fullLayout,r=s.getSubplotIds(e,"gl3d"),n=0;n<r.length;n++){var o=e[r[n]],i=o._scene;i.setCamera(o.camera)}}},{"../components/color":576,"../components/drawing":599,"../components/modebar":623,"../components/titles":652,"../lib":681,"../plotly":715,"../plots/plots":779,"../registry":794,d3:104}],713:[function(t,e,r){"use strict";function n(t,e){var r=new Promise(function(r,n){function p(){var t=s.getDelay(d._fullLayout);return new Promise(function(r,n){setTimeout(function(){var t=u(d),o=document.createElement("canvas");o.id=a.randstr(),c({format:e.format,width:d._fullLayout.width,height:d._fullLayout.height,canvas:o,svg:t,promise:!0}).then(function(t){d&&document.body.removeChild(d),r(t)}).catch(function(t){n(t)})},t)})}e=e||{},e.format=e.format||"png";var f=function(t){return void 0===t||null===t||!!(o(t)&&t>1)};f(e.width)&&f(e.height)||n(new Error("Height and width should be pixel values."));var h=l(t,{format:"png",height:e.height,width:e.width}),d=h.gd;d.style.position="absolute",d.style.left="-5000px",document.body.appendChild(d);var y=s.getRedrawFunc(d);i.plot(d,h.data,h.layout,h.config).then(y).then(p).then(function(t){r(t)}).catch(function(t){n(t)})});return r}var o=t("fast-isnumeric"),i=t("../plotly"),a=t("../lib"),s=t("../snapshot/helpers"),l=t("../snapshot/cloneplot"),u=t("../snapshot/tosvg"),c=t("../snapshot/svgtoimg");e.exports=n},{"../lib":681,"../plotly":715,"../snapshot/cloneplot":795,"../snapshot/helpers":798,"../snapshot/svgtoimg":800,"../snapshot/tosvg":802,"fast-isnumeric":113}],714:[function(t,e,r){"use strict";function n(t,e,r,o,i,u){u=u||[];for(var c=Object.keys(t),f=0;f<c.length;f++){var h=c[f];if("transforms"!==h){var m=u.slice();m.push(h);var v=t[h],g=e[h],b=l(r,h),x="info_array"===(b||{}).valType,_="colorscale"===(b||{}).valType;if(s(r,h))if(d(v)&&d(g))n(v,g,b,o,i,m);else if(b.items&&!x&&y(v)){var w,T,M=b.items,S=M[Object.keys(M)[0]],E=[];for(w=0;w<g.length;w++){var k=g[w]._index||w;T=m.slice(),T.push(k),d(v[k])&&d(g[w])&&(E.push(k),n(v[k],g[w],S,o,i,T))}for(w=0;w<v.length;w++)T=m.slice(),T.push(w),d(v[w])?E.indexOf(w)===-1&&o.push(a("unused",i,T)):o.push(a("object",i,T,v[w]))}else!d(v)&&d(g)?o.push(a("object",i,m,v)):y(v)||!y(g)||x||_?h in e?p.validate(v,b)||o.push(a("value",i,m,v)):o.push(a("unused",i,m,v)):o.push(a("array",i,m,v));else o.push(a("schema",i,m))}}return o}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r].type,o=t.traces[n].layoutAttributes;o&&p.extendFlat(t.layout.layoutAttributes,o)}return t.layout.layoutAttributes}function i(t){return y(t)?"In data trace "+t[1]+", ":"In "+t+", "}function a(t,e,r,n){r=r||"";var o,i;y(e)?(o=e[0],i=e[1]):(o=e,i=null);var a=c(r),s=m[t](e,a,n);return p.log(s),{code:t,container:o,trace:i,path:r,astr:a,msg:s}}function s(t,e){var r=u(e),n=r.keyMinusId,o=r.id;return!!(n in t&&t[n]._isSubplotObj&&o)||e in t}function l(t,e){var r=u(e);return t[r.keyMinusId]}function u(t){var e=/([2-9]|[1-9][0-9]+)$/,r=t.split(e)[0],n=t.substr(r.length,t.length);return{keyMinusId:r,id:n}}function c(t){if(!y(t))return String(t);for(var e="",r=0;r<t.length;r++){var n=t[r];"number"==typeof n?e=e.substr(0,e.length-1)+"["+n+"]":e+=n,r<t.length-1&&(e+=".")}return e}var p=t("../lib"),f=t("../plots/plots"),h=t("./plot_schema"),d=p.isPlainObject,y=Array.isArray;e.exports=function(t,e){var r,i,s=h.get(),l=[],u={};y(t)?(u.data=p.extendDeep([],t),r=t):(u.data=[],r=[],l.push(a("array","data"))),d(e)?(u.layout=p.extendDeep({},e),i=e):(u.layout={},i={},arguments.length>1&&l.push(a("object","layout"))),f.supplyDefaults(u);for(var c=u._fullData,m=r.length,v=0;v<m;v++){var g=r[v],b=["data",v];if(d(g)){var x=c[v],_=x.type,w=s.traces[_].attributes;w.type={valType:"enumerated",values:[_]},x.visible===!1&&g.visible!==!1&&l.push(a("invisible",b)),n(g,x,w,l,b);var T=g.transforms,M=x.transforms;if(T){y(T)||l.push(a("array",b,["transforms"])),b.push("transforms");for(var S=0;S<T.length;S++){var E=["transforms",S],k=T[S].type;if(d(T[S])){var C=s.transforms[k]?s.transforms[k].attributes:{};C.type={valType:"enumerated",values:Object.keys(s.transforms)},n(T[S],M[S],C,l,b,E)}else l.push(a("object",b,E))}}}else l.push(a("object",b))}var A=u._fullLayout,P=o(s,c);return n(i,A,P,l,"layout"),0===l.length?void 0:l};var m={object:function(t,e){var r;return r="layout"===t&&""===e?"The layout argument":"data"===t[0]&&""===e?"Trace "+t[1]+" in the data argument":i(t)+"key "+e,r+" must be linked to an object container"},array:function(t,e){var r;return r="data"===t?"The data argument":i(t)+"key "+e,r+" must be linked to an array container"},schema:function(t,e){return i(t)+"key "+e+" is not part of the schema"},unused:function(t,e,r){var n=d(r)?"container":"key";return i(t)+n+" "+e+" did not get coerced"},invisible:function(t){return"Trace "+t[1]+" got defaulted to be not visible"},value:function(t,e,r){return[i(t)+"key "+e,"is set to an invalid value ("+r+")"].join(" ")}}},{"../lib":681,"../plots/plots":779,"./plot_schema":709}],715:[function(t,e,r){"use strict";r.defaultConfig=t("./plot_api/plot_config"),r.Plots=t("./plots/plots"),r.Axes=t("./plots/cartesian/axes"),r.Fx=t("./plots/cartesian/graph_interact"),r.ModeBar=t("./components/modebar"),t("./plot_api/plot_api")},{"./components/modebar":623,"./plot_api/plot_api":707,"./plot_api/plot_config":708,"./plots/cartesian/axes":720,"./plots/cartesian/graph_interact":727,"./plots/plots":779}],716:[function(t,e,r){"use strict";e.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"]}}}},{}],717:[function(t,e,r){"use strict";var n=t("../lib");e.exports=function(t,e,r){var o,i=r.name,a=e[i],s=n.isArray(t[i])?t[i]:[],l=e[i]=[];for(o=0;o<s.length;o++){var u=s[o],c={},p={};n.isPlainObject(u)||(p.itemIsNotPlainObject=!0,u={}),r.handleItemDefaults(u,c,e,r,p),c._input=u,c._index=o,l.push(c)}if(n.isArray(a)){var f=Math.min(a.length,l.length);for(o=0;o<f;o++)n.relinkPrivateKeys(l[o],a[o])}}},{"../lib":681}],718:[function(t,e,r){"use strict";e.exports={type:{valType:"enumerated",values:[],dflt:"scatter"},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0},showlegend:{valType:"boolean",dflt:!0},legendgroup:{valType:"string",dflt:""},opacity:{valType:"number",min:0,max:1,dflt:1},name:{valType:"string"},uid:{valType:"string",dflt:""},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],dflt:"all"},stream:{token:{valType:"string",noBlank:!0,strict:!0},maxpoints:{valType:"number",min:0,max:1e4,dflt:500}}}},{}],719:[function(t,e,r){"use strict";e.exports={xaxis:{valType:"subplotid",dflt:"x"},yaxis:{valType:"subplotid",dflt:"y"}}},{}],720:[function(t,e,r){"use strict";function n(t,e,r,n,o){function i(e){return(1+100*(e-t)/r.dtick)%100<2}for(var a=0,s=0,l=0,u=0,c=0;c<e.length;c++)e[c]%1===0?l++:b(e[c])||u++,i(e[c])&&a++,i(e[c]+r.dtick/2)&&s++;var p=e.length-u;if(l===p&&"date"!==r.type)r.dtick<1?t=n-.5*r.dtick:(t-=.5,t+r.dtick<n&&(t+=r.dtick));else if(s<.1*p&&(a>.3*p||i(n)||i(o))){var f=r.dtick/2;t+=t+f<n?f:-f}return t}function o(t,e,r,n,o){var i=_.findExactDates(e,o),a=.8;if(i.exactDays>a){var s=Number(r.substr(1));i.exactYears>a&&s%12===0?t=R.tickIncrement(t,"M6","reverse")+1.5*P:i.exactMonths>a?t=R.tickIncrement(t,"M1","reverse")+15.5*P:t-=P/2;var l=R.tickIncrement(t,r);if(l<=n)return l}return t}function i(t){var e,r,n=t.tickvals,o=t.ticktext,i=new Array(n.length),a=_.simpleMap(t.range,t.r2l),s=1.0001*a[0]-1e-4*a[1],u=1.0001*a[1]-1e-4*a[0],c=Math.min(s,u),p=Math.max(s,u),f=0;Array.isArray(o)||(o=[]);var h="category"===t.type?t.d2l_noadd:t.d2l;for("log"===t.type&&"L"!==String(t.dtick).charAt(0)&&(t.dtick="L"+Math.pow(10,Math.floor(Math.min(t.range[0],t.range[1]))-1)),r=0;r<n.length;r++)e=h(n[r]),e>c&&e<p&&(void 0===o[r]?i[f]=R.tickText(t,e):i[f]=l(t,e,String(o[r])),f++);return f<n.length&&i.splice(f,n.length-f),i}function a(t,e,r){return e*_.roundUp(t/e,r)}function s(t){var e=t.dtick;if(t._tickexponent=0,b(e)||"string"==typeof e||(e=1),"category"===t.type&&(t._tickround=null),"date"===t.type){var r=t.r2l(t.tick0),n=t.l2r(r).replace(/(^-|i)/g,""),o=n.length;if("M"===String(e).charAt(0))o>10||"01-01"!==n.substr(5)?t._tickround="d":t._tickround=+e.substr(1)%12===0?"y":"m";else if(e>=P&&o<=10||e>=15*P)t._tickround="d";else if(e>=D&&o<=16||e>=L)t._tickround="M";else if(e>=O&&o<=19||e>=D)t._tickround="S";else{var i=t.l2r(r+e).replace(/^-/,"").length;t._tickround=Math.max(o,i)-20}}else if(b(e)||"L"===e.charAt(0)){var a=t.range.map(t.r2d||Number);b(e)||(e=Number(e.substr(1))),t._tickround=2-Math.floor(Math.log(e)/Math.LN10+.01);var s=Math.max(Math.abs(a[0]),Math.abs(a[1])),l=Math.floor(Math.log(s)/Math.LN10+.01);Math.abs(l)>3&&("SI"===t.exponentformat||"B"===t.exponentformat?t._tickexponent=3*Math.round((l-1)/3):t._tickexponent=l)}else t._tickround=null}function l(t,e,r){var n=t.tickfont||{};return{x:e,dx:0,dy:0,text:r||"",fontSize:n.size,font:n.family,fontColor:n.color}}function u(t,e,r,n){var o=t._tickround,i=r&&t.hoverformat||t.tickformat;n&&(o=b(o)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[o]);var a,s=_.formatDate(e.x,i,o,t.calendar),l=s.indexOf("\n");l!==-1&&(a=s.substr(l+1),s=s.substr(0,l)),n&&("00:00:00"===s||"00:00"===s?(s=a,a=""):8===s.length&&(s=s.replace(/:00$/,""))),a&&(r?"d"===o?s+=", "+a:s=a+(s?", "+s:""):t._inCalcTicks&&a===t._prevDateHead||(s+="<br>"+a,t._prevDateHead=a)),e.text=s}function c(t,e,r,n,o){var i=t.dtick,a=e.x;if(!n||"string"==typeof i&&"L"===i.charAt(0)||(i="L3"),t.tickformat||"string"==typeof i&&"L"===i.charAt(0))e.text=h(Math.pow(10,a),t,o,n);else if(b(i)||"D"===i.charAt(0)&&_.mod(a+.01,1)<.1)if(["e","E","power"].indexOf(t.exponentformat)!==-1){var s=Math.round(a);0===s?e.text=1:1===s?e.text="10":s>1?e.text="10<sup>"+s+"</sup>":e.text="10<sup>−"+-s+"</sup>",e.fontSize*=1.25}else e.text=h(Math.pow(10,a),t,"","fakehover"),"D1"===i&&"y"===t._id.charAt(0)&&(e.dy-=e.fontSize/6);else{if("D"!==i.charAt(0))throw"unrecognized dtick "+String(i);e.text=String(Math.round(Math.pow(10,_.mod(a,1)))),e.fontSize*=.75}if("D1"===t.dtick){var l=String(e.text).charAt(0);"0"!==l&&"1"!==l||("y"===t._id.charAt(0)?e.dx-=e.fontSize/4:(e.dy+=e.fontSize/2,e.dx+=(t.range[1]>t.range[0]?1:-1)*e.fontSize*(a<0?.5:.25)))}}function p(t,e){var r=t._categories[Math.round(e.x)];void 0===r&&(r=""),e.text=String(r)}function f(t,e,r,n,o){"all"===t.showexponent&&Math.abs(e.x/t.dtick)<1e-6&&(o="hide"),e.text=h(e.x,t,o,n)}function h(t,e,r,n){var o=t<0,i=e._tickround,a=r||e.exponentformat||"B",l=e._tickexponent,u=e.tickformat,c=e.separatethousands;if(n){var p={exponentformat:e.exponentformat,dtick:"none"===e.showexponent?e.dtick:b(t)?Math.abs(t)||1:1,range:"none"===e.showexponent?e.range.map(e.r2d):[0,t||1]};s(p),i=(Number(p._tickround)||0)+4,l=p._tickexponent,e.hoverformat&&(u=e.hoverformat)}if(u)return g.format(u)(t).replace(/-/g,"−");var f=Math.pow(10,-i)/2;if("none"===a&&(l=0),t=Math.abs(t),t<f)t="0",o=!1;else{if(t+=f,l&&(t*=Math.pow(10,-l),i+=l),0===i)t=String(Math.floor(t));else if(i<0){t=String(Math.round(t)),t=t.substr(0,t.length+i);for(var h=i;h<0;h++)t+="0"}else{t=String(t);var d=t.indexOf(".")+1;d&&(t=t.substr(0,d+i).replace(/\.?0+$/,""))}t=_.numSeparate(t,e._separators,c)}if(l&&"hide"!==a){var y;y=l<0?"−"+-l:"power"!==a?"+"+l:String(l),"e"===a||("SI"===a||"B"===a)&&(l>12||l<-15)?t+="e"+y:"E"===a?t+="E"+y:"power"===a?t+="×10<sup>"+y+"</sup>":"B"===a&&9===l?t+="B":"SI"!==a&&"B"!==a||(t+=H[l/3+5])}return o?"−"+t:t}function d(t,e){var r,n,o=[];
for(r=0;r<e.length;r++){var i=[],a=t._fullData[e[r]].xaxis,s=t._fullData[e[r]].yaxis;if(a&&s){for(n=0;n<o.length;n++)o[n].x.indexOf(a)===-1&&o[n].y.indexOf(s)===-1||i.push(n);if(i.length){var l,u=o[i[0]];if(i.length>1)for(n=1;n<i.length;n++)l=o[i[n]],y(u.x,l.x),y(u.y,l.y);y(u.x,[a]),y(u.y,[s])}else o.push({x:[a],y:[s]})}}return o}function y(t,e){for(var r=0;r<e.length;r++)t.indexOf(e[r])===-1&&t.push(e[r])}function m(t,e,r){var n,o,i=[],a=[],s=t.layout;for(n=0;n<e.length;n++)i.push(R.getFromId(t,e[n]));for(n=0;n<r.length;n++)a.push(R.getFromId(t,r[n]));var l=Object.keys(i[0]),u=["anchor","domain","overlaying","position","side","tickangle"],c=["linear","log"];for(n=0;n<l.length;n++){var p=l[n],f=i[0][p],h=a[0][p],d=!0,y=!1,m=!1;if("_"!==p.charAt(0)&&"function"!=typeof f&&u.indexOf(p)===-1){for(o=1;o<i.length&&d;o++){var g=i[o][p];"type"===p&&c.indexOf(f)!==-1&&c.indexOf(g)!==-1&&f!==g?y=!0:g!==f&&(d=!1)}for(o=1;o<a.length&&d;o++){var b=a[o][p];"type"===p&&c.indexOf(h)!==-1&&c.indexOf(b)!==-1&&h!==b?m=!0:a[o][p]!==h&&(d=!1)}d&&(y&&(s[i[0]._name].type="linear"),m&&(s[a[0]._name].type="linear"),v(s,p,i,a))}}for(n=0;n<t._fullLayout.annotations.length;n++){var x=t._fullLayout.annotations[n];e.indexOf(x.xref)!==-1&&r.indexOf(x.yref)!==-1&&_.swapAttrs(s.annotations[n],["?"])}}function v(t,e,r,n){var o,i=_.nestedProperty,a=i(t[r[0]._name],e).get(),s=i(t[n[0]._name],e).get();for("title"===e&&("Click to enter X axis title"===a&&(a="Click to enter Y axis title"),"Click to enter Y axis title"===s&&(s="Click to enter X axis title")),o=0;o<r.length;o++)i(t,r[o]._name+"."+e).set(s);for(o=0;o<n.length;o++)i(t,n[o]._name+"."+e).set(a)}var g=t("d3"),b=t("fast-isnumeric"),x=t("../../registry"),_=t("../../lib"),w=t("../../lib/svg_text_utils"),T=t("../../components/titles"),M=t("../../components/color"),S=t("../../components/drawing"),E=t("../../constants/numerical"),k=E.FP_SAFE,C=E.ONEAVGYEAR,A=E.ONEAVGMONTH,P=E.ONEDAY,L=E.ONEHOUR,D=E.ONEMIN,O=E.ONESEC,I=E.BADNUM,R=e.exports={};R.layoutAttributes=t("./layout_attributes"),R.supplyLayoutDefaults=t("./layout_defaults"),R.setConvert=t("./set_convert");var N=t("./axis_ids");R.id2name=N.id2name,R.cleanId=N.cleanId,R.list=N.list,R.listIds=N.listIds,R.getFromId=N.getFromId,R.getFromTrace=N.getFromTrace,R.coerceRef=function(t,e,r,n,o,i){var a=n.charAt(n.length-1),s=R.listIds(r,a),l=n+"ref",u={};return o||(o=s[0]||i),i||(i=o),u[l]={valType:"enumerated",values:s.concat(i?[i]:[]),dflt:o},_.coerce(t,e,u,l)},R.coercePosition=function(t,e,r,n,o,i){var a,s;if("paper"===n||"pixel"===n)a=r(o,i);else{var l=R.getFromId(e,n);if(i=l.fraction2r(i),a=r(o,i),"category"===l.type){if("string"==typeof a&&(l._categories||[]).length)return s=l._categories.indexOf(a),void(t[o]=s===-1?i:s)}else if("date"===l.type)return void(t[o]=_.cleanDate(a,I,l.calendar))}t[o]=b(a)?Number(a):i},R.clearTypes=function(t,e){Array.isArray(e)&&e.length||(e=t._fullData.map(function(t,e){return e})),e.forEach(function(e){var r=t.data[e];delete(R.getFromId(t,r.xaxis)||{}).type,delete(R.getFromId(t,r.yaxis)||{}).type})},R.counterLetter=function(t){var e=t.charAt(0);return"x"===e?"y":"y"===e?"x":void 0},R.minDtick=function(t,e,r,n){["log","category"].indexOf(t.type)===-1&&n?void 0===t._minDtick?(t._minDtick=e,t._forceTick0=r):t._minDtick&&((t._minDtick/e+1e-6)%1<2e-6&&((r-t._forceTick0)/e%1+1.000001)%1<2e-6?(t._minDtick=e,t._forceTick0=r):((e/t._minDtick+1e-6)%1>2e-6||((r-t._forceTick0)/t._minDtick%1+1.000001)%1>2e-6)&&(t._minDtick=0)):t._minDtick=0},R.getAutoRange=function(t){var e,r=[],n=t._min[0].val,o=t._max[0].val;for(e=1;e<t._min.length&&n===o;e++)n=Math.min(n,t._min[e].val);for(e=1;e<t._max.length&&n===o;e++)o=Math.max(o,t._max[e].val);var i,a,s,l,u,c,p,f=0,h=!1;if(t.range){var d=_.simpleMap(t.range,t.r2l);h=d[1]<d[0]}for("reversed"===t.autorange&&(h=!0,t.autorange=!0),e=0;e<t._min.length;e++)for(a=t._min[e],i=0;i<t._max.length;i++)s=t._max[i],p=s.val-a.val,c=t._length-a.pad-s.pad,p>0&&c>0&&p/c>f&&(l=a,u=s,f=p/c);if(n===o){var y=n-1,m=n+1;r="tozero"===t.rangemode?n<0?[y,0]:[0,m]:"nonnegative"===t.rangemode?[Math.max(0,y),Math.max(0,m)]:[y,m]}else f&&("linear"!==t.type&&"-"!==t.type||("tozero"===t.rangemode?(l.val>=0&&(l={val:0,pad:0}),u.val<=0&&(u={val:0,pad:0})):"nonnegative"===t.rangemode&&(l.val-f*l.pad<0&&(l={val:0,pad:0}),u.val<0&&(u={val:1,pad:0})),f=(u.val-l.val)/(t._length-l.pad-u.pad)),r=[l.val-f*l.pad,u.val+f*u.pad]);return r[0]===r[1]&&("tozero"===t.rangemode?r=r[0]<0?[r[0],0]:r[0]>0?[0,r[0]]:[0,1]:(r=[r[0]-1,r[0]+1],"nonnegative"===t.rangemode&&(r[0]=Math.max(0,r[0])))),h&&r.reverse(),_.simpleMap(r,t.l2r||Number)},R.doAutoRange=function(t){t._length||t.setScale();var e=t._min&&t._max&&t._min.length&&t._max.length;if(t.autorange&&e){t.range=R.getAutoRange(t);var r=t._input;r.range=t.range.slice(),r.autorange=t.autorange}},R.saveRangeInitial=function(t,e){for(var r=R.list(t,"",!0),n=!1,o=0;o<r.length;o++){var i=r[o],a=void 0===i._rangeInitial,s=a||!(i.range[0]===i._rangeInitial[0]&&i.range[1]===i._rangeInitial[1]);(a&&i.autorange===!1||e&&s)&&(i._rangeInitial=i.range.slice(),n=!0)}return n},R.expand=function(t,e,r){function n(t){if(Array.isArray(t))return function(e){return Math.max(Number(t[e]||0),0)};var e=Math.max(Number(t||0),0);return function(){return e}}function o(r){function n(t){return b(t)&&Math.abs(t)<k}if(u=e[r],b(u)){if(f=w(r)+g,h=T(r)+g,y=u-S(r),m=u+M(r),"log"===t.type&&y<m/10&&(y=m/10),c=t.c2l(y),p=t.c2l(m),x&&(c=Math.min(0,c),p=Math.max(0,p)),n(c)){for(d=!0,s=0;s<t._min.length&&d;s++)l=t._min[s],l.val<=c&&l.pad>=h?d=!1:l.val>=c&&l.pad<=h&&(t._min.splice(s,1),s--);d&&t._min.push({val:c,pad:x&&0===c?0:h})}if(n(p)){for(d=!0,s=0;s<t._max.length&&d;s++)l=t._max[s],l.val>=p&&l.pad>=f?d=!1:l.val<=p&&l.pad<=f&&(t._max.splice(s,1),s--);d&&t._max.push({val:p,pad:x&&0===p?0:f})}}}var i=t.autorange||!!_.nestedProperty(t,"rangeslider.autorange").get();if(i&&e){t._min||(t._min=[]),t._max||(t._max=[]),r||(r={}),t._m||t.setScale();var a,s,l,u,c,p,f,h,d,y,m,v=e.length,g=r.padded?.05*t._length:0,x=r.tozero&&("linear"===t.type||"-"===t.type),w=n((t._m>0?r.ppadplus:r.ppadminus)||r.ppad||0),T=n((t._m>0?r.ppadminus:r.ppadplus)||r.ppad||0),M=n(r.vpadplus||r.vpad),S=n(r.vpadminus||r.vpad);for(a=0;a<6;a++)o(a);for(a=v-1;a>5;a--)o(a)}},R.autoBin=function(t,e,r,i,a){var s=_.aggNums(Math.min,null,t),l=_.aggNums(Math.max,null,t);if(a||(a=e.calendar),"category"===e.type)return{start:s-.5,end:l+.5,size:1};var u;if(r)u=(l-s)/r;else{var c=_.distinctVals(t),p=Math.pow(10,Math.floor(Math.log(c.minDiff)/Math.LN10)),f=p*_.roundUp(c.minDiff/p,[.9,1.9,4.9,9.9],!0);u=Math.max(f,2*_.stdev(t)/Math.pow(t.length,i?.25:.4)),b(u)||(u=1)}var h;h="log"===e.type?{type:"linear",range:[s,l]}:{type:e.type,range:_.simpleMap([s,l],e.c2r,0,a),calendar:a},R.setConvert(h),R.autoTicks(h,u);var d,y=R.tickIncrement(R.tickFirst(h),h.dtick,"reverse",a);if("number"==typeof h.dtick){y=n(y,t,h,s,l);var m=1+Math.floor((l-y)/h.dtick);d=y+m*h.dtick}else for("M"===h.dtick.charAt(0)&&(y=o(y,t,h.dtick,s,a)),d=y;d<=l;)d=R.tickIncrement(d,h.dtick,!1,a);return{start:e.c2r(y,0,a),end:e.c2r(d,0,a),size:h.dtick}},R.calcTicks=function(t){var e=_.simpleMap(t.range,t.r2l);if("auto"===t.tickmode||!t.dtick){var r,n=t.nticks;n||("category"===t.type?(r=t.tickfont?1.2*(t.tickfont.size||12):15,n=t._length/r):(r="y"===t._id.charAt(0)?40:80,n=_.constrain(t._length/r,4,9)+1)),"array"===t.tickmode&&(n*=100),R.autoTicks(t,Math.abs(e[1]-e[0])/n),t._minDtick>0&&t.dtick<2*t._minDtick&&(t.dtick=t._minDtick,t.tick0=t.l2r(t._forceTick0))}if(t.tick0||(t.tick0="date"===t.type?"2000-01-01":0),s(t),"array"===t.tickmode)return i(t);t._tmin=R.tickFirst(t);var o=e[1]<e[0],a=[],l=1.0001*e[1]-1e-4*e[0];"category"===t.type&&(l=o?Math.max(-.5,l):Math.min(t._categories.length-.5,l));for(var u=t._tmin;(o?u>=l:u<=l)&&(a.push(u),!(a.length>1e3));u=R.tickIncrement(u,t.dtick,o,t.calendar));t._tmax=a[a.length-1],t._prevDateHead="",t._inCalcTicks=!0;for(var c=new Array(a.length),p=0;p<a.length;p++)c[p]=R.tickText(t,a[p]);return t._inCalcTicks=!1,c};var j=[2,5,10],F=[1,2,3,6,12],z=[1,2,5,10,15,30],B=[1,2,3,7,14],U=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],V=[-.301,0,.301,.699,1];R.autoTicks=function(t,e){var r;if("date"===t.type){t.tick0=_.dateTick0(t.calendar);var n=2*e;n>C?(e/=C,r=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),t.dtick="M"+12*a(e,r,j)):n>A?(e/=A,t.dtick="M"+a(e,1,F)):n>P?(t.dtick=a(e,P,B),t.tick0=_.dateTick0(t.calendar,!0)):n>L?t.dtick=a(e,L,F):n>D?t.dtick=a(e,D,z):n>O?t.dtick=a(e,O,z):(r=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),t.dtick=a(e,r,j))}else if("log"===t.type){t.tick0=0;var o=_.simpleMap(t.range,t.r2l);if(e>.7)t.dtick=Math.ceil(e);else if(Math.abs(o[1]-o[0])<1){var i=1.5*Math.abs((o[1]-o[0])/e);e=Math.abs(Math.pow(10,o[1])-Math.pow(10,o[0]))/i,r=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),t.dtick="L"+a(e,r,j)}else t.dtick=e>.3?"D2":"D1"}else"category"===t.type?(t.tick0=0,t.dtick=Math.ceil(Math.max(e,1))):(t.tick0=0,r=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),t.dtick=a(e,r,j));if(0===t.dtick&&(t.dtick=1),!b(t.dtick)&&"string"!=typeof t.dtick){var s=t.dtick;throw t.dtick=1,"ax.dtick error: "+String(s)}},R.tickIncrement=function(t,e,r,n){var o=r?-1:1;if(b(e))return t+o*e;var i=e.charAt(0),a=o*Number(e.substr(1));if("M"===i)return _.incrementMonth(t,a,n);if("L"===i)return Math.log(Math.pow(10,t)+a)/Math.LN10;if("D"===i){var s="D2"===e?V:U,l=t+.01*o,u=_.roundUp(_.mod(l,1),s,r);return Math.floor(l)+Math.log(g.round(Math.pow(10,u),1))/Math.LN10}throw"unrecognized dtick "+String(e)},R.tickFirst=function(t){var e=t.r2l||Number,r=_.simpleMap(t.range,e),n=r[1]<r[0],o=n?Math.floor:Math.ceil,i=1.0001*r[0]-1e-4*r[1],a=t.dtick,s=e(t.tick0);if(b(a)){var l=o((i-s)/a)*a+s;return"category"===t.type&&(l=_.constrain(l,0,t._categories.length-1)),l}var u=a.charAt(0),c=Number(a.substr(1));if("M"===u){for(var p,f,h,d=0,y=s;d<10;){if(p=R.tickIncrement(y,a,n,t.calendar),(p-i)*(y-i)<=0)return n?Math.min(y,p):Math.max(y,p);f=(i-(y+p)/2)/(p-y),h=u+(Math.abs(Math.round(f))||1)*c,y=R.tickIncrement(y,h,f<0?!n:n,t.calendar),d++}return _.error("tickFirst did not converge",t),y}if("L"===u)return Math.log(o((Math.pow(10,i)-s)/c)*c+s)/Math.LN10;if("D"===u){var m="D2"===a?V:U,v=_.roundUp(_.mod(i,1),m,n);return Math.floor(i)+Math.log(g.round(Math.pow(10,v),1))/Math.LN10}throw"unrecognized dtick "+String(a)},R.tickText=function(t,e,r){function n(n){var o;return void 0===n||(r?"none"===n:(o={first:t._tmin,last:t._tmax}[n],"all"!==n&&e!==o))}var o,i,a=l(t,e),s="array"===t.tickmode,h=r||s,d="category"===t.type?t.d2l_noadd:t.d2l;if(s&&Array.isArray(t.ticktext)){var y=_.simpleMap(t.range,t.r2l),m=Math.abs(y[1]-y[0])/1e4;for(i=0;i<t.ticktext.length&&!(Math.abs(e-d(t.tickvals[i]))<m);i++);if(i<t.ticktext.length)return a.text=String(t.ticktext[i]),a}return o="none"!==t.exponentformat&&n(t.showexponent)?"hide":"","date"===t.type?u(t,a,r,h):"log"===t.type?c(t,a,r,h,o):"category"===t.type?p(t,a):f(t,a,r,h,o),t.tickprefix&&!n(t.showtickprefix)&&(a.text=t.tickprefix+a.text),t.ticksuffix&&!n(t.showticksuffix)&&(a.text+=t.ticksuffix),a};var H=["f","p","n","μ","m","","k","M","G","T"];R.subplotMatch=/^x([0-9]*)y([0-9]*)$/,R.getSubplots=function(t,e){function r(t,e){return t.indexOf(e._id)!==-1}var n,o,i,a=[],s=t._fullData||t.data||[];for(n=0;n<s.length;n++){var l=s[n];if(l.visible!==!1&&"legendonly"!==l.visible&&(x.traceIs(l,"cartesian")||x.traceIs(l,"gl2d"))){var u=l.xaxis||"x",c=l.yaxis||"y";i=u+c,a.indexOf(i)===-1&&a.push(i)}}var p=R.list(t,"",!0);for(n=0;n<p.length;n++){var f=p[n],h=f._id.charAt(0),d="free"===f.anchor?"x"===h?"y":"x":f.anchor,y=R.getFromId(t,d),m=!1;for(o=0;o<a.length;o++)if(r(a[o],f)){m=!0;break}"free"===f.anchor&&m||y&&(i="x"===h?f._id+y._id:y._id+f._id,a.indexOf(i)===-1&&a.push(i))}var v=R.subplotMatch,g=[];for(n=0;n<a.length;n++)i=a[n],v.test(i)&&g.push(i);return g.sort(function(t,e){var r=t.match(v),n=e.match(v);return r[1]===n[1]?+(r[2]||1)-(n[2]||1):+(r[1]||0)-(n[1]||0)}),e?R.findSubplotsWithAxis(g,e):g},R.findSubplotsWithAxis=function(t,e){for(var r=new RegExp("x"===e._id.charAt(0)?"^"+e._id+"y":e._id+"$"),n=[],o=0;o<t.length;o++){var i=t[o];r.test(i)&&n.push(i)}return n},R.makeClipPaths=function(t){var e,r,n=t._fullLayout,o=n._defs,i={_offset:0,_length:n.width,_id:""},a={_offset:0,_length:n.height,_id:""},s=R.list(t,"x",!0),l=R.list(t,"y",!0),u=[];for(e=0;e<s.length;e++)for(u.push({x:s[e],y:a}),r=0;r<l.length;r++)0===e&&u.push({x:i,y:l[r]}),u.push({x:s[e],y:l[r]});var c=o.selectAll("g.clips").data([0]);c.enter().append("g").classed("clips",!0);var p=c.selectAll(".axesclip").data(u,function(t){return t.x._id+t.y._id});p.enter().append("clipPath").classed("axesclip",!0).attr("id",function(t){return"clip"+n._uid+t.x._id+t.y._id}).append("rect"),p.exit().remove(),p.each(function(t){g.select(this).select("rect").attr({x:t.x._offset||0,y:t.y._offset||0,width:t.x._length||1,height:t.y._length||1})})},R.doTicks=function(t,e,r){function n(t){var e=u.l2p(t.x);return e>1&&e<u._length-1}function o(t,e){var r=t.selectAll("path."+C).data("inside"===u.ticks?V:E,k);e&&u.ticks?(r.enter().append("path").classed(C,1).classed("ticks",1).classed("crisp",1).call(M.stroke,u.tickcolor).style("stroke-width",F+"px").attr("d",e),r.attr("transform",h),r.exit().remove()):r.remove()}function i(r,n){function o(t,e){t.each(function(t){var r=d(e),n=g.select(this),o=n.select(".text-math-group"),i=h(t)+(b(e)&&0!==+e?" rotate("+e+","+p(t)+","+(f(t)-t.fontSize/2)+")":"");if(o.empty()){var a=n.select("text").attr({transform:i,"text-anchor":r});a.empty()||a.selectAll("tspan.line").attr({x:a.attr("x"),y:a.attr("y")})}else{var s=S.bBox(o.node()).width*{end:-.5,start:.5}[r];o.attr("transform",i+(s?"translate("+s+",0)":""))}})}function i(){return A.length&&Promise.all(A)}function s(){if(o(c,u.tickangle),"x"===m&&!b(u.tickangle)&&("log"!==u.type||"D"!==String(u.dtick).charAt(0))){var t=[];for(c.each(function(e){var r=g.select(this),n=r.select(".text-math-group"),o=u.l2p(e.x);n.empty()&&(n=r.select("text"));var i=S.bBox(n.node());t.push({top:0,bottom:10,height:10,left:o-i.width/2,right:o+i.width/2+2,width:i.width+2})}),y=0;y<t.length-1;y++)if(_.bBoxIntersect(t[y],t[y+1])){M=30;break}if(M){var r=Math.abs((E[E.length-1].x-E[0].x)*u._m)/(E.length-1);r<2.5*T&&(M=90),o(c,M)}u._lastangle=M}return a(e),e+" done"}function l(){u._boundingBox=r.node().getBoundingClientRect()}var c=r.selectAll("g."+C).data(E,k);if(!u.showticklabels||!b(n))return c.remove(),void a(e);var p,f,d,v,x;"x"===m?(x="bottom"===B?1:-1,p=function(t){return t.dx+O*x},v=n+(D+L)*x,f=function(t){return t.dy+v+t.fontSize*("bottom"===B?1:-.5)},d=function(t){return b(t)&&0!==t&&180!==t?t*x<0?"end":"start":"middle"}):(x="right"===B?1:-1,f=function(t){return t.dy+t.fontSize/2-O*x},p=function(t){return t.dx+n+(D+L+(90===Math.abs(u.tickangle)?t.fontSize/2:0))*x},d=function(t){return b(t)&&90===Math.abs(t)?"middle":"right"===B?"start":"end"});var T=0,M=0,A=[];c.enter().append("g").classed(C,1).append("text").attr("text-anchor","middle").each(function(e){var r=g.select(this),n=t._promises.length;r.call(S.setPosition,p(e),f(e)).call(S.font,e.font,e.fontSize,e.fontColor).text(e.text).call(w.convertToTspans),n=t._promises[n],n?A.push(t._promises.pop().then(function(){o(r,u.tickangle)})):o(r,u.tickangle)}),c.exit().remove(),c.each(function(t){T=Math.max(T,t.fontSize)}),o(c,u._lastangle||u.tickangle);var P=_.syncOrAsync([i,s,l]);return P&&P.then&&t._promises.push(P),P}function a(e){if(!r){var n,o,i,a,s=N.getFromId(t,e),l=g.select(t).selectAll("g."+e+"tick"),u={selection:l,side:s.side},p=e.charAt(0),f=t._fullLayout._size,h=1.5,d=s.titlefont.size;if(l.size()){var y=S.getTranslate(l.node().parentNode);u.offsetLeft=y.x,u.offsetTop=y.y}"x"===p?(o="free"===s.anchor?{_offset:f.t+(1-(s.position||0))*f.h,_length:0}:N.getFromId(t,s.anchor),i=s._offset+s._length/2,a=o._offset+("top"===s.side?-10-d*(h+(s.showticklabels?1:0)):o._length+10+d*(h+(s.showticklabels?1.5:.5))),s.rangeslider&&s.rangeslider.visible&&s._boundingBox&&(a+=(c.height-c.margin.b-c.margin.t)*s.rangeslider.thickness+s._boundingBox.height),u.side||(u.side="bottom")):(o="free"===s.anchor?{_offset:f.l+(s.position||0)*f.w,_length:0}:N.getFromId(t,s.anchor),a=s._offset+s._length/2,i=o._offset+("right"===s.side?o._length+10+d*(h+(s.showticklabels?1:.5)):-10-d*(h+(s.showticklabels?.5:0))),n={rotate:"-90",offset:0},u.side||(u.side="left")),T.draw(t,e+"title",{propContainer:s,propName:s._name+".title",dfltName:p.toUpperCase()+" axis",avoid:u,transform:n,attributes:{x:i,y:a,"text-anchor":"middle"}})}}function s(t,e){return t.visible===!0&&t.xaxis+t.yaxis===e&&(!(!x.traceIs(t,"bar")||t.orientation!=={x:"h",y:"v"}[m])||t.fill&&t.fill.charAt(t.fill.length-1)===m)}function l(e,r,o){var i=e.gridlayer,a=e.zerolinelayer,l=e["hidegrid"+m]?[]:V,c=u._gridpath||"M0,0"+("x"===m?"v":"h")+r._length,p=i.selectAll("path."+A).data(u.showgrid===!1?[]:l,k);if(p.enter().append("path").classed(A,1).classed("crisp",1).attr("d",c).each(function(t){u.zeroline&&("linear"===u.type||"-"===u.type)&&Math.abs(t.x)<u.dtick/100&&g.select(this).remove()}),p.attr("transform",h).call(M.stroke,u.gridcolor||"#ddd").style("stroke-width",I+"px"),p.exit().remove(),a){for(var f=!1,d=0;d<t._fullData.length;d++)if(s(t._fullData[d],o)){f=!0;break}var y=_.simpleMap(u.range,u.r2l),v=y[0]*y[1]<=0&&u.zeroline&&("linear"===u.type||"-"===u.type)&&l.length&&(f||n({x:0})||!u.showline),b=a.selectAll("path."+P).data(v?[{x:0}]:[]);b.enter().append("path").classed(P,1).classed("zl",1).classed("crisp",1).attr("d",c),b.attr("transform",h).call(M.stroke,u.zerolinecolor||M.defaultLine).style("stroke-width",j+"px"),b.exit().remove()}}var u,c=t._fullLayout,p=!1;if("object"==typeof e)u=e,e=u._id,p=!0;else if(u=R.getFromId(t,e),"redraw"===e&&c._paper.selectAll("g.subplot").each(function(t){var e=c._plots[t],r=e.xaxis,n=e.yaxis;e.xaxislayer.selectAll("."+r._id+"tick").remove(),e.yaxislayer.selectAll("."+n._id+"tick").remove(),e.gridlayer.selectAll("path").remove(),e.zerolinelayer.selectAll("path").remove()}),!e||"redraw"===e)return _.syncOrAsync(R.list(t,"",!0).map(function(r){return function(){if(r._id){var n=R.doTicks(t,r._id);return"redraw"===e&&(r._r=r.range.slice(),r._rl=_.simpleMap(r._r,r.r2l)),n}}}));u.tickformat||(["none","e","E","power","SI","B"].indexOf(u.exponentformat)===-1&&(u.exponentformat="e"),["all","first","last","none"].indexOf(u.showexponent)===-1&&(u.showexponent="all")),u.setScale();var f,h,d,y,m=e.charAt(0),v=R.counterLetter(e),E=R.calcTicks(u),k=function(t){return[t.text,t.x,u.mirror].join("_")},C=e+"tick",A=e+"grid",P=e+"zl",L=(u.linewidth||1)/2,D=("outside"===u.ticks?u.ticklen:1)+(u.linewidth||0),O=0,I=S.crispRound(t,u.gridwidth,1),j=S.crispRound(t,u.zerolinewidth,I),F=S.crispRound(t,u.tickwidth,1);if(u._counterangle&&"outside"===u.ticks){var z=u._counterangle*Math.PI/180;D=u.ticklen*Math.cos(z)+(u.linewidth||0),O=u.ticklen*Math.sin(z)}if("x"===m)f=["bottom","top"],h=function(t){return"translate("+u.l2p(t.x)+",0)"},d=function(t,e){if(u._counterangle){var r=u._counterangle*Math.PI/180;return"M0,"+t+"l"+Math.sin(r)*e+","+Math.cos(r)*e}return"M0,"+t+"v"+e};else{if("y"!==m)return void _.warn("Unrecognized doTicks axis:",e);f=["left","right"],h=function(t){return"translate(0,"+u.l2p(t.x)+")"},d=function(t,e){if(u._counterangle){var r=u._counterangle*Math.PI/180;return"M"+t+",0l"+Math.cos(r)*e+","+-Math.sin(r)*e}return"M"+t+",0h"+e}}var B=u.side||f[0],U=[-1,1,B===f[1]?1:-1];"inside"!==u.ticks==("x"===m)&&(U=U.map(function(t){return-t}));var V=E.filter(n);if(p){if(o(u._axislayer,d(u._pos+L*U[2],U[2]*u.ticklen)),u._counteraxis){var H={gridlayer:u._gridlayer,zerolinelayer:u._zerolinelayer};l(H,u._counteraxis)}return i(u._axislayer,u._pos)}var W=R.getSubplots(t,u).map(function(t){var e=c._plots[t];if(c._has("cartesian")){var r=e[m+"axislayer"],n=u._linepositions[t]||[],a=e[v+"axis"],s=a._id===u.anchor,p=[!1,!1,!1],h="";if("allticks"===u.mirror?p=[!0,!0,!1]:s&&("ticks"===u.mirror?p=[!0,!0,!1]:p[f.indexOf(B)]=!0),u.mirrors)for(y=0;y<2;y++){var g=u.mirrors[a._id+f[y]];"ticks"!==g&&"labels"!==g||(p[y]=!0)}return void 0!==n[2]&&(p[2]=!0),p.forEach(function(t,e){var r=n[e],o=U[e];t&&b(r)&&(h+=d(r+L*o,o*u.ticklen))}),o(r,h),l(e,a,t),i(r,n[3])}}).filter(function(t){return t&&t.then});return W.length?Promise.all(W):0},R.swap=function(t,e){for(var r=d(t,e),n=0;n<r.length;n++)m(t,r[n].x,r[n].y)}},{"../../components/color":576,"../../components/drawing":599,"../../components/titles":652,"../../constants/numerical":663,"../../lib":681,"../../lib/svg_text_utils":700,"../../registry":794,"./axis_ids":723,"./layout_attributes":729,"./layout_defaults":730,"./set_convert":734,d3:104,"fast-isnumeric":113}],721:[function(t,e,r){"use strict";function n(t){if(!t)return!1;for(var e=0;e<t.length;e++)if(a(t[e]))return!0;return!1}function o(t,e){for(var r,n=0,o=0,i=Math.max(1,(t.length-1)/1e3),l=0;l<t.length;l+=i)r=t[Math.round(l)],s.isDateTime(r,e)&&(n+=1),a(r)&&(o+=1);return n>2*o}function i(t){for(var e,r=Math.max(1,(t.length-1)/1e3),n=0,o=0,i=0;i<t.length;i+=r)e=t[Math.round(i)],s.cleanNumber(e)!==l?n++:"string"==typeof e&&""!==e&&"None"!==e&&o++;return o>2*n}var a=t("fast-isnumeric"),s=t("../../lib"),l=t("../../constants/numerical").BADNUM;e.exports=function(t,e){return o(t,e)?"date":i(t)?"category":n(t)?"linear":"-"}},{"../../constants/numerical":663,"../../lib":681,"fast-isnumeric":113}],722:[function(t,e,r){"use strict";function n(t,e){if("-"===t.type){var r=t._id,n=r.charAt(0);r.indexOf("scene")!==-1&&(r=n);var s=a(e,r,n);if(s){if("histogram"===s.type&&n==={v:"y",h:"x"}[s.orientation||"v"])return void(t.type="linear");var u=n+"calendar",c=s[u];if(i(s,n)){for(var p,f=o(s),h=[],d=0;d<e.length;d++)p=e[d],l.traceIs(p,"box")&&(p[n+"axis"]||n)===r&&(void 0!==p[f]?h.push(p[f][0]):void 0!==p.name?h.push(p.name):h.push("text"),p[u]!==c&&(c=void 0));t.type=b(h,c)}else t.type=b(s[n]||[s[n+"0"]],c)}}}function o(t){return{v:"x",h:"y"}[t.orientation||"v"]}function i(t,e){var r=o(t),n=l.traceIs(t,"box"),i=l.traceIs(t._fullInput||{},"candlestick");return n&&!i&&e===r&&void 0===t[r]&&void 0===t[r+"0"]}function a(t,e,r){for(var n=0;n<t.length;n++){var o=t[n];if((o[r+"axis"]||r)===e){if(i(o,r))return o;if((o[r]||[]).length||o[r+"0"])return o}}}var s=t("tinycolor2").mix,l=t("../../registry"),u=t("../../lib"),c=t("../../components/color/attributes").lightFraction,p=t("./layout_attributes"),f=t("./tick_value_defaults"),h=t("./tick_mark_defaults"),d=t("./tick_label_defaults"),y=t("./category_order_defaults"),m=t("./set_convert"),v=t("./ordered_categories"),g=t("./axis_ids"),b=t("./axis_autotype");e.exports=function(t,e,r,o,i){function a(r,n){return u.coerce2(t,e,p,r,n)}var b=o.letter,x=o.font||{},_="Click to enter "+(o.title||b.toUpperCase()+" axis")+" title";o.name&&(e._name=o.name,e._id=g.name2id(o.name));var w=r("type");if("-"===w&&(n(e,o.data),"-"===e.type?e.type="linear":w=t.type=e.type),"date"===w){var T=l.getComponentMethod("calendars","handleDefaults");T(t,e,"calendar",o.calendar)}m(e,i);var M=r("color"),S=M===t.color?M:x.color;r("title",_),u.coerceFont(r,"titlefont",{family:x.family,size:Math.round(1.2*x.size),color:S});var E=r("autorange",!e.isValidRange(t.range));E&&r("rangemode"),r("range"),e.cleanRange(),f(t,e,r,w),d(t,e,r,w,o),h(t,e,r,o),y(t,e,r);var k=a("linecolor",M),C=a("linewidth"),A=r("showline",!!k||!!C);A||(delete e.linecolor,delete e.linewidth),(A||e.ticks)&&r("mirror");var P=a("gridcolor",s(M,o.bgColor,c).toRgbString()),L=a("gridwidth"),D=r("showgrid",o.showGrid||!!P||!!L);D||(delete e.gridcolor,delete e.gridwidth);var O=a("zerolinecolor",M),I=a("zerolinewidth"),R=r("zeroline",o.showGrid||!!O||!!I);return R||(delete e.zerolinecolor,delete e.zerolinewidth),e._initialCategories="category"===w?v(b,e.categoryorder,e.categoryarray,o.data):[],e}},{"../../components/color/attributes":575,"../../lib":681,"../../registry":794,"./axis_autotype":721,"./axis_ids":723,"./category_order_defaults":724,"./layout_attributes":729,"./ordered_categories":731,"./set_convert":734,"./tick_label_defaults":735,"./tick_mark_defaults":736,"./tick_value_defaults":737,tinycolor2:512}],723:[function(t,e,r){"use strict";function n(t,e,r){function n(t,r){for(var n=Object.keys(t),o=/^[xyz]axis[0-9]*/,i=[],a=0;a<n.length;a++){var s=n[a];e&&s.charAt(0)!==e||o.test(s)&&i.push(r+s)}return i.sort()}var o=t._fullLayout;if(!o)return[];var a=n(o,"");if(r)return a;for(var s=i.getSubplotIds(o,"gl3d")||[],l=0;l<s.length;l++){var u=s[l];a=a.concat(n(o[u],u+"."))}return a}var o=t("../../registry"),i=t("../plots"),a=t("../../lib"),s=t("./constants");r.id2name=function(t){if("string"==typeof t&&t.match(s.AX_ID_PATTERN)){var e=t.substr(1);return"1"===e&&(e=""),t.charAt(0)+"axis"+e}},r.name2id=function(t){if(t.match(s.AX_NAME_PATTERN)){var e=t.substr(5);return"1"===e&&(e=""),t.charAt(0)+e}},r.cleanId=function(t,e){if(t.match(s.AX_ID_PATTERN)&&(!e||t.charAt(0)===e)){var r=t.substr(1).replace(/^0+/,"");return"1"===r&&(r=""),t.charAt(0)+r}},r.list=function(t,e,r){return n(t,e,r).map(function(e){return a.nestedProperty(t._fullLayout,e).get()})},r.listIds=function(t,e){return n(t,e,!0).map(r.name2id)},r.getFromId=function(t,e,n){var o=t._fullLayout;return"x"===n?e=e.replace(/y[0-9]*/,""):"y"===n&&(e=e.replace(/x[0-9]*/,"")),o[r.id2name(e)]},r.getFromTrace=function(t,e,n){var i=t._fullLayout,a=null;if(o.traceIs(e,"gl3d")){var s=e.scene;"scene"===s.substr(0,5)&&(a=i[s][n+"axis"])}else a=r.getFromId(t,e[n+"axis"]||n);return a}},{"../../lib":681,"../../registry":794,"../plots":779,"./constants":725}],724:[function(t,e,r){"use strict";e.exports=function(t,e,r){if("category"===e.type){var n,o=t.categoryarray,i=Array.isArray(o)&&o.length>0;i&&(n="array");var a=r("categoryorder",n);"array"===a&&r("categoryarray"),i||"array"!==a||(e.categoryorder="trace")}}},{}],725:[function(t,e,r){"use strict";e.exports={idRegex:{x:/^x([2-9]|[1-9][0-9]+)?$/,y:/^y([2-9]|[1-9][0-9]+)?$/},attrRegex:{x:/^xaxis([2-9]|[1-9][0-9]+)?$/,y:/^yaxis([2-9]|[1-9][0-9]+)?$/},xAxisMatch:/^xaxis[0-9]*$/,yAxisMatch:/^yaxis[0-9]*$/,AX_ID_PATTERN:/^[xyz][0-9]*$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,MAXDIST:20,YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,BENDPX:1.5,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4]}},{}],726:[function(t,e,r){"use strict";function n(t,e){var r,n=t.range[e],o=Math.abs(n-t.range[1-e]);return"date"===t.type?n:"log"===t.type?(r=Math.ceil(Math.max(0,-Math.log(o)/Math.LN10))+3,s.format("."+r+"g")(Math.pow(10,n))):(r=Math.floor(Math.log(Math.abs(n))/Math.LN10)-Math.floor(Math.log(o)/Math.LN10)+4,s.format("."+String(r)+"g")(n))}function o(t,e){return t?"nsew"===t?"pan"===e?"move":"crosshair":t.toLowerCase()+"-resize":"pointer"}function i(t){s.select(t).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function a(t){var e=["lasso","select"];return e.indexOf(t)!==-1}var s=t("d3"),l=t("tinycolor2"),u=t("../../plotly"),c=t("../../registry"),p=t("../../lib"),f=t("../../lib/svg_text_utils"),h=t("../../components/color"),d=t("../../components/drawing"),y=t("../../lib/setcursor"),m=t("../../components/dragelement"),v=t("./axes"),g=t("./select"),b=t("./constants"),x=!0;e.exports=function(t,e,r,s,_,w,T,M){function S(t,e){for(var r=0;r<t.length;r++)if(!t[r].fixedrange)return e;return""}function E(){U=[e.xaxis],V=[e.yaxis],H=U[0]._length,W=V[0]._length;for(var t=1;t<B.length;t++){var r=B[t].xaxis,n=B[t].yaxis;U.indexOf(r)===-1&&U.push(r),V.indexOf(n)===-1&&V.push(n)}J=U.concat(V),$=S(U,M),Q=S(V,T),tt=o(Q+$,z.dragmode),yt=e.xaxis._offset,mt=e.yaxis._offset,ot.xa=U,ot.ya=V}function k(e,r,n){var o=nt.getBoundingClientRect();it=r-o.left,at=n-o.top,st={l:it,r:it,w:0,t:at,b:at,h:0},lt=t._hmpixcount?t._hmlumcount/t._hmpixcount:l(t._fullLayout.plot_bgcolor).getLuminance(),ut="M0,0H"+H+"V"+W+"H0V0",ct=!1,pt="xy",ft=dt.append("path").attr("class","zoombox").style({fill:lt>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform","translate("+yt+", "+mt+")").attr("d",ut+"Z"),ht=dt.append("path").attr("class","zoombox-corners").style({fill:h.background,stroke:h.defaultLine,"stroke-width":1,opacity:0}).attr("transform","translate("+yt+", "+mt+")").attr("d","M0,0Z"),C()}function C(){dt.selectAll(".select-outline").remove()}function A(e,r){if(t._transitioningWithDuration)return!1;var n=Math.max(0,Math.min(H,e+it)),o=Math.max(0,Math.min(W,r+at)),i=Math.abs(n-it),a=Math.abs(o-at),s=Math.floor(Math.min(a,i,G)/2);st.l=Math.min(it,n),st.r=Math.max(it,n),st.t=Math.min(at,o),st.b=Math.max(at,o),!Q||a<Math.min(Math.max(.6*i,q),G)?i<q?(pt="",st.r=st.l,st.t=st.b,ht.attr("d","M0,0Z")):(st.t=0,st.b=W,pt="x",ht.attr("d","M"+(st.l-.5)+","+(at-G-.5)+"h-3v"+(2*G+1)+"h3ZM"+(st.r+.5)+","+(at-G-.5)+"h3v"+(2*G+1)+"h-3Z")):!$||i<Math.min(.6*a,G)?(st.l=0,st.r=H,pt="y",ht.attr("d","M"+(it-G-.5)+","+(st.t-.5)+"v-3h"+(2*G+1)+"v3ZM"+(it-G-.5)+","+(st.b+.5)+"v3h"+(2*G+1)+"v-3Z")):(pt="xy",ht.attr("d","M"+(st.l-3.5)+","+(st.t-.5+s)+"h3v"+-s+"h"+s+"v-3h-"+(s+3)+"ZM"+(st.r+3.5)+","+(st.t-.5+s)+"h-3v"+-s+"h"+-s+"v-3h"+(s+3)+"ZM"+(st.r+3.5)+","+(st.b+.5-s)+"h-3v"+s+"h"+-s+"v3h"+(s+3)+"ZM"+(st.l-3.5)+","+(st.b+.5-s)+"h3v"+s+"h"+s+"v3h-"+(s+3)+"Z")),st.w=st.r-st.l,st.h=st.b-st.t,ft.attr("d",ut+"M"+st.l+","+st.t+"v"+st.h+"h"+st.w+"v-"+st.h+"h-"+st.w+"Z"),ct||(ft.transition().style("fill",lt>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ht.transition().style("opacity",1).duration(200),ct=!0)}function P(t,e,r){var n,o,i,a;for(n=0;n<t.length;n++)o=t[n],o.fixedrange||(i=o._rl[0],a=o._rl[1]-i,o.range=[o.l2r(i+a*e),o.l2r(i+a*r)])}function L(e,r){return Math.min(st.h,st.w)<2*q?(2===r&&N(),i(t)):("xy"!==pt&&"x"!==pt||P(U,st.l/H,st.r/H),"xy"!==pt&&"y"!==pt||P(V,(W-st.b)/W,(W-st.t)/W),i(t),j(pt),void(x&&t.data&&t._context.showTips&&(p.notifier("Double-click to<br>zoom back out","long"),x=!1)))}function D(e,r){var o=1===(T+M).length;if(e)j();else if(2!==r||o){if(1===r&&o){var i=T?V[0]:U[0],a="s"===T||"w"===M?0:1,s=i._name+".range["+a+"]",l=n(i,a),c="left",p="middle";if(i.fixedrange)return;T?(p="n"===T?"top":"bottom","right"===i.side&&(c="right")):"e"===M&&(c="right"),t._context.showAxisRangeEntryBoxes&&rt.call(f.makeEditable,null,{immediate:!0,background:z.paper_bgcolor,text:String(l),fill:i.tickfont?i.tickfont.color:"#444",horizontalAlign:c,verticalAlign:p}).on("edit",function(e){var r=i.d2r(e);void 0!==r&&u.relayout(t,s,r)})}}else N()}function O(e){function r(t,e,r){function n(e){return t.l2r(i+(e-i)*r)}if(!t.fixedrange){var o=p.simpleMap(t.range,t.r2l),i=o[0]+(o[1]-o[0])*e;t.range=o.map(n)}}if(t._context.scrollZoom||z._enablescrollzoom){if(t._transitioningWithDuration)return p.pauseEvent(e);var n=t.querySelector(".plotly");if(E(),!(n.scrollHeight-n.clientHeight>10||n.scrollWidth-n.clientWidth>10)){clearTimeout(gt);var o=-e.deltaY;if(isFinite(o)||(o=e.wheelDelta/10),!isFinite(o))return void p.log("Did not find wheel motion attributes: ",e);var i,a=Math.exp(-Math.min(Math.max(o,-20),20)/100),s=xt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),l=(e.clientX-s.left)/s.width,u=vt[0]+vt[2]*l,c=(s.bottom-e.clientY)/s.height,f=vt[1]+vt[3]*(1-c);if(M){for(i=0;i<U.length;i++)r(U[i],l,a);vt[2]*=a,vt[0]=u-vt[2]*l}if(T){for(i=0;i<V.length;i++)r(V[i],c,a);vt[3]*=a,vt[1]=f-vt[3]*(1-c)}return F(vt),R(T,M),gt=setTimeout(function(){vt=[0,0,H,W],j()},bt),p.pauseEvent(e)}}}function I(e,r){function n(t,e){for(var r=0;r<t.length;r++){var n=t[r];n.fixedrange||(n.range=[n.l2r(n._rl[0]-e/n._m),n.l2r(n._rl[1]-e/n._m)])}}function o(t){return 1-(t>=0?Math.min(t,.9):1/(1/Math.max(t,-.3)+3.222))}function i(t,e,r){for(var n,i,a=1-e,s=0;s<t.length;s++){var l=t[s];if(!l.fixedrange){n=l,i=l._rl[a]+(l._rl[e]-l._rl[a])/o(r/l._length);var u=l.l2r(i);u!==!1&&void 0!==u&&(l.range[e]=u)}}return n._length*(n._rl[e]-i)/(n._rl[e]-n._rl[a])}if(!t._transitioningWithDuration){if(E(),"ew"===$||"ns"===Q)return $&&n(U,e),Q&&n(V,r),F([$?-e:0,Q?-r:0,H,W]),void R(Q,$);"w"===$?e=i(U,0,e):"e"===$?e=i(U,1,-e):$||(e=0),"n"===Q?r=i(V,1,r):"s"===Q?r=i(V,0,-r):Q||(r=0),F(["w"===$?e:0,"n"===Q?r:0,H-e,W-r]),
R(Q,$)}}function R(e,r){function n(t){for(i=0;i<t.length;i++)t[i].fixedrange||a.push(t[i]._id)}function o(n,o){for(i=0;i<n.length;i++){var s=n[i];(r&&a.indexOf(s.xref)!==-1||e&&a.indexOf(s.yref)!==-1)&&o(t,i)}}var i,a=[];for(r&&n(U),e&&n(V),i=0;i<a.length;i++)v.doTicks(t,a[i],!0);o(z.annotations||[],c.getComponentMethod("annotations","drawOne")),o(z.shapes||[],c.getComponentMethod("shapes","drawOne")),o(z.images||[],c.getComponentMethod("images","draw"))}function N(){if(!t._transitioningWithDuration){var e,r,n,o=t._context.doubleClick,i=($?U:[]).concat(Q?V:[]),a={};if("autosize"===o)for(r=0;r<i.length;r++)e=i[r],e.fixedrange||(a[e._name+".autorange"]=!0);else if("reset"===o)for(r=0;r<i.length;r++)e=i[r],e._rangeInitial?(n=e._rangeInitial.slice(),a[e._name+".range[0]"]=n[0],a[e._name+".range[1]"]=n[1]):a[e._name+".autorange"]=!0;else if("reset+autosize"===o)for(r=0;r<i.length;r++)e=i[r],e.fixedrange||(void 0===e._rangeInitial||e.range[0]===e._rangeInitial[0]&&e.range[1]===e._rangeInitial[1]?a[e._name+".autorange"]=!0:(n=e._rangeInitial.slice(),a[e._name+".range[0]"]=n[0],a[e._name+".range[1]"]=n[1]));t.emit("plotly_doubleclick",null),u.relayout(t,a)}}function j(e){for(var r={},n=0;n<J.length;n++){var o=J[n];e&&e.indexOf(o._id.charAt(0))===-1||(o._r[0]!==o.range[0]&&(r[o._name+".range[0]"]=o.range[0]),o._r[1]!==o.range[1]&&(r[o._name+".range[1]"]=o.range[1]),o.range=o._r.slice())}F([0,0,H,W]),u.relayout(t,r)}function F(t){for(var e,r=z._plots,n=Object.keys(r),o=0;o<n.length;o++){var i=r[n[o]],a=i.xaxis,s=i.yaxis,l=M&&!a.fixedrange,u=T&&!s.fixedrange;if(l){var c=!1;for(e=0;e<U.length;e++)if(U[e]._id===a._id){c=!0;break}l=l&&c}if(u){var p=!1;for(e=0;e<V.length;e++)if(V[e]._id===s._id){p=!0;break}u=u&&p}var f=l?a._length/t[2]:1,h=u?s._length/t[3]:1,y=l?t[0]:0,m=u?t[1]:0,v=l?t[0]/t[2]*a._length:0,g=u?t[1]/t[3]*s._length:0,b=a._offset-v,x=s._offset-g;z._defs.selectAll("#"+i.clipId).call(d.setTranslate,y,m).call(d.setScale,1/f,1/h),i.plot.call(d.setTranslate,b,x).call(d.setScale,f,h).select(".scatterlayer").selectAll(".points").selectAll(".point").call(d.setPointGroupScale,1/f,1/h)}}for(var z=t._fullLayout,B=[e].concat(T&&M?e.overlays:[]),U=[e.xaxis],V=[e.yaxis],H=U[0]._length,W=V[0]._length,q=b.MINDRAG,G=b.MINZOOM,Y=T+M==="nsew",X=1;X<B.length;X++){var K=B[X].xaxis,Z=B[X].yaxis;U.indexOf(K)===-1&&U.push(K),V.indexOf(Z)===-1&&V.push(Z)}var J=U.concat(V),$=S(U,M),Q=S(V,T),tt=o(Q+$,z.dragmode),et=T+M+"drag",rt=e.draglayer.selectAll("."+et).data([0]);rt.enter().append("rect").classed("drag",!0).classed(et,!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id),rt.call(d.setRect,r,s,_,w).call(y,tt);var nt=rt.node();if(!Q&&!$&&!a(z.dragmode))return nt.onmousedown=null,nt.style.pointerEvents=Y?"all":"none",nt;var ot={element:nt,gd:t,plotinfo:e,xaxes:U,yaxes:V,doubleclick:N,prepFn:function(e,r,n){var o=t._fullLayout.dragmode;Y?e.shiftKey&&(o="pan"===o?"zoom":"pan"):o="pan","lasso"===o?ot.minDrag=1:ot.minDrag=void 0,"zoom"===o?(ot.moveFn=A,ot.doneFn=L,k(e,r,n)):"pan"===o?(ot.moveFn=I,ot.doneFn=D,C()):a(o)&&g(e,r,n,ot,o)}};m.init(ot);var it,at,st,lt,ut,ct,pt,ft,ht,dt=t._fullLayout._zoomlayer,yt=e.xaxis._offset,mt=e.yaxis._offset,vt=[0,0,H,W],gt=null,bt=b.REDRAWDELAY,xt=e.mainplot?z._plots[e.mainplot]:e;return T.length*M.length!==1&&(void 0!==nt.onwheel?nt.onwheel=O:void 0!==nt.onmousewheel&&(nt.onmousewheel=O)),nt}},{"../../components/color":576,"../../components/dragelement":597,"../../components/drawing":599,"../../lib":681,"../../lib/setcursor":696,"../../lib/svg_text_utils":700,"../../plotly":715,"../../registry":794,"./axes":720,"./constants":725,"./select":733,d3:104,tinycolor2:512}],727:[function(t,e,r){"use strict";function n(t,e){for(var r=[],n=t.length;n>0;n--)r.push(e);return r}function o(t,e){for(var r=[],n=0;n<t.length;n++)r.push(t[n].p2c(e));return r}function i(t,e){return function(r){var n=t(r),o=e(r);return Math.sqrt(n*n+o*o)}}function a(t,e,r){if("pie"===r)return void t.emit("plotly_hover",{points:[e]});r||(r="xy");var i=Array.isArray(r)?r:[r],a=t._fullLayout,d=a._plots||[],g=d[r];if(g){var x=g.overlays.map(function(t){return t.id});i=i.concat(x)}for(var E=i.length,k=new Array(E),C=new Array(E),A=0;A<E;A++){var P=i[A],L=d[P];if(L)k[A]=M.getFromId(t,L.xaxis._id),C[A]=M.getFromId(t,L.yaxis._id);else{var D=a[P]._subplot;k[A]=D.xaxis,C[A]=D.yaxis}}var O=e.hovermode||a.hovermode;if(["x","y","closest"].indexOf(O)===-1||!t.calcdata||t.querySelector(".zoombox")||t._dragging)return _.unhoverRaw(t,e);var I,R,N,j,F,z,B,U,V,H,W,q,G,Y=[],X=[];if(Array.isArray(e))for(O="array",N=0;N<e.length;N++)F=t.calcdata[e[N].curveNumber||0],"skip"!==F[0].trace.hoverinfo&&X.push(F);else{for(j=0;j<t.calcdata.length;j++)F=t.calcdata[j],z=F[0].trace,"skip"!==z.hoverinfo&&i.indexOf(s(z))!==-1&&X.push(F);var K,Z;if(e.target&&"clientX"in e&&"clientY"in e){if(v.triggerHandler(t,"plotly_beforehover",e)===!1)return;var J=e.target.getBoundingClientRect();if(K=e.clientX-J.left,Z=e.clientY-J.top,K<0||K>J.width||Z<0||Z>J.height)return _.unhoverRaw(t,e)}else K="xpx"in e?e.xpx:k[0]._length/2,Z="ypx"in e?e.ypx:C[0]._length/2;if(I="xval"in e?n(i,e.xval):o(k,K),R="yval"in e?n(i,e.yval):o(C,Z),!y(I[0])||!y(R[0]))return m.warn("Fx.hover failed",e,t),_.unhoverRaw(t,e)}var $=1/0;for(j=0;j<X.length;j++)if(F=X[j],F&&F[0]&&F[0].trace&&F[0].trace.visible===!0){if(z=F[0].trace,B=s(z),U=i.indexOf(B),V=O,q={cd:F,trace:z,xa:k[U],ya:C[U],name:t.data.length>1||z.hoverinfo.indexOf("name")!==-1?z.name:void 0,index:!1,distance:Math.min($,S.MAXDIST),color:b.defaultLine,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},a[B]&&(q.subplot=a[B]._subplot),G=Y.length,"array"===V){var Q=e[j];"pointNumber"in Q?(q.index=Q.pointNumber,V="closest"):(V="","xval"in Q&&(H=Q.xval,V="x"),"yval"in Q&&(W=Q.yval,V=V?"closest":"y"))}else H=I[U],W=R[U];if(z._module&&z._module.hoverPoints){var tt=z._module.hoverPoints(q,H,W,V);if(tt)for(var et,rt=0;rt<tt.length;rt++)et=tt[rt],y(et.x0)&&y(et.y0)&&Y.push(l(et,O))}else m.log("Unrecognized trace type in hover:",z);"closest"===O&&Y.length>G&&(Y.splice(0,G),$=Y[0].distance)}if(0===Y.length)return _.unhoverRaw(t,e);var nt="y"===O&&X.length>1;Y.sort(function(t,e){return t.distance-e.distance});var ot=b.combine(a.plot_bgcolor||b.background,a.paper_bgcolor),it={hovermode:O,rotateLabels:nt,bgColor:ot,container:a._hoverlayer,outerContainer:a._paperdiv},at=u(Y,it);c(Y,nt?"xa":"ya"),p(at,nt);var st=t._hoverdata,lt=[];for(N=0;N<Y.length;N++){var ut=Y[N],ct={data:ut.trace._input,fullData:ut.trace,curveNumber:ut.trace.index,pointNumber:ut.index};ut.trace._module.eventData?ct=ut.trace._module.eventData(ct,ut):(ct.x=ut.xVal,ct.y=ut.yVal,ct.xaxis=ut.xa,ct.yaxis=ut.ya,void 0!==ut.zLabelVal&&(ct.z=ut.zLabelVal)),lt.push(ct)}if(t._hoverdata=lt,e.target&&e.target.tagName){var pt=T.getComponentMethod("annotations","hasClickToShow")(t,lt);w(h.select(e.target),pt?"pointer":"")}f(t,e,st)&&(st&&t.emit("plotly_unhover",{points:st}),t.emit("plotly_hover",{points:t._hoverdata,xaxes:k,yaxes:C,xvals:I,yvals:R}))}function s(t){return t.subplot||t.xaxis+t.yaxis||t.geo}function l(t,e){t.posref="y"===e?(t.x0+t.x1)/2:(t.y0+t.y1)/2,t.x0=m.constrain(t.x0,0,t.xa._length),t.x1=m.constrain(t.x1,0,t.xa._length),t.y0=m.constrain(t.y0,0,t.ya._length),t.y1=m.constrain(t.y1,0,t.ya._length);var r;if(void 0!==t.xLabelVal){r="log"===t.xa.type&&t.xLabelVal<=0;var n=M.tickText(t.xa,t.xa.c2l(r?-t.xLabelVal:t.xLabelVal),"hover");r?0===t.xLabelVal?t.xLabel="0":t.xLabel="-"+n.text:t.xLabel=n.text,t.xVal=t.xa.c2d(t.xLabelVal)}if(void 0!==t.yLabelVal){r="log"===t.ya.type&&t.yLabelVal<=0;var o=M.tickText(t.ya,t.ya.c2l(r?-t.yLabelVal:t.yLabelVal),"hover");r?0===t.yLabelVal?t.yLabel="0":t.yLabel="-"+o.text:t.yLabel=o.text,t.yVal=t.ya.c2d(t.yLabelVal)}if(void 0!==t.zLabelVal&&(t.zLabel=String(t.zLabelVal)),!(isNaN(t.xerr)||"log"===t.xa.type&&t.xerr<=0)){var i=M.tickText(t.xa,t.xa.c2l(t.xerr),"hover").text;void 0!==t.xerrneg?t.xLabel+=" +"+i+" / -"+M.tickText(t.xa,t.xa.c2l(t.xerrneg),"hover").text:t.xLabel+=" ± "+i,"x"===e&&(t.distance+=1)}if(!(isNaN(t.yerr)||"log"===t.ya.type&&t.yerr<=0)){var a=M.tickText(t.ya,t.ya.c2l(t.yerr),"hover").text;void 0!==t.yerrneg?t.yLabel+=" +"+a+" / -"+M.tickText(t.ya,t.ya.c2l(t.yerrneg),"hover").text:t.yLabel+=" ± "+a,"y"===e&&(t.distance+=1)}var s=t.trace.hoverinfo;return"all"!==s&&(s=s.split("+"),s.indexOf("x")===-1&&(t.xLabel=void 0),s.indexOf("y")===-1&&(t.yLabel=void 0),s.indexOf("z")===-1&&(t.zLabel=void 0),s.indexOf("text")===-1&&(t.text=void 0),s.indexOf("name")===-1&&(t.name=void 0)),t}function u(t,e){var r,n,o=e.hovermode,i=e.rotateLabels,a=e.bgColor,s=e.container,l=e.outerContainer,u=t[0],c=u.xa,p=u.ya,f="y"===o?"yLabel":"xLabel",y=u[f],m=(String(y)||"").split(" ")[0],v=l.node().getBoundingClientRect(),_=v.top,w=v.width,T=v.height,M=u.distance<=S.MAXDIST&&("x"===o||"y"===o);for(r=0;r<t.length;r++){n=t[r].trace.hoverinfo;var E=n.split("+");if(E.indexOf("all")===-1&&E.indexOf(o)===-1){M=!1;break}}var k=s.selectAll("g.axistext").data(M?[0]:[]);k.enter().append("g").classed("axistext",!0),k.exit().remove(),k.each(function(){var e=h.select(this),r=e.selectAll("path").data([0]),n=e.selectAll("text").data([0]);r.enter().append("path").style({fill:b.defaultLine,"stroke-width":"1px",stroke:b.background}),n.enter().append("text").call(x.font,j,N,b.background).attr("data-notex",1),n.text(y).call(g.convertToTspans).call(x.setPosition,0,0).selectAll("tspan.line").call(x.setPosition,0,0),e.attr("transform","");var i=n.node().getBoundingClientRect();if("x"===o){n.attr("text-anchor","middle").call(x.setPosition,0,"top"===c.side?_-i.bottom-I-R:_-i.top+I+R).selectAll("tspan.line").attr({x:n.attr("x"),y:n.attr("y")});var a="top"===c.side?"-":"";r.attr("d","M0,0L"+I+","+a+I+"H"+(R+i.width/2)+"v"+a+(2*R+i.height)+"H-"+(R+i.width/2)+"V"+a+I+"H-"+I+"Z"),e.attr("transform","translate("+(c._offset+(u.x0+u.x1)/2)+","+(p._offset+("top"===c.side?0:p._length))+")")}else{n.attr("text-anchor","right"===p.side?"start":"end").call(x.setPosition,("right"===p.side?1:-1)*(R+I),_-i.top-i.height/2).selectAll("tspan.line").attr({x:n.attr("x"),y:n.attr("y")});var s="right"===p.side?"":"-";r.attr("d","M0,0L"+s+I+","+I+"V"+(R+i.height/2)+"h"+s+(2*R+i.width)+"V-"+(R+i.height/2)+"H"+s+I+"V-"+I+"Z"),e.attr("transform","translate("+(c._offset+("right"===p.side?c._length:0))+","+(p._offset+(u.y0+u.y1)/2)+")")}t=t.filter(function(t){return void 0!==t.zLabelVal||(t[f]||"").split(" ")[0]===m})});var C=s.selectAll("g.hovertext").data(t,function(t){return[t.trace.index,t.index,t.x0,t.y0,t.name,t.attr,t.xa,t.ya||""].join(",")});return C.enter().append("g").classed("hovertext",!0).each(function(){var t=h.select(this);t.append("rect").call(b.fill,b.addOpacity(a,.8)),t.append("text").classed("name",!0).call(x.font,j,N),t.append("path").style("stroke-width","1px"),t.append("text").classed("nums",!0).call(x.font,j,N)}),C.exit().remove(),C.each(function(t){var e=h.select(this).attr("transform",""),r="",n="",s=b.opacity(t.color)?t.color:b.defaultLine,l=b.combine(s,a),u=d(l).getBrightness()>128?"#000":b.background;void 0!==t.nameOverride&&(t.name=t.nameOverride),t.name&&void 0===t.zLabelVal&&(r=g.plainText(t.name||""),r.length>15&&(r=r.substr(0,12)+"...")),void 0!==t.extraText&&(n+=t.extraText),void 0!==t.zLabel?(void 0!==t.xLabel&&(n+="x: "+t.xLabel+"<br>"),void 0!==t.yLabel&&(n+="y: "+t.yLabel+"<br>"),n+=(n?"z: ":"")+t.zLabel):M&&t[o+"Label"]===y?n=t[("x"===o?"y":"x")+"Label"]||"":void 0===t.xLabel?void 0!==t.yLabel&&(n=t.yLabel):n=void 0===t.yLabel?t.xLabel:"("+t.xLabel+", "+t.yLabel+")",t.text&&!Array.isArray(t.text)&&(n+=(n?"<br>":"")+t.text),""===n&&(""===r&&e.remove(),n=r);var c=e.select("text.nums").style("fill",u).call(x.setPosition,0,0).text(n).attr("data-notex",1).call(g.convertToTspans);c.selectAll("tspan.line").call(x.setPosition,0,0);var p=e.select("text.name"),f=0;r&&r!==n?(p.style("fill",l).text(r).call(x.setPosition,0,0).attr("data-notex",1).call(g.convertToTspans),p.selectAll("tspan.line").call(x.setPosition,0,0),f=p.node().getBoundingClientRect().width+2*R):(p.remove(),e.select("rect").remove()),e.select("path").style({fill:l,stroke:u});var m,v,S=c.node().getBoundingClientRect(),E=t.xa._offset+(t.x0+t.x1)/2,k=t.ya._offset+(t.y0+t.y1)/2,C=Math.abs(t.x1-t.x0),P=Math.abs(t.y1-t.y0),L=S.width+I+R+f;t.ty0=_-S.top,t.bx=S.width+2*R,t.by=S.height+2*R,t.anchor="start",t.txwidth=S.width,t.tx2width=f,t.offset=0,i?(t.pos=E,m=k+P/2+L<=T,v=k-P/2-L>=0,"top"!==t.idealAlign&&m||!v?m?(k+=P/2,t.anchor="start"):t.anchor="middle":(k-=P/2,t.anchor="end")):(t.pos=k,m=E+C/2+L<=w,v=E-C/2-L>=0,"left"!==t.idealAlign&&m||!v?m?(E+=C/2,t.anchor="start"):t.anchor="middle":(E-=C/2,t.anchor="end")),c.attr("text-anchor",t.anchor),f&&p.attr("text-anchor",t.anchor),e.attr("transform","translate("+E+","+k+")"+(i?"rotate("+A+")":""))}),C}function c(t,e){function r(t){var e=t[0],r=t[t.length-1];if(o=e.pmin-e.pos-e.dp+e.size,i=r.pos+r.dp+r.size-e.pmax,o>.01){for(s=t.length-1;s>=0;s--)t[s].dp+=o;n=!1}if(!(i<.01)){if(o<-.01){for(s=t.length-1;s>=0;s--)t[s].dp-=i;n=!1}if(n){var u=0;for(a=0;a<t.length;a++)l=t[a],l.pos+l.dp+l.size>e.pmax&&u++;for(a=t.length-1;a>=0&&!(u<=0);a--)l=t[a],l.pos>e.pmax-1&&(l.del=!0,u--);for(a=0;a<t.length&&!(u<=0);a++)if(l=t[a],l.pos<e.pmin+1)for(l.del=!0,u--,i=2*l.size,s=t.length-1;s>=0;s--)t[s].dp-=i;for(a=t.length-1;a>=0&&!(u<=0);a--)l=t[a],l.pos+l.dp+l.size>e.pmax&&(l.del=!0,u--)}}}for(var n,o,i,a,s,l,u,c=0,p=t.map(function(t,r){var n=t[e];return[{i:r,dp:0,pos:t.pos,posref:t.posref,size:t.by*("x"===n._id.charAt(0)?L:1)/2,pmin:n._offset,pmax:n._offset+n._length}]}).sort(function(t,e){return t[0].posref-e[0].posref});!n&&c<=t.length;){for(c++,n=!0,a=0;a<p.length-1;){var f=p[a],h=p[a+1],d=f[f.length-1],y=h[0];if(o=d.pos+d.dp+d.size-y.pos-y.dp+y.size,o>.01&&d.pmin===y.pmin&&d.pmax===y.pmax){for(s=h.length-1;s>=0;s--)h[s].dp+=o;for(f.push.apply(f,h),p.splice(a+1,1),u=0,s=f.length-1;s>=0;s--)u+=f[s].dp;for(i=u/f.length,s=f.length-1;s>=0;s--)f[s].dp-=i;n=!1}else a++}p.forEach(r)}for(a=p.length-1;a>=0;a--){var m=p[a];for(s=m.length-1;s>=0;s--){var v=m[s],g=t[v.i];g.offset=v.dp,g.del=v.del}}}function p(t,e){t.each(function(t){var r=h.select(this);if(t.del)return void r.remove();var n="end"===t.anchor?-1:1,o=r.select("text.nums"),i={start:1,end:-1,middle:0}[t.anchor],a=i*(I+R),s=a+i*(t.txwidth+R),l=0,u=t.offset;"middle"===t.anchor&&(a-=t.tx2width/2,s-=t.tx2width/2),e&&(u*=-O,l=t.offset*D),r.select("path").attr("d","middle"===t.anchor?"M-"+t.bx/2+",-"+t.by/2+"h"+t.bx+"v"+t.by+"h-"+t.bx+"Z":"M0,0L"+(n*I+l)+","+(I+u)+"v"+(t.by/2-I)+"h"+n*t.bx+"v-"+t.by+"H"+(n*I+l)+"V"+(u-I)+"Z"),o.call(x.setPosition,a+l,u+t.ty0-t.by/2+R).selectAll("tspan.line").attr({x:o.attr("x"),y:o.attr("y")}),t.tx2width&&(r.select("text.name, text.name tspan.line").call(x.setPosition,s+i*R+l,u+t.ty0-t.by/2+R),r.select("rect").call(x.setRect,s+(i-1)*t.tx2width/2+l,u-t.by/2-1,t.tx2width,t.by+2))})}function f(t,e,r){if(!e.target)return!1;if(!r||r.length!==t._hoverdata.length)return!0;for(var n=r.length-1;n>=0;n--){var o=r[n],i=t._hoverdata[n];if(o.curveNumber!==i.curveNumber||String(o.pointNumber)!==String(i.pointNumber))return!0}return!1}var h=t("d3"),d=t("tinycolor2"),y=t("fast-isnumeric"),m=t("../../lib"),v=t("../../lib/events"),g=t("../../lib/svg_text_utils"),b=t("../../components/color"),x=t("../../components/drawing"),_=t("../../components/dragelement"),w=t("../../lib/override_cursor"),T=t("../../registry"),M=t("./axes"),S=t("./constants"),E=t("./dragbox"),k=t("../layout_attributes"),C=e.exports={};C.unhover=_.unhover,C.supplyLayoutDefaults=function(t,e,r){function n(r,n){return m.coerce(t,e,k,r,n)}n("dragmode");var o;if(e._has("cartesian")){var i=e._isHoriz=C.isHoriz(r);o=i?"y":"x"}else o="closest";n("hovermode",o)},C.isHoriz=function(t){for(var e=!0,r=0;r<t.length;r++){var n=t[r];if("h"!==n.orientation){e=!1;break}}return e},C.init=function(t){var e=t._fullLayout;if(e._has("cartesian")&&!t._context.staticPlot){var r=Object.keys(e._plots||{}).sort(function(t,r){if((e._plots[t].mainplot&&!0)===(e._plots[r].mainplot&&!0)){var n=t.split("y"),o=r.split("y");return n[0]===o[0]?Number(n[1]||1)-Number(o[1]||1):Number(n[0]||1)-Number(o[0]||1)}return e._plots[t].mainplot?1:-1});r.forEach(function(r){var n=e._plots[r];if(e._has("cartesian")){var o=n.xaxis,i=n.yaxis,a=(o._linepositions[r]||[])[3],s=(i._linepositions[r]||[])[3],l=S.DRAGGERSIZE;if(y(a)&&"top"===o.side&&(a-=l),y(s)&&"right"!==i.side&&(s-=l),!n.mainplot){var u=E(t,n,0,0,o._length,i._length,"ns","ew");u.onmousemove=function(e){t._fullLayout._rehover=function(){t._fullLayout._hoversubplot===r&&C.hover(t,e,r)},C.hover(t,e,r),t._fullLayout._lasthover=u,t._fullLayout._hoversubplot=r},u.onmouseout=function(e){t._dragging||(t._fullLayout._hoversubplot=null,_.unhover(t,e))},u.onclick=function(e){C.click(t,e)},t._context.showAxisDragHandles&&(E(t,n,-l,-l,l,l,"n","w"),E(t,n,o._length,-l,l,l,"n","e"),E(t,n,-l,i._length,l,l,"s","w"),E(t,n,o._length,i._length,l,l,"s","e"))}t._context.showAxisDragHandles&&(y(a)&&("free"===o.anchor&&(a-=e._size.h*(1-i.domain[1])),E(t,n,.1*o._length,a,.8*o._length,l,"","ew"),E(t,n,0,a,.1*o._length,l,"","w"),E(t,n,.9*o._length,a,.1*o._length,l,"","e")),y(s)&&("free"===i.anchor&&(s-=e._size.w*o.domain[0]),E(t,n,s,.1*i._length,l,.8*i._length,"ns",""),E(t,n,s,.9*i._length,l,.1*i._length,"s",""),E(t,n,s,0,l,.1*i._length,"n","")))}});var n=e._hoverlayer.node();n.onmousemove=function(r){r.target=e._lasthover,C.hover(t,r,e._hoversubplot)},n.onclick=function(r){r.target=e._lasthover,C.click(t,r)},n.onmousedown=function(t){e._lasthover.onmousedown(t)}}};var A=S.YANGLE,P=Math.PI*A/180,L=1/Math.sin(P),D=Math.cos(P),O=Math.sin(P),I=S.HOVERARROWSIZE,R=S.HOVERTEXTPAD,N=S.HOVERFONTSIZE,j=S.HOVERFONT;C.hover=function(t,e,r){return"string"==typeof t&&(t=document.getElementById(t)),void 0===t._lastHoverTime&&(t._lastHoverTime=0),void 0!==t._hoverTimer&&(clearTimeout(t._hoverTimer),t._hoverTimer=void 0),Date.now()>t._lastHoverTime+S.HOVERMINTIME?(a(t,e,r),void(t._lastHoverTime=Date.now())):void(t._hoverTimer=setTimeout(function(){a(t,e,r),t._lastHoverTime=Date.now(),t._hoverTimer=void 0},S.HOVERMINTIME))},C.getDistanceFunction=function(t,e,r,n){return"closest"===t?n||i(e,r):"x"===t?e:r},C.getClosest=function(t,e,r){if(r.index!==!1)r.index>=0&&r.index<t.length?r.distance=0:r.index=!1;else for(var n=0;n<t.length;n++){var o=e(t[n]);o<=r.distance&&(r.index=n,r.distance=o)}return r},C.loneHover=function(t,e){var r={color:t.color||b.defaultLine,x0:t.x0||t.x||0,x1:t.x1||t.x||0,y0:t.y0||t.y||0,y1:t.y1||t.y||0,xLabel:t.xLabel,yLabel:t.yLabel,zLabel:t.zLabel,text:t.text,name:t.name,idealAlign:t.idealAlign,trace:{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0},n=h.select(e.container),o=e.outerContainer?h.select(e.outerContainer):n,i={hovermode:"closest",rotateLabels:!1,bgColor:e.bgColor||b.background,container:n,outerContainer:o},a=u([r],i);return p(a,i.rotateLabels),a.node()},C.loneUnhover=function(t){var e=m.isD3Selection(t)?t:h.select(t);e.selectAll("g.hovertext").remove()},C.click=function(t,e){function r(){t.emit("plotly_click",{points:t._hoverdata})}var n=T.getComponentMethod("annotations","onClick")(t,t._hoverdata);t._hoverdata&&e&&e.target&&(n&&n.then?n.then(r):r(),e.stopImmediatePropagation&&e.stopImmediatePropagation())},C.inbox=function(t,e){return t*e<0||0===t?S.MAXDIST*(.6-.3/Math.max(3,Math.abs(t-e))):1/0}},{"../../components/color":576,"../../components/dragelement":597,"../../components/drawing":599,"../../lib":681,"../../lib/events":672,"../../lib/override_cursor":690,"../../lib/svg_text_utils":700,"../../registry":794,"../layout_attributes":770,"./axes":720,"./constants":725,"./dragbox":726,d3:104,"fast-isnumeric":113,tinycolor2:512}],728:[function(t,e,r){"use strict";function n(t,e,r,n,o){var i=t._fullLayout,a=i._modules;e.plot&&e.plot.selectAll("g:not(.scatterlayer)").selectAll("g.trace").remove();for(var s=0;s<a.length;s++){var l=a[s];if("cartesian"===l.basePlotModule.name){for(var u=[],c=0;c<r.length;c++){var p=r[c],f=p[0].trace;f._module===l&&f.visible===!0&&u.push(p)}l.plot(t,e,u,n,o)}}}function o(t){for(var e=t._fullLayout,r=Object.keys(e._plots),n=[],o=[],i=0;i<r.length;i++){var a=r[i],s=e._plots[a],l=s.xaxis,u=s.yaxis,c=p.getFromId(t,l.overlaying)||l;c!==l&&c.overlaying&&(c=l,l.overlaying=!1);var f=p.getFromId(t,u.overlaying)||u;f!==u&&f.overlaying&&(f=u,u.overlaying=!1);var h=c._id+f._id;h!==a&&r.indexOf(h)!==-1?(s.mainplot=h,s.mainplotinfo=e._plots[h],o.push(a),l.domain=c.domain.slice(),u.domain=f.domain.slice()):n.push(a)}return n=n.concat(o)}function i(t){function e(t){s(t,"g","imagelayer"),s(t,"g","maplayer"),s(t,"g","barlayer"),s(t,"g","boxlayer"),s(t,"g","scatterlayer")}var r=t.plotgroup,n=t.id;if(t.mainplot){var o=t.mainplotinfo;t.gridlayer=s(o.overgrid,"g",n),t.zerolinelayer=s(o.overzero,"g",n),t.plot=s(o.overplot,"g",n),t.xlines=s(o.overlines,"path",n),t.ylines=s(o.overlines,"path",n),t.xaxislayer=s(o.overaxes,"g",n),t.yaxislayer=s(o.overaxes,"g",n)}else{var i=s(r,"g","layer-subplot");t.shapelayer=s(i,"g","shapelayer"),t.imagelayer=s(i,"g","imagelayer"),t.gridlayer=s(r,"g","gridlayer"),t.overgrid=s(r,"g","overgrid"),t.zerolinelayer=s(r,"g","zerolinelayer"),t.overzero=s(r,"g","overzero"),t.plot=s(r,"g","plot"),t.overplot=s(r,"g","overplot"),t.xlines=s(r,"path","xlines"),t.ylines=s(r,"path","ylines"),t.overlines=s(r,"g","overlines"),t.xaxislayer=s(r,"g","xaxislayer"),t.yaxislayer=s(r,"g","yaxislayer"),t.overaxes=s(r,"g","overaxes")}t.plot.call(e),t.xlines.style("fill","none").classed("crisp",!0),t.ylines.style("fill","none").classed("crisp",!0)}function a(t,e){t&&t.each(function(t){var r=l.select(this),n="clip"+e._uid+t+"plot";r.remove(),e._draggers.selectAll("g."+t).remove(),e._defs.select("#"+n).remove()})}function s(t,e,r){var n=t.selectAll("."+r).data([0]);return n.enter().append(e).classed(r,!0),n}var l=t("d3"),u=t("../../lib"),c=t("../plots"),p=t("./axis_ids"),f=t("./constants");r.name="cartesian",r.attr=["xaxis","yaxis"],r.idRoot=["x","y"],r.idRegex=f.idRegex,r.attrRegex=f.attrRegex,r.attributes=t("./attributes"),r.layoutAttributes=t("./layout_attributes"),r.transitionAxes=t("./transition_axes"),r.plot=function(t,e,r,o){var i,a=t._fullLayout,s=c.getSubplotIds(a,"cartesian"),l=t.calcdata;if(!Array.isArray(e))for(e=[],i=0;i<l.length;i++)e.push(i);for(i=0;i<s.length;i++){for(var u,p=s[i],f=a._plots[p],h=[],d=0;d<l.length;d++){var y=l[d],m=y[0].trace;m.xaxis+m.yaxis===p&&(e.indexOf(m.index)!==-1&&(u&&u[0].trace.xaxis+u[0].trace.yaxis===p&&["tonextx","tonexty","tonext"].indexOf(m.fill)!==-1&&h.indexOf(u)===-1&&h.push(u),h.push(y)),u=y)}n(t,f,h,r,o)}},r.clean=function(t,e,r,n){var o,i,s,l=n._modules||[],u=e._modules||[];for(s=0;s<l.length;s++)if("scatter"===l[s].name){o=!0;break}for(s=0;s<u.length;s++)if("scatter"===u[s].name){i=!0;break}if(o&&!i){var c=n._plots,f=Object.keys(c||{});for(s=0;s<f.length;s++){var h=c[f[s]];h.plot&&h.plot.select("g.scatterlayer").selectAll("g.trace").remove()}n._infolayer.selectAll("g.rangeslider-container").select("g.scatterlayer").selectAll("g.trace").remove()}var d=n._has&&n._has("cartesian"),y=e._has&&e._has("cartesian");if(d&&!y){var m=n._cartesianlayer.selectAll(".subplot"),v=p.listIds({_fullLayout:n});for(m.call(a,n),n._defs.selectAll(".axesclip").remove(),s=0;s<v.length;s++)n._infolayer.select("."+v[s]+"title").remove()}},r.drawFramework=function(t){var e=t._fullLayout,r=o(t),n=e._cartesianlayer.selectAll(".subplot").data(r,u.identity);n.enter().append("g").attr("class",function(t){return"subplot "+t}),n.order(),n.exit().call(a,e),n.each(function(t){var r=e._plots[t];if(r.plotgroup=l.select(this),r.overlays=[],i(r),r.mainplot){var n=e._plots[r.mainplot];n.overlays.push(r)}r.draglayer=s(e._draggers,"g",t)})},r.rangePlot=function(t,e,r){i(e),n(t,e,r),c.style(t)}},{"../../lib":681,"../plots":779,"./attributes":719,"./axis_ids":723,"./constants":725,"./layout_attributes":729,"./transition_axes":738,d3:104}],729:[function(t,e,r){"use strict";var n=t("../font_attributes"),o=t("../../components/color/attributes"),i=t("../../lib/extend").extendFlat,a=t("./constants");e.exports={color:{valType:"color",dflt:o.defaultLine},title:{valType:"string"},titlefont:i({},n,{}),type:{valType:"enumerated",values:["-","linear","log","date","category"],dflt:"-"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal"},range:{valType:"info_array",items:[{valType:"any"},{valType:"any"}]},fixedrange:{valType:"boolean",dflt:!1},tickmode:{valType:"enumerated",values:["auto","linear","array"]},nticks:{valType:"integer",min:0,dflt:0},tick0:{valType:"any"},dtick:{valType:"any"},tickvals:{valType:"data_array"},ticktext:{valType:"data_array"},ticks:{valType:"enumerated",values:["outside","inside",""]},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1},ticklen:{valType:"number",min:0,dflt:5},tickwidth:{valType:"number",min:0,dflt:1},tickcolor:{valType:"color",dflt:o.defaultLine},showticklabels:{valType:"boolean",dflt:!0},tickfont:i({},n,{}),tickangle:{valType:"angle",dflt:"auto"},tickprefix:{valType:"string",dflt:""},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all"},ticksuffix:{valType:"string",dflt:""},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B"},separatethousands:{valType:"boolean",dflt:!1},tickformat:{valType:"string",dflt:""},hoverformat:{valType:"string",dflt:""},showline:{valType:"boolean",dflt:!1},linecolor:{valType:"color",dflt:o.defaultLine},linewidth:{valType:"number",min:0,dflt:1},showgrid:{valType:"boolean"},gridcolor:{valType:"color",dflt:o.lightLine},gridwidth:{valType:"number",min:0,dflt:1},zeroline:{valType:"boolean"},zerolinecolor:{valType:"color",dflt:o.defaultLine},zerolinewidth:{valType:"number",dflt:1},anchor:{valType:"enumerated",values:["free",a.idRegex.x.toString(),a.idRegex.y.toString()]},side:{valType:"enumerated",values:["top","bottom","left","right"]},overlaying:{valType:"enumerated",values:["free",a.idRegex.x.toString(),a.idRegex.y.toString()]},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]},position:{valType:"number",min:0,max:1,dflt:0},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace"},categoryarray:{valType:"data_array"},_deprecated:{autotick:{valType:"boolean"}}}},{"../../components/color/attributes":575,"../../lib/extend":673,"../font_attributes":740,"./constants":725}],730:[function(t,e,r){"use strict";var n=t("../../registry"),o=t("../../lib"),i=t("../../components/color"),a=t("../layout_attributes"),s=t("./constants"),l=t("./layout_attributes"),u=t("./axis_defaults"),c=t("./position_defaults"),p=t("./axis_ids");e.exports=function(t,e,r){function f(t,e){var r=Number(t.substr(5)||1),n=Number(e.substr(5)||1);return r-n}function h(t,e){return o.coerce(j,F,l,t,e)}function d(t){var e={x:O,y:D}[t];return o.simpleMap(e,p.name2id)}function y(e,r){for(var n={x:D,y:O}[e],o=[],i=0;i<n.length;i++){var a=n[i];a===r||(t[a]||{}).overlaying||o.push(p.name2id(a))}return o}var m,v=Object.keys(t),g=[],b=[],x=[],_=[],w={},T={};for(m=0;m<r.length;m++){var M,S,E=r[m];if(n.traceIs(E,"cartesian"))M=g,S=b;else{if(!n.traceIs(E,"gl2d"))continue;M=x,S=_}var k=p.id2name(E.xaxis),C=p.id2name(E.yaxis);if(k&&M.indexOf(k)===-1&&M.push(k),C&&S.indexOf(C)===-1&&S.push(C),n.traceIs(E,"2dMap")&&(w[k]=!0,w[C]=!0),n.traceIs(E,"oriented")){var A="h"===E.orientation?C:k;T[A]=!0}}var P=e._has("gl3d")||e._has("geo");if(!P)for(m=0;m<v.length;m++){var L=v[m];x.indexOf(L)===-1&&g.indexOf(L)===-1&&s.xAxisMatch.test(L)?g.push(L):_.indexOf(L)===-1&&b.indexOf(L)===-1&&s.yAxisMatch.test(L)&&b.push(L)}g.length&&b.length&&o.pushUnique(e._basePlotModules,n.subplotsRegistry.cartesian);var D=g.concat(x).sort(f),O=b.concat(_).sort(f),I=D.concat(O),R=i.background;D.length&&O.length&&(R=o.coerce(t,e,a,"plot_bgcolor"));var N,j,F,z=i.combine(R,e.paper_bgcolor);for(m=0;m<I.length;m++){N=I[m],o.isPlainObject(t[N])||(t[N]={}),j=t[N],F=e[N]={};var B=N.charAt(0),U={letter:B,font:e.font,outerTicks:w[N],showGrid:!T[N],name:N,data:r,bgColor:z,calendar:e.calendar};u(j,F,h,U,e);var V={letter:B,counterAxes:d(B),overlayableAxes:y(B,N)};c(j,F,h,V),F._input=j}var H=n.getComponentMethod("rangeslider","handleDefaults"),W=n.getComponentMethod("rangeselector","handleDefaults");for(m=0;m<D.length;m++)N=D[m],j=t[N],F=e[N],H(t,e,N),"date"===F.type&&W(j,F,e,O,F.calendar),h("fixedrange");for(m=0;m<O.length;m++){N=O[m],j=t[N],F=e[N];var q=e[p.id2name(F.anchor)],G=q&&q.rangeslider&&q.rangeslider.visible;h("fixedrange",G)}}},{"../../components/color":576,"../../lib":681,"../../registry":794,"../layout_attributes":770,"./axis_defaults":722,"./axis_ids":723,"./constants":725,"./layout_attributes":729,"./position_defaults":732}],731:[function(t,e,r){"use strict";function n(t,e,r){var n,i,a,s,l,u=[],c=r.map(function(e){return e[t]}),p=o.bisector(e).left;for(n=0;n<c.length;n++)for(a=c[n],i=0;i<a.length;i++)s=a[i],null!==s&&void 0!==s&&(l=p(u,s),l<u.length&&u[l]===s||u.splice(l,0,s));return u}var o=t("d3");e.exports=function(t,e,r,i){switch(e){case"array":return Array.isArray(r)?r.slice():[];case"category ascending":return n(t,o.ascending,i);case"category descending":return n(t,o.descending,i);case"trace":return[];default:return[]}}},{d3:104}],732:[function(t,e,r){"use strict";var n=t("fast-isnumeric"),o=t("../../lib");e.exports=function(t,e,r,i){var a=i.counterAxes||[],s=i.overlayableAxes||[],l=i.letter,u=o.coerce(t,e,{anchor:{valType:"enumerated",values:["free"].concat(a),dflt:n(t.position)?"free":a[0]||"free"}},"anchor");"free"===u&&r("position"),o.coerce(t,e,{side:{valType:"enumerated",values:"x"===l?["bottom","top"]:["left","right"],dflt:"x"===l?"bottom":"left"}},"side");var c=!1;if(s.length&&(c=o.coerce(t,e,{overlaying:{valType:"enumerated",values:[!1].concat(s),dflt:!1}},"overlaying")),!c){var p=r("domain");p[0]>p[1]-.01&&(e.domain=[0,1]),o.noneOrAll(t.domain,e.domain,[0,1])}return e}},{"../../lib":681,"fast-isnumeric":113}],733:[function(t,e,r){"use strict";function n(t){return t._id}var o=t("../../lib/polygon"),i=t("../../components/color"),a=t("./axes"),s=t("./constants"),l=o.filter,u=o.tester,c=s.MINSELECT;e.exports=function(t,e,r,o,p){function f(t){var e="y"===t._id.charAt(0)?1:0;return function(r){return t.p2d(r[e])}}function h(t,e){return t-e}var d,y=o.gd._fullLayout._zoomlayer,m=o.element.getBoundingClientRect(),v=o.plotinfo.xaxis._offset,g=o.plotinfo.yaxis._offset,b=e-m.left,x=r-m.top,_=b,w=x,T="M"+b+","+x,M=o.xaxes[0]._length,S=o.yaxes[0]._length,E=o.xaxes.map(n),k=o.yaxes.map(n),C=o.xaxes.concat(o.yaxes);"lasso"===p&&(d=l([[b,x]],s.BENDPX));var A=y.selectAll("path.select-outline").data([1,2]);A.enter().append("path").attr("class",function(t){return"select-outline select-outline-"+t}).attr("transform","translate("+v+", "+g+")").attr("d",T+"Z");var P,L,D,O,I,R=y.append("path").attr("class","zoombox-corners").style({fill:i.background,stroke:i.defaultLine,"stroke-width":1}).attr("transform","translate("+v+", "+g+")").attr("d","M0,0Z"),N=[],j=o.gd,F=[];for(P=0;P<j.calcdata.length;P++)if(L=j.calcdata[P],D=L[0].trace,D._module&&D._module.selectPoints)if(o.subplot){if(D.subplot!==o.subplot)continue;N.push({selectPoints:D._module.selectPoints,cd:L,xaxis:o.xaxes[0],yaxis:o.yaxes[0]})}else{if(E.indexOf(D.xaxis)===-1)continue;if(k.indexOf(D.yaxis)===-1)continue;N.push({selectPoints:D._module.selectPoints,cd:L,xaxis:a.getFromId(j,D.xaxis),yaxis:a.getFromId(j,D.yaxis)})}o.moveFn=function(t,e){var r,n;_=Math.max(0,Math.min(M,t+b)),w=Math.max(0,Math.min(S,e+x));var i=Math.abs(_-b),a=Math.abs(w-x);for("select"===p?(a<Math.min(.6*i,c)?(r=u([[b,0],[b,S],[_,S],[_,0]]),R.attr("d","M"+r.xmin+","+(x-c)+"h-4v"+2*c+"h4ZM"+(r.xmax-1)+","+(x-c)+"h4v"+2*c+"h-4Z")):i<Math.min(.6*a,c)?(r=u([[0,x],[0,w],[M,w],[M,x]]),
R.attr("d","M"+(b-c)+","+r.ymin+"v-4h"+2*c+"v4ZM"+(b-c)+","+(r.ymax-1)+"v4h"+2*c+"v-4Z")):(r=u([[b,x],[b,w],[_,w],[_,x]]),R.attr("d","M0,0Z")),A.attr("d","M"+r.xmin+","+r.ymin+"H"+(r.xmax-1)+"V"+(r.ymax-1)+"H"+r.xmin+"Z")):"lasso"===p&&(d.addPt([_,w]),r=u(d.filtered),A.attr("d","M"+d.filtered.join("L")+"Z")),F=[],P=0;P<N.length;P++)O=N[P],[].push.apply(F,O.selectPoints(O,r));if(I={points:F},"select"===p){var s,l=I.range={};for(P=0;P<C.length;P++)n=C[P],s=n._id.charAt(0),l[n._id]=[n.p2d(r[s+"min"]),n.p2d(r[s+"max"])].sort(h)}else{var y=I.lassoPoints={};for(P=0;P<C.length;P++)n=C[P],y[n._id]=d.filtered.map(f(n))}o.gd.emit("plotly_selecting",I)},o.doneFn=function(t,e){if(R.remove(),t||2!==e)o.gd.emit("plotly_selected",I);else{for(A.remove(),P=0;P<N.length;P++)O=N[P],O.selectPoints(O,!1);j.emit("plotly_deselect",null)}}}},{"../../components/color":576,"../../lib/polygon":691,"./axes":720,"./constants":725}],734:[function(t,e,r){"use strict";function n(t){return Math.pow(10,t)}function o(t){return a(t)?(t=Number(t),t<-f||t>f?h:a(t)?Number(t):h):h}var i=t("d3"),a=t("fast-isnumeric"),s=t("../../lib"),l=s.cleanNumber,u=s.ms2DateTime,c=s.dateTime2ms,p=t("../../constants/numerical"),f=p.FP_SAFE,h=p.BADNUM,d=t("./constants"),y=t("./axis_ids");e.exports=function(t,e){function r(e,r){if(e>0)return Math.log(e)/Math.LN10;if(e<=0&&r&&t.range&&2===t.range.length){var n=t.range[0],o=t.range[1];return.5*(n+o-3*w*Math.abs(n-o))}return h}function p(e,r,n){var o=c(e,n||t.calendar);if(o===h){if(!a(e))return h;o=c(new Date(+e))}return o}function m(e,r,n){return u(e,r,n||t.calendar)}function v(e){return t._categories[Math.round(e)]}function g(e){if(null!==e&&void 0!==e){var r=t._categories.indexOf(e);return r===-1?(t._categories.push(e),t._categories.length-1):r}return h}function b(e){var r=t._categories.indexOf(e);return r!==-1?r:"number"==typeof e?e:void 0}function x(e){return a(e)?i.round(t._b+t._m*e,2):h}function _(e){return(e-t._b)/t._m}e=e||{};var w=10;t.c2l="log"===t.type?r:o,t.l2c="log"===t.type?n:o,t.l2p=x,t.p2l=_,t.c2p="log"===t.type?function(t,e){return x(r(t,e))}:x,t.p2c="log"===t.type?function(t){return n(_(t))}:_,["linear","-"].indexOf(t.type)!==-1?(t.d2r=t.r2d=t.d2c=t.r2c=t.d2l=t.r2l=l,t.c2d=t.c2r=t.l2d=t.l2r=o,t.d2p=t.r2p=function(t){return x(l(t))},t.p2d=t.p2r=_):"log"===t.type?(t.d2r=t.d2l=function(t,e){return r(l(t),e)},t.r2d=t.r2c=function(t){return n(l(t))},t.d2c=t.r2l=l,t.c2d=t.l2r=o,t.c2r=r,t.l2d=n,t.d2p=function(e,r){return x(t.d2r(e,r))},t.p2d=function(t){return n(_(t))},t.r2p=function(t){return x(l(t))},t.p2r=_):"date"===t.type?(t.d2r=t.r2d=s.identity,t.d2c=t.r2c=t.d2l=t.r2l=p,t.c2d=t.c2r=t.l2d=t.l2r=m,t.d2p=t.r2p=function(t,e,r){return x(p(t,0,r))},t.p2d=t.p2r=function(t,e,r){return m(_(t),e,r)}):"category"===t.type&&(t.d2r=t.d2c=t.d2l=g,t.r2d=t.c2d=t.l2d=v,t.d2l_noadd=b,t.r2l=t.l2r=t.r2c=t.c2r=o,t.d2p=function(t){return x(b(t))},t.p2d=function(t){return v(_(t))},t.r2p=x,t.p2r=_),t.fraction2r=function(e){var r=t.r2l(t.range[0]),n=t.r2l(t.range[1]);return t.l2r(r+e*(n-r))},t.r2fraction=function(e){var r=t.r2l(t.range[0]),n=t.r2l(t.range[1]);return(t.r2l(e)-r)/(n-r)},t.cleanRange=function(e){e||(e="range");var r,n,o=s.nestedProperty(t,e).get(),i=(t._id||"x").charAt(0);if(n="date"===t.type?s.dfltRange(t.calendar):"y"===i?d.DFLTRANGEY:d.DFLTRANGEX,n=n.slice(),!o||2!==o.length)return void s.nestedProperty(t,e).set(n);for("date"===t.type&&(o[0]=s.cleanDate(o[0],h,t.calendar),o[1]=s.cleanDate(o[1],h,t.calendar)),r=0;r<2;r++)if("date"===t.type){if(!s.isDateTime(o[r],t.calendar)){t[e]=n;break}if(t.r2l(o[0])===t.r2l(o[1])){var l=s.constrain(t.r2l(o[0]),s.MIN_MS+1e3,s.MAX_MS-1e3);o[0]=t.l2r(l-1e3),o[1]=t.l2r(l+1e3);break}}else{if(!a(o[r])){if(!a(o[1-r])){t[e]=n;break}o[r]=o[1-r]*(r?10:.1)}if(o[r]<-f?o[r]=-f:o[r]>f&&(o[r]=f),o[0]===o[1]){var u=Math.max(1,Math.abs(1e-6*o[0]));o[0]-=u,o[1]+=u}}},t.setScale=function(r){var n=e._size,o=t._id.charAt(0);if(t._categories||(t._categories=[]),t.overlaying){var i=y.getFromId({_fullLayout:e},t.overlaying);t.domain=i.domain}var a=r&&t._r?"_r":"range",l=t.calendar;t.cleanRange(a);var u=t.r2l(t[a][0],l),c=t.r2l(t[a][1],l);if("y"===o?(t._offset=n.t+(1-t.domain[1])*n.h,t._length=n.h*(t.domain[1]-t.domain[0]),t._m=t._length/(u-c),t._b=-t._m*c):(t._offset=n.l+t.domain[0]*n.w,t._length=n.w*(t.domain[1]-t.domain[0]),t._m=t._length/(c-u),t._b=-t._m*u),!isFinite(t._m)||!isFinite(t._b))throw s.notifier("Something went wrong with axis scaling","long"),e._replotting=!1,new Error("axis scaling")},t.makeCalcdata=function(e,r){var n,o,i,a="date"===t.type&&e[r+"calendar"];if(r in e)for(n=e[r],o=new Array(n.length),i=0;i<n.length;i++)o[i]=t.d2c(n[i],0,a);else{var s=r+"0"in e?t.d2c(e[r+"0"],0,a):0,l=e["d"+r]?Number(e["d"+r]):1;for(n=e[{x:"y",y:"x"}[r]],o=new Array(n.length),i=0;i<n.length;i++)o[i]=s+i*l}return o},t.isValidRange=function(e){return Array.isArray(e)&&2===e.length&&a(t.r2l(e[0]))&&a(t.r2l(e[1]))},t._min=[],t._max=[],t._separators=e.separators,delete t._minDtick,delete t._forceTick0}},{"../../constants/numerical":663,"../../lib":681,"./axis_ids":723,"./constants":725,d3:104,"fast-isnumeric":113}],735:[function(t,e,r){"use strict";function n(t){var e=["showexponent","showtickprefix","showticksuffix"],r=e.filter(function(e){return void 0!==t[e]}),n=function(e){return t[e]===t[r[0]]};if(r.every(n)||1===r.length)return t[r[0]]}var o=t("../../lib");e.exports=function(t,e,r,i,a){var s=n(t),l=r("tickprefix");l&&r("showtickprefix",s);var u=r("ticksuffix");u&&r("showticksuffix",s);var c=r("showticklabels");if(c){var p=a.font||{},f=e.color===t.color?e.color:p.color;if(o.coerceFont(r,"tickfont",{family:p.family,size:p.size,color:f}),r("tickangle"),"category"!==i){var h=r("tickformat");h||"date"===i||(r("showexponent",s),r("exponentformat"),r("separatethousands"))}}"category"===i||a.noHover||r("hoverformat")}},{"../../lib":681}],736:[function(t,e,r){"use strict";var n=t("../../lib"),o=t("./layout_attributes");e.exports=function(t,e,r,i){var a=n.coerce2(t,e,o,"ticklen"),s=n.coerce2(t,e,o,"tickwidth"),l=n.coerce2(t,e,o,"tickcolor",e.color),u=r("ticks",i.outerTicks||a||s||l?"outside":"");u||(delete e.ticklen,delete e.tickwidth,delete e.tickcolor)}},{"../../lib":681,"./layout_attributes":729}],737:[function(t,e,r){"use strict";var n=t("fast-isnumeric"),o=t("../../lib"),i=t("../../constants/numerical").ONEDAY;e.exports=function(t,e,r,a){var s="auto";"array"!==t.tickmode||"log"!==a&&"date"!==a||(t.tickmode="auto"),Array.isArray(t.tickvals)?s="array":t.dtick&&(s="linear");var l=r("tickmode",s);if("auto"===l)r("nticks");else if("linear"===l){var u="date"===a?i:1,c=r("dtick",u);if(n(c))e.dtick=c>0?Number(c):u;else if("string"!=typeof c)e.dtick=u;else{var p=c.charAt(0),f=c.substr(1);f=n(f)?Number(f):0,(f<=0||!("date"===a&&"M"===p&&f===Math.round(f)||"log"===a&&"L"===p||"log"===a&&"D"===p&&(1===f||2===f)))&&(e.dtick=u)}var h="date"===a?o.dateTick0(e.calendar):0,d=r("tick0",h);"date"===a?e.tick0=o.cleanDate(d,h):n(d)&&"D1"!==c&&"D2"!==c?e.tick0=Number(d):e.tick0=h}else{var y=r("tickvals");void 0===y?e.tickmode="auto":r("ticktext")}}},{"../../constants/numerical":663,"../../lib":681,"fast-isnumeric":113}],738:[function(t,e,r){"use strict";var n=t("d3"),o=t("../../plotly"),i=t("../../registry"),a=t("../../components/drawing"),s=t("./axes"),l=/((x|y)([2-9]|[1-9][0-9]+)?)axis$/;e.exports=function(t,e,r,u){function c(t){var e,r,n,o,i,a={};for(e in t)if(r=e.split("."),n=r[0].match(l)){var s=n[1],u=s+"axis";if(o=g[u],i={},Array.isArray(t[e])?i.to=t[e].slice(0):Array.isArray(t[e].range)&&(i.to=t[e].range.slice(0)),!i.to)continue;i.axisName=u,i.length=o._length,b.push(s),a[s]=i}return a}function p(t,e,r){var n,o,i,a=t._plots,s=[];for(n in a){var l=a[n];if(s.indexOf(l)===-1){var u=l.xaxis._id,c=l.yaxis._id,p=l.xaxis.range,f=l.yaxis.range;l.xaxis._r=l.xaxis.range.slice(),l.yaxis._r=l.yaxis.range.slice(),o=r[u]?r[u].to:p,i=r[c]?r[c].to:f,p[0]===o[0]&&p[1]===o[1]&&f[0]===i[0]&&f[1]===i[1]||e.indexOf(u)===-1&&e.indexOf(c)===-1||s.push(l)}}return s}function f(e,r){function n(e,r){for(o=0;o<e.length;o++){var n=e[o];a.indexOf(n.xref)===-1&&a.indexOf(n.yref)===-1||r(t,o)}}var o,a=[];for(a=[e._id,r._id],o=0;o<a.length;o++)s.doTicks(t,a[o],!0);n(g.annotations||[],i.getComponentMethod("annotations","drawOne")),n(g.shapes||[],i.getComponentMethod("shapes","drawOne")),n(g.images||[],i.getComponentMethod("images","draw"))}function h(t){var e=t.xaxis,r=t.yaxis;g._defs.selectAll("#"+t.clipId).call(a.setTranslate,0,0).call(a.setScale,1,1),t.plot.call(a.setTranslate,e._offset,r._offset).call(a.setScale,1,1).selectAll(".points").selectAll(".point").call(a.setPointGroupScale,1,1)}function d(e,r){var n,o,i,s=x[e.xaxis._id],l=x[e.yaxis._id],u=[];if(s){n=t._fullLayout[s.axisName],o=n._r,i=s.to,u[0]=(o[0]*(1-r)+r*i[0]-o[0])/(o[1]-o[0])*e.xaxis._length;var c=o[1]-o[0],p=i[1]-i[0];n.range[0]=o[0]*(1-r)+r*i[0],n.range[1]=o[1]*(1-r)+r*i[1],u[2]=e.xaxis._length*(1-r+r*p/c)}else u[0]=0,u[2]=e.xaxis._length;if(l){n=t._fullLayout[l.axisName],o=n._r,i=l.to,u[1]=(o[1]*(1-r)+r*i[1]-o[1])/(o[0]-o[1])*e.yaxis._length;var h=o[1]-o[0],d=i[1]-i[0];n.range[0]=o[0]*(1-r)+r*i[0],n.range[1]=o[1]*(1-r)+r*i[1],u[3]=e.yaxis._length*(1-r+r*d/h)}else u[1]=0,u[3]=e.yaxis._length;f(e.xaxis,e.yaxis);var y=e.xaxis,m=e.yaxis,v=!!s,b=!!l,_=v?y._length/u[2]:1,w=b?m._length/u[3]:1,T=v?u[0]:0,M=b?u[1]:0,S=v?u[0]/u[2]*y._length:0,E=b?u[1]/u[3]*m._length:0,k=y._offset-S,C=m._offset-E;g._defs.selectAll("#"+e.clipId).call(a.setTranslate,T,M).call(a.setScale,1/_,1/w),e.plot.call(a.setTranslate,k,C).call(a.setScale,_,w).selectAll(".points").selectAll(".point").call(a.setPointGroupScale,1/_,1/w)}function y(){for(var e={},r=0;r<_.length;r++){var n=t._fullLayout[x[_[r]].axisName],i=x[_[r]].to;e[n._name+".range[0]"]=i[0],e[n._name+".range[1]"]=i[1],n.range=i.slice()}return T&&T(),o.relayout(t,e).then(function(){for(var t=0;t<w.length;t++)h(w[t])})}function m(){for(var e={},r=0;r<_.length;r++){var n=t._fullLayout[_[r]+"axis"];e[n._name+".range[0]"]=n.range[0],e[n._name+".range[1]"]=n.range[1],n.range=n._r.slice()}return o.relayout(t,e).then(function(){for(var t=0;t<w.length;t++)h(w[t])})}function v(){S=Date.now();for(var t=Math.min(1,(S-M)/r.duration),e=k(t),n=0;n<w.length;n++)d(w[n],e);S-M>r.duration?(y(),E=window.cancelAnimationFrame(v)):E=window.requestAnimationFrame(v)}var g=t._fullLayout,b=[],x=c(e),_=Object.keys(x),w=p(g,_,x);if(!w.length)return!1;var T;u&&(T=u());var M,S,E,k=n.ease(r.easing);return t._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(E),E=null,m()}),M=Date.now(),E=window.requestAnimationFrame(v),Promise.resolve()}},{"../../components/drawing":599,"../../plotly":715,"../../registry":794,"./axes":720,d3:104}],739:[function(t,e,r){"use strict";function n(t,e,r){var n,o,i,a=!1;if("data"===e.type)n=t._fullData[null!==e.traces?e.traces[0]:0];else{if("layout"!==e.type)return!1;n=t._fullLayout}return o=u.nestedProperty(n,e.prop).get(),i=r[e.type]=r[e.type]||{},i.hasOwnProperty(e.prop)&&i[e.prop]!==o&&(a=!0),i[e.prop]=o,{changed:a,value:o}}function o(t,e){return Array.isArray(e[0])&&1===e[0].length&&["string","number"].indexOf(typeof e[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:e[0][0].toString()}]:[]}function i(t,e){var r=[],n=e[0],o={};if("string"==typeof n)o[n]=e[1];else{if(!u.isPlainObject(n))return r;o=n}return s(o,function(t,e,n){r.push({type:"layout",prop:t,value:n})},"",0),r}function a(t,e){var r,n,o,i,a=[];if(n=e[0],o=e[1],r=e[2],i={},"string"==typeof n)i[n]=o;else{if(!u.isPlainObject(n))return a;i=n,void 0===r&&(r=o)}return void 0===r&&(r=null),s(i,function(e,n,o){var i;if(Array.isArray(o)){var s=Math.min(o.length,t.data.length);r&&(s=Math.min(s,r.length)),i=[];for(var l=0;l<s;l++)i[l]=r?r[l]:l}else i=r?r.slice(0):null;if(null===i)Array.isArray(o)&&(o=o[0]);else if(Array.isArray(i)){if(!Array.isArray(o)){var u=o;o=[];for(var c=0;c<i.length;c++)o[c]=u}o.length=Math.min(i.length,o.length)}a.push({type:"data",prop:e,traces:i,value:o})},"",0),a}function s(t,e,r,n){Object.keys(t).forEach(function(o){var i=t[o];if("_"!==o[0]){var a=r+(n>0?".":"")+o;u.isPlainObject(i)?s(i,e,a,n+1):e(a,o,i)}})}var l=t("../plotly"),u=t("../lib");r.manageCommandObserver=function(t,e,o,i){var a={},s=!0;e&&e._commandObserver&&(a=e._commandObserver),a.cache||(a.cache={}),a.lookupTable={};var l=r.hasSimpleAPICommandBindings(t,o,a.lookupTable);if(e&&e._commandObserver){if(l)return a;if(e._commandObserver.remove)return e._commandObserver.remove(),e._commandObserver=null,a}if(l){n(t,l,a.cache),a.check=function(){if(s){var e=n(t,l,a.cache);return e.changed&&i&&void 0!==a.lookupTable[e.value]&&(a.disable(),Promise.resolve(i({value:e.value,type:l.type,prop:l.prop,traces:l.traces,index:a.lookupTable[e.value]})).then(a.enable,a.enable)),e.changed}};for(var c=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],p=0;p<c.length;p++)t._internalOn(c[p],a.check);a.remove=function(){for(var e=0;e<c.length;e++)t._removeInternalListener(c[e],a.check)}}else u.warn("Unable to automatically bind plot updates to API command"),a.lookupTable={},a.remove=function(){};return a.disable=function(){s=!1},a.enable=function(){s=!0},e&&(e._commandObserver=a),a},r.hasSimpleAPICommandBindings=function(t,e,n){var o,i,a=e.length;for(o=0;o<a;o++){var s,l=e[o],u=l.method,c=l.args;if(Array.isArray(c)||(c=[]),!u)return!1;var p=r.computeAPICommandBindings(t,u,c);if(1!==p.length)return!1;if(i){if(s=p[0],s.type!==i.type)return!1;if(s.prop!==i.prop)return!1;if(Array.isArray(i.traces)){if(!Array.isArray(s.traces))return!1;s.traces.sort();for(var f=0;f<i.traces.length;f++)if(i.traces[f]!==s.traces[f])return!1}else if(s.prop!==i.prop)return!1}else i=p[0],Array.isArray(i.traces)&&i.traces.sort();s=p[0];var h=s.value;if(Array.isArray(h)){if(1!==h.length)return!1;h=h[0]}n&&(n[h]=o)}return i},r.executeAPICommand=function(t,e,r){var n=l[e],o=[t];Array.isArray(r)||(r=[]);for(var i=0;i<r.length;i++)o.push(r[i]);return n.apply(null,o).catch(function(t){return u.warn("API call to Plotly."+e+" rejected.",t),Promise.reject(t)})},r.computeAPICommandBindings=function(t,e,r){var n;switch(Array.isArray(r)||(r=[]),e){case"restyle":n=a(t,r);break;case"relayout":n=i(t,r);break;case"update":n=a(t,[r[0],r[2]]).concat(i(t,[r[1]]));break;case"animate":n=o(t,r);break;default:n=[]}return n}},{"../lib":681,"../plotly":715}],740:[function(t,e,r){"use strict";e.exports={family:{valType:"string",noBlank:!0,strict:!0},size:{valType:"number",min:1},color:{valType:"color"}}},{}],741:[function(t,e,r){"use strict";e.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},{}],742:[function(t,e,r){"use strict";var n=e.exports={};n.projNames={equirectangular:"equirectangular",mercator:"mercator",orthographic:"orthographic","natural earth":"naturalEarth",kavrayskiy7:"kavrayskiy7",miller:"miller",robinson:"robinson",eckert4:"eckert4","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant","conic equal area":"conicEqualArea","conic conformal":"conicConformal","conic equidistant":"conicEquidistant",gnomonic:"gnomonic",stereographic:"stereographic",mollweide:"mollweide",hammer:"hammer","transverse mercator":"transverseMercator","albers usa":"albersUsa","winkel tripel":"winkel3",aitoff:"aitoff",sinusoidal:"sinusoidal"},n.axesNames=["lonaxis","lataxis"],n.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},n.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},n.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,80],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},n.clipPad=.001,n.precision=.1,n.landColor="#F0DC82",n.waterColor="#3399FF",n.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},n.sphereSVG={type:"Sphere"},n.fillLayers=["ocean","land","lakes"],n.lineLayers=["subunits","countries","coastlines","rivers","frame"],n.baseLayers=["ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame"],n.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"},n.baseLayersOverChoropleth=["rivers","lakes"]},{}],743:[function(t,e,r){"use strict";function n(t){this.id=t.id,this.graphDiv=t.graphDiv,this.container=t.container,this.topojsonURL=t.topojsonURL,this.topojsonName=null,this.topojson=null,this.projectionType=null,this.projection=null,this.clipAngle=null,this.setScale=null,this.path=null,this.zoom=null,this.zoomReset=null,this.makeFramework(),this.traceHash={}}function o(t,e,r){return u.geo.graticule().extent([[t[0],e[0]],[t[1],e[1]]]).step(r)}function i(t,e,r){var n=b.layerNameToAdjective[e];t.select("."+e).selectAll("path").attr("stroke","none").call(c.fill,r[n+"color"])}function a(t,e,r){var n=b.layerNameToAdjective[e];t.select("."+e).selectAll("path").attr("fill","none").call(c.stroke,r[n+"color"]).call(p.dashLine,"",r[n+"width"])}function s(t,e,r){t.select("."+e+"graticule").selectAll("path").attr("fill","none").call(c.stroke,r[e].gridcolor).call(p.dashLine,"",r[e].gridwidth)}function l(t){var e={type:"linear",showexponent:"all",exponentformat:h.layoutAttributes.exponentformat.dflt};return h.setConvert(e,t),e}var u=t("d3"),c=t("../../components/color"),p=t("../../components/drawing"),f=t("../plots"),h=t("../cartesian/axes"),d=t("../cartesian/graph_interact"),y=t("./projections"),m=t("./set_scale"),v=t("./zoom"),g=t("./zoom_reset"),b=t("./constants"),x=t("../../lib/topojson_utils"),_=t("topojson-client").feature;y(u),e.exports=n;var w=n.prototype;w.plot=function(t,e,r){var n,o,i=this,a=e[i.id],s=e._size;i.projection=null,i.setScale=m(a,s),i.makeProjection(a),i.makePath(),i.adjustLayout(a,s),i.zoom=v(i,a),i.zoomReset=g(i,a),i.mockAxis=l(e),i.framework.call(i.zoom).on("dblclick.zoom",i.zoomReset),i.framework.on("mousemove",function(){var t=u.mouse(this),e=i.projection.invert(t);if(e&&!isNaN(e[0])&&!isNaN(e[1])){var r={target:!0,xpx:t[0],ypx:t[1]};i.xaxis.c2p=function(){return t[0]},i.xaxis.p2c=function(){return e[0]},i.yaxis.c2p=function(){return t[1]},i.yaxis.p2c=function(){return e[1]},d.hover(i.graphDiv,r,i.id)}}),i.framework.on("mouseout",function(){d.loneUnhover(e._toppaper)}),i.framework.on("click",function(){d.click(i.graphDiv,{target:!0})}),n=x.getTopojsonName(a),null===i.topojson||n!==i.topojsonName?(i.topojsonName=n,void 0!==PlotlyGeoAssets.topojson[i.topojsonName]?(i.topojson=PlotlyGeoAssets.topojson[i.topojsonName],i.onceTopojsonIsLoaded(t,a)):(o=x.getTopojsonPath(i.topojsonURL,i.topojsonName),r.push(new Promise(function(e,r){u.json(o,function(n,s){return n?void r(404===n.status?new Error(["plotly.js could not find topojson file at",o,".","Make sure the *topojsonURL* plot config option","is set properly."].join(" ")):new Error(["unexpected error while fetching topojson file at",o].join(" "))):(i.topojson=s,PlotlyGeoAssets.topojson[i.topojsonName]=s,i.onceTopojsonIsLoaded(t,a),void e())})})))):i.onceTopojsonIsLoaded(t,a)},w.onceTopojsonIsLoaded=function(t,e){this.drawLayout(e),f.generalUpdatePerTraceModule(this,t,e),this.render()},w.makeProjection=function(t){var e,r=t.projection,n=r.type,o=null===this.projection||n!==this.projectionType;o?(this.projectionType=n,e=this.projection=u.geo[b.projNames[n]]()):e=this.projection,e.translate(r._translate0).precision(b.precision),t._isAlbersUsa||e.rotate(r._rotate).center(r._center),t._clipAngle?(this.clipAngle=t._clipAngle,e.clipAngle(t._clipAngle-b.clipPad)):this.clipAngle=null,r.parallels&&e.parallels(r.parallels),o&&this.setScale(e),e.translate(r._translate).scale(r._scale)},w.makePath=function(){this.path=u.geo.path().projection(this.projection)},w.makeFramework=function(){var t=this.graphDiv._fullLayout,e="clip"+t._uid+this.id,r=t._defs.selectAll("g.clips").data([0]);r.enter().append("g").classed("clips",!0);var n=this.clipDef=r.selectAll("#"+e).data([0]);n.enter().append("clipPath").attr("id",e).append("rect");var o=this.framework=u.select(this.container).append("g");o.attr("class","geo "+this.id).style("pointer-events","all").call(p.setClipUrl,e),o.append("g").attr("class","bglayer").append("rect"),o.append("g").attr("class","baselayer"),o.append("g").attr("class","choroplethlayer"),o.append("g").attr("class","baselayeroverchoropleth"),o.append("g").attr("class","scattergeolayer"),o.on("dblclick.zoom",null),this.xaxis={_id:"x"},this.yaxis={_id:"y"}},w.adjustLayout=function(t,e){var r=t.domain,n=e.l+e.w*r.x[0]+t._marginX,o=e.t+e.h*(1-r.y[1])+t._marginY;p.setTranslate(this.framework,n,o);var i={x:0,y:0,width:t._width,height:t._height};this.clipDef.select("rect").attr(i),this.framework.select(".bglayer").select("rect").attr(i).call(c.fill,t.bgcolor),this.xaxis._offset=n,this.xaxis._length=t._width,this.yaxis._offset=o,this.yaxis._length=t._height},w.drawTopo=function(t,e,r){if(r["show"+e]===!0){var n=this.topojson,o="frame"===e?b.sphereSVG:_(n,n.objects[e]);t.append("g").datum(o).attr("class",e).append("path").attr("class","basepath")}},w.drawGraticule=function(t,e,r){var n=r[e];if(n.showgrid===!0){var i=b.scopeDefaults[r.scope],a=i.lonaxisRange,s=i.lataxisRange,l="lonaxis"===e?[n.dtick]:[0,n.dtick],u=o(a,s,l);t.append("g").datum(u).attr("class",e+"graticule").append("path").attr("class","graticulepath")}},w.drawLayout=function(t){var e,r=this.framework.select("g.baselayer"),n=b.baseLayers,o=b.axesNames;r.selectAll("*").remove();for(var i=0;i<n.length;i++)e=n[i],o.indexOf(e)!==-1?this.drawGraticule(r,e,t):this.drawTopo(r,e,t);this.styleLayout(t)},w.styleLayer=function(t,e,r){var n=b.fillLayers,o=b.lineLayers;n.indexOf(e)!==-1?i(t,e,r):o.indexOf(e)!==-1&&a(t,e,r)},w.styleLayout=function(t){for(var e,r=this.framework.select("g.baselayer"),n=b.baseLayers,o=b.axesNames,i=0;i<n.length;i++)e=n[i],o.indexOf(e)!==-1?s(r,e,t):this.styleLayer(r,e,t)},w.isLonLatOverEdges=function(t){var e=this.clipAngle;if(null===e)return!1;var r=this.projection.rotate(),n=u.geo.distance(t,[-r[0],-r[1]]),o=e*Math.PI/180;return n>o},w.render=function(){function t(t){var e=r.projection(t.lonlat);return e?"translate("+e[0]+","+e[1]+")":null}function e(t){return r.isLonLatOverEdges(t.lonlat)?"0":"1.0"}var r=this,n=r.framework,o=n.select("g.choroplethlayer"),i=n.select("g.scattergeolayer"),a=r.path;n.selectAll("path.basepath").attr("d",a),n.selectAll("path.graticulepath").attr("d",a),o.selectAll("path.choroplethlocation").attr("d",a),o.selectAll("path.basepath").attr("d",a),i.selectAll("path.js-line").attr("d",a),null!==r.clipAngle?(i.selectAll("path.point").style("opacity",e).attr("transform",t),i.selectAll("text").style("opacity",e).attr("transform",t)):(i.selectAll("path.point").attr("transform",t),i.selectAll("text").attr("transform",t))}},{"../../components/color":576,"../../components/drawing":599,"../../lib/topojson_utils":702,"../cartesian/axes":720,"../cartesian/graph_interact":727,"../plots":779,"./constants":742,"./projections":750,"./set_scale":751,"./zoom":752,"./zoom_reset":753,d3:104,"topojson-client":514}],744:[function(t,e,r){"use strict";var n=t("./geo"),o=t("../../plots/plots");r.name="geo",r.attr="geo",r.idRoot="geo",r.idRegex=/^geo([2-9]|[1-9][0-9]+)?$/,r.attrRegex=/^geo([2-9]|[1-9][0-9]+)?$/,r.attributes=t("./layout/attributes"),r.layoutAttributes=t("./layout/layout_attributes"),r.supplyLayoutDefaults=t("./layout/defaults"),r.plot=function(t){var e=t._fullLayout,r=t.calcdata,i=o.getSubplotIds(e,"geo");void 0===window.PlotlyGeoAssets&&(window.PlotlyGeoAssets={topojson:{}});for(var a=0;a<i.length;a++){var s=i[a],l=o.getSubplotCalcData(r,"geo",s),u=e[s]._subplot;u||(u=new n({id:s,graphDiv:t,container:e._geolayer.node(),topojsonURL:t._context.topojsonURL}),e[s]._subplot=u),u.plot(l,e,t._promises)}},r.clean=function(t,e,r,n){for(var i=o.getSubplotIds(n,"geo"),a=0;a<i.length;a++){var s=i[a],l=n[s]._subplot;!e[s]&&l&&(l.framework.remove(),l.clipDef.remove())}}},{"../../plots/plots":779,"./geo":743,"./layout/attributes":745,"./layout/defaults":748,"./layout/layout_attributes":749}],745:[function(t,e,r){"use strict";e.exports={geo:{valType:"subplotid",dflt:"geo"}}},{}],746:[function(t,e,r){"use strict";var n=t("../../../components/color/attributes");e.exports={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number"},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:n.lightLine},gridwidth:{valType:"number",min:0,dflt:1}}},{"../../../components/color/attributes":575}],747:[function(t,e,r){"use strict";var n=t("../../../lib"),o=t("../constants"),i=t("./axis_attributes");e.exports=function(t,e){function r(t,e){return n.coerce(s,l,i,t,e)}function a(t){var r,n,i,a,s,l,u=e.scope;return"world"===u?(r=e.projection,n=r.type,i=r.rotation,s=o[t+"Span"],l=void 0!==s[n]?s[n]/2:s["*"]/2,a="lonaxis"===t?i.lon:i.lat,[a-l,a+l]):o.scopeDefaults[u][t+"Range"]}for(var s,l,u=o.axesNames,c=0;c<u.length;c++){var p=u[c];s=t[p]||{},l={};var f=a(p),h=r("range",f);n.noneOrAll(s.range,l.range,[0,1]),r("tick0",h[0]),r("dtick","lonaxis"===p?30:10);var d=r("showgrid");d&&(r("gridcolor"),r("gridwidth")),e[p]=l,e[p]._fullRange=f}}},{"../../../lib":681,"../constants":742,"./axis_attributes":746}],748:[function(t,e,r){"use strict";function n(t,e,r){var n,o=r("scope"),a="world"!==o,l=i.scopeDefaults[o],u=r("resolution"),c=r("projection.type",l.projType),p="albers usa"===c,f=c.indexOf("conic")!==-1;if(f){var h=l.projParallels||[0,60];r("projection.parallels",h)}if(p)e.scope="usa";else{var d=l.projRotate||[0,0,0];r("projection.rotation.lon",d[0]),r("projection.rotation.lat",d[1]),r("projection.rotation.roll",d[2]),n=r("showcoastlines",!a),n&&(r("coastlinecolor"),r("coastlinewidth")),n=r("showocean"),n&&r("oceancolor")}r("projection.scale"),n=r("showland"),n&&r("landcolor"),n=r("showlakes"),n&&r("lakecolor"),n=r("showrivers"),n&&(r("rivercolor"),r("riverwidth")),n=r("showcountries",a&&"usa"!==o),n&&(r("countrycolor"),r("countrywidth")),("usa"===o||"north america"===o&&50===u)&&(r("showsubunits",!0),r("subunitcolor"),r("subunitwidth")),a||(n=r("showframe",!0),n&&(r("framecolor"),r("framewidth"))),r("bgcolor"),s(t,e),e._isHighRes=50===u,e._clipAngle=i.lonaxisSpan[c]/2,e._isAlbersUsa=p,e._isConic=f,e._isScoped=a;var y=e.projection.rotation||{};e.projection._rotate=[-y.lon||0,-y.lat||0,y.roll||0]}var o=t("../../subplot_defaults"),i=t("../constants"),a=t("./layout_attributes"),s=t("./axis_defaults");e.exports=function(t,e,r){o(t,e,r,{type:"geo",attributes:a,handleDefaults:n,partition:"y"})}},{"../../subplot_defaults":786,"../constants":742,"./axis_defaults":747,"./layout_attributes":749}],749:[function(t,e,r){"use strict";var n=t("../../../components/color/attributes"),o=t("../constants"),i=t("./axis_attributes");e.exports={domain:{x:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]},y:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]}},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:Object.keys(o.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:Object.keys(o.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,max:10,dflt:1}},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:n.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:o.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:o.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:o.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:o.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:n.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:n.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:n.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:n.background},lonaxis:i,lataxis:i}},{"../../../components/color/attributes":575,"../constants":742,"./axis_attributes":746}],750:[function(t,e,r){"use strict";function n(t){function e(t,e){return{type:"Feature",id:t.id,properties:t.properties,geometry:r(t.geometry,e)}}function r(e,n){if(!e)return null;if("GeometryCollection"===e.type)return{type:"GeometryCollection",geometries:object.geometries.map(function(t){return r(t,n)})};if(!C.hasOwnProperty(e.type))return null;var o=C[e.type];return t.geo.stream(e,n(o)),o.result()}function n(){}function o(t){if((e=t.length)<4)return!1;for(var e,r=0,n=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++r<e;)n+=t[r-1][1]*t[r][0]-t[r-1][0]*t[r][1];return n<=0}function i(t,e){for(var r=e[0],n=e[1],o=!1,i=0,a=t.length,s=a-1;i<a;s=i++){var l=t[i],u=l[0],c=l[1],p=t[s],f=p[0],h=p[1];c>n^h>n&&r<(f-u)*(n-c)/(h-c)+u&&(o=!o)}return o}function a(t){return t?t/Math.sin(t):1}function s(t){return t>1?D:t<-1?-D:Math.asin(t)}function l(t){return t>1?0:t<-1?L:Math.acos(t)}function u(t,e){var r=(2+D)*Math.sin(e);e/=2;for(var n=0,o=1/0;n<10&&Math.abs(o)>A;n++){var i=Math.cos(e);e-=o=(e+Math.sin(e)*(i+2)-r)/(2*i*(1+i))}return[2/Math.sqrt(L*(4+L))*t*(1+Math.cos(e)),2*Math.sqrt(L/(4+L))*Math.sin(e)]}function c(t,e){function r(r,n){var o=j(r/e,n);return o[0]*=t,o}return arguments.length<2&&(e=t),1===e?j:e===1/0?f:(r.invert=function(r,n){var o=j.invert(r/t,n);return o[0]*=e,o},r)}function p(){var t=2,e=N(c),r=e(t);return r.coefficient=function(r){return arguments.length?e(t=+r):t},r}function f(t,e){return[t*Math.cos(e)/Math.cos(e/=2),2*Math.sin(e)]}function h(t,e){return[3*t/(2*L)*Math.sqrt(L*L/3-e*e),e]}function d(t,e){return[t,1.25*Math.log(Math.tan(L/4+.4*e))]}function y(t){return function(e){var r,n=t*Math.sin(e),o=30;do e-=r=(e+Math.sin(e)-n)/(1+Math.cos(e));while(Math.abs(r)>A&&--o>0);return e/2}}function m(t,e,r){function n(r,n){return[t*r*Math.cos(n=o(n)),e*Math.sin(n)]}var o=y(r);return n.invert=function(n,o){var i=s(o/e);return[n/(t*Math.cos(i)),s((2*i+Math.sin(2*i))/r)]},n}function v(t,e){var r=e*e,n=r*r;return[t*(.8707-.131979*r+n*(-.013791+n*(.003971*r-.001529*n))),e*(1.007226+r*(.015085+n*(-.044475+.028874*r-.005916*n)))]}function g(t,e){var r,n=Math.min(18,36*Math.abs(e)/L),o=Math.floor(n),i=n-o,a=(r=z[o])[0],s=r[1],l=(r=z[++o])[0],u=r[1],c=(r=z[Math.min(19,++o)])[0],p=r[1];return[t*(l+i*(c-a)/2+i*i*(c-2*l+a)/2),(e>0?D:-D)*(u+i*(p-s)/2+i*i*(p-2*u+s)/2)]}function b(t,e){return[t*Math.cos(e),e]}function x(t,e){var r=Math.cos(e),n=a(l(r*Math.cos(t/=2)));return[2*r*Math.sin(t)*n,Math.sin(e)*n]}function _(t,e){var r=x(t,e);return[(r[0]+t/D)/2,(r[1]+e)/2]}t.geo.project=function(t,e){var n=e.stream;if(!n)throw new Error("not yet supported");return(t&&w.hasOwnProperty(t.type)?w[t.type]:r)(t,n)};var w={Feature:e,FeatureCollection:function(t,r){return{type:"FeatureCollection",features:t.features.map(function(t){return e(t,r);
})}}},T=[],M=[],S={point:function(t,e){T.push([t,e])},result:function(){var t=T.length?T.length<2?{type:"Point",coordinates:T[0]}:{type:"MultiPoint",coordinates:T}:null;return T=[],t}},E={lineStart:n,point:function(t,e){T.push([t,e])},lineEnd:function(){T.length&&(M.push(T),T=[])},result:function(){var t=M.length?M.length<2?{type:"LineString",coordinates:M[0]}:{type:"MultiLineString",coordinates:M}:null;return M=[],t}},k={polygonStart:n,lineStart:n,point:function(t,e){T.push([t,e])},lineEnd:function(){var t=T.length;if(t){do T.push(T[0].slice());while(++t<4);M.push(T),T=[]}},polygonEnd:n,result:function(){if(!M.length)return null;var t=[],e=[];return M.forEach(function(r){o(r)?t.push([r]):e.push(r)}),e.forEach(function(e){var r=e[0];t.some(function(t){if(i(t[0],r))return t.push(e),!0})||t.push([e])}),M=[],t.length?t.length>1?{type:"MultiPolygon",coordinates:t}:{type:"Polygon",coordinates:t[0]}:null}},C={Point:S,MultiPoint:S,LineString:E,MultiLineString:E,Polygon:k,MultiPolygon:k,Sphere:k},A=1e-6,P=A*A,L=Math.PI,D=L/2,O=(Math.sqrt(L),L/180),I=180/L,R=t.geo.projection,N=t.geo.projectionMutator;t.geo.interrupt=function(e){function r(t,r){for(var n=r<0?-1:1,o=l[+(r<0)],i=0,a=o.length-1;i<a&&t>o[i][2][0];++i);var s=e(t-o[i][1][0],r);return s[0]+=e(o[i][1][0],n*r>n*o[i][0][1]?o[i][0][1]:r)[0],s}function n(){s=l.map(function(t){return t.map(function(t){var r,n=e(t[0][0],t[0][1])[0],o=e(t[2][0],t[2][1])[0],i=e(t[1][0],t[0][1])[1],a=e(t[1][0],t[1][1])[1];return i>a&&(r=i,i=a,a=r),[[n,i],[o,a]]})})}function o(){for(var e=1e-6,r=[],n=0,o=l[0].length;n<o;++n){var a=l[0][n],s=180*a[0][0]/L,u=180*a[0][1]/L,c=180*a[1][1]/L,p=180*a[2][0]/L,f=180*a[2][1]/L;r.push(i([[s+e,u+e],[s+e,c-e],[p-e,c-e],[p-e,f+e]],30))}for(var n=l[1].length-1;n>=0;--n){var a=l[1][n],s=180*a[0][0]/L,u=180*a[0][1]/L,c=180*a[1][1]/L,p=180*a[2][0]/L,f=180*a[2][1]/L;r.push(i([[p-e,f-e],[p-e,c+e],[s+e,c+e],[s+e,u-e]],30))}return{type:"Polygon",coordinates:[t.merge(r)]}}function i(t,e){for(var r,n,o,i=-1,a=t.length,s=t[0],l=[];++i<a;){r=t[i],n=(r[0]-s[0])/e,o=(r[1]-s[1])/e;for(var u=0;u<e;++u)l.push([s[0]+u*n,s[1]+u*o]);s=r}return l.push(r),l}function a(t,e){return Math.abs(t[0]-e[0])<A&&Math.abs(t[1]-e[1])<A}var s,l=[[[[-L,0],[0,D],[L,0]]],[[[-L,0],[0,-D],[L,0]]]];e.invert&&(r.invert=function(t,n){for(var o=s[+(n<0)],i=l[+(n<0)],u=0,c=o.length;u<c;++u){var p=o[u];if(p[0][0]<=t&&t<p[1][0]&&p[0][1]<=n&&n<p[1][1]){var f=e.invert(t-e(i[u][1][0],0)[0],n);return f[0]+=i[u][1][0],a(r(f[0],f[1]),[t,n])?f:null}}});var u=t.geo.projection(r),c=u.stream;return u.stream=function(e){var r=u.rotate(),n=c(e),i=(u.rotate([0,0]),c(e));return u.rotate(r),n.sphere=function(){t.geo.stream(o(),i)},n},u.lobes=function(t){return arguments.length?(l=t.map(function(t){return t.map(function(t){return[[t[0][0]*L/180,t[0][1]*L/180],[t[1][0]*L/180,t[1][1]*L/180],[t[2][0]*L/180,t[2][1]*L/180]]})}),n(),u):l.map(function(t){return t.map(function(t){return[[180*t[0][0]/L,180*t[0][1]/L],[180*t[1][0]/L,180*t[1][1]/L],[180*t[2][0]/L,180*t[2][1]/L]]})})},u},u.invert=function(t,e){var r=.5*e*Math.sqrt((4+L)/L),n=s(r),o=Math.cos(n);return[t/(2/Math.sqrt(L*(4+L))*(1+o)),s((n+r*(o+2))/(2+D))]},(t.geo.eckert4=function(){return R(u)}).raw=u;var j=t.geo.azimuthalEqualArea.raw;f.invert=function(t,e){var r=2*s(e/2);return[t*Math.cos(r/2)/Math.cos(r),r]},(t.geo.hammer=p).raw=c,h.invert=function(t,e){return[2/3*L*t/Math.sqrt(L*L/3-e*e),e]},(t.geo.kavrayskiy7=function(){return R(h)}).raw=h,d.invert=function(t,e){return[t,2.5*Math.atan(Math.exp(.8*e))-.625*L]},(t.geo.miller=function(){return R(d)}).raw=d;var F=(y(L),m(Math.SQRT2/D,Math.SQRT2,L));(t.geo.mollweide=function(){return R(F)}).raw=F,v.invert=function(t,e){var r,n=e,o=25;do{var i=n*n,a=i*i;n-=r=(n*(1.007226+i*(.015085+a*(-.044475+.028874*i-.005916*a)))-e)/(1.007226+i*(.045255+a*(-.311325+.259866*i-.005916*11*a)))}while(Math.abs(r)>A&&--o>0);return[t/(.8707+(i=n*n)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),n]},(t.geo.naturalEarth=function(){return R(v)}).raw=v;var z=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];z.forEach(function(t){t[1]*=1.0144}),g.invert=function(t,e){var r=e/D,n=90*r,o=Math.min(18,Math.abs(n/5)),i=Math.max(0,Math.floor(o));do{var a=z[i][1],s=z[i+1][1],l=z[Math.min(19,i+2)][1],u=l-a,c=l-2*s+a,p=2*(Math.abs(r)-s)/u,f=c/u,h=p*(1-f*p*(1-2*f*p));if(h>=0||1===i){n=(e>=0?5:-5)*(h+o);var d,y=50;do o=Math.min(18,Math.abs(n)/5),i=Math.floor(o),h=o-i,a=z[i][1],s=z[i+1][1],l=z[Math.min(19,i+2)][1],n-=(d=(e>=0?D:-D)*(s+h*(l-a)/2+h*h*(l-2*s+a)/2)-e)*I;while(Math.abs(d)>P&&--y>0);break}}while(--i>=0);var m=z[i][0],v=z[i+1][0],g=z[Math.min(19,i+2)][0];return[t/(v+h*(g-m)/2+h*h*(g-2*v+m)/2),n*O]},(t.geo.robinson=function(){return R(g)}).raw=g,b.invert=function(t,e){return[t/Math.cos(e),e]},(t.geo.sinusoidal=function(){return R(b)}).raw=b,x.invert=function(t,e){if(!(t*t+4*e*e>L*L+A)){var r=t,n=e,o=25;do{var i,a=Math.sin(r),s=Math.sin(r/2),u=Math.cos(r/2),c=Math.sin(n),p=Math.cos(n),f=Math.sin(2*n),h=c*c,d=p*p,y=s*s,m=1-d*u*u,v=m?l(p*u)*Math.sqrt(i=1/m):i=0,g=2*v*p*s-t,b=v*c-e,x=i*(d*y+v*p*u*h),_=i*(.5*a*f-2*v*c*s),w=.25*i*(f*s-v*c*d*a),T=i*(h*u+v*y*p),M=_*w-T*x;if(!M)break;var S=(b*_-g*T)/M,E=(g*w-b*x)/M;r-=S,n-=E}while((Math.abs(S)>A||Math.abs(E)>A)&&--o>0);return[r,n]}},(t.geo.aitoff=function(){return R(x)}).raw=x,_.invert=function(t,e){var r=t,n=e,o=25;do{var i,a=Math.cos(n),s=Math.sin(n),u=Math.sin(2*n),c=s*s,p=a*a,f=Math.sin(r),h=Math.cos(r/2),d=Math.sin(r/2),y=d*d,m=1-p*h*h,v=m?l(a*h)*Math.sqrt(i=1/m):i=0,g=.5*(2*v*a*d+r/D)-t,b=.5*(v*s+n)-e,x=.5*i*(p*y+v*a*h*c)+.5/D,_=i*(f*u/4-v*s*d),w=.125*i*(u*d-v*s*p*f),T=.5*i*(c*h+v*y*a)+.5,M=_*w-T*x,S=(b*_-g*T)/M,E=(g*w-b*x)/M;r-=S,n-=E}while((Math.abs(S)>A||Math.abs(E)>A)&&--o>0);return[r,n]},(t.geo.winkel3=function(){return R(_)}).raw=_}e.exports=n},{}],751:[function(t,e,r){"use strict";function n(t,e){var r=t.projection,n=t.lonaxis,a=t.lataxis,l=t.domain,u=t.framewidth||0,c=e.w*(l.x[1]-l.x[0]),p=e.h*(l.y[1]-l.y[0]),f=n.range[0]+s,h=n.range[1]-s,d=a.range[0]+s,y=a.range[1]-s,m=n._fullRange[0]+s,v=n._fullRange[1]-s,g=a._fullRange[0]+s,b=a._fullRange[1]-s;r._translate0=[e.l+c/2,e.t+p/2];var x=h-f,_=y-d,w=[f+x/2,d+_/2],T=r._rotate;r._center=[w[0]+T[0],w[1]+T[1]];var M=function(e){function n(t){return Math.min(_*c/(t[1][0]-t[0][0]),_*p/(t[1][1]-t[0][1]))}var a,s,l,x,_=e.scale(),w=r._translate0,T=o(f,d,h,y),M=o(m,g,v,b);l=i(e,T),a=n(l),x=i(e,M),r._fullScale=n(x),e.scale(a),l=i(e,T),s=[w[0]-l[0][0]+u,w[1]-l[0][1]+u],r._translate=s,e.translate(s),l=i(e,T),t._isAlbersUsa||e.clipExtent(l),a=r.scale*a,r._scale=a,t._width=Math.round(l[1][0])+u,t._height=Math.round(l[1][1])+u,t._marginX=(c-Math.round(l[1][0]))/2,t._marginY=(p-Math.round(l[1][1]))/2};return M}function o(t,e,r,n){var o=(r-t)/4;return{type:"Polygon",coordinates:[[[t,e],[t,n],[t+o,n],[t+2*o,n],[t+3*o,n],[r,n],[r,e],[r-o,e],[r-2*o,e],[r-3*o,e],[t,e]]]}}function i(t,e){return a.geo.path().projection(t).bounds(e)}var a=t("d3"),s=t("./constants").clipPad;e.exports=n},{"./constants":742,d3:104}],752:[function(t,e,r){"use strict";function n(t,e){var r;return(r=e._isScoped?i:e._clipAngle?s:a)(t,e.projection)}function o(t,e){var r=e._fullScale;return _.behavior.zoom().translate(t.translate()).scale(t.scale()).scaleExtent([.5*r,100*r])}function i(t,e){function r(){_.select(this).style(M)}function n(){a.scale(_.event.scale).translate(_.event.translate),t.render()}function i(){_.select(this).style(S)}var a=t.projection,s=o(a,e);return s.on("zoomstart",r).on("zoom",n).on("zoomend",i),s}function a(t,e){function r(t){return m.invert(t)}function n(t){var e=m(r(t));return Math.abs(e[0]-t[0])>g||Math.abs(e[1]-t[1])>g}function i(){_.select(this).style(M),l=_.mouse(this),u=m.rotate(),c=m.translate(),p=u,f=r(l)}function a(){return h=_.mouse(this),n(l)?(v.scale(m.scale()),void v.translate(m.translate())):(m.scale(_.event.scale),m.translate([c[0],_.event.translate[1]]),f?r(h)&&(y=r(h),d=[p[0]+(y[0]-f[0]),u[1],u[2]],m.rotate(d),p=d):(l=h,f=r(l)),void t.render())}function s(){_.select(this).style(S)}var l,u,c,p,f,h,d,y,m=t.projection,v=o(m,e),g=2;return v.on("zoomstart",i).on("zoom",a).on("zoomend",s),v}function s(t,e){function r(t){v++||t({type:"zoomstart"})}function n(t){t({type:"zoom"})}function i(t){--v||t({type:"zoomend"})}var a,s=t.projection,h={r:s.rotate(),k:s.scale()},d=o(s,e),y=x(d,"zoomstart","zoom","zoomend"),v=0,g=d.on;return d.on("zoomstart",function(){_.select(this).style(M);var t=_.mouse(this),e=s.rotate(),o=e,i=s.translate(),v=u(e);a=l(s,t),g.call(d,"zoom",function(){var r=_.mouse(this);if(s.scale(h.k=_.event.scale),a){if(l(s,r)){s.rotate(e).translate(i);var u=l(s,r),d=p(a,u),g=m(c(v,d)),b=h.r=f(g,a,o);isFinite(b[0])&&isFinite(b[1])&&isFinite(b[2])||(b=o),s.rotate(b),o=b}}else t=r,a=l(s,t);n(y.of(this,arguments))}),r(y.of(this,arguments))}).on("zoomend",function(){_.select(this).style(S),g.call(d,"zoom",null),i(y.of(this,arguments))}).on("zoom.redraw",function(){t.render()}),_.rebind(d,y,"on")}function l(t,e){var r=t.invert(e);return r&&isFinite(r[0])&&isFinite(r[1])&&v(r)}function u(t){var e=.5*t[0]*w,r=.5*t[1]*w,n=.5*t[2]*w,o=Math.sin(e),i=Math.cos(e),a=Math.sin(r),s=Math.cos(r),l=Math.sin(n),u=Math.cos(n);return[i*s*u+o*a*l,o*s*u-i*a*l,i*a*u+o*s*l,i*s*l-o*a*u]}function c(t,e){var r=t[0],n=t[1],o=t[2],i=t[3],a=e[0],s=e[1],l=e[2],u=e[3];return[r*a-n*s-o*l-i*u,r*s+n*a+o*u-i*l,r*l-n*u+o*a+i*s,r*u+n*l-o*s+i*a]}function p(t,e){if(t&&e){var r=b(t,e),n=Math.sqrt(g(r,r)),o=.5*Math.acos(Math.max(-1,Math.min(1,g(t,e)))),i=Math.sin(o)/n;return n&&[Math.cos(o),r[2]*i,-r[1]*i,r[0]*i]}}function f(t,e,r){var n=y(e,2,t[0]);n=y(n,1,t[1]),n=y(n,0,t[2]-r[2]);var o,i,a=e[0],s=e[1],l=e[2],u=n[0],c=n[1],p=n[2],f=Math.atan2(s,a)*T,d=Math.sqrt(a*a+s*s);Math.abs(c)>d?(i=(c>0?90:-90)-f,o=0):(i=Math.asin(c/d)*T-f,o=Math.sqrt(d*d-c*c));var m=180-i-2*f,v=(Math.atan2(p,u)-Math.atan2(l,o))*T,g=(Math.atan2(p,u)-Math.atan2(l,-o))*T,b=h(r[0],r[1],i,v),x=h(r[0],r[1],m,g);return b<=x?[i,v,r[2]]:[m,g,r[2]]}function h(t,e,r,n){var o=d(r-t),i=d(n-e);return Math.sqrt(o*o+i*i)}function d(t){return(t%360+540)%360-180}function y(t,e,r){var n=r*w,o=t.slice(),i=0===e?1:0,a=2===e?1:2,s=Math.cos(n),l=Math.sin(n);return o[i]=t[i]*s-t[a]*l,o[a]=t[a]*s+t[i]*l,o}function m(t){return[Math.atan2(2*(t[0]*t[1]+t[2]*t[3]),1-2*(t[1]*t[1]+t[2]*t[2]))*T,Math.asin(Math.max(-1,Math.min(1,2*(t[0]*t[2]-t[3]*t[1]))))*T,Math.atan2(2*(t[0]*t[3]+t[1]*t[2]),1-2*(t[2]*t[2]+t[3]*t[3]))*T]}function v(t){var e=t[0]*w,r=t[1]*w,n=Math.cos(r);return[n*Math.cos(e),n*Math.sin(e),Math.sin(r)]}function g(t,e){for(var r=0,n=0,o=t.length;n<o;++n)r+=t[n]*e[n];return r}function b(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function x(t){for(var e=0,r=arguments.length,n=[];++e<r;)n.push(arguments[e]);var o=_.dispatch.apply(null,n);return o.of=function(e,r){return function(n){var i;try{i=n.sourceEvent=_.event,n.target=t,_.event=n,o[n.type].apply(e,r)}finally{_.event=i}}},o}var _=t("d3"),w=Math.PI/180,T=180/Math.PI,M={cursor:"pointer"},S={cursor:"auto"};e.exports=n},{d3:104}],753:[function(t,e,r){"use strict";e.exports=function(t,e){var r=t.projection,n=t.zoom,o=function(){t.makeProjection(e),t.makePath(),n.scale(r.scale()),n.translate(r.translate()),t.render()};return o}},{}],754:[function(t,e,r){"use strict";function n(t,e){this.element=t,this.plot=e,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxStart=[0,0],this.boxEnd=[0,0]}function o(t){function e(){t.xaxis.autorange=!1,t.yaxis.autorange=!1}var r=t.mouseContainer,o=t.glplot,s=new n(r,o);return s.mouseListener=i(r,function(r,n,i){function a(e,r,n){var o=Math.min(r,n),i=Math.max(r,n);o!==i?(l[e]=o,l[e+2]=i,s.dataBox=l,t.setRanges(l)):(t.selectBox.selectBox=[0,0,1,1],t.glplot.setDirty())}var l=t.calcDataBox(),u=o.viewBox,c=s.lastPos[0],p=s.lastPos[1];switch(n*=o.pixelRatio,i*=o.pixelRatio,i=u[3]-u[1]-i,t.fullLayout.dragmode){case"zoom":if(r){var f=n/(u[2]-u[0])*(l[2]-l[0])+l[0],h=i/(u[3]-u[1])*(l[3]-l[1])+l[1];s.boxEnabled||(s.boxStart[0]=f,s.boxStart[1]=h),s.boxEnd[0]=f,s.boxEnd[1]=h,s.boxEnabled=!0}else s.boxEnabled&&(a(0,s.boxStart[0],s.boxEnd[0]),a(1,s.boxStart[1],s.boxEnd[1]),e(),s.boxEnabled=!1,t.relayoutCallback());break;case"pan":if(s.boxEnabled=!1,r){var d=(c-n)*(l[2]-l[0])/(o.viewBox[2]-o.viewBox[0]),y=(p-i)*(l[3]-l[1])/(o.viewBox[3]-o.viewBox[1]);l[0]+=d,l[2]+=d,l[1]+=y,l[3]+=y,t.setRanges(l),s.panning=!0,s.lastInputTime=Date.now(),e(),t.cameraChanged(),t.handleAnnotations()}else s.panning&&(s.panning=!1,t.relayoutCallback())}s.lastPos[0]=n,s.lastPos[1]=i}),s.wheelListener=a(r,function(r,n){var i=t.calcDataBox(),a=o.viewBox,l=s.lastPos[0],u=s.lastPos[1];switch(t.fullLayout.dragmode){case"zoom":break;case"pan":var c=Math.exp(.1*n/(a[3]-a[1])),p=l/(a[2]-a[0])*(i[2]-i[0])+i[0],f=u/(a[3]-a[1])*(i[3]-i[1])+i[1];i[0]=(i[0]-p)*c+p,i[2]=(i[2]-p)*c+p,i[1]=(i[1]-f)*c+f,i[3]=(i[3]-f)*c+f,t.setRanges(i),s.lastInputTime=Date.now(),e(),t.cameraChanged(),t.handleAnnotations(),t.relayoutCallback()}return!0}),s}var i=t("mouse-change"),a=t("mouse-wheel");e.exports=o},{"mouse-change":432,"mouse-wheel":435}],755:[function(t,e,r){"use strict";function n(t){this.scene=t,this.gl=t.gl,this.pixelRatio=t.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}function o(t){return new n(t)}var i=t("../plots"),a=t("../cartesian/axes"),s=t("../../lib/html2unicode"),l=t("../../lib/str2rgbarray"),u=n.prototype,c=["xaxis","yaxis"];u.merge=function(t){this.titleEnable=!1,this.backgroundColor=l(t.plot_bgcolor);var e,r,n,o,i,a,u,p,f,h,d;for(h=0;h<2;++h){for(e=c[h],r=t[this.scene[e]._name],n=/Click to enter .+ title/.test(r.title)?"":r.title,d=0;d<=2;d+=2)this.labelEnable[h+d]=!1,this.labels[h+d]=s(n),this.labelColor[h+d]=l(r.titlefont.color),this.labelFont[h+d]=r.titlefont.family,this.labelSize[h+d]=r.titlefont.size,this.labelPad[h+d]=this.getLabelPad(e,r),this.tickEnable[h+d]=!1,this.tickColor[h+d]=l((r.tickfont||{}).color),this.tickAngle[h+d]="auto"===r.tickangle?0:Math.PI*-r.tickangle/180,this.tickPad[h+d]=this.getTickPad(r),this.tickMarkLength[h+d]=0,this.tickMarkWidth[h+d]=r.tickwidth||0,this.tickMarkColor[h+d]=l(r.tickcolor),this.borderLineEnable[h+d]=!1,this.borderLineColor[h+d]=l(r.linecolor),this.borderLineWidth[h+d]=r.linewidth||0;u=this.hasSharedAxis(r),i=this.hasAxisInDfltPos(e,r)&&!u,a=this.hasAxisInAltrPos(e,r)&&!u,o=r.mirror||!1,p=u?String(o).indexOf("all")!==-1:!!o,f=u?"allticks"===o:String(o).indexOf("ticks")!==-1,i?this.labelEnable[h]=!0:a&&(this.labelEnable[h+2]=!0),i?this.tickEnable[h]=r.showticklabels:a&&(this.tickEnable[h+2]=r.showticklabels),(i||p)&&(this.borderLineEnable[h]=r.showline),(a||p)&&(this.borderLineEnable[h+2]=r.showline),(i||f)&&(this.tickMarkLength[h]=this.getTickMarkLength(r)),(a||f)&&(this.tickMarkLength[h+2]=this.getTickMarkLength(r)),this.gridLineEnable[h]=r.showgrid,this.gridLineColor[h]=l(r.gridcolor),this.gridLineWidth[h]=r.gridwidth,this.zeroLineEnable[h]=r.zeroline,this.zeroLineColor[h]=l(r.zerolinecolor),this.zeroLineWidth[h]=r.zerolinewidth}},u.hasSharedAxis=function(t){var e=this.scene,r=i.getSubplotIds(e.fullLayout,"gl2d"),n=a.findSubplotsWithAxis(r,t);return 0!==n.indexOf(e.id)},u.hasAxisInDfltPos=function(t,e){var r=e.side;return"xaxis"===t?"bottom"===r:"yaxis"===t?"left"===r:void 0},u.hasAxisInAltrPos=function(t,e){var r=e.side;return"xaxis"===t?"top"===r:"yaxis"===t?"right"===r:void 0},u.getLabelPad=function(t,e){var r=1.5,n=e.titlefont.size,o=e.showticklabels;return"xaxis"===t?"top"===e.side?-10+n*(r+(o?1:0)):-10+n*(r+(o?.5:0)):"yaxis"===t?"right"===e.side?10+n*(r+(o?1:.5)):10+n*(r+(o?.5:0)):void 0},u.getTickPad=function(t){return"outside"===t.ticks?10+t.ticklen:15},u.getTickMarkLength=function(t){if(!t.ticks)return 0;var e=t.ticklen;return"inside"===t.ticks?-e:e},e.exports=o},{"../../lib/html2unicode":679,"../../lib/str2rgbarray":699,"../cartesian/axes":720,"../plots":779}],756:[function(t,e,r){"use strict";var n=t("./scene2d"),o=t("../plots"),i=t("../../constants/xmlns_namespaces");r.name="gl2d",r.attr=["xaxis","yaxis"],r.idRoot=["x","y"],r.idRegex={x:/^x([2-9]|[1-9][0-9]+)?$/,y:/^y([2-9]|[1-9][0-9]+)?$/},r.attrRegex={x:/^xaxis([2-9]|[1-9][0-9]+)?$/,y:/^yaxis([2-9]|[1-9][0-9]+)?$/},r.attributes=t("../cartesian/attributes"),r.plot=function(t){for(var e=t._fullLayout,r=t._fullData,i=o.getSubplotIds(e,"gl2d"),a=0;a<i.length;a++){var s=i[a],l=e._plots[s],u=o.getSubplotData(r,"gl2d",s),c=l._scene2d;void 0===c&&(c=new n({id:s,graphDiv:t,container:t.querySelector(".gl-container"),staticPlot:t._context.staticPlot,plotGlPixelRatio:t._context.plotGlPixelRatio},e),l._scene2d=c),c.plot(u,t.calcdata,e,t.layout)}},r.clean=function(t,e,r,n){for(var i=o.getSubplotIds(n,"gl2d"),a=0;a<i.length;a++){var s=i[a],l=n._plots[s];if(l._scene2d){var u=o.getSubplotData(t,"gl2d",s);0===u.length&&(l._scene2d.destroy(),delete n._plots[s])}}},r.toSVG=function(t){for(var e=t._fullLayout,r=o.getSubplotIds(e,"gl2d"),n=0;n<r.length;n++){var a=e._plots[r[n]],s=a._scene2d,l=s.toImage("png"),u=e._glimages.append("svg:image");u.attr({xmlns:i.svg,"xlink:href":l,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),s.destroy()}}},{"../../constants/xmlns_namespaces":665,"../cartesian/attributes":719,"../plots":779,"./scene2d":757}],757:[function(t,e,r){"use strict";function n(t,e){this.container=t.container,this.graphDiv=t.graphDiv,this.pixelRatio=t.plotGlPixelRatio||window.devicePixelRatio,this.id=t.id,this.staticPlot=!!t.staticPlot,this.fullData=null,this.updateRefs(e),this.makeFramework(),this.glplotOptions=d(this),this.glplotOptions.merge(e),this.glplot=c(this.glplotOptions),this.camera=y(this),this.traces={},this.spikes=p(this.glplot),this.selectBox=f(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.bounds=[1/0,1/0,-(1/0),-(1/0)],this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw()}function o(t,e){for(var r=0;r<2;++r){var n=t[r],o=e[r];if(n.length!==o.length)return!0;for(var i=0;i<n.length;++i)if(n[i].x!==o[i].x)return!0}return!1}var i,a,s=t("../../registry"),l=t("../../plots/cartesian/axes"),u=t("../../plots/cartesian/graph_interact"),c=t("gl-plot2d"),p=t("gl-spikes2d"),f=t("gl-select-box"),h=t("webgl-context"),d=t("./convert"),y=t("./camera"),m=t("../../lib/html2unicode"),v=t("../../lib/show_no_webgl_msg"),g=["xaxis","yaxis"];e.exports=n;var b=n.prototype;b.makeFramework=function(){if(this.staticPlot){if(!a&&(i=document.createElement("canvas"),a=h({canvas:i,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!a))throw new Error("Error creating static canvas/context for image server");this.canvas=i,this.gl=a}else{var t=document.createElement("canvas"),e=h({canvas:t,premultipliedAlpha:!0});e||v(this),this.canvas=t,this.gl=e}var r=this.canvas;r.style.width="100%",r.style.height="100%",r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.style["pointer-events"]="none",this.updateSize(r),r.className+="user-select-none";var n=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");n.style.position="absolute",n.style.top=n.style.left="0px",n.style.width=n.style.height="100%",n.style["z-index"]=20,n.style["pointer-events"]="none";var o=this.mouseContainer=document.createElement("div");o.style.position="absolute";var s=this.container;s.appendChild(r),s.appendChild(n),s.appendChild(o)},b.toImage=function(t){t||(t="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(i),this.updateSize(this.canvas),this.glplot.setDirty(),this.glplot.draw();var e=this.glplot.gl,r=e.drawingBufferWidth,n=e.drawingBufferHeight;e.bindFramebuffer(e.FRAMEBUFFER,null);var o=new Uint8Array(r*n*4);e.readPixels(0,0,r,n,e.RGBA,e.UNSIGNED_BYTE,o);for(var a=0,s=n-1;a<s;++a,--s)for(var l=0;l<r;++l)for(var u=0;u<4;++u){var c=o[4*(r*a+l)+u];o[4*(r*a+l)+u]=o[4*(r*s+l)+u],o[4*(r*s+l)+u]=c}var p=document.createElement("canvas");p.width=r,p.height=n;var f=p.getContext("2d"),h=f.createImageData(r,n);h.data.set(o),f.putImageData(h,0,0);var d;switch(t){case"jpeg":d=p.toDataURL("image/jpeg");break;case"webp":d=p.toDataURL("image/webp");break;default:d=p.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(i),d},b.updateSize=function(t){t||(t=this.canvas);var e=this.pixelRatio,r=this.fullLayout,n=r.width,o=r.height,i=0|Math.ceil(e*n),a=0|Math.ceil(e*o);return t.width===i&&t.height===a||(t.width=i,t.height=a),this.redraw&&this.redraw(),t},b.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale(),this.xaxis._length=this.glplot.viewBox[2]-this.glplot.viewBox[0],this.yaxis._length=this.glplot.viewBox[3]-this.glplot.viewBox[1];for(var t=[l.calcTicks(this.xaxis),l.calcTicks(this.yaxis)],e=0;e<2;++e)for(var r=0;r<t[e].length;++r)t[e][r].text=m(t[e][r].text+"");return t},b.updateRefs=function(t){this.fullLayout=t;var e=l.subplotMatch,r="xaxis"+this.id.match(e)[1],n="yaxis"+this.id.match(e)[2];this.xaxis=this.fullLayout[r],this.yaxis=this.fullLayout[n]},b.relayoutCallback=function(){var t=this.graphDiv,e=this.xaxis,r=this.yaxis,n=t.layout;n.xaxis.autorange=e.autorange,n.xaxis.range=e.range.slice(0),n.yaxis.autorange=r.autorange,n.yaxis.range=r.range.slice(0);var o={lastInputTime:this.camera.lastInputTime};o[e._name]=e.range.slice(0),o[r._name]=r.range.slice(0),t.emit("plotly_relayout",o)},b.cameraChanged=function(){var t=this.camera;this.glplot.setDataBox(this.calcDataBox());var e=this.computeTickMarks(),r=this.glplotOptions.ticks;o(e,r)&&(this.glplotOptions.ticks=e,this.glplotOptions.dataBox=t.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},b.handleAnnotations=function(){for(var t=this.graphDiv,e=this.fullLayout.annotations,r=0;r<e.length;r++){var n=e[r];n.xref===this.xaxis._id&&n.yref===this.yaxis._id&&s.getComponentMethod("annotations","drawOne")(t,r)}},b.destroy=function(){var t=this.traces;t&&Object.keys(t).map(function(e){t[e].dispose(),delete t[e]}),this.glplot.dispose(),this.staticPlot||this.container.removeChild(this.canvas),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0},b.plot=function(t,e,r){var n=this.glplot;this.updateRefs(r),this.updateTraces(t,e);var o=r.width,i=r.height;this.updateSize(this.canvas);var a=this.glplotOptions;a.merge(r),a.screenBox=[0,0,o,i];var s=r._size,u=this.xaxis.domain,c=this.yaxis.domain;a.viewBox=[s.l+u[0]*s.w,s.b+c[0]*s.h,o-s.r-(1-u[1])*s.w,i-s.t-(1-c[1])*s.h],this.mouseContainer.style.width=s.w*(u[1]-u[0])+"px",this.mouseContainer.style.height=s.h*(c[1]-c[0])+"px",this.mouseContainer.height=s.h*(c[1]-c[0]),this.mouseContainer.style.left=s.l+u[0]*s.w+"px",this.mouseContainer.style.top=s.t+(1-c[1])*s.h+"px";var p=this.bounds;p[0]=p[1]=1/0,p[2]=p[3]=-(1/0);var f,h,d=Object.keys(this.traces);for(h=0;h<d.length;++h)for(var y=this.traces[d[h]],m=0;m<2;++m)p[m]=Math.min(p[m],y.bounds[m]),p[m+2]=Math.max(p[m+2],y.bounds[m+2]);for(h=0;h<2;++h)p[h]>p[h+2]&&(p[h]=-1,p[h+2]=1),f=this[g[h]],f._length=a.viewBox[h+2]-a.viewBox[h],l.doAutoRange(f),f.setScale();a.ticks=this.computeTickMarks(),a.dataBox=this.calcDataBox(),a.merge(r),n.update(a),this.glplot.draw()},b.calcDataBox=function(){var t=this.xaxis,e=this.yaxis,r=t.range,n=e.range,o=t.r2l,i=e.r2l;return[o(r[0]),i(n[0]),o(r[1]),i(n[1])]},b.setRanges=function(t){var e=this.xaxis,r=this.yaxis,n=e.l2r,o=r.l2r;e.range=[n(t[0]),n(t[2])],r.range=[o(t[1]),o(t[3])]},b.updateTraces=function(t,e){var r,n,o,i=Object.keys(this.traces);this.fullData=t;t:for(r=0;r<i.length;r++){var a=i[r],s=this.traces[a];for(n=0;n<t.length;n++)if(o=t[n],o.uid===a&&o.type===s.type)continue t;s.dispose(),delete this.traces[a]}for(r=0;r<t.length;r++){o=t[r];var l=e[r],u=this.traces[o.uid];u?u.update(o,l):(u=o._module.plot(this,o,l),this.traces[o.uid]=u)}this.glplot.objects.sort(function(t,e){return t._trace.index-e._trace.index})},b.emitPointAction=function(t,e){for(var r,n=t.trace.uid,o=0;o<this.fullData.length;o++)this.fullData[o].uid===n&&(r=this.fullData[o]);this.graphDiv.emit(e,{points:[{x:t.traceCoord[0],y:t.traceCoord[1],curveNumber:r.index,pointNumber:t.pointIndex,data:r._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis}]})},b.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var t=this.glplot,e=this.camera,r=e.mouseListener,n=1===this.lastButtonState&&0===r.buttons,o=this.fullLayout;this.lastButtonState=r.buttons,this.cameraChanged();var i=r.x*t.pixelRatio,a=this.canvas.height-t.pixelRatio*r.y;if(e.boxEnabled&&"zoom"===o.dragmode)this.selectBox.enabled=!0,this.selectBox.selectBox=[Math.min(e.boxStart[0],e.boxEnd[0]),Math.min(e.boxStart[1],e.boxEnd[1]),Math.max(e.boxStart[0],e.boxEnd[0]),Math.max(e.boxStart[1],e.boxEnd[1])],t.setDirty();else{this.selectBox.enabled=!1;var s=o._size,l=this.xaxis.domain,c=this.yaxis.domain,p=t.pick(i/t.pixelRatio+s.l+l[0]*s.w,a/t.pixelRatio-(s.t+(1-c[1])*s.h)),f=p&&p.object._trace.handlePick(p);if(f&&n&&this.emitPointAction(f,"plotly_click"),p&&"skip"!==p.object._trace.hoverinfo&&o.hovermode){if(f&&(!this.lastPickResult||this.lastPickResult.traceUid!==f.trace.uid||this.lastPickResult.dataCoord[0]!==f.dataCoord[0]||this.lastPickResult.dataCoord[1]!==f.dataCoord[1])){var h=f;this.lastPickResult={traceUid:f.trace?f.trace.uid:null,dataCoord:f.dataCoord.slice()},this.spikes.update({center:p.dataCoord}),h.screenCoord=[((t.viewBox[2]-t.viewBox[0])*(p.dataCoord[0]-t.dataBox[0])/(t.dataBox[2]-t.dataBox[0])+t.viewBox[0])/t.pixelRatio,(this.canvas.height-(t.viewBox[3]-t.viewBox[1])*(p.dataCoord[1]-t.dataBox[1])/(t.dataBox[3]-t.dataBox[1])-t.viewBox[1])/t.pixelRatio],this.emitPointAction(f,"plotly_hover");var d=h.hoverinfo;if("all"!==d){var y=d.split("+");y.indexOf("x")===-1&&(h.traceCoord[0]=void 0),y.indexOf("y")===-1&&(h.traceCoord[1]=void 0),y.indexOf("z")===-1&&(h.traceCoord[2]=void 0),y.indexOf("text")===-1&&(h.textLabel=void 0),y.indexOf("name")===-1&&(h.name=void 0)}u.loneHover({x:h.screenCoord[0],y:h.screenCoord[1],xLabel:this.hoverFormatter("xaxis",h.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",h.traceCoord[1]),zLabel:h.traceCoord[2],text:h.textLabel,name:h.name,color:h.color},{container:this.svgContainer})}}else!p&&this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),u.loneUnhover(this.svgContainer))}t.draw()}},b.hoverFormatter=function(t,e){if(void 0!==e){var r=this[t];return l.tickText(r,r.c2l(e),"hover").text}}},{"../../lib/html2unicode":679,"../../lib/show_no_webgl_msg":697,"../../plots/cartesian/axes":720,"../../plots/cartesian/graph_interact":727,"../../registry":794,"./camera":754,"./convert":755,"gl-plot2d":200,"gl-select-box":235,"gl-spikes2d":244,"webgl-context":541}],758:[function(t,e,r){"use strict";function n(t,e){t=t||document.body,e=e||{};var r=[.01,1/0];"distanceLimits"in e&&(r[0]=e.distanceLimits[0],r[1]=e.distanceLimits[1]),"zoomMin"in e&&(r[0]=e.zoomMin),"zoomMax"in e&&(r[1]=e.zoomMax);var n=i({center:e.center||[0,0,0],up:e.up||[0,1,0],eye:e.eye||[0,0,10],mode:e.mode||"orbit",distanceLimits:r}),l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u=0,c=t.clientWidth,p=t.clientHeight,f={keyBindingMode:"rotate",view:n,element:t,delay:e.delay||16,rotateSpeed:e.rotateSpeed||1,zoomSpeed:e.zoomSpeed||1,translateSpeed:e.translateSpeed||1,flipX:!!e.flipX,flipY:!!e.flipY,modes:n.modes,tick:function(){var e=o(),r=this.delay,i=e-2*r;n.idle(e-r),n.recalcMatrix(i),n.flush(e-(100+2*r));for(var a=!0,s=n.computedMatrix,f=0;f<16;++f)a=a&&l[f]===s[f],l[f]=s[f];var h=t.clientWidth===c&&t.clientHeight===p;return c=t.clientWidth,p=t.clientHeight,a?!h:(u=Math.exp(n.computedRadius[0]),!0)},lookAt:function(t,e,r){n.lookAt(n.lastT(),t,e,r)},rotate:function(t,e,r){n.rotate(n.lastT(),t,e,r)},pan:function(t,e,r){n.pan(n.lastT(),t,e,r)},translate:function(t,e,r){n.translate(n.lastT(),t,e,r)}};Object.defineProperties(f,{matrix:{get:function(){return n.computedMatrix},set:function(t){return n.setMatrix(n.lastT(),t),n.computedMatrix},enumerable:!0},mode:{get:function(){return n.getMode()},set:function(t){var e=n.computedUp.slice(),r=n.computedEye.slice(),i=n.computedCenter.slice();if(n.setMode(t),"turntable"===t){var a=o();n._active.lookAt(a,r,i,e),n._active.lookAt(a+500,r,i,[0,0,1]),n._active.flush(a)}return n.getMode()},enumerable:!0},center:{get:function(){return n.computedCenter},set:function(t){return n.lookAt(n.lastT(),null,t),n.computedCenter},enumerable:!0},eye:{get:function(){return n.computedEye},set:function(t){return n.lookAt(n.lastT(),t),n.computedEye},enumerable:!0},up:{get:function(){return n.computedUp},set:function(t){return n.lookAt(n.lastT(),null,null,t),n.computedUp},enumerable:!0},distance:{get:function(){return u},set:function(t){return n.setDistance(n.lastT(),t),t},enumerable:!0},distanceLimits:{get:function(){return n.getDistanceLimits(r)},set:function(t){return n.setDistanceLimits(t),t},enumerable:!0}}),t.addEventListener("contextmenu",function(t){return t.preventDefault(),!1});var h=0,d=0;return a(t,function(e,r,i,a){var s=f.keyBindingMode;if(s!==!1){var l="rotate"===s,c="pan"===s,p="zoom"===s,y=!!a.control,m=!!a.alt,v=!!a.shift,g=!!(1&e),b=!!(2&e),x=!!(4&e),_=1/t.clientHeight,w=_*(r-h),T=_*(i-d),M=f.flipX?1:-1,S=f.flipY?1:-1,E=o(),k=Math.PI*f.rotateSpeed;if((l&&g&&!y&&!m&&!v||g&&!y&&!m&&v)&&n.rotate(E,M*k*w,-S*k*T,0),(c&&g&&!y&&!m&&!v||b||g&&y&&!m&&!v)&&n.pan(E,-f.translateSpeed*w*u,f.translateSpeed*T*u,0),p&&g&&!y&&!m&&!v||x||g&&!y&&m&&!v){var C=-f.zoomSpeed*T/window.innerHeight*(E-n.lastT())*100;n.pan(E,0,0,u*(Math.exp(C)-1))}return h=r,d=i,!0}}),s(t,function(t,e){if(f.keyBindingMode!==!1){var r=f.flipX?1:-1,i=f.flipY?1:-1,a=o();if(Math.abs(t)>Math.abs(e))n.rotate(a,0,0,-t*r*Math.PI*f.rotateSpeed/window.innerWidth);else{var s=-f.zoomSpeed*i*e/window.innerHeight*(a-n.lastT())/100;n.pan(a,0,0,u*(Math.exp(s)-1))}}},!0),f}e.exports=n;var o=t("right-now"),i=t("3d-view"),a=t("mouse-change"),s=t("mouse-wheel")},{"3d-view":30,"mouse-change":432,"mouse-wheel":435,"right-now":481}],759:[function(t,e,r){"use strict";var n=t("./scene"),o=t("../plots"),i=t("../../lib"),a=t("../../constants/xmlns_namespaces");r.name="gl3d",r.attr="scene",r.idRoot="scene",r.idRegex=/^scene([2-9]|[1-9][0-9]+)?$/,r.attrRegex=/^scene([2-9]|[1-9][0-9]+)?$/,r.attributes=t("./layout/attributes"),r.layoutAttributes=t("./layout/layout_attributes"),r.supplyLayoutDefaults=t("./layout/defaults"),r.plot=function(t){for(var e=t._fullLayout,r=t._fullData,a=o.getSubplotIds(e,"gl3d"),s=0;s<a.length;s++){var l=a[s],u=o.getSubplotData(r,"gl3d",l),c=e[l],p=c._scene;p||(p=new n({id:l,graphDiv:t,container:t.querySelector(".gl-container"),staticPlot:t._context.staticPlot,plotGlPixelRatio:t._context.plotGlPixelRatio},e),c._scene=p),p.cameraInitial||(p.cameraInitial=i.extendDeep({},c.camera)),p.plot(u,e,t.layout);
}},r.clean=function(t,e,r,n){for(var i=o.getSubplotIds(n,"gl3d"),a=0;a<i.length;a++){var s=i[a];!e[s]&&n[s]._scene&&n[s]._scene.destroy()}},r.toSVG=function(t){for(var e=t._fullLayout,r=o.getSubplotIds(e,"gl3d"),n=e._size,i=0;i<r.length;i++){var s=e[r[i]],l=s.domain,u=s._scene,c=u.toImage("png"),p=e._glimages.append("svg:image");p.attr({xmlns:a.svg,"xlink:href":c,x:n.l+n.w*l.x[0],y:n.t+n.h*(1-l.y[1]),width:n.w*(l.x[1]-l.x[0]),height:n.h*(l.y[1]-l.y[0]),preserveAspectRatio:"none"}),u.destroy()}},r.cleanId=function(t){if(t.match(/^scene[0-9]*$/)){var e=t.substr(5);return"1"===e&&(e=""),"scene"+e}}},{"../../constants/xmlns_namespaces":665,"../../lib":681,"../plots":779,"./layout/attributes":760,"./layout/defaults":764,"./layout/layout_attributes":765,"./scene":769}],760:[function(t,e,r){"use strict";e.exports={scene:{valType:"subplotid",dflt:"scene"}}},{}],761:[function(t,e,r){"use strict";var n=t("../../../components/color"),o=t("../../cartesian/layout_attributes"),i=t("../../../lib/extend").extendFlat;e.exports={showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:n.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:o.color,categoryorder:o.categoryorder,categoryarray:o.categoryarray,title:o.title,titlefont:o.titlefont,type:o.type,autorange:o.autorange,rangemode:o.rangemode,range:o.range,tickmode:o.tickmode,nticks:o.nticks,tick0:o.tick0,dtick:o.dtick,tickvals:o.tickvals,ticktext:o.ticktext,ticks:o.ticks,mirror:o.mirror,ticklen:o.ticklen,tickwidth:o.tickwidth,tickcolor:o.tickcolor,showticklabels:o.showticklabels,tickfont:o.tickfont,tickangle:o.tickangle,tickprefix:o.tickprefix,showtickprefix:o.showtickprefix,ticksuffix:o.ticksuffix,showticksuffix:o.showticksuffix,showexponent:o.showexponent,exponentformat:o.exponentformat,separatethousands:o.separatethousands,tickformat:o.tickformat,hoverformat:o.hoverformat,showline:o.showline,linecolor:o.linecolor,linewidth:o.linewidth,showgrid:o.showgrid,gridcolor:i({},o.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:o.gridwidth,zeroline:o.zeroline,zerolinecolor:o.zerolinecolor,zerolinewidth:o.zerolinewidth}},{"../../../components/color":576,"../../../lib/extend":673,"../../cartesian/layout_attributes":729}],762:[function(t,e,r){"use strict";var n=t("tinycolor2").mix,o=t("../../../lib"),i=t("./axis_attributes"),a=t("../../cartesian/axis_defaults"),s=["xaxis","yaxis","zaxis"],l=13600/187;e.exports=function(t,e,r){function u(t,e){return o.coerce(c,p,i,t,e)}for(var c,p,f=0;f<s.length;f++){var h=s[f];c=t[h]||{},p={_id:h[0]+r.scene,_name:h},e[h]=p=a(c,p,u,{font:r.font,letter:h[0],data:r.data,showGrid:!0,bgColor:r.bgColor,calendar:r.calendar}),u("gridcolor",n(p.color,r.bgColor,l).toRgbString()),u("title",h[0]),p.setScale=o.noop,u("showspikes")&&(u("spikesides"),u("spikethickness"),u("spikecolor",p.color)),u("showaxeslabels"),u("showbackground")&&u("backgroundcolor")}}},{"../../../lib":681,"../../cartesian/axis_defaults":722,"./axis_attributes":761,tinycolor2:512}],763:[function(t,e,r){"use strict";function n(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=l(this.tickPad),this._defaultLabelPad=l(this.labelPad),this._defaultLineTickLength=l(this.lineTickLength)}function o(t){var e=new n;return e.merge(t),e}var i=t("arraytools"),a=t("../../../lib/html2unicode"),s=t("../../../lib/str2rgbarray"),l=i.copy1D,u=["xaxis","yaxis","zaxis"],c=n.prototype;c.merge=function(t){for(var e=this,r=0;r<3;++r){var n=t[u[r]];e.labels[r]=a(n.title),"titlefont"in n&&(n.titlefont.color&&(e.labelColor[r]=s(n.titlefont.color)),n.titlefont.family&&(e.labelFont[r]=n.titlefont.family),n.titlefont.size&&(e.labelSize[r]=n.titlefont.size)),"showline"in n&&(e.lineEnable[r]=n.showline),"linecolor"in n&&(e.lineColor[r]=s(n.linecolor)),"linewidth"in n&&(e.lineWidth[r]=n.linewidth),"showgrid"in n&&(e.gridEnable[r]=n.showgrid),"gridcolor"in n&&(e.gridColor[r]=s(n.gridcolor)),"gridwidth"in n&&(e.gridWidth[r]=n.gridwidth),"log"===n.type?e.zeroEnable[r]=!1:"zeroline"in n&&(e.zeroEnable[r]=n.zeroline),"zerolinecolor"in n&&(e.zeroLineColor[r]=s(n.zerolinecolor)),"zerolinewidth"in n&&(e.zeroLineWidth[r]=n.zerolinewidth),"ticks"in n&&n.ticks?e.lineTickEnable[r]=!0:e.lineTickEnable[r]=!1,"ticklen"in n&&(e.lineTickLength[r]=e._defaultLineTickLength[r]=n.ticklen),"tickcolor"in n&&(e.lineTickColor[r]=s(n.tickcolor)),"tickwidth"in n&&(e.lineTickWidth[r]=n.tickwidth),"tickangle"in n&&(e.tickAngle[r]="auto"===n.tickangle?0:Math.PI*-n.tickangle/180),"showticklabels"in n&&(e.tickEnable[r]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(e.tickColor[r]=s(n.tickfont.color)),n.tickfont.family&&(e.tickFont[r]=n.tickfont.family),n.tickfont.size&&(e.tickSize[r]=n.tickfont.size)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(e.lineTickMirror[r]=!0,e.lineMirror[r]=!0):n.mirror===!0?(e.lineTickMirror[r]=!1,e.lineMirror[r]=!0):(e.lineTickMirror[r]=!1,e.lineMirror[r]=!1):e.lineMirror[r]=!1,"showbackground"in n&&n.showbackground!==!1?(e.backgroundEnable[r]=!0,e.backgroundColor[r]=s(n.backgroundcolor)):e.backgroundEnable[r]=!1}},e.exports=o},{"../../../lib/html2unicode":679,"../../../lib/str2rgbarray":699,arraytools:36}],764:[function(t,e,r){"use strict";function n(t,e,r,n){for(var o=r("bgcolor"),a=i.combine(o,n.paper_bgcolor),u=Object.keys(s.camera),c=0;c<u.length;c++)r("camera."+u[c]+".x"),r("camera."+u[c]+".y"),r("camera."+u[c]+".z");var p=!!r("aspectratio.x")&&!!r("aspectratio.y")&&!!r("aspectratio.z"),f=p?"manual":"auto",h=r("aspectmode",f);p||(t.aspectratio=e.aspectratio={x:1,y:1,z:1},"manual"===h&&(e.aspectmode="auto")),l(t,e,{font:n.font,scene:n.id,data:n.fullData,bgColor:a,calendar:n.calendar}),r("dragmode",n.getDfltFromLayout("dragmode")),r("hovermode",n.getDfltFromLayout("hovermode"))}var o=t("../../../lib"),i=t("../../../components/color"),a=t("../../subplot_defaults"),s=t("./layout_attributes"),l=t("./axis_defaults");e.exports=function(t,e,r){function i(e){if(!l){var r=o.validate(t[e],s[e]);return r?t[e]:void 0}}var l=e._basePlotModules.length>1;a(t,e,r,{type:"gl3d",attributes:s,handleDefaults:n,font:e.font,fullData:r,getDfltFromLayout:i,paper_bgcolor:e.paper_bgcolor,calendar:e.calendar})}},{"../../../components/color":576,"../../../lib":681,"../../subplot_defaults":786,"./axis_defaults":762,"./layout_attributes":765}],765:[function(t,e,r){"use strict";function n(t,e,r){return{x:{valType:"number",dflt:t},y:{valType:"number",dflt:e},z:{valType:"number",dflt:r}}}var o=t("./axis_attributes"),i=t("../../../lib/extend").extendFlat;e.exports={bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},camera:{up:i(n(0,0,1),{}),center:i(n(0,0,0),{}),eye:i(n(1.25,1.25,1.25),{})},domain:{x:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]},y:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]}},aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto"},aspectratio:{x:{valType:"number",min:0},y:{valType:"number",min:0},z:{valType:"number",min:0}},xaxis:o,yaxis:o,zaxis:o,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],dflt:"turntable"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest"},_deprecated:{cameraposition:{valType:"info_array"}}}},{"../../../lib/extend":673,"./axis_attributes":761}],766:[function(t,e,r){"use strict";function n(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}function o(t){var e=new n;return e.merge(t),e}var i=t("../../../lib/str2rgbarray"),a=["xaxis","yaxis","zaxis"],s=n.prototype;s.merge=function(t){for(var e=0;e<3;++e){var r=t[a[e]];this.enabled[e]=r.showspikes,this.colors[e]=i(r.spikecolor),this.drawSides[e]=r.spikesides,this.lineWidth[e]=r.spikethickness}},e.exports=o},{"../../../lib/str2rgbarray":699}],767:[function(t,e,r){"use strict";function n(t){for(var e=new Array(3),r=0;r<3;++r){for(var n=t[r],o=new Array(n.length),i=0;i<n.length;++i)o[i]=n[i].x;e[r]=o}return e}function o(t){for(var e=t.axesOptions,r=t.glplot.axesPixels,o=t.fullSceneLayout,c=[[],[],[]],p=0;p<3;++p){var f=o[l[p]];if(f._length=(r[p].hi-r[p].lo)*r[p].pixelsPerDataUnit/t.dataScale[p],Math.abs(f._length)===1/0)c[p]=[];else{f.range[0]=r[p].lo/t.dataScale[p],f.range[1]=r[p].hi/t.dataScale[p],f._m=1/(t.dataScale[p]*r[p].pixelsPerDataUnit),f.range[0]===f.range[1]&&(f.range[0]-=1,f.range[1]+=1);var h=f.tickmode;if("auto"===f.tickmode){f.tickmode="linear";var d=f.nticks||a.constrain(f._length/40,4,9);i.autoTicks(f,Math.abs(f.range[1]-f.range[0])/d)}for(var y=i.calcTicks(f),m=0;m<y.length;++m)y[m].x=y[m].x*t.dataScale[p],y[m].text=s(y[m].text);c[p]=y,f.tickmode=h}}e.ticks=c;for(var p=0;p<3;++p){u[p]=.5*(t.glplot.bounds[0][p]+t.glplot.bounds[1][p]);for(var m=0;m<2;++m)e.bounds[m][p]=t.glplot.bounds[m][p]}t.contourLevels=n(c)}e.exports=o;var i=t("../../cartesian/axes"),a=t("../../../lib"),s=t("../../../lib/html2unicode"),l=["xaxis","yaxis","zaxis"],u=[0,0,0]},{"../../../lib":681,"../../../lib/html2unicode":679,"../../cartesian/axes":720}],768:[function(t,e,r){"use strict";function n(t,e){var r,n,o=[0,0,0,0];for(r=0;r<4;++r)for(n=0;n<4;++n)o[n]+=t[4*r+n]*e[r];return o}function o(t,e){var r=n(t.projection,n(t.view,n(t.model,[e[0],e[1],e[2],1])));return r}e.exports=o},{}],769:[function(t,e,r){"use strict";function n(t){function e(e,r){var n=t.fullSceneLayout[e];return y.tickText(n,n.d2l(r),"hover").text}var r,n=t.svgContainer,o=t.container.getBoundingClientRect(),i=o.width,a=o.height;n.setAttributeNS(null,"viewBox","0 0 "+i+" "+a),n.setAttributeNS(null,"width",i),n.setAttributeNS(null,"height",a),T(t),t.glplot.axes.update(t.axesOptions);for(var s=Object.keys(t.traces),l=null,u=t.glplot.selection,c=0;c<s.length;++c)r=t.traces[s[c]],"skip"!==r.data.hoverinfo&&r.handlePick(u)&&(l=r),r.setContourLevels&&r.setContourLevels();var p;if(null!==l){var f=x(t.glplot.cameraParams,u.dataCoordinate);r=l.data;var h=r.hoverinfo,d=e("xaxis",u.traceCoordinate[0]),v=e("yaxis",u.traceCoordinate[1]),g=e("zaxis",u.traceCoordinate[2]);if("all"!==h){var b=h.split("+");b.indexOf("x")===-1&&(d=void 0),b.indexOf("y")===-1&&(v=void 0),b.indexOf("z")===-1&&(g=void 0),b.indexOf("text")===-1&&(u.textLabel=void 0),b.indexOf("name")===-1&&(l.name=void 0)}t.fullSceneLayout.hovermode&&m.loneHover({x:(.5+.5*f[0]/f[3])*i,y:(.5-.5*f[1]/f[3])*a,xLabel:d,yLabel:v,zLabel:g,text:u.textLabel,name:l.name,color:l.color},{container:n});var _={points:[{x:d,y:v,z:g,data:r._input,fullData:r,curveNumber:r.index,pointNumber:u.data.index}]};u.buttons&&u.distance<5?t.graphDiv.emit("plotly_click",_):t.graphDiv.emit("plotly_hover",_),p=_}else m.loneUnhover(n),t.graphDiv.emit("plotly_unhover",p)}function o(t,e,r,o){var i={canvas:r,gl:o,container:t.container,axes:t.axesOptions,spikes:t.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1};if(t.staticMode){if(!p&&(c=document.createElement("canvas"),p=h({canvas:c,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!p))throw new Error("error creating static canvas/context for image server");i.pixelRatio=t.pixelRatio,i.gl=p,i.canvas=c}try{t.glplot=f(i)}catch(e){g(t)}var a=function(t){if(t.fullSceneLayout.dragmode!==!1){var e={};e[t.id]=u(t.camera),t.saveCamera(t.graphDiv.layout),t.graphDiv.emit("plotly_relayout",e)}};if(t.glplot.canvas.addEventListener("mouseup",a.bind(null,t)),t.glplot.canvas.addEventListener("wheel",a.bind(null,t)),t.staticMode||t.glplot.canvas.addEventListener("webglcontextlost",function(t){d.warn("Lost WebGL context."),t.preventDefault()}),!t.camera){var s=t.fullSceneLayout.camera;t.camera=b(t.container,{center:[s.center.x,s.center.y,s.center.z],eye:[s.eye.x,s.eye.y,s.eye.z],up:[s.up.x,s.up.y,s.up.z],zoomMin:.1,zoomMax:100,mode:"orbit"})}return t.glplot.camera=t.camera,t.glplot.oncontextloss=function(){t.recoverContext()},t.glplot.onrender=n.bind(null,t),t.traces={},!0}function i(t,e){var r=document.createElement("div"),n=t.container;this.graphDiv=t.graphDiv;var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.style.position="absolute",i.style.top=i.style.left="0px",i.style.width=i.style.height="100%",i.style["z-index"]=20,i.style["pointer-events"]="none",r.appendChild(i),this.svgContainer=i,r.id=t.id,r.style.position="absolute",r.style.top=r.style.left="0px",r.style.width=r.style.height="100%",n.appendChild(r),this.fullLayout=e,this.id=t.id||"scene",this.fullSceneLayout=e[this.id],this.plotArgs=[[],{},{}],this.axesOptions=_(e[this.id]),this.spikeOptions=w(e[this.id]),this.container=r,this.staticMode=!!t.staticPlot,this.pixelRatio=t.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],!o(this,e)}function a(t,e,r,n,o){for(var i,a=0;a<e.length;++a)if(Array.isArray(e[a]))for(var s=0;s<e[a].length;++s)i=t.d2l(e[a][s],0,o),!isNaN(i)&&isFinite(i)&&(n[0][r]=Math.min(n[0][r],i),n[1][r]=Math.max(n[1][r],i));else i=t.d2l(e[a],0,o),!isNaN(i)&&isFinite(i)&&(n[0][r]=Math.min(n[0][r],i),n[1][r]=Math.max(n[1][r],i))}function s(t,e,r){var n=t.fullSceneLayout;a(n.xaxis,e.x,0,r,e.xcalendar),a(n.yaxis,e.y,1,r,e.ycalendar),a(n.zaxis,e.z,2,r,e.zcalendar)}function l(t){return[[t.eye.x,t.eye.y,t.eye.z],[t.center.x,t.center.y,t.center.z],[t.up.x,t.up.y,t.up.z]]}function u(t){return{up:{x:t.up[0],y:t.up[1],z:t.up[2]},center:{x:t.center[0],y:t.center[1],z:t.center[2]},eye:{x:t.eye[0],y:t.eye[1],z:t.eye[2]}}}var c,p,f=t("gl-plot3d"),h=t("webgl-context"),d=t("../../lib"),y=t("../../plots/cartesian/axes"),m=t("../../plots/cartesian/graph_interact"),v=t("../../lib/str2rgbarray"),g=t("../../lib/show_no_webgl_msg"),b=t("./camera"),x=t("./project"),_=t("./layout/convert"),w=t("./layout/spikes"),T=t("./layout/tick_marks"),M=i.prototype;M.recoverContext=function(){function t(){return r.isContextLost()?void requestAnimationFrame(t):o(e,e.fullLayout,n,r)?void e.plot.apply(e,e.plotArgs):void d.error("Catastrophic and unrecoverable WebGL error. Context lost.")}var e=this,r=this.glplot.gl,n=this.glplot.canvas;this.glplot.dispose(),requestAnimationFrame(t)};var S=["xaxis","yaxis","zaxis"];M.plot=function(t,e,r){if(this.plotArgs=[t,e,r],!this.glplot.contextLost){var n,o,i,a,l,u,c=e[this.id],p=r[this.id];c.bgcolor?this.glplot.clearColor=v(c.bgcolor):this.glplot.clearColor=[0,0,0,0],this.glplot.snapToData=!0,this.fullLayout=e,this.fullSceneLayout=c,this.glplotLayout=c,this.axesOptions.merge(c),this.spikeOptions.merge(c),this.setCamera(c.camera),this.updateFx(c.dragmode,c.hovermode),this.glplot.update({}),this.setConvert(l),t?Array.isArray(t)||(t=[t]):t=[];var f=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]];for(i=0;i<t.length;++i)n=t[i],n.visible===!0&&s(this,n,f);var h=[1,1,1];for(a=0;a<3;++a)f[0][a]>f[1][a]?h[a]=1:f[1][a]===f[0][a]?h[a]=1:h[a]=1/(f[1][a]-f[0][a]);for(this.dataScale=h,i=0;i<t.length;++i)n=t[i],n.visible===!0&&(o=this.traces[n.uid],o?o.update(n):(o=n._module.plot(this,n),this.traces[n.uid]=o),o.name=n.name);var d=Object.keys(this.traces);t:for(i=0;i<d.length;++i){for(a=0;a<t.length;++a)if(t[a].uid===d[i]&&t[a].visible===!0)continue t;o=this.traces[d[i]],o.dispose(),delete this.traces[d[i]]}this.glplot.objects.sort(function(t,e){return t._trace.data.index-e._trace.data.index});var y=[[0,0,0],[0,0,0]],m=[],g={};for(i=0;i<3;++i){if(l=c[S[i]],u=l.type,u in g?(g[u].acc*=h[i],g[u].count+=1):g[u]={acc:h[i],count:1},l.autorange){for(y[0][i]=1/0,y[1][i]=-(1/0),a=0;a<this.glplot.objects.length;++a){var b=this.glplot.objects[a].bounds;y[0][i]=Math.min(y[0][i],b[0][i]/h[i]),y[1][i]=Math.max(y[1][i],b[1][i]/h[i])}if("rangemode"in l&&"tozero"===l.rangemode&&(y[0][i]=Math.min(y[0][i],0),y[1][i]=Math.max(y[1][i],0)),y[0][i]>y[1][i])y[0][i]=-1,y[1][i]=1;else{var x=y[1][i]-y[0][i];y[0][i]-=x/32,y[1][i]+=x/32}}else{var _=c[S[i]].range;y[0][i]=_[0],y[1][i]=_[1]}y[0][i]===y[1][i]&&(y[0][i]-=1,y[1][i]+=1),m[i]=y[1][i]-y[0][i],this.glplot.bounds[0][i]=y[0][i]*h[i],this.glplot.bounds[1][i]=y[1][i]*h[i]}var w=[1,1,1];for(i=0;i<3;++i){l=c[S[i]],u=l.type;var T=g[u];w[i]=Math.pow(T.acc,1/T.count)/h[i]}var M,E=4;if("auto"===c.aspectmode)M=Math.max.apply(null,w)/Math.min.apply(null,w)<=E?w:[1,1,1];else if("cube"===c.aspectmode)M=[1,1,1];else if("data"===c.aspectmode)M=w;else{if("manual"!==c.aspectmode)throw new Error("scene.js aspectRatio was not one of the enumerated types");var k=c.aspectratio;M=[k.x,k.y,k.z]}c.aspectratio.x=p.aspectratio.x=M[0],c.aspectratio.y=p.aspectratio.y=M[1],c.aspectratio.z=p.aspectratio.z=M[2],this.glplot.aspect=M;var C=c.domain||null,A=e._size||null;if(C&&A){var P=this.container.style;P.position="absolute",P.left=A.l+C.x[0]*A.w+"px",P.top=A.t+(1-C.y[1])*A.h+"px",P.width=A.w*(C.x[1]-C.x[0])+"px",P.height=A.h*(C.y[1]-C.y[0])+"px"}this.glplot.redraw()}},M.destroy=function(){this.glplot.dispose(),this.container.parentNode.removeChild(this.container),this.glplot=null},M.getCamera=function(){return this.glplot.camera.view.recalcMatrix(this.camera.view.lastT()),u(this.glplot.camera)},M.setCamera=function(t){this.glplot.camera.lookAt.apply(this,l(t))},M.saveCamera=function(t){function e(t,e,r,n){var o=["up","center","eye"],i=["x","y","z"];return e[o[r]]&&t[o[r]][i[n]]===e[o[r]][i[n]]}var r=this.getCamera(),n=d.nestedProperty(t,this.id+".camera"),o=n.get(),i=!1;if(void 0===o)i=!0;else for(var a=0;a<3;a++)for(var s=0;s<3;s++)if(!e(r,o,a,s)){i=!0;break}return i&&n.set(r),i},M.updateFx=function(t,e){var r=this.camera;r&&("orbit"===t?(r.mode="orbit",r.keyBindingMode="rotate"):"turntable"===t?(r.up=[0,0,1],r.mode="turntable",r.keyBindingMode="rotate"):r.keyBindingMode=t),this.fullSceneLayout.hovermode=e},M.toImage=function(t){t||(t="png"),this.staticMode&&this.container.appendChild(c),this.glplot.redraw();var e=this.glplot.gl,r=e.drawingBufferWidth,n=e.drawingBufferHeight;e.bindFramebuffer(e.FRAMEBUFFER,null);var o=new Uint8Array(r*n*4);e.readPixels(0,0,r,n,e.RGBA,e.UNSIGNED_BYTE,o);for(var i=0,a=n-1;i<a;++i,--a)for(var s=0;s<r;++s)for(var l=0;l<4;++l){var u=o[4*(r*i+s)+l];o[4*(r*i+s)+l]=o[4*(r*a+s)+l],o[4*(r*a+s)+l]=u}var p=document.createElement("canvas");p.width=r,p.height=n;var f=p.getContext("2d"),h=f.createImageData(r,n);h.data.set(o),f.putImageData(h,0,0);var d;switch(t){case"jpeg":d=p.toDataURL("image/jpeg");break;case"webp":d=p.toDataURL("image/webp");break;default:d=p.toDataURL("image/png")}return this.staticMode&&this.container.removeChild(c),d},M.setConvert=function(){for(var t=0;t<3;++t){var e=this.fullSceneLayout[S[t]];y.setConvert(e,this.fullLayout),e.setScale=d.noop}},e.exports=i},{"../../lib":681,"../../lib/show_no_webgl_msg":697,"../../lib/str2rgbarray":699,"../../plots/cartesian/axes":720,"../../plots/cartesian/graph_interact":727,"./camera":758,"./layout/convert":763,"./layout/spikes":766,"./layout/tick_marks":767,"./project":768,"gl-plot3d":202,"webgl-context":541}],770:[function(t,e,r){"use strict";var n=t("../lib"),o=n.extendFlat,i=t("./font_attributes"),a=t("../components/color/attributes");e.exports={font:{family:o({},i.family,{dflt:'"Open Sans", verdana, arial, sans-serif'}),size:o({},i.size,{dflt:12}),color:o({},i.color,{dflt:a.defaultLine})},title:{valType:"string",dflt:"Click to enter Plot title"},titlefont:o({},i,{}),autosize:{valType:"boolean",dflt:!1},width:{valType:"number",min:10,dflt:700},height:{valType:"number",min:10,dflt:450},margin:{l:{valType:"number",min:0,dflt:80},r:{valType:"number",min:0,dflt:80},t:{valType:"number",min:0,dflt:100},b:{valType:"number",min:0,dflt:80},pad:{valType:"number",min:0,dflt:0},autoexpand:{valType:"boolean",dflt:!0}},paper_bgcolor:{valType:"color",dflt:a.background},plot_bgcolor:{valType:"color",dflt:a.background},separators:{valType:"string",dflt:".,"},hidesources:{valType:"boolean",dflt:!1},smith:{valType:"enumerated",values:[!1],dflt:!1},showlegend:{valType:"boolean"},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","orbit","turntable"],dflt:"zoom"},hovermode:{valType:"enumerated",values:["x","y","closest",!1]}}},{"../components/color/attributes":575,"../lib":681,"./font_attributes":740}],771:[function(t,e,r){"use strict";e.exports={styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",controlContainerClassName:"mapboxgl-control-container",noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.plot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join("\n"),mapOnErrorMsg:"Mapbox error."}},{}],772:[function(t,e,r){"use strict";var n=t("../../lib");e.exports=function(t,e){var r=t.split(" "),o=r[0],i=r[1],a=Array.isArray(e)?n.mean(e):e,s=.5+a/100,l=1.5+a/100,u=["",""],c=[0,0];switch(o){case"top":u[0]="top",c[1]=-l;break;case"bottom":u[0]="bottom",c[1]=l}switch(i){case"left":u[1]="right",c[0]=-s;break;case"right":u[1]="left",c[0]=s}var p;return p=u[0]&&u[1]?u.join("-"):u[0]?u[0]:u[1]?u[1]:"center",{anchor:p,offset:c}}},{"../../lib":681}],773:[function(t,e,r){"use strict";function n(t,e){var r=t._fullLayout,n=t._context;if(""===n.mapboxAccessToken)return"";for(var o=n.mapboxAccessToken,i=0;i<e.length;i++){var a=r[e[i]];if(a.accesstoken){o=a.accesstoken;break}}if(!o)throw new Error(l.noAccessTokenErrorMsg);return o}var o=t("mapbox-gl"),i=t("../plots"),a=t("../../constants/xmlns_namespaces"),s=t("./mapbox"),l=t("./constants");r.name="mapbox",r.attr="subplot",r.idRoot="mapbox",r.idRegex=/^mapbox([2-9]|[1-9][0-9]+)?$/,r.attrRegex=/^mapbox([2-9]|[1-9][0-9]+)?$/,r.attributes={subplot:{valType:"subplotid",dflt:"mapbox"}},r.layoutAttributes=t("./layout_attributes"),r.supplyLayoutDefaults=t("./layout_defaults"),r.plot=function(t){var e=t._fullLayout,r=t.calcdata,a=i.getSubplotIds(e,"mapbox"),l=n(t,a);o.accessToken=l;for(var u=0;u<a.length;u++){var c=a[u],p=i.getSubplotCalcData(r,"mapbox",c),f=e[c],h=f._subplot;f.accesstoken=l,h||(h=s({gd:t,container:e._glcontainer.node(),id:c,fullLayout:e,staticPlot:t._context.staticPlot}),e[c]._subplot=h),h.plot(p,e,t._promises)}},r.clean=function(t,e,r,n){for(var o=i.getSubplotIds(n,"mapbox"),a=0;a<o.length;a++){var s=o[a];!e[s]&&n[s]._subplot&&n[s]._subplot.destroy()}},r.toSVG=function(t){for(var e=t._fullLayout,r=i.getSubplotIds(e,"mapbox"),n=e._size,o=0;o<r.length;o++){var s=e[r[o]],l=s.domain,u=s._subplot,c=u.toImage("png"),p=e._glimages.append("svg:image");p.attr({xmlns:a.svg,"xlink:href":c,x:n.l+n.w*l.x[0],y:n.t+n.h*(1-l.y[1]),width:n.w*(l.x[1]-l.x[0]),height:n.h*(l.y[1]-l.y[0]),preserveAspectRatio:"none"}),u.destroy()}}},{"../../constants/xmlns_namespaces":665,"../plots":779,"./constants":771,"./layout_attributes":775,"./layout_defaults":776,"./mapbox":777,"mapbox-gl":323}],774:[function(t,e,r){"use strict";function n(t,e){this.mapbox=t,this.map=t.map,this.uid=t.uid+"-layer"+e,this.idSource=this.uid+"-source",this.idLayer=this.uid+"-layer",this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}function o(t){var e=t.source;return s.isPlainObject(e)||"string"==typeof e&&e.length>0}function i(t){var e={},r={};switch(t.type){case"circle":s.extendFlat(r,{"circle-radius":t.circle.radius,"circle-color":t.color,"circle-opacity":t.opacity});break;case"line":s.extendFlat(r,{"line-width":t.line.width,"line-color":t.color,"line-opacity":t.opacity});break;case"fill":s.extendFlat(r,{"fill-color":t.color,"fill-outline-color":t.fill.outlinecolor,"fill-opacity":t.opacity});break;case"symbol":var n=t.symbol,o=l(n.textposition,n.iconsize);s.extendFlat(e,{"icon-image":n.icon+"-15","icon-size":n.iconsize/10,"text-field":n.text,"text-size":n.textfont.size,"text-anchor":o.anchor,"text-offset":o.offset}),s.extendFlat(r,{"icon-color":t.color,"text-color":n.textfont.color,"text-opacity":t.opacity})}return{layout:e,paint:r}}function a(t){var e,r=t.sourcetype,n=t.source,o={type:r},i="string"==typeof n;return"geojson"===r?e="data":"vector"===r&&(e=i?"url":"tiles"),o[e]=n,o}var s=t("../../lib"),l=t("./convert_text_opts"),u=n.prototype;u.update=function(t){this.visible?this.needsNewSource(t)?(this.updateLayer(t),this.updateSource(t)):this.needsNewLayer(t)&&this.updateLayer(t):(this.updateSource(t),this.updateLayer(t)),this.updateStyle(t),this.visible=o(t)},u.needsNewSource=function(t){return this.sourceType!==t.sourcetype||this.source!==t.source||this.layerType!==t.type},u.needsNewLayer=function(t){return this.layerType!==t.type||this.below!==t.below},u.updateSource=function(t){var e=this.map;if(e.getSource(this.idSource)&&e.removeSource(this.idSource),this.sourceType=t.sourcetype,this.source=t.source,o(t)){var r=a(t);e.addSource(this.idSource,r)}},u.updateLayer=function(t){var e=this.map;if(e.getLayer(this.idLayer)&&e.removeLayer(this.idLayer),this.layerType=t.type,o(t)){e.addLayer({id:this.idLayer,source:this.idSource,"source-layer":t.sourcelayer||"",type:t.type},t.below);var r={visibility:"visible"};this.mapbox.setOptions(this.idLayer,"setLayoutProperty",r)}},u.updateStyle=function(t){var e=i(t);o(t)&&(this.mapbox.setOptions(this.idLayer,"setLayoutProperty",e.layout),this.mapbox.setOptions(this.idLayer,"setPaintProperty",e.paint))},u.dispose=function(){var t=this.map;t.removeLayer(this.idLayer),t.removeSource(this.idSource)},e.exports=function(t,e,r){var o=new n(t,e);return o.update(r),o}},{"../../lib":681,"./convert_text_opts":772}],775:[function(t,e,r){"use strict";var n=t("../../lib"),o=t("../../components/color").defaultLine,i=t("../font_attributes"),a=t("../../traces/scatter/attributes").textposition;e.exports={_arrayAttrRegexps:[/^mapbox([2-9]|[1-9][0-9]+)?\.layers/],domain:{x:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]},y:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]}},accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],dflt:"basic"},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},layers:{_isLinkedToArray:"layer",sourcetype:{valType:"enumerated",values:["geojson","vector"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},type:{valType:"enumerated",values:["circle","line","fill","symbol"],dflt:"circle"},below:{valType:"string",dflt:""},color:{valType:"color",dflt:o},opacity:{valType:"number",min:0,max:1,dflt:1},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2}},fill:{outlinecolor:{valType:"color",dflt:o}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},textfont:n.extendDeep({},i,{family:{dflt:"Open Sans Regular, Arial Unicode MS Regular"}}),textposition:n.extendFlat({},a,{arrayOk:!1})}}}},{"../../components/color":576,"../../lib":681,"../../traces/scatter/attributes":924,"../font_attributes":740}],776:[function(t,e,r){"use strict";function n(t,e,r){r("accesstoken"),r("style"),r("center.lon"),r("center.lat"),r("zoom"),r("bearing"),r("pitch"),o(t,e),e._input=t}function o(t,e){function r(t,e){return i.coerce(n,o,s.layers,t,e)}for(var n,o,a=t.layers||[],l=e.layers=[],u=0;u<a.length;u++)if(n=a[u],o={},i.isPlainObject(n)){var c=r("sourcetype");r("source"),"vector"===c&&r("sourcelayer");var p=r("type");r("below"),r("color"),r("opacity"),"circle"===p&&r("circle.radius"),"line"===p&&r("line.width"),"fill"===p&&r("fill.outlinecolor"),"symbol"===p&&(r("symbol.icon"),r("symbol.iconsize"),r("symbol.text"),i.coerceFont(r,"symbol.textfont"),r("symbol.textposition")),o._index=u,l.push(o)}}var i=t("../../lib"),a=t("../subplot_defaults"),s=t("./layout_attributes");e.exports=function(t,e,r){a(t,e,r,{type:"mapbox",attributes:s,handleDefaults:n,partition:"y"})}},{"../../lib":681,"../subplot_defaults":786,"./layout_attributes":775}],777:[function(t,e,r){"use strict";function n(t){this.id=t.id,this.gd=t.gd,this.container=t.container,this.isStatic=t.staticPlot;var e=t.fullLayout;this.uid=e._uid+"-"+this.id,this.opts=e[this.id],this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(e),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[]}function o(t){var e=p.style.values,r=p.style.dflt,n={};return u.isPlainObject(t)?(n.id=t.id,n.style=t):"string"==typeof t?(n.id=t,n.style=e.indexOf(t)!==-1?i(t):t):(n.id=r,n.style=i(r)),n}function i(t){return c.styleUrlPrefix+t+"-"+c.styleUrlSuffix}function a(t){return[t.lon,t.lat]}var s=t("mapbox-gl"),l=t("../cartesian/graph_interact"),u=t("../../lib"),c=t("./constants"),p=t("./layout_attributes"),f=t("./layers"),h=n.prototype;e.exports=function(t){var e=new n(t);return e},h.plot=function(t,e,r){var n=this,o=n.opts=e[this.id];n.map&&o.accesstoken!==n.accessToken&&(n.map.remove(),n.map=null,n.styleObj=null,n.traceHash=[],n.layerList={});var i;i=n.map?new Promise(function(r,o){n.updateMap(t,e,r,o)}):new Promise(function(r,o){n.createMap(t,e,r,o)}),r.push(i)},h.createMap=function(t,e,r,n){function i(){l.loneUnhover(e._toppaper)}var p=this,f=p.gd,h=p.opts,d=p.styleObj=o(h.style);p.accessToken=h.accesstoken;var y=p.map=new s.Map({container:p.div,style:d.style,center:a(h.center),zoom:h.zoom,bearing:h.bearing,pitch:h.pitch,interactive:!p.isStatic,preserveDrawingBuffer:p.isStatic}),m=c.controlContainerClassName,v=p.div.getElementsByClassName(m)[0];p.div.removeChild(v),p.rejectOnError(n),y.once("load",function(){p.updateData(t),p.updateLayout(e),p.resolveOnRender(r)}),y.on("moveend",function(t){if(p.map){var e=p.getView();if(h._input.center=h.center=e.center,h._input.zoom=h.zoom=e.zoom,h._input.bearing=h.bearing=e.bearing,h._input.pitch=h.pitch=e.pitch,t.originalEvent){var r={};r[p.id]=u.extendFlat({},e),f.emit("plotly_relayout",r)}}}),y.on("mousemove",function(t){var e=p.div.getBoundingClientRect();t.clientX=t.point.x+e.left,t.clientY=t.point.y+e.top,t.target.getBoundingClientRect=function(){return e},p.xaxis.p2c=function(){return t.lngLat.lng},p.yaxis.p2c=function(){return t.lngLat.lat},l.hover(f,t,p.id)}),y.on("click",function(){l.click(f,{target:!0})}),y.on("dragstart",i),y.on("zoomstart",i)},h.updateMap=function(t,e,r,n){var i=this,a=i.map;i.rejectOnError(n);var s=o(i.opts.style);i.styleObj.id!==s.id?(i.styleObj=s,a.setStyle(s.style),a.style.once("load",function(){i.traceHash={},i.updateData(t),i.updateLayout(e),i.resolveOnRender(r)})):(i.updateData(t),i.updateLayout(e),i.resolveOnRender(r))},h.updateData=function(t){var e,r,n,o,i=this.traceHash;for(n=0;n<t.length;n++){var a=t[n];r=a[0].trace,e=i[r.uid],e?e.update(a):r._module&&(i[r.uid]=r._module.plot(this,a))}var s=Object.keys(i);t:for(n=0;n<s.length;n++){var l=s[n];for(o=0;o<t.length;o++)if(r=t[o][0].trace,l===r.uid)continue t;e=i[l],e.dispose(),delete i[l]}},h.updateLayout=function(t){var e=this.map,r=this.opts;e.setCenter(a(r.center)),
e.setZoom(r.zoom),e.setBearing(r.bearing),e.setPitch(r.pitch),this.updateLayers(),this.updateFramework(t),this.map.resize()},h.resolveOnRender=function(t){var e=this.map;e.on("render",function r(){e.loaded()&&(e.off("render",r),t())})},h.rejectOnError=function(t){function e(){t(new Error(c.mapOnErrorMsg))}var r=this.map;r.once("error",e),r.once("style.error",e),r.once("source.error",e),r.once("tile.error",e),r.once("layer.error",e)},h.createFramework=function(t){var e=this,r=e.div=document.createElement("div");r.id=e.uid,r.style.position="absolute",e.container.appendChild(r),e.xaxis={_id:"x",c2p:function(t){return e.project(t).x}},e.yaxis={_id:"y",c2p:function(t){return e.project(t).y}},e.updateFramework(t)},h.updateFramework=function(t){var e=t[this.id].domain,r=t._size,n=this.div.style;n.width=r.w*(e.x[1]-e.x[0])+"px",n.height=r.h*(e.y[1]-e.y[0])+"px",n.left=r.l+e.x[0]*r.w+"px",n.top=r.t+(1-e.y[1])*r.h+"px",this.xaxis._offset=r.l+e.x[0]*r.w,this.xaxis._length=r.w*(e.x[1]-e.x[0]),this.yaxis._offset=r.t+(1-e.y[1])*r.h,this.yaxis._length=r.h*(e.y[1]-e.y[0])},h.updateLayers=function(){var t,e=this.opts,r=e.layers,n=this.layerList;if(r.length!==n.length){for(t=0;t<n.length;t++)n[t].dispose();for(n=this.layerList=[],t=0;t<r.length;t++)n.push(f(this,t,r[t]))}else for(t=0;t<r.length;t++)n[t].update(r[t])},h.destroy=function(){this.map&&(this.map.remove(),this.map=null),this.container.removeChild(this.div)},h.toImage=function(){return this.map.getCanvas().toDataURL()},h.initSource=function(t){var e={type:"geojson",data:{type:"Feature",geometry:{type:"Point",coordinates:[]}}};return this.map.addSource(t,e)},h.setSourceData=function(t,e){this.map.getSource(t).setData(e)},h.setOptions=function(t,e,r){for(var n=this.map,o=Object.keys(r),i=0;i<o.length;i++){var a=o[i];n[e](t,a,r[a])}},h.project=function(t){return this.map.project(new s.LngLat(t[0],t[1]))},h.getView=function(){var t=this.map,e=t.getCenter(),r={lon:e.lng,lat:e.lat};return{center:r,zoom:t.getZoom(),bearing:t.getBearing(),pitch:t.getPitch()}}},{"../../lib":681,"../cartesian/graph_interact":727,"./constants":771,"./layers":774,"./layout_attributes":775,"mapbox-gl":323}],778:[function(t,e,r){"use strict";e.exports={t:{valType:"number",dflt:0},r:{valType:"number",dflt:0},b:{valType:"number",dflt:0},l:{valType:"number",dflt:0}}},{}],779:[function(t,e,r){"use strict";function n(t,e){e.text("");var r=e.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(t._context.linkText+" "+String.fromCharCode(187));if(t._context.sendData)r.on("click",function(){h.sendDataToCloud(t)});else{var n=window.location.pathname.split("/"),o=window.location.search;r.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+n[2].split(".")[0]+"/"+n[1]+o})}}function o(t,e,r){var n=r._globalTransforms||[];if(Array.isArray(t.transforms)||0!==n.length)for(var o=t.transforms||[],i=n.concat(o),a=e.transforms=[],s=0;s<i.length;s++){var l,u=i[s],c=u.type,f=g[c];f||p.warn("Unrecognized transform type "+c+"."),f&&f.supplyDefaults?(l=f.supplyDefaults(u,e,r,t),l.type=c,l._module=f,p.pushUnique(r._transformModules,f)):l=p.extendFlat({},u),a.push(l)}}function i(t,e,r,n){for(var o=t.transforms,i=[t],a=0;a<o.length;a++){var s=o[a],l=g[s.type];l&&l.transform&&(i=l.transform(i,{transform:s,fullTrace:t,fullData:e,layout:r,fullLayout:n,transformIndex:a}))}return i}function a(t){var e,r={left:0,right:0,bottom:0,top:0};if(t)for(e in t)t.hasOwnProperty(e)&&(r.left+=t[e].left||0,r.right+=t[e].right||0,r.bottom+=t[e].bottom||0,r.top+=t[e].top||0);return r}var s=t("d3"),l=t("fast-isnumeric"),u=t("../plotly"),c=t("../registry"),p=t("../lib"),f=t("../components/color"),h=e.exports={},d=t("./animation_attributes"),y=t("./frame_attributes"),m=p.relinkPrivateKeys;p.extendFlat(h,c),h.attributes=t("./attributes"),h.attributes.type.values=h.allTypes,h.fontAttrs=t("./font_attributes"),h.layoutAttributes=t("./layout_attributes"),h.fontWeight="normal";var v=h.subplotsRegistry,g=h.transformsRegistry,b=t("../components/errorbars"),x=t("./command");h.executeAPICommand=x.executeAPICommand,h.computeAPICommandBindings=x.computeAPICommandBindings,h.manageCommandObserver=x.manageCommandObserver,h.hasSimpleAPICommandBindings=x.hasSimpleAPICommandBindings,h.findSubplotIds=function(t,e){var r=[];if(!h.subplotsRegistry[e])return r;for(var n=h.subplotsRegistry[e].attr,o=0;o<t.length;o++){var i=t[o];h.traceIs(i,e)&&r.indexOf(i[n])===-1&&r.push(i[n])}return r},h.getSubplotIds=function(t,e){var r=h.subplotsRegistry[e];if(!r)return[];if(!("cartesian"!==e||t._has&&t._has("cartesian")))return[];if(!("gl2d"!==e||t._has&&t._has("gl2d")))return[];if("cartesian"===e||"gl2d"===e)return Object.keys(t._plots||{});for(var n=r.idRegex,o=Object.keys(t),i=[],a=0;a<o.length;a++){var s=o[a];n.test(s)&&i.push(s)}var l=r.idRoot.length;return i.sort(function(t,e){var r=+(t.substr(l)||1),n=+(e.substr(l)||1);return r-n}),i},h.getSubplotData=function(t,e,r){if(!h.subplotsRegistry[e])return[];for(var n,o=h.subplotsRegistry[e].attr,i=[],a=0;a<t.length;a++)if(n=t[a],"gl2d"===e&&h.traceIs(n,"gl2d")){var s=u.Axes.subplotMatch,l="x"+r.match(s)[1],c="y"+r.match(s)[2];n[o[0]]===l&&n[o[1]]===c&&i.push(n)}else n[o]===r&&i.push(n);return i},h.getSubplotCalcData=function(t,e,r){if(!h.subplotsRegistry[e])return[];for(var n=h.subplotsRegistry[e].attr,o=[],i=0;i<t.length;i++){var a=t[i],s=a[0].trace;s[n]===r&&o.push(a)}return o},h.redrawText=function(t){if(!(t.data&&t.data[0]&&t.data[0].r))return new Promise(function(e){setTimeout(function(){c.getComponentMethod("annotations","draw")(t),c.getComponentMethod("legend","draw")(t),(t.calcdata||[]).forEach(function(t){t[0]&&t[0].t&&t[0].t.cb&&t[0].t.cb()}),e(h.previousPromises(t))},300)})},h.resize=function(t){return new Promise(function(e,r){t&&"none"!==s.select(t).style("display")||r(new Error("Resize must be passed a plot div element.")),t._redrawTimer&&clearTimeout(t._redrawTimer),t._redrawTimer=setTimeout(function(){if(t.layout.width&&t.layout.height)return void e(t);delete t.layout.width,delete t.layout.height;var r=t.changed;t.autoplay=!0,u.relayout(t,{autosize:!0}).then(function(){t.changed=r,e(t)})},100)})},h.previousPromises=function(t){if((t._promises||[]).length)return Promise.all(t._promises).then(function(){t._promises=[]})},h.addLinks=function(t){var e=t._fullLayout,r=e._paper.selectAll("text.js-plot-link-container").data([0]);r.enter().append("text").classed("js-plot-link-container",!0).style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:f.defaultLine,"pointer-events":"all"}).each(function(){var t=s.select(this);t.append("tspan").classed("js-link-to-tool",!0),t.append("tspan").classed("js-link-spacer",!0),t.append("tspan").classed("js-sourcelinks",!0)});var o=r.node(),i={y:e._paper.attr("height")-9};document.body.contains(o)&&o.getComputedTextLength()>=e.width-20?(i["text-anchor"]="start",i.x=5):(i["text-anchor"]="end",i.x=e._paper.attr("width")-7),r.attr(i);var a=r.select(".js-link-to-tool"),l=r.select(".js-link-spacer"),u=r.select(".js-sourcelinks");t._context.showSources&&t._context.showSources(t),t._context.showLink&&n(t,a),l.text(a.text()&&u.text()?" - ":"")},h.sendDataToCloud=function(t){t.emit("plotly_beforeexport");var e=window.PLOTLYENV&&window.PLOTLYENV.BASE_URL||"https://plot.ly",r=s.select(t).append("div").attr("id","hiddenform").style("display","none"),n=r.append("form").attr({action:e+"/external",method:"post",target:"_blank"}),o=n.append("input").attr({type:"text",name:"data"});return o.node().value=h.graphJson(t,!1,"keepdata"),n.node().submit(),r.remove(),t.emit("plotly_afterexport"),!1},h.supplyDefaults=function(t){var e,r=t._fullLayout||{},n=t._fullLayout={},o=t.layout||{},i=t._fullData||[],a=t._fullData=[],s=t.data||[];if(t._transitionData||h.createTransitionData(t),r._initialAutoSizeIsDone){var l=r.width,c=r.height;h.supplyLayoutGlobalDefaults(o,n),o.width||(n.width=l),o.height||(n.height=c)}else{h.supplyLayoutGlobalDefaults(o,n);var p=!o.width||!o.height,f=n.autosize,d=t._context&&t._context.autosizable,y=p&&(f||d);y?h.plotAutoSize(t,o,n):p&&h.sanitizeMargins(t),!f&&p&&(o.width=n.width,o.height=n.height)}n._initialAutoSizeIsDone=!0,n._dataLength=s.length,n._globalTransforms=(t._context||{}).globalTransforms,h.supplyDataDefaults(s,a,o,n),n._has=h._hasPlotType.bind(n);var v=n._modules;for(e=0;e<v.length;e++){var g=v[e];g.cleanData&&g.cleanData(a)}if(i.length===s.length)for(e=0;e<a.length;e++)m(a[e],i[e]);h.supplyLayoutModuleDefaults(o,n,a,t._transitionData),n._hasCartesian=n._has("cartesian"),n._hasGeo=n._has("geo"),n._hasGL3D=n._has("gl3d"),n._hasGL2D=n._has("gl2d"),n._hasTernary=n._has("ternary"),n._hasPie=n._has("pie"),h.cleanPlot(a,n,i,r),h.linkSubplots(a,n,i,r),m(n,r),h.doAutoMargin(t);var b=u.Axes.list(t);for(e=0;e<b.length;e++){var x=b[e];x.setScale()}if((t.calcdata||[]).length===a.length)for(e=0;e<a.length;e++){var _=a[e];(t.calcdata[e][0]||{}).trace=_}},h.createTransitionData=function(t){t._transitionData||(t._transitionData={}),t._transitionData._frames||(t._transitionData._frames=[]),t._transitionData._frameHash||(t._transitionData._frameHash={}),t._transitionData._counter||(t._transitionData._counter=0),t._transitionData._interruptCallbacks||(t._transitionData._interruptCallbacks=[])},h._hasPlotType=function(t){for(var e=this._basePlotModules||[],r=0;r<e.length;r++){var n=e[r];if(n.name===t)return!0}return!1},h.cleanPlot=function(t,e,r,n){var o,i,a=n._basePlotModules||[];for(o=0;o<a.length;o++){var s=a[o];s.clean&&s.clean(t,e,r,n)}var l=!!n._paper,u=!!n._infolayer;t:for(o=0;o<r.length;o++){var c=r[o],p=c.uid;for(i=0;i<t.length;i++){var f=t[i];if(p===f.uid)continue t}var h=".hm"+p+",.contour"+p+",#clip"+p+",.trace"+p;l&&n._paper.selectAll(h).remove(),u&&(n._infolayer.selectAll(".cb"+p).remove(),n._infolayer.selectAll("g.rangeslider-container").selectAll(h).remove())}},h.linkSubplots=function(t,e,r,n){for(var o=n._plots||{},i=e._plots={},a={_fullData:t,_fullLayout:e},s=u.Axes.getSubplots(a),l=0;l<s.length;l++){var c,p=s[l],f=o[p];f?(c=i[p]=f,c._scene2d&&c._scene2d.updateRefs(e)):(c=i[p]={},c.id=p),c.xaxis=u.Axes.getFromId(a,p,"x"),c.yaxis=u.Axes.getFromId(a,p,"y")}},h.supplyDataDefaults=function(t,e,r,n){function o(t){e.push(t);var r=t._module;r&&(p.pushUnique(a,r),p.pushUnique(s,t._module.basePlotModule),l++)}var a=n._modules=[],s=n._basePlotModules=[],l=0;n._transformModules=[];for(var u=0;u<t.length;u++){var c=t[u],f=h.supplyTraceDefaults(c,l,n,u);if(f.index=u,f._input=c,f._expandedIndex=l,f.transforms&&f.transforms.length)for(var d=i(f,e,r,n),y=0;y<d.length;y++){var m=d[y],v=h.supplyTraceDefaults(m,l,n,u);m.uid=v.uid=f.uid+y,v.index=u,v._input=c,v._fullInput=f,v._expandedIndex=l,v._expandedInput=m,o(v)}else f._fullInput=f,f._expandedInput=f,o(f)}},h.supplyAnimationDefaults=function(t){function e(e,r){return p.coerce(t||{},n,d,e,r)}t=t||{};var r,n={};if(e("mode"),e("direction"),e("fromcurrent"),Array.isArray(t.frame))for(n.frame=[],r=0;r<t.frame.length;r++)n.frame[r]=h.supplyAnimationFrameDefaults(t.frame[r]||{});else n.frame=h.supplyAnimationFrameDefaults(t.frame||{});if(Array.isArray(t.transition))for(n.transition=[],r=0;r<t.transition.length;r++)n.transition[r]=h.supplyAnimationTransitionDefaults(t.transition[r]||{});else n.transition=h.supplyAnimationTransitionDefaults(t.transition||{});return n},h.supplyAnimationFrameDefaults=function(t){function e(e,n){return p.coerce(t||{},r,d.frame,e,n)}var r={};return e("duration"),e("redraw"),r},h.supplyAnimationTransitionDefaults=function(t){function e(e,n){return p.coerce(t||{},r,d.transition,e,n)}var r={};return e("duration"),e("easing"),r},h.supplyFrameDefaults=function(t){function e(e,n){return p.coerce(t,r,y,e,n)}var r={};return e("group"),e("name"),e("traces"),e("baseframe"),e("data"),e("layout"),r},h.supplyTraceDefaults=function(t,e,r,n){function i(e,r){return p.coerce(t,s,h.attributes,e,r)}function a(e,r){if(h.traceIs(s,e))return p.coerce(t,s,h.subplotsRegistry[e].attributes,r)}var s={},l=f.defaults[e%f.defaults.length],u=i("visible");i("type"),i("uid"),i("name","trace "+n);for(var c=Object.keys(v),d=0;d<c.length;d++){var y=c[d];if(["cartesian","gl2d"].indexOf(y)===-1){var m=v[y].attr;m&&a(y,m)}}if(u){var g=h.getModule(s);s._module=g,i("hoverinfo",1===r._dataLength?"x+y+z+text":void 0),g&&g.supplyDefaults(t,s,l,r),h.traceIs(s,"noOpacity")||i("opacity"),a("cartesian","xaxis"),a("cartesian","yaxis"),a("gl2d","xaxis"),a("gl2d","yaxis"),h.traceIs(s,"showLegend")&&(i("showlegend"),i("legendgroup")),o(t,s,r)}return s},h.supplyLayoutGlobalDefaults=function(t,e){function r(r,n){return p.coerce(t,e,h.layoutAttributes,r,n)}var n=p.coerceFont(r,"font");r("title"),p.coerceFont(r,"titlefont",{family:n.family,size:Math.round(1.4*n.size),color:n.color}),r("autosize",!(t.width&&t.height)),r("width"),r("height"),r("margin.l"),r("margin.r"),r("margin.t"),r("margin.b"),r("margin.pad"),r("margin.autoexpand"),t.width&&t.height&&h.sanitizeMargins(e),r("paper_bgcolor"),r("separators"),r("hidesources"),r("smith");var o=c.getComponentMethod("calendars","handleDefaults");o(t,e,"calendar")},h.plotAutoSize=function(t,e,r){var n,o,i=t._context||{},s=i.frameMargins,u=p.isPlotDiv(t);if(u&&t.emit("plotly_autosize"),i.fillFrame)n=window.innerWidth,o=window.innerHeight,document.body.style.overflow="hidden";else if(l(s)&&s>0){var c=a(t._boundingBoxMargins),f=c.left+c.right,d=c.bottom+c.top,y=1-2*s,m=r._container&&r._container.node?r._container.node().getBoundingClientRect():{width:r.width,height:r.height};n=Math.round(y*(m.width-f)),o=Math.round(y*(m.height-d))}else{var v=u?window.getComputedStyle(t):{};n=parseFloat(v.width)||r.width,o=parseFloat(v.height)||r.height}var g=h.layoutAttributes.width.min,b=h.layoutAttributes.height.min;n<g&&(n=g),o<b&&(o=b);var x=!e.width&&Math.abs(r.width-n)>1,_=!e.height&&Math.abs(r.height-o)>1;(_||x)&&(x&&(r.width=n),_&&(r.height=o)),t._initialAutoSize||(t._initialAutoSize={width:n,height:o}),h.sanitizeMargins(r)},h.supplyLayoutModuleDefaults=function(t,e,r,n){var o,i;u.Axes.supplyLayoutDefaults(t,e,r);var a=e._basePlotModules;for(o=0;o<a.length;o++)i=a[o],"cartesian"!==i.name&&i.supplyLayoutDefaults&&i.supplyLayoutDefaults(t,e,r);var s=e._modules;for(o=0;o<s.length;o++)i=s[o],i.supplyLayoutDefaults&&i.supplyLayoutDefaults(t,e,r);var l=e._transformModules;for(o=0;o<l.length;o++)i=l[o],i.supplyLayoutDefaults&&i.supplyLayoutDefaults(t,e,r,n);u.Fx.supplyLayoutDefaults(t,e,r);var p=Object.keys(c.componentsRegistry);for(o=0;o<p.length;o++)i=c.componentsRegistry[p[o]],i.supplyLayoutDefaults&&i.supplyLayoutDefaults(t,e,r)},h.purge=function(t){var e=t._fullLayout||{};void 0!==e._glcontainer&&e._glcontainer.remove(),void 0!==e._geocontainer&&e._geocontainer.remove(),e._modeBar&&e._modeBar.destroy(),t._transitionData&&(t._transitionData._interruptCallbacks&&(t._transitionData._interruptCallbacks.length=0),t._transitionData._animationRaf&&window.cancelAnimationFrame(t._transitionData._animationRaf)),delete t.data,delete t.layout,delete t._fullData,delete t._fullLayout,delete t.calcdata,delete t.framework,delete t.empty,delete t.fid,delete t.undoqueue,delete t.undonum,delete t.autoplay,delete t.changed,delete t._tester,delete t._testref,delete t._promises,delete t._redrawTimer,delete t.firstscatter,delete t.hmlumcount,delete t.hmpixcount,delete t.numboxes,delete t._hoverTimer,delete t._lastHoverTime,delete t._transitionData,delete t._transitioning,delete t._initialAutoSize,t.removeAllListeners&&t.removeAllListeners()},h.style=function(t){for(var e=t._fullLayout._modules,r=0;r<e.length;r++){var n=e[r];n.style&&n.style(t)}},h.sanitizeMargins=function(t){if(t&&t.margin){var e,r=t.width,n=t.height,o=t.margin,i=r-(o.l+o.r),a=n-(o.t+o.b);i<0&&(e=(r-1)/(o.l+o.r),o.l=Math.floor(e*o.l),o.r=Math.floor(e*o.r)),a<0&&(e=(n-1)/(o.t+o.b),o.t=Math.floor(e*o.t),o.b=Math.floor(e*o.b))}},h.autoMargin=function(t,e,r){var n=t._fullLayout;if(n._pushmargin||(n._pushmargin={}),n.margin.autoexpand!==!1){if(r){var o=void 0===r.pad?12:r.pad;r.l+r.r>.5*n.width&&(r.l=r.r=0),r.b+r.t>.5*n.height&&(r.b=r.t=0),n._pushmargin[e]={l:{val:r.x,size:r.l+o},r:{val:r.x,size:r.r+o},b:{val:r.y,size:r.b+o},t:{val:r.y,size:r.t+o}}}else delete n._pushmargin[e];n._replotting||h.doAutoMargin(t)}},h.doAutoMargin=function(t){var e=t._fullLayout;e._size||(e._size={}),e._pushmargin||(e._pushmargin={});var r=e._size,n=JSON.stringify(r),o=Math.max(e.margin.l||0,0),i=Math.max(e.margin.r||0,0),a=Math.max(e.margin.t||0,0),s=Math.max(e.margin.b||0,0),c=e._pushmargin;if(e.margin.autoexpand!==!1){c.base={l:{val:0,size:o},r:{val:1,size:i},t:{val:1,size:a},b:{val:0,size:s}};for(var p=Object.keys(c),f=0;f<p.length;f++)for(var h=p[f],d=c[h].l||{},y=c[h].b||{},m=d.val,v=d.size,g=y.val,b=y.size,x=0;x<p.length;x++){var _=p[x];if(l(v)&&c[_].r){var w=c[_].r.val,T=c[_].r.size;if(w>m){var M=(v*w+(T-e.width)*m)/(w-m),S=(T*(1-m)+(v-e.width)*(1-w))/(w-m);M>=0&&S>=0&&M+S>o+i&&(o=M,i=S)}}if(l(b)&&c[_].t){var E=c[_].t.val,k=c[_].t.size;if(E>g){var C=(b*E+(k-e.height)*g)/(E-g),A=(k*(1-g)+(b-e.height)*(1-E))/(E-g);C>=0&&A>=0&&C+A>s+a&&(s=C,a=A)}}}}if(r.l=Math.round(o),r.r=Math.round(i),r.t=Math.round(a),r.b=Math.round(s),r.p=Math.round(e.margin.pad),r.w=Math.round(e.width)-r.l-r.r,r.h=Math.round(e.height)-r.t-r.b,!e._replotting&&"{}"!==n&&n!==JSON.stringify(e._size))return u.plot(t)},h.graphJson=function(t,e,r,n,o){function i(t){if("function"==typeof t)return null;if(p.isPlainObject(t)){var e,n,o={};for(e in t)if("function"!=typeof t[e]&&["_","["].indexOf(e.charAt(0))===-1){if("keepdata"===r){if("src"===e.substr(e.length-3))continue}else if("keepstream"===r){if(n=t[e+"src"],"string"==typeof n&&n.indexOf(":")>0&&!p.isPlainObject(t.stream))continue}else if("keepall"!==r&&(n=t[e+"src"],"string"==typeof n&&n.indexOf(":")>0))continue;o[e]=i(t[e])}return o}return Array.isArray(t)?t.map(i):p.isJSDate(t)?p.ms2DateTimeLocal(+t):t}(o&&e&&!t._fullData||o&&!e&&!t._fullLayout)&&h.supplyDefaults(t);var a=o?t._fullData:t.data,s=o?t._fullLayout:t.layout,l=(t._transitionData||{})._frames,u={data:(a||[]).map(function(t){var r=i(t);return e&&delete r.fit,r})};return e||(u.layout=i(s)),t.framework&&t.framework.isPolar&&(u=t.framework.getConfig()),l&&(u.frames=i(l)),"object"===n?u:JSON.stringify(u)},h.modifyFrames=function(t,e){var r,n,o,i=t._transitionData._frames,a=t._transitionData._frameHash;for(r=0;r<e.length;r++)switch(n=e[r],n.type){case"replace":o=n.value;var s=(i[n.index]||{}).name,l=o.name;i[n.index]=a[l]=o,l!==s&&(delete a[s],a[l]=o);break;case"insert":o=n.value,a[o.name]=o,i.splice(n.index,0,o);break;case"delete":o=i[n.index],delete a[o.name],i.splice(n.index,1)}return Promise.resolve()},h.computeFrame=function(t,e){var r,n,o,i,a=t._transitionData._frameHash;if(!e)throw new Error("computeFrame must be given a string frame name");var s=a[e.toString()];if(!s)return!1;for(var l=[s],u=[s.name];s.baseframe&&(s=a[s.baseframe.toString()])&&u.indexOf(s.name)===-1;)l.push(s),u.push(s.name);for(var c={};s=l.pop();)if(s.layout&&(c.layout=h.extendLayout(c.layout,s.layout)),s.data){if(c.data||(c.data=[]),n=s.traces,!n)for(n=[],r=0;r<s.data.length;r++)n[r]=r;for(c.traces||(c.traces=[]),r=0;r<s.data.length;r++)o=n[r],void 0!==o&&null!==o&&(i=c.traces.indexOf(o),i===-1&&(i=c.data.length,c.traces[i]=o),c.data[i]=h.extendTrace(c.data[i],s.data[r]))}return c},h.recomputeFrameHash=function(t){for(var e=t._transitionData._frameHash={},r=t._transitionData._frames,n=0;n<r.length;n++){var o=r[n];o&&o.name&&(e[o.name]=o)}},h.extendObjectWithContainers=function(t,e,r){var n,o,i,a,s,l,u,c,f=p.extendDeepNoArrays({},e||{}),d=p.expandObjectPaths(f),y={};if(r&&r.length)for(i=0;i<r.length;i++)n=p.nestedProperty(d,r[i]),o=n.get(),void 0===o?p.nestedProperty(y,r[i]).set(null):(n.set(null),p.nestedProperty(y,r[i]).set(o));if(t=p.extendDeepNoArrays(t||{},d),r&&r.length)for(i=0;i<r.length;i++)if(s=p.nestedProperty(y,r[i]),u=s.get()){for(l=p.nestedProperty(t,r[i]),c=l.get(),Array.isArray(c)||(c=[],l.set(c)),a=0;a<u.length;a++){var m=u[a];null===m?c[a]=null:c[a]=h.extendObjectWithContainers(c[a],m)}l.set(c)}return t},h.dataArrayContainers=["transforms"],h.layoutArrayContainers=c.layoutArrayContainers,h.extendTrace=function(t,e){return h.extendObjectWithContainers(t,e,h.dataArrayContainers)},h.extendLayout=function(t,e){return h.extendObjectWithContainers(t,e,h.layoutArrayContainers)},h.transition=function(t,e,r,n,o,i){function a(){var n;for(n=0;n<g.length;n++){var o=g[n],i=t._fullData[o],a=i._module;a&&(a.animatable&&x.push(o),t.data[g[n]]=h.extendTrace(t.data[g[n]],e[n]))}var s=p.expandObjectPaths(p.extendDeepNoArrays({},r)),l=/^[xy]axis[0-9]*$/;for(var u in s)l.test(u)&&delete s[u].range;return h.extendLayout(t.layout,s),h.supplyDefaults(t),h.doCalcdata(t),b.calc(t),Promise.resolve()}function s(t){var e=Promise.resolve();if(!t)return e;for(;t.length;)e=e.then(t.shift());return e}function l(t){if(t)for(;t.length;)t.shift()}function c(){return t.emit("plotly_transitioning",[]),new Promise(function(e){function n(){return l++,function(){c++,_||c!==l||f(e)}}t._transitioning=!0,i.duration>0&&(t._transitioningWithDuration=!0),t._transitionData._interruptCallbacks.push(function(){_=!0}),o.redraw&&t._transitionData._interruptCallbacks.push(function(){return u.redraw(t)}),t._transitionData._interruptCallbacks.push(function(){t.emit("plotly_transitioninterrupted",[])});var a,s,l=0,c=0,h=t._fullLayout._basePlotModules,d=!1;if(r)for(s=0;s<h.length;s++)if(h[s].transitionAxes){var y=p.expandObjectPaths(r);d=h[s].transitionAxes(t,y,i,n)||d}for(d?(a=p.extendFlat({},i),a.duration=0):a=i,s=0;s<h.length;s++)h[s].plot(t,x,a,n);setTimeout(n())})}function f(e){if(t._transitionData)return l(t._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(o.redraw)return u.redraw(t)}).then(function(){t._transitioning=!1,t._transitioningWithDuration=!1,t.emit("plotly_transitioned",[])}).then(e)}function d(){if(t._transitionData)return t._transitioning=!1,s(t._transitionData._interruptCallbacks)}var y,m,v=Array.isArray(e)?e.length:0,g=n.slice(0,v),x=[],_=!1;for(y=0;y<g.length;y++){m=g[y];var w=t._fullData[m],T=w._module;if(T&&!T.animatable){var M={};for(var S in e[y])M[S]=[e[y][S]]}}var E=[h.previousPromises,d,a,h.rehover,c],k=p.syncOrAsync(E,t);return k&&k.then||(k=Promise.resolve()),k.then(function(){return t})},h.doCalcdata=function(t,e){var r,n,o,i,a=u.Axes.list(t),s=t._fullData,l=t._fullLayout,p=!1,f=new Array(s.length),h=(t.calcdata||[]).slice(0);for(t.calcdata=f,t.firstscatter=!0,t.numboxes=0,t._hmpixcount=0,t._hmlumcount=0,l._piecolormap={},l._piedefaultcolorcount=0,o=0;o<a.length;o++)a[o]._categories=a[o]._initialCategories.slice(),"category"===a[o].type&&(p=!0);for(o=0;o<s.length;o++)Array.isArray(e)&&e.indexOf(o)===-1&&(f[o]=h[o]);var d=!1;for(o=0;o<s.length;o++)if(r=s[o],r.visible===!0&&r.transforms)for(n=r._module,n&&n.calc&&n.calc(t,r),i=0;i<r.transforms.length;i++){var y=r.transforms[i];n=g[y.type],n&&n.calcTransform&&(d=!0,n.calcTransform(t,r,y))}if(d)for(o=0;o<a.length;o++)a[o]._min=[],a[o]._max=[],a[o]._categories=[];for(o=0;o<s.length;o++){var m=[];r=s[o],r.visible===!0&&(n=r._module,n&&n.calc&&(m=n.calc(t,r))),Array.isArray(m)&&m[0]||(m=[{x:!1,y:!1,placeholder:!0}]),m[0].t||(m[0].t={}),m[0].trace=r,f[o]=m}if(p){var v=["annotations","shapes","images"];for(o=0;o<v.length;o++)c.getComponentMethod(v[o],"supplyLayoutDefaults")(t.layout,l,s)}},h.rehover=function(t){t._fullLayout._rehover&&t._fullLayout._rehover()},h.generalUpdatePerTraceModule=function(t,e,r){function n(t){for(var e=[],r=0;r<t.length;r++){var n=t[r],o=n[0].trace;o.visible===!0&&e.push(n)}return e}var o,i=t.traceHash,a={};for(o=0;o<e.length;o++){var s=e[o],l=s[0].trace;l.visible&&(a[l.type]=a[l.type]||[],a[l.type].push(s))}var u=Object.keys(i),c=Object.keys(a);for(o=0;o<u.length;o++){var p=u[o];if(c.indexOf(p)===-1){var f=i[p][0],h=f[0].trace;h.visible=!1,a[p]=[f]}}for(c=Object.keys(a),o=0;o<c.length;o++){var d=a[c[o]],y=d[0][0].trace._module;y.plot(t,n(d),r)}t.traceHash=a}},{"../components/color":576,"../components/errorbars":605,"../lib":681,"../plotly":715,"../registry":794,"./animation_attributes":716,"./attributes":718,"./command":739,"./font_attributes":740,"./frame_attributes":741,"./layout_attributes":770,d3:104,"fast-isnumeric":113}],780:[function(t,e,r){"use strict";var n=t("../../traces/scatter/attributes"),o=n.marker;e.exports={r:n.r,t:n.t,marker:{color:o.color,size:o.size,symbol:o.symbol,opacity:o.opacity}}},{"../../traces/scatter/attributes":924}],781:[function(t,e,r){"use strict";function n(t,e){var r={showline:{valType:"boolean"},showticklabels:{valType:"boolean"},tickorientation:{valType:"enumerated",values:["horizontal","vertical"]},ticklen:{valType:"number",min:0},tickcolor:{valType:"color"},ticksuffix:{valType:"string"},endpadding:{valType:"number"},visible:{valType:"boolean"}};return i({},e,r)}var o=t("../cartesian/layout_attributes"),i=t("../../lib/extend").extendFlat,a=i({},o.domain,{});e.exports={radialaxis:n("radial",{range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},domain:a,orientation:{valType:"number"}}),angularaxis:n("angular",{range:{valType:"info_array",items:[{valType:"number",dflt:0},{valType:"number",dflt:360}]},domain:a}),layout:{direction:{valType:"enumerated",values:["clockwise","counterclockwise"]},orientation:{valType:"angle"}}}},{"../../lib/extend":673,"../cartesian/layout_attributes":729}],782:[function(t,e,r){"use strict";var n=e.exports=t("./micropolar");n.manager=t("./micropolar_manager")},{"./micropolar":783,"./micropolar_manager":784}],783:[function(t,e,r){var n=t("d3"),o=t("../../lib"),i=o.extendDeepAll,a=e.exports={version:"0.2.2"};a.Axis=function(){function t(t){r=t||r;var u=l.data,p=l.layout;return("string"==typeof r||r.nodeName)&&(r=n.select(r)),r.datum(u).each(function(t,r){function l(t,e){return s(t)%360+p.orientation}var u=t.slice();c={data:a.util.cloneJson(u),layout:a.util.cloneJson(p)};var f=0;u.forEach(function(t,e){t.color||(t.color=p.defaultColorRange[f],f=(f+1)%p.defaultColorRange.length),t.strokeColor||(t.strokeColor="LinePlot"===t.geometry?t.color:n.rgb(t.color).darker().toString()),c.data[e].color=t.color,c.data[e].strokeColor=t.strokeColor,c.data[e].strokeDash=t.strokeDash,c.data[e].strokeSize=t.strokeSize});var h=u.filter(function(t,e){var r=t.visible;return"undefined"==typeof r||r===!0}),d=!1,y=h.map(function(t,e){return d=d||"undefined"!=typeof t.groupId,t});if(d){var m=n.nest().key(function(t,e){return"undefined"!=typeof t.groupId?t.groupId:"unstacked"}).entries(y),v=[],g=m.map(function(t,e){if("unstacked"===t.key)return t.values;var r=t.values[0].r.map(function(t,e){return 0});return t.values.forEach(function(t,e,n){t.yStack=[r],v.push(r),r=a.util.sumArrays(t.r,r)}),t.values});h=n.merge(g)}h.forEach(function(t,e){t.t=Array.isArray(t.t[0])?t.t:[t.t],t.r=Array.isArray(t.r[0])?t.r:[t.r]});var b=Math.min(p.width-p.margin.left-p.margin.right,p.height-p.margin.top-p.margin.bottom)/2;b=Math.max(10,b);var x,_=[p.margin.left+b,p.margin.top+b];if(d){var w=n.max(a.util.sumArrays(a.util.arrayLast(h).r[0],a.util.arrayLast(v)));x=[0,w]}else x=n.extent(a.util.flattenArray(h.map(function(t,e){return t.r})));p.radialAxis.domain!=a.DATAEXTENT&&(x[0]=0),o=n.scale.linear().domain(p.radialAxis.domain!=a.DATAEXTENT&&p.radialAxis.domain?p.radialAxis.domain:x).range([0,b]),c.layout.radialAxis.domain=o.domain();var T,M=a.util.flattenArray(h.map(function(t,e){return t.t})),S="string"==typeof M[0];S&&(M=a.util.deduplicate(M),T=M.slice(),M=n.range(M.length),h=h.map(function(t,e){var r=t;return t.t=[M],d&&(r.yStack=t.yStack),r}));var E=h.filter(function(t,e){return"LinePlot"===t.geometry||"DotPlot"===t.geometry}).length===h.length,k=null===p.needsEndSpacing?S||!E:p.needsEndSpacing,C=p.angularAxis.domain&&p.angularAxis.domain!=a.DATAEXTENT&&!S&&p.angularAxis.domain[0]>=0,A=C?p.angularAxis.domain:n.extent(M),P=Math.abs(M[1]-M[0]);E&&!S&&(P=0);var L=A.slice();k&&S&&(L[1]+=P);var D=p.angularAxis.ticksCount||4;D>8&&(D=D/(D/8)+D%8),p.angularAxis.ticksStep&&(D=(L[1]-L[0])/D);var O=p.angularAxis.ticksStep||(L[1]-L[0])/(D*(p.minorTicks+1));T&&(O=Math.max(Math.round(O),1)),L[2]||(L[2]=O);var I=n.range.apply(this,L);if(I=I.map(function(t,e){return parseFloat(t.toPrecision(12))}),s=n.scale.linear().domain(L.slice(0,2)).range("clockwise"===p.direction?[0,360]:[360,0]),c.layout.angularAxis.domain=s.domain(),c.layout.angularAxis.endPadding=k?P:0,e=n.select(this).select("svg.chart-root"),"undefined"==typeof e||e.empty()){var R="<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>",N=(new DOMParser).parseFromString(R,"application/xml"),j=this.appendChild(this.ownerDocument.importNode(N.documentElement,!0));e=n.select(j)}e.select(".guides-group").style({"pointer-events":"none"}),e.select(".angular.axis-group").style({"pointer-events":"none"}),e.select(".radial.axis-group").style({"pointer-events":"none"});var F,z=e.select(".chart-group"),B={fill:"none",stroke:p.tickColor},U={"font-size":p.font.size,"font-family":p.font.family,fill:p.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map(function(t,e){return" "+t+" 0 "+p.font.outlineColor}).join(",")};if(p.showLegend){F=e.select(".legend-group").attr({transform:"translate("+[b,p.margin.top]+")"}).style({display:"block"});var V=h.map(function(t,e){var r=a.util.cloneJson(t);return r.symbol="DotPlot"===t.geometry?t.dotType||"circle":"LinePlot"!=t.geometry?"square":"line",r.visibleInLegend="undefined"==typeof t.visibleInLegend||t.visibleInLegend,r.color="LinePlot"===t.geometry?t.strokeColor:t.color,r});a.Legend().config({data:h.map(function(t,e){return t.name||"Element"+e}),legendConfig:i({},a.Legend.defaultConfig().legendConfig,{container:F,elements:V,reverseOrder:p.legend.reverseOrder})})();var H=F.node().getBBox();b=Math.min(p.width-H.width-p.margin.left-p.margin.right,p.height-p.margin.top-p.margin.bottom)/2,b=Math.max(10,b),_=[p.margin.left+b,p.margin.top+b],o.range([0,b]),c.layout.radialAxis.domain=o.domain(),F.attr("transform","translate("+[_[0]+b,_[1]-b]+")")}else F=e.select(".legend-group").style({display:"none"});e.attr({width:p.width,height:p.height}).style({opacity:p.opacity}),z.attr("transform","translate("+_+")").style({cursor:"crosshair"});var W=[(p.width-(p.margin.left+p.margin.right+2*b+(H?H.width:0)))/2,(p.height-(p.margin.top+p.margin.bottom+2*b))/2];if(W[0]=Math.max(0,W[0]),W[1]=Math.max(0,W[1]),e.select(".outer-group").attr("transform","translate("+W+")"),p.title){var q=e.select("g.title-group text").style(U).text(p.title),G=q.node().getBBox();q.attr({x:_[0]-G.width/2,y:_[1]-b-20})}var Y=e.select(".radial.axis-group");if(p.radialAxis.gridLinesVisible){var X=Y.selectAll("circle.grid-circle").data(o.ticks(5));X.enter().append("circle").attr({class:"grid-circle"}).style(B),X.attr("r",o),X.exit().remove()}Y.select("circle.outside-circle").attr({r:b}).style(B);var K=e.select("circle.background-circle").attr({r:b}).style({fill:p.backgroundColor,stroke:p.stroke});if(p.radialAxis.visible){var Z=n.svg.axis().scale(o).ticks(5).tickSize(5);Y.call(Z).attr({transform:"rotate("+p.radialAxis.orientation+")"}),Y.selectAll(".domain").style(B),Y.selectAll("g>text").text(function(t,e){return this.textContent+p.radialAxis.ticksSuffix}).style(U).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(t,e){return"horizontal"===p.radialAxis.tickOrientation?"rotate("+-p.radialAxis.orientation+") translate("+[0,U["font-size"]]+")":"translate("+[0,U["font-size"]]+")"}}),Y.selectAll("g>line").style({stroke:"black"})}var J=e.select(".angular.axis-group").selectAll("g.angular-tick").data(I),$=J.enter().append("g").classed("angular-tick",!0);
J.attr({transform:function(t,e){return"rotate("+l(t,e)+")"}}).style({display:p.angularAxis.visible?"block":"none"}),J.exit().remove(),$.append("line").classed("grid-line",!0).classed("major",function(t,e){return e%(p.minorTicks+1)==0}).classed("minor",function(t,e){return!(e%(p.minorTicks+1)==0)}).style(B),$.selectAll(".minor").style({stroke:p.minorTickColor}),J.select("line.grid-line").attr({x1:p.tickLength?b-p.tickLength:0,x2:b}).style({display:p.angularAxis.gridLinesVisible?"block":"none"}),$.append("text").classed("axis-text",!0).style(U);var Q=J.select("text.axis-text").attr({x:b+p.labelOffset,dy:".35em",transform:function(t,e){var r=l(t,e),n=b+p.labelOffset,o=p.angularAxis.tickOrientation;return"horizontal"==o?"rotate("+-r+" "+n+" 0)":"radial"==o?r<270&&r>90?"rotate(180 "+n+" 0)":null:"rotate("+(r<=180&&r>0?-90:90)+" "+n+" 0)"}}).style({"text-anchor":"middle",display:p.angularAxis.labelsVisible?"block":"none"}).text(function(t,e){return e%(p.minorTicks+1)!=0?"":T?T[t]+p.angularAxis.ticksSuffix:t+p.angularAxis.ticksSuffix}).style(U);p.angularAxis.rewriteTicks&&Q.text(function(t,e){return e%(p.minorTicks+1)!=0?"":p.angularAxis.rewriteTicks(this.textContent,e)});var tt=n.max(z.selectAll(".angular-tick text")[0].map(function(t,e){return t.getCTM().e+t.getBBox().width}));F.attr({transform:"translate("+[b+tt,p.margin.top]+")"});var et=e.select("g.geometry-group").selectAll("g").size()>0,rt=e.select("g.geometry-group").selectAll("g.geometry").data(h);if(rt.enter().append("g").attr({class:function(t,e){return"geometry geometry"+e}}),rt.exit().remove(),h[0]||et){var nt=[];h.forEach(function(t,e){var r={};r.radialScale=o,r.angularScale=s,r.container=rt.filter(function(t,r){return r==e}),r.geometry=t.geometry,r.orientation=p.orientation,r.direction=p.direction,r.index=e,nt.push({data:t,geometryConfig:r})});var ot=n.nest().key(function(t,e){return"undefined"!=typeof t.data.groupId||"unstacked"}).entries(nt),it=[];ot.forEach(function(t,e){"unstacked"===t.key?it=it.concat(t.values.map(function(t,e){return[t]})):it.push(t.values)}),it.forEach(function(t,e){var r;r=Array.isArray(t)?t[0].geometryConfig.geometry:t.geometryConfig.geometry;var n=t.map(function(t,e){return i(a[r].defaultConfig(),t)});a[r]().config(n)()})}var at,st,lt=e.select(".guides-group"),ut=e.select(".tooltips-group"),ct=a.tooltipPanel().config({container:ut,fontSize:8})(),pt=a.tooltipPanel().config({container:ut,fontSize:8})(),ft=a.tooltipPanel().config({container:ut,hasTick:!0})();if(!S){var ht=lt.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});z.on("mousemove.angular-guide",function(t,e){var r=a.util.getMousePos(K).angle;ht.attr({x2:-b,transform:"rotate("+r+")"}).style({opacity:.5});var n=(r+180+360-p.orientation)%360;at=s.invert(n);var o=a.util.convertToCartesian(b+12,r+180);ct.text(a.util.round(at)).move([o[0]+_[0],o[1]+_[1]])}).on("mouseout.angular-guide",function(t,e){lt.select("line").style({opacity:0})})}var dt=lt.select("circle").style({stroke:"grey",fill:"none"});z.on("mousemove.radial-guide",function(t,e){var r=a.util.getMousePos(K).radius;dt.attr({r:r}).style({opacity:.5}),st=o.invert(a.util.getMousePos(K).radius);var n=a.util.convertToCartesian(r,p.radialAxis.orientation);pt.text(a.util.round(st)).move([n[0]+_[0],n[1]+_[1]])}).on("mouseout.radial-guide",function(t,e){dt.style({opacity:0}),ft.hide(),ct.hide(),pt.hide()}),e.selectAll(".geometry-group .mark").on("mouseover.tooltip",function(t,r){var o=n.select(this),i=o.style("fill"),s="black",l=o.style("opacity")||1;if(o.attr({"data-opacity":l}),"none"!=i){o.attr({"data-fill":i}),s=n.hsl(i).darker().toString(),o.style({fill:s,opacity:1});var u={t:a.util.round(t[0]),r:a.util.round(t[1])};S&&(u.t=T[t[0]]);var c="t: "+u.t+", r: "+u.r,p=this.getBoundingClientRect(),f=e.node().getBoundingClientRect(),h=[p.left+p.width/2-W[0]-f.left,p.top+p.height/2-W[1]-f.top];ft.config({color:s}).text(c),ft.move(h)}else i=o.style("stroke"),o.attr({"data-stroke":i}),s=n.hsl(i).darker().toString(),o.style({stroke:s,opacity:1})}).on("mousemove.tooltip",function(t,e){return 0==n.event.which&&void(n.select(this).attr("data-fill")&&ft.show())}).on("mouseout.tooltip",function(t,e){ft.hide();var r=n.select(this),o=r.attr("data-fill");o?r.style({fill:o,opacity:r.attr("data-opacity")}):r.style({stroke:r.attr("data-stroke"),opacity:r.attr("data-opacity")})})}),f}var e,r,o,s,l={data:[],layout:{}},u={},c={},p=n.dispatch("hover"),f={};return f.render=function(e){return t(e),this},f.config=function(t){if(!arguments.length)return l;var e=a.util.cloneJson(t);return e.data.forEach(function(t,e){l.data[e]||(l.data[e]={}),i(l.data[e],a.Axis.defaultConfig().data[0]),i(l.data[e],t)}),i(l.layout,a.Axis.defaultConfig().layout),i(l.layout,e.layout),this},f.getLiveConfig=function(){return c},f.getinputConfig=function(){return u},f.radialScale=function(t){return o},f.angularScale=function(t){return s},f.svg=function(){return e},n.rebind(f,p,"on"),f},a.Axis.defaultConfig=function(t,e){var r={data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:n.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}};return r},a.util={},a.DATAEXTENT="dataExtent",a.AREA="AreaChart",a.LINE="LinePlot",a.DOT="DotPlot",a.BAR="BarChart",a.util._override=function(t,e){for(var r in t)r in e&&(e[r]=t[r])},a.util._extend=function(t,e){for(var r in t)e[r]=t[r]},a.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},a.util.dataFromEquation2=function(t,e){var r=e||6,o=n.range(0,360+r,r).map(function(e,r){var n=e*Math.PI/180,o=t(n);return[e,o]});return o},a.util.dataFromEquation=function(t,e,r){var o=e||6,i=[],a=[];n.range(0,360+o,o).forEach(function(e,r){var n=e*Math.PI/180,o=t(n);i.push(e),a.push(o)});var s={t:i,r:a};return r&&(s.name=r),s},a.util.ensureArray=function(t,e){if("undefined"==typeof t)return null;var r=[].concat(t);return n.range(e).map(function(t,e){return r[e]||r[0]})},a.util.fillArrays=function(t,e,r){return e.forEach(function(e,n){t[e]=a.util.ensureArray(t[e],r)}),t},a.util.cloneJson=function(t){return JSON.parse(JSON.stringify(t))},a.util.validateKeys=function(t,e){"string"==typeof e&&(e=e.split("."));var r=e.shift();return t[r]&&(!e.length||objHasKeys(t[r],e))},a.util.sumArrays=function(t,e){return n.zip(t,e).map(function(t,e){return n.sum(t)})},a.util.arrayLast=function(t){return t[t.length-1]},a.util.arrayEqual=function(t,e){for(var r=Math.max(t.length,e.length,1);r-- >=0&&t[r]===e[r];);return r===-2},a.util.flattenArray=function(t){for(var e=[];!a.util.arrayEqual(e,t);)e=t,t=[].concat.apply([],t);return t},a.util.deduplicate=function(t){return t.filter(function(t,e,r){return r.indexOf(t)==e})},a.util.convertToCartesian=function(t,e){var r=e*Math.PI/180,n=t*Math.cos(r),o=t*Math.sin(r);return[n,o]},a.util.round=function(t,e){var r=e||2,n=Math.pow(10,r);return Math.round(t*n)/n},a.util.getMousePos=function(t){var e=n.mouse(t.node()),r=e[0],o=e[1],i={};return i.x=r,i.y=o,i.pos=e,i.angle=180*(Math.atan2(o,r)+Math.PI)/Math.PI,i.radius=Math.sqrt(r*r+o*o),i},a.util.duplicatesCount=function(t){for(var e,r={},n={},o=0,i=t.length;o<i;o++)e=t[o],e in r?(r[e]++,n[e]=r[e]):r[e]=1;return n},a.util.duplicates=function(t){return Object.keys(a.util.duplicatesCount(t))},a.util.translator=function(t,e,r,n){if(n){var o=r.slice();r=e,e=o}var i=e.reduce(function(t,e){if("undefined"!=typeof t)return t[e]},t);"undefined"!=typeof i&&(e.reduce(function(t,r,n){if("undefined"!=typeof t)return n===e.length-1&&delete t[r],t[r]},t),r.reduce(function(t,e,n){return"undefined"==typeof t[e]&&(t[e]={}),n===r.length-1&&(t[e]=i),t[e]},t))},a.PolyChart=function(){function t(){var t=r[0].geometryConfig,e=t.container;"string"==typeof e&&(e=n.select(e)),e.datum(r).each(function(e,r){function o(e,r){var n=t.radialScale(e[1]),o=(t.angularScale(e[0])+t.orientation)*Math.PI/180;return{r:n,t:o}}function i(t){var e=t.r*Math.cos(t.t),r=t.r*Math.sin(t.t);return{x:e,y:r}}var a=!!e[0].data.yStack,l=e.map(function(t,e){return a?n.zip(t.data.t[0],t.data.r[0],t.data.yStack[0]):n.zip(t.data.t[0],t.data.r[0])}),u=t.angularScale,c=t.radialScale.domain()[0],p={};p.bar=function(r,o,i){var a=e[i].data,s=t.radialScale(r[1])-t.radialScale(0),l=t.radialScale(r[2]||0),c=a.barWidth;n.select(this).attr({class:"mark bar",d:"M"+[[s+l,-c/2],[s+l,c/2],[l,c/2],[l,-c/2]].join("L")+"Z",transform:function(e,r){return"rotate("+(t.orientation+u(e[0]))+")"}})},p.dot=function(t,r,a){var s=t[2]?[t[0],t[1]+t[2]]:t,l=n.svg.symbol().size(e[a].data.dotSize).type(e[a].data.dotType)(t,r);n.select(this).attr({class:"mark dot",d:l,transform:function(t,e){var r=i(o(s));return"translate("+[r.x,r.y]+")"}})};var f=n.svg.line.radial().interpolate(e[0].data.lineInterpolation).radius(function(e){return t.radialScale(e[1])}).angle(function(e){return t.angularScale(e[0])*Math.PI/180});p.line=function(r,o,i){var a=r[2]?l[i].map(function(t,e){return[t[0],t[1]+t[2]]}):l[i];if(n.select(this).each(p.dot).style({opacity:function(t,r){return+e[i].data.dotVisible},fill:m.stroke(r,o,i)}).attr({class:"mark dot"}),!(o>0)){var s=n.select(this.parentNode).selectAll("path.line").data([0]);s.enter().insert("path"),s.attr({class:"line",d:f(a),transform:function(e,r){return"rotate("+(t.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(t,e){return m.fill(r,o,i)},"fill-opacity":0,stroke:function(t,e){return m.stroke(r,o,i)},"stroke-width":function(t,e){return m["stroke-width"](r,o,i)},"stroke-dasharray":function(t,e){return m["stroke-dasharray"](r,o,i)},opacity:function(t,e){return m.opacity(r,o,i)},display:function(t,e){return m.display(r,o,i)}})}};var h=t.angularScale.range(),d=Math.abs(h[1]-h[0])/l[0].length*Math.PI/180,y=n.svg.arc().startAngle(function(t){return-d/2}).endAngle(function(t){return d/2}).innerRadius(function(e){return t.radialScale(c+(e[2]||0))}).outerRadius(function(e){return t.radialScale(c+(e[2]||0))+t.radialScale(e[1])});p.arc=function(e,r,o){n.select(this).attr({class:"mark arc",d:y,transform:function(e,r){return"rotate("+(t.orientation+u(e[0])+90)+")"}})};var m={fill:function(t,r,n){return e[n].data.color},stroke:function(t,r,n){return e[n].data.strokeColor},"stroke-width":function(t,r,n){return e[n].data.strokeSize+"px"},"stroke-dasharray":function(t,r,n){return s[e[n].data.strokeDash]},opacity:function(t,r,n){return e[n].data.opacity},display:function(t,r,n){return"undefined"==typeof e[n].data.visible||e[n].data.visible?"block":"none"}},v=n.select(this).selectAll("g.layer").data(l);v.enter().append("g").attr({class:"layer"});var g=v.selectAll("path.mark").data(function(t,e){return t});g.enter().append("path").attr({class:"mark"}),g.style(m).each(p[t.geometryType]),g.exit().remove(),v.exit().remove()})}var e,r=[a.PolyChart.defaultConfig()],o=n.dispatch("hover"),s={solid:"none",dash:[5,2],dot:[2,5]};return t.config=function(t){return arguments.length?(t.forEach(function(t,e){r[e]||(r[e]={}),i(r[e],a.PolyChart.defaultConfig()),i(r[e],t)}),this):r},t.getColorScale=function(){return e},n.rebind(t,o,"on"),t},a.PolyChart.defaultConfig=function(){var t={data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:n.scale.category20()}};return t},a.BarChart=function(){return a.PolyChart()},a.BarChart.defaultConfig=function(){var t={geometryConfig:{geometryType:"bar"}};return t},a.AreaChart=function(){return a.PolyChart()},a.AreaChart.defaultConfig=function(){var t={geometryConfig:{geometryType:"arc"}};return t},a.DotPlot=function(){return a.PolyChart()},a.DotPlot.defaultConfig=function(){var t={geometryConfig:{geometryType:"dot",dotType:"circle"}};return t},a.LinePlot=function(){return a.PolyChart()},a.LinePlot.defaultConfig=function(){var t={geometryConfig:{geometryType:"line"}};return t},a.Legend=function(){function t(){var r=e.legendConfig,o=e.data.map(function(t,e){return[].concat(t).map(function(t,n){var o=i({},r.elements[e]);return o.name=t,o.color=[].concat(r.elements[e].color)[n],o})}),a=n.merge(o);a=a.filter(function(t,e){return r.elements[e]&&(r.elements[e].visibleInLegend||"undefined"==typeof r.elements[e].visibleInLegend)}),r.reverseOrder&&(a=a.reverse());var s=r.container;("string"==typeof s||s.nodeName)&&(s=n.select(s));var l=a.map(function(t,e){return t.color}),u=r.fontSize,c=null==r.isContinuous?"number"==typeof a[0]:r.isContinuous,p=c?r.height:u*a.length,f=s.classed("legend-group",!0),h=f.selectAll("svg").data([0]),d=h.enter().append("svg").attr({width:300,height:p+u,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});d.append("g").classed("legend-axis",!0),d.append("g").classed("legend-marks",!0);var y=n.range(a.length),m=n.scale[c?"linear":"ordinal"]().domain(y).range(l),v=n.scale[c?"linear":"ordinal"]().domain(y)[c?"range":"rangePoints"]([0,p]),g=function(t,e){var r=3*e;return"line"===t?"M"+[[-e/2,-e/12],[e/2,-e/12],[e/2,e/12],[-e/2,e/12]]+"Z":n.svg.symbolTypes.indexOf(t)!=-1?n.svg.symbol().type(t).size(r)():n.svg.symbol().type("square").size(r)()};if(c){var b=h.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(l);b.enter().append("stop"),b.attr({offset:function(t,e){return e/(l.length-1)*100+"%"}}).style({"stop-color":function(t,e){return t}}),h.append("rect").classed("legend-mark",!0).attr({height:r.height,width:r.colorBandWidth,fill:"url(#grad1)"})}else{var x=h.select(".legend-marks").selectAll("path.legend-mark").data(a);x.enter().append("path").classed("legend-mark",!0),x.attr({transform:function(t,e){return"translate("+[u/2,v(e)+u/2]+")"},d:function(t,e){var r=t.symbol;return g(r,u)},fill:function(t,e){return m(e)}}),x.exit().remove()}var _=n.svg.axis().scale(v).orient("right"),w=h.select("g.legend-axis").attr({transform:"translate("+[c?r.colorBandWidth:u,u/2]+")"}).call(_);return w.selectAll(".domain").style({fill:"none",stroke:"none"}),w.selectAll("line").style({fill:"none",stroke:c?r.textColor:"none"}),w.selectAll("text").style({fill:r.textColor,"font-size":r.fontSize}).text(function(t,e){return a[e].name}),t}var e=a.Legend.defaultConfig(),r=n.dispatch("hover");return t.config=function(t){return arguments.length?(i(e,t),this):e},n.rebind(t,r,"on"),t},a.Legend.defaultConfig=function(t,e){var r={data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}};return r},a.tooltipPanel=function(){var t,e,r,o={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},s="tooltip-"+a.tooltipPanel.uid++,l=10,u=function(){t=o.container.selectAll("g."+s).data([0]);var n=t.enter().append("g").classed(s,!0).style({"pointer-events":"none",display:"none"});return r=n.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),e=n.append("text").attr({dx:o.padding+l,dy:.3*+o.fontSize}),u};return u.text=function(i){var a=n.hsl(o.color).l,s=a>=.5?"#aaa":"white",c=a>=.5?"black":"white",p=i||"";e.style({fill:c,"font-size":o.fontSize+"px"}).text(p);var f=o.padding,h=e.node().getBBox(),d={fill:o.color,stroke:s,"stroke-width":"2px"},y=h.width+2*f+l,m=h.height+2*f;return r.attr({d:"M"+[[l,-m/2],[l,-m/4],[o.hasTick?0:l,0],[l,m/4],[l,m/2],[y,m/2],[y,-m/2]].join("L")+"Z"}).style(d),t.attr({transform:"translate("+[l,-m/2+2*f]+")"}),t.style({display:"block"}),u},u.move=function(e){if(t)return t.attr({transform:"translate("+[e[0],e[1]]+")"}).style({display:"block"}),u},u.hide=function(){if(t)return t.style({display:"none"}),u},u.show=function(){if(t)return t.style({display:"block"}),u},u.config=function(t){return i(o,t),u},u},a.tooltipPanel.uid=1,a.adapter={},a.adapter.plotly=function(){var t={};return t.convert=function(t,e){var r={};if(t.data&&(r.data=t.data.map(function(t,r){var n=i({},t),o=[[n,["marker","color"],["color"]],[n,["marker","opacity"],["opacity"]],[n,["marker","line","color"],["strokeColor"]],[n,["marker","line","dash"],["strokeDash"]],[n,["marker","line","width"],["strokeSize"]],[n,["marker","symbol"],["dotType"]],[n,["marker","size"],["dotSize"]],[n,["marker","barWidth"],["barWidth"]],[n,["line","interpolation"],["lineInterpolation"]],[n,["showlegend"],["visibleInLegend"]]];return o.forEach(function(t,r){a.util.translator.apply(null,t.concat(e))}),e||delete n.marker,e&&delete n.groupId,e?("LinePlot"===n.geometry?(n.type="scatter",n.dotVisible===!0?(delete n.dotVisible,n.mode="lines+markers"):n.mode="lines"):"DotPlot"===n.geometry?(n.type="scatter",n.mode="markers"):"AreaChart"===n.geometry?n.type="area":"BarChart"===n.geometry&&(n.type="bar"),delete n.geometry):("scatter"===n.type?"lines"===n.mode?n.geometry="LinePlot":"markers"===n.mode?n.geometry="DotPlot":"lines+markers"===n.mode&&(n.geometry="LinePlot",n.dotVisible=!0):"area"===n.type?n.geometry="AreaChart":"bar"===n.type&&(n.geometry="BarChart"),delete n.mode,delete n.type),n}),!e&&t.layout&&"stack"===t.layout.barmode)){var o=a.util.duplicates(r.data.map(function(t,e){return t.geometry}));r.data.forEach(function(t,e){var n=o.indexOf(t.geometry);n!=-1&&(r.data[e].groupId=n)})}if(t.layout){var s=i({},t.layout),l=[[s,["plot_bgcolor"],["backgroundColor"]],[s,["showlegend"],["showLegend"]],[s,["radialaxis"],["radialAxis"]],[s,["angularaxis"],["angularAxis"]],[s.angularaxis,["showline"],["gridLinesVisible"]],[s.angularaxis,["showticklabels"],["labelsVisible"]],[s.angularaxis,["nticks"],["ticksCount"]],[s.angularaxis,["tickorientation"],["tickOrientation"]],[s.angularaxis,["ticksuffix"],["ticksSuffix"]],[s.angularaxis,["range"],["domain"]],[s.angularaxis,["endpadding"],["endPadding"]],[s.radialaxis,["showline"],["gridLinesVisible"]],[s.radialaxis,["tickorientation"],["tickOrientation"]],[s.radialaxis,["ticksuffix"],["ticksSuffix"]],[s.radialaxis,["range"],["domain"]],[s.angularAxis,["showline"],["gridLinesVisible"]],[s.angularAxis,["showticklabels"],["labelsVisible"]],[s.angularAxis,["nticks"],["ticksCount"]],[s.angularAxis,["tickorientation"],["tickOrientation"]],[s.angularAxis,["ticksuffix"],["ticksSuffix"]],[s.angularAxis,["range"],["domain"]],[s.angularAxis,["endpadding"],["endPadding"]],[s.radialAxis,["showline"],["gridLinesVisible"]],[s.radialAxis,["tickorientation"],["tickOrientation"]],[s.radialAxis,["ticksuffix"],["ticksSuffix"]],[s.radialAxis,["range"],["domain"]],[s.font,["outlinecolor"],["outlineColor"]],[s.legend,["traceorder"],["reverseOrder"]],[s,["labeloffset"],["labelOffset"]],[s,["defaultcolorrange"],["defaultColorRange"]]];if(l.forEach(function(t,r){a.util.translator.apply(null,t.concat(e))}),e?("undefined"!=typeof s.tickLength&&(s.angularaxis.ticklen=s.tickLength,delete s.tickLength),s.tickColor&&(s.angularaxis.tickcolor=s.tickColor,delete s.tickColor)):(s.angularAxis&&"undefined"!=typeof s.angularAxis.ticklen&&(s.tickLength=s.angularAxis.ticklen),s.angularAxis&&"undefined"!=typeof s.angularAxis.tickcolor&&(s.tickColor=s.angularAxis.tickcolor)),s.legend&&"boolean"!=typeof s.legend.reverseOrder&&(s.legend.reverseOrder="normal"!=s.legend.reverseOrder),s.legend&&"boolean"==typeof s.legend.traceorder&&(s.legend.traceorder=s.legend.traceorder?"reversed":"normal",delete s.legend.reverseOrder),s.margin&&"undefined"!=typeof s.margin.t){var u=["t","r","b","l","pad"],c=["top","right","bottom","left","pad"],p={};n.entries(s.margin).forEach(function(t,e){p[c[u.indexOf(t.key)]]=t.value}),s.margin=p}e&&(delete s.needsEndSpacing,delete s.minorTickColor,delete s.minorTicks,delete s.angularaxis.ticksCount,delete s.angularaxis.ticksCount,delete s.angularaxis.ticksStep,delete s.angularaxis.rewriteTicks,delete s.angularaxis.nticks,delete s.radialaxis.ticksCount,delete s.radialaxis.ticksCount,delete s.radialaxis.ticksStep,delete s.radialaxis.rewriteTicks,delete s.radialaxis.nticks),r.layout=s}return r},t}},{"../../lib":681,d3:104}],784:[function(t,e,r){"use strict";var n=t("d3"),o=t("../../lib"),i=t("../../components/color"),a=t("./micropolar"),s=t("./undo_manager"),l=o.extendDeepAll,u=e.exports={};u.framework=function(t){function e(e,o){return o&&(p=o),n.select(n.select(p).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),r=r?l(r,e):e,i||(i=a.Axis()),c=a.adapter.plotly().convert(r),i.config(c).render(p),t.data=r.data,t.layout=r.layout,u.fillLayout(t),r}var r,o,i,c,p,f=new s;return e.isPolar=!0,e.svg=function(){return i.svg()},e.getConfig=function(){return r},e.getLiveConfig=function(){return a.adapter.plotly().convert(i.getLiveConfig(),!0)},e.getLiveScales=function(){return{t:i.angularScale(),r:i.radialScale()}},e.setUndoPoint=function(){var t=this,e=a.util.cloneJson(r);!function(e,r){f.add({undo:function(){r&&t(r)},redo:function(){t(e)}})}(e,o),o=a.util.cloneJson(e)},e.undo=function(){f.undo()},e.redo=function(){f.redo()},e},u.fillLayout=function(t){var e=n.select(t).selectAll(".plot-container"),r=e.selectAll(".svg-container"),o=t.framework&&t.framework.svg&&t.framework.svg(),a={width:800,height:600,paper_bgcolor:i.background,_container:e,_paperdiv:r,_paper:o};t._fullLayout=l(a,t.layout)}},{"../../components/color":576,"../../lib":681,"./micropolar":783,"./undo_manager":785,d3:104}],785:[function(t,e,r){"use strict";e.exports=function(){function t(t,e){return t?(o=!0,t[e](),o=!1,this):this}var e,r=[],n=-1,o=!1;return{add:function(t){return o?this:(r.splice(n+1,r.length-n),r.push(t),n=r.length-1,this)},setCallback:function(t){e=t},undo:function(){var o=r[n];return o?(t(o,"undo"),n-=1,e&&e(o.undo),this):this},redo:function(){var o=r[n+1];return o?(t(o,"redo"),n+=1,e&&e(o.redo),this):this},clear:function(){r=[],n=-1},hasUndo:function(){return n!==-1},hasRedo:function(){return n<r.length-1},getCommands:function(){return r},getPreviousCommand:function(){return r[n-1]},getIndex:function(){return n}}}},{}],786:[function(t,e,r){"use strict";var n=t("../lib"),o=t("./plots");e.exports=function(t,e,r,i){function a(t,e){return n.coerce(s,l,c,t,e)}for(var s,l,u=i.type,c=i.attributes,p=i.handleDefaults,f=i.partition||"x",h=o.findSubplotIds(r,u),d=h.length,y=0;y<d;y++){var m=h[y];s=t[m]?t[m]:t[m]={},e[m]=l={},a("domain."+f,[y/d,(y+1)/d]),a("domain."+{x:"y",y:"x"}[f]),i.id=m,p(s,l,a,i)}}},{"../lib":681,"./plots":779}],787:[function(t,e,r){"use strict";var n=t("./ternary"),o=t("../../plots/plots");r.name="ternary",r.attr="subplot",r.idRoot="ternary",r.idRegex=/^ternary([2-9]|[1-9][0-9]+)?$/,r.attrRegex=/^ternary([2-9]|[1-9][0-9]+)?$/,r.attributes=t("./layout/attributes"),r.layoutAttributes=t("./layout/layout_attributes"),r.supplyLayoutDefaults=t("./layout/defaults"),r.plot=function(t){for(var e=t._fullLayout,r=t.calcdata,i=o.getSubplotIds(e,"ternary"),a=0;a<i.length;a++){var s=i[a],l=o.getSubplotCalcData(r,"ternary",s),u=e[s]._subplot;u||(u=new n({id:s,graphDiv:t,container:e._ternarylayer.node()},e),e[s]._subplot=u),u.plot(l,e,t._promises)}},r.clean=function(t,e,r,n){for(var i=o.getSubplotIds(n,"ternary"),a=0;a<i.length;a++){var s=i[a],l=n[s]._subplot;!e[s]&&l&&(l.plotContainer.remove(),l.clipDef.remove())}}},{"../../plots/plots":779,"./layout/attributes":788,"./layout/defaults":791,"./layout/layout_attributes":792,"./ternary":793}],788:[function(t,e,r){"use strict";e.exports={subplot:{valType:"subplotid",dflt:"ternary"}}},{}],789:[function(t,e,r){"use strict";var n=t("../../cartesian/layout_attributes"),o=t("../../../lib/extend").extendFlat;e.exports={title:n.title,titlefont:n.titlefont,color:n.color,tickmode:n.tickmode,nticks:o({},n.nticks,{dflt:6,min:1}),tick0:n.tick0,dtick:n.dtick,tickvals:n.tickvals,ticktext:n.ticktext,ticks:n.ticks,ticklen:n.ticklen,tickwidth:n.tickwidth,tickcolor:n.tickcolor,showticklabels:n.showticklabels,showtickprefix:n.showtickprefix,tickprefix:n.tickprefix,showticksuffix:n.showticksuffix,ticksuffix:n.ticksuffix,showexponent:n.showexponent,exponentformat:n.exponentformat,separatethousands:n.separatethousands,tickfont:n.tickfont,tickangle:n.tickangle,tickformat:n.tickformat,hoverformat:n.hoverformat,showline:o({},n.showline,{dflt:!0}),linecolor:n.linecolor,linewidth:n.linewidth,showgrid:o({},n.showgrid,{dflt:!0}),gridcolor:n.gridcolor,gridwidth:n.gridwidth,min:{valType:"number",dflt:0,min:0}}},{"../../../lib/extend":673,"../../cartesian/layout_attributes":729}],790:[function(t,e,r){"use strict";var n=t("tinycolor2").mix,o=t("../../../lib"),i=t("./axis_attributes"),a=t("../../cartesian/tick_label_defaults"),s=t("../../cartesian/tick_mark_defaults"),l=t("../../cartesian/tick_value_defaults");e.exports=function(t,e,r){function u(r,n){return o.coerce(t,e,i,r,n)}e.type="linear";var c=u("color"),p=c===t.color?c:r.font.color,f=e._name,h=f.charAt(0).toUpperCase(),d="Component "+h,y=u("title",d);e._hovertitle=y===d?y:h,o.coerceFont(u,"titlefont",{family:r.font.family,size:Math.round(1.2*r.font.size),color:p}),u("min"),l(t,e,u,"linear"),a(t,e,u,"linear",{noHover:!1}),s(t,e,u,{outerTicks:!0});var m=u("showticklabels");m&&(o.coerceFont(u,"tickfont",{family:r.font.family,size:r.font.size,color:p}),u("tickangle"),u("tickformat")),u("hoverformat");var v=u("showline");v&&(u("linecolor",c),u("linewidth"));var g=u("showgrid");g&&(u("gridcolor",n(c,r.bgColor,60).toRgbString()),u("gridwidth"))}},{"../../../lib":681,"../../cartesian/tick_label_defaults":735,"../../cartesian/tick_mark_defaults":736,"../../cartesian/tick_value_defaults":737,"./axis_attributes":789,tinycolor2:512}],791:[function(t,e,r){"use strict";function n(t,e,r,n){var i=r("bgcolor"),a=r("sum");n.bgColor=o.combine(i,n.paper_bgcolor);for(var u,c,p,f=0;f<l.length;f++)u=l[f],c=t[u]||{},p=e[u]={_name:u},s(c,p,n);var h=e.aaxis,d=e.baxis,y=e.caxis;h.min+d.min+y.min>=a&&(h.min=0,d.min=0,y.min=0,t.aaxis&&delete t.aaxis.min,t.baxis&&delete t.baxis.min,t.caxis&&delete t.caxis.min)}var o=t("../../../components/color"),i=t("../../subplot_defaults"),a=t("./layout_attributes"),s=t("./axis_defaults"),l=["aaxis","baxis","caxis"];e.exports=function(t,e,r){i(t,e,r,{type:"ternary",attributes:a,handleDefaults:n,font:e.font,paper_bgcolor:e.paper_bgcolor})}},{"../../../components/color":576,"../../subplot_defaults":786,"./axis_defaults":790,"./layout_attributes":792}],792:[function(t,e,r){"use strict";var n=t("../../../components/color/attributes"),o=t("./axis_attributes");e.exports={domain:{x:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]},y:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]}},bgcolor:{valType:"color",dflt:n.background},sum:{valType:"number",dflt:1,min:0},aaxis:o,baxis:o,caxis:o}},{"../../../components/color/attributes":575,"./axis_attributes":789}],793:[function(t,e,r){"use strict";function n(t,e){this.id=t.id,this.graphDiv=t.graphDiv,this.init(e),this.makeFramework()}function o(t){i.select(t).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}var i=t("d3"),a=t("tinycolor2"),s=t("../../plotly"),l=t("../../lib"),u=t("../../components/color"),c=t("../../components/drawing"),p=t("../cartesian/set_convert"),f=t("../../lib/extend").extendFlat,h=t("../plots"),d=t("../cartesian/axes"),y=t("../../components/dragelement"),m=t("../../components/titles"),v=t("../cartesian/select"),g=t("../cartesian/constants"),b=t("../cartesian/graph_interact");e.exports=n;var x=n.prototype;x.init=function(t){this.container=t._ternarylayer,this.defs=t._defs,this.layoutId=t._uid,this.traceHash={}},x.plot=function(t,e){var r=this,n=e[r.id],o=e._size;r.adjustLayout(n,o),h.generalUpdatePerTraceModule(r,t,n),r.layers.plotbg.select("path").call(u.fill,n.bgcolor)},x.makeFramework=function(){var t=this,e=t.defs.selectAll("g.clips").data([0]);e.enter().append("g").classed("clips",!0);var r="clip"+t.layoutId+t.id;t.clipDef=e.selectAll("#"+r).data([0]),t.clipDef.enter().append("clipPath").attr("id",r).append("path").attr("d","M0,0Z"),t.plotContainer=t.container.selectAll("g."+t.id).data([0]),t.plotContainer.enter().append("g").classed(t.id,!0),t.layers={};var n=["draglayer","plotbg","backplot","grids","frontplot","zoom","aaxis","baxis","caxis","axlines"],o=t.plotContainer.selectAll("g.toplevel").data(n);o.enter().append("g").attr("class",function(t){return"toplevel "+t}).each(function(e){var r=i.select(this);t.layers[e]=r,"frontplot"===e?r.append("g").classed("scatterlayer",!0):"backplot"===e?r.append("g").classed("maplayer",!0):"plotbg"===e?r.append("path").attr("d","M0,0Z"):"axlines"===e&&r.selectAll("path").data(["aline","bline","cline"]).enter().append("path").each(function(t){i.select(this).classed(t,!0)})});var a=t.plotContainer.select(".grids").selectAll("g.grid").data(["agrid","bgrid","cgrid"]);a.enter().append("g").attr("class",function(t){return"grid "+t}).each(function(e){t.layers[e]=i.select(this)}),t.plotContainer.selectAll(".backplot,.frontplot,.grids").call(c.setClipUrl,r),t.graphDiv._context.staticPlot||t.initInteractions()};var _=Math.sqrt(4/3);x.adjustLayout=function(t,e){var r,n,o,i,a,s,l=this,c=t.domain,h=(c.x[0]+c.x[1])/2,d=(c.y[0]+c.y[1])/2,y=c.x[1]-c.x[0],m=c.y[1]-c.y[0],v=y*e.w,g=m*e.h,b=t.sum,x=t.aaxis.min,w=t.baxis.min,T=t.caxis.min;v>_*g?(i=g,o=i*_):(o=v,i=o/_),a=y*o/v,s=m*i/g,r=e.l+e.w*h-o/2,n=e.t+e.h*(1-d)-i/2,l.x0=r,l.y0=n,l.w=o,l.h=i,l.sum=b,l.xaxis={type:"linear",range:[x+2*T-b,b-x-2*w],domain:[h-a/2,h+a/2],_id:"x"},p(l.xaxis,l.graphDiv._fullLayout),l.xaxis.setScale(),l.yaxis={type:"linear",range:[x,b-w-T],domain:[d-s/2,d+s/2],_id:"y"},p(l.yaxis,l.graphDiv._fullLayout),l.yaxis.setScale();var M=l.yaxis.domain[0],S=l.aaxis=f({},t.aaxis,{range:[x,b-w-T],side:"left",_counterangle:30,tickangle:(+t.aaxis.tickangle||0)-30,domain:[M,M+s*_],_axislayer:l.layers.aaxis,_gridlayer:l.layers.agrid,_pos:0,_id:"y",_length:o,_gridpath:"M0,0l"+i+",-"+o/2});p(S,l.graphDiv._fullLayout),S.setScale();var E=l.baxis=f({},t.baxis,{range:[b-x-T,w],side:"bottom",_counterangle:30,domain:l.xaxis.domain,_axislayer:l.layers.baxis,_gridlayer:l.layers.bgrid,_counteraxis:l.aaxis,_pos:0,_id:"x",_length:o,_gridpath:"M0,0l-"+o/2+",-"+i});p(E,l.graphDiv._fullLayout),E.setScale(),S._counteraxis=E;var k=l.caxis=f({},t.caxis,{range:[b-x-w,T],side:"right",_counterangle:30,tickangle:(+t.caxis.tickangle||0)+30,domain:[M,M+s*_],_axislayer:l.layers.caxis,_gridlayer:l.layers.cgrid,_counteraxis:l.baxis,_pos:0,_id:"y",_length:o,_gridpath:"M0,0l-"+i+","+o/2});p(k,l.graphDiv._fullLayout),k.setScale();var C="M"+r+","+(n+i)+"h"+o+"l-"+o/2+",-"+i+"Z";l.clipDef.select("path").attr("d",C),l.layers.plotbg.select("path").attr("d",C);var A="translate("+r+","+n+")";l.plotContainer.selectAll(".scatterlayer,.maplayer,.zoom").attr("transform",A);var P="translate("+r+","+(n+i)+")";l.layers.baxis.attr("transform",P),l.layers.bgrid.attr("transform",P);var L="translate("+(r+o/2)+","+n+")rotate(30)";l.layers.aaxis.attr("transform",L),l.layers.agrid.attr("transform",L);var D="translate("+(r+o/2)+","+n+")rotate(-30)";l.layers.caxis.attr("transform",D),l.layers.cgrid.attr("transform",D),l.drawAxes(!0),l.plotContainer.selectAll(".crisp").classed("crisp",!1);var O=l.layers.axlines;O.select(".aline").attr("d",S.showline?"M"+r+","+(n+i)+"l"+o/2+",-"+i:"M0,0").call(u.stroke,S.linecolor||"#000").style("stroke-width",(S.linewidth||0)+"px"),
O.select(".bline").attr("d",E.showline?"M"+r+","+(n+i)+"h"+o:"M0,0").call(u.stroke,E.linecolor||"#000").style("stroke-width",(E.linewidth||0)+"px"),O.select(".cline").attr("d",k.showline?"M"+(r+o/2)+","+n+"l"+o/2+","+i:"M0,0").call(u.stroke,k.linecolor||"#000").style("stroke-width",(k.linewidth||0)+"px")},x.drawAxes=function(t){var e=this,r=e.graphDiv,n=e.id.substr(7)+"title",o=e.aaxis,i=e.baxis,a=e.caxis;if(d.doTicks(r,o,!0),d.doTicks(r,i,!0),d.doTicks(r,a,!0),t){var s=Math.max(o.showticklabels?o.tickfont.size/2:0,(a.showticklabels?.75*a.tickfont.size:0)+("outside"===a.ticks?.87*a.ticklen:0));m.draw(r,"a"+n,{propContainer:o,propName:e.id+".aaxis.title",dfltName:"Component A",attributes:{x:e.x0+e.w/2,y:e.y0-o.titlefont.size/3-s,"text-anchor":"middle"}});var l=(i.showticklabels?i.tickfont.size:0)+("outside"===i.ticks?i.ticklen:0)+3;m.draw(r,"b"+n,{propContainer:i,propName:e.id+".baxis.title",dfltName:"Component B",attributes:{x:e.x0-l,y:e.y0+e.h+.83*i.titlefont.size+l,"text-anchor":"middle"}}),m.draw(r,"c"+n,{propContainer:a,propName:e.id+".caxis.title",dfltName:"Component C",attributes:{x:e.x0+e.w+l,y:e.y0+e.h+.83*a.titlefont.size+l,"text-anchor":"middle"}})}};var w=g.MINZOOM/2+.87,T="m-0.87,.5h"+w+"v3h-"+(w+5.2)+"l"+(w/2+2.6)+",-"+(.87*w+4.5)+"l2.6,1.5l-"+w/2+","+.87*w+"Z",M="m0.87,.5h-"+w+"v3h"+(w+5.2)+"l-"+(w/2+2.6)+",-"+(.87*w+4.5)+"l-2.6,1.5l"+w/2+","+.87*w+"Z",S="m0,1l"+w/2+","+.87*w+"l2.6,-1.5l-"+(w/2+2.6)+",-"+(.87*w+4.5)+"l-"+(w/2+2.6)+","+(.87*w+4.5)+"l2.6,1.5l"+w/2+",-"+.87*w+"Z",E="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",k=!0;x.initInteractions=function(){function t(t,e,r){var n=j.getBoundingClientRect();x=e-n.left,w=r-n.top,C={a:N.aaxis.range[0],b:N.baxis.range[1],c:N.caxis.range[1]},P=C,A=N.aaxis.range[1]-C.a,L=a(N.graphDiv._fullLayout[N.id].bgcolor).getLuminance(),D="M0,"+N.h+"L"+N.w/2+", 0L"+N.w+","+N.h+"Z",O=!1,I=z.append("path").attr("class","zoombox").style({fill:L>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",D),R=z.append("path").attr("class","zoombox-corners").style({fill:u.background,stroke:u.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),d()}function e(t,e){return 1-e/N.h}function r(t,e){return 1-(t+(N.h-e)/Math.sqrt(3))/N.w}function n(t,e){return(t-(N.h-e)/Math.sqrt(3))/N.w}function i(t,o){var i=x+t,a=w+o,s=Math.max(0,Math.min(1,e(x,w),e(i,a))),l=Math.max(0,Math.min(1,r(x,w),r(i,a))),u=Math.max(0,Math.min(1,n(x,w),n(i,a))),c=(s/2+u)*N.w,p=(1-s/2-l)*N.w,f=(c+p)/2,h=p-c,d=(1-s)*N.h,y=d-h/_;h<g.MINZOOM?(P=C,I.attr("d",D),R.attr("d","M0,0Z")):(P={a:C.a+s*A,b:C.b+l*A,c:C.c+u*A},I.attr("d",D+"M"+c+","+d+"H"+p+"L"+f+","+y+"L"+c+","+d+"Z"),R.attr("d","M"+x+","+w+E+"M"+c+","+d+T+"M"+p+","+d+M+"M"+f+","+y+S)),O||(I.transition().style("fill",L>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),R.transition().style("opacity",1).duration(200),O=!0)}function c(t,e){if(P===C)return 2===e&&m(),o(F);o(F);var r={};r[N.id+".aaxis.min"]=P.a,r[N.id+".baxis.min"]=P.b,r[N.id+".caxis.min"]=P.c,s.relayout(F,r),k&&F.data&&F._context.showTips&&(l.notifier("Double-click to<br>zoom back out","long"),k=!1)}function p(){C={a:N.aaxis.range[0],b:N.baxis.range[1],c:N.caxis.range[1]},P=C}function f(t,e){var r=t/N.xaxis._m,n=e/N.yaxis._m;P={a:C.a-n,b:C.b+(r+n)/2,c:C.c-(r-n)/2};var o=[P.a,P.b,P.c].sort(),i={a:o.indexOf(P.a),b:o.indexOf(P.b),c:o.indexOf(P.c)};o[0]<0&&(o[1]+o[0]/2<0?(o[2]+=o[0]+o[1],o[0]=o[1]=0):(o[2]+=o[0]/2,o[1]+=o[0]/2,o[0]=0),P={a:o[i.a],b:o[i.b],c:o[i.c]},e=(C.a-P.a)*N.yaxis._m,t=(C.c-P.c-C.b+P.b)*N.xaxis._m);var a="translate("+(N.x0+t)+","+(N.y0+e)+")";N.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",a),N.aaxis.range=[P.a,N.sum-P.b-P.c],N.baxis.range=[N.sum-P.a-P.c,P.b],N.caxis.range=[N.sum-P.a-P.b,P.c],N.drawAxes(!1),N.plotContainer.selectAll(".crisp").classed("crisp",!1)}function h(t,e){if(t){var r={};r[N.id+".aaxis.min"]=P.a,r[N.id+".baxis.min"]=P.b,r[N.id+".caxis.min"]=P.c,s.relayout(F,r)}else 2===e&&m()}function d(){N.plotContainer.selectAll(".select-outline").remove()}function m(){var t={};t[N.id+".aaxis.min"]=0,t[N.id+".baxis.min"]=0,t[N.id+".caxis.min"]=0,F.emit("plotly_doubleclick",null),s.relayout(F,t)}var x,w,C,A,P,L,D,O,I,R,N=this,j=N.layers.plotbg.select("path").node(),F=N.graphDiv,z=N.layers.zoom,B={element:j,gd:F,plotinfo:{plot:z},doubleclick:m,subplot:N.id,prepFn:function(e,r,n){B.xaxes=[N.xaxis],B.yaxes=[N.yaxis];var o=F._fullLayout.dragmode;e.shiftKey&&(o="pan"===o?"zoom":"pan"),"lasso"===o?B.minDrag=1:B.minDrag=void 0,"zoom"===o?(B.moveFn=i,B.doneFn=c,t(e,r,n)):"pan"===o?(B.moveFn=f,B.doneFn=h,p(),d()):"select"!==o&&"lasso"!==o||v(e,r,n,B,o)}};j.onmousemove=function(t){b.hover(F,t,N.id),F._fullLayout._lasthover=j,F._fullLayout._hoversubplot=N.id},j.onmouseout=function(t){F._dragging||y.unhover(F,t)},j.onclick=function(t){b.click(F,t)},y.init(B)}},{"../../components/color":576,"../../components/dragelement":597,"../../components/drawing":599,"../../components/titles":652,"../../lib":681,"../../lib/extend":673,"../../plotly":715,"../cartesian/axes":720,"../cartesian/constants":725,"../cartesian/graph_interact":727,"../cartesian/select":733,"../cartesian/set_convert":734,"../plots":779,d3:104,tinycolor2:512}],794:[function(t,e,r){"use strict";function n(t){if(t.layoutAttributes){var e=t.layoutAttributes._arrayAttrRegexps;if(e)for(var n=0;n<e.length;n++)s(r.layoutArrayRegexes,e[n])}}function o(t){return"object"==typeof t&&(t=t.type),t}var i=t("./lib/loggers"),a=t("./lib/noop"),s=t("./lib/push_unique"),l=t("./plots/attributes");r.modules={},r.allCategories={},r.allTypes=[],r.subplotsRegistry={},r.transformsRegistry={},r.componentsRegistry={},r.layoutArrayContainers=[],r.layoutArrayRegexes=[],r.register=function(t,e,n,o){if(r.modules[e])return void i.log("Type "+e+" already registered");for(var a={},s=0;s<n.length;s++)a[n[s]]=!0,r.allCategories[n[s]]=!0;r.modules[e]={_module:t,categories:a},o&&Object.keys(o).length&&(r.modules[e].meta=o),r.allTypes.push(e)},r.registerSubplot=function(t){var e=t.name;return r.subplotsRegistry[e]?void i.log("Plot type "+e+" already registered."):(n(t),void(r.subplotsRegistry[e]=t))},r.registerComponent=function(t){var e=t.name;r.componentsRegistry[e]=t,t.layoutAttributes&&(t.layoutAttributes._isLinkedToArray&&s(r.layoutArrayContainers,e),n(t))},r.getModule=function(t){if(void 0!==t.r)return i.warn("Tried to put a polar trace on an incompatible graph of cartesian data. Ignoring this dataset.",t),!1;var e=r.modules[o(t)];return!!e&&e._module},r.traceIs=function(t,e){if(t=o(t),"various"===t)return!1;var n=r.modules[t];return n||(t&&"area"!==t&&i.log("Unrecognized trace type "+t+"."),n=r.modules[l.type.dflt]),!!n.categories[e]},r.getComponentMethod=function(t,e){var n=r.componentsRegistry[t];return n?n[e]||a:a}},{"./lib/loggers":684,"./lib/noop":688,"./lib/push_unique":692,"./plots/attributes":718}],795:[function(t,e,r){"use strict";function n(t){var e;switch(t){case"themes__thumb":e={autosize:!0,width:150,height:150,title:"",showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":e={title:"",hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:e={}}return e}function o(t){var e=["xaxis","yaxis","zaxis"];return e.indexOf(t.slice(0,5))>-1}var i=t("../lib"),a=t("../plots/plots"),s=i.extendFlat,l=i.extendDeep;e.exports=function(t,e){t.framework&&t.framework.isPolar&&(t=t.framework.getConfig());var r,i=t.data,u=t.layout,c=l([],i),p=l({},u,n(e.tileClass));if(e.width&&(p.width=e.width),e.height&&(p.height=e.height),"thumbnail"===e.tileClass||"themes__thumb"===e.tileClass){p.annotations=[];var f=Object.keys(p);for(r=0;r<f.length;r++)o(f[r])&&(p[f[r]].title="");for(r=0;r<c.length;r++){var h=c[r];h.showscale=!1,h.marker&&(h.marker.showscale=!1),"pie"===h.type&&(h.textposition="none")}}if(Array.isArray(e.annotations))for(r=0;r<e.annotations.length;r++)p.annotations.push(e.annotations[r]);var d=a.getSubplotIds(p,"gl3d");if(d.length){var y={};for("thumbnail"===e.tileClass&&(y={title:"",showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),r=0;r<d.length;r++){var m=p[d[r]];m.xaxis||(m.xaxis={}),m.yaxis||(m.yaxis={}),m.zaxis||(m.zaxis={}),s(m.xaxis,y),s(m.yaxis,y),s(m.zaxis,y),m._scene=null}}var v=document.createElement("div");e.tileClass&&(v.className=e.tileClass);var g={gd:v,td:v,layout:p,data:c,config:{staticPlot:void 0===e.staticPlot||e.staticPlot,plotGlPixelRatio:void 0===e.plotGlPixelRatio?2:e.plotGlPixelRatio,displaylogo:e.displaylogo||!1,showLink:e.showLink||!1,showTips:e.showTips||!1}};return"transparent"!==e.setBackground&&(g.config.setBackground=e.setBackground||"opaque"),g.gd.defaultLayout=n(e.tileClass),g}},{"../lib":681,"../plots/plots":779}],796:[function(t,e,r){"use strict";function n(t,e){return e=e||{},e.format=e.format||"png",new Promise(function(r,n){t._snapshotInProgress&&n(new Error("Snapshotting already in progress.")),i.isIE()&&"svg"!==e.format&&n(new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.")),t._snapshotInProgress=!0;var s=o(t,e),l=e.filename||t.fn||"newplot";l+="."+e.format,s.then(function(e){return t._snapshotInProgress=!1,a(e,l)}).then(function(t){r(t)}).catch(function(e){t._snapshotInProgress=!1,n(e)})})}var o=t("../plot_api/to_image"),i=t("../lib"),a=t("./filesaver");e.exports=n},{"../lib":681,"../plot_api/to_image":713,"./filesaver":797}],797:[function(t,e,r){"use strict";var n=function(t,e){var r=document.createElement("a"),n="download"in r,o=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),i=new Promise(function(i,a){"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent)&&a(new Error("IE < 10 unsupported")),o&&(document.location.href="data:application/octet-stream"+t.slice(t.search(/[,;]/)),i(e)),e||(e="download"),n&&(r.href=t,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),i(e)),"undefined"!=typeof navigator&&navigator.msSaveBlob&&(navigator.msSaveBlob(new Blob([t]),e),i(e)),a(new Error("download error"))});return i};e.exports=n},{}],798:[function(t,e,r){"use strict";r.getDelay=function(t){return t._has&&(t._has("gl3d")||t._has("gl2d"))?500:0},r.getRedrawFunc=function(t){if(!(t.data&&t.data[0]&&t.data[0].r))return function(){(t.calcdata||[]).forEach(function(t){t[0]&&t[0].t&&t[0].t.cb&&t[0].t.cb()})}}},{}],799:[function(t,e,r){"use strict";var n=t("./helpers"),o={getDelay:n.getDelay,getRedrawFunc:n.getRedrawFunc,clone:t("./cloneplot"),toSVG:t("./tosvg"),svgToImg:t("./svgtoimg"),toImage:t("./toimage"),downloadImage:t("./download")};e.exports=o},{"./cloneplot":795,"./download":796,"./helpers":798,"./svgtoimg":800,"./toimage":801,"./tosvg":802}],800:[function(t,e,r){"use strict";function n(t){var e=t.emitter||new i,r=new Promise(function(n,i){var a=window.Image,s=t.svg,l=t.format||"png";if(o.isIE()&&(s=s.replace(/"/gi,"'"),s=s.replace(/(\('#)(.*)('\))/gi,'("$2")'),s=s.replace(/(\\')/gi,'"'),"svg"!==l)){var u=new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.");return i(u),t.promise?r:e.emit("error",u)}var c=t.canvas,p=c.getContext("2d"),f=new a,h="data:image/svg+xml,"+encodeURIComponent(s);c.height=t.height||150,c.width=t.width||300,f.onload=function(){var r;switch("svg"!==l&&p.drawImage(f,0,0),l){case"jpeg":r=c.toDataURL("image/jpeg");break;case"png":r=c.toDataURL("image/png");break;case"webp":r=c.toDataURL("image/webp");break;case"svg":r=h;break;default:if(i(new Error("Image format is not jpeg, png or svg")),!t.promise)return e.emit("error","Image format is not jpeg, png or svg")}n(r),t.promise||e.emit("success",r)},f.onerror=function(r){if(i(r),!t.promise)return e.emit("error",r)},f.src=h});return t.promise?r:e}var o=t("../lib"),i=t("events").EventEmitter;e.exports=n},{"../lib":681,events:111}],801:[function(t,e,r){"use strict";function n(t,e){function r(){var t=s.getDelay(f._fullLayout);setTimeout(function(){var t=u(f),r=document.createElement("canvas");r.id=a.randstr(),n=c({format:e.format,width:f._fullLayout.width,height:f._fullLayout.height,canvas:r,emitter:n,svg:t}),n.clean=function(){f&&document.body.removeChild(f)}},t)}var n=new o,p=l(t,{format:"png"}),f=p.gd;f.style.position="absolute",f.style.left="-5000px",document.body.appendChild(f);var h=s.getRedrawFunc(f);return i.plot(f,p.data,p.layout,p.config).then(h).then(r).catch(function(t){n.emit("error",t)}),n}var o=t("events").EventEmitter,i=t("../plotly"),a=t("../lib"),s=t("./helpers"),l=t("./cloneplot"),u=t("./tosvg"),c=t("./svgtoimg");e.exports=n},{"../lib":681,"../plotly":715,"./cloneplot":795,"./helpers":798,"./svgtoimg":800,"./tosvg":802,events:111}],802:[function(t,e,r){"use strict";var n=t("d3"),o=t("../lib/svg_text_utils"),i=t("../components/drawing"),a=t("../components/color"),s=t("../constants/xmlns_namespaces");e.exports=function(t,e){var r,l=t._fullLayout,u=l._paper,c=l._toppaper;u.insert("rect",":first-child").call(i.setRect,0,0,l.width,l.height).call(a.fill,l.paper_bgcolor);var p=l._basePlotModules||[];for(r=0;r<p.length;r++){var f=p[r];f.toSVG&&f.toSVG(t)}if(c){var h=c.node().childNodes,d=Array.prototype.slice.call(h);for(r=0;r<d.length;r++){var y=d[r];y.childNodes.length&&u.node().appendChild(y)}}l._draggers&&l._draggers.remove(),u.node().style.background="",u.selectAll("text").attr("data-unformatted",null).each(function(){var t=n.select(this);if("hidden"===t.style("visibility"))return void t.remove();t.style("visibility","visible");var e=t.style("font-family");e&&e.indexOf('"')!==-1&&t.style("font-family",e.replace(/"/g,"TOBESTRIPPED"))}),"pdf"!==e&&"eps"!==e||u.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),u.node().setAttributeNS(s.xmlns,"xmlns",s.svg),u.node().setAttributeNS(s.xmlns,"xmlns:xlink",s.xlink);var m=(new window.XMLSerializer).serializeToString(u.node());return m=o.html_entity_decode(m),m=o.xml_entity_encode(m),m=m.replace(/("TOBESTRIPPED)|(TOBESTRIPPED")/g,"'")}},{"../components/color":576,"../components/drawing":599,"../constants/xmlns_namespaces":665,"../lib/svg_text_utils":700,d3:104}],803:[function(t,e,r){"use strict";var n=t("../../lib").mergeArray;e.exports=function(t,e){n(e.text,t,"tx");var r=e.marker;if(r){n(r.opacity,t,"mo"),n(r.color,t,"mc");var o=r.line;o&&(n(o.color,t,"mlc"),n(o.width,t,"mlw"))}}},{"../../lib":681}],804:[function(t,e,r){"use strict";var n=t("../scatter/attributes"),o=t("../../components/colorscale/color_attributes"),i=t("../../components/errorbars/attributes"),a=t("../../components/colorbar/attributes"),s=t("../../plots/font_attributes"),l=t("../../lib/extend").extendFlat,u=t("../../lib/extend").extendDeep,c=u({},s);c.family.arrayOk=!0,c.size.arrayOk=!0,c.color.arrayOk=!0;var p=n.marker,f=p.line,h=l({},f.width,{dflt:0}),d=l({},{width:h},o("marker.line")),y=l({},{line:d},o("marker"),{showscale:p.showscale,colorbar:a});e.exports={x:n.x,x0:n.x0,dx:n.dx,y:n.y,y0:n.y0,dy:n.dy,text:n.text,textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"none",arrayOk:!0},textfont:l({},c,{}),insidetextfont:l({},c,{}),outsidetextfont:l({},c,{}),orientation:{valType:"enumerated",values:["v","h"]},base:{valType:"any",dflt:null,arrayOk:!0},offset:{valType:"number",dflt:null,arrayOk:!0},width:{valType:"number",dflt:null,min:0,arrayOk:!0},marker:y,r:n.r,t:n.t,error_y:i,error_x:i,_deprecated:{bardir:{valType:"enumerated",values:["v","h"]}}}},{"../../components/colorbar/attributes":577,"../../components/colorscale/color_attributes":583,"../../components/errorbars/attributes":601,"../../lib/extend":673,"../../plots/font_attributes":740,"../scatter/attributes":924}],805:[function(t,e,r){"use strict";var n=t("fast-isnumeric"),o=t("../../plots/cartesian/axes"),i=t("../../components/colorscale/has_colorscale"),a=t("../../components/colorscale/calc"),s=t("./arrays_to_calcdata");e.exports=function(t,e){var r,l,u,c,p,f=o.getFromId(t,e.xaxis||"x"),h=o.getFromId(t,e.yaxis||"y"),d=e.orientation||(e.x&&!e.y?"h":"v");"h"===d?(r=f,u=f.makeCalcdata(e,"x"),l=h.makeCalcdata(e,"y"),p=e.xcalendar):(r=h,u=h.makeCalcdata(e,"y"),l=f.makeCalcdata(e,"x"),p=e.ycalendar);var y=Math.min(l.length,u.length),m=[];for(c=0;c<y;c++)n(l[c])&&m.push({p:l[c]});var v,g=e.base;if(Array.isArray(g)){for(c=0;c<Math.min(g.length,m.length);c++)v=r.d2c(g[c],0,p),m[c].b=n(v)?v:0;for(;c<m.length;c++)m[c].b=0}else for(v=r.d2c(g,0,p),v=n(v)?v:0,c=0;c<m.length;c++)m[c].b=v;for(c=0;c<m.length;c++)n(u[c])&&(m[c].s=u[c]);return i(e,"marker")&&a(e,e.marker.color,"marker","c"),i(e,"marker.line")&&a(e,e.marker.line.color,"marker.line","c"),s(m,e),m}},{"../../components/colorscale/calc":582,"../../components/colorscale/has_colorscale":589,"../../plots/cartesian/axes":720,"./arrays_to_calcdata":803,"fast-isnumeric":113}],806:[function(t,e,r){"use strict";var n=t("../../lib"),o=t("../../components/color"),i=t("../scatter/xy_defaults"),a=t("../bar/style_defaults"),s=t("../../components/errorbars/defaults"),l=t("./attributes");e.exports=function(t,e,r,u){function c(r,o){return n.coerce(t,e,l,r,o)}var p=n.coerceFont,f=i(t,e,u,c);if(!f)return void(e.visible=!1);c("orientation",e.x&&!e.y?"h":"v"),c("base"),c("offset"),c("width"),c("text");var h=c("textposition"),d=Array.isArray(h)||"auto"===h,y=d||"inside"===h,m=d||"outside"===h;if(y||m){var v=p(c,"textfont",u.font);y&&p(c,"insidetextfont",v),m&&p(c,"outsidetextfont",v)}a(t,e,c,r,u),s(t,e,o.defaultLine,{axis:"y"}),s(t,e,o.defaultLine,{axis:"x",inherit:"y"})}},{"../../components/color":576,"../../components/errorbars/defaults":604,"../../lib":681,"../bar/style_defaults":815,"../scatter/xy_defaults":946,"./attributes":804}],807:[function(t,e,r){"use strict";var n=t("../../plots/cartesian/graph_interact"),o=t("../../components/errorbars"),i=t("../../components/color");e.exports=function(t,e,r,a){var s,l=t.cd,u=l[0].trace,c=l[0].t,p=t.xa,f=t.ya,h="closest"===a?c.barwidth/2:c.bargroupwidth/2;s="closest"!==a?function(t){return t.p}:"h"===u.orientation?function(t){return t.y}:function(t){return t.x};var d,y;"h"===u.orientation?(d=function(t){return n.inbox(t.b-e,t.x-e)+(t.x-e)/(t.x-t.b)},y=function(t){var e=s(t)-r;return n.inbox(e-h,e+h)}):(y=function(t){return n.inbox(t.b-r,t.y-r)+(t.y-r)/(t.y-t.b)},d=function(t){var r=s(t)-e;return n.inbox(r-h,r+h)});var m=n.getDistanceFunction(a,d,y);if(n.getClosest(l,m,t),t.index!==!1){var v=l[t.index],g=v.mcc||u.marker.color,b=v.mlcc||u.marker.line.color,x=v.mlw||u.marker.line.width;i.opacity(g)?t.color=g:i.opacity(b)&&x&&(t.color=b);var _=u.base?v.b+v.s:v.s;return"h"===u.orientation?(t.x0=t.x1=p.c2p(v.x,!0),t.xLabelVal=_,t.y0=f.c2p(s(v)-h,!0),t.y1=f.c2p(s(v)+h,!0),t.yLabelVal=v.p):(t.y0=t.y1=f.c2p(v.y,!0),t.yLabelVal=_,t.x0=p.c2p(s(v)-h,!0),t.x1=p.c2p(s(v)+h,!0),t.xLabelVal=v.p),v.tx&&(t.text=v.tx),o.hoverInfo(v,u,t),[t]}}},{"../../components/color":576,"../../components/errorbars":605,"../../plots/cartesian/graph_interact":727}],808:[function(t,e,r){"use strict";var n={};n.attributes=t("./attributes"),n.layoutAttributes=t("./layout_attributes"),n.supplyDefaults=t("./defaults"),n.supplyLayoutDefaults=t("./layout_defaults"),n.calc=t("./calc"),n.setPositions=t("./set_positions"),n.colorbar=t("../scatter/colorbar"),n.arraysToCalcdata=t("./arrays_to_calcdata"),n.plot=t("./plot"),n.style=t("./style"),n.hoverPoints=t("./hover"),n.moduleType="trace",n.name="bar",n.basePlotModule=t("../../plots/cartesian"),n.categories=["cartesian","bar","oriented","markerColorscale","errorBarsOK","showLegend"],n.meta={},e.exports=n},{"../../plots/cartesian":728,"../scatter/colorbar":927,"./arrays_to_calcdata":803,"./attributes":804,"./calc":805,"./defaults":806,"./hover":807,"./layout_attributes":809,"./layout_defaults":810,"./plot":811,"./set_positions":812,"./style":814}],809:[function(t,e,r){"use strict";e.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:""},bargap:{valType:"number",min:0,max:1},bargroupgap:{valType:"number",min:0,max:1,dflt:0}}},{}],810:[function(t,e,r){"use strict";var n=t("../../registry"),o=t("../../plots/cartesian/axes"),i=t("../../lib"),a=t("./layout_attributes");e.exports=function(t,e,r){function s(r,n){return i.coerce(t,e,a,r,n)}for(var l=!1,u=!1,c=!1,p={},f=0;f<r.length;f++){var h=r[f];if(n.traceIs(h,"bar")){if(l=!0,"overlay"!==t.barmode&&"stack"!==t.barmode){var d=h.xaxis+h.yaxis;p[d]&&(c=!0),p[d]=!0}if(h.visible&&"histogram"===h.type){var y=o.getFromId({_fullLayout:e},h["v"===h.orientation?"xaxis":"yaxis"]);"category"!==y.type&&(u=!0)}}}if(l){var m=s("barmode");"overlay"!==m&&s("barnorm"),s("bargap",u&&!c?0:.2),s("bargroupgap")}}},{"../../lib":681,"../../plots/cartesian/axes":720,"../../registry":794,"./layout_attributes":809}],811:[function(t,e,r){"use strict";function n(t,e,r,n,a,f,h,d){function y(t,e,r){var n=t.append("text").attr("data-notex",1).text(e).attr({class:"bartext",transform:"","data-bb":"","text-anchor":"middle",x:0,y:0}).call(M.font,r);return n.call(w.convertToTspans),n.selectAll("tspan.line").attr({x:0,y:0}),n}var m=r[0].trace,v=m.orientation,g=s(m,n);if(g){var b=l(m,n);if("none"!==b){var x,_,T,S,E=u(m,n,t._fullLayout.font),k=c(m,n,E),C=p(m,n,E),A=t._fullLayout.barmode,P="stack"===A,L="relative"===A,O=P||L,I=r[n],R=!O||I._outmost,N=Math.abs(f-a)-2*D,j=Math.abs(d-h)-2*D;if("outside"===b&&(R||(b="inside")),"auto"===b)if(R){x=y(e,g,k),_=M.bBox(x.node()),T=_.width,S=_.height;var F=T>0&&S>0,z=T<=N&&S<=j,B=T<=j&&S<=N,U="h"===v?N>=T*(j/S):j>=S*(N/T);F&&(z||B||U)?b="inside":(b="outside",x.remove(),x=null)}else b="inside";if(!x&&(x=y(e,g,"outside"===b?C:k),_=M.bBox(x.node()),T=_.width,S=_.height,T<=0||S<=0))return void x.remove();var V;V="outside"===b?i(a,f,h,d,_,v):o(a,f,h,d,_,v),x.attr("transform",V)}}}function o(t,e,r,n,o,i){var s,l,u,c,p,f=o.width,h=o.height,d=(o.left+o.right)/2,y=(o.top+o.bottom)/2,m=Math.abs(e-t),v=Math.abs(n-r);m>2*D&&v>2*D?(p=D,m-=2*p,v-=2*p):p=0;var g,b;return f<=m&&h<=v?(g=!1,b=1):f<=v&&h<=m?(g=!0,b=1):f<h==m<v?(g=!1,b=Math.min(m/f,v/h)):(g=!0,b=Math.min(v/f,m/h)),g&&(g=90),g?(s=b*h,l=b*f):(s=b*f,l=b*h),"h"===i?e<t?(u=e+p+s/2,c=(r+n)/2):(u=e-p-s/2,c=(r+n)/2):n>r?(u=(t+e)/2,c=n-p-l/2):(u=(t+e)/2,c=n+p+l/2),a(d,y,u,c,b,g)}function i(t,e,r,n,o,i){var s,l="h"===i?Math.abs(n-r):Math.abs(e-t);l>2*D&&(s=D,l-=2*s);var u,c,p,f,h=!1,d="h"===i?Math.min(1,l/o.height):Math.min(1,l/o.width),y=(o.left+o.right)/2,m=(o.top+o.bottom)/2;return h?(u=d*o.height,c=d*o.width):(u=d*o.width,c=d*o.height),"h"===i?e<t?(p=e-s-u/2,f=(r+n)/2):(p=e+s+u/2,f=(r+n)/2):n>r?(p=(t+e)/2,f=n+s+c/2):(p=(t+e)/2,f=n-s-c/2),a(y,m,p,f,d,h)}function a(t,e,r,n,o,i){var a,s,l;o<1?a="scale("+o+") ":(o=1,a=""),s=i?"rotate("+i+" "+t+" "+e+") ":"";var u=r-o*t,c=n-o*e;return l="translate("+u+" "+c+")",l+a+s}function s(t,e){var r=h(t.text,e);return d(k,r)}function l(t,e){var r=h(t.textposition,e);return y(C,r)}function u(t,e,r){return f(A,t.textfont,e,r)}function c(t,e,r){return f(P,t.insidetextfont,e,r)}function p(t,e,r){return f(L,t.outsidetextfont,e,r)}function f(t,e,r,n){e=e||{};var o=h(e.family,r),i=h(e.size,r),a=h(e.color,r);return{family:d(t.family,o,n.family),size:m(t.size,i,n.size),color:v(t.color,a,n.color)}}function h(t,e){var r;return Array.isArray(t)?e<t.length&&(r=t[e]):r=t,r}function d(t,e,r){if("string"==typeof e){if(e||!t.noBlank)return e}else if("number"==typeof e&&!t.strict)return String(e);return void 0!==r?r:t.dflt}function y(t,e,r){return t.coerceNumber&&(e=+e),t.values.indexOf(e)!==-1?e:void 0!==r?r:t.dflt}function m(t,e,r){if(b(e)){e=+e;var n=t.min,o=t.max,i=void 0!==n&&e<n||void 0!==o&&e>o;if(!i)return e}return void 0!==r?r:t.dflt}function v(t,e,r){return x(e).isValid()?e:void 0!==r?r:t.dflt}var g=t("d3"),b=t("fast-isnumeric"),x=t("tinycolor2"),_=t("../../lib"),w=t("../../lib/svg_text_utils"),T=t("../../components/color"),M=t("../../components/drawing"),S=t("../../components/errorbars"),E=t("./attributes"),k=E.text,C=E.textposition,A=E.textfont,P=E.insidetextfont,L=E.outsidetextfont,D=3;e.exports=function(t,e,r){var o=e.xaxis,i=e.yaxis,a=t._fullLayout,s=e.plot.select(".barlayer").selectAll("g.trace.bars").data(r);s.enter().append("g").attr("class","trace bars"),s.append("g").attr("class","points").each(function(e){var r=e[0].t,s=e[0].trace,l=r.poffset,u=Array.isArray(l),c=r.barwidth,p=Array.isArray(c);g.select(this).selectAll("g.point").data(_.identity).enter().append("g").classed("point",!0).each(function(r,f){function h(t){return 0===a.bargap&&0===a.bargroupgap?g.round(Math.round(t)-k,2):t}function d(t,e){return Math.abs(t-e)>=2?h(t):t>e?Math.ceil(t):Math.floor(t)}var y,m,v,x,_=r.p+(u?l[f]:l),w=_+(p?c[f]:c),M=r.b,S=M+r.s;if("h"===s.orientation?(v=i.c2p(_,!0),x=i.c2p(w,!0),y=o.c2p(M,!0),m=o.c2p(S,!0)):(y=o.c2p(_,!0),m=o.c2p(w,!0),v=i.c2p(M,!0),x=i.c2p(S,!0)),!(b(y)&&b(m)&&b(v)&&b(x)&&y!==m&&v!==x))return void g.select(this).remove();var E=(r.mlw+1||s.marker.line.width+1||(r.trace?r.trace.marker.line.width:0)+1)-1,k=g.round(E/2%1,2);if(!t._context.staticPlot){var C=T.opacity(r.mc||s.marker.color),A=C<1||E>.01?h:d;y=A(y,m),m=A(m,y),v=A(v,x),x=A(x,v)}var P=g.select(this);P.append("path").attr("d","M"+y+","+v+"V"+x+"H"+m+"V"+v+"Z"),n(t,P,e,f,y,m,v,x)})}),s.call(S.plot,e)}},{"../../components/color":576,"../../components/drawing":599,"../../components/errorbars":605,"../../lib":681,"../../lib/svg_text_utils":700,"./attributes":804,d3:104,"fast-isnumeric":113,tinycolor2:512}],812:[function(t,e,r){"use strict";function n(t,e,r,n){if(n.length){var s,l,u,c,p,f=t._fullLayout.barmode,h="overlay"===f,d="group"===f;if(h)o(t,e,r,n);else if(d){for(s=[],l=[],u=0;u<n.length;u++)c=n[u],p=c[0].trace,void 0===p.offset?l.push(c):s.push(c);l.length&&i(t,e,r,l),s.length&&o(t,e,r,s)}else{for(s=[],l=[],u=0;u<n.length;u++)c=n[u],p=c[0].trace,void 0===p.base?l.push(c):s.push(c);l.length&&a(t,e,r,l),s.length&&o(t,e,r,s)}}}function o(t,e,r,n){for(var o=t._fullLayout.barnorm,i=!1,a=!o,l=0;l<n.length;l++){var u=n[l],c=new _([u],i,a);s(t,e,c),o?(y(t,r,c),m(t,r,c)):h(t,r,c)}}function i(t,e,r,n){var o=t._fullLayout,i=o.barnorm,a=!1,s=!i,u=new _(n,a,s);l(t,e,u),i?(y(t,r,u),m(t,r,u)):h(t,r,u)}function a(t,e,r,n){var o=t._fullLayout,i=o.barmode,a="stack"===i,l="relative"===i,u=t._fullLayout.barnorm,c=l,p=!(u||a||l),f=new _(n,c,p);s(t,e,f),d(t,r,f);for(var h=0;h<n.length;h++)for(var y=n[h],v=0;v<y.length;v++){var b=y[v];if(g(b.s)){var x=b.b+b.s===f.get(b.p,b.s);x&&(b._outmost=!0)}}u&&m(t,r,f)}function s(t,e,r){var n,o,i,a,s=t._fullLayout,l=s.bargap,f=s.bargroupgap,h=r.minDiff,d=r.traces,y=h*(1-l),m=y,v=m*(1-f),g=-v/2;for(n=0;n<d.length;n++)o=d[n],i=o[0],a=i.t,a.barwidth=v,a.poffset=g,a.bargroupwidth=y;r.binWidth=d[0][0].t.barwidth/100,u(r),c(t,e,r),p(t,e,r)}function l(t,e,r){var n,o,i,a,s=t._fullLayout,l=s.bargap,f=s.bargroupgap,h=r.positions,d=r.distinctPositions,y=r.minDiff,m=r.traces,v=h.length!==d.length,g=m.length,b=y*(1-l),x=v?b/g:b,_=x*(1-f);for(n=0;n<g;n++){o=m[n],i=o[0];var w=v?((2*n+1-g)*x-_)/2:-_/2;a=i.t,a.barwidth=_,a.poffset=w,a.bargroupwidth=b}r.binWidth=m[0][0].t.barwidth/100,u(r),c(t,e,r),p(t,e,r,v)}function u(t){var e,r,n,o,i,a,s=t.traces;for(e=0;e<s.length;e++){r=s[e],n=r[0],o=n.trace,a=n.t;var l,u=o.offset,c=a.poffset;if(Array.isArray(u)){for(l=u.slice(0,r.length),i=0;i<l.length;i++)g(l[i])||(l[i]=c);for(i=l.length;i<r.length;i++)l.push(c);a.poffset=l}else void 0!==u&&(a.poffset=u);var p=o.width,f=a.barwidth;if(Array.isArray(p)){var h=p.slice(0,r.length);for(i=0;i<h.length;i++)g(h[i])||(h[i]=f);for(i=h.length;i<r.length;i++)h.push(f);if(a.barwidth=h,void 0===u){for(l=[],i=0;i<r.length;i++)l.push(c+(f-h[i])/2);a.poffset=l}}else void 0!==p&&(a.barwidth=p,void 0===u&&(a.poffset=c+(f-p)/2))}}function c(t,e,r){for(var n=r.traces,o=v(e),i=0;i<n.length;i++)for(var a=n[i],s=a[0].t,l=s.poffset,u=Array.isArray(l),c=s.barwidth,p=Array.isArray(c),f=0;f<a.length;f++){var h=a[f];h[o]=h.p+(u?l[f]:l)+(p?c[f]:c)/2}}function p(t,e,r,n){var o=r.traces,i=r.distinctPositions,a=i[0],s=r.minDiff,l=s/2;x.minDtick(e,s,a,n);for(var u=Math.min.apply(Math,i)-l,c=Math.max.apply(Math,i)+l,p=0;p<o.length;p++){var f=o[p],h=f[0],d=h.trace;if(void 0!==d.width||void 0!==d.offset)for(var y=h.t,m=y.poffset,v=y.barwidth,g=Array.isArray(m),b=Array.isArray(v),_=0;_<f.length;_++){var w=f[_],T=g?m[_]:m,M=b?v[_]:v,S=w.p,E=S+T,k=E+M;u=Math.min(u,E),c=Math.max(c,k)}}x.expand(e,[u,c],{padded:!1})}function f(t,e){g(t[0])?t[0]=Math.min(t[0],e):t[0]=e,g(t[1])?t[1]=Math.max(t[1],e):t[1]=e}function h(t,e,r){for(var n=r.traces,o=v(e),i=e.l2c(e.c2l(0)),a=[i,i],s=0;s<n.length;s++)for(var l=n[s],u=0;u<l.length;u++){var c=l[u],p=c.b,h=p+c.s;c[o]=h,g(e.c2l(h))&&f(a,h),g(e.c2l(p))&&f(a,p)}x.expand(e,a,{tozero:!0,padded:!0})}function d(t,e,r){var n,o,i,a,s=t._fullLayout,l=s.barnorm,u=v(e),c=r.traces,p=e.l2c(e.c2l(0)),h=[p,p];for(n=0;n<c.length;n++)for(o=c[n],i=0;i<o.length;i++)if(a=o[i],g(a.s)){var d=r.put(a.p,a.b+a.s),y=d+a.b+a.s;a.b=d,a[u]=y,l||(g(e.c2l(y))&&f(h,y),g(e.c2l(d))&&f(h,d))}l||x.expand(e,h,{tozero:!0,padded:!0})}function y(t,e,r){for(var n=r.traces,o=0;o<n.length;o++)for(var i=n[o],a=0;a<i.length;a++){var s=i[a];g(s.s)&&r.put(s.p,s.b+s.s)}}function m(t,e,r){function n(t){g(e.c2l(t))&&(t<l-s||t>u+s||!g(l))&&(p=!0,f(c,t))}for(var o=r.traces,i=v(e),a="fraction"===t._fullLayout.barnorm?1:100,s=a/1e9,l=e.l2c(e.c2l(0)),u="stack"===t._fullLayout.barmode?a:l,c=[l,u],p=!1,h=0;h<o.length;h++)for(var d=o[h],y=0;y<d.length;y++){var m=d[y];if(g(m.s)){var b=Math.abs(a/r.get(m.p,m.s));m.b*=b,m.s*=b;var _=m.b,w=_+m.s;m[i]=w,n(w),n(_)}}x.expand(e,c,{tozero:!0,padded:p})}function v(t){return t._id.charAt(0)}var g=t("fast-isnumeric"),b=t("../../registry"),x=t("../../plots/cartesian/axes"),_=t("./sieve.js");e.exports=function(t,e){var r,o=e.xaxis,i=e.yaxis,a=t._fullData,s=t.calcdata,l=[],u=[];for(r=0;r<a.length;r++){var c=a[r];c.visible===!0&&b.traceIs(c,"bar")&&c.xaxis===o._id&&c.yaxis===i._id&&!s[r][0].placeholder&&("h"===c.orientation?l.push(s[r]):u.push(s[r]))}n(t,o,i,u),n(t,i,o,l)}},{"../../plots/cartesian/axes":720,"../../registry":794,"./sieve.js":813,"fast-isnumeric":113}],813:[function(t,e,r){"use strict";function n(t,e,r){this.traces=t,this.separateNegativeValues=e,this.dontMergeOverlappingData=r;for(var n=[],i=0;i<t.length;i++)for(var a=t[i],s=0;s<a.length;s++){var l=a[s];n.push(l.p)}this.positions=n;var u=o.distinctVals(this.positions);this.distinctPositions=u.vals,this.minDiff=u.minDiff,this.binWidth=this.minDiff,this.bins={}}e.exports=n;var o=t("../../lib");n.prototype.put=function(t,e){var r=this.getLabel(t,e),n=this.bins[r]||0;return this.bins[r]=n+e,n},n.prototype.get=function(t,e){var r=this.getLabel(t,e);return this.bins[r]||0},n.prototype.getLabel=function(t,e){var r=e<0&&this.separateNegativeValues?"v":"^",n=this.dontMergeOverlappingData?t:Math.round(t/this.binWidth);return r+n}},{"../../lib":681}],814:[function(t,e,r){"use strict";var n=t("d3"),o=t("../../components/color"),i=t("../../components/drawing"),a=t("../../components/errorbars");e.exports=function(t){var e=n.select(t).selectAll("g.trace.bars"),r=e.size(),s=t._fullLayout;e.style("opacity",function(t){return t[0].trace.opacity}).each(function(t){("stack"===s.barmode&&r>1||0===s.bargap&&0===s.bargroupgap&&!t[0].trace.marker.line.width)&&n.select(this).attr("shape-rendering","crispEdges")}),e.selectAll("g.points").each(function(t){var e=t[0].trace,r=e.marker,a=r.line,s=i.tryColorscale(r,""),l=i.tryColorscale(r,"line");n.select(this).selectAll("path").each(function(t){var e,i,u=(t.mlw+1||a.width+1)-1,c=n.select(this);e="mc"in t?t.mcc=s(t.mc):Array.isArray(r.color)?o.defaultLine:r.color,c.style("stroke-width",u+"px").call(o.fill,e),u&&(i="mlc"in t?t.mlcc=l(t.mlc):Array.isArray(a.color)?o.defaultLine:a.color,c.call(o.stroke,i))})}),e.call(a.style)}},{"../../components/color":576,"../../components/drawing":599,"../../components/errorbars":605,d3:104}],815:[function(t,e,r){"use strict";var n=t("../../components/color"),o=t("../../components/colorscale/has_colorscale"),i=t("../../components/colorscale/defaults");e.exports=function(t,e,r,a,s){r("marker.color",a),o(t,"marker")&&i(t,e,s,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",n.defaultLine),
o(t,"marker.line")&&i(t,e,s,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width")}},{"../../components/color":576,"../../components/colorscale/defaults":585,"../../components/colorscale/has_colorscale":589}],816:[function(t,e,r){"use strict";var n=t("../scatter/attributes"),o=t("../../components/color/attributes"),i=t("../../lib/extend").extendFlat,a=n.marker,s=a.line;e.exports={y:{valType:"data_array"},x:{valType:"data_array"},x0:{valType:"any"},y0:{valType:"any"},xcalendar:n.xcalendar,ycalendar:n.ycalendar,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],dflt:"outliers"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],dflt:!1},jitter:{valType:"number",min:0,max:1},pointpos:{valType:"number",min:-2,max:2},orientation:{valType:"enumerated",values:["v","h"]},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)"},symbol:i({},a.symbol,{arrayOk:!1}),opacity:i({},a.opacity,{arrayOk:!1,dflt:1}),size:i({},a.size,{arrayOk:!1}),color:i({},a.color,{arrayOk:!1}),line:{color:i({},s.color,{arrayOk:!1,dflt:o.defaultLine}),width:i({},s.width,{arrayOk:!1,dflt:0}),outliercolor:{valType:"color"},outlierwidth:{valType:"number",min:0,dflt:1}}},line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:2}},fillcolor:n.fillcolor}},{"../../components/color/attributes":575,"../../lib/extend":673,"../scatter/attributes":924}],817:[function(t,e,r){"use strict";var n=t("fast-isnumeric"),o=t("../../lib"),i=t("../../plots/cartesian/axes");e.exports=function(t,e){function r(t,e,r,i,a){var s;return r in e?d=i.makeCalcdata(e,r):(s=r+"0"in e?e[r+"0"]:"name"in e&&("category"===i.type||n(e.name)&&["linear","log"].indexOf(i.type)!==-1||o.isDateTime(e.name)&&"date"===i.type)?e.name:t.numboxes,s=i.d2c(s,0,e[r+"calendar"]),d=a.map(function(){return s})),d}function a(t,e,r,i,a){var s,l,u,c,p=i.length,f=e.length,h=[],d=[];for(s=0;s<p;++s)l=i[s],t[s]={pos:l},d[s]=l-a,h[s]=[];for(d.push(i[p-1]+a),s=0;s<f;++s)c=e[s],n(c)&&(u=o.findBin(r[s],d),u>=0&&u<f&&h[u].push(c));return h}function s(t,e){var r,n,i,a;for(a=0;a<e.length;++a)r=e[a].sort(o.sorterAsc),n=r.length,i=t[a],i.val=r,i.min=r[0],i.max=r[n-1],i.mean=o.mean(r,n),i.sd=o.stdev(r,n,i.mean),i.q1=o.interp(r,.25),i.med=o.interp(r,.5),i.q3=o.interp(r,.75),i.lf=Math.min(i.q1,r[Math.min(o.findBin(2.5*i.q1-1.5*i.q3,r,!0)+1,n-1)]),i.uf=Math.max(i.q3,r[Math.max(o.findBin(2.5*i.q3-1.5*i.q1,r),0)]),i.lo=4*i.q1-3*i.q3,i.uo=4*i.q3-3*i.q1}var l,u,c,p,f,h,d,y,m,v=i.getFromId(t,e.xaxis||"x"),g=i.getFromId(t,e.yaxis||"y"),b=e.orientation,x=[];"h"===b?(l=v,u="x",f=g,h="y"):(l=g,u="y",f=v,h="x"),c=l.makeCalcdata(e,u),i.expand(l,c,{padded:!0}),d=r(t,e,h,f,c);var _=o.distinctVals(d);return y=_.vals,m=_.minDiff/2,p=a(x,c,d,y,m),s(x,p),x=x.filter(function(t){return t.val&&t.val.length}),x.length?(x[0].t={boxnum:t.numboxes,dPos:m},t.numboxes++,x):[{t:{emptybox:!0}}]}},{"../../lib":681,"../../plots/cartesian/axes":720,"fast-isnumeric":113}],818:[function(t,e,r){"use strict";var n=t("../../lib"),o=t("../../registry"),i=t("../../components/color"),a=t("./attributes");e.exports=function(t,e,r,s){function l(r,o){return n.coerce(t,e,a,r,o)}var u,c=l("y"),p=l("x");if(c&&c.length)u="v",p||l("x0");else{if(!p||!p.length)return void(e.visible=!1);u="h",l("y0")}var f=o.getComponentMethod("calendars","handleTraceDefaults");f(t,e,["x","y"],s),l("orientation",u),l("line.color",(t.marker||{}).color||r),l("line.width",2),l("fillcolor",i.addOpacity(e.line.color,.5)),l("whiskerwidth"),l("boxmean");var h=n.coerce2(t,e,a,"marker.outliercolor"),d=l("marker.line.outliercolor"),y=h||d?l("boxpoints","suspectedoutliers"):l("boxpoints");y&&(l("jitter","all"===y?.3:0),l("pointpos","all"===y?-1.5:0),l("marker.symbol"),l("marker.opacity"),l("marker.size"),l("marker.color",e.line.color),l("marker.line.color"),l("marker.line.width"),"suspectedoutliers"===y&&(l("marker.line.outliercolor",e.marker.color),l("marker.line.outlierwidth")))}},{"../../components/color":576,"../../lib":681,"../../registry":794,"./attributes":816}],819:[function(t,e,r){"use strict";var n=t("../../plots/cartesian/axes"),o=t("../../plots/cartesian/graph_interact"),i=t("../../lib"),a=t("../../components/color");e.exports=function(t,e,r,s){var l,u,c,p,f,h,d,y,m,v=t.cd,g=v[0].trace,b=v[0].t,x=t.xa,_=t.ya,w=[];if(p="closest"===s?2.5*b.bdPos:b.bdPos,"h"===g.orientation?(l=function(t){return o.inbox(t.min-e,t.max-e)},u=function(t){var e=t.pos+b.bPos-r;return o.inbox(e-p,e+p)},f="y",h=_,y="x",m=x):(l=function(t){var r=t.pos+b.bPos-e;return o.inbox(r-p,r+p)},u=function(t){return o.inbox(t.min-r,t.max-r)},f="x",h=x,y="y",m=_),c=o.getDistanceFunction(s,l,u),o.getClosest(v,c,t),t.index!==!1){var T=v[t.index],M=g.line.color,S=(g.marker||{}).color;a.opacity(M)&&g.line.width?t.color=M:a.opacity(S)&&g.boxpoints?t.color=S:t.color=g.fillcolor,t[f+"0"]=h.c2p(T.pos+b.bPos-b.bdPos,!0),t[f+"1"]=h.c2p(T.pos+b.bPos+b.bdPos,!0),n.tickText(h,h.c2l(T.pos),"hover").text,t[f+"LabelVal"]=T.pos;var E,k,C={},A=["med","min","q1","q3","max"];g.boxmean&&A.push("mean"),g.boxpoints&&[].push.apply(A,["lf","uf"]);for(var P=0;P<A.length;P++)E=A[P],E in T&&!(T[E]in C)&&(C[T[E]]=!0,d=m.c2p(T[E],!0),k=i.extendFlat({},t),k[y+"0"]=k[y+"1"]=d,k[y+"LabelVal"]=T[E],k.attr=E,"mean"===E&&"sd"in T&&"sd"===g.boxmean&&(k[y+"err"]=T.sd),t.name="",w.push(k));return w}}},{"../../components/color":576,"../../lib":681,"../../plots/cartesian/axes":720,"../../plots/cartesian/graph_interact":727}],820:[function(t,e,r){"use strict";var n={};n.attributes=t("./attributes"),n.layoutAttributes=t("./layout_attributes"),n.supplyDefaults=t("./defaults"),n.supplyLayoutDefaults=t("./layout_defaults"),n.calc=t("./calc"),n.setPositions=t("./set_positions"),n.plot=t("./plot"),n.style=t("./style"),n.hoverPoints=t("./hover"),n.moduleType="trace",n.name="box",n.basePlotModule=t("../../plots/cartesian"),n.categories=["cartesian","symbols","oriented","box","showLegend"],n.meta={},e.exports=n},{"../../plots/cartesian":728,"./attributes":816,"./calc":817,"./defaults":818,"./hover":819,"./layout_attributes":821,"./layout_defaults":822,"./plot":823,"./set_positions":824,"./style":825}],821:[function(t,e,r){"use strict";e.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay"},boxgap:{valType:"number",min:0,max:1,dflt:.3},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3}}},{}],822:[function(t,e,r){"use strict";var n=t("../../registry"),o=t("../../lib"),i=t("./layout_attributes");e.exports=function(t,e,r){function a(r,n){return o.coerce(t,e,i,r,n)}for(var s,l=0;l<r.length;l++)if(n.traceIs(r[l],"box")){s=!0;break}s&&(a("boxmode"),a("boxgap"),a("boxgroupgap"))}},{"../../lib":681,"../../registry":794,"./layout_attributes":821}],823:[function(t,e,r){"use strict";function n(){l=2e9}function o(){var t=l;return l=(69069*l+1)%4294967296,Math.abs(l-t)<429496729?o():l/4294967296}var i=t("d3"),a=t("../../lib"),s=t("../../components/drawing"),l=2e9,u=5,c=.01;e.exports=function(t,e,r){var l,p,f=t._fullLayout,h=e.xaxis,d=e.yaxis,y=e.plot.select(".boxlayer").selectAll("g.trace.boxes").data(r).enter().append("g").attr("class","trace boxes");y.each(function(e){var r=e[0].t,y=e[0].trace,m="group"===f.boxmode&&t.numboxes>1,v=r.dPos*(1-f.boxgap)*(1-f.boxgroupgap)/(m?t.numboxes:1),g=m?2*r.dPos*(-.5+(r.boxnum+.5)/t.numboxes)*(1-f.boxgap):0,b=v*y.whiskerwidth;return y.visible!==!0||r.emptybox?void i.select(this).remove():("h"===y.orientation?(l=d,p=h):(l=h,p=d),r.bPos=g,r.bdPos=v,n(),i.select(this).selectAll("path.box").data(a.identity).enter().append("path").attr("class","box").each(function(t){var e=l.c2p(t.pos+g,!0),r=l.c2p(t.pos+g-v,!0),n=l.c2p(t.pos+g+v,!0),o=l.c2p(t.pos+g-b,!0),s=l.c2p(t.pos+g+b,!0),u=p.c2p(t.q1,!0),c=p.c2p(t.q3,!0),f=a.constrain(p.c2p(t.med,!0),Math.min(u,c)+1,Math.max(u,c)-1),h=p.c2p(y.boxpoints===!1?t.min:t.lf,!0),d=p.c2p(y.boxpoints===!1?t.max:t.uf,!0);"h"===y.orientation?i.select(this).attr("d","M"+f+","+r+"V"+n+"M"+u+","+r+"V"+n+"H"+c+"V"+r+"ZM"+u+","+e+"H"+h+"M"+c+","+e+"H"+d+(0===y.whiskerwidth?"":"M"+h+","+o+"V"+s+"M"+d+","+o+"V"+s)):i.select(this).attr("d","M"+r+","+f+"H"+n+"M"+r+","+u+"H"+n+"V"+c+"H"+r+"ZM"+e+","+u+"V"+h+"M"+e+","+c+"V"+d+(0===y.whiskerwidth?"":"M"+o+","+h+"H"+s+"M"+o+","+d+"H"+s))}),y.boxpoints&&i.select(this).selectAll("g.points").data(function(t){return t.forEach(function(t){t.t=r,t.trace=y}),t}).enter().append("g").attr("class","points").selectAll("path").data(function(t){var e,r,n,i,s,l,p,f="all"===y.boxpoints?t.val:t.val.filter(function(e){return e<t.lf||e>t.uf}),h=Math.max((t.max-t.min)/10,t.q3-t.q1),d=1e-9*h,m=h*c,b=[],x=0;if(y.jitter){if(0===h)for(x=1,b=new Array(f.length),e=0;e<f.length;e++)b[e]=1;else for(e=0;e<f.length;e++)r=Math.max(0,e-u),i=f[r],n=Math.min(f.length-1,e+u),s=f[n],"all"!==y.boxpoints&&(f[e]<t.lf?s=Math.min(s,t.lf):i=Math.max(i,t.uf)),l=Math.sqrt(m*(n-r)/(s-i+d))||0,l=a.constrain(Math.abs(l),0,1),b.push(l),x=Math.max(l,x);p=2*y.jitter/x}return f.map(function(e,r){var n,i=y.pointpos;return y.jitter&&(i+=p*b[r]*(o()-.5)),n="h"===y.orientation?{y:t.pos+i*v+g,x:e}:{x:t.pos+i*v+g,y:e},"suspectedoutliers"===y.boxpoints&&e<t.uo&&e>t.lo&&(n.so=!0),n})}).enter().append("path").call(s.translatePoints,h,d),void(y.boxmean&&i.select(this).selectAll("path.mean").data(a.identity).enter().append("path").attr("class","mean").style("fill","none").each(function(t){var e=l.c2p(t.pos+g,!0),r=l.c2p(t.pos+g-v,!0),n=l.c2p(t.pos+g+v,!0),o=p.c2p(t.mean,!0),a=p.c2p(t.mean-t.sd,!0),s=p.c2p(t.mean+t.sd,!0);"h"===y.orientation?i.select(this).attr("d","M"+o+","+r+"V"+n+("sd"!==y.boxmean?"":"m0,0L"+a+","+e+"L"+o+","+r+"L"+s+","+e+"Z")):i.select(this).attr("d","M"+r+","+o+"H"+n+("sd"!==y.boxmean?"":"m0,0L"+e+","+a+"L"+r+","+o+"L"+e+","+s+"Z"))})))})}},{"../../components/drawing":599,"../../lib":681,d3:104}],824:[function(t,e,r){"use strict";var n=t("../../registry"),o=t("../../plots/cartesian/axes"),i=t("../../lib");e.exports=function(t,e){var r,a,s,l,u=t._fullLayout,c=e.xaxis,p=e.yaxis,f=["v","h"];for(a=0;a<f.length;++a){var h,d,y,m=f[a],v=[],g=[],b=0,x=0;for(r="h"===m?p:c,s=0;s<t.calcdata.length;++s)h=t.calcdata[s],d=h[0].t,y=h[0].trace,y.visible===!0&&n.traceIs(y,"box")&&!d.emptybox&&y.orientation===m&&y.xaxis===c._id&&y.yaxis===p._id&&(v.push(s),y.boxpoints!==!1&&(b=Math.max(b,y.jitter-y.pointpos-1),x=Math.max(x,y.jitter+y.pointpos-1)));for(s=0;s<v.length;s++)for(h=t.calcdata[v[s]],l=0;l<h.length;l++)g.push(h[l].pos);if(g.length){var _=i.distinctVals(g),w=_.minDiff/2;for(g.length===_.vals.length&&(t.numboxes=1),o.minDtick(r,_.minDiff,_.vals[0],!0),a=0;a<v.length;a++){var T=v[a];t.calcdata[T][0].t.dPos=w}var M=(1-u.boxgap)*(1-u.boxgroupgap)*w/t.numboxes;o.expand(r,_.vals,{vpadminus:w+b*M,vpadplus:w+x*M})}}}},{"../../lib":681,"../../plots/cartesian/axes":720,"../../registry":794}],825:[function(t,e,r){"use strict";var n=t("d3"),o=t("../../components/color"),i=t("../../components/drawing");e.exports=function(t){var e=n.select(t).selectAll("g.trace.boxes");e.style("opacity",function(t){return t[0].trace.opacity}).each(function(t){var e=t[0].trace,r=e.line.width;n.select(this).selectAll("path.box").style("stroke-width",r+"px").call(o.stroke,e.line.color).call(o.fill,e.fillcolor),n.select(this).selectAll("path.mean").style({"stroke-width":r,"stroke-dasharray":2*r+"px,"+r+"px"}).call(o.stroke,e.line.color),n.select(this).selectAll("g.points path").call(i.pointStyle,e)})}},{"../../components/color":576,"../../components/drawing":599,d3:104}],826:[function(t,e,r){"use strict";var n=t("../../lib"),o=t("../ohlc/attributes"),i=t("../box/attributes"),a={name:o.increasing.name,showlegend:o.increasing.showlegend,line:{color:n.extendFlat({},i.line.color),width:n.extendFlat({},i.line.width)},fillcolor:n.extendFlat({},i.fillcolor)};e.exports={x:o.x,open:o.open,high:o.high,low:o.low,close:o.close,line:{width:n.extendFlat({},i.line.width,{})},increasing:n.extendDeep({},a,{line:{color:{dflt:o.increasing.line.color.dflt}}}),decreasing:n.extendDeep({},a,{line:{color:{dflt:o.decreasing.line.color.dflt}}}),text:o.text,whiskerwidth:n.extendFlat({},i.whiskerwidth,{dflt:0})}},{"../../lib":681,"../box/attributes":816,"../ohlc/attributes":891}],827:[function(t,e,r){"use strict";function n(t,e,r,n){a(t,e,r,n),r(n+".line.color"),r(n+".line.width",e.line.width),r(n+".fillcolor")}var o=t("../../lib"),i=t("../ohlc/ohlc_defaults"),a=t("../ohlc/direction_defaults"),s=t("../ohlc/helpers"),l=t("./attributes");e.exports=function(t,e,r,a){function u(r,n){return o.coerce(t,e,l,r,n)}s.pushDummyTransformOpts(t,e);var c=i(t,e,u,a);return 0===c?void(e.visible=!1):(u("line.width"),n(t,e,u,"increasing"),n(t,e,u,"decreasing"),u("text"),void u("whiskerwidth"))}},{"../../lib":681,"../ohlc/direction_defaults":893,"../ohlc/helpers":894,"../ohlc/ohlc_defaults":896,"./attributes":826}],828:[function(t,e,r){"use strict";var n=t("../../plot_api/register");e.exports={moduleType:"trace",name:"candlestick",basePlotModule:t("../../plots/cartesian"),categories:["cartesian","showLegend","candlestick"],meta:{},attributes:t("./attributes"),supplyDefaults:t("./defaults")},n(t("../box")),n(t("./transform"))},{"../../plot_api/register":710,"../../plots/cartesian":728,"../box":820,"./attributes":826,"./defaults":827,"./transform":829}],829:[function(t,e,r){"use strict";function n(t,e,r){var n={type:"box",boxpoints:!1,visible:t.visible,hoverinfo:t.hoverinfo,opacity:t.opacity,xaxis:t.xaxis,yaxis:t.yaxis,transforms:i.makeTransform(t,e,r)},a=t[r];return a&&o.extendFlat(n,{x:t.x||[0],xcalendar:t.xcalendar,y:[].concat(t.low).concat(t.high),whiskerwidth:t.whiskerwidth,text:t.text,name:a.name,showlegend:a.showlegend,line:a.line,fillcolor:a.fillcolor}),n}var o=t("../../lib"),i=t("../ohlc/helpers");r.moduleType="transform",r.name="candlestick",r.attributes={},r.supplyDefaults=function(t,e,r,n){return i.clearEphemeralTransformOpts(n),i.copyOHLC(t,e),t},r.transform=function(t,e){for(var r=[],o=0;o<t.length;o++){var a=t[o];"candlestick"===a.type?r.push(n(a,e,"increasing"),n(a,e,"decreasing")):r.push(a)}return i.addRangeSlider(r,e.layout),r},r.calcTransform=function(t,e,r){for(var n=r.direction,o=i.getFilterFn(n),a=e.open,s=e.high,l=e.low,u=e.close,c=a.length,p=[],f=[],h=e._fullInput.x?function(t){var r=e.x[t];p.push(r,r,r,r,r,r)}:function(t){p.push(t,t,t,t,t,t)},d=function(t,e,r,n){f.push(r,t,n,n,n,e)},y=0;y<c;y++)o(a[y],u[y])&&(h(y),d(a[y],s[y],l[y],u[y]));e.x=p,e.y=f}},{"../../lib":681,"../ohlc/helpers":894}],830:[function(t,e,r){"use strict";var n=t("../scattergeo/attributes"),o=t("../../components/colorscale/attributes"),i=t("../../components/colorbar/attributes"),a=t("../../plots/attributes"),s=t("../../lib/extend").extendFlat,l=n.marker.line;e.exports=s({},{locations:{valType:"data_array"},locationmode:n.locationmode,z:{valType:"data_array"},text:{valType:"data_array"},marker:{line:{color:l.color,width:s({},l.width,{dflt:1})}},hoverinfo:s({},a.hoverinfo,{flags:["location","z","text","name"]})},o,{colorbar:i})},{"../../components/colorbar/attributes":577,"../../components/colorscale/attributes":581,"../../lib/extend":673,"../../plots/attributes":718,"../scattergeo/attributes":953}],831:[function(t,e,r){"use strict";var n=t("../../components/colorscale/calc");e.exports=function(t,e){n(e,e.z,"","z")}},{"../../components/colorscale/calc":582}],832:[function(t,e,r){"use strict";var n=t("../../lib"),o=t("../../components/colorscale/defaults"),i=t("./attributes");e.exports=function(t,e,r,a){function s(r,o){return n.coerce(t,e,i,r,o)}var l,u=s("locations");if(u&&(l=u.length),!u||!l)return void(e.visible=!1);var c=s("z");return Array.isArray(c)?(c.length>l&&(e.z=c.slice(0,l)),s("locationmode"),s("text"),s("marker.line.color"),s("marker.line.width"),o(t,e,a,s,{prefix:"",cLetter:"z"}),void s("hoverinfo",1===a._dataLength?"location+z+text":void 0)):void(e.visible=!1)}},{"../../components/colorscale/defaults":585,"../../lib":681,"./attributes":830}],833:[function(t,e,r){"use strict";e.exports=function(t,e){return t.location=e.location,t.z=e.z,t}},{}],834:[function(t,e,r){"use strict";function n(t,e,r,n){function a(t){return o.tickText(n,n.c2l(t),"hover").text}var s=e.hoverinfo,l="all"===s?i.hoverinfo.flags:s.split("+"),u=l.indexOf("name")!==-1,c=l.indexOf("location")!==-1,p=l.indexOf("z")!==-1,f=l.indexOf("text")!==-1,h=!u&&c,d=[];h?t.nameOverride=r.id:(u&&(t.nameOverride=e.name),c&&d.push(r.id)),p&&d.push(a(r.z)),f&&d.push(r.tx),t.extraText=d.join("<br>")}var o=t("../../plots/cartesian/axes"),i=t("./attributes");e.exports=function(t){var e=t.cd,r=e[0].trace,o=t.subplot,i=o.choroplethHoverPt;if(i){var a=o.projection(i.properties.ct);return t.x0=t.x1=a[0],t.y0=t.y1=a[1],t.index=i.index,t.location=i.id,t.z=i.z,n(t,r,i,o.mockAxis),[t]}}},{"../../plots/cartesian/axes":720,"./attributes":830}],835:[function(t,e,r){"use strict";var n={};n.attributes=t("./attributes"),n.supplyDefaults=t("./defaults"),n.colorbar=t("../heatmap/colorbar"),n.calc=t("./calc"),n.plot=t("./plot"),n.hoverPoints=t("./hover"),n.eventData=t("./event_data"),n.moduleType="trace",n.name="choropleth",n.basePlotModule=t("../../plots/geo"),n.categories=["geo","noOpacity"],n.meta={},e.exports=n},{"../../plots/geo":744,"../heatmap/colorbar":854,"./attributes":830,"./calc":831,"./defaults":832,"./event_data":833,"./hover":834,"./plot":836}],836:[function(t,e,r){"use strict";function n(t,e){for(var r,n=[],o=t.locations,i=o.length,a=u(t,e),s=(t.marker||{}).line||{},l=0;l<i;l++)r=c(t.locationmode,o[l],a),r&&(r.z=t.z[l],void 0!==t.text&&(r.tx=t.text[l]),p(s.color,r,"mlc",l),p(s.width,r,"mlw",l),r.index=l,n.push(r));return n.length>0&&(n[0].trace=t),n}function o(t){t.framework.selectAll("g.trace.choropleth").each(function(t){var e=t[0].trace,r=i.select(this),n=e.marker||{},o=n.line||{},u=l.makeColorScaleFunc(l.extractScale(e.colorscale,e.zmin,e.zmax));r.selectAll("path.choroplethlocation").each(function(t){i.select(this).attr("fill",function(t){return u(t.z)}).call(a.stroke,t.mlc||o.color).call(s.dashLine,"",t.mlw||o.width||0)})})}var i=t("d3"),a=t("../../components/color"),s=t("../../components/drawing"),l=t("../../components/colorscale"),u=t("../../lib/topojson_utils").getTopojsonFeatures,c=t("../../lib/geo_location_utils").locationToFeature,p=t("../../lib/array_to_calc_item"),f=t("../../plots/geo/constants");e.exports=function(t,e,r){function a(t){return t[0].trace.uid}var s,l=t.framework,u=l.select("g.choroplethlayer"),c=l.select("g.baselayer"),p=l.select("g.baselayeroverchoropleth"),h=f.baseLayersOverChoropleth,d=u.selectAll("g.trace.choropleth").data(e,a);d.enter().append("g").attr("class","trace choropleth"),d.exit().remove(),d.each(function(e){var r=e[0].trace,o=n(r,t.topojson),a=i.select(this).selectAll("path.choroplethlocation").data(o);a.enter().append("path").classed("choroplethlocation",!0).on("mouseover",function(e){t.choroplethHoverPt=e}).on("mouseout",function(){t.choroplethHoverPt=null}),a.exit().remove()}),p.selectAll("*").remove();for(var y=0;y<h.length;y++)s=h[y],c.select("g."+s).remove(),t.drawTopo(p,s,r),t.styleLayer(p,s,r);o(t)}},{"../../components/color":576,"../../components/colorscale":590,"../../components/drawing":599,"../../lib/array_to_calc_item":668,"../../lib/geo_location_utils":676,"../../lib/topojson_utils":702,"../../plots/geo/constants":742,d3:104}],837:[function(t,e,r){"use strict";var n=t("../heatmap/attributes"),o=t("../scatter/attributes"),i=t("../../components/colorscale/attributes"),a=t("../../components/colorbar/attributes"),s=t("../../lib/extend").extendFlat,l=o.line;e.exports=s({},{z:n.z,x:n.x,x0:n.x0,dx:n.dx,y:n.y,y0:n.y0,dy:n.dy,text:n.text,transpose:n.transpose,xtype:n.xtype,ytype:n.ytype,connectgaps:n.connectgaps,autocontour:{valType:"boolean",dflt:!0},ncontours:{valType:"integer",dflt:15,min:1},contours:{start:{valType:"number",dflt:null},end:{valType:"number",dflt:null},size:{valType:"number",dflt:null,min:0},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill"},showlines:{valType:"boolean",dflt:!0}},line:{color:s({},l.color,{}),width:l.width,dash:l.dash,smoothing:s({},l.smoothing,{})}},i,{autocolorscale:s({},i.autocolorscale,{dflt:!1})},{colorbar:a})},{"../../components/colorbar/attributes":577,"../../components/colorscale/attributes":581,"../../lib/extend":673,"../heatmap/attributes":851,"../scatter/attributes":924}],838:[function(t,e,r){"use strict";function n(t,e,r){var n={type:"linear",range:[t,e]};return o.autoTicks(n,(e-t)/(r||15)),n}var o=t("../../plots/cartesian/axes"),i=t("../../lib").extendFlat,a=t("../heatmap/calc");e.exports=function(t,e){var r=a(t,e),s=e.contours;if(e.autocontour!==!1){var l=n(e.zmin,e.zmax,e.ncontours);s.size=l.dtick,s.start=o.tickFirst(l),l.range.reverse(),s.end=o.tickFirst(l),s.start===e.zmin&&(s.start+=s.size),s.end===e.zmax&&(s.end-=s.size),s.start>s.end&&(s.start=s.end=(s.start+s.end)/2),e._input.contours||(e._input.contours={}),i(e._input.contours,{start:s.start,end:s.end,size:s.size}),e._input.autocontour=!0}else{var u=s.start,c=s.end,p=e._input.contours;if(u>c&&(s.start=p.start=c,c=s.end=p.end=u,u=s.start),!(s.size>0)){var f;f=u===c?1:n(u,c,e.ncontours).dtick,p.size=s.size=f}}return r}},{"../../lib":681,"../../plots/cartesian/axes":720,"../heatmap/calc":852}],839:[function(t,e,r){"use strict";var n=t("../../plots/plots"),o=t("../../components/colorbar/draw"),i=t("./make_color_map"),a=t("./end_plus");e.exports=function(t,e){var r=e[0].trace,s="cb"+r.uid;if(t._fullLayout._infolayer.selectAll("."+s).remove(),r.showscale===!1)return void n.autoMargin(t,s);var l=o(t,s);e[0].t.cb=l;var u=r.contours,c=r.line,p=u.size||1,f=u.coloring,h=i(r,{isColorbar:!0});"heatmap"===f&&l.filllevels({start:r.zmin,end:r.zmax,size:(r.zmax-r.zmin)/254}),l.fillcolor("fill"===f||"heatmap"===f?h:"").line({color:"lines"===f?h:c.color,width:u.showlines!==!1?c.width:0,dash:c.dash}).levels({start:u.start,end:a(u),size:p}).options(r.colorbar)()}},{"../../components/colorbar/draw":579,"../../plots/plots":779,"./end_plus":842,"./make_color_map":846}],840:[function(t,e,r){"use strict";e.exports.BOTTOMSTART=[1,9,13,104,713],e.exports.TOPSTART=[4,6,7,104,713],e.exports.LEFTSTART=[8,12,14,208,1114],e.exports.RIGHTSTART=[2,3,11,208,1114],e.exports.NEWDELTA=[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],e.exports.CHOOSESADDLE={104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},e.exports.SADDLEREMAINDER={1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11}},{}],841:[function(t,e,r){"use strict";var n=t("../../lib"),o=t("../heatmap/has_columns"),i=t("../heatmap/xyz_defaults"),a=t("../contour/style_defaults"),s=t("./attributes");e.exports=function(t,e,r,l){function u(r,o){return n.coerce(t,e,s,r,o)}var c=i(t,e,u,l);if(!c)return void(e.visible=!1);u("text"),u("connectgaps",o(e));var p,f=n.coerce2(t,e,s,"contours.start"),h=n.coerce2(t,e,s,"contours.end"),d=f===!1||h===!1,y=u("contours.size");p=d?e.autocontour=!0:u("autocontour",!1),!p&&y||u("ncontours"),a(t,e,u,l)}},{"../../lib":681,"../contour/style_defaults":850,"../heatmap/has_columns":858,"../heatmap/xyz_defaults":866,"./attributes":837}],842:[function(t,e,r){"use strict";e.exports=function(t){return t.end+t.size/1e6}},{}],843:[function(t,e,r){"use strict";function n(t,e){return Math.abs(t[0]-e[0])<.01&&Math.abs(t[1]-e[1])<.01}function o(t,e){var r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)}function i(t,e,r){function i(t){return y[t%y.length]}var c,p=e.join(","),f=p,h=t.crossings[f],d=a(h,r,e),y=[s(t,e,[-d[0],-d[1]])],m=d.join(","),v=t.z.length,g=t.z[0].length;for(c=0;c<1e4;c++){if(h>20?(h=u.CHOOSESADDLE[h][(d[0]||d[1])<0?0:1],t.crossings[f]=u.SADDLEREMAINDER[h]):delete t.crossings[f],d=u.NEWDELTA[h],!d){l.log("Found bad marching index:",h,e,t.level);break}y.push(s(t,e,d)),e[0]+=d[0],e[1]+=d[1],n(y[y.length-1],y[y.length-2])&&y.pop(),f=e.join(",");var b=d[0]&&(e[0]<0||e[0]>g-2)||d[1]&&(e[1]<0||e[1]>v-2),x=f===p&&d.join(",")===m;if(x||r&&b)break;h=t.crossings[f]}1e4===c&&l.log("Infinite loop in contour?");var _,w,T,M,S,E,k,C=n(y[0],y[y.length-1]),A=0,P=.2*t.smoothing,L=[],D=0;for(c=1;c<y.length;c++)k=o(y[c],y[c-1]),A+=k,L.push(k);var O=A/L.length*P;for(c=y.length-2;c>=D;c--)if(_=L[c],_<O){for(T=0,w=c-1;w>=D&&_+L[w]<O;w--)_+=L[w];if(C&&c===y.length-2)for(T=0;T<w&&_+L[T]<O;T++)_+=L[T];S=c-w+T+1,E=Math.floor((c+w+T+2)/2),M=C||c!==y.length-2?C||w!==-1?S%2?i(E):[(i(E)[0]+i(E+1)[0])/2,(i(E)[1]+i(E+1)[1])/2]:y[0]:y[y.length-1],y.splice(w+1,c-w+1,M),c=w+1,T&&(D=T),C&&(c===y.length-2?y[T]=y[y.length-1]:0===c&&(y[y.length-1]=y[0]))}if(y.splice(0,D),!(y.length<2))if(C)y.pop(),t.paths.push(y);else{r||l.log("Unclosed interior contour?",t.level,p,y.join("L"));var I=!1;t.edgepaths.forEach(function(e,r){if(!I&&n(e[0],y[y.length-1])){y.pop(),I=!0;var o=!1;t.edgepaths.forEach(function(e,i){!o&&n(e[e.length-1],y[0])&&(o=!0,y.splice(0,1),t.edgepaths.splice(r,1),i===r?t.paths.push(y.concat(e)):t.edgepaths[i]=t.edgepaths[i].concat(y,e))}),o||(t.edgepaths[r]=y.concat(e))}}),t.edgepaths.forEach(function(e,r){!I&&n(e[e.length-1],y[0])&&(y.splice(0,1),t.edgepaths[r]=e.concat(y),I=!0)}),I||t.edgepaths.push(y)}}function a(t,e,r){var n=0,o=0;return t>20&&e?208===t||1114===t?n=0===r[0]?1:-1:o=0===r[1]?1:-1:u.BOTTOMSTART.indexOf(t)!==-1?o=1:u.LEFTSTART.indexOf(t)!==-1?n=1:u.TOPSTART.indexOf(t)!==-1?o=-1:n=-1,[n,o]}function s(t,e,r){var n=e[0]+Math.max(r[0],0),o=e[1]+Math.max(r[1],0),i=t.z[o][n],a=t.xaxis,s=t.yaxis;if(r[1]){var l=(t.level-i)/(t.z[o][n+1]-i);return[a.c2p((1-l)*t.x[n]+l*t.x[n+1],!0),s.c2p(t.y[o],!0)]}var u=(t.level-i)/(t.z[o+1][n]-i);return[a.c2p(t.x[n],!0),s.c2p((1-u)*t.y[o]+u*t.y[o+1],!0)]}var l=t("../../lib"),u=t("./constants");e.exports=function(t){var e,r,n,o,a;for(n=0;n<t.length;n++){for(o=t[n],a=0;a<o.starts.length;a++)r=o.starts[a],i(o,r,"edge");for(e=0;Object.keys(o.crossings).length&&e<1e4;)e++,r=Object.keys(o.crossings)[0].split(",").map(Number),i(o,r);1e4===e&&l.log("Infinite loop in contour?")}}},{"../../lib":681,"./constants":840}],844:[function(t,e,r){"use strict";var n=t("../heatmap/hover");e.exports=function(t,e,r,o){return n(t,e,r,o,!0)}},{"../heatmap/hover":859}],845:[function(t,e,r){"use strict";var n={};n.attributes=t("./attributes"),n.supplyDefaults=t("./defaults"),n.calc=t("./calc"),n.plot=t("./plot"),n.style=t("./style"),n.colorbar=t("./colorbar"),n.hoverPoints=t("./hover"),n.moduleType="trace",n.name="contour",n.basePlotModule=t("../../plots/cartesian"),n.categories=["cartesian","2dMap","contour"],n.meta={},e.exports=n},{"../../plots/cartesian":728,"./attributes":837,"./calc":838,"./colorbar":839,"./defaults":841,"./hover":844,"./plot":848,"./style":849}],846:[function(t,e,r){"use strict";var n=t("d3"),o=t("../../components/colorscale"),i=t("./end_plus");e.exports=function(t){var e,r,a=t.contours,s=a.start,l=i(a),u=a.size||1,c=Math.floor((l-s)/u)+1,p="lines"===a.coloring?0:1,f=t.colorscale,h=f.length,d=new Array(h),y=new Array(h);if("heatmap"===a.coloring){for(t.zauto&&t.autocontour===!1&&(t.zmin=s-u/2,t.zmax=t.zmin+c*u),r=0;r<h;r++)e=f[r],d[r]=e[0]*(t.zmax-t.zmin)+t.zmin,y[r]=e[1];var m=n.extent([t.zmin,t.zmax,a.start,a.start+u*(c-1)]),v=m[t.zmin<t.zmax?0:1],g=m[t.zmin<t.zmax?1:0];v!==t.zmin&&(d.splice(0,0,v),y.splice(0,0,Range[0])),g!==t.zmax&&(d.push(g),y.push(y[y.length-1]))}else for(r=0;r<h;r++)e=f[r],d[r]=(e[0]*(c+p-1)-p/2)*u+s,y[r]=e[1];return o.makeColorScaleFunc({domain:d,range:y},{noNumericCheck:!0})}},{"../../components/colorscale":590,"./end_plus":842,d3:104}],847:[function(t,e,r){"use strict";function n(t,e){var r=(e[0][0]>t?0:1)+(e[0][1]>t?0:2)+(e[1][1]>t?0:4)+(e[1][0]>t?0:8);if(5===r||10===r){var n=(e[0][0]+e[0][1]+e[1][0]+e[1][1])/4;return t>n?5===r?713:1114:5===r?104:208}return 15===r?0:r}var o=t("./constants");e.exports=function(t){var e,r,i,a,s,l,u,c,p,f=t[0].z,h=f.length,d=f[0].length,y=2===h||2===d;for(r=0;r<h-1;r++)for(a=[],0===r&&(a=a.concat(o.BOTTOMSTART)),r===h-2&&(a=a.concat(o.TOPSTART)),e=0;e<d-1;e++)for(i=a.slice(),0===e&&(i=i.concat(o.LEFTSTART)),e===d-2&&(i=i.concat(o.RIGHTSTART)),s=e+","+r,l=[[f[r][e],f[r][e+1]],[f[r+1][e],f[r+1][e+1]]],p=0;p<t.length;p++)c=t[p],u=n(c.level,l),u&&(c.crossings[s]=u,i.indexOf(u)!==-1&&(c.starts.push([e,r]),y&&i.indexOf(u,i.indexOf(u)+1)!==-1&&c.starts.push([e,r])))}},{"./constants":840}],848:[function(t,e,r){"use strict";function n(t,e,r){var n=r[0].trace,l=r[0].x,p=r[0].y,f=n.contours,h=n.uid,d=e.xaxis,g=e.yaxis,b=t._fullLayout,x="contour"+h,_=o(f,e,r[0]);if(n.visible!==!0)return b._paper.selectAll("."+x+",.hm"+h).remove(),void b._infolayer.selectAll(".cb"+h).remove();"heatmap"===f.coloring?(n.zauto&&n.autocontour===!1&&(n._input.zmin=n.zmin=f.start-f.size/2,n._input.zmax=n.zmax=n.zmin+_.length*f.size),y(t,e,[r])):(b._paper.selectAll(".hm"+h).remove(),b._infolayer.selectAll("g.rangeslider-container").selectAll(".hm"+h).remove()),m(_),v(_);var w=d.c2p(l[0],!0),T=d.c2p(l[l.length-1],!0),M=g.c2p(p[0],!0),S=g.c2p(p[p.length-1],!0),E=[[w,S],[T,S],[T,M],[w,M]],k=i(e,r,x);a(k,E,f),s(k,_,E,f),u(k,_,f),c(k,e,r[0],E)}function o(t,e,r){for(var n=t.size,o=[],i=g(t),a=t.start;a<i;a+=n)if(o.push({level:a,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:e.xaxis,yaxis:e.yaxis,x:r.x,y:r.y,z:r.z,smoothing:r.trace.line.smoothing}),o.length>1e3){h.warn("Too many contours, clipping at 1000",t);break}return o}function i(t,e,r){var n=t.plot.select(".maplayer").selectAll("g.contour."+r).data(e);return n.enter().append("g").classed("contour",!0).classed(r,!0),n.exit().remove(),n}function a(t,e,r){var n=t.selectAll("g.contourbg").data([0]);n.enter().append("g").classed("contourbg",!0);var o=n.selectAll("path").data("fill"===r.coloring?[0]:[]);o.enter().append("path"),o.exit().remove(),o.attr("d","M"+e.join("L")+"Z").style("stroke","none")}function s(t,e,r,n){var o=t.selectAll("g.contourfill").data([0]);o.enter().append("g").classed("contourfill",!0);var i=o.selectAll("path").data("fill"===n.coloring?e:[]);i.enter().append("path"),i.exit().remove(),i.each(function(t){var e=l(t,r);e?f.select(this).attr("d",e).style("stroke","none"):f.select(this).remove()})}function l(t,e){function r(t){return Math.abs(t[1]-e[0][1])<.01}function n(t){return Math.abs(t[1]-e[2][1])<.01}function o(t){return Math.abs(t[0]-e[0][0])<.01}function i(t){return Math.abs(t[0]-e[2][0])<.01}for(var a,s,l,u,c,p,f=Math.min(t.z[0][0],t.z[0][1]),y=t.edgepaths.length||f<=t.level?"":"M"+e.join("L")+"Z",m=0,v=t.edgepaths.map(function(t,e){return e}),g=!0;v.length;){for(p=d.smoothopen(t.edgepaths[m],t.smoothing),y+=g?p:p.replace(/^M/,"L"),v.splice(v.indexOf(m),1),a=t.edgepaths[m][t.edgepaths[m].length-1],u=-1,l=0;l<4;l++){if(!a){h.log("Missing end?",m,t);break}for(r(a)&&!i(a)?s=e[1]:o(a)?s=e[0]:n(a)?s=e[3]:i(a)&&(s=e[2]),c=0;c<t.edgepaths.length;c++){var b=t.edgepaths[c][0];Math.abs(a[0]-s[0])<.01?Math.abs(a[0]-b[0])<.01&&(b[1]-a[1])*(s[1]-b[1])>=0&&(s=b,u=c):Math.abs(a[1]-s[1])<.01?Math.abs(a[1]-b[1])<.01&&(b[0]-a[0])*(s[0]-b[0])>=0&&(s=b,u=c):h.log("endpt to newendpt is not vert. or horz.",a,s,b)}if(a=s,u>=0)break;y+="L"+s}if(u===t.edgepaths.length){h.log("unclosed perimeter path");break}m=u,g=v.indexOf(m)===-1,g&&(m=v[0],y+="Z")}for(m=0;m<t.paths.length;m++)y+=d.smoothclosed(t.paths[m],t.smoothing);return y}function u(t,e,r){var n=e[0].smoothing,o=t.selectAll("g.contourlevel").data(r.showlines===!1?[]:e);o.enter().append("g").classed("contourlevel",!0),o.exit().remove();var i=o.selectAll("path.openline").data(function(t){return t.edgepaths});i.enter().append("path").classed("openline",!0),i.exit().remove(),i.attr("d",function(t){return d.smoothopen(t,n)}).style("stroke-miterlimit",1);var a=o.selectAll("path.closedline").data(function(t){return t.paths});a.enter().append("path").classed("closedline",!0),a.exit().remove(),a.attr("d",function(t){return d.smoothclosed(t,n)}).style("stroke-miterlimit",1)}function c(t,e,r,n){var o="clip"+r.trace.uid,i=e.plot.selectAll("defs").data([0]);i.enter().append("defs");var a=i.selectAll("#"+o).data(r.trace.connectgaps?[]:[0]);if(a.enter().append("clipPath").attr("id",o),a.exit().remove(),r.trace.connectgaps===!1){var s={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:e.xaxis,yaxis:e.yaxis,x:r.x,
y:r.y,z:p(r),smoothing:0};m([s]),v([s]);var u=l(s,n),c=a.selectAll("path").data([0]);c.enter().append("path"),c.attr("d",u)}else o=null;t.call(d.setClipUrl,o),e.plot.selectAll(".hm"+r.trace.uid).call(d.setClipUrl,o)}function p(t){var e,r,n=t.trace._emptypoints,o=[],i=t.z.length,a=t.z[0].length,s=[];for(e=0;e<a;e++)s.push(1);for(e=0;e<i;e++)o.push(s.slice());for(e=0;e<n.length;e++)r=n[e],o[r[0]][r[1]]=0;return t.zmask=o,o}var f=t("d3"),h=t("../../lib"),d=t("../../components/drawing"),y=t("../heatmap/plot"),m=t("./make_crossings"),v=t("./find_all_paths"),g=t("./end_plus");e.exports=function(t,e,r){for(var o=0;o<r.length;o++)n(t,e,r[o])}},{"../../components/drawing":599,"../../lib":681,"../heatmap/plot":864,"./end_plus":842,"./find_all_paths":843,"./make_crossings":847,d3:104}],849:[function(t,e,r){"use strict";var n=t("d3"),o=t("../../components/drawing"),i=t("../heatmap/style"),a=t("./make_color_map");e.exports=function(t){var e=n.select(t).selectAll("g.contour");e.style("opacity",function(t){return t.trace.opacity}),e.each(function(t){var e=n.select(this),r=t.trace,i=r.contours,s=r.line,l=i.size||1,u=i.start,c=a(r);e.selectAll("g.contourlevel").each(function(t){n.select(this).selectAll("path").call(o.lineGroupStyle,s.width,"lines"===i.coloring?c(t.level):s.color,s.dash)});var p;e.selectAll("g.contourfill path").style("fill",function(t){return void 0===p&&(p=t.level),c(t.level+.5*l)}),void 0===p&&(p=u),e.selectAll("g.contourbg path").style("fill",c(p-.5*l))}),i(t)}},{"../../components/drawing":599,"../heatmap/style":865,"./make_color_map":846,d3:104}],850:[function(t,e,r){"use strict";var n=t("../../components/colorscale/defaults");e.exports=function(t,e,r,o){var i,a=r("contours.coloring");"fill"===a&&(i=r("contours.showlines")),i!==!1&&("lines"!==a&&r("line.color","#000"),r("line.width",.5),r("line.dash")),r("line.smoothing"),"none"!==(e.contours||{}).coloring&&n(t,e,o,r,{prefix:"",cLetter:"z"})}},{"../../components/colorscale/defaults":585}],851:[function(t,e,r){"use strict";var n=t("../scatter/attributes"),o=t("../../components/colorscale/attributes"),i=t("../../components/colorbar/attributes"),a=t("../../lib/extend").extendFlat;e.exports=a({},{z:{valType:"data_array"},x:n.x,x0:n.x0,dx:n.dx,y:n.y,y0:n.y0,dy:n.dy,text:{valType:"data_array"},transpose:{valType:"boolean",dflt:!1},xtype:{valType:"enumerated",values:["array","scaled"]},ytype:{valType:"enumerated",values:["array","scaled"]},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1},connectgaps:{valType:"boolean",dflt:!1},xgap:{valType:"number",dflt:0,min:0},ygap:{valType:"number",dflt:0,min:0}},o,{autocolorscale:a({},o.autocolorscale,{dflt:!1})},{colorbar:i})},{"../../components/colorbar/attributes":577,"../../components/colorscale/attributes":581,"../../lib/extend":673,"../scatter/attributes":924}],852:[function(t,e,r){"use strict";var n=t("../../registry"),o=t("../../lib"),i=t("../../plots/cartesian/axes"),a=t("../histogram2d/calc"),s=t("../../components/colorscale/calc"),l=t("./has_columns"),u=t("./convert_column_xyz"),c=t("./max_row_length"),p=t("./clean_2d_array"),f=t("./interp2d"),h=t("./find_empties"),d=t("./make_bound_array");e.exports=function(t,e){function r(t){C=e._input.zsmooth=e.zsmooth=!1,o.notifier("cannot fast-zsmooth: "+t)}var y,m,v,g,b,x,_,w,T=i.getFromId(t,e.xaxis||"x"),M=i.getFromId(t,e.yaxis||"y"),S=n.traceIs(e,"contour"),E=n.traceIs(e,"histogram"),k=n.traceIs(e,"gl2d"),C=S?"best":e.zsmooth;if(T._minDtick=0,M._minDtick=0,E){var A=a(t,e);y=A.x,m=A.x0,v=A.dx,g=A.y,b=A.y0,x=A.dy,_=A.z}else l(e)&&u(e,T,M),y=e.x?T.makeCalcdata(e,"x"):[],g=e.y?M.makeCalcdata(e,"y"):[],m=e.x0||0,v=e.dx||1,b=e.y0||0,x=e.dy||1,_=p(e.z,e.transpose),(S||e.connectgaps)&&(e._emptypoints=h(_),e._interpz=f(_,e._emptypoints,e._interpz));if("fast"===C)if("log"===T.type||"log"===M.type)r("log axis found");else if(!E){if(y.length){var P=(y[y.length-1]-y[0])/(y.length-1),L=Math.abs(P/100);for(w=0;w<y.length-1;w++)if(Math.abs(y[w+1]-y[w]-P)>L){r("x scale is not linear");break}}if(g.length&&"fast"===C){var D=(g[g.length-1]-g[0])/(g.length-1),O=Math.abs(D/100);for(w=0;w<g.length-1;w++)if(Math.abs(g[w+1]-g[w]-D)>O){r("y scale is not linear");break}}}var I=c(_),R="scaled"===e.xtype?"":y,N=d(e,R,m,v,I,T),j="scaled"===e.ytype?"":g,F=d(e,j,b,x,_.length,M);k||(i.expand(T,N),i.expand(M,F));var z={x:N,y:F,z:_,text:e.text};if(s(e,_,"","z"),S&&e.contours&&"heatmap"===e.contours.coloring){var B={type:"contour"===e.type?"heatmap":"histogram2d",xcalendar:e.xcalendar,ycalendar:e.ycalendar};z.xfill=d(B,R,m,v,I,T),z.yfill=d(B,j,b,x,_.length,M)}return[z]}},{"../../components/colorscale/calc":582,"../../lib":681,"../../plots/cartesian/axes":720,"../../registry":794,"../histogram2d/calc":880,"./clean_2d_array":853,"./convert_column_xyz":855,"./find_empties":857,"./has_columns":858,"./interp2d":861,"./make_bound_array":862,"./max_row_length":863}],853:[function(t,e,r){"use strict";var n=t("fast-isnumeric");e.exports=function(t,e){function r(t){if(n(t))return+t}var o,i,a,s,l,u;if(e){for(o=0,l=0;l<t.length;l++)o=Math.max(o,t[l].length);if(0===o)return!1;a=function(t){return t.length},s=function(t,e,r){return t[r][e]}}else o=t.length,a=function(t,e){return t[e].length},s=function(t,e,r){return t[e][r]};var c=new Array(o);for(l=0;l<o;l++)for(i=a(t,l),c[l]=new Array(i),u=0;u<i;u++)c[l][u]=r(s(t,l,u));return c}},{"fast-isnumeric":113}],854:[function(t,e,r){"use strict";var n=t("fast-isnumeric"),o=t("../../lib"),i=t("../../plots/plots"),a=t("../../components/colorscale"),s=t("../../components/colorbar/draw");e.exports=function(t,e){var r=e[0].trace,l="cb"+r.uid,u=r.zmin,c=r.zmax;if(n(u)||(u=o.aggNums(Math.min,null,r.z)),n(c)||(c=o.aggNums(Math.max,null,r.z)),t._fullLayout._infolayer.selectAll("."+l).remove(),!r.showscale)return void i.autoMargin(t,l);var p=e[0].t.cb=s(t,l),f=a.makeColorScaleFunc(a.extractScale(r.colorscale,u,c),{noNumericCheck:!0});p.fillcolor(f).filllevels({start:u,end:c,size:(c-u)/254}).options(r.colorbar)()}},{"../../components/colorbar/draw":579,"../../components/colorscale":590,"../../lib":681,"../../plots/plots":779,"fast-isnumeric":113}],855:[function(t,e,r){"use strict";var n=t("../../lib"),o=t("../../constants/numerical").BADNUM;e.exports=function(t,e,r){var i,a=t.x.slice(),s=t.y.slice(),l=t.z,u=t.text,c=Math.min(a.length,s.length,l.length),p=void 0!==u&&!Array.isArray(u[0]),f=t.xcalendar,h=t.ycalendar;for(c<a.length&&(a=a.slice(0,c)),c<s.length&&(s=s.slice(0,c)),i=0;i<c;i++)a[i]=e.d2c(a[i],0,f),s[i]=r.d2c(s[i],0,h);var d,y=n.distinctVals(a),m=y.vals,v=n.distinctVals(s),g=v.vals,b=n.init2dArray(g.length,m.length);for(p&&(d=n.init2dArray(g.length,m.length)),i=0;i<c;i++)if(a[i]!==o&&s[i]!==o){var x=n.findBin(a[i]+y.minDiff/2,m),_=n.findBin(s[i]+v.minDiff/2,g);b[_][x]=l[i],p&&(d[_][x]=u[i])}t.x=m,t.y=g,t.z=b,p&&(t.text=d)}},{"../../constants/numerical":663,"../../lib":681}],856:[function(t,e,r){"use strict";var n=t("../../lib"),o=t("./has_columns"),i=t("./xyz_defaults"),a=t("../../components/colorscale/defaults"),s=t("./attributes");e.exports=function(t,e,r,l){function u(r,o){return n.coerce(t,e,s,r,o)}var c=i(t,e,u,l);if(!c)return void(e.visible=!1);u("text");var p=u("zsmooth");p===!1&&(u("xgap"),u("ygap")),u("connectgaps",o(e)&&e.zsmooth!==!1),a(t,e,l,u,{prefix:"",cLetter:"z"})}},{"../../components/colorscale/defaults":585,"../../lib":681,"./attributes":851,"./has_columns":858,"./xyz_defaults":866}],857:[function(t,e,r){"use strict";var n=t("./max_row_length");e.exports=function(t){var e,r,o,i,a,s,l,u,c=[],p={},f=[],h=t[0],d=[],y=[0,0,0],m=n(t);for(r=0;r<t.length;r++)for(e=d,d=h,h=t[r+1]||[],o=0;o<m;o++)void 0===d[o]&&(s=(void 0!==d[o-1]?1:0)+(void 0!==d[o+1]?1:0)+(void 0!==e[o]?1:0)+(void 0!==h[o]?1:0),s?(0===r&&s++,0===o&&s++,r===t.length-1&&s++,o===d.length-1&&s++,s<4&&(p[[r,o]]=[r,o,s]),c.push([r,o,s])):f.push([r,o]));for(;f.length;){for(l={},u=!1,a=f.length-1;a>=0;a--)i=f[a],r=i[0],o=i[1],s=((p[[r-1,o]]||y)[2]+(p[[r+1,o]]||y)[2]+(p[[r,o-1]]||y)[2]+(p[[r,o+1]]||y)[2])/20,s&&(l[i]=[r,o,s],f.splice(a,1),u=!0);if(!u)throw"findEmpties iterated with no new neighbors";for(i in l)p[i]=l[i],c.push(l[i])}return c.sort(function(t,e){return e[2]-t[2]})}},{"./max_row_length":863}],858:[function(t,e,r){"use strict";e.exports=function(t){return!Array.isArray(t.z[0])}},{}],859:[function(t,e,r){"use strict";var n=t("../../plots/cartesian/graph_interact"),o=t("../../lib"),i=t("../../plots/cartesian/constants").MAXDIST;e.exports=function(t,e,r,a,s){if(!(t.distance<i)){var l,u,c,p,f=t.cd[0],h=f.trace,d=t.xa,y=t.ya,m=f.x,v=f.y,g=f.z,b=f.zmask,x=m,_=v;if(t.index!==!1){try{c=Math.round(t.index[1]),p=Math.round(t.index[0])}catch(e){return void o.error("Error hovering on heatmap, pointNumber must be [row,col], found:",t.index)}if(c<0||c>=g[0].length||p<0||p>g.length)return}else{if(n.inbox(e-m[0],e-m[m.length-1])>i||n.inbox(r-v[0],r-v[v.length-1])>i)return;if(s){var w;for(x=[2*m[0]-m[1]],w=1;w<m.length;w++)x.push((m[w]+m[w-1])/2);for(x.push([2*m[m.length-1]-m[m.length-2]]),_=[2*v[0]-v[1]],w=1;w<v.length;w++)_.push((v[w]+v[w-1])/2);_.push([2*v[v.length-1]-v[v.length-2]])}c=Math.max(0,Math.min(x.length-2,o.findBin(e,x))),p=Math.max(0,Math.min(_.length-2,o.findBin(r,_)))}var T=d.c2p(m[c]),M=d.c2p(m[c+1]),S=y.c2p(v[p]),E=y.c2p(v[p+1]);s?(M=T,l=m[c],E=S,u=v[p]):(l=(m[c]+m[c+1])/2,u=(v[p]+v[p+1])/2,h.zsmooth&&(T=M=(T+M)/2,S=E=(S+E)/2));var k=g[p][c];b&&!b[p][c]&&(k=void 0);var C;return Array.isArray(f.text)&&Array.isArray(f.text[p])&&(C=f.text[p][c]),[o.extendFlat(t,{index:[p,c],distance:i+10,x0:T,x1:M,y0:S,y1:E,xLabelVal:l,yLabelVal:u,zLabelVal:k,text:C})]}}},{"../../lib":681,"../../plots/cartesian/constants":725,"../../plots/cartesian/graph_interact":727}],860:[function(t,e,r){"use strict";var n={};n.attributes=t("./attributes"),n.supplyDefaults=t("./defaults"),n.calc=t("./calc"),n.plot=t("./plot"),n.colorbar=t("./colorbar"),n.style=t("./style"),n.hoverPoints=t("./hover"),n.moduleType="trace",n.name="heatmap",n.basePlotModule=t("../../plots/cartesian"),n.categories=["cartesian","2dMap"],n.meta={},e.exports=n},{"../../plots/cartesian":728,"./attributes":851,"./calc":852,"./colorbar":854,"./defaults":856,"./hover":859,"./plot":864,"./style":865}],861:[function(t,e,r){"use strict";function n(t){return.5-.25*Math.min(1,.5*t)}function o(t,e,r){var n,o,i,a,l,u,c,p,f,h,d,y,m,v=0;for(a=0;a<e.length;a++){for(n=e[a],o=n[0],i=n[1],d=t[o][i],h=0,f=0,l=0;l<4;l++)u=s[l],c=t[o+u[0]],c&&(p=c[i+u[1]],void 0!==p&&(0===h?y=m=p:(y=Math.min(y,p),m=Math.max(m,p)),f++,h+=p));if(0===f)throw"iterateInterp2d order is wrong: no defined neighbors";t[o][i]=h/f,void 0===d?f<4&&(v=1):(t[o][i]=(1+r)*t[o][i]-r*d,m>y&&(v=Math.max(v,Math.abs(t[o][i]-d)/(m-y))))}return v}var i=t("../../lib"),a=.01,s=[[-1,0],[1,0],[0,-1],[0,1]];e.exports=function(t,e,r){var s,l,u=1;if(Array.isArray(r))for(s=0;s<e.length;s++)l=e[s],t[l[0]][l[1]]=r[l[0]][l[1]];else o(t,e);for(s=0;s<e.length&&!(e[s][2]<4);s++);for(e=e.slice(s),s=0;s<100&&u>a;s++)u=o(t,e,n(u));return u>a&&i.log("interp2d didn't converge quickly",u),t}},{"../../lib":681}],862:[function(t,e,r){"use strict";var n=t("../../registry");e.exports=function(t,e,r,o,i,a){var s,l,u,c=[],p=n.traceIs(t,"contour"),f=n.traceIs(t,"histogram"),h=n.traceIs(t,"gl2d"),d=Array.isArray(e)&&e.length>1;if(d&&!f&&"category"!==a.type){var y=e.length;if(!(y<=i))return p?e.slice(0,i):e.slice(0,i+1);if(p||h)c=e.slice(0,i);else if(1===i)c=[e[0]-.5,e[0]+.5];else{for(c=[1.5*e[0]-.5*e[1]],u=1;u<y;u++)c.push(.5*(e[u-1]+e[u]));c.push(1.5*e[y-1]-.5*e[y-2])}if(y<i){var m=c[c.length-1],v=m-c[c.length-2];for(u=y;u<i;u++)m+=v,c.push(m)}}else{l=o||1;var g=t[a._id.charAt(0)+"calendar"];for(s=f||"category"===a.type?a.r2c(r,0,g)||0:Array.isArray(e)&&1===e.length?e[0]:void 0===r?0:a.d2c(r,0,g),u=p||h?0:-.5;u<i;u++)c.push(s+l*u)}return c}},{"../../registry":794}],863:[function(t,e,r){"use strict";e.exports=function(t){for(var e=0,r=0;r<t.length;r++)e=Math.max(e,t[r].length);return e}},{}],864:[function(t,e,r){"use strict";function n(t,e,r){function n(t,e){var r=e.length-2,n=a.constrain(a.findBin(t,e),0,r),o=e[n],i=e[n+1],s=a.constrain(n+(t-o)/(i-o)-.5,0,r),l=Math.round(s),u=Math.abs(s-l);return s&&s!==r&&u?{bin0:l,frac:u,bin1:Math.round(l+u/(s-l))}:{bin0:l,bin1:l,frac:0}}function c(t,e,r,n,o,i,a,s,l){var u={x0:e,x1:r,y0:n,y1:o},c=2*t.xgap/3,p=2*t.ygap/3,f=t.xgap/3,h=t.ygap/3;return s===l-1&&(u.y1=o-p),i===a-1&&(u.x0=e+c),0===s&&(u.y0=n+p),0===i&&(u.x1=r-c),i>0&&i<a-1&&(u.x0=e+f,u.x1=r-f),s>0&&s<l-1&&(u.y0=n+h,u.y1=o-h),u}function p(t,e){if(void 0!==t){var r=G(t);return r[0]=Math.round(r[0]),r[1]=Math.round(r[1]),r[2]=Math.round(r[2]),ot+=e,it+=r[0]*e,at+=r[1]*e,st+=r[2]*e,r}return[0,0,0,0]}function f(t,e,r){t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=Math.round(255*r[3])}function h(t,e,r,n){var o=t[r.bin0];if(void 0===o)return p(void 0,1);var i,a=t[r.bin1],s=e[r.bin0],l=e[r.bin1],u=a-o||0,c=s-o||0;return i=void 0===a?void 0===l?0:void 0===s?2*(l-o):2*(2*l-s-o)/3:void 0===l?void 0===s?0:2*(2*o-a-s)/3:void 0===s?2*(2*l-a-o)/3:l+o-a-s,p(o+r.frac*u+n.frac*(c+r.frac*i))}var d=r[0].trace,y=d.uid,m=e.xaxis,v=e.yaxis,g=t._fullLayout,b="hm"+y;if(g._paper.selectAll(".contour"+y).remove(),g._infolayer.selectAll("g.rangeslider-container").selectAll(".contour"+y).remove(),d.visible!==!0)return g._paper.selectAll("."+b).remove(),void g._infolayer.selectAll(".cb"+y).remove();var x,_,w,T,M,S,E=r[0].z,k=r[0].x,C=r[0].y,A=i.traceIs(d,"contour"),P=A?"best":d.zsmooth,L=E.length,D=u(E),O=!1,I=!1;for(S=0;void 0===x&&S<k.length-1;)x=m.c2p(k[S]),S++;for(S=k.length-1;void 0===_&&S>0;)_=m.c2p(k[S]),S--;for(_<x&&(w=_,_=x,x=w,O=!0),S=0;void 0===T&&S<C.length-1;)T=v.c2p(C[S]),S++;for(S=C.length-1;void 0===M&&S>0;)M=v.c2p(C[S]),S--;if(M<T&&(w=T,T=M,M=w,I=!0),A&&(k=r[0].xfill,C=r[0].yfill),"fast"!==P){var R="best"===P?0:.5;x=Math.max(-R*m._length,x),_=Math.min((1+R)*m._length,_),T=Math.max(-R*v._length,T),M=Math.min((1+R)*v._length,M)}var N=Math.round(_-x),j=Math.round(M-T),F=N<=0||j<=0,z=e.plot.select(".imagelayer").selectAll("g.hm."+b).data(F?[]:[0]);if(z.enter().append("g").classed("hm",!0).classed(b,!0),z.exit().remove(),!F){var B,U;"fast"===P?(B=D,U=L):(B=N,U=j);var V=document.createElement("canvas");V.width=B,V.height=U;var H,W,q=V.getContext("2d"),G=s.makeColorScaleFunc(s.extractScale(d.colorscale,d.zmin,d.zmax),{noNumericCheck:!0,returnArray:!0});"fast"===P?(H=O?function(t){return D-1-t}:a.identity,W=I?function(t){return L-1-t}:a.identity):(H=function(t){return a.constrain(Math.round(m.c2p(k[t])-x),0,N)},W=function(t){return a.constrain(Math.round(v.c2p(C[t])-T),0,j)});var Y,X,K,Z,J,$,Q,tt=W(0),et=[tt,tt],rt=O?0:1,nt=I?0:1,ot=0,it=0,at=0,st=0;if(P){var lt,ut=0;try{lt=new Uint8Array(N*j*4)}catch(t){lt=new Array(N*j*4)}if("best"===P){var ct,pt,ft,ht=new Array(k.length),dt=new Array(C.length),yt=new Array(N);for(S=0;S<k.length;S++)ht[S]=Math.round(m.c2p(k[S])-x);for(S=0;S<C.length;S++)dt[S]=Math.round(v.c2p(C[S])-T);for(S=0;S<N;S++)yt[S]=n(S,ht);for(K=0;K<j;K++)for(ct=n(K,dt),pt=E[ct.bin0],ft=E[ct.bin1],S=0;S<N;S++,ut+=4)Q=h(pt,ft,yt[S],ct),f(lt,ut,Q)}else for(K=0;K<L;K++)for($=E[K],et=W(K),S=0;S<N;S++)Q=p($[S],1),ut=4*(et*N+H(S)),f(lt,ut,Q);var mt=q.createImageData(N,j);try{mt.data.set(lt)}catch(t){var vt=mt.data,gt=vt.length;for(K=0;K<gt;K++)vt[K]=lt[K]}q.putImageData(mt,0,0)}else for(K=0;K<L;K++)if($=E[K],et.reverse(),et[nt]=W(K+1),et[0]!==et[1]&&void 0!==et[0]&&void 0!==et[1])for(Z=H(0),X=[Z,Z],S=0;S<D;S++)X.reverse(),X[rt]=H(S+1),X[0]!==X[1]&&void 0!==X[0]&&void 0!==X[1]&&(J=$[S],Q=p(J,(X[1]-X[0])*(et[1]-et[0])),q.fillStyle="rgba("+Q.join(",")+")",Y=c(d,X[0],X[1],et[0],et[1],S,D,K,L),q.fillRect(Y.x0,Y.y0,Y.x1-Y.x0,Y.y1-Y.y0));it=Math.round(it/ot),at=Math.round(at/ot),st=Math.round(st/ot);var bt=o("rgb("+it+","+at+","+st+")");t._hmpixcount=(t._hmpixcount||0)+ot,t._hmlumcount=(t._hmlumcount||0)+ot*bt.getLuminance();var xt=z.selectAll("image").data(r);xt.enter().append("svg:image").attr({xmlns:l.svg,preserveAspectRatio:"none"}),xt.attr({height:j,width:N,x:x,y:T,"xlink:href":V.toDataURL("image/png")}),xt.exit().remove()}}var o=t("tinycolor2"),i=t("../../registry"),a=t("../../lib"),s=t("../../components/colorscale"),l=t("../../constants/xmlns_namespaces"),u=t("./max_row_length");e.exports=function(t,e,r){for(var o=0;o<r.length;o++)n(t,e,r[o])}},{"../../components/colorscale":590,"../../constants/xmlns_namespaces":665,"../../lib":681,"../../registry":794,"./max_row_length":863,tinycolor2:512}],865:[function(t,e,r){"use strict";var n=t("d3");e.exports=function(t){n.select(t).selectAll(".hm image").style("opacity",function(t){return t.trace.opacity})}},{d3:104}],866:[function(t,e,r){"use strict";function n(t,e){var r=e(t),n=r?e(t+"type","array"):"scaled";return"scaled"===n&&(e(t+"0"),e("d"+t)),r}function o(t){for(var e,r=!0,n=!1,o=!1,a=0;a<t.length;a++){if(e=t[a],!Array.isArray(e)){r=!1;break}e.length>0&&(n=!0);for(var s=0;s<e.length;s++)if(i(e[s])){o=!0;break}}return r&&n&&o}var i=t("fast-isnumeric"),a=t("../../registry"),s=t("./has_columns");e.exports=function(t,e,r,i){var l,u,c=r("z");if(void 0===c||!c.length)return 0;if(s(t)){if(l=r("x"),u=r("y"),!l||!u)return 0}else{if(l=n("x",r),u=n("y",r),!o(c))return 0;r("transpose")}var p=a.getComponentMethod("calendars","handleTraceDefaults");return p(t,e,["x","y"],i),e.z.length}},{"../../registry":794,"./has_columns":858,"fast-isnumeric":113}],867:[function(t,e,r){"use strict";for(var n=t("../heatmap/attributes"),o=t("../../components/colorscale/attributes"),i=t("../../components/colorbar/attributes"),a=t("../../lib/extend").extendFlat,s=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],l={},u=0;u<s.length;u++){var c=s[u];l[c]=n[c]}a(l,o,{autocolorscale:a({},o.autocolorscale,{dflt:!1})},{colorbar:i}),e.exports=l},{"../../components/colorbar/attributes":577,"../../components/colorscale/attributes":581,"../../lib/extend":673,"../heatmap/attributes":851}],868:[function(t,e,r){"use strict";function n(t,e){this.scene=t,this.uid=e,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=a(t.glplot,this.options),this.heatmap._trace=this}function o(t){for(var e=t.colorscale,r=t.zmin,n=t.zmax,o=e.length,i=new Array(o),a=new Array(4*o),s=0;s<o;s++){var u=e[s],c=l(u[1]);i[s]=r+u[0]*(n-r);for(var p=0;p<4;p++)a[4*s+p]=c[p]}return{colorLevels:i,colorValues:a}}function i(t,e,r){var o=new n(t,e.uid);return o.update(e,r),o}var a=t("gl-heatmap2d"),s=t("../../plots/cartesian/axes"),l=t("../../lib/str2rgbarray"),u=n.prototype;u.handlePick=function(t){var e=this.options,r=e.shape,n=t.pointId,o=n%r[0],i=Math.floor(n/r[0]),a=n;return{trace:this,dataCoord:t.dataCoord,traceCoord:[e.x[o],e.y[i],e.z[a]],textLabel:this.textLabels[n],name:this.name,pointIndex:[o,i],hoverinfo:this.hoverinfo}},u.update=function(t,e){var r=e[0];this.name=t.name,this.hoverinfo=t.hoverinfo;var n=r.z;this.options.z=[].concat.apply([],n);var i=n[0].length,a=n.length;this.options.shape=[i,a],this.options.x=r.x,this.options.y=r.y;var l=o(t);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],t.text),this.heatmap.update(this.options),s.expand(this.scene.xaxis,r.x),s.expand(this.scene.yaxis,r.y)},u.dispose=function(){this.heatmap.dispose()},e.exports=i},{"../../lib/str2rgbarray":699,"../../plots/cartesian/axes":720,"gl-heatmap2d":147}],869:[function(t,e,r){"use strict";var n={};n.attributes=t("./attributes"),n.supplyDefaults=t("../heatmap/defaults"),n.colorbar=t("../heatmap/colorbar"),n.calc=t("../heatmap/calc"),n.plot=t("./convert"),n.moduleType="trace",n.name="heatmapgl",n.basePlotModule=t("../../plots/gl2d"),n.categories=["gl2d","2dMap"],n.meta={},e.exports=n},{"../../plots/gl2d":756,"../heatmap/calc":852,"../heatmap/colorbar":854,"../heatmap/defaults":856,"./attributes":867,"./convert":868}],870:[function(t,e,r){"use strict";function n(t){return{start:{valType:"any",dflt:null},end:{valType:"any",dflt:null},size:{valType:"any",dflt:null}}}var o=t("../bar/attributes");e.exports={x:{valType:"data_array"},y:{valType:"data_array"},text:o.text,orientation:o.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:""},cumulative:{enabled:{valType:"boolean",dflt:!1},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include"}},autobinx:{valType:"boolean",dflt:null},nbinsx:{valType:"integer",min:0,dflt:0},xbins:n("x"),autobiny:{valType:"boolean",dflt:null},nbinsy:{valType:"integer",min:0,dflt:0},ybins:n("y"),marker:o.marker,error_y:o.error_y,error_x:o.error_x,_deprecated:{bardir:o._deprecated.bardir}}},{"../bar/attributes":804}],871:[function(t,e,r){"use strict";e.exports=function(t,e){for(var r=t.length,n=0,o=0;o<r;o++)e[o]?(t[o]/=e[o],n+=t[o]):t[o]=null;return n}},{}],872:[function(t,e,r){"use strict";e.exports=function(t,e,r,n){return r("histnorm"),n.forEach(function(t){r(t+"bins.start"),r(t+"bins.end"),r(t+"bins.size"),r("autobin"+t),r("nbins"+t)}),e}},{}],873:[function(t,e,r){"use strict";var n=t("fast-isnumeric");e.exports={count:function(t,e,r){return r[t]++,1},sum:function(t,e,r,o){var i=o[e];return n(i)?(i=Number(i),r[t]+=i,i):0},avg:function(t,e,r,o,i){var a=o[e];return n(a)&&(a=Number(a),r[t]+=a,i[t]++),0},min:function(t,e,r,o){var i=o[e];if(n(i)){if(i=Number(i),!n(r[t]))return r[t]=i,i;if(r[t]>i){var a=i-r[t];return r[t]=i,a}}return 0},max:function(t,e,r,o){var i=o[e];if(n(i)){if(i=Number(i),!n(r[t]))return r[t]=i,i;if(r[t]<i){var a=i-r[t];return r[t]=i,a}}return 0}}},{"fast-isnumeric":113}],874:[function(t,e,r){"use strict";function n(t,e,r){function n(e){s=t[e],t[e]/=2}function o(e){a=t[e],t[e]=s+a/2,s+=a}var i,a,s;if("half"===r)if("increasing"===e)for(n(0),i=1;i<t.length;i++)o(i);else for(n(t.length-1),i=t.length-2;i>=0;i--)o(i);else if("increasing"===e){for(i=1;i<t.length;i++)t[i]+=t[i-1];"exclude"===r&&(t.unshift(0),t.pop())}else{for(i=t.length-2;i>=0;i--)t[i]+=t[i+1];"exclude"===r&&(t.push(0),t.shift())}}var o=t("fast-isnumeric"),i=t("../../lib"),a=t("../../plots/cartesian/axes"),s=t("../bar/arrays_to_calcdata"),l=t("./bin_functions"),u=t("./norm_functions"),c=t("./average"),p=t("./clean_bins");e.exports=function(t,e){if(e.visible===!0){var r,f=[],h=[],d=a.getFromId(t,"h"===e.orientation?e.yaxis||"y":e.xaxis||"x"),y="h"===e.orientation?"y":"x",m={x:"y",y:"x"}[y],v=e[y+"calendar"],g=e.cumulative;p(e,d,y);var b,x=d.makeCalcdata(e,y),_=y+"bins";e["autobin"+y]===!1&&_ in e?b=e[_]:(b=a.autoBin(x,d,e["nbins"+y],!1,v),g.enabled&&"include"!==g.currentbin&&("decreasing"===g.direction?b.start=d.c2r(d.r2c(b.start)-b.size):b.end=d.c2r(d.r2c(b.end)+b.size)),e._input[_]=e[_]=b);var w,T,M,S="string"==typeof b.size,E=S?[]:b,k=[],C=[],A=0,P=e.histnorm,L=e.histfunc,D=P.indexOf("density")!==-1;g.enabled&&D&&(P=P.replace(/ ?density$/,""),D=!1);var O,I="max"===L||"min"===L,R=I?null:0,N=l.count,j=u[P],F=!1,z=function(t){return d.r2c(t,0,v)};for(Array.isArray(e[m])&&"count"!==L&&(O=e[m],F="avg"===L,N=l[L]),r=z(b.start),T=z(b.end)+(r-a.tickIncrement(r,b.size,!1,v))/1e6;r<T&&f.length<5e3;)w=a.tickIncrement(r,b.size,!1,v),f.push((r+w)/2),h.push(R),S&&E.push(r),D&&k.push(1/(w-r)),F&&C.push(0),r=w;S||"date"!==d.type||(E={start:z(E.start),end:z(E.end),size:E.size});var B=h.length;for(r=0;r<x.length;r++)M=i.findBin(x[r],E),M>=0&&M<B&&(A+=N(M,r,h,O,C));F&&(A=c(h,C)),j&&j(h,A,k),g.enabled&&n(h,g.direction,g.currentbin);var U=Math.min(f.length,h.length),V=[],H=0,W=U-1;for(r=0;r<U;r++)if(h[r]){H=r;break}for(r=U-1;r>H;r--)if(h[r]){W=r;break}for(r=H;r<=W;r++)o(f[r])&&o(h[r])&&V.push({p:f[r],s:h[r],b:0});return s(V,e),V}}},{"../../lib":681,"../../plots/cartesian/axes":720,"../bar/arrays_to_calcdata":803,"./average":871,"./bin_functions":873,"./clean_bins":875,"./norm_functions":878,"fast-isnumeric":113}],875:[function(t,e,r){"use strict";var n=t("fast-isnumeric"),o=t("../../lib").cleanDate,i=t("../../constants/numerical"),a=i.ONEDAY,s=i.BADNUM;e.exports=function(t,e,r){var i=e.type,l=r+"bins",u=t[l];u||(u=t[l]={});var c="date"===i?function(t){return t||0===t?o(t,s,u.calendar):null}:function(t){return n(t)?Number(t):null};u.start=c(u.start),u.end=c(u.end);var p="date"===i?a:1,f=u.size;if(n(f))u.size=f>0?Number(f):p;else if("string"!=typeof f)u.size=p;else{var h=f.charAt(0),d=f.substr(1);d=n(d)?Number(d):0,(d<=0||"date"!==i||"M"!==h||d!==Math.round(d))&&(u.size=p)}var y="autobin"+r;"boolean"!=typeof t[y]&&(t[y]=!((u.start||0===u.start)&&(u.end||0===u.end))),t[y]||delete t["nbins"+r]}},{"../../constants/numerical":663,"../../lib":681,"fast-isnumeric":113}],876:[function(t,e,r){"use strict";var n=t("../../registry"),o=t("../../lib"),i=t("../../components/color"),a=t("./bin_defaults"),s=t("../bar/style_defaults"),l=t("../../components/errorbars/defaults"),u=t("./attributes");e.exports=function(t,e,r,c){function p(r,n){return o.coerce(t,e,u,r,n)}var f=p("x"),h=p("y"),d=p("cumulative.enabled");d&&(p("cumulative.direction"),p("cumulative.currentbin")),p("text");var y=p("orientation",h&&!f?"h":"v"),m=e["v"===y?"x":"y"];if(!m||!m.length)return void(e.visible=!1);var v=n.getComponentMethod("calendars","handleTraceDefaults");v(t,e,["x","y"],c);var g=e["h"===y?"x":"y"];g&&p("histfunc");var b="h"===y?["y"]:["x"];a(t,e,p,b),s(t,e,p,r,c),l(t,e,i.defaultLine,{axis:"y"}),l(t,e,i.defaultLine,{axis:"x",inherit:"y"})}},{"../../components/color":576,"../../components/errorbars/defaults":604,"../../lib":681,"../../registry":794,"../bar/style_defaults":815,"./attributes":870,"./bin_defaults":872}],877:[function(t,e,r){"use strict";var n={};n.attributes=t("./attributes"),n.layoutAttributes=t("../bar/layout_attributes"),n.supplyDefaults=t("./defaults"),n.supplyLayoutDefaults=t("../bar/layout_defaults"),n.calc=t("./calc"),n.setPositions=t("../bar/set_positions"),n.plot=t("../bar/plot"),n.style=t("../bar/style"),n.colorbar=t("../scatter/colorbar"),n.hoverPoints=t("../bar/hover"),n.moduleType="trace",n.name="histogram",n.basePlotModule=t("../../plots/cartesian"),n.categories=["cartesian","bar","histogram","oriented","errorBarsOK","showLegend"],n.meta={},e.exports=n},{"../../plots/cartesian":728,"../bar/hover":807,"../bar/layout_attributes":809,"../bar/layout_defaults":810,"../bar/plot":811,"../bar/set_positions":812,"../bar/style":814,"../scatter/colorbar":927,"./attributes":870,"./calc":874,"./defaults":876}],878:[function(t,e,r){"use strict";e.exports={percent:function(t,e){for(var r=t.length,n=100/e,o=0;o<r;o++)t[o]*=n},probability:function(t,e){for(var r=t.length,n=0;n<r;n++)t[n]/=e},density:function(t,e,r,n){var o=t.length;n=n||1;for(var i=0;i<o;i++)t[i]*=r[i]*n},"probability density":function(t,e,r,n){var o=t.length;n&&(e/=n);for(var i=0;i<o;i++)t[i]*=r[i]/e}}},{}],879:[function(t,e,r){"use strict";var n=t("../histogram/attributes"),o=t("../heatmap/attributes"),i=t("../../components/colorscale/attributes"),a=t("../../components/colorbar/attributes"),s=t("../../lib/extend").extendFlat;e.exports=s({},{x:n.x,y:n.y,z:{valType:"data_array"},marker:{color:{valType:"data_array"}},histnorm:n.histnorm,histfunc:n.histfunc,autobinx:n.autobinx,nbinsx:n.nbinsx,xbins:n.xbins,autobiny:n.autobiny,nbinsy:n.nbinsy,ybins:n.ybins,xgap:o.xgap,ygap:o.ygap,zsmooth:o.zsmooth},i,{autocolorscale:s({},i.autocolorscale,{dflt:!1})},{colorbar:a})},{"../../components/colorbar/attributes":577,"../../components/colorscale/attributes":581,"../../lib/extend":673,"../heatmap/attributes":851,"../histogram/attributes":870}],880:[function(t,e,r){"use strict";var n=t("../../lib"),o=t("../../plots/cartesian/axes"),i=t("../histogram/bin_functions"),a=t("../histogram/norm_functions"),s=t("../histogram/average"),l=t("../histogram/clean_bins");e.exports=function(t,e){var r,u,c,p,f,h,d=o.getFromId(t,e.xaxis||"x"),y=e.x?d.makeCalcdata(e,"x"):[],m=o.getFromId(t,e.yaxis||"y"),v=e.y?m.makeCalcdata(e,"y"):[],g=e.xcalendar,b=e.ycalendar,x=function(t){return d.r2c(t,0,g)},_=function(t){return m.r2c(t,0,b)},w=function(t){return d.c2r(t,0,g)},T=function(t){return m.c2r(t,0,b)};l(e,d,"x"),l(e,m,"y");var M=Math.min(y.length,v.length);y.length>M&&y.splice(M,y.length-M),v.length>M&&v.splice(M,v.length-M),!e.autobinx&&"xbins"in e||(e.xbins=o.autoBin(y,d,e.nbinsx,"2d",g),"histogram2dcontour"===e.type&&(e.xbins.start=w(o.tickIncrement(x(e.xbins.start),e.xbins.size,!0,g)),e.xbins.end=w(o.tickIncrement(x(e.xbins.end),e.xbins.size,!1,g))),e._input.xbins=e.xbins),!e.autobiny&&"ybins"in e||(e.ybins=o.autoBin(v,m,e.nbinsy,"2d",b),"histogram2dcontour"===e.type&&(e.ybins.start=T(o.tickIncrement(_(e.ybins.start),e.ybins.size,!0,b)),e.ybins.end=T(o.tickIncrement(_(e.ybins.end),e.ybins.size,!1,b))),e._input.ybins=e.ybins),f=[];var S,E,k=[],C=[],A="string"==typeof e.xbins.size,P="string"==typeof e.ybins.size,L=A?[]:e.xbins,D=P?[]:e.ybins,O=0,I=[],R=e.histnorm,N=e.histfunc,j=R.indexOf("density")!==-1,F="max"===N||"min"===N,z=F?null:0,B=i.count,U=a[R],V=!1,H=[],W=[],q="z"in e?e.z:"marker"in e&&Array.isArray(e.marker.color)?e.marker.color:"";q&&"count"!==N&&(V="avg"===N,B=i[N]);var G=e.xbins,Y=x(G.start),X=x(G.end)+(Y-o.tickIncrement(Y,G.size,!1,g))/1e6;for(h=Y;h<X;h=o.tickIncrement(h,G.size,!1,g))k.push(z),A&&L.push(h),V&&C.push(0);A&&L.push(h);var K=k.length;r=e.xbins.start;var Z=x(r);for(u=(h-Z)/K,r=w(Z+u/2),G=e.ybins,Y=_(G.start),X=_(G.end)+(Y-o.tickIncrement(Y,G.size,!1,b))/1e6,h=Y;h<X;h=o.tickIncrement(h,G.size,!1,b))f.push(k.concat()),P&&D.push(h),V&&I.push(C.concat());P&&D.push(h);var J=f.length;c=e.ybins.start;var $=_(c);for(p=(h-$)/J,c=T($+p/2),j&&(H=k.map(function(t,e){return A?1/(L[e+1]-L[e]):1/u}),W=f.map(function(t,e){return P?1/(D[e+1]-D[e]):1/p})),A||"date"!==d.type||(L={start:x(L.start),end:x(L.end),size:L.size}),P||"date"!==m.type||(D={start:_(D.start),end:_(D.end),size:D.size}),h=0;h<M;h++)S=n.findBin(y[h],L),E=n.findBin(v[h],D),S>=0&&S<K&&E>=0&&E<J&&(O+=B(S,h,f[E],q,I[E]));if(V)for(E=0;E<J;E++)O+=s(f[E],I[E]);if(U)for(E=0;E<J;E++)U(f[E],O,H,W[E]);return{x:y,x0:r,dx:u,y:v,y0:c,dy:p,z:f}}},{"../../lib":681,"../../plots/cartesian/axes":720,"../histogram/average":871,"../histogram/bin_functions":873,"../histogram/clean_bins":875,"../histogram/norm_functions":878}],881:[function(t,e,r){"use strict";var n=t("../../lib"),o=t("./sample_defaults"),i=t("../../components/colorscale/defaults"),a=t("./attributes");e.exports=function(t,e,r,s){function l(r,o){return n.coerce(t,e,a,r,o)}o(t,e,l,s);var u=l("zsmooth");u===!1&&(l("xgap"),l("ygap")),i(t,e,s,l,{prefix:"",cLetter:"z"})}},{"../../components/colorscale/defaults":585,"../../lib":681,"./attributes":879,"./sample_defaults":883}],882:[function(t,e,r){"use strict";var n={};n.attributes=t("./attributes"),n.supplyDefaults=t("./defaults"),n.calc=t("../heatmap/calc"),n.plot=t("../heatmap/plot"),n.colorbar=t("../heatmap/colorbar"),n.style=t("../heatmap/style"),n.hoverPoints=t("../heatmap/hover"),n.moduleType="trace",n.name="histogram2d",n.basePlotModule=t("../../plots/cartesian"),n.categories=["cartesian","2dMap","histogram"],n.meta={},e.exports=n},{"../../plots/cartesian":728,"../heatmap/calc":852,"../heatmap/colorbar":854,"../heatmap/hover":859,"../heatmap/plot":864,"../heatmap/style":865,"./attributes":879,"./defaults":881}],883:[function(t,e,r){"use strict";var n=t("../../registry"),o=t("../histogram/bin_defaults");e.exports=function(t,e,r,i){var a=r("x"),s=r("y");if(!(a&&a.length&&s&&s.length))return void(e.visible=!1);var l=n.getComponentMethod("calendars","handleTraceDefaults");l(t,e,["x","y"],i);var u=r("z")||r("marker.color");u&&r("histfunc");var c=["x","y"];o(t,e,r,c)}},{"../../registry":794,"../histogram/bin_defaults":872}],884:[function(t,e,r){"use strict";var n=t("../histogram2d/attributes"),o=t("../contour/attributes"),i=t("../../components/colorscale/attributes"),a=t("../../components/colorbar/attributes"),s=t("../../lib/extend").extendFlat;e.exports=s({},{x:n.x,y:n.y,z:n.z,
marker:n.marker,histnorm:n.histnorm,histfunc:n.histfunc,autobinx:n.autobinx,nbinsx:n.nbinsx,xbins:n.xbins,autobiny:n.autobiny,nbinsy:n.nbinsy,ybins:n.ybins,autocontour:o.autocontour,ncontours:o.ncontours,contours:o.contours,line:o.line},i,{colorbar:a})},{"../../components/colorbar/attributes":577,"../../components/colorscale/attributes":581,"../../lib/extend":673,"../contour/attributes":837,"../histogram2d/attributes":879}],885:[function(t,e,r){"use strict";var n=t("../../lib"),o=t("../histogram2d/sample_defaults"),i=t("../contour/style_defaults"),a=t("./attributes");e.exports=function(t,e,r,s){function l(r,o){return n.coerce(t,e,a,r,o)}o(t,e,l,s);var u=n.coerce2(t,e,a,"contours.start"),c=n.coerce2(t,e,a,"contours.end"),p=l("autocontour",!(u&&c));l(p?"ncontours":"contours.size"),i(t,e,l,s)}},{"../../lib":681,"../contour/style_defaults":850,"../histogram2d/sample_defaults":883,"./attributes":884}],886:[function(t,e,r){"use strict";var n={};n.attributes=t("./attributes"),n.supplyDefaults=t("./defaults"),n.calc=t("../contour/calc"),n.plot=t("../contour/plot"),n.style=t("../contour/style"),n.colorbar=t("../contour/colorbar"),n.hoverPoints=t("../contour/hover"),n.moduleType="trace",n.name="histogram2dcontour",n.basePlotModule=t("../../plots/cartesian"),n.categories=["cartesian","2dMap","contour","histogram"],n.meta={},e.exports=n},{"../../plots/cartesian":728,"../contour/calc":838,"../contour/colorbar":839,"../contour/hover":844,"../contour/plot":848,"../contour/style":849,"./attributes":884,"./defaults":885}],887:[function(t,e,r){"use strict";var n=t("../../components/colorscale/attributes"),o=t("../../components/colorbar/attributes"),i=t("../surface/attributes"),a=t("../../lib/extend").extendFlat;e.exports={x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},i:{valType:"data_array"},j:{valType:"data_array"},k:{valType:"data_array"},delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z"},alphahull:{valType:"number",dflt:-1},intensity:{valType:"data_array"},color:{valType:"color"},vertexcolor:{valType:"data_array"},facecolor:{valType:"data_array"},opacity:a({},i.opacity),flatshading:{valType:"boolean",dflt:!1},contour:{show:a({},i.contours.x.show,{}),color:a({},i.contours.x.color),width:a({},i.contours.x.width)},colorscale:n.colorscale,reversescale:n.reversescale,showscale:n.showscale,colorbar:o,lightposition:{x:a({},i.lightposition.x,{dflt:1e5}),y:a({},i.lightposition.y,{dflt:1e5}),z:a({},i.lightposition.z,{dflt:0})},lighting:a({},{vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6}},i.lighting)}},{"../../components/colorbar/attributes":577,"../../components/colorscale/attributes":581,"../../lib/extend":673,"../surface/attributes":980}],888:[function(t,e,r){"use strict";function n(t,e,r){this.scene=t,this.uid=r,this.mesh=e,this.name="",this.color="#fff",this.data=null,this.showContour=!1}function o(t){return t.map(function(t){var e=t[0],r=u(t[1]),n=r.toRgb();return{index:e,rgb:[n.r,n.g,n.b,1]}})}function i(t){return t.map(h)}function a(t,e,r){for(var n=new Array(t.length),o=0;o<t.length;++o)n[o]=[t[o],e[o],r[o]];return n}function s(t,e){var r=t.glplot.gl,o=l({gl:r}),i=new n(t,o,e.uid);return o._trace=i,i.update(e),t.glplot.add(o),i}var l=t("gl-mesh3d"),u=t("tinycolor2"),c=t("delaunay-triangulate"),p=t("alpha-shape"),f=t("convex-hull"),h=t("../../lib/str2rgbarray"),d=n.prototype;d.handlePick=function(t){if(t.object===this.mesh){var e=t.data.index;return t.traceCoordinate=[this.data.x[e],this.data.y[e],this.data.z[e]],!0}},d.update=function(t){function e(t,e,r,n){return e.map(function(e){return t.d2l(e,0,n)*r})}var r=this.scene,n=r.fullSceneLayout;this.data=t;var s,l=a(e(n.xaxis,t.x,r.dataScale[0],t.xcalendar),e(n.yaxis,t.y,r.dataScale[1],t.ycalendar),e(n.zaxis,t.z,r.dataScale[2],t.zcalendar));if(t.i&&t.j&&t.k)s=a(t.i,t.j,t.k);else if(0===t.alphahull)s=f(l);else if(t.alphahull>0)s=p(t.alphahull,l);else{var u=["x","y","z"].indexOf(t.delaunayaxis);s=c(l.map(function(t){return[t[(u+1)%3],t[(u+2)%3]]}))}var d={positions:l,cells:s,lightPosition:[t.lightposition.x,t.lightposition.y,t.lightposition.z],ambient:t.lighting.ambient,diffuse:t.lighting.diffuse,specular:t.lighting.specular,roughness:t.lighting.roughness,fresnel:t.lighting.fresnel,vertexNormalsEpsilon:t.lighting.vertexnormalsepsilon,faceNormalsEpsilon:t.lighting.facenormalsepsilon,opacity:t.opacity,contourEnable:t.contour.show,contourColor:h(t.contour.color).slice(0,3),contourWidth:t.contour.width,useFacetNormals:t.flatshading};t.intensity?(this.color="#fff",d.vertexIntensity=t.intensity,d.colormap=o(t.colorscale)):t.vertexcolor?(this.color=t.vertexcolors[0],d.vertexColors=i(t.vertexcolor)):t.facecolor?(this.color=t.facecolor[0],d.cellColors=i(t.facecolor)):(this.color=t.color,d.meshColor=h(t.color)),this.mesh.update(d)},d.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},e.exports=s},{"../../lib/str2rgbarray":699,"alpha-shape":35,"convex-hull":93,"delaunay-triangulate":105,"gl-mesh3d":186,tinycolor2:512}],889:[function(t,e,r){"use strict";var n=t("../../registry"),o=t("../../lib"),i=t("../../components/colorbar/defaults"),a=t("./attributes");e.exports=function(t,e,r,s){function l(r,n){return o.coerce(t,e,a,r,n)}function u(t){var e=t.map(function(t){var e=l(t);return e&&Array.isArray(e)?e:null});return e.every(function(t){return t&&t.length===e[0].length})&&e}var c=u(["x","y","z"]),p=u(["i","j","k"]);if(!c)return void(e.visible=!1);p&&p.forEach(function(t){for(var e=0;e<t.length;++e)t[e]|=0});var f=n.getComponentMethod("calendars","handleTraceDefaults");f(t,e,["x","y","z"],s),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","contour.show","contour.color","contour.width","colorscale","reversescale","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(t){l(t)}),"intensity"in t?(l("intensity"),l("showscale",!0)):(e.showscale=!1,"vertexcolor"in t?l("vertexcolor"):"facecolor"in t?l("facecolor"):l("color",r)),e.reversescale&&(e.colorscale=e.colorscale.map(function(t){return[1-t[0],t[1]]}).reverse()),e.showscale&&i(t,e,s)}},{"../../components/colorbar/defaults":578,"../../lib":681,"../../registry":794,"./attributes":887}],890:[function(t,e,r){"use strict";var n={};n.attributes=t("./attributes"),n.supplyDefaults=t("./defaults"),n.colorbar=t("../heatmap/colorbar"),n.plot=t("./convert"),n.moduleType="trace",n.name="mesh3d",n.basePlotModule=t("../../plots/gl3d"),n.categories=["gl3d"],n.meta={},e.exports=n},{"../../plots/gl3d":759,"../heatmap/colorbar":854,"./attributes":887,"./convert":888,"./defaults":889}],891:[function(t,e,r){"use strict";var n=t("../../lib"),o=t("../scatter/attributes"),i="#3D9970",a="#FF4136",s=o.line,l={name:{valType:"string"},showlegend:{valType:"boolean",dflt:!0},line:{color:n.extendFlat({},s.color),width:n.extendFlat({},s.width),dash:n.extendFlat({},s.dash)}};e.exports={x:{valType:"data_array"},open:{valType:"data_array",dflt:[]},high:{valType:"data_array",dflt:[]},low:{valType:"data_array",dflt:[]},close:{valType:"data_array",dflt:[]},line:{width:n.extendFlat({},s.width,{}),dash:n.extendFlat({},s.dash,{})},increasing:n.extendDeep({},l,{line:{color:{dflt:i}}}),decreasing:n.extendDeep({},l,{line:{color:{dflt:a}}}),text:{valType:"string",dflt:"",arrayOk:!0},tickwidth:{valType:"number",min:0,max:.5,dflt:.3}}},{"../../lib":681,"../scatter/attributes":924}],892:[function(t,e,r){"use strict";function n(t,e,r,n){a(t,e,r,n),r(n+".line.color"),r(n+".line.width",e.line.width),r(n+".line.dash",e.line.dash)}var o=t("../../lib"),i=t("./ohlc_defaults"),a=t("./direction_defaults"),s=t("./attributes"),l=t("./helpers");e.exports=function(t,e,r,a){function u(r,n){return o.coerce(t,e,s,r,n)}l.pushDummyTransformOpts(t,e);var c=i(t,e,u,a);return 0===c?void(e.visible=!1):(u("line.width"),u("line.dash"),n(t,e,u,"increasing"),n(t,e,u,"decreasing"),u("text"),void u("tickwidth"))}},{"../../lib":681,"./attributes":891,"./direction_defaults":893,"./helpers":894,"./ohlc_defaults":896}],893:[function(t,e,r){"use strict";e.exports=function(t,e,r,n){r(n+".showlegend"),t.showlegend===!1&&(e[n].showlegend=!1);var o=e.name+" - "+n;r(n+".name",o)}},{}],894:[function(t,e,r){"use strict";var n=t("../../lib");r.pushDummyTransformOpts=function(t,e){var r={type:e.type,_ephemeral:!0};Array.isArray(t.transforms)?t.transforms.push(r):t.transforms=[r]},r.clearEphemeralTransformOpts=function(t){var e=t.transforms;if(Array.isArray(e)){for(var r=0;r<e.length;r++)e[r]._ephemeral&&e.splice(r,1);0===e.length&&delete t.transforms}},r.copyOHLC=function(t,e){t.open&&(e.open=t.open),t.high&&(e.high=t.high),t.low&&(e.low=t.low),t.close&&(e.close=t.close)},r.makeTransform=function(t,e,r){var o=n.extendFlat([],t.transforms);return o[e.transformIndex]={type:t.type,direction:r,open:t.open,high:t.high,low:t.low,close:t.close},o},r.getFilterFn=function(t){switch(t){case"increasing":return function(t,e){return t<=e};case"decreasing":return function(t,e){return t>e}}},r.addRangeSlider=function(t,e){for(var r=!1,n=0;n<t.length;n++)if(t[n].visible===!0){r=!0;break}r&&(e.xaxis||(e.xaxis={}),e.xaxis.rangeslider||(e.xaxis.rangeslider={}))}},{"../../lib":681}],895:[function(t,e,r){"use strict";var n=t("../../plot_api/register");e.exports={moduleType:"trace",name:"ohlc",basePlotModule:t("../../plots/cartesian"),categories:["cartesian","showLegend"],meta:{},attributes:t("./attributes"),supplyDefaults:t("./defaults")},n(t("../scatter")),n(t("./transform"))},{"../../plot_api/register":710,"../../plots/cartesian":728,"../scatter":934,"./attributes":891,"./defaults":892,"./transform":897}],896:[function(t,e,r){"use strict";var n=t("../../registry");e.exports=function(t,e,r,o){var i,a=r("x"),s=r("open"),l=r("high"),u=r("low"),c=r("close"),p=n.getComponentMethod("calendars","handleTraceDefaults");return p(t,e,["x"],o),i=Math.min(s.length,l.length,u.length,c.length),a&&(i=Math.min(i,a.length),i<a.length&&(e.x=a.slice(0,i))),i<s.length&&(e.open=s.slice(0,i)),i<l.length&&(e.high=l.slice(0,i)),i<u.length&&(e.low=u.slice(0,i)),i<c.length&&(e.close=c.slice(0,i)),i}},{"../../registry":794}],897:[function(t,e,r){"use strict";function n(t,e,r){var n={type:"scatter",mode:"lines",connectgaps:!1,visible:t.visible,opacity:t.opacity,xaxis:t.xaxis,yaxis:t.yaxis,hoverinfo:o(t),transforms:s.makeTransform(t,e,r)},i=t[r];return i&&a.extendFlat(n,{x:t.x||[0],xcalendar:t.xcalendar,y:[].concat(t.low).concat(t.high),text:t.text,name:i.name,showlegend:i.showlegend,line:i.line}),n}function o(t){var e=t.hoverinfo;if("all"===e)return"x+text+name";var r=e.split("+"),n=r.indexOf("y"),o=r.indexOf("text");return n!==-1&&(r.splice(n,1),o===-1&&r.push("text")),r.join("+")}function i(t,e,r){var n=r._fullInput,o=n.tickwidth,i=n._minDiff;if(!i){var s=t._fullData,l=[];i=1/0;var u;for(u=0;u<s.length;u++){var c=s[u]._fullInput;if("ohlc"===c.type&&c.visible===!0&&c.xaxis===e._id&&(l.push(c),c.x&&c.x.length>1)){var p=a.simpleMap(c.x,e.d2c,0,r.xcalendar),f=a.distinctVals(p).minDiff;i=Math.min(i,f)}}for(i===1/0&&(i=1),u=0;u<l.length;u++)l[u]._minDiff=i}return i*o}var a=t("../../lib"),s=t("./helpers"),l=t("../../plots/cartesian/axes"),u=t("../../plots/cartesian/axis_ids");r.moduleType="transform",r.name="ohlc",r.attributes={},r.supplyDefaults=function(t,e,r,n){return s.clearEphemeralTransformOpts(n),s.copyOHLC(t,e),t},r.transform=function(t,e){for(var r=[],o=0;o<t.length;o++){var i=t[o];"ohlc"===i.type?r.push(n(i,e,"increasing"),n(i,e,"decreasing")):r.push(i)}return s.addRangeSlider(r,e.layout),r},r.calcTransform=function(t,e,r){var n,o=r.direction,a=s.getFilterFn(o),c=u.getFromTrace(t,e,"x"),p=u.getFromTrace(t,e,"y"),f=i(t,c,e),h=e.open,d=e.high,y=e.low,m=e.close,v=e.text,g=h.length,b=[],x=[],_=[];n=e._fullInput.x?function(t){var r=e.x[t],n=e.xcalendar,o=c.d2c(r,0,n);b.push(c.c2d(o-f,0,n),r,r,r,r,c.c2d(o+f,0,n),null)}:function(t){b.push(t-f,t,t,t,t,t+f,null)};for(var w=function(t,e,r,n){x.push(t,t,e,r,n,n,null)},T=function(t,e){return l.tickText(t,t.c2l(e),"hover").text},M=e._fullInput.hoverinfo,S=M.split("+"),E="all"===M,k=E||S.indexOf("y")!==-1,C=E||S.indexOf("text")!==-1,A=Array.isArray(v)?function(t){return v[t]||""}:function(){return v},P=function(t,e,r,n,o){var i=[];k&&(i.push("Open: "+T(p,e)),i.push("High: "+T(p,r)),i.push("Low: "+T(p,n)),i.push("Close: "+T(p,o))),C&&i.push(A(t));var a=i.join("<br>");_.push(a,a,a,a,a,a,null)},L=0;L<g;L++)a(h[L],m[L])&&(n(L),w(h[L],d[L],y[L],m[L]),P(L,h[L],d[L],y[L],m[L]));e.x=b,e.y=x,e.text=_}},{"../../lib":681,"../../plots/cartesian/axes":720,"../../plots/cartesian/axis_ids":723,"./helpers":894}],898:[function(t,e,r){"use strict";var n=t("../../components/colorscale/color_attributes"),o=t("../../components/colorbar/attributes"),i=t("../../components/colorscale/scales"),a=t("../../plots/cartesian/layout_attributes"),s=t("../../lib/extend").extendDeep,l=t("../../lib/extend").extendFlat;e.exports={domain:{x:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]},y:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]}},dimensions:{_isLinkedToArray:"dimension",label:{valType:"string"},tickvals:a.tickvals,ticktext:a.ticktext,tickformat:{valType:"string",dflt:"3s"},visible:{valType:"boolean",dflt:!0},range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},constraintrange:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},values:{valType:"data_array",dflt:[]}},line:l({},s({},n("line"),{colorscale:s({},n("line").colorscale,{dflt:i.Viridis}),autocolorscale:s({},n("line").autocolorscale,{dflt:!1})}),{showscale:{valType:"boolean",dflt:!1},colorbar:o})}},{"../../components/colorbar/attributes":577,"../../components/colorscale/color_attributes":583,"../../components/colorscale/scales":594,"../../lib/extend":673,"../../plots/cartesian/layout_attributes":729}],899:[function(t,e,r){"use strict";var n=t("d3"),o=t("../../plots/plots"),i=t("./plot"),a=t("../../constants/xmlns_namespaces"),s=t("./constants");r.name="parcoords",r.attr="type",r.plot=function(t){var e=o.getSubplotCalcData(t.calcdata,"parcoords","parcoords");e.length&&i(t,e)},r.clean=function(t,e,r,n){var o=n._has&&n._has("parcoords"),i=e._has&&e._has("parcoords");o&&!i&&(n._paperdiv.selectAll(".parcoords-line-layers").remove(),n._paperdiv.selectAll(".parcoords-line-layers").remove(),n._paperdiv.selectAll(".parcoords").remove(),n._paperdiv.selectAll(".parcoords").remove(),n._glimages.selectAll("*").remove())},r.toSVG=function(t){function e(e){var n=this,o=n.toDataURL("image/png"),i=r.append("svg:image"),l=t._fullLayout._size,u=t._fullData[e.model.key].domain;i.attr({xmlns:a.svg,"xlink:href":o,x:l.l+l.w*u.x[0]-s.overdrag,y:l.t+l.h*(1-u.y[1]),width:(u.x[1]-u.x[0])*l.w+2*s.overdrag,height:(u.y[1]-u.y[0])*l.h,preserveAspectRatio:"none"})}var r=t._fullLayout._glimages,o=n.selectAll(".svg-container"),i=o.filter(function(t,e){return e===o.size()-1}).selectAll(".parcoords-lines.context, .parcoords-lines.focus");i.each(e),window.setTimeout(function(){n.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},{"../../constants/xmlns_namespaces":665,"../../plots/plots":779,"./constants":902,"./plot":907,d3:104}],900:[function(t,e,r){"use strict";var n=t("../../components/colorscale/has_colorscale"),o=t("../../components/colorscale/calc"),i=t("../../lib");e.exports=function(t,e){var r=!!e.line.colorscale&&i.isArray(e.line.color),a=r?e.line.color:Array.apply(0,Array(e.dimensions.reduce(function(t,e){return Math.max(t,e.values.length)},0))).map(function(){return.5}),s=r?e.line.colorscale:[[0,e.line.color],[1,e.line.color]];return e.line.color=a,e.line.colorscale=s,n(e,"line")&&o(e,e.line.color,"line","c"),[{}]}},{"../../components/colorscale/calc":582,"../../components/colorscale/has_colorscale":589,"../../lib":681}],901:[function(t,e,r){"use strict";var n=t("fast-isnumeric"),o=t("../../lib"),i=t("../../plots/plots"),a=t("../../components/colorscale"),s=t("../../components/colorbar/draw");e.exports=function(t,e){var r=e[0].trace,l=r.line,u="cb"+r.uid;if(t._fullLayout._infolayer.selectAll("."+u).remove(),void 0===l||!l.showscale)return void i.autoMargin(t,u);var c=l.color,p=l.cmin,f=l.cmax;n(p)||(p=o.aggNums(Math.min,null,c)),n(f)||(f=o.aggNums(Math.max,null,c));var h=e[0].t.cb=s(t,u),d=a.makeColorScaleFunc(a.extractScale(l.colorscale,p,f),{noNumericCheck:!0});h.fillcolor(d).filllevels({start:p,end:f,size:(f-p)/254}).options(l.colorbar)()}},{"../../components/colorbar/draw":579,"../../components/colorscale":590,"../../lib":681,"../../plots/plots":779,"fast-isnumeric":113}],902:[function(t,e,r){"use strict";e.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,scatter:!1,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,capturewidth:10,fillcolor:"magenta",fillopacity:1,strokecolor:"white",strokeopacity:1,strokewidth:1,handleheight:16,handleopacity:1,handleoverlap:0}}},{}],903:[function(t,e,r){"use strict";function n(t,e,r,n,o){o("line.color",r),o("line.colorscale"),s(t,"line")?l(t,e,n,o,{prefix:"line.",cLetter:"c"}):o("line.color",r)}function o(t,e){function r(t,e){return i.coerce(n,o,a.dimensions,t,e)}var n,o,s,l=t.dimensions||[],c=e.dimensions=[],p=1/0;for(l.length>u&&(i.log("parcoords traces support up to "+u+" dimensions at the moment"),l.splice(u)),s=0;s<l.length;s++)if(n=l[s],o={},i.isPlainObject(n)){var f=r("values"),h=r("visible",f.length>0);h&&(r("label"),r("tickvals"),r("ticktext"),r("tickformat"),r("range"),r("constraintrange"),p=Math.min(p,o.values.length)),o._index=s,c.push(o)}if(isFinite(p))for(s=0;s<c.length;s++)o=c[s],o.visible&&o.values.length>p&&(o.values=o.values.slice(0,p));return c}var i=t("../../lib"),a=t("./attributes"),s=t("../../components/colorscale/has_colorscale"),l=t("../../components/colorscale/defaults"),u=t("./constants").maxDimensionCount;e.exports=function(t,e,r,s){function l(r,n){return i.coerce(t,e,a,r,n)}var u=o(t,e);n(t,e,r,s,l),l("domain.x"),l("domain.y"),Array.isArray(u)&&u.length||(e.visible=!1)}},{"../../components/colorscale/defaults":585,"../../components/colorscale/has_colorscale":589,"../../lib":681,"./attributes":898,"./constants":902}],904:[function(t,e,r){"use strict";var n={};n.attributes=t("./attributes"),n.supplyDefaults=t("./defaults"),n.calc=t("./calc"),n.plot=t("./plot"),n.colorbar=t("./colorbar"),n.moduleType="trace",n.name="parcoords",n.basePlotModule=t("./base_plot"),n.categories=["gl"],n.meta={},e.exports=n},{"./attributes":898,"./base_plot":899,"./calc":900,"./colorbar":901,"./defaults":903,"./plot":907}],905:[function(t,e,r){"use strict";function n(t){t.read({x:0,y:0,width:1,height:1,data:T})}function o(t,e,r,n,o){var i=t._gl;i.enable(i.SCISSOR_TEST),i.scissor(e,r,n,o),t.clear({color:[0,0,0,0],depth:1})}function i(t,e,r,i,a,s){function l(n){var c;c=Math.min(i,a-n*i),s.offset=x*n*i,s.count=x*c,0===n&&(window.cancelAnimationFrame(r.currentRafs[u]),delete r.currentRafs[u],o(t,s.scissorX,s.scissorY,s.scissorWidth,s.viewBoxSize[1])),r.clearOnly||(e(s),n*i+c<a&&(r.currentRafs[u]=window.requestAnimationFrame(function(){l(n+1)})),r.drawCompleted=!1)}var u=s.key;r.drawCompleted||(n(t),r.drawCompleted=!0),l(0)}function a(t){return Math.max(g,Math.min(1-g,t))}function s(t,e,r){for(var n=[],o=0;o<256;o++){var i=t(o/255);n.push((e?w:i).concat(r))}return n}function l(t,e){return(t>>>8*e)%256/255}function u(t,e,r,n){for(var o=[],i=0;i<t;i++)for(var s=0;s<b;s++)o.push(s<e?r[s].paddedUnitValues[i]:s===b-1?a(n[i]):s>=b-4?l(i,b-2-s):.5);return o}function c(t,e,r){var n,o,i,a=[];for(o=0;o<t;o++)for(i=0;i<x;i++)for(n=0;n<_;n++)a.push(e[o*b+r*_+n]),r*_+n===b-1&&i%2===0&&(a[a.length-1]*=-1);return a}function p(t,e){var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],n=r.map(function(r){return c(t,e,r)}),o={};return n.forEach(function(t,e){o["p"+e.toString(16)]=t}),o}function f(t,e,r){return t+e<=r}var h=t("regl"),d=t("./constants").verticalPadding,y="precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 p0, p1, p2, p3,\n               p4, p5, p6, p7,\n               p8, p9, pa, pb,\n               pc, pd, pe;\n\nattribute vec4 pf;\n\nuniform mat4 dim1A, dim2A, dim1B, dim2B, dim1C, dim2C, dim1D, dim2D,\n             loA, hiA, loB, hiB, loC, hiC, loD, hiD;\n\nuniform vec2 resolution,\n             viewBoxPosition,\n             viewBoxSize;\n\nuniform sampler2D palette;\n\nuniform vec2 colorClamp;\n\nuniform float scatter;\n\nvarying vec4 fragColor;\n\nvec4 zero = vec4(0, 0, 0, 0);\nvec4 unit = vec4(1, 1, 1, 1);\nvec2 xyProjection = vec2(1, 1);\n\nmat4 mclamp(mat4 m, mat4 lo, mat4 hi) {\n    return mat4(clamp(m[0], lo[0], hi[0]),\n                clamp(m[1], lo[1], hi[1]),\n                clamp(m[2], lo[2], hi[2]),\n                clamp(m[3], lo[3], hi[3]));\n}\n\nbool mshow(mat4 p, mat4 lo, mat4 hi) {\n    return mclamp(p, lo, hi) == p;\n}\n\nfloat val(mat4 p, mat4 v) {\n    return dot(matrixCompMult(p, v) * unit, unit);\n}\n\nvoid main() {\n\n    float x = 0.5 * sign(pf[3]) + 0.5;\n    float prominence = abs(pf[3]);\n    float depth = 1.0 - prominence;\n\n    mat4 pA = mat4(p0, p1, p2, p3);\n    mat4 pB = mat4(p4, p5, p6, p7);\n    mat4 pC = mat4(p8, p9, pa, pb);\n    mat4 pD = mat4(pc, pd, pe, abs(pf));\n\n    float show = float(mshow(pA, loA, hiA) &&\n                       mshow(pB, loB, hiB) &&\n                       mshow(pC, loC, hiC) &&\n                       mshow(pD, loD, hiD));\n\n    vec2 yy = show * vec2(val(pA, dim2A) + val(pB, dim2B) + val(pC, dim2C) + val(pD, dim2D),\n                          val(pA, dim1A) + val(pB, dim1B) + val(pC, dim1C) + val(pD, dim1D));\n\n    vec2 dimensionToggle = vec2(x, 1.0 - x);\n\n    vec2 scatterToggle = vec2(scatter, 1.0 - scatter);\n\n    float y = dot(yy, dimensionToggle);\n    mat2 xy = mat2(viewBoxSize * yy + dimensionToggle, viewBoxSize * vec2(x, y));\n\n    vec2 viewBoxXY = viewBoxPosition + xy * scatterToggle;\n\n    float depthOrHide = depth + 2.0 * (1.0 - show);\n\n    gl_Position = vec4(\n        xyProjection * (2.0 * viewBoxXY / resolution - 1.0),\n        depthOrHide,\n        1.0\n    );\n\n    // visible coloring\n    float clampedColorIndex = clamp((prominence - colorClamp[0]) / (colorClamp[1] - colorClamp[0]), 0.0, 1.0);\n    fragColor = texture2D(palette, vec2((clampedColorIndex * 255.0 + 0.5) / 256.0, 0.5));\n}\n",m="precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 p0, p1, p2, p3,\n               p4, p5, p6, p7,\n               p8, p9, pa, pb,\n               pc, pd, pe;\n\nattribute vec4 pf;\n\nuniform mat4 dim1A, dim2A, dim1B, dim2B, dim1C, dim2C, dim1D, dim2D,\n             loA, hiA, loB, hiB, loC, hiC, loD, hiD;\n\nuniform vec2 resolution,\n             viewBoxPosition,\n             viewBoxSize;\n\nuniform sampler2D palette;\n\nuniform vec2 colorClamp;\n\nuniform float scatter;\n\nvarying vec4 fragColor;\n\nvec4 zero = vec4(0, 0, 0, 0);\nvec4 unit = vec4(1, 1, 1, 1);\nvec2 xyProjection = vec2(1, 1);\n\nmat4 mclamp(mat4 m, mat4 lo, mat4 hi) {\n    return mat4(clamp(m[0], lo[0], hi[0]),\n                clamp(m[1], lo[1], hi[1]),\n                clamp(m[2], lo[2], hi[2]),\n                clamp(m[3], lo[3], hi[3]));\n}\n\nbool mshow(mat4 p, mat4 lo, mat4 hi) {\n    return mclamp(p, lo, hi) == p;\n}\n\nfloat val(mat4 p, mat4 v) {\n    return dot(matrixCompMult(p, v) * unit, unit);\n}\n\nvoid main() {\n\n    float x = 0.5 * sign(pf[3]) + 0.5;\n    float prominence = abs(pf[3]);\n    float depth = 1.0 - prominence;\n\n    mat4 pA = mat4(p0, p1, p2, p3);\n    mat4 pB = mat4(p4, p5, p6, p7);\n    mat4 pC = mat4(p8, p9, pa, pb);\n    mat4 pD = mat4(pc, pd, pe, abs(pf));\n\n    float show = float(mshow(pA, loA, hiA) &&\n                       mshow(pB, loB, hiB) &&\n                       mshow(pC, loC, hiC) &&\n                       mshow(pD, loD, hiD));\n\n    vec2 yy = show * vec2(val(pA, dim2A) + val(pB, dim2B) + val(pC, dim2C) + val(pD, dim2D),\n                          val(pA, dim1A) + val(pB, dim1B) + val(pC, dim1C) + val(pD, dim1D));\n\n    vec2 dimensionToggle = vec2(x, 1.0 - x);\n\n    vec2 scatterToggle = vec2(scatter, 1.0 - scatter);\n\n    float y = dot(yy, dimensionToggle);\n    mat2 xy = mat2(viewBoxSize * yy + dimensionToggle, viewBoxSize * vec2(x, y));\n\n    vec2 viewBoxXY = viewBoxPosition + xy * scatterToggle;\n\n    float depthOrHide = depth + 2.0 * (1.0 - show);\n\n    gl_Position = vec4(\n        xyProjection * (2.0 * viewBoxXY / resolution - 1.0),\n        depthOrHide,\n        1.0\n    );\n\n    // pick coloring\n    fragColor = vec4(pf.rgb, 1.0);\n}\n",v="precision lowp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n    gl_FragColor = fragColor;\n}\n",g=1e-6,b=64,x=2,_=4,w=[119,119,119],T=new Uint8Array(4),M=new Uint8Array(4);e.exports=function(t,e,r,n,a,l,c,g,b,x){function _(t){U[0]=t[0],U[1]=t[1]}function w(t,e,o,i,a,s,l,u,c,p,h){var y,m,v,b,x=[t,e],_=d/s,w=[0,1].map(function(){return[0,1,2,3].map(function(){return new Float32Array(16)})}),T=[0,1].map(function(){return[0,1,2,3].map(function(){return new Float32Array(16)})});for(y=0;y<2;y++)for(b=x[y],m=0;m<4;m++)for(v=0;v<16;v++){var M=v+16*m;w[y][m][v]=v+16*m===b?1:0,T[y][m][v]=(!g&&f(v,16*m,R)?C[0===M?0:1+(M-1)%(C.length-1)].filter[y]:y)+(2*y-1)*_}return{key:l,resolution:[r,n],viewBoxPosition:[o+I,i],viewBoxSize:[a,s],i:t,ii:e,dim1A:w[0][0],dim1B:w[0][1],dim1C:w[0][2],dim1D:w[0][3],dim2A:w[1][0],dim2B:w[1][1],dim2C:w[1][2],dim2D:w[1][3],loA:T[0][0],loB:T[0][1],loC:T[0][2],loD:T[0][3],hiA:T[1][0],hiB:T[1][1],hiC:T[1][2],hiD:T[1][3],colorClamp:U,scatter:u||0,scissorX:c===p?0:o+I,scissorWidth:(c===h?r-o+I:a+.5)+(c===p?o+I:0),scissorY:i,scissorHeight:s}}function T(t,a,s){var l,u,c,p=1/0,f=-(1/0);for(l=0;l<R;l++)t[l].dim2.canvasX>f&&(f=t[l].dim2.canvasX,c=l),t[l].dim1.canvasX<p&&(p=t[l].dim1.canvasX,u=l);for(0===R&&o(F,0,0,r,n),l=0;l<R;l++){var h=t[l],d=h.dim1,y=d.crossfilterDimensionIndex,m=h.canvasX,v=h.canvasY,g=h.dim2,b=g.crossfilterDimensionIndex,_=h.panelSizeX,T=h.panelSizeY,M=m+_;if(a||!V[y]||V[y][0]!==m||V[y][1]!==M){V[y]=[m,M];var S=w(y,b,m,v,_,T,d.crossfilterDimensionIndex,x||d.scatter?1:0,l,u,c);k.clearOnly=s,i(F,B,k,a?e.blockLineCount:P,P,S)}}}function S(t,e){return F.read({x:t,y:e,width:1,height:1,data:M}),M}function E(t,e,r,n){var o=new Uint8Array(4*r*n);return F.read({x:t,y:e,width:r,height:n,data:o}),o}var k={currentRafs:{},drawCompleted:!0,clearOnly:!1},C=a.slice(),A=C.length,P=C[0]?C[0].values.length:0,L=g,D=b?e.color.map(function(t,r){return r/e.color.length}):e.color,O=Math.max(1/255,Math.pow(1/D.length,1/3)),I=e.canvasOverdrag,R=l.length,N=u(P,A,C,D),j=p(P,N),F=h({canvas:t,attributes:{preserveDrawingBuffer:!0,antialias:!b}}),z=F.texture({shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest",data:s(c,g,Math.round(255*(g?O:1)))}),B=F({profile:!1,blend:{enable:L,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!L,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:F.prop("scissorX"),y:F.prop("scissorY"),width:F.prop("scissorWidth"),height:F.prop("scissorHeight")}},dither:!1,vert:b?m:y,frag:v,primitive:"lines",lineWidth:1,attributes:j,uniforms:{resolution:F.prop("resolution"),viewBoxPosition:F.prop("viewBoxPosition"),viewBoxSize:F.prop("viewBoxSize"),dim1A:F.prop("dim1A"),dim2A:F.prop("dim2A"),dim1B:F.prop("dim1B"),dim2B:F.prop("dim2B"),dim1C:F.prop("dim1C"),dim2C:F.prop("dim2C"),dim1D:F.prop("dim1D"),dim2D:F.prop("dim2D"),loA:F.prop("loA"),hiA:F.prop("hiA"),loB:F.prop("loB"),hiB:F.prop("hiB"),loC:F.prop("loC"),hiC:F.prop("hiC"),loD:F.prop("loD"),hiD:F.prop("hiD"),palette:z,colorClamp:F.prop("colorClamp"),scatter:F.prop("scatter")},offset:F.prop("offset"),count:F.prop("count")}),U=[0,1],V=[];return{setColorDomain:_,render:T,readPixel:S,readPixels:E,destroy:F.destroy}}},{"./constants":902,regl:478}],906:[function(t,e,r){"use strict";function n(t){return t.key}function o(t){return[t]}function i(t){return!("visible"in t)||t.visible}function a(t){var e=t.range?t.range[0]:_.min(t.values),r=t.range?t.range[1]:_.max(t.values);return!isNaN(e)&&isFinite(e)||(e=0),!isNaN(r)&&isFinite(r)||(r=0),e===r&&(void 0===e?(e=0,r=1):0===e?(e-=1,r+=1):(e*=.9,r*=1.1)),[e,r]}function s(t,e){var r,n,o,i,a;for(r=0,n=t.range(),o=1/0,i=n[0],a;r<n.length;r++){if((a=Math.abs(n[r]-e))>o)return i;o=a,i=n[r]}return n[n.length-1]}function l(t,e,r){var n=a(r);return r.tickvals?_.scale.ordinal().domain(r.tickvals).range(r.tickvals.map(function(t){return(t-n[0])/(n[1]-n[0])}).map(function(r){return t-e+r*(e-(t-e))})):_.scale.linear().domain(n).range([t-e,e])}function u(t,e){return _.scale.linear().range([t-e,e])}function c(t){return _.scale.linear().domain(a(t))}function p(t){var e=a(t);return t.tickvals&&_.scale.ordinal().domain(t.tickvals).range(t.tickvals.map(function(t){return(t-e[0])/(e[1]-e[0])}))}function f(t){var e=t.map(function(t){return t[0]}),r=t.map(function(t){return t[1]}),n=r.map(function(t){return _.rgb(t)}),o=function(t){return function(e){return e[t]}},i="rgb".split("").map(function(t){return _.scale.linear().clamp(!0).domain(e).range(n.map(o(t)))});return function(t){return i.map(function(e){return e(t)})}}function h(t){return t[0]}function d(t,e,r){var n=h(e).trace,o=n.line,a=n.domain,s=n.dimensions,l=t.width,u=x.extendDeep({},o,{color:o.color.map(c({values:o.color,range:[o.cmin,o.cmax]})),blockLineCount:b.blockLineCount,canvasOverdrag:b.overdrag*b.canvasPixelRatio}),p=Math.floor(l*(a.x[1]-a.x[0])),d=Math.floor(t.height*(a.y[1]-a.y[0])),y=t.margin||{l:80,r:80,t:100,b:80},m=p,v=d;return{key:r,colCount:s.filter(i).length,dimensions:s,tickDistance:b.tickDistance,unitToColor:f(o.colorscale),lines:u,translateX:a.x[0]*l,translateY:t.height-a.y[1]*t.height,pad:y,canvasWidth:m*b.canvasPixelRatio+2*u.canvasOverdrag,canvasHeight:v*b.canvasPixelRatio,width:m,height:v,canvasPixelRatio:b.canvasPixelRatio}}function y(t){var e=t.width,r=t.height,n=t.dimensions,o=t.canvasPixelRatio,a=function(r){return e*r/Math.max(1,t.colCount-1)},s=b.verticalPadding/(r*o),f=1-2*s,h=function(t){return s+f*t},d={key:t.key,xScale:a,model:t},y={};return d.dimensions=n.filter(i).map(function(e,n){var i=c(e),s=y[e.label];y[e.label]=(s||0)+1;var f=e.label+(s?"__"+s:"");return{key:f,label:e.label,tickFormat:e.tickformat,tickvals:e.tickvals,ticktext:e.ticktext,ordinal:!!e.tickvals,scatter:b.scatter||e.scatter,xIndex:n,crossfilterDimensionIndex:n,visibleIndex:e._index,height:r,values:e.values,paddedUnitValues:e.values.map(i).map(h),xScale:a,x:a(n),canvasX:a(n)*o,unitScale:u(r,b.verticalPadding),domainScale:l(r,b.verticalPadding,e),ordinalScale:p(e),domainToUnitScale:i,filter:e.constraintrange?e.constraintrange.map(i):[0,1],parent:d,model:t}}),d}function m(t){return b.layers.map(function(e){return{key:e,context:"contextLineLayer"===e,pick:"pickLineLayer"===e,viewModel:t,model:t.model}})}function v(t){t.classed("axisExtentText",!0).attr("text-anchor","middle").style("font-weight",100).style("font-size","10px").style("cursor","default").style("user-select","none")}var g=t("./lines"),b=t("./constants"),x=t("../../lib"),_=t("d3");e.exports=function(t,e,r,i,a){function l(t){var e=t.selectAll("defs").data(o,n);e.enter().append("defs");var r=e.selectAll("#filterBarPattern").data(o,n);r.enter().append("pattern").attr("id","filterBarPattern").attr("patternUnits","userSpaceOnUse"),r.attr("x",-b.bar.width).attr("width",b.bar.capturewidth).attr("height",function(t){return t.model.height});var i=r.selectAll("rect").data(o,n);i.enter().append("rect").attr("shape-rendering","crispEdges"),i.attr("height",function(t){return t.model.height}).attr("width",b.bar.width).attr("x",b.bar.width/2).attr("fill",b.bar.fillcolor).attr("fill-opacity",b.bar.fillopacity).attr("stroke",b.bar.strokecolor).attr("stroke-opacity",b.bar.strokeopacity).attr("stroke-width",b.bar.strokewidth);
}function u(t){return t.dimensions.some(function(t){return 0!==t.filter[0]||1!==t.filter[1]})}function c(t,e){for(var r=e.panels||(e.panels=[]),n=t.each(function(t){return t})[e.key].map(function(t){return t.__data__}),o=n.length-1,i=1,a=0;a<i;a++)for(var s=0;s<o;s++){var l=r[s+a*o]||(r[s+a*o]={}),u=n[s],c=n[s+1];l.dim1=u,l.dim2=c,l.canvasX=u.canvasX,l.panelSizeX=c.canvasX-u.canvasX,l.panelSizeY=e.model.canvasHeight/i,l.y=a*l.panelSizeY,l.canvasY=e.model.canvasHeight-l.y-l.panelSizeY}}function p(t,e){for(var r=e.panels||(e.panels=[]),n=t.each(function(t){return t})[e.key].map(function(t){return t.__data__}),o=n.length-1,i=o,a=0;a<o;a++)for(var s=0;s<o;s++){var l=r[s+a*o]||(r[s+a*o]={}),u=n[s],c=n[s+1];l.dim1=n[a+1],l.dim2=c,l.canvasX=u.canvasX,l.panelSizeX=c.canvasX-u.canvasX,l.panelSizeY=e.model.canvasHeight/i,l.y=a*l.panelSizeY,l.canvasY=e.model.canvasHeight-l.y-l.panelSizeY}}function f(t,e){return(b.scatter?p:c)(t,e)}function x(t){return t.ordinal?function(){return""}:_.format(t.tickFormat)}function w(){G=!0,S=!0}function T(t){E=!1;var e=t.parent,r=t.brush.extent(),n=e.dimensions,o=n[t.xIndex].filter,i=G&&r[0]===r[1];i&&(t.brush.clear(),_.select(this).select("rect.extent").attr("y",-100));var a=i?[0,1]:r.slice();if(a[0]!==o[0]||a[1]!==o[1]){n[t.xIndex].filter=a,e.focusLineLayer&&e.focusLineLayer.render(e.panels,!0);var s=u(e);!Y&&s?(e.contextLineLayer&&e.contextLineLayer.render(e.panels,!0),Y=!0):Y&&!s&&(e.contextLineLayer&&e.contextLineLayer.render(e.panels,!0,!0),Y=!1)}G=!1}function M(t){var e=t.parent,r=t.brush.extent(),n=r[0]===r[1],o=e.dimensions,i=o[t.xIndex].filter;if(!n&&t.ordinal&&(i[0]=s(t.ordinalScale,i[0]),i[1]=s(t.ordinalScale,i[1]),i[0]===i[1]&&(i[0]=Math.max(0,i[0]-.05),i[1]=Math.min(1,i[1]+.05)),_.select(this).transition().duration(150).call(t.brush.extent(i)),e.focusLineLayer.render(e.panels,!0)),e.pickLineLayer&&e.pickLineLayer.render(e.panels,!0),E=!0,S="ending",a&&a.filterChanged){var l=t.domainToUnitScale.invert,u=i.map(l);a.filterChanged(e.key,t.visibleIndex,u)}}var S=!1,E=!0,k=r.filter(function(t){return h(t).trace.visible}).map(d.bind(0,i)).map(y);t.selectAll(".parcoords-line-layers").remove();var C=t.selectAll(".parcoords-line-layers").data(k,n);C.enter().insert("div","."+e.attr("class").split(" ").join(" .")).classed("parcoords-line-layers",!0).style("box-sizing","content-box"),C.style("transform",function(t){return"translate("+(t.model.translateX-b.overdrag)+"px,"+t.model.translateY+"px)"});var A=C.selectAll(".parcoords-lines").data(m,n),P={renderers:[],dimensions:[]},L=null;A.enter().append("canvas").attr("class",function(t){return"parcoords-lines "+(t.context?"context":t.pick?"pick":"focus")}).style("box-sizing","content-box").style("float","left").style("clear","both").style("left",0).style("overflow","visible").style("position",function(t,e){return"absolute"}).filter(function(t){return t.pick}).on("mousemove",function(t){if(E&&t.lineLayer&&a&&a.hover){var e=_.event,r=this.width,n=this.height,o=_.mouse(this),i=o[0],s=o[1];if(i<0||s<0||i>=r||s>=n)return;var l=t.lineLayer.readPixel(i,n-1-s),u=0!==l[3],c=u?l[2]+256*(l[1]+256*l[0]):null,p={x:i,y:s,clientX:e.clientX,clientY:e.clientY,dataIndex:t.model.key,curveNumber:c};c!==L&&(u?a.hover(p):a.unhover&&a.unhover(p),L=c)}}),A.style("margin",function(t){var e=t.model.pad;return e.t+"px "+e.r+"px "+e.b+"px "+e.l+"px"}).attr("width",function(t){return t.model.canvasWidth}).attr("height",function(t){return t.model.canvasHeight}).style("width",function(t){return t.model.width+2*b.overdrag+"px"}).style("height",function(t){return t.model.height+"px"}).style("opacity",function(t){return t.pick?.01:1}),e.style("background","rgba(255, 255, 255, 0)");var D=e.selectAll(".parcoords").data(k,n);D.exit().remove(),D.enter().append("g").classed("parcoords",!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","none").call(l),D.attr("width",function(t){return t.model.width+t.model.pad.l+t.model.pad.r}).attr("height",function(t){return t.model.height+t.model.pad.t+t.model.pad.b}).attr("transform",function(t){return"translate("+t.model.translateX+","+t.model.translateY+")"});var O=D.selectAll(".parcoordsControlView").data(o,n);O.enter().append("g").classed("parcoordsControlView",!0).style("box-sizing","content-box"),O.attr("transform",function(t){return"translate("+t.model.pad.l+","+t.model.pad.t+")"});var I=O.selectAll(".yAxis").data(function(t){return t.dimensions},n);I.enter().append("g").classed("yAxis",!0).each(function(t){P.dimensions.push(t)}),O.each(function(t){f(I,t)}),A.each(function(t){t.lineLayer=g(this,t.model.lines,t.model.canvasWidth,t.model.canvasHeight,t.viewModel.dimensions,t.viewModel.panels,t.model.unitToColor,t.context,t.pick,b.scatter),t.viewModel[t.key]=t.lineLayer,P.renderers.push(function(){t.lineLayer.render(t.viewModel.panels,!0)}),t.lineLayer.render(t.viewModel.panels,!t.context)}),I.attr("transform",function(t){return"translate("+t.xScale(t.xIndex)+", 0)"}),I.call(_.behavior.drag().origin(function(t){return t}).on("drag",function(t){var e=t.parent;E=!1,S||(t.x=Math.max(-b.overdrag,Math.min(t.model.width+b.overdrag,_.event.x)),t.canvasX=t.x*t.model.canvasPixelRatio,I.sort(function(t,e){return t.x-e.x}).each(function(e,r){e.xIndex=r,e.x=t===e?e.x:e.xScale(e.xIndex),e.canvasX=e.x*e.model.canvasPixelRatio}),f(I,e),I.filter(function(e){return 0!==Math.abs(t.xIndex-e.xIndex)}).attr("transform",function(t){return"translate("+t.xScale(t.xIndex)+", 0)"}),_.select(this).attr("transform","translate("+t.x+", 0)"),I.each(function(r,n,o){o===t.parent.key&&(e.dimensions[n]=r)}),e.contextLineLayer&&e.contextLineLayer.render(e.panels,!1,!u(e)),e.focusLineLayer.render&&e.focusLineLayer.render(e.panels))}).on("dragend",function(t){var e=t.parent;return S?void("ending"===S&&(S=!1)):(t.x=t.xScale(t.xIndex),t.canvasX=t.x*t.model.canvasPixelRatio,f(I,e),_.select(this).attr("transform",function(t){return"translate("+t.x+", 0)"}),e.contextLineLayer&&e.contextLineLayer.render(e.panels,!1,!u(e)),e.focusLineLayer&&e.focusLineLayer.render(e.panels),e.pickLineLayer&&e.pickLineLayer.render(e.panels,!0),E=!0,void(a&&a.axesMoved&&a.axesMoved(e.key,e.dimensions.map(function(t){return t.crossfilterDimensionIndex}))))})),I.exit().remove();var R=I.selectAll(".axisOverlays").data(o,n);R.enter().append("g").classed("axisOverlays",!0),R.selectAll(".axis").remove();var N=R.selectAll(".axis").data(o,n);N.enter().append("g").classed("axis",!0),N.each(function(t){var e=t.model.height/t.model.tickDistance,r=t.domainScale,n=r.domain(),o=t.ticktext;_.select(this).call(_.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(e,t.tickFormat).tickValues(t.ordinal?n.map(function(t,e){return o&&o[e]||t}):null).tickFormat(t.ordinal?function(t){return t}:null).scale(r))}),N.selectAll(".domain, .tick").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),N.selectAll("text").style("font-weight",100).style("font-size","10px").style("fill","black").style("fill-opacity",1).style("stroke","none").style("text-shadow","1px 1px 1px #fff, -1px -1px 1px #fff, 1px -1px 1px #fff, -1px 1px 1px #fff").style("cursor","default").style("user-select","none");var j=R.selectAll(".axisHeading").data(o,n);j.enter().append("g").classed("axisHeading",!0);var F=j.selectAll(".axisTitle").data(o,n);F.enter().append("text").classed("axisTitle",!0).attr("text-anchor","middle").style("font-family","sans-serif").style("font-size","10px").style("cursor","ew-resize").style("user-select","none").style("pointer-events","auto"),F.attr("transform","translate(0,"+-b.axisTitleOffset+")").text(function(t){return t.label});var z=R.selectAll(".axisExtent").data(o,n);z.enter().append("g").classed("axisExtent",!0);var B=z.selectAll(".axisExtentTop").data(o,n);B.enter().append("g").classed("axisExtentTop",!0),B.attr("transform","translate(0,"+-b.axisExtentOffset+")");var U=B.selectAll(".axisExtentTopText").data(o,n);U.enter().append("text").classed("axisExtentTopText",!0).attr("alignment-baseline","after-edge").call(v),U.text(function(t){return x(t)(t.domainScale.domain().slice(-1)[0])});var V=z.selectAll(".axisExtentBottom").data(o,n);V.enter().append("g").classed("axisExtentBottom",!0),V.attr("transform",function(t){return"translate(0,"+(t.model.height+b.axisExtentOffset)+")"});var H=V.selectAll(".axisExtentBottomText").data(o,n);H.enter().append("text").classed("axisExtentBottomText",!0).attr("alignment-baseline","before-edge").call(v),H.text(function(t){return x(t)(t.domainScale.domain()[0])});var W=R.selectAll(".axisBrush").data(o,n),q=W.enter().append("g").classed("axisBrush",!0);W.each(function(t){t.brush||(t.brush=_.svg.brush().y(t.unitScale).on("brushstart",w).on("brush",T).on("brushend",M),0===t.filter[0]&&1===t.filter[1]||t.brush.extent(t.filter),_.select(this).call(t.brush))}),q.selectAll("rect").attr("x",-b.bar.capturewidth/2).attr("width",b.bar.capturewidth),q.selectAll("rect.extent").attr("fill","url(#filterBarPattern)").style("cursor","ns-resize").filter(function(t){return 0===t.filter[0]&&1===t.filter[1]}).attr("y",-100),q.selectAll(".resize rect").attr("height",b.bar.handleheight).attr("opacity",0).style("visibility","visible"),q.selectAll(".resize.n rect").style("cursor","n-resize").attr("y",b.bar.handleoverlap-b.bar.handleheight),q.selectAll(".resize.s rect").style("cursor","s-resize").attr("y",b.bar.handleoverlap);var G=!1,Y=!1;return P}},{"../../lib":681,"./constants":902,"./lines":905,d3:104}],907:[function(t,e,r){"use strict";var n=t("./parcoords");e.exports=function(t,e){var r=t._fullLayout,o=r._paper,i=r._paperdiv,a={},s={},l=r._size;e.forEach(function(e,r){a[r]=t.data[r].dimensions,s[r]=t.data[r].dimensions.slice()});var u=function(e,r,n){var o=s[e][r],i=o.constraintrange;i&&2===i.length||(i=o.constraintrange=[]),i[0]=n[0],i[1]=n[1],t.emit("plotly_restyle")},c=function(e){t.emit("plotly_hover",e)},p=function(e){t.emit("plotly_unhover",e)},f=function(e,r){function n(t){return!("visible"in t)||t.visible}function o(t,e,r){var n=e.indexOf(r),o=t.indexOf(n);return o===-1&&(o+=e.length),o}function i(t){return function(e,n){var i=o(r,t,e),a=o(r,t,n);return i-a}}var l=i(s[e].filter(n));a[e].sort(l),s[e].filter(function(t){return!n(t)}).sort(function(t){return s[e].indexOf(t)}).forEach(function(t){a[e].splice(a[e].indexOf(t),1),a[e].splice(s[e].indexOf(t),0,t)}),t.emit("plotly_restyle")};n(i,o,e,{width:l.w,height:l.h,margin:{t:l.t,r:l.r,b:l.b,l:l.l}},{filterChanged:u,hover:c,unhover:p,axesMoved:f})}},{"./parcoords":906}],908:[function(t,e,r){"use strict";var n=t("../../components/color/attributes"),o=t("../../plots/font_attributes"),i=t("../../plots/attributes"),a=t("../../lib/extend").extendFlat;e.exports={labels:{valType:"data_array"},label0:{valType:"number",dflt:0},dlabel:{valType:"number",dflt:1},values:{valType:"data_array"},marker:{colors:{valType:"data_array"},line:{color:{valType:"color",dflt:n.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}}},text:{valType:"data_array"},scalegroup:{valType:"string",dflt:""},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"]},hoverinfo:a({},i.hoverinfo,{flags:["label","text","value","percent","name"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0},textfont:a({},o,{}),insidetextfont:a({},o,{}),outsidetextfont:a({},o,{}),domain:{x:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]},y:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]}},hole:{valType:"number",min:0,max:1,dflt:0},sort:{valType:"boolean",dflt:!0},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise"},rotation:{valType:"number",min:-360,max:360,dflt:0},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0}}},{"../../components/color/attributes":575,"../../lib/extend":673,"../../plots/attributes":718,"../../plots/font_attributes":740}],909:[function(t,e,r){"use strict";function n(t,e){for(var r=[],n=0;n<t.length;n++){var o=t[n],i=o[0].trace;i._module===e&&i.visible===!0&&r.push(o)}return r}var o=t("../../registry");r.name="pie",r.plot=function(t){var e=o.getModule("pie"),r=n(t.calcdata,e);r.length&&e.plot(t,r)},r.clean=function(t,e,r,n){var o=n._has&&n._has("pie"),i=e._has&&e._has("pie");o&&!i&&n._pielayer.selectAll("g.trace").remove()}},{"../../registry":794}],910:[function(t,e,r){"use strict";function n(t){if(!l){var e=a.defaults;l=e.slice();var r;for(r=0;r<e.length;r++)l.push(i(e[r]).lighten(20).toHexString());for(r=0;r<a.defaults.length;r++)l.push(i(e[r]).darken(20).toHexString())}return l[t%l.length]}var o=t("fast-isnumeric"),i=t("tinycolor2"),a=t("../../components/color"),s=t("./helpers");e.exports=function(t,e){var r,l,u,c,p,f,h=e.values,d=e.labels,y=[],m=t._fullLayout,v=m._piecolormap,g={},b=!1,x=0,_=m.hiddenlabels||[];if(e.dlabel)for(d=new Array(h.length),r=0;r<h.length;r++)d[r]=String(e.label0+r*e.dlabel);for(r=0;r<h.length;r++)l=h[r],o(l)&&(l=+l,l<0||(u=d[r],void 0!==u&&""!==u||(u=r),u=String(u),void 0===g[u]&&(g[u]=!0,c=i(e.marker.colors[r]),c.isValid()?(c=a.addOpacity(c,c.getAlpha()),v[u]||(v[u]=c)):v[u]?c=v[u]:(c=!1,b=!0),p=_.indexOf(u)!==-1,p||(x+=l),y.push({v:l,label:u,color:c,i:r,hidden:p}))));if(e.sort&&y.sort(function(t,e){return e.v-t.v}),b)for(r=0;r<y.length;r++)f=y[r],f.color===!1&&(v[f.label]=f.color=n(m._piedefaultcolorcount),m._piedefaultcolorcount++);if(y[0]&&(y[0].vTotal=x),e.textinfo&&"none"!==e.textinfo){var w,T=e.textinfo.indexOf("label")!==-1,M=e.textinfo.indexOf("text")!==-1,S=e.textinfo.indexOf("value")!==-1,E=e.textinfo.indexOf("percent")!==-1,k=m.separators;for(r=0;r<y.length;r++)f=y[r],w=T?[f.label]:[],M&&e.text[f.i]&&w.push(e.text[f.i]),S&&w.push(s.formatPieValue(f.v,k)),E&&w.push(s.formatPiePercent(f.v/x,k)),f.text=w.join("<br>")}return y};var l},{"../../components/color":576,"./helpers":912,"fast-isnumeric":113,tinycolor2:512}],911:[function(t,e,r){"use strict";var n=t("../../lib"),o=t("./attributes");e.exports=function(t,e,r,i){function a(r,i){return n.coerce(t,e,o,r,i)}var s=n.coerceFont,l=a("values");if(!Array.isArray(l)||!l.length)return void(e.visible=!1);var u=a("labels");Array.isArray(u)||(a("label0"),a("dlabel"));var c=a("marker.line.width");c&&a("marker.line.color");var p=a("marker.colors");Array.isArray(p)||(e.marker.colors=[]),a("scalegroup");var f=a("text"),h=a("textinfo",Array.isArray(f)?"text+percent":"percent");if(a("hoverinfo",1===i._dataLength?"label+text+value+percent":void 0),h&&"none"!==h){var d=a("textposition"),y=Array.isArray(d)||"auto"===d,m=y||"inside"===d,v=y||"outside"===d;if(m||v){var g=s(a,"textfont",i.font);m&&s(a,"insidetextfont",g),v&&s(a,"outsidetextfont",g)}}a("domain.x"),a("domain.y"),a("hole"),a("sort"),a("direction"),a("rotation"),a("pull")}},{"../../lib":681,"./attributes":908}],912:[function(t,e,r){"use strict";var n=t("../../lib");r.formatPiePercent=function(t,e){var r=(100*t).toPrecision(3);return r.lastIndexOf(".")!==-1&&(r=r.replace(/[.]?0+$/,"")),n.numSeparate(r,e)+"%"},r.formatPieValue=function(t,e){var r=t.toPrecision(10);return r.lastIndexOf(".")!==-1&&(r=r.replace(/[.]?0+$/,"")),n.numSeparate(r,e)}},{"../../lib":681}],913:[function(t,e,r){"use strict";var n={};n.attributes=t("./attributes"),n.supplyDefaults=t("./defaults"),n.supplyLayoutDefaults=t("./layout_defaults"),n.layoutAttributes=t("./layout_attributes"),n.calc=t("./calc"),n.plot=t("./plot"),n.style=t("./style"),n.styleOne=t("./style_one"),n.moduleType="trace",n.name="pie",n.basePlotModule=t("./base_plot"),n.categories=["pie","showLegend"],n.meta={},e.exports=n},{"./attributes":908,"./base_plot":909,"./calc":910,"./defaults":911,"./layout_attributes":914,"./layout_defaults":915,"./plot":916,"./style":917,"./style_one":918}],914:[function(t,e,r){"use strict";e.exports={hiddenlabels:{valType:"data_array"}}},{}],915:[function(t,e,r){"use strict";var n=t("../../lib"),o=t("./layout_attributes");e.exports=function(t,e){function r(r,i){return n.coerce(t,e,o,r,i)}r("hiddenlabels")}},{"../../lib":681,"./layout_attributes":914}],916:[function(t,e,r){"use strict";function n(t,e,r){var n=Math.sqrt(t.width*t.width+t.height*t.height),i=t.width/t.height,a=Math.PI*Math.min(e.v/r.vTotal,.5),s=1-r.trace.hole,l=o(e,r),u={scale:l*r.r*2/n,rCenter:1-l,rotate:0};if(u.scale>=1)return u;var c=i+1/(2*Math.tan(a)),p=r.r*Math.min(1/(Math.sqrt(c*c+.5)+c),s/(Math.sqrt(i*i+s/2)+i)),f={scale:2*p/t.height,rCenter:Math.cos(p/r.r)-p*i/r.r,rotate:(180/Math.PI*e.midangle+720)%180-90},h=1/i,d=h+1/(2*Math.tan(a)),y=r.r*Math.min(1/(Math.sqrt(d*d+.5)+d),s/(Math.sqrt(h*h+s/2)+h)),m={scale:2*y/t.width,rCenter:Math.cos(y/r.r)-y/i/r.r,rotate:(180/Math.PI*e.midangle+810)%180-90},v=m.scale>f.scale?m:f;return u.scale<1&&v.scale>u.scale?v:u}function o(t,e){if(t.v===e.vTotal&&!e.trace.hole)return 1;var r=Math.PI*Math.min(t.v/e.vTotal,.5);return Math.min(1/(1+1/Math.sin(r)),(1-e.trace.hole)/2)}function i(t,e){var r=e.pxmid[0],n=e.pxmid[1],o=t.width/2,i=t.height/2;return r<0&&(o*=-1),n<0&&(i*=-1),{scale:1,rCenter:1,rotate:0,x:o+Math.abs(i)*(o>0?1:-1)/2,y:i/(1+r*r/(n*n)),outside:!0}}function a(t,e){function r(t,e){return t.pxmid[1]-e.pxmid[1]}function n(t,e){return e.pxmid[1]-t.pxmid[1]}function o(t,r){r||(r={});var n,o,i,s,f,h,y=r.labelExtraY+(a?r.yLabelMax:r.yLabelMin),m=a?t.yLabelMin:t.yLabelMax,v=a?t.yLabelMax:t.yLabelMin,g=t.cyFinal+u(t.px0[1],t.px1[1]),b=y-m;if(b*p>0&&(t.labelExtraY=b),Array.isArray(e.pull))for(o=0;o<d.length;o++)i=d[o],i===t||(e.pull[t.i]||0)>=e.pull[i.i]||((t.pxmid[1]-i.pxmid[1])*p>0?(s=i.cyFinal+u(i.px0[1],i.px1[1]),b=s-m-t.labelExtraY,b*p>0&&(t.labelExtraY+=b)):(v+t.labelExtraY-g)*p>0&&(n=3*c*Math.abs(o-d.indexOf(t)),f=i.cxFinal+l(i.px0[0],i.px1[0]),h=f+n-(t.cxFinal+t.pxmid[0])-t.labelExtraX,h*c>0&&(t.labelExtraX+=h)))}var i,a,s,l,u,c,p,f,h,d,y,m,v;for(a=0;a<2;a++)for(s=a?r:n,u=a?Math.max:Math.min,p=a?1:-1,i=0;i<2;i++){for(l=i?Math.max:Math.min,c=i?1:-1,f=t[a][i],f.sort(s),h=t[1-a][i],d=h.concat(f),m=[],y=0;y<f.length;y++)void 0!==f[y].yLabelMid&&m.push(f[y]);for(v=!1,y=0;a&&y<h.length;y++)if(void 0!==h[y].yLabelMid){v=h[y];break}for(y=0;y<m.length;y++){var g=y&&m[y-1];v&&!y&&(g=v),o(m[y],g)}}}function s(t,e){var r,n,o,i,a,s,l,c,p,f,h=[];for(o=0;o<t.length;o++){if(a=t[o][0],s=a.trace,r=e.w*(s.domain.x[1]-s.domain.x[0]),n=e.h*(s.domain.y[1]-s.domain.y[0]),l=s.tiltaxis*Math.PI/180,c=s.pull,Array.isArray(c))for(c=0,i=0;i<s.pull.length;i++)s.pull[i]>c&&(c=s.pull[i]);a.r=Math.min(r/u(s.tilt,Math.sin(l),s.depth),n/u(s.tilt,Math.cos(l),s.depth))/(2+2*c),a.cx=e.l+e.w*(s.domain.x[1]+s.domain.x[0])/2,a.cy=e.t+e.h*(2-s.domain.y[1]-s.domain.y[0])/2,s.scalegroup&&h.indexOf(s.scalegroup)===-1&&h.push(s.scalegroup)}for(i=0;i<h.length;i++){for(f=1/0,p=h[i],o=0;o<t.length;o++)a=t[o][0],a.trace.scalegroup===p&&(f=Math.min(f,a.r*a.r/a.vTotal));for(o=0;o<t.length;o++)a=t[o][0],a.trace.scalegroup===p&&(a.r=Math.sqrt(f*a.vTotal))}}function l(t){function e(t){var e=p.r*Math.sin(t),r=-p.r*Math.cos(t);return h?[e*(1-s*n*n)+r*a*s,e*a*s+r*(1-s*o*o),Math.sin(i)*(r*o-e*n)]:[e,r]}var r,n,o,i,a,s,l,u,c,p=t[0],f=p.trace,h=f.tilt,d=f.rotation*Math.PI/180,y=2*Math.PI/p.vTotal,m="px0",v="px1";if("counterclockwise"===f.direction){for(l=0;l<t.length&&t[l].hidden;l++);if(l===t.length)return;d+=y*t[l].v,y*=-1,m="px1",v="px0"}for(h&&(i=h*Math.PI/180,r=f.tiltaxis*Math.PI/180,a=Math.sin(r)*Math.cos(r),s=1-Math.cos(i),n=Math.sin(r),o=Math.cos(r)),c=e(d),l=0;l<t.length;l++)u=t[l],u.hidden||(u[m]=c,d+=y*u.v/2,u.pxmid=e(d),u.midangle=d,d+=y*u.v/2,c=e(d),u[v]=c,u.largeArc=u.v>p.vTotal/2?1:0)}function u(t,e,r){if(!t)return 1;var n=Math.sin(t*Math.PI/180);return Math.max(.01,r*n*Math.abs(e)+2*Math.sqrt(1-n*n*e*e))}var c=t("d3"),p=t("../../plots/cartesian/graph_interact"),f=t("../../components/color"),h=t("../../components/drawing"),d=t("../../lib/svg_text_utils"),y=t("./helpers");e.exports=function(t,e){var r=t._fullLayout;s(e,r._size);var u=r._pielayer.selectAll("g.trace").data(e);u.enter().append("g").attr({"stroke-linejoin":"round",class:"trace"}),u.exit().remove(),u.order(),u.each(function(e){var s=c.select(this),u=e[0],m=u.trace,v=0,g=(m.depth||0)*u.r*Math.sin(v)/2,b=m.tiltaxis||0,x=b*Math.PI/180,_=[g*Math.sin(x),g*Math.cos(x)],w=u.r*Math.cos(v),T=s.selectAll("g.part").data(m.tilt?["top","sides"]:["top"]);T.enter().append("g").attr("class",function(t){return t+" part"}),T.exit().remove(),T.order(),l(e),s.selectAll(".top").each(function(){var s=c.select(this).selectAll("g.slice").data(e);s.enter().append("g").classed("slice",!0),s.exit().remove();var l=[[[],[]],[[],[]]],v=!1;s.each(function(a){function s(e){var n=t._fullLayout,i=t._fullData[m.index],s=i.hoverinfo;if("all"===s&&(s="label+text+value+percent+name"),!t._dragging&&n.hovermode!==!1&&"none"!==s&&"skip"!==s&&s){var l=o(a,u),c=T+a.pxmid[0]*(1-l),f=M+a.pxmid[1]*(1-l),h=r.separators,d=[];s.indexOf("label")!==-1&&d.push(a.label),i.text&&i.text[a.i]&&s.indexOf("text")!==-1&&d.push(i.text[a.i]),s.indexOf("value")!==-1&&d.push(y.formatPieValue(a.v,h)),s.indexOf("percent")!==-1&&d.push(y.formatPiePercent(a.v/u.vTotal,h)),p.loneHover({x0:c-l*u.r,x1:c+l*u.r,y:f,text:d.join("<br>"),name:s.indexOf("name")!==-1?i.name:void 0,color:a.color,idealAlign:a.pxmid[0]<0?"left":"right"},{container:n._hoverlayer.node(),outerContainer:n._paper.node()}),p.hover(t,e,"pie"),k=!0}}function f(e){t.emit("plotly_unhover",{points:[e]}),k&&(p.loneUnhover(r._hoverlayer.node()),k=!1)}function g(){t._hoverdata=[a],t._hoverdata.trace=e.trace,p.click(t,{target:!0})}function x(t,e,r,n){return"a"+n*u.r+","+n*w+" "+b+" "+a.largeArc+(r?" 1 ":" 0 ")+n*(e[0]-t[0])+","+n*(e[1]-t[1])}if(a.hidden)return void c.select(this).selectAll("path,g").remove();l[a.pxmid[1]<0?0:1][a.pxmid[0]<0?0:1].push(a);var T=u.cx+_[0],M=u.cy+_[1],S=c.select(this),E=S.selectAll("path.surface").data([a]),k=!1;if(E.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),S.select("path.textline").remove(),S.on("mouseover",s).on("mouseout",f).on("click",g),m.pull){var C=+(Array.isArray(m.pull)?m.pull[a.i]:m.pull)||0;C>0&&(T+=C*a.pxmid[0],M+=C*a.pxmid[1])}a.cxFinal=T,a.cyFinal=M;var A=m.hole;if(a.v===u.vTotal){var P="M"+(T+a.px0[0])+","+(M+a.px0[1])+x(a.px0,a.pxmid,!0,1)+x(a.pxmid,a.px0,!0,1)+"Z";A?E.attr("d","M"+(T+A*a.px0[0])+","+(M+A*a.px0[1])+x(a.px0,a.pxmid,!1,A)+x(a.pxmid,a.px0,!1,A)+"Z"+P):E.attr("d",P)}else{var L=x(a.px0,a.px1,!0,1);if(A){var D=1-A;E.attr("d","M"+(T+A*a.px1[0])+","+(M+A*a.px1[1])+x(a.px1,a.px0,!1,A)+"l"+D*a.px0[0]+","+D*a.px0[1]+L+"Z")}else E.attr("d","M"+T+","+M+"l"+a.px0[0]+","+a.px0[1]+L+"Z")}var O=Array.isArray(m.textposition)?m.textposition[a.i]:m.textposition,I=S.selectAll("g.slicetext").data(a.text&&"none"!==O?[0]:[]);I.enter().append("g").classed("slicetext",!0),I.exit().remove(),I.each(function(){var t=c.select(this).selectAll("text").data([0]);t.enter().append("text").attr("data-notex",1),t.exit().remove(),t.text(a.text).attr({class:"slicetext",transform:"","data-bb":"","text-anchor":"middle",x:0,y:0}).call(h.font,"outside"===O?m.outsidetextfont:m.insidetextfont).call(d.convertToTspans),t.selectAll("tspan.line").attr({x:0,y:0});var e,r=h.bBox(t.node());"outside"===O?e=i(r,a):(e=n(r,a,u),"auto"===O&&e.scale<1&&(t.call(h.font,m.outsidetextfont),m.outsidetextfont.family===m.insidetextfont.family&&m.outsidetextfont.size===m.insidetextfont.size||(t.attr({"data-bb":""}),r=h.bBox(t.node())),e=i(r,a)));var o=T+a.pxmid[0]*e.rCenter+(e.x||0),s=M+a.pxmid[1]*e.rCenter+(e.y||0);e.outside&&(a.yLabelMin=s-r.height/2,a.yLabelMid=s,a.yLabelMax=s+r.height/2,a.labelExtraX=0,a.labelExtraY=0,v=!0),t.attr("transform","translate("+o+","+s+")"+(e.scale<1?"scale("+e.scale+")":"")+(e.rotate?"rotate("+e.rotate+")":"")+"translate("+-(r.left+r.right)/2+","+-(r.top+r.bottom)/2+")")})}),v&&a(l,m),s.each(function(t){if(t.labelExtraX||t.labelExtraY){var e=c.select(this),r=e.select("g.slicetext text");r.attr("transform","translate("+t.labelExtraX+","+t.labelExtraY+")"+r.attr("transform"));var n=t.cxFinal+t.pxmid[0],o=t.cyFinal+t.pxmid[1],i="M"+n+","+o,a=(t.yLabelMax-t.yLabelMin)*(t.pxmid[0]<0?-1:1)/4;if(t.labelExtraX){var s=t.labelExtraX*t.pxmid[1]/t.pxmid[0],l=t.yLabelMid+t.labelExtraY-(t.cyFinal+t.pxmid[1]);i+=Math.abs(s)>Math.abs(l)?"l"+l*t.pxmid[0]/t.pxmid[1]+","+l+"H"+(n+t.labelExtraX+a):"l"+t.labelExtraX+","+s+"v"+(l-s)+"h"+a}else i+="V"+(t.yLabelMid+t.labelExtraY)+"h"+a;e.append("path").classed("textline",!0).call(f.stroke,m.outsidetextfont.color).attr({"stroke-width":Math.min(2,m.outsidetextfont.size/8),d:i,fill:"none"})}})})}),setTimeout(function(){u.selectAll("tspan").each(function(){var t=c.select(this);t.attr("dy")&&t.attr("dy",t.attr("dy"))})},0)}},{"../../components/color":576,"../../components/drawing":599,"../../lib/svg_text_utils":700,"../../plots/cartesian/graph_interact":727,"./helpers":912,d3:104}],917:[function(t,e,r){"use strict";var n=t("d3"),o=t("./style_one");e.exports=function(t){t._fullLayout._pielayer.selectAll(".trace").each(function(t){var e=t[0],r=e.trace,i=n.select(this);i.style({opacity:r.opacity}),i.selectAll(".top path.surface").each(function(t){n.select(this).call(o,t,r)})})}},{"./style_one":918,d3:104}],918:[function(t,e,r){"use strict";var n=t("../../components/color");e.exports=function(t,e,r){var o=r.marker.line.color;Array.isArray(o)&&(o=o[e.i]||n.defaultLine);var i=r.marker.line.width||0;Array.isArray(i)&&(i=i[e.i]||0),t.style({"stroke-width":i,fill:e.color}).call(n.stroke,o)}},{"../../components/color":576}],919:[function(t,e,r){"use strict";var n=t("../scattergl/attributes");e.exports={x:n.x,y:n.y,xy:{valType:"data_array"},indices:{valType:"data_array"},xbounds:{valType:"data_array"},ybounds:{valType:"data_array"},text:n.text,marker:{color:{valType:"color",arrayOk:!1},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1},blend:{valType:"boolean",dflt:null},sizemin:{valType:"number",min:.1,max:2,dflt:.5},sizemax:{valType:"number",min:.1,dflt:20},border:{color:{valType:"color",arrayOk:!1},arearatio:{valType:"number",min:0,max:1,dflt:0}}}}},{"../scattergl/attributes":960}],920:[function(t,e,r){"use strict";function n(t,e){this.scene=t,this.uid=e,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=i(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}function o(t,e){var r=new n(t,e.uid);return r.update(e),r}var i=t("gl-pointcloud2d"),a=t("../../lib/str2rgbarray"),s=t("../scatter/get_trace_color"),l=["xaxis","yaxis"],u=n.prototype;u.handlePick=function(t){var e=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*e],this.pickXYData[2*e+1]]:[this.pickXData[e],this.pickYData[e]],textLabel:Array.isArray(this.textLabels)?this.textLabels[e]:this.textLabels,color:this.color,name:this.name,pointIndex:e,hoverinfo:this.hoverinfo}},u.update=function(t){this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-(1/0),-(1/0)],this.updateFast(t),this.color=s(t,{})},u.updateFast=function(t){var e,r,n,o,i,s,l=this.xData=this.pickXData=t.x,u=this.yData=this.pickYData=t.y,c=this.pickXYData=t.xy,p=t.xbounds&&t.ybounds,f=t.indices,h=this.bounds;if(c){if(n=c,e=c.length>>>1,p)h[0]=t.xbounds[0],h[2]=t.xbounds[1],h[1]=t.ybounds[0],h[3]=t.ybounds[1];else for(s=0;s<e;s++)o=n[2*s],i=n[2*s+1],o<h[0]&&(h[0]=o),o>h[2]&&(h[2]=o),i<h[1]&&(h[1]=i),i>h[3]&&(h[3]=i);if(f)r=f;else for(r=new Int32Array(e),s=0;s<e;s++)r[s]=s}else for(e=l.length,n=new Float32Array(2*e),r=new Int32Array(e),s=0;s<e;s++)o=l[s],i=u[s],r[s]=s,n[2*s]=o,n[2*s+1]=i,o<h[0]&&(h[0]=o),o>h[2]&&(h[2]=o),i<h[1]&&(h[1]=i),i>h[3]&&(h[3]=i);this.idToIndex=r,this.pointcloudOptions.idToIndex=r,this.pointcloudOptions.positions=n;var d=a(t.marker.color),y=a(t.marker.border.color),m=t.opacity*t.marker.opacity;d[3]*=m,this.pointcloudOptions.color=d;var v=t.marker.blend;if(null===v){var g=100;v=l.length<g||u.length<g}this.pointcloudOptions.blend=v,y[3]*=m,this.pointcloudOptions.borderColor=y;var b=t.marker.sizemin,x=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=b,this.pointcloudOptions.sizeMax=x,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions),this.expandAxesFast(h,x/2)},u.expandAxesFast=function(t,e){for(var r,n,o,i=e||.5,a=0;a<2;a++)r=this.scene[l[a]],n=r._min,n||(n=[]),n.push({val:t[a],pad:i}),o=r._max,o||(o=[]),o.push({val:t[a+2],pad:i})},u.dispose=function(){this.pointcloud.dispose()},e.exports=o},{"../../lib/str2rgbarray":699,"../scatter/get_trace_color":932,"gl-pointcloud2d":211}],921:[function(t,e,r){"use strict";var n=t("../../lib"),o=t("./attributes");e.exports=function(t,e,r){function i(r,i){return n.coerce(t,e,o,r,i)}i("x"),i("y"),i("xbounds"),i("ybounds"),t.xy&&t.xy instanceof Float32Array&&(e.xy=t.xy),t.indices&&t.indices instanceof Int32Array&&(e.indices=t.indices),i("text"),i("marker.color",r),i("marker.opacity"),i("marker.blend"),i("marker.sizemin"),i("marker.sizemax"),i("marker.border.color",r),i("marker.border.arearatio")}},{"../../lib":681,"./attributes":919}],922:[function(t,e,r){"use strict";var n={};n.attributes=t("./attributes"),n.supplyDefaults=t("./defaults"),n.calc=t("../scatter3d/calc"),n.plot=t("./convert"),n.moduleType="trace",n.name="pointcloud",n.basePlotModule=t("../../plots/gl2d"),n.categories=["gl2d","showLegend"],n.meta={},e.exports=n},{"../../plots/gl2d":756,"../scatter3d/calc":948,"./attributes":919,"./convert":920,"./defaults":921}],923:[function(t,e,r){"use strict";var n=t("../../lib");e.exports=function(t,e){n.mergeArray(e.text,t,"tx"),n.mergeArray(e.customdata,t,"data"),n.mergeArray(e.textposition,t,"tp"),e.textfont&&(n.mergeArray(e.textfont.size,t,"ts"),n.mergeArray(e.textfont.color,t,"tc"),n.mergeArray(e.textfont.family,t,"tf"));var r=e.marker;if(r){n.mergeArray(r.size,t,"ms"),n.mergeArray(r.opacity,t,"mo"),n.mergeArray(r.symbol,t,"mx"),n.mergeArray(r.color,t,"mc");var o=r.line;r.line&&(n.mergeArray(o.color,t,"mlc"),n.mergeArray(o.width,t,"mlw"))}}},{"../../lib":681}],924:[function(t,e,r){"use strict";var n=t("../../components/colorscale/color_attributes"),o=t("../../components/errorbars/attributes"),i=t("../../components/colorbar/attributes"),a=t("../../components/drawing"),s=(t("./constants"),t("../../lib/extend").extendFlat);e.exports={x:{valType:"data_array"},x0:{valType:"any",dflt:0},dx:{valType:"number",dflt:1},y:{valType:"data_array"},y0:{valType:"any",dflt:0},customdata:{valType:"data_array"},dy:{valType:"number",dflt:1},ids:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},hoveron:{valType:"flaglist",flags:["points","fills"]},line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:2},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear"},smoothing:{valType:"number",min:0,max:1.3,dflt:1},dash:{valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid"},simplify:{valType:"boolean",dflt:!0}},connectgaps:{valType:"boolean",dflt:!1},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],dflt:"none"},fillcolor:{valType:"color"},marker:s({},{symbol:{valType:"enumerated",values:a.symbolList,dflt:"circle",arrayOk:!0},opacity:{valType:"number",min:0,max:1,arrayOk:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0},maxdisplayed:{valType:"number",min:0,dflt:0},sizeref:{valType:"number",dflt:1},sizemin:{valType:"number",min:0,dflt:0},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter"},showscale:{
valType:"boolean",dflt:!1},colorbar:i,line:s({},{width:{valType:"number",min:0,arrayOk:!0}},n("marker.line"))},n("marker")),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0},textfont:{family:{valType:"string",noBlank:!0,strict:!0,arrayOk:!0},size:{valType:"number",min:1,arrayOk:!0},color:{valType:"color",arrayOk:!0}},r:{valType:"data_array"},t:{valType:"data_array"},error_y:o,error_x:o}},{"../../components/colorbar/attributes":577,"../../components/colorscale/color_attributes":583,"../../components/drawing":599,"../../components/errorbars/attributes":601,"../../lib/extend":673,"./constants":929}],925:[function(t,e,r){"use strict";var n=t("fast-isnumeric"),o=t("../../plots/cartesian/axes"),i=t("./subtypes"),a=t("./colorscale_calc"),s=t("./arrays_to_calcdata");e.exports=function(t,e){var r,l,u,c=o.getFromId(t,e.xaxis||"x"),p=o.getFromId(t,e.yaxis||"y"),f=c.makeCalcdata(e,"x"),h=p.makeCalcdata(e,"y"),d=Math.min(f.length,h.length);c._minDtick=0,p._minDtick=0,f.length>d&&f.splice(d,f.length-d),h.length>d&&h.splice(d,h.length-d);var y={padded:!0},m={padded:!0};if(i.hasMarkers(e)){if(r=e.marker,l=r.size,Array.isArray(l)){var v={type:"linear"};o.setConvert(v),l=v.makeCalcdata(e.marker,"size"),l.length>d&&l.splice(d,l.length-d)}var g,b=1.6*(e.marker.sizeref||1);g="area"===e.marker.sizemode?function(t){return Math.max(Math.sqrt((t||0)/b),3)}:function(t){return Math.max((t||0)/b,3)},y.ppad=m.ppad=Array.isArray(l)?l.map(g):g(l)}a(e),!("tozerox"===e.fill||"tonextx"===e.fill&&t.firstscatter)||f[0]===f[d-1]&&h[0]===h[d-1]?e.error_y.visible||["tonexty","tozeroy"].indexOf(e.fill)===-1&&(i.hasMarkers(e)||i.hasText(e))||(y.padded=!1,y.ppad=0):y.tozero=!0,!("tozeroy"===e.fill||"tonexty"===e.fill&&t.firstscatter)||f[0]===f[d-1]&&h[0]===h[d-1]?["tonextx","tozerox"].indexOf(e.fill)!==-1&&(m.padded=!1):m.tozero=!0,o.expand(c,f,y),o.expand(p,h,m);var x=new Array(d);for(u=0;u<d;u++)x[u]=n(f[u])&&n(h[u])?{x:f[u],y:h[u]}:{x:!1,y:!1},e.ids&&(x[u].id=String(e.ids[u]));return s(x,e),t.firstscatter=!1,x}},{"../../plots/cartesian/axes":720,"./arrays_to_calcdata":923,"./colorscale_calc":928,"./subtypes":944,"fast-isnumeric":113}],926:[function(t,e,r){"use strict";e.exports=function(t){for(var e=0;e<t.length;e++){var r=t[e];if("scatter"===r.type){var n=r.fill;if("none"!==n&&"toself"!==n&&(r.opacity=void 0,"tonexty"===n||"tonextx"===n))for(var o=e-1;o>=0;o--){var i=t[o];if("scatter"===i.type&&i.xaxis===r.xaxis&&i.yaxis===r.yaxis){i.opacity=void 0;break}}}}}},{}],927:[function(t,e,r){"use strict";var n=t("fast-isnumeric"),o=t("../../lib"),i=t("../../plots/plots"),a=t("../../components/colorscale"),s=t("../../components/colorbar/draw");e.exports=function(t,e){var r=e[0].trace,l=r.marker,u="cb"+r.uid;if(t._fullLayout._infolayer.selectAll("."+u).remove(),void 0===l||!l.showscale)return void i.autoMargin(t,u);var c=l.color,p=l.cmin,f=l.cmax;n(p)||(p=o.aggNums(Math.min,null,c)),n(f)||(f=o.aggNums(Math.max,null,c));var h=e[0].t.cb=s(t,u),d=a.makeColorScaleFunc(a.extractScale(l.colorscale,p,f),{noNumericCheck:!0});h.fillcolor(d).filllevels({start:p,end:f,size:(f-p)/254}).options(l.colorbar)()}},{"../../components/colorbar/draw":579,"../../components/colorscale":590,"../../lib":681,"../../plots/plots":779,"fast-isnumeric":113}],928:[function(t,e,r){"use strict";var n=t("../../components/colorscale/has_colorscale"),o=t("../../components/colorscale/calc"),i=t("./subtypes");e.exports=function(t){i.hasLines(t)&&n(t,"line")&&o(t,t.line.color,"line","c"),i.hasMarkers(t)&&(n(t,"marker")&&o(t,t.marker.color,"marker","c"),n(t,"marker.line")&&o(t,t.marker.line.color,"marker.line","c"))}},{"../../components/colorscale/calc":582,"../../components/colorscale/has_colorscale":589,"./subtypes":944}],929:[function(t,e,r){"use strict";e.exports={PTS_LINESONLY:20}},{}],930:[function(t,e,r){"use strict";var n=t("../../lib"),o=t("./attributes"),i=t("./constants"),a=t("./subtypes"),s=t("./xy_defaults"),l=t("./marker_defaults"),u=t("./line_defaults"),c=t("./line_shape_defaults"),p=t("./text_defaults"),f=t("./fillcolor_defaults"),h=t("../../components/errorbars/defaults");e.exports=function(t,e,r,d){function y(r,i){return n.coerce(t,e,o,r,i)}var m=s(t,e,d,y),v=m<i.PTS_LINESONLY?"lines+markers":"lines";if(!m)return void(e.visible=!1);y("customdata"),y("text"),y("mode",v),y("ids"),a.hasLines(e)&&(u(t,e,r,d,y),c(t,e,y),y("connectgaps"),y("line.simplify")),a.hasMarkers(e)&&l(t,e,r,d,y),a.hasText(e)&&p(t,e,d,y);var g=[];(a.hasMarkers(e)||a.hasText(e))&&(y("marker.maxdisplayed"),g.push("points")),y("fill"),"none"!==e.fill&&(f(t,e,r,y),a.hasLines(e)||c(t,e,y)),"tonext"!==e.fill&&"toself"!==e.fill||g.push("fills"),y("hoveron",g.join("+")||"points"),h(t,e,r,{axis:"y"}),h(t,e,r,{axis:"x",inherit:"y"})}},{"../../components/errorbars/defaults":604,"../../lib":681,"./attributes":924,"./constants":929,"./fillcolor_defaults":931,"./line_defaults":935,"./line_shape_defaults":937,"./marker_defaults":940,"./subtypes":944,"./text_defaults":945,"./xy_defaults":946}],931:[function(t,e,r){"use strict";var n=t("../../components/color");e.exports=function(t,e,r,o){var i=!1;if(e.marker){var a=e.marker.color,s=(e.marker.line||{}).color;a&&!Array.isArray(a)?i=a:s&&!Array.isArray(s)&&(i=s)}o("fillcolor",n.addOpacity((e.line||{}).color||i||r,.5))}},{"../../components/color":576}],932:[function(t,e,r){"use strict";var n=t("../../components/color"),o=t("./subtypes");e.exports=function(t,e){var r,i;if("lines"===t.mode)return r=t.line.color,r&&n.opacity(r)?r:t.fillcolor;if("none"===t.mode)return t.fill?t.fillcolor:"";var a=e.mcc||(t.marker||{}).color,s=e.mlcc||((t.marker||{}).line||{}).color;return i=a&&n.opacity(a)?a:s&&n.opacity(s)&&(e.mlw||((t.marker||{}).line||{}).width)?s:"",i?n.opacity(i)<.3?n.addOpacity(i,.3):i:(r=(t.line||{}).color,r&&n.opacity(r)&&o.hasLines(t)&&t.line.width?r:t.fillcolor)}},{"../../components/color":576,"./subtypes":944}],933:[function(t,e,r){"use strict";var n=t("../../lib"),o=t("../../plots/cartesian/graph_interact"),i=t("../../plots/cartesian/constants"),a=t("../../components/errorbars"),s=t("./get_trace_color"),l=t("../../components/color");e.exports=function(t,e,r,u){var c=t.cd,p=c[0].trace,f=t.xa,h=t.ya,d=f.c2p(e),y=h.c2p(r),m=[d,y];if(p.hoveron.indexOf("points")!==-1){var v=function(t){var e=Math.max(3,t.mrc||0);return Math.max(Math.abs(f.c2p(t.x)-d)-e,1-3/e)},g=function(t){var e=Math.max(3,t.mrc||0);return Math.max(Math.abs(h.c2p(t.y)-y)-e,1-3/e)},b=function(t){var e=Math.max(3,t.mrc||0),r=f.c2p(t.x)-d,n=h.c2p(t.y)-y;return Math.max(Math.sqrt(r*r+n*n)-e,1-3/e)},x=o.getDistanceFunction(u,v,g,b);if(o.getClosest(c,x,t),t.index!==!1){var _=c[t.index],w=f.c2p(_.x,!0),T=h.c2p(_.y,!0),M=_.mrc||1;return n.extendFlat(t,{color:s(p,_),x0:w-M,x1:w+M,xLabelVal:_.x,y0:T-M,y1:T+M,yLabelVal:_.y}),_.tx?t.text=_.tx:p.text&&(t.text=p.text),a.hoverInfo(_,p,t),[t]}}if(p.hoveron.indexOf("fills")!==-1&&p._polygons){var S,E,k,C,A,P,L,D,O,I=p._polygons,R=[],N=!1,j=1/0,F=-(1/0),z=1/0,B=-(1/0);for(S=0;S<I.length;S++)k=I[S],k.contains(m)&&(N=!N,R.push(k),z=Math.min(z,k.ymin),B=Math.max(B,k.ymax));if(N){z=Math.max(z,0),B=Math.min(B,h._length);var U=(z+B)/2;for(S=0;S<R.length;S++)for(C=R[S].pts,E=1;E<C.length;E++)D=C[E-1][1],O=C[E][1],D>U!=O>=U&&(P=C[E-1][0],L=C[E][0],A=P+(L-P)*(U-D)/(O-D),j=Math.min(j,A),F=Math.max(F,A));j=Math.max(j,0),F=Math.min(F,f._length);var V=l.defaultLine;return l.opacity(p.fillcolor)?V=p.fillcolor:l.opacity((p.line||{}).color)&&(V=p.line.color),n.extendFlat(t,{distance:i.MAXDIST+10,x0:j,x1:F,y0:U,y1:U,color:V}),delete t.index,p.text&&!Array.isArray(p.text)?t.text=String(p.text):t.text=p.name,[t]}}}},{"../../components/color":576,"../../components/errorbars":605,"../../lib":681,"../../plots/cartesian/constants":725,"../../plots/cartesian/graph_interact":727,"./get_trace_color":932}],934:[function(t,e,r){"use strict";var n={},o=t("./subtypes");n.hasLines=o.hasLines,n.hasMarkers=o.hasMarkers,n.hasText=o.hasText,n.isBubble=o.isBubble,n.attributes=t("./attributes"),n.supplyDefaults=t("./defaults"),n.cleanData=t("./clean_data"),n.calc=t("./calc"),n.arraysToCalcdata=t("./arrays_to_calcdata"),n.plot=t("./plot"),n.colorbar=t("./colorbar"),n.style=t("./style"),n.hoverPoints=t("./hover"),n.selectPoints=t("./select"),n.animatable=!0,n.moduleType="trace",n.name="scatter",n.basePlotModule=t("../../plots/cartesian"),n.categories=["cartesian","symbols","markerColorscale","errorBarsOK","showLegend"],n.meta={},e.exports=n},{"../../plots/cartesian":728,"./arrays_to_calcdata":923,"./attributes":924,"./calc":925,"./clean_data":926,"./colorbar":927,"./defaults":930,"./hover":933,"./plot":941,"./select":942,"./style":943,"./subtypes":944}],935:[function(t,e,r){"use strict";var n=t("../../components/colorscale/has_colorscale"),o=t("../../components/colorscale/defaults");e.exports=function(t,e,r,i,a){var s=(t.marker||{}).color;if(a("line.color",r),n(t,"line"))o(t,e,i,a,{prefix:"line.",cLetter:"c"});else{var l=!Array.isArray(s)&&s||r;a("line.color",l)}a("line.width"),a("line.dash")}},{"../../components/colorscale/defaults":585,"../../components/colorscale/has_colorscale":589}],936:[function(t,e,r){"use strict";var n=t("../../constants/numerical").BADNUM;e.exports=function(t,e){function r(e){var r=w.c2p(t[e].x),o=T.c2p(t[e].y);return r!==n&&o!==n&&[r,o]}function o(t){var e=t[0]/w._length,r=t[1]/T._length;return(1+10*Math.max(0,-e,e-1,-r,r-1))*E}function i(t,e){var r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)}var a,s,l,u,c,p,f,h,d,y,m,v,g,b,x,_,w=e.xaxis,T=e.yaxis,M=e.simplify,S=e.connectGaps,E=e.baseTolerance,k=e.linear,C=[],A=.2,P=new Array(t.length),L=0;for(M||(E=A=-1),a=0;a<t.length;a++)if(s=r(a)){for(L=0,P[L++]=s,a++;a<t.length;a++){if(u=r(a),!u){if(S)continue;break}if(k){if(f=i(u,s),!(f<o(u)*A)){for(d=[(u[0]-s[0])/f,(u[1]-s[1])/f],c=s,m=f,v=b=x=0,h=!1,l=u,a++;a<t.length;a++){if(p=r(a),!p){if(S)continue;break}if(y=[p[0]-s[0],p[1]-s[1]],_=y[0]*d[1]-y[1]*d[0],b=Math.min(b,_),x=Math.max(x,_),x-b>o(p))break;l=p,g=y[0]*d[0]+y[1]*d[1],g>m?(m=g,u=p,h=!1):g<v&&(v=g,c=p,h=!0)}if(h?(P[L++]=u,l!==c&&(P[L++]=c)):(c!==s&&(P[L++]=c),l!==u&&(P[L++]=u)),P[L++]=l,a>=t.length||!p)break;P[L++]=p,s=p}}else P[L++]=u}C.push(P.slice(0,L))}return C}},{"../../constants/numerical":663}],937:[function(t,e,r){"use strict";e.exports=function(t,e,r){var n=r("line.shape");"spline"===n&&r("line.smoothing")}},{}],938:[function(t,e,r){"use strict";e.exports=function(t,e,r){for(var n,o,i=null,a=0;a<r.length;++a)n=r[a],o=n[0].trace,o.visible===!0?(o._nexttrace=null,["tonextx","tonexty","tonext"].indexOf(o.fill)!==-1&&(o._prevtrace=i,i&&(i._nexttrace=o)),i=o):o._prevtrace=o._nexttrace=null}},{}],939:[function(t,e,r){"use strict";var n=t("fast-isnumeric");e.exports=function(t){var e=t.marker,r=e.sizeref||1,o=e.sizemin||0,i="area"===e.sizemode?function(t){return Math.sqrt(t/r)}:function(t){return t/r};return function(t){var e=i(t/2);return n(e)&&e>0?Math.max(e,o):0}}},{"fast-isnumeric":113}],940:[function(t,e,r){"use strict";var n=t("../../components/color"),o=t("../../components/colorscale/has_colorscale"),i=t("../../components/colorscale/defaults"),a=t("./subtypes");e.exports=function(t,e,r,s,l){var u,c=a.isBubble(t),p=(t.line||{}).color;p&&(r=p),l("marker.symbol"),l("marker.opacity",c?.7:1),l("marker.size"),l("marker.color",r),o(t,"marker")&&i(t,e,s,l,{prefix:"marker.",cLetter:"c"}),u=p&&!Array.isArray(p)&&e.marker.color!==p?p:c?n.background:n.defaultLine,l("marker.line.color",u),o(t,"marker.line")&&i(t,e,s,l,{prefix:"marker.line.",cLetter:"c"}),l("marker.line.width",c?1:0),c&&(l("marker.sizeref"),l("marker.sizemin"),l("marker.sizemode"))}},{"../../components/color":576,"../../components/colorscale/defaults":585,"../../components/colorscale/has_colorscale":589,"./subtypes":944}],941:[function(t,e,r){"use strict";function n(t,e){var r;e.selectAll("g.trace").each(function(t){var e=a.select(this);if(r=t[0].trace,r._nexttrace){if(r._nextFill=e.select(".js-fill.js-tonext"),!r._nextFill.size()){var n=":first-child";e.select(".js-fill.js-tozero").size()&&(n+=" + *"),r._nextFill=e.insert("path",n).attr("class","js-fill js-tonext")}}else e.selectAll(".js-fill.js-tonext").remove(),r._nextFill=null;r.fill&&("tozero"===r.fill.substr(0,6)||"toself"===r.fill||"to"===r.fill.substr(0,2)&&!r._prevtrace)?(r._ownFill=e.select(".js-fill.js-tozero"),r._ownFill.size()||(r._ownFill=e.insert("path",":first-child").attr("class","js-fill js-tozero"))):(e.selectAll(".js-fill.js-tozero").remove(),r._ownFill=null)})}function o(t,e,r,n,o,f,d){function y(t){return T?t.transition():t}function m(t){return t.filter(function(t){return t.vis})}function v(t){return t.id}function g(t){if(t.ids)return v}function b(){return!1}function x(t){var e,r,n=t[0].trace,o=a.select(this),i=c.hasMarkers(n),u=c.hasText(n),p=g(n),f=b,h=b;i&&(f=n.marker.maxdisplayed?m:s.identity),u&&(h=n.marker.maxdisplayed?m:s.identity),r=o.selectAll("path.point"),e=r.data(f,p);var d=e.enter().append("path").classed("point",!0);d.call(l.pointStyle,n).call(l.translatePoints,M,S,n),T&&d.style("opacity",0).transition().style("opacity",1),e.each(function(t){var e=a.select(this),r=y(e);l.translatePoint(t,r,M,S),l.singlePointStyle(t,r,n),n.customdata&&e.classed("plotly-customdata",null!==t.data&&void 0!==t.data)}),T?e.exit().transition().style("opacity",0).remove():e.exit().remove(),r=o.selectAll("g"),e=r.data(h,p),e.enter().append("g").append("text"),e.each(function(t){var e=y(a.select(this).select("text"));l.translatePoint(t,e,M,S)}),e.selectAll("text").call(l.textPointStyle,n).each(function(t){var e=t.xp||M.c2p(t.x),r=t.yp||S.c2p(t.y);a.select(this).selectAll("tspan").each(function(){y(a.select(this)).attr({x:e,y:r})})}),e.exit().remove()}var _,w;i(t,e,r,n,o);var T=!!d&&d.duration>0,M=r.xaxis,S=r.yaxis,E=n[0].trace,k=E.line,C=a.select(f);if(C.call(u.plot,r,d),E.visible===!0){y(C).style("opacity",E.opacity);var A,P,L=E.fill.charAt(E.fill.length-1);"x"!==L&&"y"!==L&&(L=""),n[0].node3=C;var D="",O=[],I=E._prevtrace;I&&(D=I._prevRevpath||"",P=I._nextFill,O=I._polygons);var R,N,j,F,z,B,U,V,H,W="",q="",G=[],Y=[],X=s.noop;if(A=E._ownFill,c.hasLines(E)||"none"!==E.fill){for(P&&P.datum(n),["hv","vh","hvh","vhv"].indexOf(k.shape)!==-1?(j=l.steps(k.shape),F=l.steps(k.shape.split("").reverse().join(""))):j=F="spline"===k.shape?function(t){var e=t[t.length-1];return t[0][0]===e[0]&&t[0][1]===e[1]?l.smoothclosed(t.slice(1),k.smoothing):l.smoothopen(t,k.smoothing)}:function(t){return"M"+t.join("L")},z=function(t){return F(t.reverse())},G=p(n,{xaxis:M,yaxis:S,connectGaps:E.connectgaps,baseTolerance:Math.max(k.width||1,3)/4,linear:"linear"===k.shape,simplify:k.simplify}),H=E._polygons=new Array(G.length),w=0;w<G.length;w++)E._polygons[w]=h(G[w]);G.length&&(B=G[0][0],U=G[G.length-1],V=U[U.length-1]),Y=G.filter(function(t){return t.length>1}),X=function(t){return function(e){if(R=j(e),N=z(e),W?L?(W+="L"+R.substr(1),q=N+("L"+q.substr(1))):(W+="Z"+R,q=N+"Z"+q):(W=R,q=N),c.hasLines(E)&&e.length>1){var r=a.select(this);if(r.datum(n),t)y(r.style("opacity",0).attr("d",R).call(l.lineGroupStyle)).style("opacity",1);else{var o=y(r);o.attr("d",R),l.singleLineStyle(n,o)}}}}}var K=C.selectAll(".js-line").data(Y);y(K.exit()).style("opacity",0).remove(),K.each(X(!1)),K.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(l.lineGroupStyle).each(X(!0)),G.length&&(A?B&&V&&(L?("y"===L?B[1]=V[1]=S.c2p(0,!0):"x"===L&&(B[0]=V[0]=M.c2p(0,!0)),y(A).attr("d","M"+V+"L"+B+"L"+W.substr(1))):y(A).attr("d",W+"Z")):"tonext"===E.fill.substr(0,6)&&W&&D&&("tonext"===E.fill?y(P).attr("d",W+"Z"+D+"Z"):y(P).attr("d",W+"L"+D.substr(1)+"Z"),E._polygons=E._polygons.concat(O)),E._prevRevpath=q,E._prevPolygons=H);var Z=C.selectAll(".points");_=Z.data([n]),Z.each(x),_.enter().append("g").classed("points",!0).each(x),_.exit().remove()}}function i(t,e,r,n,o){var i=r.xaxis,l=r.yaxis,u=a.extent(s.simpleMap(i.range,i.r2c)),p=a.extent(s.simpleMap(l.range,l.r2c)),f=n[0].trace;if(c.hasMarkers(f)){var h=f.marker.maxdisplayed;if(0!==h){var d=n.filter(function(t){return t.x>=u[0]&&t.x<=u[1]&&t.y>=p[0]&&t.y<=p[1]}),y=Math.ceil(d.length/h),m=0;o.forEach(function(t,r){var n=t[0].trace;c.hasMarkers(n)&&n.marker.maxdisplayed>0&&r<e&&m++});var v=Math.round(m*y/3+Math.floor(m/3)*y/7.1);n.forEach(function(t){delete t.vis}),d.forEach(function(t,e){0===Math.round((e+v)%y)&&(t.vis=!0)})}}}var a=t("d3"),s=t("../../lib"),l=t("../../components/drawing"),u=t("../../components/errorbars"),c=t("./subtypes"),p=t("./line_points"),f=t("./link_traces"),h=t("../../lib/polygon").tester;e.exports=function(t,e,r,i,s){var l,u,c,p,h,d=e.plot.select("g.scatterlayer"),y=!i,m=!!i&&i.duration>0;for(c=d.selectAll("g.trace"),p=c.data(r,function(t){return t[0].trace.uid}),p.enter().append("g").attr("class",function(t){return"trace scatter trace"+t[0].trace.uid}).style("stroke-miterlimit",2),f(t,e,r),n(t,d),l=0,u=[];l<r.length;l++)u[l]=r[l][0].trace.uid;if(d.selectAll("g.trace").sort(function(t,e){var r=u.indexOf(t[0].trace.uid),n=u.indexOf(e[0].trace.uid);return r>n?1:-1}),m){s&&(h=s());var v=a.transition().duration(i.duration).ease(i.easing).each("end",function(){h&&h()}).each("interrupt",function(){h&&h()});v.each(function(){d.selectAll("g.trace").each(function(n,a){o(t,a,e,n,r,this,i)})})}else d.selectAll("g.trace").each(function(n,a){o(t,a,e,n,r,this,i)});y&&p.exit().remove(),d.selectAll("path:not([d])").remove()}},{"../../components/drawing":599,"../../components/errorbars":605,"../../lib":681,"../../lib/polygon":691,"./line_points":936,"./link_traces":938,"./subtypes":944,d3:104}],942:[function(t,e,r){"use strict";var n=t("./subtypes"),o=.2;e.exports=function(t,e){var r,i,a,s,l=t.cd,u=t.xaxis,c=t.yaxis,p=[],f=l[0].trace,h=f.index,d=f.marker,y=!n.hasMarkers(f)&&!n.hasText(f);if(f.visible===!0&&!y){var m=Array.isArray(d.opacity)?1:d.opacity;if(e===!1)for(r=0;r<l.length;r++)l[r].dim=0;else for(r=0;r<l.length;r++)i=l[r],a=u.c2p(i.x),s=c.c2p(i.y),e.contains([a,s])?(p.push({curveNumber:h,pointNumber:r,x:i.x,y:i.y,id:i.id}),i.dim=0):i.dim=1;return l[0].node3.selectAll("path.point").style("opacity",function(t){return((t.mo+1||m+1)-1)*(t.dim?o:1)}),l[0].node3.selectAll("text").style("opacity",function(t){return t.dim?o:1}),p}}},{"./subtypes":944}],943:[function(t,e,r){"use strict";var n=t("d3"),o=t("../../components/drawing"),i=t("../../components/errorbars");e.exports=function(t){var e=n.select(t).selectAll("g.trace.scatter");e.style("opacity",function(t){return t[0].trace.opacity}),e.selectAll("g.points").each(function(t){var e=n.select(this),r=e.selectAll("path.point"),i=t.trace||t[0].trace;r.call(o.pointStyle,i),e.selectAll("text").call(o.textPointStyle,i)}),e.selectAll("g.trace path.js-line").call(o.lineGroupStyle),e.selectAll("g.trace path.js-fill").call(o.fillGroupStyle),e.call(i.style)}},{"../../components/drawing":599,"../../components/errorbars":605,d3:104}],944:[function(t,e,r){"use strict";var n=t("../../lib");e.exports={hasLines:function(t){return t.visible&&t.mode&&t.mode.indexOf("lines")!==-1},hasMarkers:function(t){return t.visible&&t.mode&&t.mode.indexOf("markers")!==-1},hasText:function(t){return t.visible&&t.mode&&t.mode.indexOf("text")!==-1},isBubble:function(t){return n.isPlainObject(t.marker)&&Array.isArray(t.marker.size)}}},{"../../lib":681}],945:[function(t,e,r){"use strict";var n=t("../../lib");e.exports=function(t,e,r,o){o("textposition"),n.coerceFont(o,"textfont",r.font)}},{"../../lib":681}],946:[function(t,e,r){"use strict";var n=t("../../registry");e.exports=function(t,e,r,o){var i,a=o("x"),s=o("y"),l=n.getComponentMethod("calendars","handleTraceDefaults");if(l(t,e,["x","y"],r),a)s?(i=Math.min(a.length,s.length),i<a.length&&(e.x=a.slice(0,i)),i<s.length&&(e.y=s.slice(0,i))):(i=a.length,o("y0"),o("dy"));else{if(!s)return 0;i=e.y.length,o("x0"),o("dx")}return i}},{"../../registry":794}],947:[function(t,e,r){"use strict";function n(t){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}}var o=t("../scatter/attributes"),i=t("../../components/colorscale/color_attributes"),a=t("../../components/errorbars/attributes"),s=t("../../constants/gl_markers"),l=t("../../lib/extend").extendFlat,u=o.line,c=o.marker,p=c.line;e.exports={x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},text:l({},o.text,{}),mode:l({},o.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:n("x"),y:n("y"),z:n("z")},connectgaps:o.connectgaps,line:l({},{width:u.width,dash:u.dash,showscale:{valType:"boolean",dflt:!1}},i("line")),marker:l({},{symbol:{valType:"enumerated",values:Object.keys(s),dflt:"circle",arrayOk:!0},size:l({},c.size,{dflt:8}),sizeref:c.sizeref,sizemin:c.sizemin,sizemode:c.sizemode,opacity:l({},c.opacity,{arrayOk:!1}),showscale:c.showscale,colorbar:c.colorbar,line:l({},{width:l({},p.width,{arrayOk:!1})},i("marker.line"))},i("marker")),textposition:l({},o.textposition,{dflt:"top center"}),textfont:o.textfont,error_x:a,error_y:a,error_z:a}},{"../../components/colorscale/color_attributes":583,"../../components/errorbars/attributes":601,"../../constants/gl_markers":661,"../../lib/extend":673,"../scatter/attributes":924}],948:[function(t,e,r){"use strict";var n=t("../scatter/arrays_to_calcdata"),o=t("../scatter/colorscale_calc");e.exports=function(t,e){var r=[{x:!1,y:!1,trace:e,t:{}}];return n(r,e),o(e),r}},{"../scatter/arrays_to_calcdata":923,"../scatter/colorscale_calc":928}],949:[function(t,e,r){"use strict";function n(t,e,r){if(!e||!e.visible)return null;for(var n=a(e),o=new Array(t.length),i=0;i<t.length;i++){var s=n(+t[i],i);o[i]=[-s[0]*r,s[1]*r]}return o}function o(t){for(var e=0;e<t.length;e++)if(t[e])return t[e].length;return 0}function i(t,e){var r=[n(t.x,t.error_x,e[0]),n(t.y,t.error_y,e[1]),n(t.z,t.error_z,e[2])],i=o(r);if(0===i)return null;for(var a=new Array(i),s=0;s<i;s++){for(var l=[[0,0,0],[0,0,0]],u=0;u<3;u++)if(r[u])for(var c=0;c<2;c++)l[c][u]=r[u][s][c];a[s]=l}return a}var a=t("../../components/errorbars/compute_error");e.exports=i},{"../../components/errorbars/compute_error":603}],950:[function(t,e,r){"use strict";function n(t,e){this.scene=t,this.uid=e,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-(1/0),-(1/0),-(1/0)],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}function o(t,e,r){var n,o=(r+1)%3,i=(r+2)%3,a=[],s=[];for(n=0;n<t.length;++n){var l=t[n];!isNaN(l[o])&&isFinite(l[o])&&!isNaN(l[i])&&isFinite(l[i])&&(a.push([l[o],l[i]]),s.push(n))}var u=v(a);for(n=0;n<u.length;++n)for(var c=u[n],p=0;p<c.length;++p)c[p]=s[c[p]];return{positions:t,cells:u,meshColor:e}}function i(t){for(var e=[0,0,0],r=[[0,0,0],[0,0,0],[0,0,0]],n=[0,0,0],o=0;o<3;o++){var i=t[o];i&&i.copy_zstyle!==!1&&(i=t[2]),i&&(e[o]=i.width/2,r[o]=b(i.color),n=i.thickness)}return{capSize:e,color:r,lineWidth:n}}function a(t){var e=[0,0];return Array.isArray(t)?[0,-1]:(t.indexOf("bottom")>=0&&(e[1]+=1),t.indexOf("top")>=0&&(e[1]-=1),t.indexOf("left")>=0&&(e[0]-=1),t.indexOf("right")>=0&&(e[0]+=1),e)}function s(t,e){return e(4*t)}function l(t){return T[t]}function u(t,e,r,n,o){var i=null;if(Array.isArray(t)){i=[];for(var a=0;a<e;a++)void 0===t[a]?i[a]=n:i[a]=r(t[a],o)}else i=r(t,g.identity);return i}function c(t,e){var r,n,o,c,p,f,h=[],d=t.fullSceneLayout,y=t.dataScale,m=d.xaxis,v=d.yaxis,w=d.zaxis,T=e.marker,S=e.line,E=e.x||[],k=e.y||[],C=e.z||[],A=E.length,P=e.xcalendar,L=e.ycalendar,D=e.zcalendar;for(n=0;n<A;n++)o=m.d2l(E[n],0,P)*y[0],c=v.d2l(k[n],0,L)*y[1],p=w.d2l(C[n],0,D)*y[2],h[n]=[o,c,p];if(Array.isArray(e.text))f=e.text;else if(void 0!==e.text)for(f=new Array(A),n=0;n<A;n++)f[n]=e.text;if(r={position:h,mode:e.mode,text:f},"line"in e&&(r.lineColor=x(S,1,A),r.lineWidth=S.width,r.lineDashes=S.dash),"marker"in e){var O=_(e);r.scatterColor=x(T,1,A),r.scatterSize=u(T.size,A,s,20,O),r.scatterMarker=u(T.symbol,A,l,"●"),r.scatterLineWidth=T.line.width,r.scatterLineColor=x(T.line,1,A),r.scatterAngle=0}"textposition"in e&&(r.textOffset=a(e.textposition),r.textColor=x(e.textfont,1,A),r.textSize=u(e.textfont.size,A,g.identity,12),r.textFont=e.textfont.family,r.textAngle=0);var I=["x","y","z"];for(r.project=[!1,!1,!1],r.projectScale=[1,1,1],r.projectOpacity=[1,1,1],n=0;n<3;++n){var R=e.projection[I[n]];(r.project[n]=R.show)&&(r.projectOpacity[n]=R.opacity,r.projectScale[n]=R.scale)}r.errorBounds=M(e,y);var N=i([e.error_x,e.error_y,e.error_z]);return r.errorColor=N.color,r.errorLineWidth=N.lineWidth,r.errorCapSize=N.capSize,r.delaunayAxis=e.surfaceaxis,r.delaunayColor=b(e.surfacecolor),r}function p(t){if(Array.isArray(t)){var e=t[0];return Array.isArray(e)&&(t=e),"rgb("+t.slice(0,3).map(function(t){return Math.round(255*t)})+")"}return null}function f(t,e){var r=new n(t,e.uid);return r.update(e),r}var h=t("gl-line3d"),d=t("gl-scatter3d"),y=t("gl-error3d"),m=t("gl-mesh3d"),v=t("delaunay-triangulate"),g=t("../../lib"),b=t("../../lib/str2rgbarray"),x=t("../../lib/gl_format_color"),_=t("../scatter/make_bubble_size_func"),w=t("../../constants/gl3d_dashes"),T=t("../../constants/gl_markers"),M=t("./calc_errors"),S=n.prototype;S.handlePick=function(t){if(t.object&&(t.object===this.linePlot||t.object===this.delaunayMesh||t.object===this.textMarkers||t.object===this.scatterPlot)){t.object.highlight&&t.object.highlight(null),this.scatterPlot&&(t.object=this.scatterPlot,this.scatterPlot.highlight(t.data)),this.textLabels&&void 0!==this.textLabels[t.data.index]?t.textLabel=this.textLabels[t.data.index]:t.textLabel="";var e=t.data.index;return t.traceCoordinate=[this.data.x[e],this.data.y[e],this.data.z[e]],!0}},S.update=function(t){var e,r,n,i,a=this.scene.glplot.gl,s=w.solid;this.data=t;var l=c(this.scene,t);"mode"in l&&(this.mode=l.mode),"lineDashes"in l&&l.lineDashes in w&&(s=w[l.lineDashes]),this.color=p(l.scatterColor)||p(l.lineColor),this.dataPoints=l.position,e={gl:a,position:l.position,color:l.lineColor,lineWidth:l.lineWidth||1,dashes:s[0],dashScale:s[1],opacity:t.opacity,connectGaps:t.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(e):(this.linePlot=h(e),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var u=t.opacity;if(t.marker&&t.marker.opacity&&(u*=t.marker.opacity),r={gl:a,position:l.position,color:l.scatterColor,size:l.scatterSize,glyph:l.scatterMarker,opacity:u,orthographic:!0,lineWidth:l.scatterLineWidth,lineColor:l.scatterLineColor,project:l.project,projectScale:l.projectScale,projectOpacity:l.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(r):(this.scatterPlot=d(r),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),i={gl:a,position:l.position,glyph:l.text,color:l.textColor,size:l.textSize,angle:l.textAngle,alignment:l.textOffset,font:l.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:t.opacity},this.textLabels=l.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(i):(this.textMarkers=d(i),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),n={gl:a,position:l.position,color:l.errorColor,error:l.errorBounds,lineWidth:l.errorLineWidth,capSize:l.errorCapSize,opacity:t.opacity},this.errorBars?l.errorBounds?this.errorBars.update(n):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):l.errorBounds&&(this.errorBars=y(n),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),l.delaunayAxis>=0){var f=o(l.position,l.delaunayColor,l.delaunayAxis);f.opacity=t.opacity,this.delaunayMesh?this.delaunayMesh.update(f):(f.gl=a,this.delaunayMesh=m(f),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},S.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},e.exports=f},{"../../constants/gl3d_dashes":660,"../../constants/gl_markers":661,"../../lib":681,"../../lib/gl_format_color":678,"../../lib/str2rgbarray":699,"../scatter/make_bubble_size_func":939,"./calc_errors":949,"delaunay-triangulate":105,"gl-error3d":143,"gl-line3d":153,"gl-mesh3d":186,"gl-scatter3d":233}],951:[function(t,e,r){"use strict";function n(t,e,r,n){var i=0,a=r("x"),s=r("y"),l=r("z"),u=o.getComponentMethod("calendars","handleTraceDefaults");return u(t,e,["x","y","z"],n),a&&s&&l&&(i=Math.min(a.length,s.length,l.length),i<a.length&&(e.x=a.slice(0,i)),i<s.length&&(e.y=s.slice(0,i)),i<l.length&&(e.z=l.slice(0,i))),i}var o=t("../../registry"),i=t("../../lib"),a=t("../scatter/subtypes"),s=t("../scatter/marker_defaults"),l=t("../scatter/line_defaults"),u=t("../scatter/text_defaults"),c=t("../../components/errorbars/defaults"),p=t("./attributes");e.exports=function(t,e,r,o){function f(r,n){return i.coerce(t,e,p,r,n)}var h=n(t,e,f,o);if(!h)return void(e.visible=!1);f("text"),f("mode"),a.hasLines(e)&&(f("connectgaps"),l(t,e,r,o,f)),a.hasMarkers(e)&&s(t,e,r,o,f),a.hasText(e)&&u(t,e,o,f);var d=(e.line||{}).color,y=(e.marker||{}).color;f("surfaceaxis")>=0&&f("surfacecolor",d||y);for(var m=["x","y","z"],v=0;v<3;++v){var g="projection."+m[v];f(g+".show")&&(f(g+".opacity"),f(g+".scale"))}c(t,e,r,{axis:"z"}),c(t,e,r,{axis:"y",inherit:"z"}),c(t,e,r,{axis:"x",inherit:"z"})}},{"../../components/errorbars/defaults":604,"../../lib":681,"../../registry":794,"../scatter/line_defaults":935,"../scatter/marker_defaults":940,"../scatter/subtypes":944,"../scatter/text_defaults":945,"./attributes":947}],952:[function(t,e,r){"use strict";var n={};n.plot=t("./convert"),n.attributes=t("./attributes"),n.markerSymbols=t("../../constants/gl_markers"),n.supplyDefaults=t("./defaults"),n.colorbar=t("../scatter/colorbar"),n.calc=t("./calc"),n.moduleType="trace",n.name="scatter3d",n.basePlotModule=t("../../plots/gl3d"),n.categories=["gl3d","symbols","markerColorscale","showLegend"],n.meta={},e.exports=n},{"../../constants/gl_markers":661,"../../plots/gl3d":759,"../scatter/colorbar":927,"./attributes":947,"./calc":948,"./convert":950,"./defaults":951}],953:[function(t,e,r){"use strict";var n=t("../scatter/attributes"),o=t("../../plots/attributes"),i=t("../../components/colorscale/color_attributes"),a=t("../../lib/extend").extendFlat,s=n.marker,l=n.line,u=s.line;e.exports={lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names"],dflt:"ISO-3"},mode:a({},n.mode,{dflt:"markers"}),text:a({},n.text,{}),textfont:n.textfont,textposition:n.textposition,line:{color:l.color,width:l.width,dash:l.dash},connectgaps:n.connectgaps,marker:a({},{symbol:s.symbol,opacity:s.opacity,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,showscale:s.showscale,colorbar:s.colorbar,line:a({},{width:u.width},i("marker.line"))},i("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:n.fillcolor,hoverinfo:a({},o.hoverinfo,{flags:["lon","lat","location","text","name"]})}},{"../../components/colorscale/color_attributes":583,"../../lib/extend":673,"../../plots/attributes":718,
"../scatter/attributes":924}],954:[function(t,e,r){"use strict";var n=t("fast-isnumeric"),o=t("../scatter/colorscale_calc");e.exports=function(t,e){for(var r=Array.isArray(e.locations),i=r?e.locations.length:e.lon.length,a=[],s=0,l=0;l<i;l++){var u,c={};if(r){var p=e.locations[l];c.loc=p,u="string"!=typeof p}else{var f=e.lon[l],h=e.lat[l];c.lonlat=[+f,+h],u=!n(f)||!n(h)}u?s>0&&(a[s-1].gapAfter=!0):(s++,a.push(c))}return o(e),a}},{"../scatter/colorscale_calc":928,"fast-isnumeric":113}],955:[function(t,e,r){"use strict";function n(t,e,r){var n,o,i=0,a=r("locations");return a?(r("locationmode"),i=a.length):(n=r("lon")||[],o=r("lat")||[],i=Math.min(n.length,o.length),i<n.length&&(e.lon=n.slice(0,i)),i<o.length&&(e.lat=o.slice(0,i)),i)}var o=t("../../lib"),i=t("../scatter/subtypes"),a=t("../scatter/marker_defaults"),s=t("../scatter/line_defaults"),l=t("../scatter/text_defaults"),u=t("../scatter/fillcolor_defaults"),c=t("./attributes");e.exports=function(t,e,r,p){function f(r,n){return o.coerce(t,e,c,r,n)}var h=n(t,e,f);return h?(f("text"),f("mode"),i.hasLines(e)&&(s(t,e,r,p,f),f("connectgaps")),i.hasMarkers(e)&&a(t,e,r,p,f),i.hasText(e)&&l(t,e,p,f),f("fill"),"none"!==e.fill&&u(t,e,r,f),void f("hoverinfo",1===p._dataLength?"lon+lat+location+text":void 0)):void(e.visible=!1)}},{"../../lib":681,"../scatter/fillcolor_defaults":931,"../scatter/line_defaults":935,"../scatter/marker_defaults":940,"../scatter/subtypes":944,"../scatter/text_defaults":945,"./attributes":953}],956:[function(t,e,r){"use strict";e.exports=function(t,e){return t.lon=e.lon,t.lat=e.lat,t.location=e.lon?e.lon:null,t}},{}],957:[function(t,e,r){"use strict";function n(t,e,r){function n(t){return i.tickText(r,r.c2l(t),"hover").text+"°"}var o=t.hoverinfo,a="all"===o?s.hoverinfo.flags:o.split("+"),l=a.indexOf("location")!==-1&&Array.isArray(t.locations),u=a.indexOf("lon")!==-1,c=a.indexOf("lat")!==-1,p=a.indexOf("text")!==-1,f=[];if(l?f.push(e.loc):u&&c?f.push("("+n(e.lonlat[0])+", "+n(e.lonlat[1])+")"):u?f.push("lon: "+n(e.lonlat[0])):c&&f.push("lat: "+n(e.lonlat[1])),p){var h=e.tx||t.text;Array.isArray(h)||f.push(h)}return f.join("<br>")}var o=t("../../plots/cartesian/graph_interact"),i=t("../../plots/cartesian/axes"),a=t("../scatter/get_trace_color"),s=t("./attributes");e.exports=function(t){function e(t){return c.projection(t)}function r(t){var r=t.lonlat;if(null===r[0]||null===r[1])return 1/0;if(c.isLonLatOverEdges(r))return 1/0;var n=e(r),o=l.c2p(),i=u.c2p(),a=Math.abs(o-n[0]),s=Math.abs(i-n[1]),p=Math.max(3,t.mrc||0);return Math.max(Math.sqrt(a*a+s*s)-p,1-3/p)}var i=t.cd,s=i[0].trace,l=t.xa,u=t.ya,c=t.subplot;if(!i[0].placeholder&&(o.getClosest(i,r,t),t.index!==!1)){var p=i[t.index],f=p.lonlat,h=e(f),d=p.mrc||1;return t.x0=h[0]-d,t.x1=h[0]+d,t.y0=h[1]-d,t.y1=h[1]+d,t.loc=p.loc,t.lat=f[0],t.lon=f[1],t.color=a(s,p),t.extraText=n(s,p,c.mockAxis),[t]}}},{"../../plots/cartesian/axes":720,"../../plots/cartesian/graph_interact":727,"../scatter/get_trace_color":932,"./attributes":953}],958:[function(t,e,r){"use strict";var n={};n.attributes=t("./attributes"),n.supplyDefaults=t("./defaults"),n.colorbar=t("../scatter/colorbar"),n.calc=t("./calc"),n.plot=t("./plot"),n.hoverPoints=t("./hover"),n.eventData=t("./event_data"),n.moduleType="trace",n.name="scattergeo",n.basePlotModule=t("../../plots/geo"),n.categories=["geo","symbols","markerColorscale","showLegend"],n.meta={},e.exports=n},{"../../plots/geo":744,"../scatter/colorbar":927,"./attributes":953,"./calc":954,"./defaults":955,"./event_data":956,"./hover":957,"./plot":959}],959:[function(t,e,r){"use strict";function n(t,e){if(!Array.isArray(t.locations))return u.identity;var r=c(t,e),n=t.locationmode;return function(t){var e=p(n,t.loc,r);return e?(t.lonlat=e.properties.ct,t):(t.lonlat=[null,null],!1)}}function o(t,e,r){function n(t,n){h(t,e,n,r)}var o=t.marker;if(n(t.text,"tx"),n(t.textposition,"tp"),t.textfont&&(n(t.textfont.size,"ts"),n(t.textfont.color,"tc"),n(t.textfont.family,"tf")),o&&o.line){var i=o.line;n(o.opacity,"mo"),n(o.symbol,"mx"),n(o.color,"mc"),n(o.size,"ms"),n(i.color,"mlc"),n(i.width,"mlw")}}function i(t){var e=t.framework.selectAll("g.trace.scattergeo");e.style("opacity",function(t){return t[0].trace.opacity}),e.each(function(t){var e=t[0].trace,r=a.select(this);r.selectAll("path.point").call(s.pointStyle,e),r.selectAll("text").call(s.textPointStyle,e)}),e.selectAll("path.js-line").style("fill","none").each(function(t){var e=a.select(this),r=t.trace,n=r.line||{};e.call(l.stroke,n.color).call(s.dashLine,n.dash||"",n.width||0),"none"!==r.fill&&e.call(l.fill,r.fillcolor)})}var a=t("d3"),s=t("../../components/drawing"),l=t("../../components/color"),u=t("../../lib"),c=t("../../lib/topojson_utils").getTopojsonFeatures,p=t("../../lib/geo_location_utils").locationToFeature,f=t("../../lib/geojson_utils"),h=t("../../lib/array_to_calc_item"),d=t("../scatter/subtypes");e.exports=function(t,e){function r(t){return t[0].trace.uid}var s=t.framework.select(".scattergeolayer").selectAll("g.trace.scattergeo").data(e,r);s.enter().append("g").attr("class","trace scattergeo"),s.exit().remove(),s.selectAll("*").remove(),s.each(function(e){var r=a.select(this),i=e[0].trace,s=n(i,t.topojson);e[0].placeholder&&r.remove();for(var l=[],u=0;u<e.length;u++){var c=s(e[u]);c&&(o(i,e[u],u),l.push(c))}if(d.hasLines(i)||"none"!==i.fill){var p=f.calcTraceToLineCoords(l),h="none"!==i.fill?f.makePolygon(p,i):f.makeLine(p,i);r.selectAll("path.js-line").data([h]).enter().append("path").classed("js-line",!0)}d.hasMarkers(i)&&r.selectAll("path.point").data(l).enter().append("path").classed("point",!0),d.hasText(i)&&r.selectAll("g").data(l).enter().append("g").append("text")}),i(t)}},{"../../components/color":576,"../../components/drawing":599,"../../lib":681,"../../lib/array_to_calc_item":668,"../../lib/geo_location_utils":676,"../../lib/geojson_utils":677,"../../lib/topojson_utils":702,"../scatter/subtypes":944,d3:104}],960:[function(t,e,r){"use strict";var n=t("../scatter/attributes"),o=t("../../components/colorscale/color_attributes"),i=t("../../constants/gl2d_dashes"),a=t("../../constants/gl_markers"),s=t("../../lib/extend").extendFlat,l=t("../../lib/extend").extendDeep,u=n.line,c=n.marker,p=c.line;e.exports={x:n.x,x0:n.x0,dx:n.dx,y:n.y,y0:n.y0,dy:n.dy,text:s({},n.text,{}),mode:{valType:"flaglist",flags:["lines","markers"],extras:["none"]},line:{color:u.color,width:u.width,dash:{valType:"enumerated",values:Object.keys(i),dflt:"solid"}},marker:l({},o("marker"),{symbol:{valType:"enumerated",values:Object.keys(a),dflt:"circle",arrayOk:!0},size:c.size,sizeref:c.sizeref,sizemin:c.sizemin,sizemode:c.sizemode,opacity:c.opacity,showscale:c.showscale,colorbar:c.colorbar,line:l({},o("marker.line"),{width:p.width})}),connectgaps:n.connectgaps,fill:s({},n.fill,{values:["none","tozeroy","tozerox"]}),fillcolor:n.fillcolor,error_y:n.error_y,error_x:n.error_x}},{"../../components/colorscale/color_attributes":583,"../../constants/gl2d_dashes":659,"../../constants/gl_markers":661,"../../lib/extend":673,"../scatter/attributes":924}],961:[function(t,e,r){"use strict";function n(t,e){this.scene=t,this.uid=e,this.type="scattergl",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.connectgaps=!0,this.index=null,this.idToIndex=[],this.bounds=[0,0,0,0],this.isVisible=!1,this.hasLines=!1,this.hasErrorX=!1,this.hasErrorY=!1,this.hasMarkers=!1,this.line=this.initObject(h,{positions:new Float64Array(0),color:[0,0,0,1],width:1,fill:[!1,!1,!1,!1],fillColor:[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],dashes:[1]},0),this.errorX=this.initObject(d,{positions:new Float64Array(0),errors:new Float64Array(0),lineWidth:1,capSize:0,color:[0,0,0,1]},1),this.errorY=this.initObject(d,{positions:new Float64Array(0),errors:new Float64Array(0),lineWidth:1,capSize:0,color:[0,0,0,1]},2);var r={positions:new Float64Array(0),sizes:[],colors:[],glyphs:[],borderWidths:[],borderColors:[],size:12,color:[0,0,0,1],borderSize:1,borderColor:[0,0,0,1]};this.scatter=this.initObject(p,r,3),this.fancyScatter=this.initObject(f,r,4)}function o(t,e,r){return Array.isArray(e)||(e=[e]),i(t,e,r)}function i(t,e,r){for(var n=new Array(r),o=e[0],i=0;i<r;++i)n[i]=t(i>=e.length?o:e[i]);return n}function a(t,e,r){return l(L(t,r),P(e,r),r)}function s(t,e,r,n){var o=w(t,e,n);return o=Array.isArray(o[0])?o:i(m.identity,[o],n),l(o,P(r,n),n)}function l(t,e,r){for(var n=new Array(4*r),o=0;o<r;++o){for(var i=0;i<3;++i)n[4*o+i]=t[o][i];n[4*o+3]=t[o][3]*e[o]}return n}function u(t){for(var e,r=t.length,n=Math.max(1,(r-1)/Math.min(Math.max(r,1),1e3)),o=0;o<r;o+=n)if(e=t[Math.floor(o)],!(y(e)||e instanceof Date))return!1;return!0}function c(t,e){var r=new n(t,e.uid);return r.update(e),r}var p=t("gl-scatter2d"),f=t("gl-scatter2d-sdf"),h=t("gl-line2d"),d=t("gl-error2d"),y=t("fast-isnumeric"),m=t("../../lib"),v=t("../../plots/cartesian/axes"),g=t("../../plots/cartesian/axis_autotype"),b=t("../../components/errorbars"),x=t("../../lib/str2rgbarray"),_=t("../../lib/typed_array_truncate"),w=t("../../lib/gl_format_color"),T=t("../scatter/subtypes"),M=t("../scatter/make_bubble_size_func"),S=t("../scatter/get_trace_color"),E=t("../../constants/gl_markers"),k=t("../../constants/gl2d_dashes"),C=["xaxis","yaxis"],A=n.prototype;A.initObject=function(t,e,r){function n(){u||(u=t(s,e),u._trace=a,u._index=r),u.update(e)}function o(){u&&u.update(l)}function i(){u&&u.dispose()}var a=this,s=a.scene.glplot,l=m.extendFlat({},e),u=null;return{options:e,update:n,clear:o,dispose:i}},A.handlePick=function(t){var e=t.pointId;(t.object!==this.line||this.connectgaps)&&(e=this.idToIndex[t.pointId]);var r=this.pickXData[e];return{trace:this,dataCoord:t.dataCoord,traceCoord:[y(r)||!m.isDateTime(r)?r:m.dateTime2ms(r),this.pickYData[e]],textLabel:Array.isArray(this.textLabels)?this.textLabels[e]:this.textLabels,color:Array.isArray(this.color)?this.color[e]:this.color,name:this.name,pointIndex:e,hoverinfo:this.hoverinfo}},A.isFancy=function(t){if("linear"!==this.scene.xaxis.type&&"date"!==this.scene.xaxis.type)return!0;if("linear"!==this.scene.yaxis.type)return!0;if(!t.x||!t.y)return!0;if(this.hasMarkers){var e=t.marker||{};if(Array.isArray(e.symbol)||"circle"!==e.symbol||Array.isArray(e.size)||Array.isArray(e.color)||Array.isArray(e.line.width)||Array.isArray(e.line.color)||Array.isArray(e.opacity))return!0}return!(!this.hasLines||this.connectgaps)||(!!this.hasErrorX||!!this.hasErrorY)};var P=o.bind(null,function(t){return+t}),L=o.bind(null,x),D=o.bind(null,function(t){return E[t]||"●"});A.update=function(t){t.visible!==!0?(this.isVisible=!1,this.hasLines=!1,this.hasErrorX=!1,this.hasErrorY=!1,this.hasMarkers=!1):(this.isVisible=!0,this.hasLines=T.hasLines(t),this.hasErrorX=t.error_x.visible===!0,this.hasErrorY=t.error_y.visible===!0,this.hasMarkers=T.hasMarkers(t)),this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-(1/0),-(1/0)],this.connectgaps=!!t.connectgaps,this.isVisible?this.isFancy(t)?this.updateFancy(t):this.updateFast(t):(this.line.clear(),this.errorX.clear(),this.errorY.clear(),this.scatter.clear(),this.fancyScatter.clear()),this.scene.glplot.objects.sort(function(t,e){return t._index-e._index}),this.index=t.index,this.color=S(t,{})},A.updateFast=function(t){var e,r,n=this.xData=this.pickXData=t.x,o=this.yData=this.pickYData=t.y,i=n.length,a=new Array(i),s=new Float64Array(2*i),l=this.bounds,c=0,p=0,f=t.xcalendar,h=u(n),d=!h&&"date"===g(n,f);if(h||d)for(var v=0;v<i;++v)e=n[v],r=o[v],y(r)&&(h||(e=m.dateTime2ms(e,f)),a[c++]=v,s[p++]=e,s[p++]=r,l[0]=Math.min(l[0],e),l[1]=Math.min(l[1],r),l[2]=Math.max(l[2],e),l[3]=Math.max(l[3],r));s=_(s,p),this.idToIndex=a,this.updateLines(t,s),this.updateError("X",t),this.updateError("Y",t);var b;if(this.hasMarkers){this.scatter.options.positions=s;var w=x(t.marker.color),T=x(t.marker.line.color),M=t.opacity*t.marker.opacity;w[3]*=M,this.scatter.options.color=w,T[3]*=M,this.scatter.options.borderColor=T,b=t.marker.size,this.scatter.options.size=b,this.scatter.options.borderSize=t.marker.line.width,this.scatter.update()}else this.scatter.clear();this.fancyScatter.clear(),this.expandAxesFast(l,b)},A.updateFancy=function(t){var e=this.scene,r=e.xaxis,n=e.yaxis,i=this.bounds,a=this.pickXData=r.makeCalcdata(t,"x").slice(),l=this.pickYData=n.makeCalcdata(t,"y").slice();this.xData=a.slice(),this.yData=l.slice();var u,c,p,f,h,d,y,m,v=b.calcFromTrace(t,e.fullLayout),g=a.length,x=new Array(g),w=new Float64Array(2*g),T=new Float64Array(4*g),S=new Float64Array(4*g),E=0,k=0,C=0,A=0,L="log"===r.type?r.d2l:function(t){return t},O="log"===n.type?n.d2l:function(t){return t};for(u=0;u<g;++u)this.xData[u]=p=L(a[u]),this.yData[u]=f=O(l[u]),isNaN(p)||isNaN(f)||(x[E++]=u,w[k++]=p,w[k++]=f,h=T[C++]=p-v[u].xs||0,d=T[C++]=v[u].xh-p||0,T[C++]=0,T[C++]=0,S[A++]=0,S[A++]=0,y=S[A++]=f-v[u].ys||0,m=S[A++]=v[u].yh-f||0,i[0]=Math.min(i[0],p-h),i[1]=Math.min(i[1],f-y),i[2]=Math.max(i[2],p+d),i[3]=Math.max(i[3],f+m));w=_(w,k),this.idToIndex=x,this.updateLines(t,w),this.updateError("X",t,w,T),this.updateError("Y",t,w,S);var I;if(this.hasMarkers){this.scatter.options.positions=w,this.scatter.options.sizes=new Array(E),this.scatter.options.glyphs=new Array(E),this.scatter.options.borderWidths=new Array(E),this.scatter.options.colors=new Array(4*E),this.scatter.options.borderColors=new Array(4*E);var R,N=M(t),j=t.marker,F=j.opacity,z=t.opacity,B=s(j,F,z,g),U=D(j.symbol,g),V=P(j.line.width,g),H=s(j.line,F,z,g);for(I=o(N,j.size,g),u=0;u<E;++u)for(R=x[u],this.scatter.options.sizes[u]=4*I[R],this.scatter.options.glyphs[u]=U[R],this.scatter.options.borderWidths[u]=.5*V[R],c=0;c<4;++c)this.scatter.options.colors[4*u+c]=B[4*R+c],this.scatter.options.borderColors[4*u+c]=H[4*R+c];this.fancyScatter.update()}else this.fancyScatter.clear();this.scatter.clear(),this.expandAxesFancy(a,l,I)},A.updateLines=function(t,e){var r;if(this.hasLines){var n=e;if(!t.connectgaps){var o=0,i=this.xData,s=this.yData;for(n=new Float64Array(2*i.length),r=0;r<i.length;++r)n[o++]=i[r],n[o++]=s[r]}this.line.options.positions=n;var l=a(t.line.color,t.opacity,1),u=Math.round(.5*this.line.options.width),c=(k[t.line.dash]||[1]).slice();for(r=0;r<c.length;++r)c[r]*=u;switch(t.fill){case"tozeroy":this.line.options.fill=[!1,!0,!1,!1];break;case"tozerox":this.line.options.fill=[!0,!1,!1,!1];break;default:this.line.options.fill=[!1,!1,!1,!1]}var p=x(t.fillcolor);this.line.options.color=l,this.line.options.width=2*t.line.width,this.line.options.dashes=c,this.line.options.fillColor=[p,p,p,p],this.line.update()}else this.line.clear()},A.updateError=function(t,e,r,n){var o=this["error"+t],i=e["error_"+t.toLowerCase()];"x"===t.toLowerCase()&&i.copy_ystyle&&(i=e.error_y),this["hasError"+t]?(o.options.positions=r,o.options.errors=n,o.options.capSize=i.width,o.options.lineWidth=i.thickness/2,o.options.color=a(i.color,1,1),o.update()):o.clear()},A.expandAxesFast=function(t,e){for(var r,n,o,i=e||10,a=0;a<2;a++)r=this.scene[C[a]],n=r._min,n||(n=[]),n.push({val:t[a],pad:i}),o=r._max,o||(o=[]),o.push({val:t[a+2],pad:i})},A.expandAxesFancy=function(t,e,r){var n=this.scene,o={padded:!0,ppad:r};v.expand(n.xaxis,t,o),v.expand(n.yaxis,e,o)},A.dispose=function(){this.line.dispose(),this.errorX.dispose(),this.errorY.dispose(),this.scatter.dispose(),this.fancyScatter.dispose()},e.exports=c},{"../../components/errorbars":605,"../../constants/gl2d_dashes":659,"../../constants/gl_markers":661,"../../lib":681,"../../lib/gl_format_color":678,"../../lib/str2rgbarray":699,"../../lib/typed_array_truncate":703,"../../plots/cartesian/axes":720,"../../plots/cartesian/axis_autotype":721,"../scatter/get_trace_color":932,"../scatter/make_bubble_size_func":939,"../scatter/subtypes":944,"fast-isnumeric":113,"gl-error2d":141,"gl-line2d":151,"gl-scatter2d":230,"gl-scatter2d-sdf":225}],962:[function(t,e,r){"use strict";var n=t("../../lib"),o=t("../scatter/constants"),i=t("../scatter/subtypes"),a=t("../scatter/xy_defaults"),s=t("../scatter/marker_defaults"),l=t("../scatter/line_defaults"),u=t("../scatter/fillcolor_defaults"),c=t("../../components/errorbars/defaults"),p=t("./attributes");e.exports=function(t,e,r,f){function h(r,o){return n.coerce(t,e,p,r,o)}var d=a(t,e,f,h);return d?(h("text"),h("mode",d<o.PTS_LINESONLY?"lines+markers":"lines"),i.hasLines(e)&&(h("connectgaps"),l(t,e,r,f,h)),i.hasMarkers(e)&&s(t,e,r,f,h),h("fill"),"none"!==e.fill&&u(t,e,r,h),c(t,e,r,{axis:"y"}),void c(t,e,r,{axis:"x",inherit:"y"})):void(e.visible=!1)}},{"../../components/errorbars/defaults":604,"../../lib":681,"../scatter/constants":929,"../scatter/fillcolor_defaults":931,"../scatter/line_defaults":935,"../scatter/marker_defaults":940,"../scatter/subtypes":944,"../scatter/xy_defaults":946,"./attributes":960}],963:[function(t,e,r){"use strict";var n={};n.attributes=t("./attributes"),n.supplyDefaults=t("./defaults"),n.colorbar=t("../scatter/colorbar"),n.calc=t("../scatter3d/calc"),n.plot=t("./convert"),n.moduleType="trace",n.name="scattergl",n.basePlotModule=t("../../plots/gl2d"),n.categories=["gl2d","symbols","errorBarsOK","markerColorscale","showLegend"],n.meta={},e.exports=n},{"../../plots/gl2d":756,"../scatter/colorbar":927,"../scatter3d/calc":948,"./attributes":960,"./convert":961,"./defaults":962}],964:[function(t,e,r){"use strict";var n=t("../scattergeo/attributes"),o=t("../scatter/attributes"),i=t("../../plots/mapbox/layout_attributes"),a=t("../../plots/attributes"),s=t("../../components/colorbar/attributes"),l=t("../../lib/extend").extendFlat,u=n.line,c=n.marker;e.exports={lon:n.lon,lat:n.lat,mode:{valType:"flaglist",flags:["lines","markers","text"],dflt:"markers",extras:["none"]},text:l({},o.text,{}),line:{color:u.color,width:u.width,dash:u.dash},connectgaps:o.connectgaps,marker:{symbol:{valType:"string",dflt:"circle",arrayOk:!0},opacity:l({},c.opacity,{arrayOk:!1}),size:c.size,sizeref:c.sizeref,sizemin:c.sizemin,sizemode:c.sizemode,color:c.color,colorscale:c.colorscale,cauto:c.cauto,cmax:c.cmax,cmin:c.cmin,autocolorscale:c.autocolorscale,reversescale:c.reversescale,showscale:c.showscale,colorbar:s},fill:n.fill,fillcolor:o.fillcolor,textfont:i.layers.symbol.textfont,textposition:i.layers.symbol.textposition,hoverinfo:l({},a.hoverinfo,{flags:["lon","lat","text","name"]})}},{"../../components/colorbar/attributes":577,"../../lib/extend":673,"../../plots/attributes":718,"../../plots/mapbox/layout_attributes":775,"../scatter/attributes":924,"../scattergeo/attributes":953}],965:[function(t,e,r){"use strict";var n=t("fast-isnumeric"),o=t("../../lib"),i=t("../../components/colorscale"),a=t("../scatter/subtypes"),s=t("../scatter/colorscale_calc"),l=t("../scatter/make_bubble_size_func");e.exports=function(t,e){var r=e.lon.length,u=e.marker,c=a.hasMarkers(e),p=c&&Array.isArray(u.color),f=c&&Array.isArray(u.size),h=c&&Array.isArray(u.symbol),d=Array.isArray(e.text);s(e);for(var y=i.hasColorscale(e,"marker")?i.makeColorScaleFunc(i.extractScale(u.colorscale,u.cmin,u.cmax)):o.identity,m=a.isBubble(e)?l(e):o.identity,v=[],g=0,b=0;b<r;b++){var x=e.lon[b],_=e.lat[b];if(n(x)&&n(_)){var w={};if(g++,w.lonlat=[+x,+_],c){if(p){var T=u.color[b];w.mc=T,w.mcc=y(T)}if(f){var M=u.size[b];w.ms=M,w.mrc=m(M)}if(h){var S=u.symbol[b];w.mx="string"==typeof S?S:"circle"}}if(d){var E=e.text[b];w.tx="string"==typeof E?E:""}v.push(w)}else g>0&&(v[g-1].gapAfter=!0)}return v}},{"../../components/colorscale":590,"../../lib":681,"../scatter/colorscale_calc":928,"../scatter/make_bubble_size_func":939,"../scatter/subtypes":944,"fast-isnumeric":113}],966:[function(t,e,r){"use strict";function n(){return{geojson:p.makeBlank(),layout:{visibility:"none"},paint:{}}}function o(t,e){function r(t,r,n,o){void 0===e[r][n]&&(e[r][n]=o),t[r]=e[r][n]}for(var n=t[0].trace,o=n.marker,i=Array.isArray(o.color),a=Array.isArray(o.size),s=[],l=0;l<t.length;l++){var u=t[l],c={};i&&r(c,d,u.mcc,l),a&&r(c,y,u.mrc,l),s.push({type:"Feature",geometry:{type:"Point",coordinates:u.lonlat},properties:c})}return{type:"FeatureCollection",features:s}}function i(t){for(var e=t[0].trace,r=e.marker||{},n=r.symbol,o=e.text,i="circle"!==n?l(n):u,a=f.hasText(e)?l(o):u,s=[],c=0;c<t.length;c++){var p=t[c];s.push({type:"Feature",geometry:{type:"Point",coordinates:p.lonlat},properties:{symbol:i(p.mx),text:a(p.tx)}})}return{type:"FeatureCollection",features:s}}function a(t,e){var r,n=t.marker;if(Array.isArray(n.color)){for(var o=Object.keys(e[d]),i=[],a=0;a<o.length;a++){var s=o[a];i.push([e[d][s],s])}r={property:d,stops:i}}else r=n.color;return r}function s(t,e){var r,n=t.marker;if(Array.isArray(n.size)){for(var o=Object.keys(e[y]),i=[],a=0;a<o.length;a++){var s=o[a];i.push([e[y][s],+s])}i.sort(function(t,e){return t[0]-e[0]}),r={property:y,stops:i}}else r=n.size/2;return r}function l(t){return Array.isArray(t)?function(t){return t}:t?function(){return t}:u}function u(){return""}var c=t("../../lib"),p=t("../../lib/geojson_utils"),f=t("../scatter/subtypes"),h=t("../../plots/mapbox/convert_text_opts"),d="circle-color",y="circle-radius";e.exports=function(t){var e=t[0].trace,r=e.visible===!0,l="none"!==e.fill,u=f.hasLines(e),m=f.hasMarkers(e),v=f.hasText(e),g=m&&"circle"===e.marker.symbol,b=m&&"circle"!==e.marker.symbol,x=n(),_=n(),w=n(),T=n(),M={fill:x,line:_,circle:w,symbol:T};if(!r||t[0].placeholder)return M;var S;if((l||u)&&(S=p.calcTraceToLineCoords(t)),l&&(x.geojson=p.makePolygon(S),x.layout.visibility="visible",c.extendFlat(x.paint,{"fill-color":e.fillcolor})),u&&(_.geojson=p.makeLine(S),_.layout.visibility="visible",c.extendFlat(_.paint,{"line-width":e.line.width,"line-color":e.line.color,"line-opacity":e.opacity})),g){var E={};E[d]={},E[y]={},w.geojson=o(t,E),w.layout.visibility="visible",c.extendFlat(w.paint,{"circle-opacity":e.opacity*e.marker.opacity,"circle-color":a(e,E),"circle-radius":s(e,E)})}if((b||v)&&(T.geojson=i(t),c.extendFlat(T.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),b&&(c.extendFlat(T.layout,{"icon-size":e.marker.size/10}),c.extendFlat(T.paint,{"icon-opacity":e.opacity*e.marker.opacity,"icon-color":e.marker.color})),v)){var k=(e.marker||{}).size,C=h(e.textposition,k);c.extendFlat(T.layout,{"text-size":e.textfont.size,"text-anchor":C.anchor,"text-offset":C.offset}),c.extendFlat(T.paint,{"text-color":e.textfont.color,"text-opacity":e.opacity})}return M}},{"../../lib":681,"../../lib/geojson_utils":677,"../../plots/mapbox/convert_text_opts":772,"../scatter/subtypes":944}],967:[function(t,e,r){"use strict";function n(t,e,r){var n=r("lon")||[],o=r("lat")||[],i=Math.min(n.length,o.length);return i<n.length&&(e.lon=n.slice(0,i)),i<o.length&&(e.lat=o.slice(0,i)),i}var o=t("../../lib"),i=t("../scatter/subtypes"),a=t("../scatter/marker_defaults"),s=t("../scatter/line_defaults"),l=t("../scatter/text_defaults"),u=t("../scatter/fillcolor_defaults"),c=t("./attributes"),p=t("../scatter/attributes");e.exports=function(t,e,r,f){function h(r,n){return o.coerce(t,e,c,r,n)}function d(r,n){var i=r.indexOf(".line")===-1?c:p;return o.coerce(t,e,i,r,n)}var y=n(t,e,h);if(!y)return void(e.visible=!1);if(h("text"),h("mode"),i.hasLines(e)&&(s(t,e,r,f,h),h("connectgaps")),i.hasMarkers(e)){a(t,e,r,f,d);var m=e.marker;"circle"!==m.symbol&&(Array.isArray(m.size)&&(m.size=m.size[0]),Array.isArray(m.color)&&(m.color=m.color[0]))}i.hasText(e)&&l(t,e,f,h),h("fill"),"none"!==e.fill&&u(t,e,r,h),h("hoverinfo",1===f._dataLength?"lon+lat+text":void 0)}},{"../../lib":681,"../scatter/attributes":924,"../scatter/fillcolor_defaults":931,"../scatter/line_defaults":935,"../scatter/marker_defaults":940,"../scatter/subtypes":944,"../scatter/text_defaults":945,"./attributes":964}],968:[function(t,e,r){"use strict";e.exports=function(t,e){return t.lon=e.lon,t.lat=e.lat,t}},{}],969:[function(t,e,r){"use strict";function n(t,e){function r(t){return t+"°"}var n=t.hoverinfo.split("+"),o=n.indexOf("all")!==-1,i=n.indexOf("lon")!==-1,a=n.indexOf("lat")!==-1,s=e.lonlat,l=[];if(o||i&&a?l.push("("+r(s[0])+", "+r(s[1])+")"):i?l.push("lon: "+r(s[0])):a&&l.push("lat: "+r(s[1])),o||n.indexOf("text")!==-1){var u=e.tx||t.text;Array.isArray(u)||l.push(u)}return l.join("<br>")}var o=t("../../plots/cartesian/graph_interact"),i=t("../scatter/get_trace_color");e.exports=function(t,e,r){function a(t){var e=t.lonlat,n=Math.abs(u.c2p(e)-u.c2p([h,e[1]])),o=Math.abs(c.c2p(e)-c.c2p([e[0],r])),i=Math.max(3,t.mrc||0);return Math.max(Math.sqrt(n*n+o*o)-i,1-3/i)}var s=t.cd,l=s[0].trace,u=t.xa,c=t.ya;if(!s[0].placeholder){var p=e>=0?Math.floor((e+180)/360):Math.ceil((e-180)/360),f=360*p,h=e-f;if(o.getClosest(s,a,t),t.index!==!1){var d=s[t.index],y=d.lonlat,m=[y[0]+f,y[1]],v=u.c2p(m),g=c.c2p(m),b=d.mrc||1;return t.x0=v-b,t.x1=v+b,t.y0=g-b,t.y1=g+b,t.color=i(l,d),t.extraText=n(l,d),[t]}}}},{"../../plots/cartesian/graph_interact":727,"../scatter/get_trace_color":932}],970:[function(t,e,r){"use strict";var n={};n.attributes=t("./attributes"),n.supplyDefaults=t("./defaults"),n.colorbar=t("../scatter/colorbar"),n.calc=t("./calc"),n.hoverPoints=t("./hover"),n.eventData=t("./event_data"),n.plot=t("./plot"),n.moduleType="trace",n.name="scattermapbox",n.basePlotModule=t("../../plots/mapbox"),n.categories=["mapbox","gl","symbols","markerColorscale","showLegend"],n.meta={},e.exports=n},{"../../plots/mapbox":773,"../scatter/colorbar":927,"./attributes":964,"./calc":965,"./defaults":967,"./event_data":968,"./hover":969,"./plot":971}],971:[function(t,e,r){"use strict";function n(t,e){this.mapbox=t,this.map=t.map,this.uid=e,this.idSourceFill=e+"-source-fill",this.idSourceLine=e+"-source-line",this.idSourceCircle=e+"-source-circle",this.idSourceSymbol=e+"-source-symbol",this.idLayerFill=e+"-layer-fill",this.idLayerLine=e+"-layer-line",this.idLayerCircle=e+"-layer-circle",this.idLayerSymbol=e+"-layer-symbol",this.mapbox.initSource(this.idSourceFill),this.mapbox.initSource(this.idSourceLine),this.mapbox.initSource(this.idSourceCircle),this.mapbox.initSource(this.idSourceSymbol),this.map.addLayer({id:this.idLayerFill,source:this.idSourceFill,type:"fill"}),this.map.addLayer({id:this.idLayerLine,source:this.idSourceLine,type:"line"}),this.map.addLayer({id:this.idLayerCircle,source:this.idSourceCircle,type:"circle"}),this.map.addLayer({id:this.idLayerSymbol,source:this.idSourceSymbol,type:"symbol"})}function o(t){return"visible"===t.layout.visibility}var i=t("./convert"),a=n.prototype;a.update=function(t){var e=this.mapbox,r=i(t);e.setOptions(this.idLayerFill,"setLayoutProperty",r.fill.layout),e.setOptions(this.idLayerLine,"setLayoutProperty",r.line.layout),e.setOptions(this.idLayerCircle,"setLayoutProperty",r.circle.layout),e.setOptions(this.idLayerSymbol,"setLayoutProperty",r.symbol.layout),o(r.fill)&&(e.setSourceData(this.idSourceFill,r.fill.geojson),e.setOptions(this.idLayerFill,"setPaintProperty",r.fill.paint)),o(r.line)&&(e.setSourceData(this.idSourceLine,r.line.geojson),e.setOptions(this.idLayerLine,"setPaintProperty",r.line.paint)),o(r.circle)&&(e.setSourceData(this.idSourceCircle,r.circle.geojson),e.setOptions(this.idLayerCircle,"setPaintProperty",r.circle.paint)),o(r.symbol)&&(e.setSourceData(this.idSourceSymbol,r.symbol.geojson),e.setOptions(this.idLayerSymbol,"setPaintProperty",r.symbol.paint))},a.dispose=function(){var t=this.map;t.removeLayer(this.idLayerFill),t.removeLayer(this.idLayerLine),t.removeLayer(this.idLayerCircle),t.removeLayer(this.idLayerSymbol),t.removeSource(this.idSourceFill),t.removeSource(this.idSourceLine),t.removeSource(this.idSourceCircle),t.removeSource(this.idSourceSymbol)},e.exports=function(t,e){var r=e[0].trace,o=new n(t,r.uid);return o.update(e),o}},{"./convert":966}],972:[function(t,e,r){"use strict";var n=t("../scatter/attributes"),o=t("../../plots/attributes"),i=t("../../components/colorscale/color_attributes"),a=t("../../components/colorbar/attributes"),s=t("../../lib/extend").extendFlat,l=n.marker,u=n.line,c=l.line;e.exports={a:{valType:"data_array"},b:{valType:"data_array"},c:{valType:"data_array"},sum:{valType:"number",dflt:0,min:0},mode:s({},n.mode,{dflt:"markers"}),text:s({},n.text,{}),line:{color:u.color,width:u.width,dash:u.dash,shape:s({},u.shape,{values:["linear","spline"]}),smoothing:u.smoothing},connectgaps:n.connectgaps,fill:s({},n.fill,{values:["none","toself","tonext"]}),fillcolor:n.fillcolor,marker:s({},{symbol:l.symbol,opacity:l.opacity,maxdisplayed:l.maxdisplayed,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,line:s({},{width:c.width},i("marker".line))},i("marker"),{showscale:l.showscale,colorbar:a}),textfont:n.textfont,textposition:n.textposition,hoverinfo:s({},o.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:n.hoveron}},{"../../components/colorbar/attributes":577,"../../components/colorscale/color_attributes":583,"../../lib/extend":673,"../../plots/attributes":718,"../scatter/attributes":924}],973:[function(t,e,r){"use strict";var n=t("fast-isnumeric"),o=t("../../plots/cartesian/axes"),i=t("../scatter/subtypes"),a=t("../scatter/colorscale_calc"),s=t("../scatter/arrays_to_calcdata"),l=["a","b","c"],u={a:["b","c"],b:["a","c"],c:["a","b"]};e.exports=function(t,e){var r,c,p,f,h,d,y=t._fullLayout[e.subplot],m=y.sum,v=e.sum||m;for(r=0;r<l.length;r++)if(p=l[r],!e[p]){for(h=e[u[p][0]],d=e[u[p][1]],f=new Array(h.length),c=0;c<h.length;c++)f[c]=v-h[c]-d[c];e[p]=f}var g,b,x,_,w,T,M=e.a.length,S=new Array(M);for(r=0;r<M;r++)g=e.a[r],b=e.b[r],x=e.c[r],n(g)&&n(b)&&n(x)?(g=+g,b=+b,x=+x,_=m/(g+b+x),1!==_&&(g*=_,b*=_,x*=_),T=g,w=x-b,S[r]={x:w,y:T,a:g,b:b,c:x}):S[r]={x:!1,y:!1};var E,k;if(i.hasMarkers(e)&&(E=e.marker,k=E.size,Array.isArray(k))){var C={type:"linear"};o.setConvert(C),k=C.makeCalcdata(e.marker,"size"),k.length>M&&k.splice(M,k.length-M)}return a(e),s(S,e),S}},{"../../plots/cartesian/axes":720,"../scatter/arrays_to_calcdata":923,"../scatter/colorscale_calc":928,"../scatter/subtypes":944,"fast-isnumeric":113}],974:[function(t,e,r){"use strict";var n=t("../../lib"),o=t("../scatter/constants"),i=t("../scatter/subtypes"),a=t("../scatter/marker_defaults"),s=t("../scatter/line_defaults"),l=t("../scatter/line_shape_defaults"),u=t("../scatter/text_defaults"),c=t("../scatter/fillcolor_defaults"),p=t("./attributes");e.exports=function(t,e,r,f){function h(r,o){return n.coerce(t,e,p,r,o)}var d,y=h("a"),m=h("b"),v=h("c");if(y?(d=y.length,m?(d=Math.min(d,m.length),v&&(d=Math.min(d,v.length))):d=v?Math.min(d,v.length):0):m&&v&&(d=Math.min(m.length,v.length)),!d)return void(e.visible=!1);y&&d<y.length&&(e.a=y.slice(0,d)),m&&d<m.length&&(e.b=m.slice(0,d)),v&&d<v.length&&(e.c=v.slice(0,d)),h("sum"),h("text");var g=d<o.PTS_LINESONLY?"lines+markers":"lines";h("mode",g),i.hasLines(e)&&(s(t,e,r,f,h),l(t,e,h),h("connectgaps")),i.hasMarkers(e)&&a(t,e,r,f,h),i.hasText(e)&&u(t,e,f,h);var b=[];(i.hasMarkers(e)||i.hasText(e))&&(h("marker.maxdisplayed"),b.push("points")),h("fill"),"none"!==e.fill&&(c(t,e,r,h),i.hasLines(e)||l(t,e,h)),h("hoverinfo",1===f._dataLength?"a+b+c+text":void 0),"tonext"!==e.fill&&"toself"!==e.fill||b.push("fills"),h("hoveron",b.join("+")||"points")}},{"../../lib":681,"../scatter/constants":929,"../scatter/fillcolor_defaults":931,"../scatter/line_defaults":935,"../scatter/line_shape_defaults":937,"../scatter/marker_defaults":940,"../scatter/subtypes":944,"../scatter/text_defaults":945,"./attributes":972}],975:[function(t,e,r){"use strict";var n=t("../scatter/hover"),o=t("../../plots/cartesian/axes");e.exports=function(t,e,r,i){function a(t,e){v.push(t._hovertitle+": "+o.tickText(t,e,"hover").text)}var s=n(t,e,r,i);if(s&&s[0].index!==!1){var l=s[0];if(void 0===l.index){var u=1-l.y0/t.ya._length,c=t.xa._length,p=c*u/2,f=c-p;return l.x0=Math.max(Math.min(l.x0,f),p),l.x1=Math.max(Math.min(l.x1,f),p),s}var h=l.cd[l.index];l.a=h.a,l.b=h.b,l.c=h.c,l.xLabelVal=void 0,l.yLabelVal=void 0;var d=l.trace,y=d._ternary,m=d.hoverinfo.split("+"),v=[];return m.indexOf("all")!==-1&&(m=["a","b","c"]),m.indexOf("a")!==-1&&a(y.aaxis,h.a),m.indexOf("b")!==-1&&a(y.baxis,h.b),m.indexOf("c")!==-1&&a(y.caxis,h.c),l.extraText=v.join("<br>"),s}}},{"../../plots/cartesian/axes":720,"../scatter/hover":933}],976:[function(t,e,r){"use strict";var n={};
n.attributes=t("./attributes"),n.supplyDefaults=t("./defaults"),n.colorbar=t("../scatter/colorbar"),n.calc=t("./calc"),n.plot=t("./plot"),n.style=t("./style"),n.hoverPoints=t("./hover"),n.selectPoints=t("./select"),n.moduleType="trace",n.name="scatterternary",n.basePlotModule=t("../../plots/ternary"),n.categories=["ternary","symbols","markerColorscale","showLegend"],n.meta={},e.exports=n},{"../../plots/ternary":787,"../scatter/colorbar":927,"./attributes":972,"./calc":973,"./defaults":974,"./hover":975,"./plot":977,"./select":978,"./style":979}],977:[function(t,e,r){"use strict";var n=t("../scatter/plot");e.exports=function(t,e){var r=t.plotContainer;r.select(".scatterlayer").selectAll("*").remove();for(var o={xaxis:t.xaxis,yaxis:t.yaxis,plot:r},i=0;i<e.length;i++)e[i][0].trace._ternary=t;n(t.graphDiv,o,e)}},{"../scatter/plot":941}],978:[function(t,e,r){"use strict";var n=t("../scatter/select");e.exports=function(t,e){var r=n(t,e);if(r){var o,i,a,s=t.cd;for(a=0;a<r.length;a++)o=r[a],i=s[o.pointNumber],o.a=i.a,o.b=i.b,o.c=i.c,delete o.x,delete o.y;return r}}},{"../scatter/select":942}],979:[function(t,e,r){"use strict";var n=t("../scatter/style");e.exports=function(t){for(var e=t._fullLayout._modules,r=0;r<e.length;r++)if("scatter"===e[r].name)return;n(t)}},{"../scatter/style":943}],980:[function(t,e,r){"use strict";function n(t){return{valType:"boolean",dflt:!1}}function o(t){return{show:{valType:"boolean",dflt:!1},project:{x:n("x"),y:n("y"),z:n("z")},color:{valType:"color",dflt:i.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:i.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var i=t("../../components/color"),a=t("../../components/colorscale/attributes"),s=t("../../components/colorbar/attributes"),l=t("../../lib/extend").extendFlat;e.exports={z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"data_array"},surfacecolor:{valType:"data_array"},cauto:a.zauto,cmin:a.zmin,cmax:a.zmax,colorscale:a.colorscale,autocolorscale:l({},a.autocolorscale,{dflt:!1}),reversescale:a.reversescale,showscale:a.showscale,colorbar:s,contours:{x:o("x"),y:o("y"),z:o("z")},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},_deprecated:{zauto:l({},a.zauto,{}),zmin:l({},a.zmin,{}),zmax:l({},a.zmax,{})}}},{"../../components/color":576,"../../components/colorbar/attributes":577,"../../components/colorscale/attributes":581,"../../lib/extend":673}],981:[function(t,e,r){"use strict";var n=t("../../components/colorscale/calc");e.exports=function(t,e){e.surfacecolor?n(e,e.surfacecolor,"","c"):n(e,e.z,"","c")}},{"../../components/colorscale/calc":582}],982:[function(t,e,r){"use strict";var n=t("fast-isnumeric"),o=t("../../lib"),i=t("../../plots/plots"),a=t("../../components/colorscale"),s=t("../../components/colorbar/draw");e.exports=function(t,e){var r=e[0].trace,l="cb"+r.uid,u=r.cmin,c=r.cmax,p=r.surfacecolor||r.z;if(n(u)||(u=o.aggNums(Math.min,null,p)),n(c)||(c=o.aggNums(Math.max,null,p)),t._fullLayout._infolayer.selectAll("."+l).remove(),!r.showscale)return void i.autoMargin(t,l);var f=e[0].t.cb=s(t,l),h=a.makeColorScaleFunc(a.extractScale(r.colorscale,u,c),{noNumericCheck:!0});f.fillcolor(h).filllevels({start:u,end:c,size:(c-u)/254}).options(r.colorbar)()}},{"../../components/colorbar/draw":579,"../../components/colorscale":590,"../../lib":681,"../../plots/plots":779,"fast-isnumeric":113}],983:[function(t,e,r){"use strict";function n(t,e,r){this.scene=t,this.uid=r,this.surface=e,this.data=null,this.showContour=[!1,!1,!1],this.dataScale=1}function o(t,e){return void 0===e&&(e=1),t.map(function(t){var r=t[0],n=d(t[1]),o=n.toRgb();return{index:r,rgb:[o.r,o.g,o.b,e]}})}function i(t){var e=t[0].rgb,r=t[t.length-1].rgb;return e[0]===r[0]&&e[1]===r[1]&&e[2]===r[2]&&e[3]===r[3]}function a(t){var e=t.shape,r=[e[0]+2,e[1]+2],n=c(new Float32Array(r[0]*r[1]),r);return h.assign(n.lo(1,1).hi(e[0],e[1]),t),h.assign(n.lo(1).hi(e[0],1),t.hi(e[0],1)),h.assign(n.lo(1,r[1]-1).hi(e[0],1),t.lo(0,e[1]-1).hi(e[0],1)),h.assign(n.lo(0,1).hi(1,e[1]),t.hi(1)),h.assign(n.lo(r[0]-1,1).hi(1,e[1]),t.lo(e[0]-1)),n.set(0,0,t.get(0,0)),n.set(0,r[1]-1,t.get(0,e[1]-1)),n.set(r[0]-1,0,t.get(e[0]-1,0)),n.set(r[0]-1,r[1]-1,t.get(e[0]-1,e[1]-1)),n}function s(t){var e=Math.max(t[0].shape[0],t[0].shape[1]);if(e<m){for(var r=m/e,n=[0|Math.floor(t[0].shape[0]*r+1),0|Math.floor(t[0].shape[1]*r+1)],o=n[0]*n[1],i=0;i<t.length;++i){var s=a(t[i]),l=c(new Float32Array(o),n);p(l,s,[r,0,0,0,r,0,0,0,1]),t[i]=l}return r}return 1}function l(t,e){var r=t.glplot.gl,o=u({gl:r}),i=new n(t,o,e.uid);return o._trace=i,i.update(e),t.glplot.add(o),i}var u=t("gl-surface3d"),c=t("ndarray"),p=t("ndarray-homography"),f=t("ndarray-fill"),h=t("ndarray-ops"),d=t("tinycolor2"),y=t("../../lib/str2rgbarray"),m=128,v=n.prototype;v.handlePick=function(t){if(t.object===this.surface){var e=[Math.min(0|Math.round(t.data.index[0]/this.dataScale-1),this.data.z[0].length-1),Math.min(0|Math.round(t.data.index[1]/this.dataScale-1),this.data.z.length-1)],r=[0,0,0];Array.isArray(this.data.x[0])?r[0]=this.data.x[e[1]][e[0]]:r[0]=this.data.x[e[0]],Array.isArray(this.data.y[0])?r[1]=this.data.y[e[1]][e[0]]:r[1]=this.data.y[e[1]],r[2]=this.data.z[e[1]][e[0]],t.traceCoordinate=r;var n=this.scene.fullSceneLayout;t.dataCoordinate=[n.xaxis.d2l(r[0],0,this.data.xcalendar)*this.scene.dataScale[0],n.yaxis.d2l(r[1],0,this.data.ycalendar)*this.scene.dataScale[1],n.zaxis.d2l(r[2],0,this.data.zcalendar)*this.scene.dataScale[2]];var o=this.data.text;return o&&o[e[1]]&&void 0!==o[e[1]][e[0]]?t.textLabel=o[e[1]][e[0]]:t.textLabel="",t.data.dataCoordinate=t.dataCoordinate.slice(),this.surface.highlight(t.data),this.scene.glplot.spikes.position=t.dataCoordinate,!0}},v.setContourLevels=function(){for(var t=[[],[],[]],e=!1,r=0;r<3;++r)this.showContour[r]&&(e=!0,t[r]=this.scene.contourLevels[r]);e&&this.surface.update({levels:t})},v.update=function(t){var e,r=this.scene,n=r.fullSceneLayout,a=this.surface,l=t.opacity,u=o(t.colorscale,l),p=t.z,h=t.x,d=t.y,m=n.xaxis,v=n.yaxis,g=n.zaxis,b=r.dataScale,x=p[0].length,_=p.length,w=[c(new Float32Array(x*_),[x,_]),c(new Float32Array(x*_),[x,_]),c(new Float32Array(x*_),[x,_])],T=w[0],M=w[1],S=r.contourLevels;this.data=t;var E=t.xcalendar,k=t.ycalendar,C=t.zcalendar;f(w[2],function(t,e){return g.d2l(p[e][t],0,C)*b[2]}),Array.isArray(h[0])?f(T,function(t,e){return m.d2l(h[e][t],0,E)*b[0]}):f(T,function(t){return m.d2l(h[t],0,E)*b[0]}),Array.isArray(d[0])?f(M,function(t,e){return v.d2l(d[e][t],0,k)*b[1]}):f(M,function(t,e){return v.d2l(d[e],0,k)*b[1]});var A={colormap:u,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!t.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacity:t.opacity};if(A.intensityBounds=[t.cmin,t.cmax],t.surfacecolor){var P=c(new Float32Array(x*_),[x,_]);f(P,function(e,r){return t.surfacecolor[r][e]}),w.push(P)}else A.intensityBounds[0]*=b[2],A.intensityBounds[1]*=b[2];this.dataScale=s(w),t.surfacecolor&&(A.intensity=w.pop());var L=[!0,!0,!0],D=["x","y","z"];for(e=0;e<3;++e){var O=t.contours[D[e]];L[e]=O.highlight,A.showContour[e]=O.show||O.highlight,A.showContour[e]&&(A.contourProject[e]=[O.project.x,O.project.y,O.project.z],O.show?(this.showContour[e]=!0,A.levels[e]=S[e],a.highlightColor[e]=A.contourColor[e]=y(O.color),O.usecolormap?a.highlightTint[e]=A.contourTint[e]=0:a.highlightTint[e]=A.contourTint[e]=1,A.contourWidth[e]=O.width):this.showContour[e]=!1,O.highlight&&(A.dynamicColor[e]=y(O.highlightcolor),A.dynamicWidth[e]=O.highlightwidth))}i(u)&&(A.vertexColor=!0),A.coords=w,a.update(A),a.visible=t.visible,a.enableDynamic=L,a.snapToData=!0,"lighting"in t&&(a.ambientLight=t.lighting.ambient,a.diffuseLight=t.lighting.diffuse,a.specularLight=t.lighting.specular,a.roughness=t.lighting.roughness,a.fresnel=t.lighting.fresnel),"lightposition"in t&&(a.lightPosition=[t.lightposition.x,t.lightposition.y,t.lightposition.z]),l&&l<1&&(a.supportsTransparency=!0)},v.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},e.exports=l},{"../../lib/str2rgbarray":699,"gl-surface3d":248,ndarray:447,"ndarray-fill":437,"ndarray-homography":439,"ndarray-ops":441,tinycolor2:512}],984:[function(t,e,r){"use strict";function n(t,e,r){e in t&&!(r in t)&&(t[r]=t[e])}var o=t("../../registry"),i=t("../../lib"),a=t("../../components/colorscale/defaults"),s=t("./attributes");e.exports=function(t,e,r,l){function u(r,n){return i.coerce(t,e,s,r,n)}var c,p,f=u("z");if(!f)return void(e.visible=!1);var h=f[0].length,d=f.length;u("x"),u("y");var y=o.getComponentMethod("calendars","handleTraceDefaults");if(y(t,e,["x","y","z"],l),!Array.isArray(e.x))for(e.x=[],c=0;c<h;++c)e.x[c]=c;if(u("text"),!Array.isArray(e.y))for(e.y=[],c=0;c<d;++c)e.y[c]=c;["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","opacity"].forEach(function(t){u(t)});var m=u("surfacecolor");u("colorscale");var v=["x","y","z"];for(c=0;c<3;++c){var g="contours."+v[c],b=u(g+".show"),x=u(g+".highlight");if(b||x)for(p=0;p<3;++p)u(g+".project."+v[p]);b&&(u(g+".color"),u(g+".width"),u(g+".usecolormap")),x&&(u(g+".highlightcolor"),u(g+".highlightwidth"))}m||(n(t,"zmin","cmin"),n(t,"zmax","cmax"),n(t,"zauto","cauto")),a(t,e,l,u,{prefix:"",cLetter:"c"})}},{"../../components/colorscale/defaults":585,"../../lib":681,"../../registry":794,"./attributes":980}],985:[function(t,e,r){"use strict";var n={};n.attributes=t("./attributes"),n.supplyDefaults=t("./defaults"),n.colorbar=t("./colorbar"),n.calc=t("./calc"),n.plot=t("./convert"),n.moduleType="trace",n.name="surface",n.basePlotModule=t("../../plots/gl3d"),n.categories=["gl3d","noOpacity"],n.meta={},e.exports=n},{"../../plots/gl3d":759,"./attributes":980,"./calc":981,"./colorbar":982,"./convert":983,"./defaults":984}],986:[function(t,e,r){"use strict";function n(t,e){if("string"==typeof e&&e){var r=a.nestedProperty(t,e).get();return Array.isArray(r)?r:[]}return!!Array.isArray(e)&&e.slice()}function o(t,e,r){var n;if(Array.isArray(r)){if(n={type:c(r),_categories:[]},p(n),"category"===n.type)for(var o=0;o<r.length;o++)n.d2c(r[o])}else n=u.getFromTrace(t,e,r);return n?n.d2c:"ids"===r?function(t){return String(t)}:function(t){return+t}}function i(t,e,r){function n(t){return t.indexOf(i)!==-1}var o,i=t.operation,a=t.value,s=Array.isArray(a),l=function(r){return e(r,0,t.valuecalendar)},u=function(t){return e(t,0,r)};switch(n(f)?o=l(s?a[0]:a):n(h)?o=s?[l(a[0]),l(a[1])]:[l(a),l(a)]:n(d)&&(o=s?a.map(l):[l(a)]),i){case"=":return function(t){return u(t)===o};case"<":return function(t){return u(t)<o};case"<=":return function(t){return u(t)<=o};case">":return function(t){return u(t)>o};case">=":return function(t){return u(t)>=o};case"[]":return function(t){var e=u(t);return e>=o[0]&&e<=o[1]};case"()":return function(t){var e=u(t);return e>o[0]&&e<o[1]};case"[)":return function(t){var e=u(t);return e>=o[0]&&e<o[1]};case"(]":return function(t){var e=u(t);return e>o[0]&&e<=o[1]};case"][":return function(t){var e=u(t);return e<=o[0]||e>=o[1]};case")(":return function(t){var e=u(t);return e<o[0]||e>o[1]};case"](":return function(t){var e=u(t);return e<=o[0]||e>o[1]};case")[":return function(t){var e=u(t);return e<o[0]||e>=o[1]};case"{}":return function(t){return o.indexOf(u(t))!==-1};case"}{":return function(t){return o.indexOf(u(t))===-1}}}var a=t("../lib"),s=t("../registry"),l=t("../plot_api/plot_schema"),u=t("../plots/cartesian/axis_ids"),c=t("../plots/cartesian/axis_autotype"),p=t("../plots/cartesian/set_convert"),f=["=","<",">=",">","<="],h=["[]","()","[)","(]","][",")(","](",")["],d=["{}","}{"];r.moduleType="transform",r.name="filter",r.attributes={enabled:{valType:"boolean",dflt:!0},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x"},operation:{valType:"enumerated",values:[].concat(f).concat(h).concat(d),dflt:"="},value:{valType:"any",dflt:0}},r.supplyDefaults=function(t){function e(e,o){return a.coerce(t,n,r.attributes,e,o)}var n={},o=e("enabled");if(o){e("operation"),e("value"),e("target");var i=s.getComponentMethod("calendars","handleDefaults");i(t,n,"valuecalendar",null),i(t,n,"targetcalendar",null)}return n},r.calcTransform=function(t,e,r){function s(t,r){var n=g[t],o=a.nestedProperty(e,t).get();o.push(n[r])}if(r.enabled){var u=r.target,c=n(e,u),p=c.length;if(p){var f=r.targetcalendar;if("string"==typeof u){var h=a.nestedProperty(e,u+"calendar").get();h&&(f=h)}for(var d="x"===u||"y"===u||"z"===u?u:c,y=o(t,e,d),m=i(r,y,f),v=l.findArrayAttributes(e),g={},b=0;b<v.length;b++){var x=v[b],_=a.nestedProperty(e,x);g[x]=a.extendDeep([],_.get()),_.set([])}for(var w=0;w<p;w++){var T=c[w];if(m(T))for(var M=0;M<v.length;M++)s(v[M],w)}}}}},{"../lib":681,"../plot_api/plot_schema":709,"../plots/cartesian/axis_autotype":721,"../plots/cartesian/axis_ids":723,"../plots/cartesian/set_convert":734,"../registry":794}],987:[function(t,e,r){"use strict";function n(t,e){a.nestedProperty(t,e).set([])}function o(t,e,r,n){a.nestedProperty(t,n).set(a.nestedProperty(t,n).get().concat([a.nestedProperty(e,n).get()[r]]))}function i(t,e){var r=e.transform,i=t.transforms[e.transformIndex].groups;if(!Array.isArray(i)||0===i.length)return t;for(var l=a.filterUnique(i),u=new Array(l.length),c=i.length,p=s.findArrayAttributes(t),f=r.style||{},h=0;h<l.length;h++){var d=l[h],y=u[h]=a.extendDeepNoArrays({},t);p.forEach(n.bind(null,y));for(var m=0;m<c;m++)i[m]===d&&p.forEach(o.bind(0,y,t,m));y.name=d,y=a.extendDeepNoArrays(y,f[d]||{})}return u}var a=t("../lib"),s=t("../plot_api/plot_schema");r.moduleType="transform",r.name="groupby",r.attributes={enabled:{valType:"boolean",dflt:!0},groups:{valType:"data_array",dflt:[]},style:{valType:"any",dflt:{}}},r.supplyDefaults=function(t){function e(e,o){return a.coerce(t,n,r.attributes,e,o)}var n={},o=e("enabled");return o?(e("groups"),e("style"),n):n},r.transform=function(t,e){for(var r=[],n=0;n<t.length;n++)r=r.concat(i(t[n],e));return r}},{"../lib":681,"../plot_api/plot_schema":709}]},{},[17])(17)})}).call(e,function(){return this}(),r(575).Buffer)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){function r(){o&&(clearTimeout(o),o=null)}function n(){r(),o=setTimeout(t,e)}var o=void 0;return n.clear=r,n}Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),a=n(i),s=r(15),l=n(s),u=r(818),c=n(u),p=r(1044),f=n(p),h=r(1043),d=n(h),y=a.default.createClass({displayName:"Align",propTypes:{childrenProps:i.PropTypes.object,align:i.PropTypes.object.isRequired,target:i.PropTypes.func,onAlign:i.PropTypes.func,monitorBufferTime:i.PropTypes.number,monitorWindowResize:i.PropTypes.bool,disabled:i.PropTypes.bool,children:i.PropTypes.any},getDefaultProps:function(){return{target:function(){return window},onAlign:function(){},monitorBufferTime:50,monitorWindowResize:!1,disabled:!1}},componentDidMount:function(){var t=this.props;this.forceAlign(),!t.disabled&&t.monitorWindowResize&&this.startMonitorWindowResize()},componentDidUpdate:function(t){var e=!1,r=this.props;if(!r.disabled)if(t.disabled||t.align!==r.align)e=!0;else{var n=t.target(),o=r.target();(0,d.default)(n)&&(0,d.default)(o)?e=!1:n!==o&&(e=!0)}e&&this.forceAlign(),r.monitorWindowResize&&!r.disabled?this.startMonitorWindowResize():this.stopMonitorWindowResize()},componentWillUnmount:function(){this.stopMonitorWindowResize()},startMonitorWindowResize:function(){this.resizeHandler||(this.bufferMonitor=o(this.forceAlign,this.props.monitorBufferTime),this.resizeHandler=(0,f.default)(window,"resize",this.bufferMonitor))},stopMonitorWindowResize:function(){this.resizeHandler&&(this.bufferMonitor.clear(),this.resizeHandler.remove(),this.resizeHandler=null)},forceAlign:function(){var t=this.props;if(!t.disabled){var e=l.default.findDOMNode(this);t.onAlign(e,(0,c.default)(e,t.target(),t.align))}},render:function(){var t=this.props,e=t.childrenProps,r=t.children,n=a.default.Children.only(r);if(e){var o={};for(var i in e)e.hasOwnProperty(i)&&(o[i]=this.props[e[i]]);return a.default.cloneElement(n,o)}return n}});e.default=y,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1041),i=n(o);e.default=i.default,t.exports=e.default},function(t,e){"use strict";function r(t){return null!=t&&t==t.window}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){var n=l.default.unstable_batchedUpdates?function(t){l.default.unstable_batchedUpdates(r,t)}:r;return(0,a.default)(t,e,n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(209),a=n(i),s=r(15),l=n(s);t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t){var e=t.children;return u.default.isValidElement(e)&&!e.key?u.default.cloneElement(e,{key:y}):e}function a(){}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l=r(1),u=n(l),c=r(1047),p=r(1046),f=n(p),h=r(437),d=n(h),y="rc_animate_"+Date.now(),m=u.default.createClass({displayName:"Animate",propTypes:{component:u.default.PropTypes.any,componentProps:u.default.PropTypes.object,animation:u.default.PropTypes.object,transitionName:u.default.PropTypes.oneOfType([u.default.PropTypes.string,u.default.PropTypes.object]),transitionEnter:u.default.PropTypes.bool,transitionAppear:u.default.PropTypes.bool,exclusive:u.default.PropTypes.bool,transitionLeave:u.default.PropTypes.bool,onEnd:u.default.PropTypes.func,onEnter:u.default.PropTypes.func,onLeave:u.default.PropTypes.func,onAppear:u.default.PropTypes.func,showProp:u.default.PropTypes.string},getDefaultProps:function(){return{animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:a,onEnter:a,onLeave:a,onAppear:a}},getInitialState:function(){return this.currentlyAnimatingKeys={},this.keysToEnter=[],this.keysToLeave=[],{children:(0,c.toArrayChildren)(i(this.props))}},componentDidMount:function(){var t=this,e=this.props.showProp,r=this.state.children;e&&(r=r.filter(function(t){return!!t.props[e]})),r.forEach(function(e){e&&t.performAppear(e.key)})},componentWillReceiveProps:function(t){var e=this;this.nextProps=t;var r=(0,c.toArrayChildren)(i(t)),n=this.props;n.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach(function(t){e.stop(t)});var a=n.showProp,s=this.currentlyAnimatingKeys,l=n.exclusive?(0,c.toArrayChildren)(i(n)):this.state.children,p=[];a?(l.forEach(function(t){var e=t&&(0,c.findChildInChildrenByKey)(r,t.key),n=void 0;n=e&&e.props[a]||!t.props[a]?e:u.default.cloneElement(e||t,o({},a,!0)),n&&p.push(n)}),r.forEach(function(t){t&&(0,c.findChildInChildrenByKey)(l,t.key)||p.push(t)})):p=(0,c.mergeChildren)(l,r),this.setState({children:p}),r.forEach(function(t){var r=t&&t.key;if(!t||!s[r]){var n=t&&(0,c.findChildInChildrenByKey)(l,r);if(a){var o=t.props[a];if(n){var i=(0,c.findShownChildInChildrenByKey)(l,r,a);!i&&o&&e.keysToEnter.push(r)}else o&&e.keysToEnter.push(r)}else n||e.keysToEnter.push(r)}}),l.forEach(function(t){var n=t&&t.key;if(!t||!s[n]){var o=t&&(0,c.findChildInChildrenByKey)(r,n);if(a){var i=t.props[a];if(o){var l=(0,c.findShownChildInChildrenByKey)(r,n,a);!l&&i&&e.keysToLeave.push(n)}else i&&e.keysToLeave.push(n)}else o||e.keysToLeave.push(n)}})},componentDidUpdate:function(){var t=this.keysToEnter;this.keysToEnter=[],t.forEach(this.performEnter);var e=this.keysToLeave;this.keysToLeave=[],e.forEach(this.performLeave)},performEnter:function(t){this.refs[t]&&(this.currentlyAnimatingKeys[t]=!0,this.refs[t].componentWillEnter(this.handleDoneAdding.bind(this,t,"enter")))},performAppear:function(t){this.refs[t]&&(this.currentlyAnimatingKeys[t]=!0,this.refs[t].componentWillAppear(this.handleDoneAdding.bind(this,t,"appear")))},handleDoneAdding:function(t,e){var r=this.props;if(delete this.currentlyAnimatingKeys[t],!r.exclusive||r===this.nextProps){var n=(0,c.toArrayChildren)(i(r));this.isValidChildByKey(n,t)?"appear"===e?d.default.allowAppearCallback(r)&&(r.onAppear(t),r.onEnd(t,!0)):d.default.allowEnterCallback(r)&&(r.onEnter(t),r.onEnd(t,!0)):this.performLeave(t)}},performLeave:function(t){this.refs[t]&&(this.currentlyAnimatingKeys[t]=!0,this.refs[t].componentWillLeave(this.handleDoneLeaving.bind(this,t)))},handleDoneLeaving:function(t){var e=this.props;if(delete this.currentlyAnimatingKeys[t],!e.exclusive||e===this.nextProps){var r=(0,c.toArrayChildren)(i(e));if(this.isValidChildByKey(r,t))this.performEnter(t);else{var n=function(){d.default.allowLeaveCallback(e)&&(e.onLeave(t),e.onEnd(t,!1))};this.isMounted()&&!(0,c.isSameChildren)(this.state.children,r,e.showProp)?this.setState({children:r},n):n()}}},isValidChildByKey:function(t,e){var r=this.props.showProp;return r?(0,c.findShownChildInChildrenByKey)(t,e,r):(0,c.findChildInChildrenByKey)(t,e)},stop:function(t){delete this.currentlyAnimatingKeys[t];var e=this.refs[t];e&&e.stop()},render:function(){var t=this.props;this.nextProps=t;var e=this.state.children,r=null;e&&(r=e.map(function(e){if(null===e||void 0===e)return e;if(!e.key)throw new Error("must set key for <rc-animate> children");return u.default.createElement(f.default,{key:e.key,ref:e.key,animation:t.animation,transitionName:t.transitionName,transitionEnter:t.transitionEnter,transitionAppear:t.transitionAppear,transitionLeave:t.transitionLeave},e)}));var n=t.component;if(n){var o=t;return"string"==typeof n&&(o=s({className:t.className,style:t.style},t.componentProps)),u.default.createElement(n,o,r)}return r[0]||null}});e.default=m,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(1),a=n(i),s=r(15),l=n(s),u=r(809),c=n(u),p=r(437),f=n(p),h={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},d=a.default.createClass({displayName:"AnimateChild",propTypes:{children:a.default.PropTypes.any},componentWillUnmount:function(){this.stop()},componentWillEnter:function(t){f.default.isEnterSupported(this.props)?this.transition("enter",t):t()},componentWillAppear:function(t){f.default.isAppearSupported(this.props)?this.transition("appear",t):t()},componentWillLeave:function(t){f.default.isLeaveSupported(this.props)?this.transition("leave",t):t()},transition:function(t,e){var r=this,n=l.default.findDOMNode(this),i=this.props,a=i.transitionName,s="object"===("undefined"==typeof a?"undefined":o(a));this.stop();var p=function(){r.stopper=null,e()};if((u.isCssAnimationSupported||!i.animation[t])&&a&&i[h[t]]){var f=s?a[t]:a+"-"+t,d=f+"-active";s&&a[t+"Active"]&&(d=a[t+"Active"]),this.stopper=(0,c.default)(n,{name:f,active:d},p)}else this.stopper=i.animation[t](n,p)},stop:function(){var t=this.stopper;t&&(this.stopper=null,t.stop())},render:function(){return this.props.children}});e.default=d,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=[];return p.default.Children.forEach(t,function(t){e.push(t)}),e}function i(t,e){var r=null;return t&&t.forEach(function(t){r||t&&t.key===e&&(r=t)}),r}function a(t,e,r){var n=null;return t&&t.forEach(function(t){if(t&&t.key===e&&t.props[r]){if(n)throw new Error("two child with same key for <rc-animate> children");n=t}}),n}function s(t,e,r){var n=0;return t&&t.forEach(function(t){n||(n=t&&t.key===e&&!t.props[r])}),n}function l(t,e,r){var n=t.length===e.length;return n&&t.forEach(function(t,o){var i=e[o];t&&i&&(t&&!i||!t&&i?n=!1:t.key!==i.key?n=!1:r&&t.props[r]!==i.props[r]&&(n=!1))}),n}function u(t,e){var r=[],n={},o=[];return t.forEach(function(t){t&&i(e,t.key)?o.length&&(n[t.key]=o,o=[]):o.push(t)}),e.forEach(function(t){t&&n.hasOwnProperty(t.key)&&(r=r.concat(n[t.key])),r.push(t)}),r=r.concat(o)}Object.defineProperty(e,"__esModule",{value:!0}),e.toArrayChildren=o,e.findChildInChildrenByKey=i,e.findShownChildInChildrenByKey=a,e.findHiddenChildInChildrenByKey=s,e.isSameChildren=l,e.mergeChildren=u;var c=r(1),p=n(c)},function(t,e,r){"use strict";t.exports=r(1045)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(2),i=n(o),a=r(4),s=n(a),l=r(3),u=n(l),c=r(1),p=n(c),f=r(1056),h=n(f),d=function(t){function e(r){(0,i.default)(this,e);var n=(0,s.default)(this,t.call(this,r));return n.state={isTooltipVisible:!1},n}return(0,u.default)(e,t),e.prototype.showTooltip=function(){this.setState({isTooltipVisible:!0})},e.prototype.hideTooltip=function(){this.setState({isTooltipVisible:!1})},e.prototype.render=function(){var t=this.props,e=t.prefixCls,r=t.tooltipPrefixCls,n=t.className,o=t.tipTransitionName,i=t.tipFormatter,a=t.vertical,s=t.offset,l=t.value,u=t.dragging,c=t.noTip,f=a?{bottom:s+"%"}:{left:s+"%"},d=p.default.createElement("div",{className:n,style:f,onMouseUp:this.showTooltip.bind(this),onMouseEnter:this.showTooltip.bind(this),onMouseLeave:this.hideTooltip.bind(this)});if(c)return d;var y=u||this.state.isTooltipVisible;return p.default.createElement(h.default,{prefixCls:r||e+"-tooltip",placement:"top",visible:y,overlay:p.default.createElement("span",null,i(l)),delay:0,transitionName:o},d)},e}(p.default.Component);e.default=d,d.propTypes={prefixCls:p.default.PropTypes.string,tooltipPrefixCls:p.default.PropTypes.string,className:p.default.PropTypes.string,vertical:p.default.PropTypes.bool,offset:p.default.PropTypes.number,tipTransitionName:p.default.PropTypes.string,tipFormatter:p.default.PropTypes.func,value:p.default.PropTypes.number,dragging:p.default.PropTypes.bool,noTip:p.default.PropTypes.bool},t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(68),s=n(a),l=r(79),u=n(l),c=r(1),p=n(c),f=r(11),h=n(f),d=function(t){var e=t.className,r=t.vertical,n=t.marks,o=t.included,a=t.upperBound,l=t.lowerBound,c=t.max,f=t.min,d=Object.keys(n),y=d.length,m=100/(y-1),v=.9*m,g=c-f,b=d.map(parseFloat).sort(function(t,e){return t-e}).map(function(t){var c,d=!o&&t===a||o&&t<=a&&t>=l,y=(0,h.default)((c={},(0,u.default)(c,e+"-text",!0),(0,u.default)(c,e+"-text-active",d),c)),m={marginBottom:"-50%",bottom:(t-f)/g*100+"%"},b={width:v+"%",marginLeft:-v/2+"%",left:(t-f)/g*100+"%"},x=r?m:b,_=n[t],w="object"===("undefined"==typeof _?"undefined":(0,s.default)(_))&&!p.default.isValidElement(_),T=w?_.label:_,M=w?(0,i.default)({},x,_.style):x;return p.default.createElement("span",{className:y,style:M,key:t},T)});return p.default.createElement("div",{className:e},b)};e.default=d,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(){}function i(t){return t.touches.length>1||"touchend"===t.type.toLowerCase()&&t.touches.length>0}function a(t,e){return t?e.touches[0].clientY:e.touches[0].pageX}function s(t,e){return t?e.clientY:e.pageX}function l(t,e){var r=e.getBoundingClientRect();return t?r.top+.5*r.height:r.left+.5*r.width}function u(t){t.stopPropagation(),t.preventDefault()}Object.defineProperty(e,"__esModule",{value:!0});var c=r(79),p=n(c),f=r(119),h=n(f),d=r(5),y=n(d),m=r(2),v=n(m),g=r(4),b=n(g),x=r(3),_=n(x),w=r(15),T=r(1),M=n(T),S=r(1066),E=n(S),k=r(11),C=n(k),A=r(1053),P=n(A),L=r(1049),D=n(L),O=r(1052),I=n(O),R=r(1050),N=n(R),j=r(438),F=(n(j),function(t){function e(r){(0,v.default)(this,e);var n=(0,b.default)(this,t.call(this,r)),o=r.range,i=r.min,a=r.max,s=(r.step,o?Array.apply(null,Array(o+1)).map(function(){return i}):i),l="defaultValue"in r?r.defaultValue:s,u=void 0!==r.value?r.value:l,c=(o?u:[i,u]).map(function(t){return n.trimAlignValue(t)}),p=void 0;return p=o&&c[0]===c[c.length-1]&&c[0]===a?0:c.length-1,n.state={handle:null,recent:p,bounds:c},n}return(0,_.default)(e,t),e.prototype.componentWillReceiveProps=function(t){var e=this;if("value"in t||"min"in t||"max"in t){var r=this.state.bounds;if(t.range){var n=t.value||r,o=n.map(function(r){return e.trimAlignValue(r,t)});if(o.every(function(t,e){return t===r[e]}))return;this.setState({bounds:o}),r.some(function(r){return e.isValueOutOfBounds(r,t)})&&this.props.onChange(o)}else{var i=void 0!==t.value?t.value:r[1],a=this.trimAlignValue(i,t);if(a===r[1]&&r[0]===t.min)return;this.setState({bounds:[t.min,a]}),this.isValueOutOfBounds(r[1],t)&&this.props.onChange(a)}}},e.prototype.onChange=function(t){var e=this.props,r=!("value"in e);r?this.setState(t):void 0!==t.handle&&this.setState({handle:t.handle});var n=(0,y.default)({},this.state,t),o=e.range?n.bounds:n.bounds[1];e.onChange(o)},e.prototype.onMouseMove=function(t){var e=s(this.props.vertical,t);this.onMove(t,e-this.dragOffset)},e.prototype.onTouchMove=function(t){if(i(t))return void this.end("touch");var e=a(this.props.vertical,t);this.onMove(t,e-this.dragOffset)},e.prototype.onMove=function(t,e){u(t);var r=this.props,n=this.state,o=e-this.startPosition;o=this.props.vertical?-o:o;var i=o/this.getSliderLength()*(r.max-r.min),a=this.trimAlignValue(this.startValue+i),s=n.bounds[n.handle];if(a!==s){var l=[].concat((0,h.default)(n.bounds));l[n.handle]=a;var c=n.handle;if(r.pushable!==!1){var p=n.bounds[c];this.pushSurroundingHandles(l,c,p)}else r.allowCross&&(l.sort(function(t,e){return t-e}),c=l.indexOf(a));this.onChange({handle:c,bounds:l})}},e.prototype.onTouchStart=function(t){if(!i(t)){var e=a(this.props.vertical,t);if(this.isEventFromHandle(t)){var r=l(this.props.vertical,t.target);this.dragOffset=e-r,e=r}else this.dragOffset=0;this.onStart(e),this.addDocumentEvents("touch"),u(t)}},e.prototype.onMouseDown=function(t){if(0===t.button){var e=s(this.props.vertical,t);if(this.isEventFromHandle(t)){var r=l(this.props.vertical,t.target);this.dragOffset=e-r,e=r}else this.dragOffset=0;this.onStart(e),this.addDocumentEvents("mouse"),u(t)}},e.prototype.onStart=function(t){var e=this.props;e.onBeforeChange(this.getValue());var r=this.calcValueByPos(t);this.startValue=r,this.startPosition=t;var n=this.state,o=n.bounds,i=1;if(this.props.range){for(var a=0,s=1;s<o.length-1;++s)r>o[s]&&(a=s);Math.abs(o[a+1]-r)<Math.abs(o[a]-r)&&(a+=1),i=a;var l=o[a+1]===o[a];l&&(i=n.recent),l&&r!==o[a+1]&&(i=r<o[a+1]?a:a+1)}this.setState({handle:i,recent:i});var u=n.bounds[i];if(r!==u){var c=[].concat((0,h.default)(n.bounds));c[i]=r,this.onChange({bounds:c})}},e.prototype.getValue=function(){var t=this.state.bounds;return this.props.range?t:t[1]},e.prototype.getSliderLength=function(){var t=this.refs.slider;return t?this.props.vertical?t.clientHeight:t.clientWidth:0},e.prototype.getSliderStart=function(){var t=this.refs.slider,e=t.getBoundingClientRect();return this.props.vertical?e.top:e.left},e.prototype.getPrecision=function(t){var e=t.toString(),r=0;return e.indexOf(".")>=0&&(r=e.length-e.indexOf(".")-1),r},e.prototype.getPoints=function(){
var t=this.props,e=t.marks,r=t.step,n=t.min,o=t.max,i=this._getPointsCache;if(!i||i.marks!==e||i.step!==r){var a=(0,y.default)({},e);if(null!==r)for(var s=n;s<=o;s+=r)a[s]=s;var l=Object.keys(a).map(parseFloat);l.sort(function(t,e){return t-e}),this._getPointsCache={marks:e,step:r,points:l}}return this._getPointsCache.points},e.prototype.isEventFromHandle=function(t){var e=this;return this.state.bounds.some(function(r,n){return e.refs["handle-"+n]&&t.target===(0,w.findDOMNode)(e.refs["handle-"+n])})},e.prototype.isValueOutOfBounds=function(t,e){return t<e.min||t>e.max},e.prototype.trimAlignValue=function(t,e){var r=this.state||{},n=r.handle,o=r.bounds,i=(0,y.default)({},this.props,e||{}),a=i.marks,s=i.step,l=i.min,u=i.max,c=i.allowCross,p=t;p<=l&&(p=l),p>=u&&(p=u),!c&&null!=n&&n>0&&p<=o[n-1]&&(p=o[n-1]),!c&&null!=n&&n<o.length-1&&p>=o[n+1]&&(p=o[n+1]);var f=Object.keys(a).map(parseFloat);if(null!==s){var h=Math.round((p-l)/s)*s+l;f.push(h)}var d=f.map(function(t){return Math.abs(p-t)}),m=f[d.indexOf(Math.min.apply(Math,d))];return null!==s?parseFloat(m.toFixed(this.getPrecision(s))):m},e.prototype.pushHandleOnePoint=function(t,e,r){var n=this.getPoints(),o=n.indexOf(t[e]),i=o+r;if(i>=n.length||i<0)return!1;var a=e+r,s=n[i],l=this.props.pushable,u=r*(t[a]-s);return!!this.pushHandle(t,a,r,l-u)&&(t[e]=s,!0)},e.prototype.pushHandle=function(t,e,r,n){for(var o=t[e],i=t[e];r*(i-o)<n;){if(!this.pushHandleOnePoint(t,e,r))return t[e]=o,!1;i=t[e]}return!0},e.prototype.pushSurroundingHandles=function(t,e,r){var n=this.props.pushable,o=t[e],i=0;if(t[e+1]-o<n?i=1:o-t[e-1]<n&&(i=-1),0!==i){var a=e+i,s=i*(t[a]-o);this.pushHandle(t,a,i,n-s)||(t[e]=r)}},e.prototype.calcOffset=function(t){var e=this.props,r=e.min,n=e.max,o=(t-r)/(n-r);return 100*o},e.prototype.calcValue=function(t){var e=this.props,r=e.vertical,n=e.min,o=e.max,i=Math.abs(t/this.getSliderLength()),a=r?(1-i)*(o-n)+n:i*(o-n)+n;return a},e.prototype.calcValueByPos=function(t){var e=t-this.getSliderStart(),r=this.trimAlignValue(this.calcValue(e));return r},e.prototype.addDocumentEvents=function(t){"touch"===t?(this.onTouchMoveListener=(0,E.default)(document,"touchmove",this.onTouchMove.bind(this)),this.onTouchUpListener=(0,E.default)(document,"touchend",this.end.bind(this,"touch"))):"mouse"===t&&(this.onMouseMoveListener=(0,E.default)(document,"mousemove",this.onMouseMove.bind(this)),this.onMouseUpListener=(0,E.default)(document,"mouseup",this.end.bind(this,"mouse")))},e.prototype.removeEvents=function(t){"touch"===t?(this.onTouchMoveListener.remove(),this.onTouchUpListener.remove()):"mouse"===t&&(this.onMouseMoveListener.remove(),this.onMouseUpListener.remove())},e.prototype.end=function(t){this.removeEvents(t),this.props.onAfterChange(this.getValue()),this.setState({handle:null})},e.prototype.render=function(){var t,e=this,r=this.state,n=r.handle,i=r.bounds,a=this.props,s=a.className,l=a.prefixCls,u=a.tooltipPrefixCls,c=a.disabled,f=a.vertical,h=a.dots,d=a.included,m=a.range,v=a.step,g=a.marks,b=a.max,x=a.min,_=a.tipTransitionName,w=a.tipFormatter,S=a.children,E=this.props.handle,k=i.map(function(t){return e.calcOffset(t)}),A=l+"-handle",L=i.map(function(t,e){var r;return(0,C.default)((r={},(0,p.default)(r,A,!0),(0,p.default)(r,A+"-"+(e+1),!0),(0,p.default)(r,A+"-lower",0===e),(0,p.default)(r,A+"-upper",e===i.length-1),r))}),D=null===v||null===w,O={prefixCls:l,tooltipPrefixCls:u,noTip:D,tipTransitionName:_,tipFormatter:w,vertical:f},R=i.map(function(t,e){return(0,T.cloneElement)(E,(0,y.default)({},O,{className:L[e],value:t,offset:k[e],dragging:n===e,key:e,ref:"handle-"+e}))});m||R.shift();for(var j=d||m,F=[],z=1;z<i.length;++z){var B,U=(0,C.default)((B={},(0,p.default)(B,l+"-track",!0),(0,p.default)(B,l+"-track-"+z,!0),B));F.push(M.default.createElement(P.default,{className:U,vertical:f,included:j,offset:k[z-1],length:k[z]-k[z-1],key:z}))}var V=(0,C.default)((t={},(0,p.default)(t,l,!0),(0,p.default)(t,l+"-disabled",c),(0,p.default)(t,s,!!s),(0,p.default)(t,l+"-vertical",this.props.vertical),t));return M.default.createElement("div",{ref:"slider",className:V,onTouchStart:c?o:this.onTouchStart.bind(this),onMouseDown:c?o:this.onMouseDown.bind(this)},M.default.createElement("div",{className:l+"-rail"}),F,M.default.createElement(I.default,{prefixCls:l,vertical:f,marks:g,dots:h,step:v,included:j,lowerBound:i[0],upperBound:i[i.length-1],max:b,min:x}),R,M.default.createElement(N.default,{className:l+"-mark",vertical:f,marks:g,included:j,lowerBound:i[0],upperBound:i[i.length-1],max:b,min:x}),S)},e}(M.default.Component));F.propTypes={min:M.default.PropTypes.number,max:M.default.PropTypes.number,step:M.default.PropTypes.number,defaultValue:M.default.PropTypes.oneOfType([M.default.PropTypes.number,M.default.PropTypes.arrayOf(M.default.PropTypes.number)]),value:M.default.PropTypes.oneOfType([M.default.PropTypes.number,M.default.PropTypes.arrayOf(M.default.PropTypes.number)]),marks:M.default.PropTypes.object,included:M.default.PropTypes.bool,className:M.default.PropTypes.string,prefixCls:M.default.PropTypes.string,tooltipPrefixCls:M.default.PropTypes.string,disabled:M.default.PropTypes.bool,children:M.default.PropTypes.any,onBeforeChange:M.default.PropTypes.func,onChange:M.default.PropTypes.func,onAfterChange:M.default.PropTypes.func,handle:M.default.PropTypes.element,tipTransitionName:M.default.PropTypes.string,tipFormatter:M.default.PropTypes.func,dots:M.default.PropTypes.bool,range:M.default.PropTypes.oneOfType([M.default.PropTypes.bool,M.default.PropTypes.number]),vertical:M.default.PropTypes.bool,allowCross:M.default.PropTypes.bool,pushable:M.default.PropTypes.oneOfType([M.default.PropTypes.bool,M.default.PropTypes.number])},F.defaultProps={prefixCls:"rc-slider",className:"",tipTransitionName:"",min:0,max:100,step:1,marks:{},handle:M.default.createElement(D.default,null),onBeforeChange:o,onChange:o,onAfterChange:o,tipFormatter:function(t){return t},included:!0,disabled:!1,dots:!1,range:!1,vertical:!1,allowCross:!0,pushable:!1},e.default=F,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r,n,o,i){(0,f.default)(!r||n>0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var a=Object.keys(e).map(parseFloat);if(r)for(var s=o;s<=i;s+=n)a.indexOf(s)>=0||a.push(s);return a}Object.defineProperty(e,"__esModule",{value:!0});var i=r(79),a=n(i),s=r(1),l=n(s),u=r(11),c=n(u),p=r(438),f=n(p),h=function(t){var e=t.prefixCls,r=t.vertical,n=t.marks,i=t.dots,s=t.step,u=t.included,p=t.lowerBound,f=t.upperBound,h=t.max,d=t.min,y=h-d,m=o(r,n,i,s,d,h).map(function(t){var n,o=Math.abs(t-d)/y*100+"%",i=r?{bottom:o}:{left:o},s=!u&&t===f||u&&t<=f&&t>=p,h=(0,c.default)((n={},(0,a.default)(n,e+"-dot",!0),(0,a.default)(n,e+"-dot-active",s),n));return l.default.createElement("span",{className:h,style:i,key:t})});return l.default.createElement("div",{className:e+"-step"},m)};e.default=h,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=function(t){var e=t.className,r=t.included,n=t.vertical,o=t.offset,a=t.length,s={visibility:r?"visible":"hidden"};return n?(s.bottom=o+"%",s.height=a+"%"):(s.left=o+"%",s.width=a+"%"),i.default.createElement("div",{className:e,style:s})};e.default=a,t.exports=e.default},function(t,e,r){"use strict";t.exports=r(1051)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a=r(1),s=n(a),l=r(1057),u=r(1061),c=n(u),p=s.default.createClass({displayName:"Tooltip",propTypes:{trigger:a.PropTypes.any,children:a.PropTypes.any,defaultVisible:a.PropTypes.bool,visible:a.PropTypes.bool,placement:a.PropTypes.string,transitionName:a.PropTypes.string,animation:a.PropTypes.any,onVisibleChange:a.PropTypes.func,afterVisibleChange:a.PropTypes.func,overlay:a.PropTypes.oneOfType([s.default.PropTypes.node,s.default.PropTypes.func]).isRequired,overlayStyle:a.PropTypes.object,overlayClassName:a.PropTypes.string,prefixCls:a.PropTypes.string,mouseEnterDelay:a.PropTypes.number,mouseLeaveDelay:a.PropTypes.number,getTooltipContainer:a.PropTypes.func,destroyTooltipOnHide:a.PropTypes.bool,align:a.PropTypes.object,arrowContent:a.PropTypes.any},getDefaultProps:function(){return{prefixCls:"rc-tooltip",mouseEnterDelay:0,destroyTooltipOnHide:!1,mouseLeaveDelay:.1,align:{},placement:"right",trigger:["hover"],arrowContent:null}},getPopupElement:function(){var t=this.props,e=t.arrowContent,r=t.overlay,n=t.prefixCls;return[s.default.createElement("div",{className:n+"-arrow",key:"arrow"},e),s.default.createElement("div",{className:n+"-inner",key:"content"},"function"==typeof r?r():r)]},getPopupDomNode:function(){return this.refs.trigger.getPopupDomNode()},render:function(){var t=this.props,e=t.overlayClassName,r=t.trigger,n=t.mouseEnterDelay,a=t.mouseLeaveDelay,u=t.overlayStyle,p=t.prefixCls,f=t.children,h=t.onVisibleChange,d=t.transitionName,y=t.animation,m=t.placement,v=t.align,g=t.destroyTooltipOnHide,b=t.defaultVisible,x=t.getTooltipContainer,_=o(t,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer"]),w=i({},_);return"visible"in this.props&&(w.popupVisible=this.props.visible),s.default.createElement(c.default,i({popupClassName:e,ref:"trigger",prefixCls:p,popup:this.getPopupElement,action:r,builtinPlacements:l.placements,popupPlacement:m,popupAlign:v,getPopupContainer:x,onPopupVisibleChange:h,popupTransitionName:d,popupAnimation:y,defaultPopupVisible:b,destroyPopupOnHide:g,mouseLeaveDelay:a,popupStyle:u,mouseEnterDelay:n},w),f)}});e.default=p,t.exports=e.default},function(t,e,r){"use strict";t.exports=r(1055)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={adjustX:1,adjustY:1},n=[0,0],o=e.placements={left:{points:["cr","cl"],overflow:r,offset:[-4,0],targetOffset:n},right:{points:["cl","cr"],overflow:r,offset:[4,0],targetOffset:n},top:{points:["bc","tc"],overflow:r,offset:[0,-4],targetOffset:n},bottom:{points:["tc","bc"],overflow:r,offset:[0,4],targetOffset:n},topLeft:{points:["bl","tl"],overflow:r,offset:[0,-4],targetOffset:n},leftTop:{points:["tr","tl"],overflow:r,offset:[-4,0],targetOffset:n},topRight:{points:["br","tr"],overflow:r,offset:[0,-4],targetOffset:n},rightTop:{points:["tl","tr"],overflow:r,offset:[4,0],targetOffset:n},bottomRight:{points:["tr","br"],overflow:r,offset:[0,4],targetOffset:n},rightBottom:{points:["bl","br"],overflow:r,offset:[4,0],targetOffset:n},bottomLeft:{points:["tl","bl"],overflow:r,offset:[0,4],targetOffset:n},leftBottom:{points:["br","bl"],overflow:r,offset:[-4,0],targetOffset:n}};e.default=o},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),i=n(o),a=r(1),s=n(a),l=r(15),u=n(l),c=r(1042),p=n(c),f=r(1048),h=n(f),d=r(1059),y=n(d),m=r(439),v=n(m),g=s.default.createClass({displayName:"Popup",propTypes:{visible:a.PropTypes.bool,style:a.PropTypes.object,getClassNameFromAlign:a.PropTypes.func,onAlign:a.PropTypes.func,getRootDomNode:a.PropTypes.func,onMouseEnter:a.PropTypes.func,align:a.PropTypes.any,destroyPopupOnHide:a.PropTypes.bool,className:a.PropTypes.string,prefixCls:a.PropTypes.string,onMouseLeave:a.PropTypes.func},componentDidMount:function(){this.rootNode=this.getPopupDomNode()},onAlign:function(t,e){var r=this.props,n=r.getClassNameFromAlign(r.align),o=r.getClassNameFromAlign(e);n!==o&&(this.currentAlignClassName=o,t.className=this.getClassName(o)),r.onAlign(t,e)},getPopupDomNode:function(){return u.default.findDOMNode(this.refs.popup)},getTarget:function(){return this.props.getRootDomNode()},getMaskTransitionName:function(){var t=this.props,e=t.maskTransitionName,r=t.maskAnimation;return!e&&r&&(e=t.prefixCls+"-"+r),e},getTransitionName:function(){var t=this.props,e=t.transitionName;return!e&&t.animation&&(e=t.prefixCls+"-"+t.animation),e},getClassName:function(t){return this.props.prefixCls+" "+this.props.className+" "+t},getPopupElement:function(){var t=this.props,e=t.align,r=t.style,n=t.visible,o=t.prefixCls,a=t.destroyPopupOnHide,l=this.getClassName(this.currentAlignClassName||t.getClassNameFromAlign(e)),u=o+"-hidden";n||(this.currentAlignClassName=null);var c=(0,i.default)({},r,this.getZIndexStyle()),f={className:l,prefixCls:o,ref:"popup",onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,style:c};return a?s.default.createElement(h.default,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName()},n?s.default.createElement(p.default,{target:this.getTarget,key:"popup",ref:this.saveAlign,monitorWindowResize:!0,align:e,onAlign:this.onAlign},s.default.createElement(y.default,(0,i.default)({visible:!0},f),t.children)):null):s.default.createElement(h.default,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName(),showProp:"xVisible"},s.default.createElement(p.default,{target:this.getTarget,key:"popup",ref:this.saveAlign,monitorWindowResize:!0,xVisible:n,childrenProps:{visible:"xVisible"},disabled:!n,align:e,onAlign:this.onAlign},s.default.createElement(y.default,(0,i.default)({hiddenClassName:u},f),t.children)))},getZIndexStyle:function(){var t={},e=this.props;return void 0!==e.zIndex&&(t.zIndex=e.zIndex),t},getMaskElement:function(){var t=this.props,e=void 0;if(t.mask){var r=this.getMaskTransitionName();e=s.default.createElement(v.default,{style:this.getZIndexStyle(),key:"mask",className:t.prefixCls+"-mask",hiddenClassName:t.prefixCls+"-mask-hidden",visible:t.visible}),r&&(e=s.default.createElement(h.default,{key:"mask",showProp:"visible",transitionAppear:!0,component:"",transitionName:r},e))}return e},saveAlign:function(t){this.alignInstance=t},render:function(){return s.default.createElement("div",null,this.getMaskElement(),this.getPopupElement())}});e.default=g,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(439),s=n(a),l=i.default.createClass({displayName:"PopupInner",propTypes:{hiddenClassName:o.PropTypes.string,className:o.PropTypes.string,prefixCls:o.PropTypes.string,onMouseEnter:o.PropTypes.func,onMouseLeave:o.PropTypes.func,children:o.PropTypes.any},render:function(){var t=this.props,e=t.className;return t.visible||(e+=" "+t.hiddenClassName),i.default.createElement("div",{className:e,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,style:t.style},i.default.createElement(s.default,{className:t.prefixCls+"-content",visible:t.visible},t.children))}});e.default=l,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(){}function i(){return""}function a(){return window.document}Object.defineProperty(e,"__esModule",{value:!0});var s=r(5),l=n(s),u=r(1),c=n(u),p=r(15),f=n(p),h=r(1064),d=n(h),y=r(1063),m=n(y),v=r(1058),g=n(v),b=r(1062),x=r(1065),_=n(x),w=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"],T=c.default.createClass({displayName:"Trigger",propTypes:{children:u.PropTypes.any,action:u.PropTypes.oneOfType([u.PropTypes.string,u.PropTypes.arrayOf(u.PropTypes.string)]),showAction:u.PropTypes.any,hideAction:u.PropTypes.any,getPopupClassNameFromAlign:u.PropTypes.any,onPopupVisibleChange:u.PropTypes.func,afterPopupVisibleChange:u.PropTypes.func,popup:u.PropTypes.oneOfType([u.PropTypes.node,u.PropTypes.func]).isRequired,popupStyle:u.PropTypes.object,prefixCls:u.PropTypes.string,popupClassName:u.PropTypes.string,popupPlacement:u.PropTypes.string,builtinPlacements:u.PropTypes.object,popupTransitionName:u.PropTypes.string,popupAnimation:u.PropTypes.any,mouseEnterDelay:u.PropTypes.number,mouseLeaveDelay:u.PropTypes.number,zIndex:u.PropTypes.number,focusDelay:u.PropTypes.number,blurDelay:u.PropTypes.number,getPopupContainer:u.PropTypes.func,getDocument:u.PropTypes.func,destroyPopupOnHide:u.PropTypes.bool,mask:u.PropTypes.bool,maskClosable:u.PropTypes.bool,onPopupAlign:u.PropTypes.func,popupAlign:u.PropTypes.object,popupVisible:u.PropTypes.bool,maskTransitionName:u.PropTypes.string,maskAnimation:u.PropTypes.string},mixins:[(0,_.default)({autoMount:!1,isVisible:function(t){return t.state.popupVisible},getContainer:function(t){var e=t.props,r=document.createElement("div");r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.width="100%";var n=e.getPopupContainer?e.getPopupContainer((0,p.findDOMNode)(t)):e.getDocument().body;return n.appendChild(r),r}})],getDefaultProps:function(){return{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:i,getDocument:a,onPopupVisibleChange:o,afterPopupVisibleChange:o,onPopupAlign:o,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[]}},getInitialState:function(){var t=this.props,e=void 0;return e="popupVisible"in t?!!t.popupVisible:!!t.defaultPopupVisible,{popupVisible:e}},componentWillMount:function(){var t=this;w.forEach(function(e){t["fire"+e]=function(r){t.fireEvents(e,r)}})},componentDidMount:function(){this.componentDidUpdate({},{popupVisible:this.state.popupVisible})},componentWillReceiveProps:function(t){var e=t.popupVisible;void 0!==e&&this.setState({popupVisible:e})},componentDidUpdate:function(t,e){var r=this.props,n=this.state;if(this.renderComponent(null,function(){e.popupVisible!==n.popupVisible&&r.afterPopupVisibleChange(n.popupVisible)}),n.popupVisible){var o=void 0;return!this.clickOutsideHandler&&this.isClickToHide()&&(o=r.getDocument(),this.clickOutsideHandler=(0,m.default)(o,"mousedown",this.onDocumentClick)),void(this.touchOutsideHandler||(o=o||r.getDocument(),this.touchOutsideHandler=(0,m.default)(o,"touchstart",this.onDocumentClick)))}this.clearOutsideHandler()},componentWillUnmount:function(){this.clearDelayTimer(),this.clearOutsideHandler()},onMouseEnter:function(t){this.fireEvents("onMouseEnter",t),this.delaySetPopupVisible(!0,this.props.mouseEnterDelay)},onMouseLeave:function(t){this.fireEvents("onMouseLeave",t),this.delaySetPopupVisible(!1,this.props.mouseLeaveDelay)},onPopupMouseEnter:function(){this.clearDelayTimer()},onPopupMouseLeave:function(t){t.relatedTarget&&!t.relatedTarget.setTimeout&&this._component&&(0,d.default)(this._component.getPopupDomNode(),t.relatedTarget)||this.delaySetPopupVisible(!1,this.props.mouseLeaveDelay)},onFocus:function(t){this.fireEvents("onFocus",t),this.clearDelayTimer(),this.isFocusToShow()&&(this.focusTime=Date.now(),this.delaySetPopupVisible(!0,this.props.focusDelay))},onMouseDown:function(t){this.fireEvents("onMouseDown",t),this.preClickTime=Date.now()},onTouchStart:function(t){this.fireEvents("onTouchStart",t),this.preTouchTime=Date.now()},onBlur:function(t){this.fireEvents("onBlur",t),this.clearDelayTimer(),this.isBlurToHide()&&this.delaySetPopupVisible(!1,this.props.blurDelay)},onClick:function(t){if(this.fireEvents("onClick",t),this.focusTime){var e=void 0;if(this.preClickTime&&this.preTouchTime?e=Math.min(this.preClickTime,this.preTouchTime):this.preClickTime?e=this.preClickTime:this.preTouchTime&&(e=this.preTouchTime),Math.abs(e-this.focusTime)<20)return;this.focusTime=0}this.preClickTime=0,this.preTouchTime=0,t.preventDefault();var r=!this.state.popupVisible;(this.isClickToHide()&&!r||r&&this.isClickToShow())&&this.setPopupVisible(!this.state.popupVisible)},onDocumentClick:function(t){if(!this.props.mask||this.props.maskClosable){var e=t.target,r=(0,p.findDOMNode)(this),n=this.getPopupDomNode();(0,d.default)(r,e)||(0,d.default)(n,e)||this.close()}},getPopupDomNode:function(){return this._component&&this._component.isMounted()?this._component.getPopupDomNode():null},getRootDomNode:function(){return f.default.findDOMNode(this)},getPopupClassNameFromAlign:function(t){var e=[],r=this.props,n=r.popupPlacement,o=r.builtinPlacements,i=r.prefixCls;return n&&o&&e.push((0,b.getPopupClassNameFromAlign)(o,i,t)),r.getPopupClassNameFromAlign&&e.push(r.getPopupClassNameFromAlign(t)),e.join(" ")},getPopupAlign:function(){var t=this.props,e=t.popupPlacement,r=t.popupAlign,n=t.builtinPlacements;return e&&n?(0,b.getAlignFromPlacement)(n,e,r):r},getComponent:function(){var t=this.props,e=this.state,r={};return this.isMouseEnterToShow()&&(r.onMouseEnter=this.onPopupMouseEnter),this.isMouseLeaveToHide()&&(r.onMouseLeave=this.onPopupMouseLeave),c.default.createElement(g.default,(0,l.default)({prefixCls:t.prefixCls,destroyPopupOnHide:t.destroyPopupOnHide,visible:e.popupVisible,className:t.popupClassName,action:t.action,align:this.getPopupAlign(),onAlign:t.onPopupAlign,animation:t.popupAnimation,getClassNameFromAlign:this.getPopupClassNameFromAlign},r,{getRootDomNode:this.getRootDomNode,style:t.popupStyle,mask:t.mask,zIndex:t.zIndex,transitionName:t.popupTransitionName,maskAnimation:t.maskAnimation,maskTransitionName:t.maskTransitionName}),"function"==typeof t.popup?t.popup():t.popup)},setPopupVisible:function(t){this.clearDelayTimer(),this.state.popupVisible!==t&&("popupVisible"in this.props||this.setState({popupVisible:t}),this.props.onPopupVisibleChange(t))},delaySetPopupVisible:function(t,e){var r=this,n=1e3*e;this.clearDelayTimer(),n?this.delayTimer=setTimeout(function(){r.setPopupVisible(t),r.clearDelayTimer()},n):this.setPopupVisible(t)},clearDelayTimer:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},clearOutsideHandler:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},createTwoChains:function(t){var e=this.props.children.props,r=this.props;return e[t]&&r[t]?this["fire"+t]:e[t]||r[t]},isClickToShow:function(){var t=this.props,e=t.action,r=t.showAction;return e.indexOf("click")!==-1||r.indexOf("click")!==-1},isClickToHide:function(){var t=this.props,e=t.action,r=t.hideAction;return e.indexOf("click")!==-1||r.indexOf("click")!==-1},isMouseEnterToShow:function(){var t=this.props,e=t.action,r=t.showAction;return e.indexOf("hover")!==-1||r.indexOf("mouseEnter")!==-1},isMouseLeaveToHide:function(){var t=this.props,e=t.action,r=t.hideAction;return e.indexOf("hover")!==-1||r.indexOf("mouseLeave")!==-1},isFocusToShow:function(){var t=this.props,e=t.action,r=t.showAction;return e.indexOf("focus")!==-1||r.indexOf("focus")!==-1},isBlurToHide:function(){var t=this.props,e=t.action,r=t.hideAction;return e.indexOf("focus")!==-1||r.indexOf("blur")!==-1},forcePopupAlign:function(){this.state.popupVisible&&this.popupInstance&&this.popupInstance.alignInstance&&this.popupInstance.alignInstance.forceAlign()},fireEvents:function(t,e){var r=this.props.children.props[t];r&&r(e);var n=this.props[t];n&&n(e)},close:function(){this.setPopupVisible(!1)},render:function(){var t=this.props,e=t.children,r=c.default.Children.only(e),n={};return this.isClickToHide()||this.isClickToShow()?(n.onClick=this.onClick,n.onMouseDown=this.onMouseDown,n.onTouchStart=this.onTouchStart):(n.onClick=this.createTwoChains("onClick"),n.onMouseDown=this.createTwoChains("onMouseDown"),n.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?n.onMouseEnter=this.onMouseEnter:n.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?n.onMouseLeave=this.onMouseLeave:n.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(n.onFocus=this.onFocus,n.onBlur=this.onBlur):(n.onFocus=this.createTwoChains("onFocus"),n.onBlur=this.createTwoChains("onBlur")),c.default.cloneElement(r,n)}});e.default=T,t.exports=e.default},function(t,e,r){"use strict";t.exports=r(1060)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){return t[0]===e[0]&&t[1]===e[1]}function i(t,e,r){var n=t[e]||{};return(0,l.default)({},n,r)}function a(t,e,r){var n=r.points;for(var i in t)if(t.hasOwnProperty(i)&&o(t[i].points,n))return e+"-placement-"+i;return""}Object.defineProperty(e,"__esModule",{value:!0});var s=r(5),l=n(s);e.getAlignFromPlacement=i,e.getPopupClassNameFromAlign=a},1044,function(t,e){"use strict";function r(t,e){for(var r=e;r;){if(r===t)return!0;r=r.parentNode}return!1}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(){var t=document.createElement("div");return document.body.appendChild(t),t}function i(t){function e(t,e,r){if(!c||t._component||c(t)){t._container||(t._container=h(t));var n=void 0;n=t.getComponent?t.getComponent(e):p(t,e),l.default.unstable_renderSubtreeIntoContainer(t,n,t._container,function(){t._component=this,r&&r.call(this)})}}function r(t){if(t._container){var e=t._container;l.default.unmountComponentAtNode(e),e.parentNode.removeChild(e),t._container=null}}var n=t.autoMount,i=void 0===n||n,s=t.autoDestroy,u=void 0===s||s,c=t.isVisible,p=t.getComponent,f=t.getContainer,h=void 0===f?o:f,d=void 0;return i&&(d=a({},d,{componentDidMount:function(){e(this)},componentDidUpdate:function(){e(this)}})),i&&u||(d=a({},d,{renderComponent:function(t,r){e(this,t,r)}})),d=u?a({},d,{componentWillUnmount:function(){r(this)}}):a({},d,{removeContainer:function(){r(this)}})}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};e.default=i;var s=r(15),l=n(s);t.exports=e.default},1044,function(t,e,r){t.exports=r(1244).create},function(t,e,r){t.exports=r(1253)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(2),s=n(a),l=r(4),u=n(l),c=r(3),p=n(c),f=r(1),h=n(f),d=r(455),y=n(d),m=function(t){function e(){return(0,s.default)(this,e),(0,u.default)(this,t.apply(this,arguments))}return(0,p.default)(e,t),e.prototype.render=function(){return h.default.createElement(y.default,(0,i.default)({},this.props,{accordion:!0}),this.props.children)},e}(h.default.Component);e.default=m,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(118),i=n(o),a=r(5),s=n(a),l=r(6),u=n(l),c=r(2),p=n(c),f=r(4),h=n(f),d=r(3),y=n(d),m=r(11),v=n(m),g=r(1),b=n(g),x=r(12),_=r(38),w={onDismiss:b.default.PropTypes.func,closeLabel:b.default.PropTypes.string},T={closeLabel:"Close alert"},M=function(t){function e(){return(0,p.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,y.default)(e,t),e.prototype.renderDismissButton=function(t){return b.default.createElement("button",{type:"button",className:"close",onClick:t,"aria-hidden":"true",tabIndex:"-1"},b.default.createElement("span",null,"×"))},e.prototype.renderSrOnlyDismissButton=function(t,e){return b.default.createElement("button",{type:"button",className:"close sr-only",onClick:t},e)},e.prototype.render=function(){var t,e=this.props,r=e.onDismiss,n=e.closeLabel,o=e.className,i=e.children,a=(0,u.default)(e,["onDismiss","closeLabel","className","children"]),l=(0,x.splitBsProps)(a),c=l[0],p=l[1],f=!!r,h=(0,s.default)({},(0,x.getClassSet)(c),(t={},t[(0,x.prefix)(c,"dismissable")]=f,t));return b.default.createElement("div",(0,s.default)({},p,{role:"alert",className:(0,v.default)(o,h)}),f&&this.renderDismissButton(r),i,f&&this.renderSrOnlyDismissButton(r,n))},e}(b.default.Component);M.propTypes=w,M.defaultProps=T,e.default=(0,x.bsStyles)((0,i.default)(_.State),_.State.INFO,(0,x.bsClass)("alert",M)),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(12),b={pullRight:v.default.PropTypes.bool},x={pullRight:!1},_=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.hasContent=function(t){var e=!1;return v.default.Children.forEach(t,function(t){e||(t||0===t)&&(e=!0)}),e},e.prototype.render=function(){var t=this.props,e=t.pullRight,r=t.className,n=t.children,o=(0,s.default)(t,["pullRight","className","children"]),a=(0,g.splitBsProps)(o),l=a[0],u=a[1],c=(0,i.default)({},(0,g.getClassSet)(l),{"pull-right":e,hidden:!this.hasContent(n)});return v.default.createElement("span",(0,i.default)({},u,{className:(0,y.default)(r,c)}),n)},e}(v.default.Component);_.propTypes=b,_.defaultProps=x,e.default=(0,g.bsClass)("badge",_),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(440),b=n(g),x=r(12),_=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,r=(0,s.default)(t,["className"]),n=(0,x.splitBsProps)(r),o=n[0],a=n[1],l=(0,x.getClassSet)(o);return v.default.createElement("ol",(0,i.default)({},a,{role:"navigation","aria-label":"breadcrumbs",className:(0,y.default)(e,l)}))},e}(v.default.Component);_.Item=b.default,e.default=(0,x.bsClass)("breadcrumb",_),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(160),b=n(g),x=r(12),_=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,r=(0,s.default)(t,["className"]),n=(0,x.splitBsProps)(r),o=n[0],a=n[1],l=(0,x.getClassSet)(o);return v.default.createElement("div",(0,i.default)({},a,{role:"toolbar",className:(0,y.default)(e,l)}))},e}(v.default.Component);e.default=(0,x.bsClass)("btn-toolbar",(0,x.bsSizes)(b.default.SIZES,_)),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(1075),b=n(g),x=r(442),_=n(x),w=r(278),T=n(w),M=r(65),S=n(M),E=r(12),k=r(50),C=n(k),A={slide:v.default.PropTypes.bool,indicators:v.default.PropTypes.bool,interval:v.default.PropTypes.number,controls:v.default.PropTypes.bool,pauseOnHover:v.default.PropTypes.bool,wrap:v.default.PropTypes.bool,onSelect:v.default.PropTypes.func,onSlideEnd:v.default.PropTypes.func,activeIndex:v.default.PropTypes.number,defaultActiveIndex:v.default.PropTypes.number,direction:v.default.PropTypes.oneOf(["prev","next"]),prevIcon:v.default.PropTypes.node,prevLabel:v.default.PropTypes.string,nextIcon:v.default.PropTypes.node,nextLabel:v.default.PropTypes.string},P={slide:!0,interval:5e3,pauseOnHover:!0,wrap:!0,indicators:!0,controls:!0,prevIcon:v.default.createElement(T.default,{glyph:"chevron-left"}),prevLabel:"Previous",nextIcon:v.default.createElement(T.default,{glyph:"chevron-right"}),nextLabel:"Next"},L=function(t){function e(r,n){(0,u.default)(this,e);var o=(0,p.default)(this,t.call(this,r,n));o.handleMouseOver=o.handleMouseOver.bind(o),o.handleMouseOut=o.handleMouseOut.bind(o),o.handlePrev=o.handlePrev.bind(o),o.handleNext=o.handleNext.bind(o),o.handleItemAnimateOutEnd=o.handleItemAnimateOutEnd.bind(o);var i=r.defaultActiveIndex;return o.state={activeIndex:null!=i?i:0,previousActiveIndex:null,
direction:null},o.isUnmounted=!1,o}return(0,h.default)(e,t),e.prototype.componentWillReceiveProps=function(t){var e=this.getActiveIndex();null!=t.activeIndex&&t.activeIndex!==e&&(clearTimeout(this.timeout),this.setState({previousActiveIndex:e,direction:null!=t.direction?t.direction:this.getDirection(e,t.activeIndex)}))},e.prototype.componentDidMount=function(){this.waitForNext()},e.prototype.componentWillUnmount=function(){clearTimeout(this.timeout),this.isUnmounted=!0},e.prototype.handleMouseOver=function(){this.props.pauseOnHover&&this.pause()},e.prototype.handleMouseOut=function(){this.isPaused&&this.play()},e.prototype.handlePrev=function(t){var e=this.getActiveIndex()-1;if(e<0){if(!this.props.wrap)return;e=C.default.count(this.props.children)-1}this.select(e,t,"prev")},e.prototype.handleNext=function(t){var e=this.getActiveIndex()+1,r=C.default.count(this.props.children);if(e>r-1){if(!this.props.wrap)return;e=0}this.select(e,t,"next")},e.prototype.handleItemAnimateOutEnd=function(){var t=this;this.setState({previousActiveIndex:null,direction:null},function(){t.waitForNext(),t.props.onSlideEnd&&t.props.onSlideEnd()})},e.prototype.getActiveIndex=function(){var t=this.props.activeIndex;return null!=t?t:this.state.activeIndex},e.prototype.getDirection=function(t,e){return t===e?null:t>e?"prev":"next"},e.prototype.select=function(t,e,r){if(clearTimeout(this.timeout),!this.isUnmounted){var n=this.props.slide?this.getActiveIndex():null;r=r||this.getDirection(n,t);var o=this.props.onSelect;if(o&&(o.length>1?(e?(e.persist(),e.direction=r):e={direction:r},o(t,e)):o(t)),null==this.props.activeIndex&&t!==n){if(null!=this.state.previousActiveIndex)return;this.setState({activeIndex:t,previousActiveIndex:n,direction:r})}}},e.prototype.waitForNext=function(){var t=this.props,e=t.slide,r=t.interval,n=t.activeIndex;!this.isPaused&&e&&r&&null==n&&(this.timeout=setTimeout(this.handleNext,r))},e.prototype.pause=function(){this.isPaused=!0,clearTimeout(this.timeout)},e.prototype.play=function(){this.isPaused=!1,this.waitForNext()},e.prototype.renderIndicators=function(t,e,r){var n=this,o=[];return C.default.forEach(t,function(t,r){o.push(v.default.createElement("li",{key:r,className:r===e?"active":null,onClick:function(t){return n.select(r,t)}})," ")}),v.default.createElement("ol",{className:(0,E.prefix)(r,"indicators")},o)},e.prototype.renderControls=function(t){var e=t.wrap,r=t.children,n=t.activeIndex,o=t.prevIcon,i=t.nextIcon,a=t.bsProps,s=t.prevLabel,l=t.nextLabel,u=(0,E.prefix)(a,"control"),c=C.default.count(r);return[(e||0!==n)&&v.default.createElement(S.default,{key:"prev",className:(0,y.default)(u,"left"),onClick:this.handlePrev},o,s&&v.default.createElement("span",{className:"sr-only"},s)),(e||n!==c-1)&&v.default.createElement(S.default,{key:"next",className:(0,y.default)(u,"right"),onClick:this.handleNext},i,l&&v.default.createElement("span",{className:"sr-only"},l))]},e.prototype.render=function(){var t=this,e=this.props,r=e.slide,n=e.indicators,o=e.controls,a=e.wrap,l=e.prevIcon,u=e.prevLabel,c=e.nextIcon,p=e.nextLabel,f=e.className,h=e.children,d=(0,s.default)(e,["slide","indicators","controls","wrap","prevIcon","prevLabel","nextIcon","nextLabel","className","children"]),g=this.state,b=g.previousActiveIndex,x=g.direction,_=(0,E.splitBsPropsAndOmit)(d,["interval","pauseOnHover","onSelect","onSlideEnd","activeIndex","defaultActiveIndex","direction"]),w=_[0],T=_[1],M=this.getActiveIndex(),S=(0,i.default)({},(0,E.getClassSet)(w),{slide:r});return v.default.createElement("div",(0,i.default)({},T,{className:(0,y.default)(f,S),onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut}),n&&this.renderIndicators(h,M,w),v.default.createElement("div",{className:(0,E.prefix)(w,"inner")},C.default.map(h,function(e,n){var o=n===M,i=r&&n===b;return(0,m.cloneElement)(e,{active:o,index:n,animateOut:i,animateIn:o&&null!=b&&r,direction:x,onAnimateOutEnd:i?t.handleItemAnimateOutEnd:null})})),o&&this.renderControls({wrap:a,children:h,activeIndex:M,prevIcon:l,prevLabel:u,nextIcon:c,nextLabel:p,bsProps:w}))},e}(v.default.Component);L.propTypes=A,L.defaultProps=P,L.Caption=b.default,L.Item=_.default,e.default=(0,E.bsClass)("carousel",L),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(23),b=n(g),x=r(12),_={componentClass:b.default},w={componentClass:"div"},T=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,r=t.className,n=(0,s.default)(t,["componentClass","className"]),o=(0,x.splitBsProps)(n),a=o[0],l=o[1],u=(0,x.getClassSet)(a);return v.default.createElement(e,(0,i.default)({},l,{className:(0,y.default)(r,u)}))},e}(v.default.Component);T.propTypes=_,T.defaultProps=w,e.default=(0,x.bsClass)("carousel-caption",T),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(66),b=(n(g),r(12)),x={inline:v.default.PropTypes.bool,disabled:v.default.PropTypes.bool,validationState:v.default.PropTypes.oneOf(["success","warning","error",null]),inputRef:v.default.PropTypes.func},_={inline:!1,disabled:!1},w=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.inline,r=t.disabled,n=t.validationState,o=t.inputRef,a=t.className,l=t.style,u=t.children,c=(0,s.default)(t,["inline","disabled","validationState","inputRef","className","style","children"]),p=(0,b.splitBsProps)(c),f=p[0],h=p[1],d=v.default.createElement("input",(0,i.default)({},h,{ref:o,type:"checkbox",disabled:r}));if(e){var m,g=(m={},m[(0,b.prefix)(f,"inline")]=!0,m.disabled=r,m);return v.default.createElement("label",{className:(0,y.default)(a,g),style:l},d,u)}var x=(0,i.default)({},(0,b.getClassSet)(f),{disabled:r});return n&&(x["has-"+n]=!0),v.default.createElement("div",{className:(0,y.default)(a,x),style:l},v.default.createElement("label",null,d,u))},e}(v.default.Component);w.propTypes=x,w.defaultProps=_,e.default=(0,b.bsClass)("checkbox",w),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(23),b=n(g),x=r(12),_=r(457),w=n(_),T=r(38),M={componentClass:b.default,visibleXsBlock:v.default.PropTypes.bool,visibleSmBlock:v.default.PropTypes.bool,visibleMdBlock:v.default.PropTypes.bool,visibleLgBlock:v.default.PropTypes.bool},S={componentClass:"div"},E=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,r=t.className,n=(0,s.default)(t,["componentClass","className"]),o=(0,x.splitBsProps)(n),a=o[0],l=o[1],u=(0,x.getClassSet)(a);return T.DEVICE_SIZES.forEach(function(t){var e="visible"+(0,w.default)(t)+"Block";l[e]&&(u["visible-"+t+"-block"]=!0),delete l[e]}),v.default.createElement(e,(0,i.default)({},l,{className:(0,y.default)(r,u)}))},e}(v.default.Component);E.propTypes=M,E.defaultProps=S,e.default=(0,x.bsClass)("clearfix",E),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(23),b=n(g),x=r(12),_=r(38),w={componentClass:b.default,xs:v.default.PropTypes.number,sm:v.default.PropTypes.number,md:v.default.PropTypes.number,lg:v.default.PropTypes.number,xsHidden:v.default.PropTypes.bool,smHidden:v.default.PropTypes.bool,mdHidden:v.default.PropTypes.bool,lgHidden:v.default.PropTypes.bool,xsOffset:v.default.PropTypes.number,smOffset:v.default.PropTypes.number,mdOffset:v.default.PropTypes.number,lgOffset:v.default.PropTypes.number,xsPush:v.default.PropTypes.number,smPush:v.default.PropTypes.number,mdPush:v.default.PropTypes.number,lgPush:v.default.PropTypes.number,xsPull:v.default.PropTypes.number,smPull:v.default.PropTypes.number,mdPull:v.default.PropTypes.number,lgPull:v.default.PropTypes.number},T={componentClass:"div"},M=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,r=t.className,n=(0,s.default)(t,["componentClass","className"]),o=(0,x.splitBsProps)(n),a=o[0],l=o[1],u=[];return _.DEVICE_SIZES.forEach(function(t){function e(e,r){var n=""+t+e,o=l[n];null!=o&&u.push((0,x.prefix)(a,""+t+r+"-"+o)),delete l[n]}e("",""),e("Offset","-offset"),e("Push","-push"),e("Pull","-pull");var r=t+"Hidden";l[r]&&u.push("hidden-"+t),delete l[r]}),v.default.createElement(e,(0,i.default)({},l,{className:(0,y.default)(r,u)}))},e}(v.default.Component);M.propTypes=w,M.defaultProps=T,e.default=(0,x.bsClass)("col",M),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(66),b=(n(g),r(12)),x={htmlFor:v.default.PropTypes.string,srOnly:v.default.PropTypes.bool},_={srOnly:!1},w={$bs_formGroup:v.default.PropTypes.object},T=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.context.$bs_formGroup,e=t&&t.controlId,r=this.props,n=r.htmlFor,o=void 0===n?e:n,a=r.srOnly,l=r.className,u=(0,s.default)(r,["htmlFor","srOnly","className"]),c=(0,b.splitBsProps)(u),p=c[0],f=c[1],h=(0,i.default)({},(0,b.getClassSet)(p),{"sr-only":a});return v.default.createElement("label",(0,i.default)({},f,{htmlFor:o,className:(0,y.default)(l,h)}))},e}(v.default.Component);T.propTypes=x,T.defaultProps=_,T.contextTypes=w,e.default=(0,b.bsClass)("control-label",T),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(6),i=n(o),a=r(2),s=n(a),l=r(4),u=n(l),c=r(3),p=n(c),f=r(5),h=n(f),d=r(1),y=n(d),m=r(193),v=n(m),g=r(195),b=n(g),x=(0,h.default)({},v.default.propTypes,{bsStyle:y.default.PropTypes.string,bsSize:y.default.PropTypes.string,title:y.default.PropTypes.node.isRequired,noCaret:y.default.PropTypes.bool,children:y.default.PropTypes.node}),_=function(t){function e(){return(0,s.default)(this,e),(0,u.default)(this,t.apply(this,arguments))}return(0,p.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.bsSize,r=t.bsStyle,n=t.title,o=t.children,a=(0,i.default)(t,["bsSize","bsStyle","title","children"]),s=(0,b.default)(a,v.default.ControlledComponent),l=s[0],u=s[1];return y.default.createElement(v.default,(0,h.default)({},l,{bsSize:e,bsStyle:r}),y.default.createElement(v.default.Toggle,(0,h.default)({},u,{bsSize:e,bsStyle:r}),n),y.default.createElement(v.default.Menu,null,o))},e}(y.default.Component);_.propTypes=x,e.default=_,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(211),u=n(l),c=r(2),p=n(c),f=r(4),h=n(f),d=r(3),y=n(d),m=r(11),v=n(m),g=r(39),b=n(g),x=r(1),_=n(x),w=r(15),T=n(w),M=r(478),S=n(M),E=r(12),k=r(34),C=n(k),A=r(50),P=n(A),L={open:_.default.PropTypes.bool,pullRight:_.default.PropTypes.bool,onClose:_.default.PropTypes.func,labelledBy:_.default.PropTypes.oneOfType([_.default.PropTypes.string,_.default.PropTypes.number]),onSelect:_.default.PropTypes.func,rootCloseEvent:_.default.PropTypes.oneOf(["click","mousedown"])},D={bsRole:"menu",pullRight:!1},O=function(t){function e(r){(0,p.default)(this,e);var n=(0,h.default)(this,t.call(this,r));return n.handleRootClose=n.handleRootClose.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n}return(0,y.default)(e,t),e.prototype.handleRootClose=function(t){this.props.onClose(t,{source:"rootClose"})},e.prototype.handleKeyDown=function(t){switch(t.keyCode){case b.default.codes.down:this.focusNext(),t.preventDefault();break;case b.default.codes.up:this.focusPrevious(),t.preventDefault();break;case b.default.codes.esc:case b.default.codes.tab:this.props.onClose(t,{source:"keydown"})}},e.prototype.getItemsAndActiveIndex=function(){var t=this.getFocusableMenuItems(),e=t.indexOf(document.activeElement);return{items:t,activeIndex:e}},e.prototype.getFocusableMenuItems=function(){var t=T.default.findDOMNode(this);return t?(0,u.default)(t.querySelectorAll('[tabIndex="-1"]')):[]},e.prototype.focusNext=function(){var t=this.getItemsAndActiveIndex(),e=t.items,r=t.activeIndex;if(0!==e.length){var n=r===e.length-1?0:r+1;e[n].focus()}},e.prototype.focusPrevious=function(){var t=this.getItemsAndActiveIndex(),e=t.items,r=t.activeIndex;if(0!==e.length){var n=0===r?e.length-1:r-1;e[n].focus()}},e.prototype.render=function(){var t,e=this,r=this.props,n=r.open,o=r.pullRight,a=r.labelledBy,l=r.onSelect,u=r.className,c=r.rootCloseEvent,p=r.children,f=(0,s.default)(r,["open","pullRight","labelledBy","onSelect","className","rootCloseEvent","children"]),h=(0,E.splitBsPropsAndOmit)(f,["onClose"]),d=h[0],y=h[1],m=(0,i.default)({},(0,E.getClassSet)(d),(t={},t[(0,E.prefix)(d,"right")]=o,t));return _.default.createElement(S.default,{disabled:!n,onRootClose:this.handleRootClose,event:c},_.default.createElement("ul",(0,i.default)({},y,{role:"menu",className:(0,v.default)(u,m),"aria-labelledby":a}),P.default.map(p,function(t){return _.default.cloneElement(t,{onKeyDown:(0,C.default)(t.props.onKeyDown,e.handleKeyDown),onSelect:(0,C.default)(t.props.onSelect,l)})})))},e}(_.default.Component);O.propTypes=L,O.defaultProps=D,e.default=(0,E.bsClass)("dropdown-menu",O),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(23),b=n(g),x=r(12),_={horizontal:v.default.PropTypes.bool,inline:v.default.PropTypes.bool,componentClass:b.default},w={horizontal:!1,inline:!1,componentClass:"form"},T=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.horizontal,r=t.inline,n=t.componentClass,o=t.className,a=(0,s.default)(t,["horizontal","inline","componentClass","className"]),l=(0,x.splitBsProps)(a),u=l[0],c=l[1],p=[];return e&&p.push((0,x.prefix)(u,"horizontal")),r&&p.push((0,x.prefix)(u,"inline")),v.default.createElement(n,(0,i.default)({},c,{className:(0,y.default)(o,p)}))},e}(v.default.Component);T.propTypes=_,T.defaultProps=w,e.default=(0,x.bsClass)("form",T),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(23),b=n(g),x=r(66),_=(n(x),r(1084)),w=n(_),T=r(1085),M=n(T),S=r(12),E=r(38),k={componentClass:b.default,type:v.default.PropTypes.string,id:v.default.PropTypes.string,inputRef:v.default.PropTypes.func},C={componentClass:"input"},A={$bs_formGroup:v.default.PropTypes.object},P=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.context.$bs_formGroup,e=t&&t.controlId,r=this.props,n=r.componentClass,o=r.type,a=r.id,l=void 0===a?e:a,u=r.inputRef,c=r.className,p=r.bsSize,f=(0,s.default)(r,["componentClass","type","id","inputRef","className","bsSize"]),h=(0,S.splitBsProps)(f),d=h[0],m=h[1],g=void 0;if("file"!==o&&(g=(0,S.getClassSet)(d)),p){var b=E.SIZE_MAP[p]||p;g[(0,S.prefix)({bsClass:"input"},b)]=!0}return v.default.createElement(n,(0,i.default)({},m,{type:o,id:l,ref:u,className:(0,y.default)(c,g)}))},e}(v.default.Component);P.propTypes=k,P.defaultProps=C,P.contextTypes=A,P.Feedback=w.default,P.Static=M.default,e.default=(0,S.bsClass)("form-control",(0,S.bsSizes)([E.Size.SMALL,E.Size.LARGE],P)),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(6),i=n(o),a=r(5),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(278),b=n(g),x=r(12),_={bsRole:"feedback"},w={$bs_formGroup:v.default.PropTypes.object},T=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.getGlyph=function(t){switch(t){case"success":return"ok";case"warning":return"warning-sign";case"error":return"remove";default:return null}},e.prototype.renderDefaultFeedback=function(t,e,r,n){var o=this.getGlyph(t&&t.validationState);return o?v.default.createElement(b.default,(0,s.default)({},n,{glyph:o,className:(0,y.default)(e,r)})):null},e.prototype.render=function(){var t=this.props,e=t.className,r=t.children,n=(0,i.default)(t,["className","children"]),o=(0,x.splitBsProps)(n),a=o[0],l=o[1],u=(0,x.getClassSet)(a);if(!r)return this.renderDefaultFeedback(this.context.$bs_formGroup,e,u,l);var c=v.default.Children.only(r);return v.default.cloneElement(c,(0,s.default)({},l,{className:(0,y.default)(c.props.className,e,u)}))},e}(v.default.Component);T.defaultProps=_,T.contextTypes=w,e.default=(0,x.bsClass)("form-control-feedback",T),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(23),b=n(g),x=r(12),_={componentClass:b.default},w={componentClass:"p"},T=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,r=t.className,n=(0,s.default)(t,["componentClass","className"]),o=(0,x.splitBsProps)(n),a=o[0],l=o[1],u=(0,x.getClassSet)(a);return v.default.createElement(e,(0,i.default)({},l,{className:(0,y.default)(r,u)}))},e}(v.default.Component);T.propTypes=_,T.defaultProps=w,e.default=(0,x.bsClass)("form-control-static",T),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(12),b=r(38),x=r(50),_=n(x),w={controlId:v.default.PropTypes.string,validationState:v.default.PropTypes.oneOf(["success","warning","error",null])},T={$bs_formGroup:v.default.PropTypes.object.isRequired},M=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.getChildContext=function(){var t=this.props,e=t.controlId,r=t.validationState;return{$bs_formGroup:{controlId:e,validationState:r}}},e.prototype.hasFeedback=function(t){var e=this;return _.default.some(t,function(t){return"feedback"===t.props.bsRole||t.props.children&&e.hasFeedback(t.props.children)})},e.prototype.render=function(){var t=this.props,e=t.validationState,r=t.className,n=t.children,o=(0,s.default)(t,["validationState","className","children"]),a=(0,g.splitBsPropsAndOmit)(o,["controlId"]),l=a[0],u=a[1],c=(0,i.default)({},(0,g.getClassSet)(l),{"has-feedback":this.hasFeedback(n)});return e&&(c["has-"+e]=!0),v.default.createElement("div",(0,i.default)({},u,{className:(0,y.default)(r,c)}),n)},e}(v.default.Component);M.propTypes=w,M.childContextTypes=T,e.default=(0,g.bsClass)("form-group",(0,g.bsSizes)([b.Size.LARGE,b.Size.SMALL],M)),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(12),b=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,r=(0,s.default)(t,["className"]),n=(0,g.splitBsProps)(r),o=n[0],a=n[1],l=(0,g.getClassSet)(o);return v.default.createElement("span",(0,i.default)({},a,{className:(0,y.default)(e,l)}))},e}(v.default.Component);e.default=(0,g.bsClass)("help-block",b),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(12),b={responsive:v.default.PropTypes.bool,rounded:v.default.PropTypes.bool,circle:v.default.PropTypes.bool,thumbnail:v.default.PropTypes.bool},x={responsive:!1,rounded:!1,circle:!1,thumbnail:!1},_=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t,e=this.props,r=e.responsive,n=e.rounded,o=e.circle,a=e.thumbnail,l=e.className,u=(0,s.default)(e,["responsive","rounded","circle","thumbnail","className"]),c=(0,g.splitBsProps)(u),p=c[0],f=c[1],h=(t={},t[(0,g.prefix)(p,"responsive")]=r,t[(0,g.prefix)(p,"rounded")]=n,t[(0,g.prefix)(p,"circle")]=o,t[(0,g.prefix)(p,"thumbnail")]=a,t);return v.default.createElement("img",(0,i.default)({},f,{className:(0,y.default)(l,h)}))},e}(v.default.Component);_.propTypes=b,_.defaultProps=x,e.default=(0,g.bsClass)("img",_),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(1090),b=n(g),x=r(1091),_=n(x),w=r(12),T=r(38),M=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,r=(0,s.default)(t,["className"]),n=(0,w.splitBsProps)(r),o=n[0],a=n[1],l=(0,w.getClassSet)(o);return v.default.createElement("span",(0,i.default)({},a,{className:(0,y.default)(e,l)}))},e}(v.default.Component);M.Addon=b.default,M.Button=_.default,e.default=(0,w.bsClass)("input-group",(0,w.bsSizes)([T.Size.LARGE,T.Size.SMALL],M)),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(12),b=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,r=(0,s.default)(t,["className"]),n=(0,g.splitBsProps)(r),o=n[0],a=n[1],l=(0,g.getClassSet)(o);return v.default.createElement("span",(0,i.default)({},a,{className:(0,y.default)(e,l)}))},e}(v.default.Component);e.default=(0,g.bsClass)("input-group-addon",b),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(12),b=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,r=(0,s.default)(t,["className"]),n=(0,g.splitBsProps)(r),o=n[0],a=n[1],l=(0,g.getClassSet)(o);return v.default.createElement("span",(0,i.default)({},a,{className:(0,y.default)(e,l)}))},e}(v.default.Component);e.default=(0,g.bsClass)("input-group-btn",b),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=r(11),v=n(m),g=r(23),b=n(g),x=r(12),_={componentClass:b.default},w={componentClass:"div"},T=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,r=t.className,n=(0,s.default)(t,["componentClass","className"]),o=(0,x.splitBsProps)(n),a=o[0],l=o[1],u=(0,x.getClassSet)(a);return y.default.createElement(e,(0,i.default)({},l,{className:(0,v.default)(r,u)}))},e}(y.default.Component);T.propTypes=_,T.defaultProps=w,e.default=(0,x.bsClass)("jumbotron",T),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(118),i=n(o),a=r(5),s=n(a),l=r(6),u=n(l),c=r(2),p=n(c),f=r(4),h=n(f),d=r(3),y=n(d),m=r(11),v=n(m),g=r(1),b=n(g),x=r(12),_=r(38),w=function(t){function e(){return(0,p.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,y.default)(e,t),e.prototype.hasContent=function(t){var e=!1;return b.default.Children.forEach(t,function(t){e||(t||0===t)&&(e=!0)}),e},e.prototype.render=function(){var t=this.props,e=t.className,r=t.children,n=(0,u.default)(t,["className","children"]),o=(0,x.splitBsProps)(n),i=o[0],a=o[1],l=(0,s.default)({},(0,x.getClassSet)(i),{hidden:!this.hasContent(r)});return b.default.createElement("span",(0,s.default)({},a,{className:(0,v.default)(e,l)}),r)},e}(b.default.Component);e.default=(0,x.bsClass)("label",(0,x.bsStyles)([].concat((0,i.default)(_.State),[_.Style.DEFAULT,_.Style.PRIMARY]),_.Style.DEFAULT,w)),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){return t?S.default.some(t,function(t){return t.type!==w.default||t.props.href||t.props.onClick})?"div":"ul":"div"}e.__esModule=!0;var i=r(5),a=n(i),s=r(6),l=n(s),u=r(2),c=n(u),p=r(4),f=n(p),h=r(3),d=n(h),y=r(11),m=n(y),v=r(1),g=n(v),b=r(23),x=n(b),_=r(445),w=n(_),T=r(12),M=r(50),S=n(M),E={componentClass:x.default},k=function(t){function e(){return(0,c.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.children,r=t.componentClass,n=void 0===r?o(e):r,i=t.className,s=(0,l.default)(t,["children","componentClass","className"]),u=(0,T.splitBsProps)(s),c=u[0],p=u[1],f=(0,T.getClassSet)(c),h="ul"===n&&S.default.every(e,function(t){return t.type===w.default});return g.default.createElement(n,(0,a.default)({},p,{className:(0,m.default)(i,f)}),h?S.default.map(e,function(t){return(0,v.cloneElement)(t,{listItem:!0})}):e)},e}(g.default.Component);k.propTypes=E,e.default=(0,T.bsClass)("list-group",k),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(23),b=n(g),x=r(12),_={componentClass:b.default},w={componentClass:"div"},T=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,r=t.className,n=(0,s.default)(t,["componentClass","className"]),o=(0,x.splitBsProps)(n),a=o[0],l=o[1],u=(0,x.getClassSet)(a);return v.default.createElement(e,(0,i.default)({},l,{className:(0,y.default)(r,u)}))},e}(v.default.Component);T.propTypes=_,T.defaultProps=w,e.default=(0,x.bsClass)("media-body",T),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(23),b=n(g),x=r(12),_={componentClass:b.default},w={componentClass:"h4"},T=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,r=t.className,n=(0,s.default)(t,["componentClass","className"]),o=(0,x.splitBsProps)(n),a=o[0],l=o[1],u=(0,x.getClassSet)(a);return v.default.createElement(e,(0,i.default)({},l,{className:(0,y.default)(r,u)}))},e}(v.default.Component);T.propTypes=_,T.defaultProps=w,e.default=(0,x.bsClass)("media-heading",T),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(279),b=n(g),x=r(12),_={align:v.default.PropTypes.oneOf(["top","middle","bottom"])},w=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.align,r=t.className,n=(0,s.default)(t,["align","className"]),o=(0,x.splitBsProps)(n),a=o[0],l=o[1],u=(0,x.getClassSet)(a);return e&&(u[(0,x.prefix)(b.default.defaultProps,e)]=!0),v.default.createElement("div",(0,i.default)({},l,{className:(0,y.default)(r,u)}))},e}(v.default.Component);w.propTypes=_,e.default=(0,x.bsClass)("media-left",w),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(12),b=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,r=(0,s.default)(t,["className"]),n=(0,g.splitBsProps)(r),o=n[0],a=n[1],l=(0,g.getClassSet)(o);return v.default.createElement("ul",(0,i.default)({},a,{className:(0,y.default)(e,l)}))},e}(v.default.Component);e.default=(0,g.bsClass)("media-list",b),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(12),b=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,r=(0,s.default)(t,["className"]),n=(0,g.splitBsProps)(r),o=n[0],a=n[1],l=(0,g.getClassSet)(o);return v.default.createElement("li",(0,i.default)({},a,{className:(0,y.default)(e,l)}))},e}(v.default.Component);e.default=(0,g.bsClass)("media",b),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(279),b=n(g),x=r(12),_={align:v.default.PropTypes.oneOf(["top","middle","bottom"])},w=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.align,r=t.className,n=(0,s.default)(t,["align","className"]),o=(0,x.splitBsProps)(n),a=o[0],l=o[1],u=(0,x.getClassSet)(a);return e&&(u[(0,x.prefix)(b.default.defaultProps,e)]=!0),v.default.createElement("div",(0,i.default)({},l,{className:(0,y.default)(r,u)}))},e}(v.default.Component);w.propTypes=_,e.default=(0,x.bsClass)("media-right",w),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(202),b=n(g),x=r(65),_=n(x),w=r(12),T=r(34),M=n(T),S={active:v.default.PropTypes.bool,disabled:v.default.PropTypes.bool,divider:(0,b.default)(v.default.PropTypes.bool,function(t){var e=t.divider,r=t.children;return e&&r?new Error("Children will not be rendered for dividers"):null}),eventKey:v.default.PropTypes.any,header:v.default.PropTypes.bool,href:v.default.PropTypes.string,onClick:v.default.PropTypes.func,onSelect:v.default.PropTypes.func},E={divider:!1,disabled:!1,header:!1},k=function(t){function e(r,n){(0,u.default)(this,e);var o=(0,p.default)(this,t.call(this,r,n));return o.handleClick=o.handleClick.bind(o),o}return(0,h.default)(e,t),e.prototype.handleClick=function(t){var e=this.props,r=e.href,n=e.disabled,o=e.onSelect,i=e.eventKey;
r&&!n||t.preventDefault(),n||o&&o(i,t)},e.prototype.render=function(){var t=this.props,e=t.active,r=t.disabled,n=t.divider,o=t.header,a=t.onClick,l=t.className,u=t.style,c=(0,s.default)(t,["active","disabled","divider","header","onClick","className","style"]),p=(0,w.splitBsPropsAndOmit)(c,["eventKey","onSelect"]),f=p[0],h=p[1];return n?(h.children=void 0,v.default.createElement("li",(0,i.default)({},h,{role:"separator",className:(0,y.default)(l,"divider"),style:u}))):o?v.default.createElement("li",(0,i.default)({},h,{role:"heading",className:(0,y.default)(l,(0,w.prefix)(f,"header")),style:u})):v.default.createElement("li",{role:"presentation",className:(0,y.default)(l,{active:e,disabled:r}),style:u},v.default.createElement(_.default,(0,i.default)({},h,{role:"menuitem",tabIndex:"-1",onClick:(0,M.default)(a,this.handleClick)})))},e}(v.default.Component);k.propTypes=S,k.defaultProps=E,e.default=(0,w.bsClass)("dropdown",k),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(6),i=n(o),a=r(2),s=n(a),l=r(4),u=n(l),c=r(3),p=n(c),f=r(5),h=n(f),d=r(11),y=n(d),m=r(824),v=n(m),g=r(128),b=n(g),x=r(86),_=n(x),w=r(368),T=n(w),M=r(1),S=n(M),E=r(15),k=n(E),C=r(1201),A=n(C),P=r(481),L=n(P),D=r(23),O=n(D),I=r(194),R=n(I),N=r(446),j=n(N),F=r(1103),z=n(F),B=r(447),U=n(B),V=r(448),H=n(V),W=r(449),q=n(W),G=r(12),Y=r(34),X=n(Y),K=r(195),Z=n(K),J=r(38),$=(0,h.default)({},A.default.propTypes,z.default.propTypes,{backdrop:S.default.PropTypes.oneOf(["static",!0,!1]),keyboard:S.default.PropTypes.bool,animation:S.default.PropTypes.bool,dialogComponentClass:O.default,autoFocus:S.default.PropTypes.bool,enforceFocus:S.default.PropTypes.bool,restoreFocus:S.default.PropTypes.bool,show:S.default.PropTypes.bool,onHide:S.default.PropTypes.func,onEnter:S.default.PropTypes.func,onEntering:S.default.PropTypes.func,onEntered:S.default.PropTypes.func,onExit:S.default.PropTypes.func,onExiting:S.default.PropTypes.func,onExited:S.default.PropTypes.func,container:A.default.propTypes.container}),Q=(0,h.default)({},A.default.defaultProps,{animation:!0,dialogComponentClass:z.default}),tt={$bs_modal:S.default.PropTypes.shape({onHide:S.default.PropTypes.func})},et=function(t){function e(r,n){(0,s.default)(this,e);var o=(0,u.default)(this,t.call(this,r,n));return o.handleEntering=o.handleEntering.bind(o),o.handleExited=o.handleExited.bind(o),o.handleWindowResize=o.handleWindowResize.bind(o),o.handleDialogClick=o.handleDialogClick.bind(o),o.state={style:{}},o}return(0,p.default)(e,t),e.prototype.getChildContext=function(){return{$bs_modal:{onHide:this.props.onHide}}},e.prototype.componentWillUnmount=function(){this.handleExited()},e.prototype.handleEntering=function(){v.default.on(window,"resize",this.handleWindowResize),this.updateStyle()},e.prototype.handleExited=function(){v.default.off(window,"resize",this.handleWindowResize)},e.prototype.handleWindowResize=function(){this.updateStyle()},e.prototype.handleDialogClick=function(t){t.target===t.currentTarget&&this.props.onHide()},e.prototype.updateStyle=function(){if(_.default){var t=this._modal.getDialogElement(),e=t.scrollHeight,r=(0,b.default)(t),n=(0,L.default)(k.default.findDOMNode(this.props.container||r.body)),o=e>r.documentElement.clientHeight;this.setState({style:{paddingRight:n&&!o?(0,T.default)():void 0,paddingLeft:!n&&o?(0,T.default)():void 0}})}},e.prototype.render=function(){var t=this,r=this.props,n=r.backdrop,o=r.animation,a=r.show,s=r.dialogComponentClass,l=r.className,u=r.style,c=r.children,p=r.onEntering,f=r.onExited,d=(0,i.default)(r,["backdrop","animation","show","dialogComponentClass","className","style","children","onEntering","onExited"]),m=(0,Z.default)(d,A.default),v=m[0],g=m[1],b=a&&!o&&"in";return S.default.createElement(A.default,(0,h.default)({},v,{ref:function(e){t._modal=e},show:a,onEntering:(0,X.default)(p,this.handleEntering),onExited:(0,X.default)(f,this.handleExited),backdrop:n,backdropClassName:(0,y.default)((0,G.prefix)(d,"backdrop"),b),containerClassName:(0,G.prefix)(d,"open"),transition:o?R.default:void 0,dialogTransitionTimeout:e.TRANSITION_DURATION,backdropTransitionTimeout:e.BACKDROP_TRANSITION_DURATION}),S.default.createElement(s,(0,h.default)({},g,{style:(0,h.default)({},this.state.style,u),className:(0,y.default)(l,b),onClick:n===!0?this.handleDialogClick:null}),c))},e}(S.default.Component);et.propTypes=$,et.defaultProps=Q,et.childContextTypes=tt,et.Body=j.default,et.Header=H.default,et.Title=q.default,et.Footer=U.default,et.Dialog=z.default,et.TRANSITION_DURATION=300,et.BACKDROP_TRANSITION_DURATION=150,e.default=(0,G.bsClass)("modal",(0,G.bsSizes)([J.Size.LARGE,J.Size.SMALL],et)),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(12),b=r(38),x={dialogClassName:v.default.PropTypes.string},_=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t,e=this.props,r=e.dialogClassName,n=e.className,o=e.style,a=e.children,l=(0,s.default)(e,["dialogClassName","className","style","children"]),u=(0,g.splitBsProps)(l),c=u[0],p=u[1],f=(0,g.prefix)(c),h=(0,i.default)({display:"block"},o),d=(0,i.default)({},(0,g.getClassSet)(c),(t={},t[f]=!1,t[(0,g.prefix)(c,"dialog")]=!0,t));return v.default.createElement("div",(0,i.default)({},p,{tabIndex:"-1",role:"dialog",style:h,className:(0,y.default)(n,f)}),v.default.createElement("div",{className:(0,y.default)(r,d)},v.default.createElement("div",{className:(0,g.prefix)(c,"content"),role:"document"},a)))},e}(v.default.Component);_.propTypes=x,e.default=(0,g.bsClass)("modal",(0,g.bsSizes)([b.Size.LARGE,b.Size.SMALL],_)),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(6),i=n(o),a=r(2),s=n(a),l=r(4),u=n(l),c=r(3),p=n(c),f=r(5),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(193),b=n(g),x=r(195),_=n(x),w=r(50),T=n(w),M=(0,h.default)({},b.default.propTypes,{title:v.default.PropTypes.node.isRequired,noCaret:v.default.PropTypes.bool,active:v.default.PropTypes.bool,children:v.default.PropTypes.node}),S=function(t){function e(){return(0,s.default)(this,e),(0,u.default)(this,t.apply(this,arguments))}return(0,p.default)(e,t),e.prototype.isActive=function(t,e,r){var n=t.props,o=this;return!!(n.active||null!=e&&n.eventKey===e||r&&n.href===r)||(!!T.default.some(n.children,function(t){return o.isActive(t,e,r)})||n.active)},e.prototype.render=function(){var t=this,e=this.props,r=e.title,n=e.activeKey,o=e.activeHref,a=e.className,s=e.style,l=e.children,u=(0,i.default)(e,["title","activeKey","activeHref","className","style","children"]),c=this.isActive(this,n,o);delete u.active,delete u.eventKey;var p=(0,_.default)(u,b.default.ControlledComponent),f=p[0],d=p[1];return v.default.createElement(b.default,(0,h.default)({},f,{componentClass:"li",className:(0,y.default)(a,{active:c}),style:s}),v.default.createElement(b.default.Toggle,(0,h.default)({},d,{useAnchor:!0}),r),v.default.createElement(b.default.Menu,null,T.default.map(l,function(e){return v.default.cloneElement(e,{active:t.isActive(e,n,o)})})))},e}(v.default.Component);S.propTypes=M,e.default=S,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){var n=function(t,r){var n=r.$bs_navbar,o=void 0===n?{bsClass:"navbar"}:n,i=t.componentClass,s=t.className,u=t.pullRight,c=t.pullLeft,p=(0,l.default)(t,["componentClass","className","pullRight","pullLeft"]);return g.default.createElement(i,(0,a.default)({},p,{className:(0,m.default)(s,(0,O.prefix)(o,e),u&&(0,O.prefix)(o,"right"),c&&(0,O.prefix)(o,"left"))}))};return n.displayName=r,n.propTypes={componentClass:x.default,pullRight:g.default.PropTypes.bool,pullLeft:g.default.PropTypes.bool},n.defaultProps={componentClass:t,pullRight:!1,pullLeft:!1},n.contextTypes={$bs_navbar:v.PropTypes.shape({bsClass:v.PropTypes.string})},n}e.__esModule=!0;var i=r(5),a=n(i),s=r(6),l=n(s),u=r(2),c=n(u),p=r(4),f=n(p),h=r(3),d=n(h),y=r(11),m=n(y),v=r(1),g=n(v),b=r(23),x=n(b),_=r(208),w=n(_),T=r(444),M=n(T),S=r(452),E=n(S),k=r(1106),C=n(k),A=r(1107),P=n(A),L=r(1108),D=n(L),O=r(12),I=r(38),R=r(34),N=n(R),j={fixedTop:g.default.PropTypes.bool,fixedBottom:g.default.PropTypes.bool,staticTop:g.default.PropTypes.bool,inverse:g.default.PropTypes.bool,fluid:g.default.PropTypes.bool,componentClass:x.default,onToggle:g.default.PropTypes.func,onSelect:g.default.PropTypes.func,collapseOnSelect:g.default.PropTypes.bool,expanded:g.default.PropTypes.bool,role:g.default.PropTypes.string},F={componentClass:"nav",fixedTop:!1,fixedBottom:!1,staticTop:!1,inverse:!1,fluid:!1,collapseOnSelect:!1},z={$bs_navbar:v.PropTypes.shape({bsClass:v.PropTypes.string,expanded:v.PropTypes.bool,onToggle:v.PropTypes.func.isRequired,onSelect:v.PropTypes.func})},B=function(t){function e(r,n){(0,c.default)(this,e);var o=(0,f.default)(this,t.call(this,r,n));return o.handleToggle=o.handleToggle.bind(o),o.handleCollapse=o.handleCollapse.bind(o),o}return(0,d.default)(e,t),e.prototype.getChildContext=function(){var t=this.props,e=t.bsClass,r=t.expanded,n=t.onSelect,o=t.collapseOnSelect;return{$bs_navbar:{bsClass:e,expanded:r,onToggle:this.handleToggle,onSelect:(0,N.default)(n,o?this.handleCollapse:null)}}},e.prototype.handleCollapse=function(){var t=this.props,e=t.onToggle,r=t.expanded;r&&e(!1)},e.prototype.handleToggle=function(){var t=this.props,e=t.onToggle,r=t.expanded;e(!r)},e.prototype.render=function(){var t,e=this.props,r=e.componentClass,n=e.fixedTop,o=e.fixedBottom,i=e.staticTop,s=e.inverse,u=e.fluid,c=e.className,p=e.children,f=(0,l.default)(e,["componentClass","fixedTop","fixedBottom","staticTop","inverse","fluid","className","children"]),h=(0,O.splitBsPropsAndOmit)(f,["expanded","onToggle","onSelect","collapseOnSelect"]),d=h[0],y=h[1];void 0===y.role&&"nav"!==r&&(y.role="navigation"),s&&(d.bsStyle=I.Style.INVERSE);var v=(0,a.default)({},(0,O.getClassSet)(d),(t={},t[(0,O.prefix)(d,"fixed-top")]=n,t[(0,O.prefix)(d,"fixed-bottom")]=o,t[(0,O.prefix)(d,"static-top")]=i,t));return g.default.createElement(r,(0,a.default)({},y,{className:(0,m.default)(c,v)}),g.default.createElement(M.default,{fluid:u},p))},e}(g.default.Component);B.propTypes=j,B.defaultProps=F,B.childContextTypes=z,(0,O.bsClass)("navbar",B);var U=(0,w.default)(B,{expanded:"onToggle"});U.Brand=E.default,U.Header=P.default,U.Toggle=D.default,U.Collapse=C.default,U.Form=o("div","form","NavbarForm"),U.Text=o("p","text","NavbarText"),U.Link=o("a","link","NavbarLink"),e.default=(0,O.bsStyles)([I.Style.DEFAULT,I.Style.INVERSE],I.Style.DEFAULT,U),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(1),y=n(d),m=r(277),v=n(m),g=r(12),b={$bs_navbar:d.PropTypes.shape({bsClass:d.PropTypes.string,expanded:d.PropTypes.bool})},x=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.children,r=(0,s.default)(t,["children"]),n=this.context.$bs_navbar||{bsClass:"navbar"},o=(0,g.prefix)(n,"collapse");return y.default.createElement(v.default,(0,i.default)({in:n.expanded},r),y.default.createElement("div",{className:o},e))},e}(y.default.Component);x.contextTypes=b,e.default=x,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(12),b={$bs_navbar:v.default.PropTypes.shape({bsClass:v.default.PropTypes.string})},x=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,r=(0,s.default)(t,["className"]),n=this.context.$bs_navbar||{bsClass:"navbar"},o=(0,g.prefix)(n,"header");return v.default.createElement("div",(0,i.default)({},r,{className:(0,y.default)(e,o)}))},e}(v.default.Component);x.contextTypes=b,e.default=x,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(12),b=r(34),x=n(b),_={onClick:m.PropTypes.func,children:m.PropTypes.node},w={$bs_navbar:m.PropTypes.shape({bsClass:m.PropTypes.string,expanded:m.PropTypes.bool,onToggle:m.PropTypes.func.isRequired})},T=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.onClick,r=t.className,n=t.children,o=(0,s.default)(t,["onClick","className","children"]),a=this.context.$bs_navbar||{bsClass:"navbar"},l=(0,i.default)({type:"button"},o,{onClick:(0,x.default)(e,a.onToggle),className:(0,y.default)(r,(0,g.prefix)(a,"toggle"),!a.expanded&&"collapsed")});return n?v.default.createElement("button",l,n):v.default.createElement("button",l,v.default.createElement("span",{className:"sr-only"},"Toggle navigation"),v.default.createElement("span",{className:"icon-bar"}),v.default.createElement("span",{className:"icon-bar"}),v.default.createElement("span",{className:"icon-bar"}))},e}(v.default.Component);T.propTypes=_,T.contextTypes=w,e.default=T,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){return Array.isArray(e)?e.indexOf(t)>=0:t===e}e.__esModule=!0;var i=r(6),a=n(i),s=r(2),l=n(s),u=r(4),c=n(u),p=r(3),f=n(p),h=r(5),d=n(h),y=r(129),m=n(y),v=r(1),g=n(v),b=r(15),x=n(b),_=r(66),w=(n(_),r(453)),T=n(w),M=r(34),S=n(M),E=g.default.PropTypes.oneOf(["click","hover","focus"]),k=(0,d.default)({},T.default.propTypes,{trigger:g.default.PropTypes.oneOfType([E,g.default.PropTypes.arrayOf(E)]),delay:g.default.PropTypes.number,delayShow:g.default.PropTypes.number,delayHide:g.default.PropTypes.number,defaultOverlayShown:g.default.PropTypes.bool,overlay:g.default.PropTypes.node.isRequired,onBlur:g.default.PropTypes.func,onClick:g.default.PropTypes.func,onFocus:g.default.PropTypes.func,onMouseOut:g.default.PropTypes.func,onMouseOver:g.default.PropTypes.func,target:g.default.PropTypes.oneOf([null]),onHide:g.default.PropTypes.oneOf([null]),show:g.default.PropTypes.oneOf([null])}),C={defaultOverlayShown:!1,trigger:["hover","focus"]},A=function(t){function e(r,n){(0,l.default)(this,e);var o=(0,c.default)(this,t.call(this,r,n));return o.handleToggle=o.handleToggle.bind(o),o.handleDelayedShow=o.handleDelayedShow.bind(o),o.handleDelayedHide=o.handleDelayedHide.bind(o),o.handleHide=o.handleHide.bind(o),o.handleMouseOver=function(t){return o.handleMouseOverOut(o.handleDelayedShow,t)},o.handleMouseOut=function(t){return o.handleMouseOverOut(o.handleDelayedHide,t)},o._mountNode=null,o.state={show:r.defaultOverlayShown},o}return(0,f.default)(e,t),e.prototype.componentDidMount=function(){this._mountNode=document.createElement("div"),this.renderOverlay()},e.prototype.componentDidUpdate=function(){this.renderOverlay()},e.prototype.componentWillUnmount=function(){x.default.unmountComponentAtNode(this._mountNode),this._mountNode=null,clearTimeout(this._hoverShowDelay),clearTimeout(this._hoverHideDelay)},e.prototype.handleToggle=function(){this.state.show?this.hide():this.show()},e.prototype.handleDelayedShow=function(){var t=this;if(null!=this._hoverHideDelay)return clearTimeout(this._hoverHideDelay),void(this._hoverHideDelay=null);if(!this.state.show&&null==this._hoverShowDelay){var e=null!=this.props.delayShow?this.props.delayShow:this.props.delay;return e?void(this._hoverShowDelay=setTimeout(function(){t._hoverShowDelay=null,t.show()},e)):void this.show()}},e.prototype.handleDelayedHide=function(){var t=this;if(null!=this._hoverShowDelay)return clearTimeout(this._hoverShowDelay),void(this._hoverShowDelay=null);if(this.state.show&&null==this._hoverHideDelay){var e=null!=this.props.delayHide?this.props.delayHide:this.props.delay;return e?void(this._hoverHideDelay=setTimeout(function(){t._hoverHideDelay=null,t.hide()},e)):void this.hide()}},e.prototype.handleMouseOverOut=function(t,e){var r=e.currentTarget,n=e.relatedTarget||e.nativeEvent.toElement;n&&(n===r||(0,m.default)(r,n))||t(e)},e.prototype.handleHide=function(){this.hide()},e.prototype.show=function(){this.setState({show:!0})},e.prototype.hide=function(){this.setState({show:!1})},e.prototype.makeOverlay=function(t,e){return g.default.createElement(T.default,(0,d.default)({},e,{show:this.state.show,onHide:this.handleHide,target:this}),t)},e.prototype.renderOverlay=function(){x.default.unstable_renderSubtreeIntoContainer(this,this._overlay,this._mountNode)},e.prototype.render=function(){var t=this.props,e=t.trigger,r=t.overlay,n=t.children,i=t.onBlur,s=t.onClick,l=t.onFocus,u=t.onMouseOut,c=t.onMouseOver,p=(0,a.default)(t,["trigger","overlay","children","onBlur","onClick","onFocus","onMouseOut","onMouseOver"]);delete p.delay,delete p.delayShow,delete p.delayHide,delete p.defaultOverlayShown;var f=g.default.Children.only(n),h=f.props,d={};return this.state.show&&(d["aria-describedby"]=r.props.id),d.onClick=(0,S.default)(h.onClick,s),o("click",e)&&(d.onClick=(0,S.default)(d.onClick,this.handleToggle)),o("hover",e)&&(d.onMouseOver=(0,S.default)(h.onMouseOver,c,this.handleMouseOver),d.onMouseOut=(0,S.default)(h.onMouseOut,u,this.handleMouseOut)),o("focus",e)&&(d.onFocus=(0,S.default)(h.onFocus,l,this.handleDelayedShow),d.onBlur=(0,S.default)(h.onBlur,i,this.handleDelayedHide)),this._overlay=this.makeOverlay(r,p),(0,v.cloneElement)(f,d)},e}(g.default.Component);A.propTypes=k,A.defaultProps=C,e.default=A,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(12),b=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,r=t.children,n=(0,s.default)(t,["className","children"]),o=(0,g.splitBsProps)(n),a=o[0],l=o[1],u=(0,g.getClassSet)(a);return v.default.createElement("div",(0,i.default)({},l,{className:(0,y.default)(e,u)}),v.default.createElement("h1",null,r))},e}(v.default.Component);e.default=(0,g.bsClass)("page-header",b),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(454),i=n(o),a=r(1131),s=n(a);e.default=s.default.wrapper(i.default,"`<PageItem>`","`<Pager.Item>`"),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(454),b=n(g),x=r(12),_=r(34),w=n(_),T=r(50),M=n(T),S={onSelect:v.default.PropTypes.func},E=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.onSelect,r=t.className,n=t.children,o=(0,s.default)(t,["onSelect","className","children"]),a=(0,x.splitBsProps)(o),l=a[0],u=a[1],c=(0,x.getClassSet)(l);return v.default.createElement("ul",(0,i.default)({},u,{className:(0,y.default)(r,c)}),M.default.map(n,function(t){return(0,m.cloneElement)(t,{onSelect:(0,w.default)(t.props.onSelect,e)})}))},e}(v.default.Component);E.propTypes=S,E.Item=b.default,e.default=(0,x.bsClass)("pager",E),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(6),i=n(o),a=r(5),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(23),b=n(g),x=r(1114),_=n(x),w=r(12),T={activePage:v.default.PropTypes.number,items:v.default.PropTypes.number,maxButtons:v.default.PropTypes.number,boundaryLinks:v.default.PropTypes.bool,ellipsis:v.default.PropTypes.oneOfType([v.default.PropTypes.bool,v.default.PropTypes.node]),first:v.default.PropTypes.oneOfType([v.default.PropTypes.bool,v.default.PropTypes.node]),last:v.default.PropTypes.oneOfType([v.default.PropTypes.bool,v.default.PropTypes.node]),prev:v.default.PropTypes.oneOfType([v.default.PropTypes.bool,v.default.PropTypes.node]),next:v.default.PropTypes.oneOfType([v.default.PropTypes.bool,v.default.PropTypes.node]),onSelect:v.default.PropTypes.func,buttonComponentClass:b.default},M={activePage:1,items:1,maxButtons:0,first:!1,last:!1,prev:!1,next:!1,ellipsis:!0,boundaryLinks:!1},S=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.renderPageButtons=function(t,e,r,n,o,i){var a=[],l=void 0,u=void 0;r&&r<e?(l=Math.max(Math.min(t-Math.floor(r/2,10),e-r+1),1),u=l+r-1):(l=1,u=e);for(var c=l;c<=u;++c)a.push(v.default.createElement(_.default,(0,s.default)({},i,{key:c,eventKey:c,active:c===t}),c));return o&&n&&l>1&&(l>2&&a.unshift(v.default.createElement(_.default,{key:"ellipsisFirst",disabled:!0,componentClass:i.componentClass},v.default.createElement("span",{"aria-label":"More"},o===!0?"…":o))),a.unshift(v.default.createElement(_.default,(0,s.default)({},i,{key:1,eventKey:1,active:!1}),"1"))),o&&u<e&&((!n||u<e-1)&&a.push(v.default.createElement(_.default,{key:"ellipsis",disabled:!0,componentClass:i.componentClass},v.default.createElement("span",{"aria-label":"More"},o===!0?"…":o))),n&&a.push(v.default.createElement(_.default,(0,s.default)({},i,{key:e,eventKey:e,active:!1}),e))),a},e.prototype.render=function(){var t=this.props,e=t.activePage,r=t.items,n=t.maxButtons,o=t.boundaryLinks,a=t.ellipsis,l=t.first,u=t.last,c=t.prev,p=t.next,f=t.onSelect,h=t.buttonComponentClass,d=t.className,m=(0,i.default)(t,["activePage","items","maxButtons","boundaryLinks","ellipsis","first","last","prev","next","onSelect","buttonComponentClass","className"]),g=(0,w.splitBsProps)(m),b=g[0],x=g[1],T=(0,w.getClassSet)(b),M={onSelect:f,componentClass:h};return v.default.createElement("ul",(0,s.default)({},x,{className:(0,y.default)(d,T)}),l&&v.default.createElement(_.default,(0,s.default)({},M,{eventKey:1,disabled:1===e}),v.default.createElement("span",{"aria-label":"First"},l===!0?"«":l)),c&&v.default.createElement(_.default,(0,s.default)({},M,{eventKey:e-1,disabled:1===e}),v.default.createElement("span",{"aria-label":"Previous"},c===!0?"‹":c)),this.renderPageButtons(e,r,n,o,a,M),p&&v.default.createElement(_.default,(0,s.default)({},M,{eventKey:e+1,disabled:e>=r}),v.default.createElement("span",{"aria-label":"Next"},p===!0?"›":p)),u&&v.default.createElement(_.default,(0,s.default)({},M,{eventKey:r,disabled:e>=r}),v.default.createElement("span",{"aria-label":"Last"},u===!0?"»":u)))},e}(v.default.Component);S.propTypes=T,S.defaultProps=M,e.default=(0,w.bsClass)("pagination",S),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(23),b=n(g),x=r(65),_=n(x),w=r(34),T=n(w),M={componentClass:b.default,className:v.default.PropTypes.string,eventKey:v.default.PropTypes.any,onSelect:v.default.PropTypes.func,disabled:v.default.PropTypes.bool,active:v.default.PropTypes.bool,onClick:v.default.PropTypes.func},S={componentClass:_.default,active:!1,disabled:!1},E=function(t){function e(r,n){(0,u.default)(this,e);var o=(0,p.default)(this,t.call(this,r,n));return o.handleClick=o.handleClick.bind(o),o}return(0,h.default)(e,t),e.prototype.handleClick=function(t){var e=this.props,r=e.disabled,n=e.onSelect,o=e.eventKey;r||n&&n(o,t)},e.prototype.render=function(){var t=this.props,e=t.componentClass,r=t.active,n=t.disabled,o=t.onClick,a=t.className,l=t.style,u=(0,s.default)(t,["componentClass","active","disabled","onClick","className","style"]);return e===_.default&&delete u.eventKey,delete u.onSelect,v.default.createElement("li",{className:(0,y.default)(a,{active:r,disabled:n}),style:l},v.default.createElement(e,(0,i.default)({},u,{disabled:n,onClick:(0,T.default)(o,this.handleClick)})))},e}(v.default.Component);E.propTypes=M,E.defaultProps=S,e.default=E,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(118),i=n(o),a=r(6),s=n(a),l=r(5),u=n(l),c=r(2),p=n(c),f=r(4),h=n(f),d=r(3),y=n(d),m=r(11),v=n(m),g=r(1),b=n(g),x=r(277),_=n(x),w=r(12),T=r(38),M={collapsible:b.default.PropTypes.bool,onSelect:b.default.PropTypes.func,header:b.default.PropTypes.node,id:b.default.PropTypes.oneOfType([b.default.PropTypes.string,b.default.PropTypes.number]),footer:b.default.PropTypes.node,defaultExpanded:b.default.PropTypes.bool,expanded:b.default.PropTypes.bool,eventKey:b.default.PropTypes.any,headerRole:b.default.PropTypes.string,panelRole:b.default.PropTypes.string,onEnter:b.default.PropTypes.func,onEntering:b.default.PropTypes.func,onEntered:b.default.PropTypes.func,onExit:b.default.PropTypes.func,onExiting:b.default.PropTypes.func,onExited:b.default.PropTypes.func},S={defaultExpanded:!1},E=function(t){function e(r,n){(0,p.default)(this,e);var o=(0,h.default)(this,t.call(this,r,n));return o.handleClickTitle=o.handleClickTitle.bind(o),o.state={expanded:o.props.defaultExpanded},o}return(0,y.default)(e,t),e.prototype.handleClickTitle=function(t){t.persist(),t.selected=!0,this.props.onSelect?this.props.onSelect(this.props.eventKey,t):t.preventDefault(),t.selected&&this.setState({expanded:!this.state.expanded})},e.prototype.renderHeader=function(t,e,r,n,o,i){var a=(0,w.prefix)(i,"title");return t?b.default.isValidElement(e)?(0,g.cloneElement)(e,{className:(0,v.default)(e.props.className,a),children:this.renderAnchor(e.props.children,r,n,o)}):b.default.createElement("h4",{role:"presentation",className:a},this.renderAnchor(e,r,n,o)):b.default.isValidElement(e)?(0,g.cloneElement)(e,{className:(0,v.default)(e.props.className,a)}):e},e.prototype.renderAnchor=function(t,e,r,n){return b.default.createElement("a",{role:r,href:e&&"#"+e,onClick:this.handleClickTitle,"aria-controls":e,"aria-expanded":n,"aria-selected":n,className:n?null:"collapsed"},t)},e.prototype.renderCollapsibleBody=function(t,e,r,n,o,i){return b.default.createElement(_.default,(0,u.default)({in:e},i),b.default.createElement("div",{id:t,role:r,className:(0,w.prefix)(o,"collapse"),"aria-hidden":!e},this.renderBody(n,o)))},e.prototype.renderBody=function(t,e){function r(){o.length&&(n.push(b.default.createElement("div",{key:n.length,className:i},o)),o=[])}var n=[],o=[],i=(0,w.prefix)(e,"body");return b.default.Children.toArray(t).forEach(function(t){return b.default.isValidElement(t)&&t.props.fill?(r(),void n.push((0,g.cloneElement)(t,{fill:void 0}))):void o.push(t)}),r(),n},e.prototype.render=function(){var t=this.props,e=t.collapsible,r=t.header,n=t.id,o=t.footer,i=t.expanded,a=t.headerRole,l=t.panelRole,c=t.className,p=t.children,f=t.onEnter,h=t.onEntering,d=t.onEntered,y=t.onExit,m=t.onExiting,g=t.onExited,x=(0,s.default)(t,["collapsible","header","id","footer","expanded","headerRole","panelRole","className","children","onEnter","onEntering","onEntered","onExit","onExiting","onExited"]),_=(0,w.splitBsPropsAndOmit)(x,["defaultExpanded","eventKey","onSelect"]),T=_[0],M=_[1],S=null!=i?i:this.state.expanded,E=(0,w.getClassSet)(T);return b.default.createElement("div",(0,u.default)({},M,{className:(0,v.default)(c,E),id:e?null:n}),r&&b.default.createElement("div",{className:(0,w.prefix)(T,"heading")},this.renderHeader(e,r,n,a,S,T)),e?this.renderCollapsibleBody(n,S,l,p,T,{onEnter:f,onEntering:h,onEntered:d,onExit:y,onExiting:m,onExited:g}):this.renderBody(p,T),o&&b.default.createElement("div",{className:(0,w.prefix)(T,"footer")},o))},e}(b.default.Component);E.propTypes=M,E.defaultProps=S,e.default=(0,w.bsClass)("panel",(0,w.bsStyles)([].concat((0,i.default)(T.State),[T.Style.DEFAULT,T.Style.PRIMARY]),T.Style.DEFAULT,E)),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(203),b=n(g),x=r(12),_={id:(0,b.default)(v.default.PropTypes.oneOfType([v.default.PropTypes.string,v.default.PropTypes.number])),placement:v.default.PropTypes.oneOf(["top","right","bottom","left"]),positionTop:v.default.PropTypes.oneOfType([v.default.PropTypes.number,v.default.PropTypes.string]),positionLeft:v.default.PropTypes.oneOfType([v.default.PropTypes.number,v.default.PropTypes.string]),arrowOffsetTop:v.default.PropTypes.oneOfType([v.default.PropTypes.number,v.default.PropTypes.string]),arrowOffsetLeft:v.default.PropTypes.oneOfType([v.default.PropTypes.number,v.default.PropTypes.string]),title:v.default.PropTypes.node},w={placement:"right"},T=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t,e=this.props,r=e.placement,n=e.positionTop,o=e.positionLeft,a=e.arrowOffsetTop,l=e.arrowOffsetLeft,u=e.title,c=e.className,p=e.style,f=e.children,h=(0,s.default)(e,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","title","className","style","children"]),d=(0,x.splitBsProps)(h),m=d[0],g=d[1],b=(0,i.default)({},(0,x.getClassSet)(m),(t={},t[r]=!0,t)),_=(0,i.default)({display:"block",top:n,left:o},p),w={top:a,left:l};return v.default.createElement("div",(0,i.default)({},g,{role:"tooltip",className:(0,y.default)(c,b),style:_}),v.default.createElement("div",{className:"arrow",style:w}),u&&v.default.createElement("h3",{className:(0,x.prefix)(m,"title")},u),v.default.createElement("div",{className:(0,x.prefix)(m,"content")},f))},e}(v.default.Component);T.propTypes=_,T.defaultProps=w,e.default=(0,x.bsClass)("popover",T),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){var n=t[e];if(!n)return null;var o=null;return _.default.Children.forEach(n,function(t){if(!o&&t.type!==A){var e=_.default.isValidElement(t)?t.type.displayName||t.type.name||t.type:t;o=new Error("Children of "+r+" can contain only ProgressBar "+("components. Found "+e+"."))}}),o}function i(t,e,r){var n=(t-e)/(r-e)*100;return Math.round(n*E)/E}e.__esModule=!0;var a=r(118),s=n(a),l=r(5),u=n(l),c=r(6),p=n(c),f=r(2),h=n(f),d=r(4),y=n(d),m=r(3),v=n(m),g=r(11),b=n(g),x=r(1),_=n(x),w=r(12),T=r(38),M=r(50),S=n(M),E=1e3,k={min:x.PropTypes.number,now:x.PropTypes.number,max:x.PropTypes.number,label:x.PropTypes.node,srOnly:x.PropTypes.bool,striped:x.PropTypes.bool,active:x.PropTypes.bool,children:o,isChild:x.PropTypes.bool},C={min:0,max:100,active:!1,isChild:!1,srOnly:!1,striped:!1},A=function(t){function e(){return(0,h.default)(this,e),(0,y.default)(this,t.apply(this,arguments))}return(0,v.default)(e,t),e.prototype.renderProgressBar=function(t){var e,r=t.min,n=t.now,o=t.max,a=t.label,s=t.srOnly,l=t.striped,c=t.active,f=t.className,h=t.style,d=(0,p.default)(t,["min","now","max","label","srOnly","striped","active","className","style"]),y=(0,w.splitBsProps)(d),m=y[0],v=y[1],g=(0,u.default)({},(0,w.getClassSet)(m),(e={active:c},e[(0,w.prefix)(m,"striped")]=c||l,e));return _.default.createElement("div",(0,u.default)({},v,{role:"progressbar",className:(0,b.default)(f,g),style:(0,u.default)({width:i(n,r,o)+"%"},h),"aria-valuenow":n,"aria-valuemin":r,"aria-valuemax":o}),s?_.default.createElement("span",{className:"sr-only"},a):a)},e.prototype.render=function(){var t=this.props,e=t.isChild,r=(0,p.default)(t,["isChild"]);if(e)return this.renderProgressBar(r);var n=r.min,o=r.now,i=r.max,a=r.label,s=r.srOnly,l=r.striped,c=r.active,f=r.bsClass,h=r.bsStyle,d=r.className,y=r.children,m=(0,p.default)(r,["min","now","max","label","srOnly","striped","active","bsClass","bsStyle","className","children"]);
return _.default.createElement("div",(0,u.default)({},m,{className:(0,b.default)(d,"progress")}),y?S.default.map(y,function(t){return(0,x.cloneElement)(t,{isChild:!0})}):this.renderProgressBar({min:n,now:o,max:i,label:a,srOnly:s,striped:l,active:c,bsClass:f,bsStyle:h}))},e}(_.default.Component);A.propTypes=k,A.defaultProps=C,e.default=(0,w.bsClass)("progress-bar",(0,w.bsStyles)((0,s.default)(T.State),A)),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(66),b=(n(g),r(12)),x={inline:v.default.PropTypes.bool,disabled:v.default.PropTypes.bool,validationState:v.default.PropTypes.oneOf(["success","warning","error",null]),inputRef:v.default.PropTypes.func},_={inline:!1,disabled:!1},w=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.inline,r=t.disabled,n=t.validationState,o=t.inputRef,a=t.className,l=t.style,u=t.children,c=(0,s.default)(t,["inline","disabled","validationState","inputRef","className","style","children"]),p=(0,b.splitBsProps)(c),f=p[0],h=p[1],d=v.default.createElement("input",(0,i.default)({},h,{ref:o,type:"radio",disabled:r}));if(e){var m,g=(m={},m[(0,b.prefix)(f,"inline")]=!0,m.disabled=r,m);return v.default.createElement("label",{className:(0,y.default)(a,g),style:l},d,u)}var x=(0,i.default)({},(0,b.getClassSet)(f),{disabled:r});return n&&(x["has-"+n]=!0),v.default.createElement("div",{className:(0,y.default)(a,x),style:l},v.default.createElement("label",null,d,u))},e}(v.default.Component);w.propTypes=x,w.defaultProps=_,e.default=(0,b.bsClass)("radio",w),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(66),b=(n(g),r(12)),x={children:m.PropTypes.element.isRequired,a16by9:m.PropTypes.bool,a4by3:m.PropTypes.bool},_={a16by9:!1,a4by3:!1},w=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t,e=this.props,r=e.a16by9,n=e.a4by3,o=e.className,a=e.children,l=(0,s.default)(e,["a16by9","a4by3","className","children"]),u=(0,b.splitBsProps)(l),c=u[0],p=u[1],f=(0,i.default)({},(0,b.getClassSet)(c),(t={},t[(0,b.prefix)(c,"16by9")]=r,t[(0,b.prefix)(c,"4by3")]=n,t));return v.default.createElement("div",{className:(0,y.default)(f)},(0,m.cloneElement)(a,(0,i.default)({},p,{className:(0,y.default)(o,(0,b.prefix)(c,"item"))})))},e}(v.default.Component);w.propTypes=x,w.defaultProps=_,e.default=(0,b.bsClass)("embed-responsive",w),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(23),b=n(g),x=r(12),_={componentClass:b.default},w={componentClass:"div"},T=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,r=t.className,n=(0,s.default)(t,["componentClass","className"]),o=(0,x.splitBsProps)(n),a=o[0],l=o[1],u=(0,x.getClassSet)(a);return v.default.createElement(e,(0,i.default)({},l,{className:(0,y.default)(r,u)}))},e}(v.default.Component);T.propTypes=_,T.defaultProps=w,e.default=(0,x.bsClass)("row",T),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(6),i=n(o),a=r(2),s=n(a),l=r(4),u=n(l),c=r(3),p=n(c),f=r(5),h=n(f),d=r(1),y=n(d),m=r(160),v=n(m),g=r(193),b=n(g),x=r(1122),_=n(x),w=r(195),T=n(w),M=(0,h.default)({},b.default.propTypes,{bsStyle:y.default.PropTypes.string,bsSize:y.default.PropTypes.string,href:y.default.PropTypes.string,onClick:y.default.PropTypes.func,title:y.default.PropTypes.node.isRequired,toggleLabel:y.default.PropTypes.string,children:y.default.PropTypes.node}),S=function(t){function e(){return(0,s.default)(this,e),(0,u.default)(this,t.apply(this,arguments))}return(0,p.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.bsSize,r=t.bsStyle,n=t.title,o=t.toggleLabel,a=t.children,s=(0,i.default)(t,["bsSize","bsStyle","title","toggleLabel","children"]),l=(0,T.default)(s,b.default.ControlledComponent),u=l[0],c=l[1];return y.default.createElement(b.default,(0,h.default)({},u,{bsSize:e,bsStyle:r}),y.default.createElement(v.default,(0,h.default)({},c,{disabled:s.disabled,bsSize:e,bsStyle:r}),n),y.default.createElement(_.default,{"aria-label":o||n,bsSize:e,bsStyle:r}),y.default.createElement(b.default.Menu,null,a))},e}(y.default.Component);S.propTypes=M,S.Toggle=_.default,e.default=S,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(2),s=n(a),l=r(4),u=n(l),c=r(3),p=n(c),f=r(1),h=n(f),d=r(443),y=n(d),m=function(t){function e(){return(0,s.default)(this,e),(0,u.default)(this,t.apply(this,arguments))}return(0,p.default)(e,t),e.prototype.render=function(){return h.default.createElement(y.default,(0,i.default)({},this.props,{useAnchor:!1,noCaret:!1}))},e}(h.default.Component);m.defaultProps=y.default.defaultProps,e.default=m,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(2),i=n(o),a=r(4),s=n(a),l=r(3),u=n(l),c=r(5),p=n(c),f=r(1),h=n(f),d=r(280),y=n(d),m=r(281),v=n(m),g=r(456),b=n(g),x=(0,p.default)({},b.default.propTypes,{disabled:h.default.PropTypes.bool,title:h.default.PropTypes.node,tabClassName:h.default.PropTypes.string}),_=function(t){function e(){return(0,i.default)(this,e),(0,s.default)(this,t.apply(this,arguments))}return(0,u.default)(e,t),e.prototype.render=function(){var t=(0,p.default)({},this.props);return delete t.title,delete t.disabled,delete t.tabClassName,h.default.createElement(b.default,t)},e}(h.default.Component);_.propTypes=x,_.Container=y.default,_.Content=v.default,_.Pane=b.default,e.default=_,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(12),b={striped:v.default.PropTypes.bool,bordered:v.default.PropTypes.bool,condensed:v.default.PropTypes.bool,hover:v.default.PropTypes.bool,responsive:v.default.PropTypes.bool},x={bordered:!1,condensed:!1,hover:!1,responsive:!1,striped:!1},_=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t,e=this.props,r=e.striped,n=e.bordered,o=e.condensed,a=e.hover,l=e.responsive,u=e.className,c=(0,s.default)(e,["striped","bordered","condensed","hover","responsive","className"]),p=(0,g.splitBsProps)(c),f=p[0],h=p[1],d=(0,i.default)({},(0,g.getClassSet)(f),(t={},t[(0,g.prefix)(f,"striped")]=r,t[(0,g.prefix)(f,"bordered")]=n,t[(0,g.prefix)(f,"condensed")]=o,t[(0,g.prefix)(f,"hover")]=a,t)),m=v.default.createElement("table",(0,i.default)({},h,{className:(0,y.default)(u,d)}));return l?v.default.createElement("div",{className:(0,g.prefix)(f,"responsive")},m):m},e}(v.default.Component);_.propTypes=b,_.defaultProps=x,e.default=(0,g.bsClass)("table",_),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=void 0;return L.default.forEach(t,function(t){null==e&&(e=t.props.eventKey)}),e}e.__esModule=!0;var i=r(5),a=n(i),s=r(6),l=n(s),u=r(2),c=n(u),p=r(4),f=n(p),h=r(3),d=n(h),y=r(1),m=n(y),v=r(203),g=n(v),b=r(208),x=n(b),_=r(450),w=n(_),T=r(451),M=n(T),S=r(280),E=n(S),k=r(281),C=n(k),A=r(12),P=r(50),L=n(P),D=E.default.ControlledComponent,O={activeKey:m.default.PropTypes.any,bsStyle:m.default.PropTypes.oneOf(["tabs","pills"]),animation:m.default.PropTypes.bool,id:(0,g.default)(m.default.PropTypes.oneOfType([m.default.PropTypes.string,m.default.PropTypes.number])),onSelect:m.default.PropTypes.func,mountOnEnter:m.default.PropTypes.bool,unmountOnExit:m.default.PropTypes.bool},I={bsStyle:"tabs",animation:!0,mountOnEnter:!1,unmountOnExit:!1},R=function(t){function e(){return(0,c.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.renderTab=function(t){var e=t.props,r=e.title,n=e.eventKey,o=e.disabled,i=e.tabClassName;return null==r?null:m.default.createElement(M.default,{eventKey:n,disabled:o,className:i},r)},e.prototype.render=function(){var t=this.props,e=t.id,r=t.onSelect,n=t.animation,i=t.mountOnEnter,s=t.unmountOnExit,u=t.bsClass,c=t.className,p=t.style,f=t.children,h=t.activeKey,d=void 0===h?o(f):h,y=(0,l.default)(t,["id","onSelect","animation","mountOnEnter","unmountOnExit","bsClass","className","style","children","activeKey"]);return m.default.createElement(D,{id:e,activeKey:d,onSelect:r,className:c,style:p},m.default.createElement("div",null,m.default.createElement(w.default,(0,a.default)({},y,{role:"tablist"}),L.default.map(f,this.renderTab)),m.default.createElement(C.default,{bsClass:u,animation:n,mountOnEnter:i,unmountOnExit:s},f)))},e}(m.default.Component);R.propTypes=O,R.defaultProps=I,(0,A.bsClass)("tab",R),e.default=(0,x.default)(R,{activeKey:"onSelect"}),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(65),b=n(g),x=r(12),_={src:v.default.PropTypes.string,alt:v.default.PropTypes.string,href:v.default.PropTypes.string},w=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.src,r=t.alt,n=t.className,o=t.children,a=(0,s.default)(t,["src","alt","className","children"]),l=(0,x.splitBsProps)(a),u=l[0],c=l[1],p=c.href?b.default:"div",f=(0,x.getClassSet)(u);return v.default.createElement(p,(0,i.default)({},c,{className:(0,y.default)(n,f)}),v.default.createElement("img",{src:e,alt:r}),o&&v.default.createElement("div",{className:"caption"},o))},e}(v.default.Component);w.propTypes=_,e.default=(0,x.bsClass)("thumbnail",w),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(203),b=n(g),x=r(12),_={id:(0,b.default)(v.default.PropTypes.oneOfType([v.default.PropTypes.string,v.default.PropTypes.number])),placement:v.default.PropTypes.oneOf(["top","right","bottom","left"]),positionTop:v.default.PropTypes.oneOfType([v.default.PropTypes.number,v.default.PropTypes.string]),positionLeft:v.default.PropTypes.oneOfType([v.default.PropTypes.number,v.default.PropTypes.string]),arrowOffsetTop:v.default.PropTypes.oneOfType([v.default.PropTypes.number,v.default.PropTypes.string]),arrowOffsetLeft:v.default.PropTypes.oneOfType([v.default.PropTypes.number,v.default.PropTypes.string])},w={placement:"right"},T=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t,e=this.props,r=e.placement,n=e.positionTop,o=e.positionLeft,a=e.arrowOffsetTop,l=e.arrowOffsetLeft,u=e.className,c=e.style,p=e.children,f=(0,s.default)(e,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","className","style","children"]),h=(0,x.splitBsProps)(f),d=h[0],m=h[1],g=(0,i.default)({},(0,x.getClassSet)(d),(t={},t[r]=!0,t)),b=(0,i.default)({top:n,left:o},c),_={top:a,left:l};return v.default.createElement("div",(0,i.default)({},m,{role:"tooltip",className:(0,y.default)(u,g),style:b}),v.default.createElement("div",{className:(0,x.prefix)(d,"arrow"),style:_}),v.default.createElement("div",{className:(0,x.prefix)(d,"inner")},p))},e}(v.default.Component);T.propTypes=_,T.defaultProps=w,e.default=(0,x.bsClass)("tooltip",T),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(5),i=n(o),a=r(6),s=n(a),l=r(2),u=n(l),c=r(4),p=n(c),f=r(3),h=n(f),d=r(11),y=n(d),m=r(1),v=n(m),g=r(12),b=r(38),x=function(t){function e(){return(0,u.default)(this,e),(0,p.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,r=(0,s.default)(t,["className"]),n=(0,g.splitBsProps)(r),o=n[0],a=n[1],l=(0,g.getClassSet)(o);return v.default.createElement("div",(0,i.default)({},a,{className:(0,y.default)(e,l)}))},e}(v.default.Component);e.default=(0,g.bsClass)("well",(0,g.bsSizes)([b.Size.LARGE,b.Size.SMALL],x)),t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return(0,s.default)(function(t,r,n){var o=void 0;return e.every(function(e){return!!u.default.some(t.children,function(t){return t.props.bsRole===e})||(o=e,!1)}),o?new Error("(children) "+n+" - Missing a required child with bsRole: "+(o+". "+n+" must have at least one child of each of ")+("the following bsRoles: "+e.join(", "))):null})}function i(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return(0,s.default)(function(t,r,n){var o=void 0;return e.every(function(e){var r=u.default.filter(t.children,function(t){return t.props.bsRole===e});return!(r.length>1)||(o=e,!1)}),o?new Error("(children) "+n+" - Duplicate children detected of bsRole: "+(o+". Only one child each allowed with the following ")+("bsRoles: "+e.join(", "))):null})}e.__esModule=!0,e.requiredRoles=o,e.exclusiveRoles=i;var a=r(204),s=n(a),l=r(50),u=n(l)},function(t,e){"use strict";function r(){var t=document.createElement("div"),e=t.style;"AnimationEvent"in window||delete a.animationend.animation,"TransitionEvent"in window||delete a.transitionend.transition;for(var r in a){var n=a[r];for(var o in n)if(o in e){s.push(n[o]);break}}}function n(t,e,r){t.addEventListener(e,r,!1)}function o(t,e,r){t.removeEventListener(e,r,!1)}e.__esModule=!0;var i=!("undefined"==typeof window||!window.document||!window.document.createElement),a={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},s=[];i&&r();var l={addEndEventListener:function(t,e){return 0===s.length?void window.setTimeout(e,0):void s.forEach(function(r){n(t,r,e)})},removeEndEventListener:function(t,e){0!==s.length&&s.forEach(function(r){o(t,r,e)})}};e.default=l,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){var n=void 0;"object"===("undefined"==typeof t?"undefined":(0,h.default)(t))?n=t.message:(n=t+" is deprecated. Use "+e+" instead.",r&&(n+="\nYou can read more about it at "+r)),y[n]||(y[n]=!0)}function i(){y={}}e.__esModule=!0;var a=r(2),s=n(a),l=r(4),u=n(l),c=r(3),p=n(c),f=r(68),h=n(f);e._resetWarned=i;var d=r(66),y=(n(d),{});o.wrapper=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(t){function e(){return(0,s.default)(this,e),(0,u.default)(this,t.apply(this,arguments))}return(0,p.default)(e,t),e.prototype.componentWillMount=function(){if(o.apply(void 0,r),t.prototype.componentWillMount){for(var e,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];(e=t.prototype.componentWillMount).call.apply(e,[this].concat(i))}},e}(t)},e.default=o},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}e.__esModule=!0,e.ValidComponentChildren=e.createChainedFunction=e.bootstrapUtils=void 0;var i=r(12),a=o(i),s=r(34),l=n(s),u=r(50),c=n(u);e.bootstrapUtils=a,e.createChainedFunction=l.default,e.ValidComponentChildren=c.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){return(0,a.default)(t,e,r)}Object.defineProperty(e,"__esModule",{value:!0});var i=r(213),a=n(i);e.default=o},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.passiveOption=e.detachEvent=e.attachEvent=e.removeEventListener=e.addEventListener=e.canUseDOM=void 0;var o=r(1198),i=n(o),a=e.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement);e.addEventListener=a&&"addEventListener"in window,e.removeEventListener=a&&"removeEventListener"in window,e.attachEvent=a&&"attachEvent"in window,e.detachEvent=a&&"detachEvent"in window,e.passiveOption=function(){var t=null;return function(){if(null!==t)return t;var e=!1;try{window.addEventListener("test",null,(0,i.default)({},"passive",{get:function(){e=!0}}))}catch(t){}return t=e,e}()}()},60,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i=r(1),a=n(i),s=r(1208),l=n(s),u=r(299),c=n(u),p=r(23),f=n(p),h=r(477),d=n(h),y=r(1202),m=n(y),v=r(162),g=n(v),b=r(480),x=n(b),_=r(1205),w=n(_),T=r(86),M=n(T),S=r(362),E=n(S),k=r(129),C=n(k),A=r(298),P=n(A),L=new m.default,D=a.default.createClass({displayName:"Modal",propTypes:o({},d.default.propTypes,{show:a.default.PropTypes.bool,container:a.default.PropTypes.oneOfType([c.default,a.default.PropTypes.func]),onShow:a.default.PropTypes.func,onHide:a.default.PropTypes.func,backdrop:a.default.PropTypes.oneOfType([a.default.PropTypes.bool,a.default.PropTypes.oneOf(["static"])]),renderBackdrop:a.default.PropTypes.func,onEscapeKeyUp:a.default.PropTypes.func,onBackdropClick:a.default.PropTypes.func,backdropStyle:a.default.PropTypes.object,backdropClassName:a.default.PropTypes.string,containerClassName:a.default.PropTypes.string,keyboard:a.default.PropTypes.bool,transition:f.default,dialogTransitionTimeout:a.default.PropTypes.number,backdropTransitionTimeout:a.default.PropTypes.number,autoFocus:a.default.PropTypes.bool,enforceFocus:a.default.PropTypes.bool,restoreFocus:a.default.PropTypes.bool,onEnter:a.default.PropTypes.func,onEntering:a.default.PropTypes.func,onEntered:a.default.PropTypes.func,onExit:a.default.PropTypes.func,onExiting:a.default.PropTypes.func,onExited:a.default.PropTypes.func,manager:a.default.PropTypes.object.isRequired}),getDefaultProps:function(){var t=function(){};return{show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,onHide:t,manager:L,renderBackdrop:function(t){return a.default.createElement("div",t)}}},omitProps:function(t,e){var r=Object.keys(t),n={};return r.map(function(r){Object.prototype.hasOwnProperty.call(e,r)||(n[r]=t[r])}),n},getInitialState:function(){return{exited:!this.props.show}},render:function(){var t=this.props,e=t.show,r=t.container,n=t.children,s=t.transition,l=t.backdrop,u=t.dialogTransitionTimeout,c=t.className,p=t.style,f=t.onExit,h=t.onExiting,y=t.onEnter,m=t.onEntering,v=t.onEntered,g=a.default.Children.only(n),b=this.omitProps(this.props,D.propTypes),x=e||s&&!this.state.exited;if(!x)return null;var _=g.props,w=_.role,T=_.tabIndex;return void 0!==w&&void 0!==T||(g=(0,i.cloneElement)(g,{role:void 0===w?"document":w,tabIndex:null==T?"-1":T})),s&&(g=a.default.createElement(s,{transitionAppear:!0,unmountOnExit:!0,in:e,timeout:u,onExit:f,onExiting:h,onExited:this.handleHidden,onEnter:y,onEntering:m,onEntered:v},g)),a.default.createElement(d.default,{ref:this.setMountNode,container:r},a.default.createElement("div",o({ref:"modal",role:w||"dialog"},b,{style:p,className:c}),l&&this.renderBackdrop(),g))},renderBackdrop:function t(){var e=this,r=this.props,n=r.backdropStyle,o=r.backdropClassName,t=r.renderBackdrop,i=r.transition,s=r.backdropTransitionTimeout,l=function(t){return e.backdrop=t},u=a.default.createElement("div",{ref:l,style:this.props.backdropStyle,className:this.props.backdropClassName,onClick:this.handleBackdropClick});return i&&(u=a.default.createElement(i,{transitionAppear:!0,in:this.props.show,timeout:s},t({ref:l,style:n,className:o,onClick:this.handleBackdropClick}))),u},componentWillReceiveProps:function(t){t.show?this.setState({exited:!1}):t.transition||this.setState({exited:!0})},componentWillUpdate:function(t){!this.props.show&&t.show&&this.checkForFocus()},componentDidMount:function(){this.props.show&&this.onShow()},componentDidUpdate:function(t){var e=this.props.transition;!t.show||this.props.show||e?!t.show&&this.props.show&&this.onShow():this.onHide()},componentWillUnmount:function(){var t=this.props,e=t.show,r=t.transition;(e||r&&!this.state.exited)&&this.onHide()},onShow:function(){var t=(0,g.default)(this),e=(0,P.default)(this.props.container,t.body);this.props.manager.add(this,e,this.props.containerClassName),this._onDocumentKeyupListener=(0,x.default)(t,"keyup",this.handleDocumentKeyUp),this._onFocusinListener=(0,w.default)(this.enforceFocus),this.focus(),this.props.onShow&&this.props.onShow()},onHide:function(){this.props.manager.remove(this),this._onDocumentKeyupListener.remove(),this._onFocusinListener.remove(),this.props.restoreFocus&&this.restoreLastFocus()},setMountNode:function(t){this.mountNode=t?t.getMountNode():t},handleHidden:function(){if(this.setState({exited:!0}),this.onHide(),this.props.onExited){var t;(t=this.props).onExited.apply(t,arguments)}},handleBackdropClick:function(t){t.target===t.currentTarget&&(this.props.onBackdropClick&&this.props.onBackdropClick(t),this.props.backdrop===!0&&this.props.onHide())},handleDocumentKeyUp:function(t){this.props.keyboard&&27===t.keyCode&&this.isTopModal()&&(this.props.onEscapeKeyUp&&this.props.onEscapeKeyUp(t),this.props.onHide())},checkForFocus:function(){M.default&&(this.lastFocus=(0,E.default)())},focus:function(){var t=this.props.autoFocus,e=this.getDialogElement(),r=(0,E.default)((0,g.default)(this)),n=r&&(0,C.default)(e,r);e&&t&&!n&&(this.lastFocus=r,e.hasAttribute("tabIndex")||(e.setAttribute("tabIndex",-1),(0,l.default)(!1,'The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to "-1".')),e.focus())},restoreLastFocus:function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},enforceFocus:function t(){var t=this.props.enforceFocus;if(t&&this.isMounted()&&this.isTopModal()){var e=(0,E.default)((0,g.default)(this)),r=this.getDialogElement();r&&r!==e&&!(0,C.default)(r,e)&&r.focus()}},getDialogElement:function(){var t=this.refs.modal;return t&&t.lastChild},isTopModal:function(){return this.props.manager.isTopModal(this)}});D.Manager=m.default,e.default=D,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){var r=-1;return t.some(function(t,n){if(e(t,n))return r=n,!0}),r}function a(t,e){return i(t,function(t){return t.modals.indexOf(e)!==-1})}function s(t,e){var r={overflow:"hidden"};t.style={overflow:e.style.overflow,paddingRight:e.style.paddingRight},t.overflowing&&(r.paddingRight=parseInt((0,p.default)(e,"paddingRight")||0,10)+(0,y.default)()+"px"),(0,p.default)(e,r)}function l(t,e){var r=t.style;Object.keys(r).forEach(function(t){return e.style[t]=r[t]})}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=r(179),p=n(c),f=r(821),h=n(f),d=r(368),y=n(d),m=r(481),v=n(m),g=r(1207),b=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.hideSiblingNodes,n=void 0===r||r,i=e.handleContainerOverflow,a=void 0===i||i;o(this,t),this.hideSiblingNodes=n,this.handleContainerOverflow=a,this.modals=[],this.containers=[],this.data=[]}return u(t,[{key:"add",value:function(t,e,r){var n=this.modals.indexOf(t),o=this.containers.indexOf(e);if(n!==-1)return n;if(n=this.modals.length,this.modals.push(t),this.hideSiblingNodes&&(0,g.hideSiblings)(e,t.mountNode),o!==-1)return this.data[o].modals.push(t),n;var i={modals:[t],classes:r?r.split(/\s+/):[],overflowing:(0,v.default)(e)};return this.handleContainerOverflow&&s(i,e),i.classes.forEach(h.default.addClass.bind(null,e)),this.containers.push(e),this.data.push(i),n}},{key:"remove",value:function(t){var e=this.modals.indexOf(t);if(e!==-1){var r=a(this.data,t),n=this.data[r],o=this.containers[r];n.modals.splice(n.modals.indexOf(t),1),this.modals.splice(e,1),0===n.modals.length?(n.classes.forEach(h.default.removeClass.bind(null,o)),this.handleContainerOverflow&&l(n,o),this.hideSiblingNodes&&(0,g.showSiblings)(o,t.mountNode),this.containers.splice(r,1),this.data.splice(r,1)):this.hideSiblingNodes&&(0,g.ariaHidden)(!1,n.modals[n.modals.length-1].mountNode)}}},{key:"isTopModal",value:function(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}]),t}();e.default=b,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=r(1),p=n(c),f=r(477),h=n(f),d=r(1204),y=n(d),m=r(478),v=n(m),g=r(23),b=n(g),x=function(t){function e(t,r){i(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));return n.state={exited:!t.show},n.onHiddenListener=n.handleHidden.bind(n),n}return s(e,t),u(e,[{key:"componentWillReceiveProps",value:function(t){t.show?this.setState({exited:!1}):t.transition||this.setState({exited:!0})}},{key:"render",value:function(){var t=this.props,e=t.container,r=t.containerPadding,n=t.target,i=t.placement,a=t.shouldUpdatePosition,s=t.rootClose,l=t.children,u=t.transition,c=o(t,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]),f=c.show||u&&!this.state.exited;if(!f)return null;var d=l;if(d=p.default.createElement(y.default,{container:e,containerPadding:r,target:n,placement:i,shouldUpdatePosition:a},d),u){var m=c.onExit,g=c.onExiting,b=c.onEnter,x=c.onEntering,_=c.onEntered;d=p.default.createElement(u,{in:c.show,transitionAppear:!0,onExit:m,onExiting:g,onExited:this.onHiddenListener,onEnter:b,onEntering:x,onEntered:_},d)}return s&&(d=p.default.createElement(v.default,{onRootClose:c.onHide},d)),p.default.createElement(h.default,{container:e},d)}},{key:"handleHidden",value:function(){if(this.setState({exited:!0}),this.props.onExited){var t;(t=this.props).onExited.apply(t,arguments)}}}]),e}(p.default.Component);x.propTypes=l({},h.default.propTypes,y.default.propTypes,{show:p.default.PropTypes.bool,rootClose:p.default.PropTypes.bool,onHide:function(t){var e=p.default.PropTypes.func;t.rootClose&&(e=e.isRequired);for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return e.apply(void 0,[t].concat(n))},transition:b.default,onEnter:p.default.PropTypes.func,onEntering:p.default.PropTypes.func,onEntered:p.default.PropTypes.func,onExit:p.default.PropTypes.func,onExiting:p.default.PropTypes.func,onExited:p.default.PropTypes.func}),e.default=x,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=r(11),p=n(c),f=r(1),h=n(f),d=r(15),y=n(d),m=r(299),v=n(m),g=r(1206),b=n(g),x=r(298),_=n(x),w=r(162),T=n(w),M=function(t){function e(t,r){i(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));return n.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},n._needsFlush=!1,n._lastTarget=null,n}return s(e,t),u(e,[{key:"componentDidMount",value:function(){this.updatePosition(this.getTarget())}},{key:"componentWillReceiveProps",value:function(){this._needsFlush=!0}},{key:"componentDidUpdate",value:function(t){this._needsFlush&&(this._needsFlush=!1,this.maybeUpdatePosition(this.props.placement!==t.placement))}},{key:"render",value:function(){var t=this.props,e=t.children,r=t.className,n=o(t,["children","className"]),i=this.state,a=i.positionLeft,s=i.positionTop,u=o(i,["positionLeft","positionTop"]);delete n.target,delete n.container,delete n.containerPadding,delete n.shouldUpdatePosition;var c=h.default.Children.only(e);return(0,f.cloneElement)(c,l({},n,u,{positionLeft:a,positionTop:s,className:(0,p.default)(r,c.props.className),style:l({},c.props.style,{left:a,top:s})}))}},{key:"getTarget",value:function(){var t=this.props.target,e="function"==typeof t?t():t;return e&&y.default.findDOMNode(e)||null}},{key:"maybeUpdatePosition",value:function(t){var e=this.getTarget();(this.props.shouldUpdatePosition||e!==this._lastTarget||t)&&this.updatePosition(e)}},{key:"updatePosition",value:function(t){if(this._lastTarget=t,!t)return void this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null});var e=y.default.findDOMNode(this),r=(0,_.default)(this.props.container,(0,T.default)(this).body);this.setState((0,b.default)(this.props.placement,e,t,r,this.props.containerPadding))}}]),e}(h.default.Component);
M.propTypes={target:h.default.PropTypes.oneOfType([v.default,h.default.PropTypes.func]),container:h.default.PropTypes.oneOfType([v.default,h.default.PropTypes.func]),containerPadding:h.default.PropTypes.number,placement:h.default.PropTypes.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:h.default.PropTypes.bool},M.displayName="Position",M.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1},e.default=M,t.exports=e.default},function(t,e){"use strict";function r(t){var e=!document.addEventListener,r=void 0;return e?(document.attachEvent("onfocusin",t),r=function(){return document.detachEvent("onfocusin",t)}):(document.addEventListener("focus",t,!0),r=function(){return document.removeEventListener("focus",t,!0)}),{remove:r}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=void 0,r=void 0,n=void 0;if("BODY"===t.tagName)e=window.innerWidth,r=window.innerHeight,n=(0,h.default)((0,y.default)(t).documentElement)||(0,h.default)(t);else{var o=(0,u.default)(t);e=o.width,r=o.height,n=(0,h.default)(t)}return{width:e,height:r,scroll:n}}function i(t,e,r,n){var i=o(r),a=i.scroll,s=i.height,l=t-n-a,u=t+n-a+e;return l<0?-l:u>s?s-u:0}function a(t,e,r,n){var i=o(r),a=i.width,s=t-n,l=t+n+e;return s<0?-s:l>a?a-l:0}function s(t,e,r,n,o){var s="BODY"===n.tagName?(0,u.default)(r):(0,p.default)(r,n),l=(0,u.default)(e),c=l.height,f=l.width,h=void 0,d=void 0,y=void 0,m=void 0;if("left"===t||"right"===t){d=s.top+(s.height-c)/2,h="left"===t?s.left-f:s.left+s.width;var v=i(d,c,n,o);d+=v,m=50*(1-2*v/c)+"%",y=void 0}else{if("top"!==t&&"bottom"!==t)throw new Error('calcOverlayPosition(): No such placement of "'+t+'" found.');h=s.left+(s.width-f)/2,d="top"===t?s.top-c:s.top+s.height;var g=a(h,f,n,o);h+=g,y=50*(1-2*g/f)+"%",m=void 0}return{positionLeft:h,positionTop:d,arrowOffsetLeft:y,arrowOffsetTop:m}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var l=r(364),u=n(l),c=r(827),p=n(c),f=r(365),h=n(f),d=r(162),y=n(d);t.exports=e.default},function(t,e){"use strict";function r(t,e){e&&(t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden"))}function n(t,e){s(t,e,function(t){return r(!0,t)})}function o(t,e){s(t,e,function(t){return r(!1,t)})}Object.defineProperty(e,"__esModule",{value:!0}),e.ariaHidden=r,e.hideSiblings=n,e.showSiblings=o;var i=["template","script","style"],a=function(t){var e=t.nodeType,r=t.tagName;return 1===e&&i.indexOf(r.toLowerCase())===-1},s=function(t,e,r){e=[].concat(e),[].forEach.call(t.children,function(t){e.indexOf(t)===-1&&a(t)&&r(t)})}},60,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";var n=r(115),o=r(494),i=r(114),a=r(49),s=(r(16),r(19),{create:function(t){if("object"!=typeof t||!t||Array.isArray(t))return t;if(i.isValidElement(t))return t;1===t.nodeType?n("0"):void 0;var e=[];for(var r in t)o.mapIntoWithKeyPrefixInternal(t[r],e,r,a.thatReturnsArgument);return e}});t.exports=s},,,,function(t,e,r){"use strict";var n=r(1251),o={getChildMapping:function(t,e){return t?n(t):t},mergeChildMappings:function(t,e){function r(r){return e.hasOwnProperty(r)?e[r]:t[r]}t=t||{},e=e||{};var n={},o=[];for(var i in t)e.hasOwnProperty(i)?o.length&&(n[i]=o,o=[]):o.push(i);var a,s={};for(var l in e){if(n.hasOwnProperty(l))for(a=0;a<n[l].length;a++){var u=n[l][a];s[n[l][a]]=r(u)}s[l]=r(l)}for(a=0;a<o.length;a++)s[o[a]]=r(o[a]);return s}};t.exports=o},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=r(27),s=r(113),l=r(1248),u=r(49),c=function(t){function e(){var r,i,s;n(this,e);for(var u=arguments.length,c=Array(u),p=0;p<u;p++)c[p]=arguments[p];return r=i=o(this,t.call.apply(t,[this].concat(c))),i.state={children:l.getChildMapping(i.props.children)},i.performAppear=function(t){i.currentlyTransitioningKeys[t]=!0;var e=i.refs[t];e.componentWillAppear?e.componentWillAppear(i._handleDoneAppearing.bind(i,t)):i._handleDoneAppearing(t)},i._handleDoneAppearing=function(t){var e=i.refs[t];e.componentDidAppear&&e.componentDidAppear(),delete i.currentlyTransitioningKeys[t];var r=l.getChildMapping(i.props.children);r&&r.hasOwnProperty(t)||i.performLeave(t)},i.performEnter=function(t){i.currentlyTransitioningKeys[t]=!0;var e=i.refs[t];e.componentWillEnter?e.componentWillEnter(i._handleDoneEntering.bind(i,t)):i._handleDoneEntering(t)},i._handleDoneEntering=function(t){var e=i.refs[t];e.componentDidEnter&&e.componentDidEnter(),delete i.currentlyTransitioningKeys[t];var r=l.getChildMapping(i.props.children);r&&r.hasOwnProperty(t)||i.performLeave(t)},i.performLeave=function(t){i.currentlyTransitioningKeys[t]=!0;var e=i.refs[t];e.componentWillLeave?e.componentWillLeave(i._handleDoneLeaving.bind(i,t)):i._handleDoneLeaving(t)},i._handleDoneLeaving=function(t){var e=i.refs[t];e.componentDidLeave&&e.componentDidLeave(),delete i.currentlyTransitioningKeys[t];var r=l.getChildMapping(i.props.children);r&&r.hasOwnProperty(t)?i.performEnter(t):i.setState(function(e){var r=a({},e.children);return delete r[t],{children:r}})},s=r,o(i,s)}return i(e,t),e.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},e.prototype.componentDidMount=function(){var t=this.state.children;for(var e in t)t[e]&&this.performAppear(e)},e.prototype.componentWillReceiveProps=function(t){var e=l.getChildMapping(t.children),r=this.state.children;this.setState({children:l.mergeChildMappings(r,e)});var n;for(n in e){var o=r&&r.hasOwnProperty(n);!e[n]||o||this.currentlyTransitioningKeys[n]||this.keysToEnter.push(n)}for(n in r){var i=e&&e.hasOwnProperty(n);!r[n]||i||this.currentlyTransitioningKeys[n]||this.keysToLeave.push(n)}},e.prototype.componentDidUpdate=function(){var t=this.keysToEnter;this.keysToEnter=[],t.forEach(this.performEnter);var e=this.keysToLeave;this.keysToLeave=[],e.forEach(this.performLeave)},e.prototype.render=function(){var t=[];for(var e in this.state.children){var r=this.state.children[e];r&&t.push(s.cloneElement(this.props.childFactory(r),{ref:e,key:e}))}var n=a({},this.props);return delete n.transitionLeave,delete n.transitionName,delete n.transitionAppear,delete n.transitionEnter,delete n.childFactory,delete n.transitionLeaveTimeout,delete n.transitionEnterTimeout,delete n.transitionAppearTimeout,delete n.component,s.createElement(this.props.component,n,t)},e}(s.Component);c.displayName="ReactTransitionGroup",c.propTypes={component:s.PropTypes.any,childFactory:s.PropTypes.func},c.defaultProps={component:"span",childFactory:u.thatReturnsArgument},t.exports=c},,function(t,e,r){(function(e){"use strict";function n(t,e,r,n){if(t&&"object"==typeof t){var o=t,i=void 0===o[r];i&&null!=e&&(o[r]=e)}}function o(t,e){if(null==t)return t;var r={};return i(t,n,r),r}var i=(r(493),r(499));r(19);t.exports=o}).call(e,r(192))},,function(t,e,r){"use strict";function n(t,e,r){return!o(t.props,e)||!o(t.state,r)}var o=r(153);t.exports=n},function(t,e){"use strict";function r(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}e.__esModule=!0,e.default=r},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(1259),i=n(o),a=r(1257),s=n(a),l=function(t){var e=(0,s.default)(t);return function(r,n){return(0,i.default)(!1,e,t,r,n)}};e.default=l},function(t,e){"use strict";e.__esModule=!0;var r=function(t){return Boolean(t&&t.prototype&&"object"==typeof t.prototype.isReactComponent)};e.default=r},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(1256),i=n(o),a=function(t){return Boolean(!("function"!=typeof t||(0,i.default)(t)||t.defaultProps||t.contextTypes))};e.default=a},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=r(1),l=r(500),u=n(l),c=r(1255),p=n(c),f=function(t){return function(e){var r=(0,p.default)(e);return function(e){function n(){return o(this,n),i(this,e.apply(this,arguments))}return a(n,e),n.prototype.shouldComponentUpdate=function(e){return t(this.props,e)},n.prototype.render=function(){return r(this.props)},n}(s.Component)}};e.default=(0,u.default)(f,"shouldUpdate")},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i=r(1),a=n(i),s=function(t,e,r,n,i){if(!t&&e)return r(i?o({},n,{children:i}):n);var s=r;return i?a.default.createElement(s,n,i):a.default.createElement(s,n)};e.default=s},,,,,,,,,,function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){function r(n,o){function i(t,r){var n=f.getLinkName(t),i=this.props[o[t]];n&&s(this.props,n)&&!i&&(i=this.props[n].requestChange);for(var a=arguments.length,l=Array(a>2?a-2:0),u=2;u<a;u++)l[u-2]=arguments[u];e(this,t,i,r,l)}function s(t,e){return void 0!==t[e]}function u(t){var e={};return f.each(t,function(t,r){g.indexOf(r)===-1&&(e[r]=t)}),e}var p,h=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],d=n.displayName||n.name||"Component",y=f.getType(n).propTypes,m=f.isReactComponent(n),v=Object.keys(o),g=["valueLink","checkedLink"].concat(v.map(f.defaultKey));p=f.uncontrolledPropTypes(o,y,d),(0,c.default)(m||!h.length,"[uncontrollable] stateless function components cannot pass through methods because they have no associated instances. Check component: "+d+", attempting to pass through methods: "+h.join(", ")),h=f.transform(h,function(t,e){t[e]=function(){var t;return(t=this.refs.inner)[e].apply(t,arguments)}},{});var b=l.default.createClass(a({displayName:"Uncontrolled("+d+")",mixins:t,propTypes:p},h,{componentWillMount:function(){var t=this,e=this.props;this._values={},v.forEach(function(r){t._values[r]=e[f.defaultKey(r)]})},componentWillReceiveProps:function(t){var e=this,r=this.props;v.forEach(function(n){void 0===f.getValue(t,n)&&void 0!==f.getValue(r,n)&&(e._values[n]=t[f.defaultKey(n)])})},getControlledInstance:function(){return this.refs.inner},render:function(){var t=this,e={},r=u(this.props);return f.each(o,function(r,n){var o=f.getLinkName(n),a=t.props[n];o&&!s(t.props,n)&&s(t.props,o)&&(a=t.props[o].value),e[n]=void 0!==a?a:t._values[n],e[r]=i.bind(t,n)}),e=a({},r,e,{ref:m?"inner":null}),l.default.createElement(n,e)}}));return b.ControlledComponent=n,b.deferControlTo=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments[2];return r(t,a({},o,e),n)},b}return r}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};e.default=i;var s=r(1),l=o(s),u=r(31),c=o(u),p=r(1270),f=n(p);t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,r){var n={};return n}function i(t){return g[0]>=15||0===g[0]&&g[1]>=13?t:t.type}function a(t,e){var r=l(e);return r&&!s(t,e)&&s(t,r)?t[r].value:t[e]}function s(t,e){return void 0!==t[e]}function l(t){return"value"===t?"valueLink":"checked"===t?"checkedLink":null}function u(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function c(t,e,r){return function(){for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];e&&e.call.apply(e,[t].concat(o)),r&&r.call.apply(r,[t].concat(o))}}function p(t,e,r){return f(t,e.bind(null,r=r||(Array.isArray(t)?[]:{}))),r}function f(t,e,r){if(Array.isArray(t))return t.forEach(e,r);for(var n in t)h(t,n)&&e.call(r,t[n],n,t)}function h(t,e){return!!t&&Object.prototype.hasOwnProperty.call(t,e)}function d(t){return!!(t&&t.prototype&&t.prototype.isReactComponent)}e.__esModule=!0,e.version=void 0,e.uncontrolledPropTypes=o,e.getType=i,e.getValue=a,e.getLinkName=l,e.defaultKey=u,e.chain=c,e.transform=p,e.each=f,e.has=h,e.isReactComponent=d;var y=r(1),m=n(y),v=r(31),g=(n(v),e.version=m.default.version.split(".").map(parseFloat))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}}]);